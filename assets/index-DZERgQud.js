(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}})();var vN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bN={exports:{}},Zx={},xN={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=Symbol.for("react.element"),nq=Symbol.for("react.portal"),aq=Symbol.for("react.fragment"),oq=Symbol.for("react.strict_mode"),sq=Symbol.for("react.profiler"),lq=Symbol.for("react.provider"),cq=Symbol.for("react.context"),uq=Symbol.for("react.forward_ref"),dq=Symbol.for("react.suspense"),hq=Symbol.for("react.memo"),pq=Symbol.for("react.lazy"),mI=Symbol.iterator;function fq(e){return e===null||typeof e!="object"?null:(e=mI&&e[mI]||e["@@iterator"],typeof e=="function"?e:null)}var wN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_N=Object.assign,SN={};function of(e,t,i){this.props=e,this.context=t,this.refs=SN,this.updater=i||wN}of.prototype.isReactComponent={};of.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};of.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CN(){}CN.prototype=of.prototype;function _A(e,t,i){this.props=e,this.context=t,this.refs=SN,this.updater=i||wN}var SA=_A.prototype=new CN;SA.constructor=_A;_N(SA,of.prototype);SA.isPureReactComponent=!0;var gI=Array.isArray,EN=Object.prototype.hasOwnProperty,CA={current:null},TN={key:!0,ref:!0,__self:!0,__source:!0};function AN(e,t,i){var r,n={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)EN.call(t,r)&&!TN.hasOwnProperty(r)&&(n[r]=t[r]);var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){for(var o=Array(l),s=0;s<l;s++)o[s]=arguments[s+2];n.children=o}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)n[r]===void 0&&(n[r]=l[r]);return{$$typeof:_v,type:e,key:a,ref:c,props:n,_owner:CA.current}}function mq(e,t){return{$$typeof:_v,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function EA(e){return typeof e=="object"&&e!==null&&e.$$typeof===_v}function gq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var vI=/\/+/g;function Mw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gq(""+e.key):t.toString(36)}function s1(e,t,i,r,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case _v:case nq:c=!0}}if(c)return c=e,n=n(c),e=r===""?"."+Mw(c,0):r,gI(n)?(i="",e!=null&&(i=e.replace(vI,"$&/")+"/"),s1(n,t,i,"",function(s){return s})):n!=null&&(EA(n)&&(n=mq(n,i+(!n.key||c&&c.key===n.key?"":(""+n.key).replace(vI,"$&/")+"/")+e)),t.push(n)),1;if(c=0,r=r===""?".":r+":",gI(e))for(var l=0;l<e.length;l++){a=e[l];var o=r+Mw(a,l);c+=s1(a,t,i,o,n)}else if(o=fq(e),typeof o=="function")for(e=o.call(e),l=0;!(a=e.next()).done;)a=a.value,o=r+Mw(a,l++),c+=s1(a,t,i,o,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function d0(e,t,i){if(e==null)return e;var r=[],n=0;return s1(e,r,"","",function(a){return t.call(i,a,n++)}),r}function vq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bn={current:null},l1={transition:null},yq={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:l1,ReactCurrentOwner:CA};Gt.Children={map:d0,forEach:function(e,t,i){d0(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return d0(e,function(){t++}),t},toArray:function(e){return d0(e,function(t){return t})||[]},only:function(e){if(!EA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=of;Gt.Fragment=aq;Gt.Profiler=sq;Gt.PureComponent=_A;Gt.StrictMode=oq;Gt.Suspense=dq;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yq;Gt.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_N({},e.props),n=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=CA.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(o in t)EN.call(t,o)&&!TN.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&l!==void 0?l[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=i;else if(1<o){l=Array(o);for(var s=0;s<o;s++)l[s]=arguments[s+2];r.children=l}return{$$typeof:_v,type:e.type,key:n,ref:a,props:r,_owner:c}};Gt.createContext=function(e){return e={$$typeof:cq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lq,_context:e},e.Consumer=e};Gt.createElement=AN;Gt.createFactory=function(e){var t=AN.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:uq,render:e}};Gt.isValidElement=EA;Gt.lazy=function(e){return{$$typeof:pq,_payload:{_status:-1,_result:e},_init:vq}};Gt.memo=function(e,t){return{$$typeof:hq,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=l1.transition;l1.transition={};try{e()}finally{l1.transition=t}};Gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Gt.useCallback=function(e,t){return Bn.current.useCallback(e,t)};Gt.useContext=function(e){return Bn.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return Bn.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return Bn.current.useEffect(e,t)};Gt.useId=function(){return Bn.current.useId()};Gt.useImperativeHandle=function(e,t,i){return Bn.current.useImperativeHandle(e,t,i)};Gt.useInsertionEffect=function(e,t){return Bn.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return Bn.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return Bn.current.useMemo(e,t)};Gt.useReducer=function(e,t,i){return Bn.current.useReducer(e,t,i)};Gt.useRef=function(e){return Bn.current.useRef(e)};Gt.useState=function(e){return Bn.current.useState(e)};Gt.useSyncExternalStore=function(e,t,i){return Bn.current.useSyncExternalStore(e,t,i)};Gt.useTransition=function(){return Bn.current.useTransition()};Gt.version="18.2.0";xN.exports=Gt;var z=xN.exports;const Mi=yN(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bq=z,xq=Symbol.for("react.element"),wq=Symbol.for("react.fragment"),_q=Object.prototype.hasOwnProperty,Sq=bq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cq={key:!0,ref:!0,__self:!0,__source:!0};function MN(e,t,i){var r,n={},a=null,c=null;i!==void 0&&(a=""+i),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)_q.call(t,r)&&!Cq.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:xq,type:e,key:a,ref:c,props:n,_owner:Sq.current}}Zx.Fragment=wq;Zx.jsx=MN;Zx.jsxs=MN;bN.exports=Zx;var y=bN.exports,BC={},jN={exports:{}},ya={},IN={exports:{}},PN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var B=D.length;D.push(L);e:for(;0<B;){var F=B-1>>>1,H=D[F];if(0<n(H,L))D[F]=L,D[B]=H,B=F;else break e}}function i(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],B=D.pop();if(B!==L){D[0]=B;e:for(var F=0,H=D.length,ee=H>>>1;F<ee;){var U=2*(F+1)-1,X=D[U],W=U+1,ie=D[W];if(0>n(X,B))W<H&&0>n(ie,X)?(D[F]=ie,D[W]=B,F=W):(D[F]=X,D[U]=B,F=U);else if(W<H&&0>n(ie,B))D[F]=ie,D[W]=B,F=W;else break e}}return L}function n(D,L){var B=D.sortIndex-L.sortIndex;return B!==0?B:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var o=[],s=[],u=1,d=null,h=3,p=!1,m=!1,f=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var L=i(s);L!==null;){if(L.callback===null)r(s);else if(L.startTime<=D)r(s),L.sortIndex=L.expirationTime,t(o,L);else break;L=i(s)}}function b(D){if(f=!1,x(D),!m)if(i(o)!==null)m=!0,R(_);else{var L=i(s);L!==null&&O(b,L.startTime-D)}}function _(D,L){m=!1,f&&(f=!1,v(E),E=-1),p=!0;var B=h;try{for(x(L),d=i(o);d!==null&&(!(d.expirationTime>L)||D&&!M());){var F=d.callback;if(typeof F=="function"){d.callback=null,h=d.priorityLevel;var H=F(d.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?d.callback=H:d===i(o)&&r(o),x(L)}else r(o);d=i(o)}if(d!==null)var ee=!0;else{var U=i(s);U!==null&&O(b,U.startTime-L),ee=!1}return ee}finally{d=null,h=B,p=!1}}var w=!1,C=null,E=-1,A=5,T=-1;function M(){return!(e.unstable_now()-T<A)}function j(){if(C!==null){var D=e.unstable_now();T=D;var L=!0;try{L=C(!0,D)}finally{L?P():(w=!1,C=null)}}else w=!1}var P;if(typeof S=="function")P=function(){S(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=j,P=function(){k.postMessage(null)}}else P=function(){g(j,0)};function R(D){C=D,w||(w=!0,P())}function O(D,L){E=g(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,R(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return i(o)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var B=h;h=L;try{return D()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return L()}finally{h=B}},e.unstable_scheduleCallback=function(D,L,B){var F=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?F+B:F):B=F,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=B+H,D={id:u++,callback:L,priorityLevel:D,startTime:B,expirationTime:H,sortIndex:-1},B>F?(D.sortIndex=B,t(s,D),i(o)===null&&D===i(s)&&(f?(v(E),E=-1):f=!0,O(b,B-F))):(D.sortIndex=H,t(o,D),m||p||(m=!0,R(_))),D},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(D){var L=h;return function(){var B=h;h=L;try{return D.apply(this,arguments)}finally{h=B}}}})(PN);IN.exports=PN;var Eq=IN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN=z,ma=Eq;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DN=new Set,bg={};function Ld(e,t){Ip(e,t),Ip(e+"Capture",t)}function Ip(e,t){for(bg[e]=t,e=0;e<t.length;e++)DN.add(t[e])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FC=Object.prototype.hasOwnProperty,Tq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yI={},bI={};function Aq(e){return FC.call(bI,e)?!0:FC.call(yI,e)?!1:Tq.test(e)?bI[e]=!0:(yI[e]=!0,!1)}function Mq(e,t,i,r){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jq(e,t,i,r){if(t===null||typeof t>"u"||Mq(e,t,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fn(e,t,i,r,n,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nn[e]=new Fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nn[t]=new Fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nn[e]=new Fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nn[e]=new Fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nn[e]=new Fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nn[e]=new Fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nn[e]=new Fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nn[e]=new Fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nn[e]=new Fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var TA=/[\-:]([a-z])/g;function AA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(TA,AA);nn[t]=new Fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(TA,AA);nn[t]=new Fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(TA,AA);nn[t]=new Fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function MA(e,t,i,r){var n=nn.hasOwnProperty(t)?nn[t]:null;(n!==null?n.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jq(t,i,n,r)&&(i=null),r||n===null?Aq(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):n.mustUseProperty?e[n.propertyName]=i===null?n.type===3?!1:"":i:(t=n.attributeName,r=n.attributeNamespace,i===null?e.removeAttribute(t):(n=n.type,i=n===3||n===4&&i===!0?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}var Ll=kN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h0=Symbol.for("react.element"),Rh=Symbol.for("react.portal"),Nh=Symbol.for("react.fragment"),jA=Symbol.for("react.strict_mode"),UC=Symbol.for("react.profiler"),ON=Symbol.for("react.provider"),RN=Symbol.for("react.context"),IA=Symbol.for("react.forward_ref"),VC=Symbol.for("react.suspense"),HC=Symbol.for("react.suspense_list"),PA=Symbol.for("react.memo"),sc=Symbol.for("react.lazy"),NN=Symbol.for("react.offscreen"),xI=Symbol.iterator;function Lf(e){return e===null||typeof e!="object"?null:(e=xI&&e[xI]||e["@@iterator"],typeof e=="function"?e:null)}var Li=Object.assign,jw;function _m(e){if(jw===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);jw=t&&t[1]||""}return`
`+jw+e}var Iw=!1;function Pw(e,t){if(!e||Iw)return"";Iw=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&typeof s.stack=="string"){for(var n=s.stack.split(`
`),a=r.stack.split(`
`),c=n.length-1,l=a.length-1;1<=c&&0<=l&&n[c]!==a[l];)l--;for(;1<=c&&0<=l;c--,l--)if(n[c]!==a[l]){if(c!==1||l!==1)do if(c--,l--,0>l||n[c]!==a[l]){var o=`
`+n[c].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=c&&0<=l);break}}}finally{Iw=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?_m(e):""}function Iq(e){switch(e.tag){case 5:return _m(e.type);case 16:return _m("Lazy");case 13:return _m("Suspense");case 19:return _m("SuspenseList");case 0:case 2:case 15:return e=Pw(e.type,!1),e;case 11:return e=Pw(e.type.render,!1),e;case 1:return e=Pw(e.type,!0),e;default:return""}}function GC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nh:return"Fragment";case Rh:return"Portal";case UC:return"Profiler";case jA:return"StrictMode";case VC:return"Suspense";case HC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RN:return(e.displayName||"Context")+".Consumer";case ON:return(e._context.displayName||"Context")+".Provider";case IA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PA:return t=e.displayName||null,t!==null?t:GC(e.type)||"Memo";case sc:t=e._payload,e=e._init;try{return GC(e(t))}catch{}}return null}function Pq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return GC(t);case 8:return t===jA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kq(e){var t=LN(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function p0(e){e._valueTracker||(e._valueTracker=kq(e))}function zN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=LN(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function G1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function WC(e,t){var i=t.checked;return Li({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function wI(e,t){var i=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;i=Qc(t.value!=null?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BN(e,t){t=t.checked,t!=null&&MA(e,"checked",t,!1)}function qC(e,t){BN(e,t);var i=Qc(t.value),r=t.type;if(i!=null)r==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?YC(e,t.type,i):t.hasOwnProperty("defaultValue")&&YC(e,t.type,Qc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _I(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function YC(e,t,i){(t!=="number"||G1(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Sm=Array.isArray;function ap(e,t,i,r){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Qc(i),t=null,n=0;n<e.length;n++){if(e[n].value===i){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function KC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Li({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function SI(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(Oe(92));if(Sm(i)){if(1<i.length)throw Error(Oe(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Qc(i)}}function FN(e,t){var i=Qc(t.value),r=Qc(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),r!=null&&(e.defaultValue=""+r)}function CI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var f0,VN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,i,r,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(f0=f0||document.createElement("div"),f0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=f0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xg(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Um={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dq=["Webkit","ms","Moz","O"];Object.keys(Um).forEach(function(e){Dq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Um[t]=Um[e]})});function HN(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Um.hasOwnProperty(e)&&Um[e]?(""+t).trim():t+"px"}function GN(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var r=i.indexOf("--")===0,n=HN(i,t[i],r);i==="float"&&(i="cssFloat"),r?e.setProperty(i,n):e[i]=n}}var Oq=Li({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JC(e,t){if(t){if(Oq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function QC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $C=null;function kA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ZC=null,op=null,sp=null;function EI(e){if(e=Ev(e)){if(typeof ZC!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=n2(t),ZC(e.stateNode,e.type,t))}}function WN(e){op?sp?sp.push(e):sp=[e]:op=e}function qN(){if(op){var e=op,t=sp;if(sp=op=null,EI(e),t)for(e=0;e<t.length;e++)EI(t[e])}}function YN(e,t){return e(t)}function KN(){}var kw=!1;function XN(e,t,i){if(kw)return e(t,i);kw=!0;try{return YN(e,t,i)}finally{kw=!1,(op!==null||sp!==null)&&(KN(),qN())}}function wg(e,t){var i=e.stateNode;if(i===null)return null;var r=n2(i);if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Oe(231,t,typeof i));return i}var eE=!1;if(_l)try{var zf={};Object.defineProperty(zf,"passive",{get:function(){eE=!0}}),window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch{eE=!1}function Rq(e,t,i,r,n,a,c,l,o){var s=Array.prototype.slice.call(arguments,3);try{t.apply(i,s)}catch(u){this.onError(u)}}var Vm=!1,W1=null,q1=!1,tE=null,Nq={onError:function(e){Vm=!0,W1=e}};function Lq(e,t,i,r,n,a,c,l,o){Vm=!1,W1=null,Rq.apply(Nq,arguments)}function zq(e,t,i,r,n,a,c,l,o){if(Lq.apply(this,arguments),Vm){if(Vm){var s=W1;Vm=!1,W1=null}else throw Error(Oe(198));q1||(q1=!0,tE=s)}}function zd(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function JN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function TI(e){if(zd(e)!==e)throw Error(Oe(188))}function Bq(e){var t=e.alternate;if(!t){if(t=zd(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var i=e,r=t;;){var n=i.return;if(n===null)break;var a=n.alternate;if(a===null){if(r=n.return,r!==null){i=r;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===i)return TI(n),e;if(a===r)return TI(n),t;a=a.sibling}throw Error(Oe(188))}if(i.return!==r.return)i=n,r=a;else{for(var c=!1,l=n.child;l;){if(l===i){c=!0,i=n,r=a;break}if(l===r){c=!0,r=n,i=a;break}l=l.sibling}if(!c){for(l=a.child;l;){if(l===i){c=!0,i=a,r=n;break}if(l===r){c=!0,r=a,i=n;break}l=l.sibling}if(!c)throw Error(Oe(189))}}if(i.alternate!==r)throw Error(Oe(190))}if(i.tag!==3)throw Error(Oe(188));return i.stateNode.current===i?e:t}function QN(e){return e=Bq(e),e!==null?$N(e):null}function $N(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$N(e);if(t!==null)return t;e=e.sibling}return null}var ZN=ma.unstable_scheduleCallback,AI=ma.unstable_cancelCallback,Fq=ma.unstable_shouldYield,Uq=ma.unstable_requestPaint,Ji=ma.unstable_now,Vq=ma.unstable_getCurrentPriorityLevel,DA=ma.unstable_ImmediatePriority,eL=ma.unstable_UserBlockingPriority,Y1=ma.unstable_NormalPriority,Hq=ma.unstable_LowPriority,tL=ma.unstable_IdlePriority,e2=null,ls=null;function Gq(e){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(e2,e,void 0,(e.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:Yq,Wq=Math.log,qq=Math.LN2;function Yq(e){return e>>>=0,e===0?32:31-(Wq(e)/qq|0)|0}var m0=64,g0=4194304;function Cm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function K1(e,t){var i=e.pendingLanes;if(i===0)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,c=i&268435455;if(c!==0){var l=c&~n;l!==0?r=Cm(l):(a&=c,a!==0&&(r=Cm(a)))}else c=i&~n,c!==0?r=Cm(c):a!==0&&(r=Cm(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&n)&&(n=r&-r,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(r&4&&(r|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)i=31-_o(t),n=1<<i,r|=e[i],t&=~n;return r}function Kq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xq(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-_o(a),l=1<<c,o=n[c];o===-1?(!(l&i)||l&r)&&(n[c]=Kq(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}function iE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iL(){var e=m0;return m0<<=1,!(m0&4194240)&&(m0=64),e}function Dw(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Sv(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_o(t),e[t]=i}function Jq(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var n=31-_o(i),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,i&=~a}}function OA(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-_o(i),n=1<<r;n&t|e[r]&t&&(e[r]|=t),i&=~n}}var si=0;function rL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nL,RA,aL,oL,sL,rE=!1,v0=[],Oc=null,Rc=null,Nc=null,_g=new Map,Sg=new Map,dc=[],Qq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MI(e,t){switch(e){case"focusin":case"focusout":Oc=null;break;case"dragenter":case"dragleave":Rc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":_g.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sg.delete(t.pointerId)}}function Bf(e,t,i,r,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},t!==null&&(t=Ev(t),t!==null&&RA(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function $q(e,t,i,r,n){switch(t){case"focusin":return Oc=Bf(Oc,e,t,i,r,n),!0;case"dragenter":return Rc=Bf(Rc,e,t,i,r,n),!0;case"mouseover":return Nc=Bf(Nc,e,t,i,r,n),!0;case"pointerover":var a=n.pointerId;return _g.set(a,Bf(_g.get(a)||null,e,t,i,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Sg.set(a,Bf(Sg.get(a)||null,e,t,i,r,n)),!0}return!1}function lL(e){var t=qu(e.target);if(t!==null){var i=zd(t);if(i!==null){if(t=i.tag,t===13){if(t=JN(i),t!==null){e.blockedOn=t,sL(e.priority,function(){aL(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function c1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=nE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);$C=r,i.target.dispatchEvent(r),$C=null}else return t=Ev(i),t!==null&&RA(t),e.blockedOn=i,!1;t.shift()}return!0}function jI(e,t,i){c1(e)&&i.delete(t)}function Zq(){rE=!1,Oc!==null&&c1(Oc)&&(Oc=null),Rc!==null&&c1(Rc)&&(Rc=null),Nc!==null&&c1(Nc)&&(Nc=null),_g.forEach(jI),Sg.forEach(jI)}function Ff(e,t){e.blockedOn===t&&(e.blockedOn=null,rE||(rE=!0,ma.unstable_scheduleCallback(ma.unstable_NormalPriority,Zq)))}function Cg(e){function t(n){return Ff(n,e)}if(0<v0.length){Ff(v0[0],e);for(var i=1;i<v0.length;i++){var r=v0[i];r.blockedOn===e&&(r.blockedOn=null)}}for(Oc!==null&&Ff(Oc,e),Rc!==null&&Ff(Rc,e),Nc!==null&&Ff(Nc,e),_g.forEach(t),Sg.forEach(t),i=0;i<dc.length;i++)r=dc[i],r.blockedOn===e&&(r.blockedOn=null);for(;0<dc.length&&(i=dc[0],i.blockedOn===null);)lL(i),i.blockedOn===null&&dc.shift()}var lp=Ll.ReactCurrentBatchConfig,X1=!0;function eY(e,t,i,r){var n=si,a=lp.transition;lp.transition=null;try{si=1,NA(e,t,i,r)}finally{si=n,lp.transition=a}}function tY(e,t,i,r){var n=si,a=lp.transition;lp.transition=null;try{si=4,NA(e,t,i,r)}finally{si=n,lp.transition=a}}function NA(e,t,i,r){if(X1){var n=nE(e,t,i,r);if(n===null)Hw(e,t,r,J1,i),MI(e,r);else if($q(n,e,t,i,r))r.stopPropagation();else if(MI(e,r),t&4&&-1<Qq.indexOf(e)){for(;n!==null;){var a=Ev(n);if(a!==null&&nL(a),a=nE(e,t,i,r),a===null&&Hw(e,t,r,J1,i),a===n)break;n=a}n!==null&&r.stopPropagation()}else Hw(e,t,r,null,i)}}var J1=null;function nE(e,t,i,r){if(J1=null,e=kA(r),e=qu(e),e!==null)if(t=zd(e),t===null)e=null;else if(i=t.tag,i===13){if(e=JN(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return J1=e,null}function cL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vq()){case DA:return 1;case eL:return 4;case Y1:case Hq:return 16;case tL:return 536870912;default:return 16}default:return 16}}var Sc=null,LA=null,u1=null;function uL(){if(u1)return u1;var e,t=LA,i=t.length,r,n="value"in Sc?Sc.value:Sc.textContent,a=n.length;for(e=0;e<i&&t[e]===n[e];e++);var c=i-e;for(r=1;r<=c&&t[i-r]===n[a-r];r++);return u1=n.slice(e,1<r?1-r:void 0)}function d1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function y0(){return!0}function II(){return!1}function ba(e){function t(i,r,n,a,c){this._reactName=i,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(i=e[l],this[l]=i?i(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?y0:II,this.isPropagationStopped=II,this}return Li(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=y0)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=y0)},persist:function(){},isPersistent:y0}),t}var sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zA=ba(sf),Cv=Li({},sf,{view:0,detail:0}),iY=ba(Cv),Ow,Rw,Uf,t2=Li({},Cv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uf&&(Uf&&e.type==="mousemove"?(Ow=e.screenX-Uf.screenX,Rw=e.screenY-Uf.screenY):Rw=Ow=0,Uf=e),Ow)},movementY:function(e){return"movementY"in e?e.movementY:Rw}}),PI=ba(t2),rY=Li({},t2,{dataTransfer:0}),nY=ba(rY),aY=Li({},Cv,{relatedTarget:0}),Nw=ba(aY),oY=Li({},sf,{animationName:0,elapsedTime:0,pseudoElement:0}),sY=ba(oY),lY=Li({},sf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cY=ba(lY),uY=Li({},sf,{data:0}),kI=ba(uY),dY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pY[e])?!!t[e]:!1}function BA(){return fY}var mY=Li({},Cv,{key:function(e){if(e.key){var t=dY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=d1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BA,charCode:function(e){return e.type==="keypress"?d1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?d1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gY=ba(mY),vY=Li({},t2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DI=ba(vY),yY=Li({},Cv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BA}),bY=ba(yY),xY=Li({},sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),wY=ba(xY),_Y=Li({},t2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SY=ba(_Y),CY=[9,13,27,32],FA=_l&&"CompositionEvent"in window,Hm=null;_l&&"documentMode"in document&&(Hm=document.documentMode);var EY=_l&&"TextEvent"in window&&!Hm,dL=_l&&(!FA||Hm&&8<Hm&&11>=Hm),OI=" ",RI=!1;function hL(e,t){switch(e){case"keyup":return CY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lh=!1;function TY(e,t){switch(e){case"compositionend":return pL(t);case"keypress":return t.which!==32?null:(RI=!0,OI);case"textInput":return e=t.data,e===OI&&RI?null:e;default:return null}}function AY(e,t){if(Lh)return e==="compositionend"||!FA&&hL(e,t)?(e=uL(),u1=LA=Sc=null,Lh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dL&&t.locale!=="ko"?null:t.data;default:return null}}var MY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MY[e.type]:t==="textarea"}function fL(e,t,i,r){WN(r),t=Q1(t,"onChange"),0<t.length&&(i=new zA("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Gm=null,Eg=null;function jY(e){EL(e,0)}function i2(e){var t=Fh(e);if(zN(t))return e}function IY(e,t){if(e==="change")return t}var mL=!1;if(_l){var Lw;if(_l){var zw="oninput"in document;if(!zw){var LI=document.createElement("div");LI.setAttribute("oninput","return;"),zw=typeof LI.oninput=="function"}Lw=zw}else Lw=!1;mL=Lw&&(!document.documentMode||9<document.documentMode)}function zI(){Gm&&(Gm.detachEvent("onpropertychange",gL),Eg=Gm=null)}function gL(e){if(e.propertyName==="value"&&i2(Eg)){var t=[];fL(t,Eg,e,kA(e)),XN(jY,t)}}function PY(e,t,i){e==="focusin"?(zI(),Gm=t,Eg=i,Gm.attachEvent("onpropertychange",gL)):e==="focusout"&&zI()}function kY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return i2(Eg)}function DY(e,t){if(e==="click")return i2(t)}function OY(e,t){if(e==="input"||e==="change")return i2(t)}function RY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Eo=typeof Object.is=="function"?Object.is:RY;function Tg(e,t){if(Eo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!FC.call(t,n)||!Eo(e[n],t[n]))return!1}return!0}function BI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FI(e,t){var i=BI(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=BI(i)}}function vL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yL(){for(var e=window,t=G1();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=G1(e.document)}return t}function UA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NY(e){var t=yL(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&vL(i.ownerDocument.documentElement,i)){if(r!==null&&UA(i)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=i.textContent.length,a=Math.min(r.start,n);r=r.end===void 0?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=FI(i,a);var c=FI(i,r);n&&c&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LY=_l&&"documentMode"in document&&11>=document.documentMode,zh=null,aE=null,Wm=null,oE=!1;function UI(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;oE||zh==null||zh!==G1(r)||(r=zh,"selectionStart"in r&&UA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wm&&Tg(Wm,r)||(Wm=r,r=Q1(aE,"onSelect"),0<r.length&&(t=new zA("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=zh)))}function b0(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Bh={animationend:b0("Animation","AnimationEnd"),animationiteration:b0("Animation","AnimationIteration"),animationstart:b0("Animation","AnimationStart"),transitionend:b0("Transition","TransitionEnd")},Bw={},bL={};_l&&(bL=document.createElement("div").style,"AnimationEvent"in window||(delete Bh.animationend.animation,delete Bh.animationiteration.animation,delete Bh.animationstart.animation),"TransitionEvent"in window||delete Bh.transitionend.transition);function r2(e){if(Bw[e])return Bw[e];if(!Bh[e])return e;var t=Bh[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in bL)return Bw[e]=t[i];return e}var xL=r2("animationend"),wL=r2("animationiteration"),_L=r2("animationstart"),SL=r2("transitionend"),CL=new Map,VI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lu(e,t){CL.set(e,t),Ld(t,[e])}for(var Fw=0;Fw<VI.length;Fw++){var Uw=VI[Fw],zY=Uw.toLowerCase(),BY=Uw[0].toUpperCase()+Uw.slice(1);lu(zY,"on"+BY)}lu(xL,"onAnimationEnd");lu(wL,"onAnimationIteration");lu(_L,"onAnimationStart");lu("dblclick","onDoubleClick");lu("focusin","onFocus");lu("focusout","onBlur");lu(SL,"onTransitionEnd");Ip("onMouseEnter",["mouseout","mouseover"]);Ip("onMouseLeave",["mouseout","mouseover"]);Ip("onPointerEnter",["pointerout","pointerover"]);Ip("onPointerLeave",["pointerout","pointerover"]);Ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Em="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Em));function HI(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,zq(r,t,void 0,e),e.currentTarget=null}function EL(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var l=r[c],o=l.instance,s=l.currentTarget;if(l=l.listener,o!==a&&n.isPropagationStopped())break e;HI(n,l,s),a=o}else for(c=0;c<r.length;c++){if(l=r[c],o=l.instance,s=l.currentTarget,l=l.listener,o!==a&&n.isPropagationStopped())break e;HI(n,l,s),a=o}}}if(q1)throw e=tE,q1=!1,tE=null,e}function Si(e,t){var i=t[dE];i===void 0&&(i=t[dE]=new Set);var r=e+"__bubble";i.has(r)||(TL(t,e,2,!1),i.add(r))}function Vw(e,t,i){var r=0;t&&(r|=4),TL(i,e,r,t)}var x0="_reactListening"+Math.random().toString(36).slice(2);function Ag(e){if(!e[x0]){e[x0]=!0,DN.forEach(function(i){i!=="selectionchange"&&(FY.has(i)||Vw(i,!1,e),Vw(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[x0]||(t[x0]=!0,Vw("selectionchange",!1,t))}}function TL(e,t,i,r){switch(cL(t)){case 1:var n=eY;break;case 4:n=tY;break;default:n=NA}i=n.bind(null,t,i,e),n=void 0,!eE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):n!==void 0?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function Hw(e,t,i,r,n){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var l=r.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(c===4)for(c=r.return;c!==null;){var o=c.tag;if((o===3||o===4)&&(o=c.stateNode.containerInfo,o===n||o.nodeType===8&&o.parentNode===n))return;c=c.return}for(;l!==null;){if(c=qu(l),c===null)return;if(o=c.tag,o===5||o===6){r=a=c;continue e}l=l.parentNode}}r=r.return}XN(function(){var s=a,u=kA(i),d=[];e:{var h=CL.get(e);if(h!==void 0){var p=zA,m=e;switch(e){case"keypress":if(d1(i)===0)break e;case"keydown":case"keyup":p=gY;break;case"focusin":m="focus",p=Nw;break;case"focusout":m="blur",p=Nw;break;case"beforeblur":case"afterblur":p=Nw;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bY;break;case xL:case wL:case _L:p=sY;break;case SL:p=wY;break;case"scroll":p=iY;break;case"wheel":p=SY;break;case"copy":case"cut":case"paste":p=cY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=DI}var f=(t&4)!==0,g=!f&&e==="scroll",v=f?h!==null?h+"Capture":null:h;f=[];for(var S=s,x;S!==null;){x=S;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=wg(S,v),b!=null&&f.push(Mg(S,b,x)))),g)break;S=S.return}0<f.length&&(h=new p(h,m,null,i,u),d.push({event:h,listeners:f}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&i!==$C&&(m=i.relatedTarget||i.fromElement)&&(qu(m)||m[Sl]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=i.relatedTarget||i.toElement,p=s,m=m?qu(m):null,m!==null&&(g=zd(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=s),p!==m)){if(f=PI,b="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(f=DI,b="onPointerLeave",v="onPointerEnter",S="pointer"),g=p==null?h:Fh(p),x=m==null?h:Fh(m),h=new f(b,S+"leave",p,i,u),h.target=g,h.relatedTarget=x,b=null,qu(u)===s&&(f=new f(v,S+"enter",m,i,u),f.target=x,f.relatedTarget=g,b=f),g=b,p&&m)t:{for(f=p,v=m,S=0,x=f;x;x=Kd(x))S++;for(x=0,b=v;b;b=Kd(b))x++;for(;0<S-x;)f=Kd(f),S--;for(;0<x-S;)v=Kd(v),x--;for(;S--;){if(f===v||v!==null&&f===v.alternate)break t;f=Kd(f),v=Kd(v)}f=null}else f=null;p!==null&&GI(d,h,p,f,!1),m!==null&&g!==null&&GI(d,g,m,f,!0)}}e:{if(h=s?Fh(s):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=IY;else if(NI(h))if(mL)_=OY;else{_=kY;var w=PY}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=DY);if(_&&(_=_(e,s))){fL(d,_,i,u);break e}w&&w(e,h,s),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&YC(h,"number",h.value)}switch(w=s?Fh(s):window,e){case"focusin":(NI(w)||w.contentEditable==="true")&&(zh=w,aE=s,Wm=null);break;case"focusout":Wm=aE=zh=null;break;case"mousedown":oE=!0;break;case"contextmenu":case"mouseup":case"dragend":oE=!1,UI(d,i,u);break;case"selectionchange":if(LY)break;case"keydown":case"keyup":UI(d,i,u)}var C;if(FA)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Lh?hL(e,i)&&(E="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(E="onCompositionStart");E&&(dL&&i.locale!=="ko"&&(Lh||E!=="onCompositionStart"?E==="onCompositionEnd"&&Lh&&(C=uL()):(Sc=u,LA="value"in Sc?Sc.value:Sc.textContent,Lh=!0)),w=Q1(s,E),0<w.length&&(E=new kI(E,e,null,i,u),d.push({event:E,listeners:w}),C?E.data=C:(C=pL(i),C!==null&&(E.data=C)))),(C=EY?TY(e,i):AY(e,i))&&(s=Q1(s,"onBeforeInput"),0<s.length&&(u=new kI("onBeforeInput","beforeinput",null,i,u),d.push({event:u,listeners:s}),u.data=C))}EL(d,t)})}function Mg(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Q1(e,t){for(var i=t+"Capture",r=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=wg(e,i),a!=null&&r.unshift(Mg(e,a,n)),a=wg(e,t),a!=null&&r.push(Mg(e,a,n))),e=e.return}return r}function Kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GI(e,t,i,r,n){for(var a=t._reactName,c=[];i!==null&&i!==r;){var l=i,o=l.alternate,s=l.stateNode;if(o!==null&&o===r)break;l.tag===5&&s!==null&&(l=s,n?(o=wg(i,a),o!=null&&c.unshift(Mg(i,o,l))):n||(o=wg(i,a),o!=null&&c.push(Mg(i,o,l)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var UY=/\r\n?/g,VY=/\u0000|\uFFFD/g;function WI(e){return(typeof e=="string"?e:""+e).replace(UY,`
`).replace(VY,"")}function w0(e,t,i){if(t=WI(t),WI(e)!==t&&i)throw Error(Oe(425))}function $1(){}var sE=null,lE=null;function cE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uE=typeof setTimeout=="function"?setTimeout:void 0,HY=typeof clearTimeout=="function"?clearTimeout:void 0,qI=typeof Promise=="function"?Promise:void 0,GY=typeof queueMicrotask=="function"?queueMicrotask:typeof qI<"u"?function(e){return qI.resolve(null).then(e).catch(WY)}:uE;function WY(e){setTimeout(function(){throw e})}function Gw(e,t){var i=t,r=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(r===0){e.removeChild(n),Cg(t);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=n}while(i);Cg(t)}function Lc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function YI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var lf=Math.random().toString(36).slice(2),es="__reactFiber$"+lf,jg="__reactProps$"+lf,Sl="__reactContainer$"+lf,dE="__reactEvents$"+lf,qY="__reactListeners$"+lf,YY="__reactHandles$"+lf;function qu(e){var t=e[es];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Sl]||i[es]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=YI(e);e!==null;){if(i=e[es])return i;e=YI(e)}return t}e=i,i=e.parentNode}return null}function Ev(e){return e=e[es]||e[Sl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function n2(e){return e[jg]||null}var hE=[],Uh=-1;function cu(e){return{current:e}}function Ti(e){0>Uh||(e.current=hE[Uh],hE[Uh]=null,Uh--)}function wi(e,t){Uh++,hE[Uh]=e.current,e.current=t}var $c={},bn=cu($c),ea=cu(!1),xd=$c;function Pp(e,t){var i=e.type.contextTypes;if(!i)return $c;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in i)n[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function ta(e){return e=e.childContextTypes,e!=null}function Z1(){Ti(ea),Ti(bn)}function KI(e,t,i){if(bn.current!==$c)throw Error(Oe(168));wi(bn,t),wi(ea,i)}function AL(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(Oe(108,Pq(e)||"Unknown",n));return Li({},i,r)}function eb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$c,xd=bn.current,wi(bn,e),wi(ea,ea.current),!0}function XI(e,t,i){var r=e.stateNode;if(!r)throw Error(Oe(169));i?(e=AL(e,t,xd),r.__reactInternalMemoizedMergedChildContext=e,Ti(ea),Ti(bn),wi(bn,e)):Ti(ea),wi(ea,i)}var Qs=null,a2=!1,Ww=!1;function ML(e){Qs===null?Qs=[e]:Qs.push(e)}function KY(e){a2=!0,ML(e)}function uu(){if(!Ww&&Qs!==null){Ww=!0;var e=0,t=si;try{var i=Qs;for(si=1;e<i.length;e++){var r=i[e];do r=r(!0);while(r!==null)}Qs=null,a2=!1}catch(n){throw Qs!==null&&(Qs=Qs.slice(e+1)),ZN(DA,uu),n}finally{si=t,Ww=!1}}return null}var Vh=[],Hh=0,tb=null,ib=0,Oa=[],Ra=0,wd=null,sl=1,ll="";function Iu(e,t){Vh[Hh++]=ib,Vh[Hh++]=tb,tb=e,ib=t}function jL(e,t,i){Oa[Ra++]=sl,Oa[Ra++]=ll,Oa[Ra++]=wd,wd=e;var r=sl;e=ll;var n=32-_o(r)-1;r&=~(1<<n),i+=1;var a=32-_o(t)+n;if(30<a){var c=n-n%5;a=(r&(1<<c)-1).toString(32),r>>=c,n-=c,sl=1<<32-_o(t)+n|i<<n|r,ll=a+e}else sl=1<<a|i<<n|r,ll=e}function VA(e){e.return!==null&&(Iu(e,1),jL(e,1,0))}function HA(e){for(;e===tb;)tb=Vh[--Hh],Vh[Hh]=null,ib=Vh[--Hh],Vh[Hh]=null;for(;e===wd;)wd=Oa[--Ra],Oa[Ra]=null,ll=Oa[--Ra],Oa[Ra]=null,sl=Oa[--Ra],Oa[Ra]=null}var fa=null,ha=null,ji=!1,mo=null;function IL(e,t){var i=za(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function JI(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fa=e,ha=Lc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fa=e,ha=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=wd!==null?{id:sl,overflow:ll}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=za(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,fa=e,ha=null,!0):!1;default:return!1}}function pE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fE(e){if(ji){var t=ha;if(t){var i=t;if(!JI(e,t)){if(pE(e))throw Error(Oe(418));t=Lc(i.nextSibling);var r=fa;t&&JI(e,t)?IL(r,i):(e.flags=e.flags&-4097|2,ji=!1,fa=e)}}else{if(pE(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,ji=!1,fa=e}}}function QI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fa=e}function _0(e){if(e!==fa)return!1;if(!ji)return QI(e),ji=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cE(e.type,e.memoizedProps)),t&&(t=ha)){if(pE(e))throw PL(),Error(Oe(418));for(;t;)IL(e,t),t=Lc(t.nextSibling)}if(QI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ha=Lc(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ha=null}}else ha=fa?Lc(e.stateNode.nextSibling):null;return!0}function PL(){for(var e=ha;e;)e=Lc(e.nextSibling)}function kp(){ha=fa=null,ji=!1}function GA(e){mo===null?mo=[e]:mo.push(e)}var XY=Ll.ReactCurrentBatchConfig;function po(e,t){if(e&&e.defaultProps){t=Li({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var rb=cu(null),nb=null,Gh=null,WA=null;function qA(){WA=Gh=nb=null}function YA(e){var t=rb.current;Ti(rb),e._currentValue=t}function mE(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function cp(e,t){nb=e,WA=Gh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qn=!0),e.firstContext=null)}function Ga(e){var t=e._currentValue;if(WA!==e)if(e={context:e,memoizedValue:t,next:null},Gh===null){if(nb===null)throw Error(Oe(308));Gh=e,nb.dependencies={lanes:0,firstContext:e}}else Gh=Gh.next=e;return t}var Yu=null;function KA(e){Yu===null?Yu=[e]:Yu.push(e)}function kL(e,t,i,r){var n=t.interleaved;return n===null?(i.next=i,KA(t)):(i.next=n.next,n.next=i),t.interleaved=i,Cl(e,r)}function Cl(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var lc=!1;function XA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zc(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Xt&2){var n=r.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Cl(e,i)}return n=r.interleaved,n===null?(t.next=t,KA(r)):(t.next=n.next,n.next=t),r.interleaved=t,Cl(e,i)}function h1(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,OA(e,i)}}function $I(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var n=null,a=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};a===null?n=a=c:a=a.next=c,i=i.next}while(i!==null);a===null?n=a=t:a=a.next=t}else n=a=t;i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ab(e,t,i,r){var n=e.updateQueue;lc=!1;var a=n.firstBaseUpdate,c=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var o=l,s=o.next;o.next=null,c===null?a=s:c.next=s,c=o;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==c&&(l===null?u.firstBaseUpdate=s:l.next=s,u.lastBaseUpdate=o))}if(a!==null){var d=n.baseState;c=0,u=s=o=null,l=a;do{var h=l.lane,p=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,f=l;switch(h=t,p=i,f.tag){case 1:if(m=f.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=f.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Li({},d,h);break e;case 2:lc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(s=u=p,o=d):u=u.next=p,c|=h;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;h=l,l=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(u===null&&(o=d),n.baseState=o,n.firstBaseUpdate=s,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do c|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);Sd|=c,e.lanes=c,e.memoizedState=d}}function ZI(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(n!==null){if(r.callback=null,r=i,typeof n!="function")throw Error(Oe(191,n));n.call(r)}}}var OL=new kN.Component().refs;function gE(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:Li({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var o2={isMounted:function(e){return(e=e._reactInternals)?zd(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Nn(),n=Fc(e),a=vl(r,n);a.payload=t,i!=null&&(a.callback=i),t=zc(e,a,n),t!==null&&(So(t,e,n,r),h1(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Nn(),n=Fc(e),a=vl(r,n);a.tag=1,a.payload=t,i!=null&&(a.callback=i),t=zc(e,a,n),t!==null&&(So(t,e,n,r),h1(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Nn(),r=Fc(e),n=vl(i,r);n.tag=2,t!=null&&(n.callback=t),t=zc(e,n,r),t!==null&&(So(t,e,r,i),h1(t,e,r))}};function e5(e,t,i,r,n,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!Tg(i,r)||!Tg(n,a):!0}function RL(e,t,i){var r=!1,n=$c,a=t.contextType;return typeof a=="object"&&a!==null?a=Ga(a):(n=ta(t)?xd:bn.current,r=t.contextTypes,a=(r=r!=null)?Pp(e,n):$c),t=new t(i,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=o2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function t5(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&o2.enqueueReplaceState(t,t.state,null)}function vE(e,t,i,r){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs=OL,XA(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=Ga(a):(a=ta(t)?xd:bn.current,n.context=Pp(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gE(e,t,a,i),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&o2.enqueueReplaceState(n,n.state,null),ab(e,i,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Vf(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Oe(309));var r=i.stateNode}if(!r)throw Error(Oe(147,e));var n=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var l=n.refs;l===OL&&(l=n.refs={}),c===null?delete l[a]:l[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(Oe(284));if(!i._owner)throw Error(Oe(290,e))}return e}function S0(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i5(e){var t=e._init;return t(e._payload)}function NL(e){function t(v,S){if(e){var x=v.deletions;x===null?(v.deletions=[S],v.flags|=16):x.push(S)}}function i(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function n(v,S){return v=Uc(v,S),v.index=0,v.sibling=null,v}function a(v,S,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<S?(v.flags|=2,S):x):(v.flags|=2,S)):(v.flags|=1048576,S)}function c(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,S,x,b){return S===null||S.tag!==6?(S=$w(x,v.mode,b),S.return=v,S):(S=n(S,x),S.return=v,S)}function o(v,S,x,b){var _=x.type;return _===Nh?u(v,S,x.props.children,b,x.key):S!==null&&(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sc&&i5(_)===S.type)?(b=n(S,x.props),b.ref=Vf(v,S,x),b.return=v,b):(b=y1(x.type,x.key,x.props,null,v.mode,b),b.ref=Vf(v,S,x),b.return=v,b)}function s(v,S,x,b){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=Zw(x,v.mode,b),S.return=v,S):(S=n(S,x.children||[]),S.return=v,S)}function u(v,S,x,b,_){return S===null||S.tag!==7?(S=ud(x,v.mode,b,_),S.return=v,S):(S=n(S,x),S.return=v,S)}function d(v,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return S=$w(""+S,v.mode,x),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case h0:return x=y1(S.type,S.key,S.props,null,v.mode,x),x.ref=Vf(v,null,S),x.return=v,x;case Rh:return S=Zw(S,v.mode,x),S.return=v,S;case sc:var b=S._init;return d(v,b(S._payload),x)}if(Sm(S)||Lf(S))return S=ud(S,v.mode,x,null),S.return=v,S;S0(v,S)}return null}function h(v,S,x,b){var _=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(v,S,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case h0:return x.key===_?o(v,S,x,b):null;case Rh:return x.key===_?s(v,S,x,b):null;case sc:return _=x._init,h(v,S,_(x._payload),b)}if(Sm(x)||Lf(x))return _!==null?null:u(v,S,x,b,null);S0(v,x)}return null}function p(v,S,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,l(S,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case h0:return v=v.get(b.key===null?x:b.key)||null,o(S,v,b,_);case Rh:return v=v.get(b.key===null?x:b.key)||null,s(S,v,b,_);case sc:var w=b._init;return p(v,S,x,w(b._payload),_)}if(Sm(b)||Lf(b))return v=v.get(x)||null,u(S,v,b,_,null);S0(S,b)}return null}function m(v,S,x,b){for(var _=null,w=null,C=S,E=S=0,A=null;C!==null&&E<x.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var T=h(v,C,x[E],b);if(T===null){C===null&&(C=A);break}e&&C&&T.alternate===null&&t(v,C),S=a(T,S,E),w===null?_=T:w.sibling=T,w=T,C=A}if(E===x.length)return i(v,C),ji&&Iu(v,E),_;if(C===null){for(;E<x.length;E++)C=d(v,x[E],b),C!==null&&(S=a(C,S,E),w===null?_=C:w.sibling=C,w=C);return ji&&Iu(v,E),_}for(C=r(v,C);E<x.length;E++)A=p(C,v,E,x[E],b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),S=a(A,S,E),w===null?_=A:w.sibling=A,w=A);return e&&C.forEach(function(M){return t(v,M)}),ji&&Iu(v,E),_}function f(v,S,x,b){var _=Lf(x);if(typeof _!="function")throw Error(Oe(150));if(x=_.call(x),x==null)throw Error(Oe(151));for(var w=_=null,C=S,E=S=0,A=null,T=x.next();C!==null&&!T.done;E++,T=x.next()){C.index>E?(A=C,C=null):A=C.sibling;var M=h(v,C,T.value,b);if(M===null){C===null&&(C=A);break}e&&C&&M.alternate===null&&t(v,C),S=a(M,S,E),w===null?_=M:w.sibling=M,w=M,C=A}if(T.done)return i(v,C),ji&&Iu(v,E),_;if(C===null){for(;!T.done;E++,T=x.next())T=d(v,T.value,b),T!==null&&(S=a(T,S,E),w===null?_=T:w.sibling=T,w=T);return ji&&Iu(v,E),_}for(C=r(v,C);!T.done;E++,T=x.next())T=p(C,v,E,T.value,b),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?E:T.key),S=a(T,S,E),w===null?_=T:w.sibling=T,w=T);return e&&C.forEach(function(j){return t(v,j)}),ji&&Iu(v,E),_}function g(v,S,x,b){if(typeof x=="object"&&x!==null&&x.type===Nh&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case h0:e:{for(var _=x.key,w=S;w!==null;){if(w.key===_){if(_=x.type,_===Nh){if(w.tag===7){i(v,w.sibling),S=n(w,x.props.children),S.return=v,v=S;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sc&&i5(_)===w.type){i(v,w.sibling),S=n(w,x.props),S.ref=Vf(v,w,x),S.return=v,v=S;break e}i(v,w);break}else t(v,w);w=w.sibling}x.type===Nh?(S=ud(x.props.children,v.mode,b,x.key),S.return=v,v=S):(b=y1(x.type,x.key,x.props,null,v.mode,b),b.ref=Vf(v,S,x),b.return=v,v=b)}return c(v);case Rh:e:{for(w=x.key;S!==null;){if(S.key===w)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){i(v,S.sibling),S=n(S,x.children||[]),S.return=v,v=S;break e}else{i(v,S);break}else t(v,S);S=S.sibling}S=Zw(x,v.mode,b),S.return=v,v=S}return c(v);case sc:return w=x._init,g(v,S,w(x._payload),b)}if(Sm(x))return m(v,S,x,b);if(Lf(x))return f(v,S,x,b);S0(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,S!==null&&S.tag===6?(i(v,S.sibling),S=n(S,x),S.return=v,v=S):(i(v,S),S=$w(x,v.mode,b),S.return=v,v=S),c(v)):i(v,S)}return g}var Dp=NL(!0),LL=NL(!1),Tv={},cs=cu(Tv),Ig=cu(Tv),Pg=cu(Tv);function Ku(e){if(e===Tv)throw Error(Oe(174));return e}function JA(e,t){switch(wi(Pg,t),wi(Ig,e),wi(cs,Tv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:XC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=XC(t,e)}Ti(cs),wi(cs,t)}function Op(){Ti(cs),Ti(Ig),Ti(Pg)}function zL(e){Ku(Pg.current);var t=Ku(cs.current),i=XC(t,e.type);t!==i&&(wi(Ig,e),wi(cs,i))}function QA(e){Ig.current===e&&(Ti(cs),Ti(Ig))}var ki=cu(0);function ob(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qw=[];function $A(){for(var e=0;e<qw.length;e++)qw[e]._workInProgressVersionPrimary=null;qw.length=0}var p1=Ll.ReactCurrentDispatcher,Yw=Ll.ReactCurrentBatchConfig,_d=0,Ri=null,gr=null,Pr=null,sb=!1,qm=!1,kg=0,JY=0;function on(){throw Error(Oe(321))}function ZA(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Eo(e[i],t[i]))return!1;return!0}function e4(e,t,i,r,n,a){if(_d=a,Ri=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,p1.current=e===null||e.memoizedState===null?eK:tK,e=i(r,n),qm){a=0;do{if(qm=!1,kg=0,25<=a)throw Error(Oe(301));a+=1,Pr=gr=null,t.updateQueue=null,p1.current=iK,e=i(r,n)}while(qm)}if(p1.current=lb,t=gr!==null&&gr.next!==null,_d=0,Pr=gr=Ri=null,sb=!1,t)throw Error(Oe(300));return e}function t4(){var e=kg!==0;return kg=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?Ri.memoizedState=Pr=e:Pr=Pr.next=e,Pr}function Wa(){if(gr===null){var e=Ri.alternate;e=e!==null?e.memoizedState:null}else e=gr.next;var t=Pr===null?Ri.memoizedState:Pr.next;if(t!==null)Pr=t,gr=e;else{if(e===null)throw Error(Oe(310));gr=e,e={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Pr===null?Ri.memoizedState=Pr=e:Pr=Pr.next=e}return Pr}function Dg(e,t){return typeof t=="function"?t(e):t}function Kw(e){var t=Wa(),i=t.queue;if(i===null)throw Error(Oe(311));i.lastRenderedReducer=e;var r=gr,n=r.baseQueue,a=i.pending;if(a!==null){if(n!==null){var c=n.next;n.next=a.next,a.next=c}r.baseQueue=n=a,i.pending=null}if(n!==null){a=n.next,r=r.baseState;var l=c=null,o=null,s=a;do{var u=s.lane;if((_d&u)===u)o!==null&&(o=o.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var d={lane:u,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};o===null?(l=o=d,c=r):o=o.next=d,Ri.lanes|=u,Sd|=u}s=s.next}while(s!==null&&s!==a);o===null?c=r:o.next=l,Eo(r,t.memoizedState)||(Qn=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=o,i.lastRenderedState=r}if(e=i.interleaved,e!==null){n=e;do a=n.lane,Ri.lanes|=a,Sd|=a,n=n.next;while(n!==e)}else n===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Xw(e){var t=Wa(),i=t.queue;if(i===null)throw Error(Oe(311));i.lastRenderedReducer=e;var r=i.dispatch,n=i.pending,a=t.memoizedState;if(n!==null){i.pending=null;var c=n=n.next;do a=e(a,c.action),c=c.next;while(c!==n);Eo(a,t.memoizedState)||(Qn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),i.lastRenderedState=a}return[a,r]}function BL(){}function FL(e,t){var i=Ri,r=Wa(),n=t(),a=!Eo(r.memoizedState,n);if(a&&(r.memoizedState=n,Qn=!0),r=r.queue,i4(HL.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||Pr!==null&&Pr.memoizedState.tag&1){if(i.flags|=2048,Og(9,VL.bind(null,i,r,n,t),void 0,null),Br===null)throw Error(Oe(349));_d&30||UL(i,t,n)}return n}function UL(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ri.updateQueue,t===null?(t={lastEffect:null,stores:null},Ri.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function VL(e,t,i,r){t.value=i,t.getSnapshot=r,GL(t)&&WL(e)}function HL(e,t,i){return i(function(){GL(t)&&WL(e)})}function GL(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Eo(e,i)}catch{return!0}}function WL(e){var t=Cl(e,1);t!==null&&So(t,e,1,-1)}function r5(e){var t=Xo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:e},t.queue=e,e=e.dispatch=ZY.bind(null,Ri,e),[t.memoizedState,e]}function Og(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},t=Ri.updateQueue,t===null?(t={lastEffect:null,stores:null},Ri.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e)),e}function qL(){return Wa().memoizedState}function f1(e,t,i,r){var n=Xo();Ri.flags|=e,n.memoizedState=Og(1|t,i,void 0,r===void 0?null:r)}function s2(e,t,i,r){var n=Wa();r=r===void 0?null:r;var a=void 0;if(gr!==null){var c=gr.memoizedState;if(a=c.destroy,r!==null&&ZA(r,c.deps)){n.memoizedState=Og(t,i,a,r);return}}Ri.flags|=e,n.memoizedState=Og(1|t,i,a,r)}function n5(e,t){return f1(8390656,8,e,t)}function i4(e,t){return s2(2048,8,e,t)}function YL(e,t){return s2(4,2,e,t)}function KL(e,t){return s2(4,4,e,t)}function XL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JL(e,t,i){return i=i!=null?i.concat([e]):null,s2(4,4,XL.bind(null,t,e),i)}function r4(){}function QL(e,t){var i=Wa();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&ZA(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function $L(e,t){var i=Wa();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&ZA(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function ZL(e,t,i){return _d&21?(Eo(i,t)||(i=iL(),Ri.lanes|=i,Sd|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qn=!0),e.memoizedState=i)}function QY(e,t){var i=si;si=i!==0&&4>i?i:4,e(!0);var r=Yw.transition;Yw.transition={};try{e(!1),t()}finally{si=i,Yw.transition=r}}function e7(){return Wa().memoizedState}function $Y(e,t,i){var r=Fc(e);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},t7(e))i7(t,i);else if(i=kL(e,t,i,r),i!==null){var n=Nn();So(i,e,r,n),r7(i,t,r)}}function ZY(e,t,i){var r=Fc(e),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(t7(e))i7(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,l=a(c,i);if(n.hasEagerState=!0,n.eagerState=l,Eo(l,c)){var o=t.interleaved;o===null?(n.next=n,KA(t)):(n.next=o.next,o.next=n),t.interleaved=n;return}}catch{}finally{}i=kL(e,t,n,r),i!==null&&(n=Nn(),So(i,e,r,n),r7(i,t,r))}}function t7(e){var t=e.alternate;return e===Ri||t!==null&&t===Ri}function i7(e,t){qm=sb=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function r7(e,t,i){if(i&4194240){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,OA(e,i)}}var lb={readContext:Ga,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},eK={readContext:Ga,useCallback:function(e,t){return Xo().memoizedState=[e,t===void 0?null:t],e},useContext:Ga,useEffect:n5,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,f1(4194308,4,XL.bind(null,t,e),i)},useLayoutEffect:function(e,t){return f1(4194308,4,e,t)},useInsertionEffect:function(e,t){return f1(4,2,e,t)},useMemo:function(e,t){var i=Xo();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=Xo();return t=i!==void 0?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$Y.bind(null,Ri,e),[r.memoizedState,e]},useRef:function(e){var t=Xo();return e={current:e},t.memoizedState=e},useState:r5,useDebugValue:r4,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=r5(!1),t=e[0];return e=QY.bind(null,e[1]),Xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=Ri,n=Xo();if(ji){if(i===void 0)throw Error(Oe(407));i=i()}else{if(i=t(),Br===null)throw Error(Oe(349));_d&30||UL(r,t,i)}n.memoizedState=i;var a={value:i,getSnapshot:t};return n.queue=a,n5(HL.bind(null,r,a,e),[e]),r.flags|=2048,Og(9,VL.bind(null,r,a,i,t),void 0,null),i},useId:function(){var e=Xo(),t=Br.identifierPrefix;if(ji){var i=ll,r=sl;i=(r&~(1<<32-_o(r)-1)).toString(32)+i,t=":"+t+"R"+i,i=kg++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=JY++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tK={readContext:Ga,useCallback:QL,useContext:Ga,useEffect:i4,useImperativeHandle:JL,useInsertionEffect:YL,useLayoutEffect:KL,useMemo:$L,useReducer:Kw,useRef:qL,useState:function(){return Kw(Dg)},useDebugValue:r4,useDeferredValue:function(e){var t=Wa();return ZL(t,gr.memoizedState,e)},useTransition:function(){var e=Kw(Dg)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:BL,useSyncExternalStore:FL,useId:e7,unstable_isNewReconciler:!1},iK={readContext:Ga,useCallback:QL,useContext:Ga,useEffect:i4,useImperativeHandle:JL,useInsertionEffect:YL,useLayoutEffect:KL,useMemo:$L,useReducer:Xw,useRef:qL,useState:function(){return Xw(Dg)},useDebugValue:r4,useDeferredValue:function(e){var t=Wa();return gr===null?t.memoizedState=e:ZL(t,gr.memoizedState,e)},useTransition:function(){var e=Xw(Dg)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:BL,useSyncExternalStore:FL,useId:e7,unstable_isNewReconciler:!1};function Rp(e,t){try{var i="",r=t;do i+=Iq(r),r=r.return;while(r);var n=i}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function Jw(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function yE(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var rK=typeof WeakMap=="function"?WeakMap:Map;function n7(e,t,i){i=vl(-1,i),i.tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){ub||(ub=!0,ME=r),yE(e,t)},i}function a7(e,t,i){i=vl(-1,i),i.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=t.value;i.payload=function(){return r(n)},i.callback=function(){yE(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(i.callback=function(){yE(e,t),typeof r!="function"&&(Bc===null?Bc=new Set([this]):Bc.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function a5(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new rK;var n=new Set;r.set(t,n)}else n=r.get(t),n===void 0&&(n=new Set,r.set(t,n));n.has(i)||(n.add(i),e=vK.bind(null,e,t,i),t.then(e,e))}function o5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function s5(e,t,i,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=vl(-1,1),t.tag=2,zc(i,t,1))),i.lanes|=1),e)}var nK=Ll.ReactCurrentOwner,Qn=!1;function jn(e,t,i,r){t.child=e===null?LL(t,null,i,r):Dp(t,e.child,i,r)}function l5(e,t,i,r,n){i=i.render;var a=t.ref;return cp(t,n),r=e4(e,t,i,r,a,n),i=t4(),e!==null&&!Qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,El(e,t,n)):(ji&&i&&VA(t),t.flags|=1,jn(e,t,r,n),t.child)}function c5(e,t,i,r,n){if(e===null){var a=i.type;return typeof a=="function"&&!d4(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=a,o7(e,t,a,r,n)):(e=y1(i.type,null,r,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var c=a.memoizedProps;if(i=i.compare,i=i!==null?i:Tg,i(c,r)&&e.ref===t.ref)return El(e,t,n)}return t.flags|=1,e=Uc(a,r),e.ref=t.ref,e.return=t,t.child=e}function o7(e,t,i,r,n){if(e!==null){var a=e.memoizedProps;if(Tg(a,r)&&e.ref===t.ref)if(Qn=!1,t.pendingProps=r=a,(e.lanes&n)!==0)e.flags&131072&&(Qn=!0);else return t.lanes=e.lanes,El(e,t,n)}return bE(e,t,i,r,n)}function s7(e,t,i){var r=t.pendingProps,n=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wi(qh,ca),ca|=i;else{if(!(i&1073741824))return e=a!==null?a.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wi(qh,ca),ca|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:i,wi(qh,ca),ca|=r}else a!==null?(r=a.baseLanes|i,t.memoizedState=null):r=i,wi(qh,ca),ca|=r;return jn(e,t,n,i),t.child}function l7(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function bE(e,t,i,r,n){var a=ta(i)?xd:bn.current;return a=Pp(t,a),cp(t,n),i=e4(e,t,i,r,a,n),r=t4(),e!==null&&!Qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,El(e,t,n)):(ji&&r&&VA(t),t.flags|=1,jn(e,t,i,n),t.child)}function u5(e,t,i,r,n){if(ta(i)){var a=!0;eb(t)}else a=!1;if(cp(t,n),t.stateNode===null)m1(e,t),RL(t,i,r),vE(t,i,r,n),r=!0;else if(e===null){var c=t.stateNode,l=t.memoizedProps;c.props=l;var o=c.context,s=i.contextType;typeof s=="object"&&s!==null?s=Ga(s):(s=ta(i)?xd:bn.current,s=Pp(t,s));var u=i.getDerivedStateFromProps,d=typeof u=="function"||typeof c.getSnapshotBeforeUpdate=="function";d||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(l!==r||o!==s)&&t5(t,c,r,s),lc=!1;var h=t.memoizedState;c.state=h,ab(t,r,c,n),o=t.memoizedState,l!==r||h!==o||ea.current||lc?(typeof u=="function"&&(gE(t,i,u,r),o=t.memoizedState),(l=lc||e5(t,i,l,r,h,o,s))?(d||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),c.props=r,c.state=o,c.context=s,r=l):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,DL(e,t),l=t.memoizedProps,s=t.type===t.elementType?l:po(t.type,l),c.props=s,d=t.pendingProps,h=c.context,o=i.contextType,typeof o=="object"&&o!==null?o=Ga(o):(o=ta(i)?xd:bn.current,o=Pp(t,o));var p=i.getDerivedStateFromProps;(u=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(l!==d||h!==o)&&t5(t,c,r,o),lc=!1,h=t.memoizedState,c.state=h,ab(t,r,c,n);var m=t.memoizedState;l!==d||h!==m||ea.current||lc?(typeof p=="function"&&(gE(t,i,p,r),m=t.memoizedState),(s=lc||e5(t,i,s,r,h,m,o)||!1)?(u||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,m,o),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,m,o)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),c.props=r,c.state=m,c.context=o,r=s):(typeof c.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xE(e,t,i,r,a,n)}function xE(e,t,i,r,n,a){l7(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return n&&XI(t,i,!1),El(e,t,a);r=t.stateNode,nK.current=t;var l=c&&typeof i.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Dp(t,e.child,null,a),t.child=Dp(t,null,l,a)):jn(e,t,l,a),t.memoizedState=r.state,n&&XI(t,i,!0),t.child}function c7(e){var t=e.stateNode;t.pendingContext?KI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KI(e,t.context,!1),JA(e,t.containerInfo)}function d5(e,t,i,r,n){return kp(),GA(n),t.flags|=256,jn(e,t,i,r),t.child}var wE={dehydrated:null,treeContext:null,retryLane:0};function _E(e){return{baseLanes:e,cachePool:null,transitions:null}}function u7(e,t,i){var r=t.pendingProps,n=ki.current,a=!1,c=(t.flags&128)!==0,l;if((l=c)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),wi(ki,n&1),e===null)return fE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=u2(c,r,0,null),e=ud(e,r,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=_E(i),t.memoizedState=wE,e):n4(t,c));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return aK(e,t,c,r,l,n,i);if(a){a=r.fallback,c=t.mode,n=e.child,l=n.sibling;var o={mode:"hidden",children:r.children};return!(c&1)&&t.child!==n?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=Uc(n,o),r.subtreeFlags=n.subtreeFlags&14680064),l!==null?a=Uc(l,a):(a=ud(a,c,i,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?_E(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~i,t.memoizedState=wE,r}return a=e.child,e=a.sibling,r=Uc(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=i),r.return=t,r.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r}function n4(e,t){return t=u2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function C0(e,t,i,r){return r!==null&&GA(r),Dp(t,e.child,null,i),e=n4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aK(e,t,i,r,n,a,c){if(i)return t.flags&256?(t.flags&=-257,r=Jw(Error(Oe(422))),C0(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,n=t.mode,r=u2({mode:"visible",children:r.children},n,0,null),a=ud(a,n,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Dp(t,e.child,null,c),t.child.memoizedState=_E(c),t.memoizedState=wE,a);if(!(t.mode&1))return C0(e,t,c,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Oe(419)),r=Jw(a,r,void 0),C0(e,t,c,r)}if(l=(c&e.childLanes)!==0,Qn||l){if(r=Br,r!==null){switch(c&-c){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|c)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,Cl(e,n),So(r,e,n,-1))}return u4(),r=Jw(Error(Oe(421))),C0(e,t,c,r)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=yK.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,ha=Lc(n.nextSibling),fa=t,ji=!0,mo=null,e!==null&&(Oa[Ra++]=sl,Oa[Ra++]=ll,Oa[Ra++]=wd,sl=e.id,ll=e.overflow,wd=t),t=n4(t,r.children),t.flags|=4096,t)}function h5(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mE(e.return,t,i)}function Qw(e,t,i,r,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=i,a.tailMode=n)}function d7(e,t,i){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(jn(e,t,r.children,i),r=ki.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h5(e,i,t);else if(e.tag===19)h5(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(wi(ki,r),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;i!==null;)e=i.alternate,e!==null&&ob(e)===null&&(n=i),i=i.sibling;i=n,i===null?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),Qw(t,!1,n,i,a);break;case"backwards":for(i=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ob(e)===null){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}Qw(t,!0,i,null,a);break;case"together":Qw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function m1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function El(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Sd|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,i=Uc(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Uc(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function oK(e,t,i){switch(t.tag){case 3:c7(t),kp();break;case 5:zL(t);break;case 1:ta(t.type)&&eb(t);break;case 4:JA(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;wi(rb,r._currentValue),r._currentValue=n;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(wi(ki,ki.current&1),t.flags|=128,null):i&t.child.childLanes?u7(e,t,i):(wi(ki,ki.current&1),e=El(e,t,i),e!==null?e.sibling:null);wi(ki,ki.current&1);break;case 19:if(r=(i&t.childLanes)!==0,e.flags&128){if(r)return d7(e,t,i);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),wi(ki,ki.current),r)break;return null;case 22:case 23:return t.lanes=0,s7(e,t,i)}return El(e,t,i)}var h7,SE,p7,f7;h7=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};SE=function(){};p7=function(e,t,i,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Ku(cs.current);var a=null;switch(i){case"input":n=WC(e,n),r=WC(e,r),a=[];break;case"select":n=Li({},n,{value:void 0}),r=Li({},r,{value:void 0}),a=[];break;case"textarea":n=KC(e,n),r=KC(e,r),a=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$1)}JC(i,r);var c;i=null;for(s in n)if(!r.hasOwnProperty(s)&&n.hasOwnProperty(s)&&n[s]!=null)if(s==="style"){var l=n[s];for(c in l)l.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bg.hasOwnProperty(s)?a||(a=[]):(a=a||[]).push(s,null));for(s in r){var o=r[s];if(l=n!=null?n[s]:void 0,r.hasOwnProperty(s)&&o!==l&&(o!=null||l!=null))if(s==="style")if(l){for(c in l)!l.hasOwnProperty(c)||o&&o.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in o)o.hasOwnProperty(c)&&l[c]!==o[c]&&(i||(i={}),i[c]=o[c])}else i||(a||(a=[]),a.push(s,i)),i=o;else s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,l=l?l.__html:void 0,o!=null&&l!==o&&(a=a||[]).push(s,o)):s==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(s,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(bg.hasOwnProperty(s)?(o!=null&&s==="onScroll"&&Si("scroll",e),a||l===o||(a=[])):(a=a||[]).push(s,o))}i&&(a=a||[]).push("style",i);var s=a;(t.updateQueue=s)&&(t.flags|=4)}};f7=function(e,t,i,r){i!==r&&(t.flags|=4)};function Hf(e,t){if(!ji)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var n=e.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function sK(e,t,i){var r=t.pendingProps;switch(HA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return ta(t.type)&&Z1(),sn(t),null;case 3:return r=t.stateNode,Op(),Ti(ea),Ti(bn),$A(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mo!==null&&(PE(mo),mo=null))),SE(e,t),sn(t),null;case 5:QA(t);var n=Ku(Pg.current);if(i=t.type,e!==null&&t.stateNode!=null)p7(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return sn(t),null}if(e=Ku(cs.current),_0(t)){r=t.stateNode,i=t.type;var a=t.memoizedProps;switch(r[es]=t,r[jg]=a,e=(t.mode&1)!==0,i){case"dialog":Si("cancel",r),Si("close",r);break;case"iframe":case"object":case"embed":Si("load",r);break;case"video":case"audio":for(n=0;n<Em.length;n++)Si(Em[n],r);break;case"source":Si("error",r);break;case"img":case"image":case"link":Si("error",r),Si("load",r);break;case"details":Si("toggle",r);break;case"input":wI(r,a),Si("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Si("invalid",r);break;case"textarea":SI(r,a),Si("invalid",r)}JC(i,a),n=null;for(var c in a)if(a.hasOwnProperty(c)){var l=a[c];c==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&w0(r.textContent,l,e),n=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&w0(r.textContent,l,e),n=["children",""+l]):bg.hasOwnProperty(c)&&l!=null&&c==="onScroll"&&Si("scroll",r)}switch(i){case"input":p0(r),_I(r,a,!0);break;case"textarea":p0(r),CI(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=$1)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UN(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(i,{is:r.is}):(e=c.createElement(i),i==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,i),e[es]=t,e[jg]=r,h7(e,t,!1,!1),t.stateNode=e;e:{switch(c=QC(i,r),i){case"dialog":Si("cancel",e),Si("close",e),n=r;break;case"iframe":case"object":case"embed":Si("load",e),n=r;break;case"video":case"audio":for(n=0;n<Em.length;n++)Si(Em[n],e);n=r;break;case"source":Si("error",e),n=r;break;case"img":case"image":case"link":Si("error",e),Si("load",e),n=r;break;case"details":Si("toggle",e),n=r;break;case"input":wI(e,r),n=WC(e,r),Si("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=Li({},r,{value:void 0}),Si("invalid",e);break;case"textarea":SI(e,r),n=KC(e,r),Si("invalid",e);break;default:n=r}JC(i,n),l=n;for(a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="style"?GN(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&VN(e,o)):a==="children"?typeof o=="string"?(i!=="textarea"||o!=="")&&xg(e,o):typeof o=="number"&&xg(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(bg.hasOwnProperty(a)?o!=null&&a==="onScroll"&&Si("scroll",e):o!=null&&MA(e,a,o,c))}switch(i){case"input":p0(e),_I(e,r,!1);break;case"textarea":p0(e),CI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qc(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ap(e,!!r.multiple,a,!1):r.defaultValue!=null&&ap(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=$1)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)f7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(i=Ku(Pg.current),Ku(cs.current),_0(t)){if(r=t.stateNode,i=t.memoizedProps,r[es]=t,(a=r.nodeValue!==i)&&(e=fa,e!==null))switch(e.tag){case 3:w0(r.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&w0(r.nodeValue,i,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[es]=t,t.stateNode=r}return sn(t),null;case 13:if(Ti(ki),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ji&&ha!==null&&t.mode&1&&!(t.flags&128))PL(),kp(),t.flags|=98560,a=!1;else if(a=_0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Oe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[es]=t}else kp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),a=!1}else mo!==null&&(PE(mo),mo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ki.current&1?wr===0&&(wr=3):u4())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return Op(),SE(e,t),e===null&&Ag(t.stateNode.containerInfo),sn(t),null;case 10:return YA(t.type._context),sn(t),null;case 17:return ta(t.type)&&Z1(),sn(t),null;case 19:if(Ti(ki),a=t.memoizedState,a===null)return sn(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)Hf(a,!1);else{if(wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=ob(e),c!==null){for(t.flags|=128,Hf(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;i!==null;)a=i,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return wi(ki,ki.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ji()>Np&&(t.flags|=128,r=!0,Hf(a,!1),t.lanes=4194304)}else{if(!r)if(e=ob(c),e!==null){if(t.flags|=128,r=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Hf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ji)return sn(t),null}else 2*Ji()-a.renderingStartTime>Np&&i!==1073741824&&(t.flags|=128,r=!0,Hf(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(i=a.last,i!==null?i.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ji(),t.sibling=null,i=ki.current,wi(ki,r?i&1|2:i&1),t):(sn(t),null);case 22:case 23:return c4(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ca&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function lK(e,t){switch(HA(t),t.tag){case 1:return ta(t.type)&&Z1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Op(),Ti(ea),Ti(bn),$A(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return QA(t),null;case 13:if(Ti(ki),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));kp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ti(ki),null;case 4:return Op(),null;case 10:return YA(t.type._context),null;case 22:case 23:return c4(),null;case 24:return null;default:return null}}var E0=!1,pn=!1,cK=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Wh(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){Ui(e,t,r)}else i.current=null}function CE(e,t,i){try{i()}catch(r){Ui(e,t,r)}}var p5=!1;function uK(e,t){if(sE=X1,e=yL(),UA(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var n=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{i.nodeType,a.nodeType}catch{i=null;break e}var c=0,l=-1,o=-1,s=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==i||n!==0&&d.nodeType!==3||(l=c+n),d!==a||r!==0&&d.nodeType!==3||(o=c+r),d.nodeType===3&&(c+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===i&&++s===n&&(l=c),h===a&&++u===r&&(o=c),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}i=l===-1||o===-1?null:{start:l,end:o}}else i=null}i=i||{start:0,end:0}}else i=null;for(lE={focusedElem:e,selectionRange:i},X1=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){t=Xe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var f=m.memoizedProps,g=m.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:po(t.type,f),g);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(b){Ui(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}return m=p5,p5=!1,m}function Ym(e,t,i){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&CE(t,i,a)}n=n.next}while(n!==r)}}function l2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function EE(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function m7(e){var t=e.alternate;t!==null&&(e.alternate=null,m7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[jg],delete t[dE],delete t[qY],delete t[YY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g7(e){return e.tag===5||e.tag===3||e.tag===4}function f5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function TE(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=$1));else if(r!==4&&(e=e.child,e!==null))for(TE(e,t,i),e=e.sibling;e!==null;)TE(e,t,i),e=e.sibling}function AE(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(AE(e,t,i),e=e.sibling;e!==null;)AE(e,t,i),e=e.sibling}var qr=null,fo=!1;function Vl(e,t,i){for(i=i.child;i!==null;)v7(e,t,i),i=i.sibling}function v7(e,t,i){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(e2,i)}catch{}switch(i.tag){case 5:pn||Wh(i,t);case 6:var r=qr,n=fo;qr=null,Vl(e,t,i),qr=r,fo=n,qr!==null&&(fo?(e=qr,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):qr.removeChild(i.stateNode));break;case 18:qr!==null&&(fo?(e=qr,i=i.stateNode,e.nodeType===8?Gw(e.parentNode,i):e.nodeType===1&&Gw(e,i),Cg(e)):Gw(qr,i.stateNode));break;case 4:r=qr,n=fo,qr=i.stateNode.containerInfo,fo=!0,Vl(e,t,i),qr=r,fo=n;break;case 0:case 11:case 14:case 15:if(!pn&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var a=n,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&CE(i,t,c),n=n.next}while(n!==r)}Vl(e,t,i);break;case 1:if(!pn&&(Wh(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(l){Ui(i,t,l)}Vl(e,t,i);break;case 21:Vl(e,t,i);break;case 22:i.mode&1?(pn=(r=pn)||i.memoizedState!==null,Vl(e,t,i),pn=r):Vl(e,t,i);break;default:Vl(e,t,i)}}function m5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new cK),t.forEach(function(r){var n=bK.bind(null,e,r);i.has(r)||(i.add(r),r.then(n,n))})}}function Qa(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var n=i[r];try{var a=e,c=t,l=c;e:for(;l!==null;){switch(l.tag){case 5:qr=l.stateNode,fo=!1;break e;case 3:qr=l.stateNode.containerInfo,fo=!0;break e;case 4:qr=l.stateNode.containerInfo,fo=!0;break e}l=l.return}if(qr===null)throw Error(Oe(160));v7(a,c,n),qr=null,fo=!1;var o=n.alternate;o!==null&&(o.return=null),n.return=null}catch(s){Ui(n,t,s)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y7(t,e),t=t.sibling}function y7(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qa(t,e),Ro(e),r&4){try{Ym(3,e,e.return),l2(3,e)}catch(f){Ui(e,e.return,f)}try{Ym(5,e,e.return)}catch(f){Ui(e,e.return,f)}}break;case 1:Qa(t,e),Ro(e),r&512&&i!==null&&Wh(i,i.return);break;case 5:if(Qa(t,e),Ro(e),r&512&&i!==null&&Wh(i,i.return),e.flags&32){var n=e.stateNode;try{xg(n,"")}catch(f){Ui(e,e.return,f)}}if(r&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,c=i!==null?i.memoizedProps:a,l=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&BN(n,a),QC(l,c);var s=QC(l,a);for(c=0;c<o.length;c+=2){var u=o[c],d=o[c+1];u==="style"?GN(n,d):u==="dangerouslySetInnerHTML"?VN(n,d):u==="children"?xg(n,d):MA(n,u,d,s)}switch(l){case"input":qC(n,a);break;case"textarea":FN(n,a);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ap(n,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ap(n,!!a.multiple,a.defaultValue,!0):ap(n,!!a.multiple,a.multiple?[]:"",!1))}n[jg]=a}catch(f){Ui(e,e.return,f)}}break;case 6:if(Qa(t,e),Ro(e),r&4){if(e.stateNode===null)throw Error(Oe(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(f){Ui(e,e.return,f)}}break;case 3:if(Qa(t,e),Ro(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Cg(t.containerInfo)}catch(f){Ui(e,e.return,f)}break;case 4:Qa(t,e),Ro(e);break;case 13:Qa(t,e),Ro(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(s4=Ji())),r&4&&m5(e);break;case 22:if(u=i!==null&&i.memoizedState!==null,e.mode&1?(pn=(s=pn)||u,Qa(t,e),pn=s):Qa(t,e),Ro(e),r&8192){if(s=e.memoizedState!==null,(e.stateNode.isHidden=s)&&!u&&e.mode&1)for(Xe=e,u=e.child;u!==null;){for(d=Xe=u;Xe!==null;){switch(h=Xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ym(4,h,h.return);break;case 1:Wh(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,i=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){Ui(r,i,f)}}break;case 5:Wh(h,h.return);break;case 22:if(h.memoizedState!==null){v5(d);continue}}p!==null?(p.return=h,Xe=p):v5(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{n=d.stateNode,s?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,o=d.memoizedProps.style,c=o!=null&&o.hasOwnProperty("display")?o.display:null,l.style.display=HN("display",c))}catch(f){Ui(e,e.return,f)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=s?"":d.memoizedProps}catch(f){Ui(e,e.return,f)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qa(t,e),Ro(e),r&4&&m5(e);break;case 21:break;default:Qa(t,e),Ro(e)}}function Ro(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(g7(i)){var r=i;break e}i=i.return}throw Error(Oe(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(xg(n,""),r.flags&=-33);var a=f5(e);AE(e,a,n);break;case 3:case 4:var c=r.stateNode.containerInfo,l=f5(e);TE(e,l,c);break;default:throw Error(Oe(161))}}catch(o){Ui(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dK(e,t,i){Xe=e,b7(e)}function b7(e,t,i){for(var r=(e.mode&1)!==0;Xe!==null;){var n=Xe,a=n.child;if(n.tag===22&&r){var c=n.memoizedState!==null||E0;if(!c){var l=n.alternate,o=l!==null&&l.memoizedState!==null||pn;l=E0;var s=pn;if(E0=c,(pn=o)&&!s)for(Xe=n;Xe!==null;)c=Xe,o=c.child,c.tag===22&&c.memoizedState!==null?y5(n):o!==null?(o.return=c,Xe=o):y5(n);for(;a!==null;)Xe=a,b7(a),a=a.sibling;Xe=n,E0=l,pn=s}g5(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,Xe=a):g5(e)}}function g5(e){for(;Xe!==null;){var t=Xe;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||l2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pn)if(i===null)r.componentDidMount();else{var n=t.elementType===t.type?i.memoizedProps:po(t.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ZI(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ZI(t,c,i)}break;case 5:var l=t.stateNode;if(i===null&&t.flags&4){i=l;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&i.focus();break;case"img":o.src&&(i.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var s=t.alternate;if(s!==null){var u=s.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Cg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}pn||t.flags&512&&EE(t)}catch(h){Ui(t,t.return,h)}}if(t===e){Xe=null;break}if(i=t.sibling,i!==null){i.return=t.return,Xe=i;break}Xe=t.return}}function v5(e){for(;Xe!==null;){var t=Xe;if(t===e){Xe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Xe=i;break}Xe=t.return}}function y5(e){for(;Xe!==null;){var t=Xe;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{l2(4,t)}catch(o){Ui(t,i,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var n=t.return;try{r.componentDidMount()}catch(o){Ui(t,n,o)}}var a=t.return;try{EE(t)}catch(o){Ui(t,a,o)}break;case 5:var c=t.return;try{EE(t)}catch(o){Ui(t,c,o)}}}catch(o){Ui(t,t.return,o)}if(t===e){Xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Xe=l;break}Xe=t.return}}var hK=Math.ceil,cb=Ll.ReactCurrentDispatcher,a4=Ll.ReactCurrentOwner,Fa=Ll.ReactCurrentBatchConfig,Xt=0,Br=null,nr=null,tn=0,ca=0,qh=cu(0),wr=0,Rg=null,Sd=0,c2=0,o4=0,Km=null,qn=null,s4=0,Np=1/0,Ks=null,ub=!1,ME=null,Bc=null,T0=!1,Cc=null,db=0,Xm=0,jE=null,g1=-1,v1=0;function Nn(){return Xt&6?Ji():g1!==-1?g1:g1=Ji()}function Fc(e){return e.mode&1?Xt&2&&tn!==0?tn&-tn:XY.transition!==null?(v1===0&&(v1=iL()),v1):(e=si,e!==0||(e=window.event,e=e===void 0?16:cL(e.type)),e):1}function So(e,t,i,r){if(50<Xm)throw Xm=0,jE=null,Error(Oe(185));Sv(e,i,r),(!(Xt&2)||e!==Br)&&(e===Br&&(!(Xt&2)&&(c2|=i),wr===4&&hc(e,tn)),ia(e,r),i===1&&Xt===0&&!(t.mode&1)&&(Np=Ji()+500,a2&&uu()))}function ia(e,t){var i=e.callbackNode;Xq(e,t);var r=K1(e,e===Br?tn:0);if(r===0)i!==null&&AI(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(i!=null&&AI(i),t===1)e.tag===0?KY(b5.bind(null,e)):ML(b5.bind(null,e)),GY(function(){!(Xt&6)&&uu()}),i=null;else{switch(rL(r)){case 1:i=DA;break;case 4:i=eL;break;case 16:i=Y1;break;case 536870912:i=tL;break;default:i=Y1}i=A7(i,x7.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function x7(e,t){if(g1=-1,v1=0,Xt&6)throw Error(Oe(327));var i=e.callbackNode;if(up()&&e.callbackNode!==i)return null;var r=K1(e,e===Br?tn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hb(e,r);else{t=r;var n=Xt;Xt|=2;var a=_7();(Br!==e||tn!==t)&&(Ks=null,Np=Ji()+500,cd(e,t));do try{mK();break}catch(l){w7(e,l)}while(!0);qA(),cb.current=a,Xt=n,nr!==null?t=0:(Br=null,tn=0,t=wr)}if(t!==0){if(t===2&&(n=iE(e),n!==0&&(r=n,t=IE(e,n))),t===1)throw i=Rg,cd(e,0),hc(e,r),ia(e,Ji()),i;if(t===6)hc(e,r);else{if(n=e.current.alternate,!(r&30)&&!pK(n)&&(t=hb(e,r),t===2&&(a=iE(e),a!==0&&(r=a,t=IE(e,a))),t===1))throw i=Rg,cd(e,0),hc(e,r),ia(e,Ji()),i;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:Pu(e,qn,Ks);break;case 3:if(hc(e,r),(r&130023424)===r&&(t=s4+500-Ji(),10<t)){if(K1(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){Nn(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=uE(Pu.bind(null,e,qn,Ks),t);break}Pu(e,qn,Ks);break;case 4:if(hc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,n=-1;0<r;){var c=31-_o(r);a=1<<c,c=t[c],c>n&&(n=c),r&=~a}if(r=n,r=Ji()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hK(r/1960))-r,10<r){e.timeoutHandle=uE(Pu.bind(null,e,qn,Ks),r);break}Pu(e,qn,Ks);break;case 5:Pu(e,qn,Ks);break;default:throw Error(Oe(329))}}}return ia(e,Ji()),e.callbackNode===i?x7.bind(null,e):null}function IE(e,t){var i=Km;return e.current.memoizedState.isDehydrated&&(cd(e,t).flags|=256),e=hb(e,t),e!==2&&(t=qn,qn=i,t!==null&&PE(t)),e}function PE(e){qn===null?qn=e:qn.push.apply(qn,e)}function pK(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var n=i[r],a=n.getSnapshot;n=n.value;try{if(!Eo(a(),n))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hc(e,t){for(t&=~o4,t&=~c2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-_o(t),r=1<<i;e[i]=-1,t&=~r}}function b5(e){if(Xt&6)throw Error(Oe(327));up();var t=K1(e,0);if(!(t&1))return ia(e,Ji()),null;var i=hb(e,t);if(e.tag!==0&&i===2){var r=iE(e);r!==0&&(t=r,i=IE(e,r))}if(i===1)throw i=Rg,cd(e,0),hc(e,t),ia(e,Ji()),i;if(i===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e,qn,Ks),ia(e,Ji()),null}function l4(e,t){var i=Xt;Xt|=1;try{return e(t)}finally{Xt=i,Xt===0&&(Np=Ji()+500,a2&&uu())}}function Cd(e){Cc!==null&&Cc.tag===0&&!(Xt&6)&&up();var t=Xt;Xt|=1;var i=Fa.transition,r=si;try{if(Fa.transition=null,si=1,e)return e()}finally{si=r,Fa.transition=i,Xt=t,!(Xt&6)&&uu()}}function c4(){ca=qh.current,Ti(qh)}function cd(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,HY(i)),nr!==null)for(i=nr.return;i!==null;){var r=i;switch(HA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Z1();break;case 3:Op(),Ti(ea),Ti(bn),$A();break;case 5:QA(r);break;case 4:Op();break;case 13:Ti(ki);break;case 19:Ti(ki);break;case 10:YA(r.type._context);break;case 22:case 23:c4()}i=i.return}if(Br=e,nr=e=Uc(e.current,null),tn=ca=t,wr=0,Rg=null,o4=c2=Sd=0,qn=Km=null,Yu!==null){for(t=0;t<Yu.length;t++)if(i=Yu[t],r=i.interleaved,r!==null){i.interleaved=null;var n=r.next,a=i.pending;if(a!==null){var c=a.next;a.next=n,r.next=c}i.pending=r}Yu=null}return e}function w7(e,t){do{var i=nr;try{if(qA(),p1.current=lb,sb){for(var r=Ri.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}sb=!1}if(_d=0,Pr=gr=Ri=null,qm=!1,kg=0,a4.current=null,i===null||i.return===null){wr=1,Rg=t,nr=null;break}e:{var a=e,c=i.return,l=i,o=t;if(t=tn,l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var s=o,u=l,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=o5(c);if(p!==null){p.flags&=-257,s5(p,c,l,a,t),p.mode&1&&a5(a,s,t),t=p,o=s;var m=t.updateQueue;if(m===null){var f=new Set;f.add(o),t.updateQueue=f}else m.add(o);break e}else{if(!(t&1)){a5(a,s,t),u4();break e}o=Error(Oe(426))}}else if(ji&&l.mode&1){var g=o5(c);if(g!==null){!(g.flags&65536)&&(g.flags|=256),s5(g,c,l,a,t),GA(Rp(o,l));break e}}a=o=Rp(o,l),wr!==4&&(wr=2),Km===null?Km=[a]:Km.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=n7(a,o,t);$I(a,v);break e;case 1:l=o;var S=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bc===null||!Bc.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=a7(a,l,t);$I(a,b);break e}}a=a.return}while(a!==null)}C7(i)}catch(_){t=_,nr===i&&i!==null&&(nr=i=i.return);continue}break}while(!0)}function _7(){var e=cb.current;return cb.current=lb,e===null?lb:e}function u4(){(wr===0||wr===3||wr===2)&&(wr=4),Br===null||!(Sd&268435455)&&!(c2&268435455)||hc(Br,tn)}function hb(e,t){var i=Xt;Xt|=2;var r=_7();(Br!==e||tn!==t)&&(Ks=null,cd(e,t));do try{fK();break}catch(n){w7(e,n)}while(!0);if(qA(),Xt=i,cb.current=r,nr!==null)throw Error(Oe(261));return Br=null,tn=0,wr}function fK(){for(;nr!==null;)S7(nr)}function mK(){for(;nr!==null&&!Fq();)S7(nr)}function S7(e){var t=T7(e.alternate,e,ca);e.memoizedProps=e.pendingProps,t===null?C7(e):nr=t,a4.current=null}function C7(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=lK(i,t),i!==null){i.flags&=32767,nr=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wr=6,nr=null;return}}else if(i=sK(i,t,ca),i!==null){nr=i;return}if(t=t.sibling,t!==null){nr=t;return}nr=t=e}while(t!==null);wr===0&&(wr=5)}function Pu(e,t,i){var r=si,n=Fa.transition;try{Fa.transition=null,si=1,gK(e,t,i,r)}finally{Fa.transition=n,si=r}return null}function gK(e,t,i,r){do up();while(Cc!==null);if(Xt&6)throw Error(Oe(327));i=e.finishedWork;var n=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var a=i.lanes|i.childLanes;if(Jq(e,a),e===Br&&(nr=Br=null,tn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||T0||(T0=!0,A7(Y1,function(){return up(),null})),a=(i.flags&15990)!==0,i.subtreeFlags&15990||a){a=Fa.transition,Fa.transition=null;var c=si;si=1;var l=Xt;Xt|=4,a4.current=null,uK(e,i),y7(i,e),NY(lE),X1=!!sE,lE=sE=null,e.current=i,dK(i),Uq(),Xt=l,si=c,Fa.transition=a}else e.current=i;if(T0&&(T0=!1,Cc=e,db=n),a=e.pendingLanes,a===0&&(Bc=null),Gq(i.stateNode),ia(e,Ji()),t!==null)for(r=e.onRecoverableError,i=0;i<t.length;i++)n=t[i],r(n.value,{componentStack:n.stack,digest:n.digest});if(ub)throw ub=!1,e=ME,ME=null,e;return db&1&&e.tag!==0&&up(),a=e.pendingLanes,a&1?e===jE?Xm++:(Xm=0,jE=e):Xm=0,uu(),null}function up(){if(Cc!==null){var e=rL(db),t=Fa.transition,i=si;try{if(Fa.transition=null,si=16>e?16:e,Cc===null)var r=!1;else{if(e=Cc,Cc=null,db=0,Xt&6)throw Error(Oe(331));var n=Xt;for(Xt|=4,Xe=e.current;Xe!==null;){var a=Xe,c=a.child;if(Xe.flags&16){var l=a.deletions;if(l!==null){for(var o=0;o<l.length;o++){var s=l[o];for(Xe=s;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:Ym(8,u,a)}var d=u.child;if(d!==null)d.return=u,Xe=d;else for(;Xe!==null;){u=Xe;var h=u.sibling,p=u.return;if(m7(u),u===s){Xe=null;break}if(h!==null){h.return=p,Xe=h;break}Xe=p}}}var m=a.alternate;if(m!==null){var f=m.child;if(f!==null){m.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(f!==null)}}Xe=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,Xe=c;else e:for(;Xe!==null;){if(a=Xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ym(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Xe=v;break e}Xe=a.return}}var S=e.current;for(Xe=S;Xe!==null;){c=Xe;var x=c.child;if(c.subtreeFlags&2064&&x!==null)x.return=c,Xe=x;else e:for(c=S;Xe!==null;){if(l=Xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:l2(9,l)}}catch(_){Ui(l,l.return,_)}if(l===c){Xe=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Xe=b;break e}Xe=l.return}}if(Xt=n,uu(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(e2,e)}catch{}r=!0}return r}finally{si=i,Fa.transition=t}}return!1}function x5(e,t,i){t=Rp(i,t),t=n7(e,t,1),e=zc(e,t,1),t=Nn(),e!==null&&(Sv(e,1,t),ia(e,t))}function Ui(e,t,i){if(e.tag===3)x5(e,e,i);else for(;t!==null;){if(t.tag===3){x5(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bc===null||!Bc.has(r))){e=Rp(i,e),e=a7(t,e,1),t=zc(t,e,1),e=Nn(),t!==null&&(Sv(t,1,e),ia(t,e));break}}t=t.return}}function vK(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&i,Br===e&&(tn&i)===i&&(wr===4||wr===3&&(tn&130023424)===tn&&500>Ji()-s4?cd(e,0):o4|=i),ia(e,t)}function E7(e,t){t===0&&(e.mode&1?(t=g0,g0<<=1,!(g0&130023424)&&(g0=4194304)):t=1);var i=Nn();e=Cl(e,t),e!==null&&(Sv(e,t,i),ia(e,i))}function yK(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),E7(e,i)}function bK(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(i=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),E7(e,i)}var T7;T7=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ea.current)Qn=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Qn=!1,oK(e,t,i);Qn=!!(e.flags&131072)}else Qn=!1,ji&&t.flags&1048576&&jL(t,ib,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;m1(e,t),e=t.pendingProps;var n=Pp(t,bn.current);cp(t,i),n=e4(null,t,r,e,n,i);var a=t4();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ta(r)?(a=!0,eb(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,XA(t),n.updater=o2,t.stateNode=n,n._reactInternals=t,vE(t,r,e,i),t=xE(null,t,r,!0,a,i)):(t.tag=0,ji&&a&&VA(t),jn(null,t,n,i),t=t.child),t;case 16:r=t.elementType;e:{switch(m1(e,t),e=t.pendingProps,n=r._init,r=n(r._payload),t.type=r,n=t.tag=wK(r),e=po(r,e),n){case 0:t=bE(null,t,r,e,i);break e;case 1:t=u5(null,t,r,e,i);break e;case 11:t=l5(null,t,r,e,i);break e;case 14:t=c5(null,t,r,po(r.type,e),i);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:po(r,n),bE(e,t,r,n,i);case 1:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:po(r,n),u5(e,t,r,n,i);case 3:e:{if(c7(t),e===null)throw Error(Oe(387));r=t.pendingProps,a=t.memoizedState,n=a.element,DL(e,t),ab(t,r,null,i);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=Rp(Error(Oe(423)),t),t=d5(e,t,r,i,n);break e}else if(r!==n){n=Rp(Error(Oe(424)),t),t=d5(e,t,r,i,n);break e}else for(ha=Lc(t.stateNode.containerInfo.firstChild),fa=t,ji=!0,mo=null,i=LL(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(kp(),r===n){t=El(e,t,i);break e}jn(e,t,r,i)}t=t.child}return t;case 5:return zL(t),e===null&&fE(t),r=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,c=n.children,cE(r,n)?c=null:a!==null&&cE(r,a)&&(t.flags|=32),l7(e,t),jn(e,t,c,i),t.child;case 6:return e===null&&fE(t),null;case 13:return u7(e,t,i);case 4:return JA(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dp(t,null,r,i):jn(e,t,r,i),t.child;case 11:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:po(r,n),l5(e,t,r,n,i);case 7:return jn(e,t,t.pendingProps,i),t.child;case 8:return jn(e,t,t.pendingProps.children,i),t.child;case 12:return jn(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,a=t.memoizedProps,c=n.value,wi(rb,r._currentValue),r._currentValue=c,a!==null)if(Eo(a.value,c)){if(a.children===n.children&&!ea.current){t=El(e,t,i);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){c=a.child;for(var o=l.firstContext;o!==null;){if(o.context===r){if(a.tag===1){o=vl(-1,i&-i),o.tag=2;var s=a.updateQueue;if(s!==null){s=s.shared;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}}a.lanes|=i,o=a.alternate,o!==null&&(o.lanes|=i),mE(a.return,i,t),l.lanes|=i;break}o=o.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(Oe(341));c.lanes|=i,l=c.alternate,l!==null&&(l.lanes|=i),mE(c,i,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}jn(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,cp(t,i),n=Ga(n),r=r(n),t.flags|=1,jn(e,t,r,i),t.child;case 14:return r=t.type,n=po(r,t.pendingProps),n=po(r.type,n),c5(e,t,r,n,i);case 15:return o7(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:po(r,n),m1(e,t),t.tag=1,ta(r)?(e=!0,eb(t)):e=!1,cp(t,i),RL(t,r,n),vE(t,r,n,i),xE(null,t,r,!0,e,i);case 19:return d7(e,t,i);case 22:return s7(e,t,i)}throw Error(Oe(156,t.tag))};function A7(e,t){return ZN(e,t)}function xK(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,i,r){return new xK(e,t,i,r)}function d4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wK(e){if(typeof e=="function")return d4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===IA)return 11;if(e===PA)return 14}return 2}function Uc(e,t){var i=e.alternate;return i===null?(i=za(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function y1(e,t,i,r,n,a){var c=2;if(r=e,typeof e=="function")d4(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Nh:return ud(i.children,n,a,t);case jA:c=8,n|=8;break;case UC:return e=za(12,i,t,n|2),e.elementType=UC,e.lanes=a,e;case VC:return e=za(13,i,t,n),e.elementType=VC,e.lanes=a,e;case HC:return e=za(19,i,t,n),e.elementType=HC,e.lanes=a,e;case NN:return u2(i,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ON:c=10;break e;case RN:c=9;break e;case IA:c=11;break e;case PA:c=14;break e;case sc:c=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=za(c,i,t,n),t.elementType=e,t.type=r,t.lanes=a,t}function ud(e,t,i,r){return e=za(7,e,r,t),e.lanes=i,e}function u2(e,t,i,r){return e=za(22,e,r,t),e.elementType=NN,e.lanes=i,e.stateNode={isHidden:!1},e}function $w(e,t,i){return e=za(6,e,null,t),e.lanes=i,e}function Zw(e,t,i){return t=za(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _K(e,t,i,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dw(0),this.expirationTimes=Dw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dw(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function h4(e,t,i,r,n,a,c,l,o){return e=new _K(e,t,i,l,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=za(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},XA(a),e}function SK(e,t,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:i}}function M7(e){if(!e)return $c;e=e._reactInternals;e:{if(zd(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var i=e.type;if(ta(i))return AL(e,i,t)}return t}function j7(e,t,i,r,n,a,c,l,o){return e=h4(i,r,!0,e,n,a,c,l,o),e.context=M7(null),i=e.current,r=Nn(),n=Fc(i),a=vl(r,n),a.callback=t??null,zc(i,a,n),e.current.lanes=n,Sv(e,n,r),ia(e,r),e}function d2(e,t,i,r){var n=t.current,a=Nn(),c=Fc(n);return i=M7(i),t.context===null?t.context=i:t.pendingContext=i,t=vl(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zc(n,t,c),e!==null&&(So(e,n,c,a),h1(e,n,c)),c}function pb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function w5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function p4(e,t){w5(e,t),(e=e.alternate)&&w5(e,t)}function CK(){return null}var I7=typeof reportError=="function"?reportError:function(e){console.error(e)};function f4(e){this._internalRoot=e}h2.prototype.render=f4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));d2(e,t,null,null)};h2.prototype.unmount=f4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cd(function(){d2(null,e,null,null)}),t[Sl]=null}};function h2(e){this._internalRoot=e}h2.prototype.unstable_scheduleHydration=function(e){if(e){var t=oL();e={blockedOn:null,target:e,priority:t};for(var i=0;i<dc.length&&t!==0&&t<dc[i].priority;i++);dc.splice(i,0,e),i===0&&lL(e)}};function m4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _5(){}function EK(e,t,i,r,n){if(n){if(typeof r=="function"){var a=r;r=function(){var s=pb(c);a.call(s)}}var c=j7(t,r,e,0,null,!1,!1,"",_5);return e._reactRootContainer=c,e[Sl]=c.current,Ag(e.nodeType===8?e.parentNode:e),Cd(),c}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var l=r;r=function(){var s=pb(o);l.call(s)}}var o=h4(e,0,!1,null,null,!1,!1,"",_5);return e._reactRootContainer=o,e[Sl]=o.current,Ag(e.nodeType===8?e.parentNode:e),Cd(function(){d2(t,o,i,r)}),o}function f2(e,t,i,r,n){var a=i._reactRootContainer;if(a){var c=a;if(typeof n=="function"){var l=n;n=function(){var o=pb(c);l.call(o)}}d2(t,c,e,n)}else c=EK(i,t,e,n,r);return pb(c)}nL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Cm(t.pendingLanes);i!==0&&(OA(t,i|1),ia(t,Ji()),!(Xt&6)&&(Np=Ji()+500,uu()))}break;case 13:Cd(function(){var r=Cl(e,1);if(r!==null){var n=Nn();So(r,e,1,n)}}),p4(e,1)}};RA=function(e){if(e.tag===13){var t=Cl(e,134217728);if(t!==null){var i=Nn();So(t,e,134217728,i)}p4(e,134217728)}};aL=function(e){if(e.tag===13){var t=Fc(e),i=Cl(e,t);if(i!==null){var r=Nn();So(i,e,t,r)}p4(e,t)}};oL=function(){return si};sL=function(e,t){var i=si;try{return si=e,t()}finally{si=i}};ZC=function(e,t,i){switch(t){case"input":if(qC(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var n=n2(r);if(!n)throw Error(Oe(90));zN(r),qC(r,n)}}}break;case"textarea":FN(e,i);break;case"select":t=i.value,t!=null&&ap(e,!!i.multiple,t,!1)}};YN=l4;KN=Cd;var TK={usingClientEntryPoint:!1,Events:[Ev,Fh,n2,WN,qN,l4]},Gf={findFiberByHostInstance:qu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},AK={bundleType:Gf.bundleType,version:Gf.version,rendererPackageName:Gf.rendererPackageName,rendererConfig:Gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ll.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QN(e),e===null?null:e.stateNode},findFiberByHostInstance:Gf.findFiberByHostInstance||CK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A0.isDisabled&&A0.supportsFiber)try{e2=A0.inject(AK),ls=A0}catch{}}ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TK;ya.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m4(t))throw Error(Oe(200));return SK(e,t,null,i)};ya.createRoot=function(e,t){if(!m4(e))throw Error(Oe(299));var i=!1,r="",n=I7;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=h4(e,1,!1,null,null,i,!1,r,n),e[Sl]=t.current,Ag(e.nodeType===8?e.parentNode:e),new f4(t)};ya.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=QN(t),e=e===null?null:e.stateNode,e};ya.flushSync=function(e){return Cd(e)};ya.hydrate=function(e,t,i){if(!p2(t))throw Error(Oe(200));return f2(null,e,t,!0,i)};ya.hydrateRoot=function(e,t,i){if(!m4(e))throw Error(Oe(405));var r=i!=null&&i.hydratedSources||null,n=!1,a="",c=I7;if(i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=j7(t,null,e,1,i??null,n,!1,a,c),e[Sl]=t.current,Ag(e),r)for(e=0;e<r.length;e++)i=r[e],n=i._getVersion,n=n(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,n]:t.mutableSourceEagerHydrationData.push(i,n);return new h2(t)};ya.render=function(e,t,i){if(!p2(t))throw Error(Oe(200));return f2(null,e,t,!1,i)};ya.unmountComponentAtNode=function(e){if(!p2(e))throw Error(Oe(40));return e._reactRootContainer?(Cd(function(){f2(null,null,e,!1,function(){e._reactRootContainer=null,e[Sl]=null})}),!0):!1};ya.unstable_batchedUpdates=l4;ya.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!p2(i))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return f2(e,t,i,!1,r)};ya.version="18.2.0-next-9e3b772b8-20220608";function P7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P7)}catch(e){console.error(e)}}P7(),jN.exports=ya;var k7=jN.exports,S5=k7;BC.createRoot=S5.createRoot,BC.hydrateRoot=S5.hydrateRoot;function Ts(){return y.jsx(Mi.Fragment,{children:y.jsx("div",{className:"loader-bg",children:y.jsx("video",{className:"loader-vid",autoPlay:!0,muted:!0,children:y.jsx("source",{src:"Images/Loader.mp4",type:"video/mp4"})})})})}const Le="https://cognizance.org.in/",_r=`${window.location.origin}/`||"http://localhost:3000/",Tl=e=>{window.localStorage.setItem("token",e)},bs=()=>window.localStorage.getItem("token")!==null&&window.localStorage.getItem("token")!=="",Zc=()=>{window.localStorage.removeItem("token"),window.location.href=`${_r}`},tt=()=>window.localStorage.getItem("token"),MK=e=>{fetch(`${Le}api/session/members/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",body:JSON.stringify(e)}).then(t=>t.json()).then(t=>{Tl(t.token),setTimeout(()=>{t.role?window.location.href=`${_r}members/dashboard/${t.role}`:alert(t.message)},2e3)})},cf=()=>fetch(`${Le}api/members`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json());function jK(){const[e,t]=z.useState({email:null,password:null}),[i,r]=z.useState(!1),n=c=>{let l=c.target.name,o=c.target.value;switch(l){case"email":t(s=>({...s,email:o}));break;case"password":t(s=>({...s,password:o}));break}},a=()=>{r(!0),MK(e)};return i?y.jsx(Ts,{}):y.jsx("section",{className:"members-main-container box",style:{backgroundColor:"white"},children:y.jsxs("div",{className:"background",children:[y.jsx("p",{className:"head",children:" ADMIN PORTAL "}),y.jsx("label",{className:"text",children:"Username "})," ",y.jsx("br",{}),y.jsx("input",{className:"inputclass",type:"text",name:"email",onChange:n}),y.jsx("br",{}),y.jsx("label",{className:"text",children:" Password"}),y.jsx("br",{}),y.jsx("input",{className:"inputclass",type:"password",name:"password",onChange:n}),y.jsx("br",{}),y.jsx("div",{class:"bottom",children:y.jsx("button",{onClick:a,className:"btn",children:"Sign in"})})]})})}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},fb.apply(this,arguments)}var Xu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xu||(Xu={}));var C5=function(e){return e},E5="beforeunload",IK="popstate";function PK(e){e===void 0&&(e={});var t=e,i=t.window,r=i===void 0?document.defaultView:i,n=r.history;function a(){var C=r.location,E=C.pathname,A=C.search,T=C.hash,M=n.state||{};return[M.idx,C5({pathname:E,search:A,hash:T,state:M.usr||null,key:M.key||"default"})]}var c=null;function l(){if(c)p.call(c),c=null;else{var C=Xu.Pop,E=a(),A=E[0],T=E[1];if(p.length){if(A!=null){var M=u-A;M&&(c={action:C,location:T,retry:function(){_(M*-1)}},_(M))}}else S(C)}}r.addEventListener(IK,l);var o=Xu.Pop,s=a(),u=s[0],d=s[1],h=A5(),p=A5();u==null&&(u=0,n.replaceState(fb({},n.state,{idx:u}),""));function m(C){return typeof C=="string"?C:kE(C)}function f(C,E){return E===void 0&&(E=null),C5(fb({pathname:d.pathname,hash:"",search:""},typeof C=="string"?Bd(C):C,{state:E,key:kK()}))}function g(C,E){return[{usr:C.state,key:C.key,idx:E},m(C)]}function v(C,E,A){return!p.length||(p.call({action:C,location:E,retry:A}),!1)}function S(C){o=C;var E=a();u=E[0],d=E[1],h.call({action:o,location:d})}function x(C,E){var A=Xu.Push,T=f(C,E);function M(){x(C,E)}if(v(A,T,M)){var j=g(T,u+1),P=j[0],I=j[1];try{n.pushState(P,"",I)}catch{r.location.assign(I)}S(A)}}function b(C,E){var A=Xu.Replace,T=f(C,E);function M(){b(C,E)}if(v(A,T,M)){var j=g(T,u),P=j[0],I=j[1];n.replaceState(P,"",I),S(A)}}function _(C){n.go(C)}var w={get action(){return o},get location(){return d},createHref:m,push:x,replace:b,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(E){return h.push(E)},block:function(E){var A=p.push(E);return p.length===1&&r.addEventListener(E5,T5),function(){A(),p.length||r.removeEventListener(E5,T5)}}};return w}function T5(e){e.preventDefault(),e.returnValue=""}function A5(){var e=[];return{get length(){return e.length},push:function(i){return e.push(i),function(){e=e.filter(function(r){return r!==i})}},call:function(i){e.forEach(function(r){return r&&r(i)})}}}function kK(){return Math.random().toString(36).substr(2,8)}function kE(e){var t=e.pathname,i=t===void 0?"/":t,r=e.search,n=r===void 0?"":r,a=e.hash,c=a===void 0?"":a;return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),c&&c!=="#"&&(i+=c.charAt(0)==="#"?c:"#"+c),i}function Bd(e){var t={};if(e){var i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const g4=z.createContext(null),v4=z.createContext(null),uf=z.createContext({outlet:null,matches:[]});function xs(e,t){throw new Error(t)}function DK(e,t,i){i===void 0&&(i="/");let r=typeof t=="string"?Bd(t):t,n=R7(r.pathname||"/",i);if(n==null)return null;let a=D7(e);OK(a);let c=null;for(let l=0;c==null&&l<a.length;++l)c=HK(a[l],n);return c}function D7(e,t,i,r){return t===void 0&&(t=[]),i===void 0&&(i=[]),r===void 0&&(r=""),e.forEach((n,a)=>{let c={relativePath:n.path||"",caseSensitive:n.caseSensitive===!0,childrenIndex:a,route:n};c.relativePath.startsWith("/")&&(c.relativePath.startsWith(r)||xs(),c.relativePath=c.relativePath.slice(r.length));let l=Vc([r,c.relativePath]),o=i.concat(c);n.children&&n.children.length>0&&(n.index===!0&&xs(),D7(n.children,t,o,l)),!(n.path==null&&!n.index)&&t.push({path:l,score:UK(l,n.index),routesMeta:o})}),t}function OK(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:VK(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const RK=/^:\w+$/,NK=3,LK=2,zK=1,BK=10,FK=-2,M5=e=>e==="*";function UK(e,t){let i=e.split("/"),r=i.length;return i.some(M5)&&(r+=FK),t&&(r+=LK),i.filter(n=>!M5(n)).reduce((n,a)=>n+(RK.test(a)?NK:a===""?zK:BK),r)}function VK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function HK(e,t){let{routesMeta:i}=e,r={},n="/",a=[];for(let c=0;c<i.length;++c){let l=i[c],o=c===i.length-1,s=n==="/"?t:t.slice(n.length)||"/",u=GK({path:l.relativePath,caseSensitive:l.caseSensitive,end:o},s);if(!u)return null;Object.assign(r,u.params);let d=l.route;a.push({params:r,pathname:Vc([n,u.pathname]),pathnameBase:N7(Vc([n,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(n=Vc([n,u.pathnameBase]))}return a}function GK(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,r]=WK(e.path,e.caseSensitive,e.end),n=t.match(i);if(!n)return null;let a=n[0],c=a.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:r.reduce((s,u,d)=>{if(u==="*"){let h=l[d]||"";c=a.slice(0,a.length-h.length).replace(/(.)\/+$/,"$1")}return s[u]=qK(l[d]||""),s},{}),pathname:a,pathnameBase:c,pattern:e}}function WK(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(c,l)=>(r.push(l),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n+=i?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(n,t?void 0:"i"),r]}function qK(e,t){try{return decodeURIComponent(e)}catch{return e}}function YK(e,t){t===void 0&&(t="/");let{pathname:i,search:r="",hash:n=""}=typeof e=="string"?Bd(e):e;return{pathname:i?i.startsWith("/")?i:KK(i,t):t,search:JK(r),hash:QK(n)}}function KK(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function O7(e,t,i){let r=typeof e=="string"?Bd(e):e,n=e===""||r.pathname===""?"/":r.pathname,a;if(n==null)a=i;else{let l=t.length-1;if(n.startsWith("..")){let o=n.split("/");for(;o[0]==="..";)o.shift(),l-=1;r.pathname=o.join("/")}a=l>=0?t[l]:"/"}let c=YK(r,a);return n&&n!=="/"&&n.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function XK(e){return e===""||e.pathname===""?"/":typeof e=="string"?Bd(e).pathname:e.pathname}function R7(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=e.charAt(t.length);return i&&i!=="/"?null:e.slice(t.length)||"/"}const Vc=e=>e.join("/").replace(/\/\/+/g,"/"),N7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $K(e){Av()||xs();let{basename:t,navigator:i}=z.useContext(g4),{hash:r,pathname:n,search:a}=b4(e),c=n;if(t!=="/"){let l=XK(e),o=l!=null&&l.endsWith("/");c=n==="/"?t+(o?"/":""):Vc([t,n])}return i.createHref({pathname:c,search:a,hash:r})}function Av(){return z.useContext(v4)!=null}function Mv(){return Av()||xs(),z.useContext(v4).location}function As(){Av()||xs();let{basename:e,navigator:t}=z.useContext(g4),{matches:i}=z.useContext(uf),{pathname:r}=Mv(),n=JSON.stringify(i.map(l=>l.pathnameBase)),a=z.useRef(!1);return z.useEffect(()=>{a.current=!0}),z.useCallback(function(l,o){if(o===void 0&&(o={}),!a.current)return;if(typeof l=="number"){t.go(l);return}let s=O7(l,JSON.parse(n),r);e!=="/"&&(s.pathname=Vc([e,s.pathname])),(o.replace?t.replace:t.push)(s,o.state)},[e,t,n,r])}const ZK=z.createContext(null);function eX(e){let t=z.useContext(uf).outlet;return t&&z.createElement(ZK.Provider,{value:e},t)}function y4(){let{matches:e}=z.useContext(uf),t=e[e.length-1];return t?t.params:{}}function b4(e){let{matches:t}=z.useContext(uf),{pathname:i}=Mv(),r=JSON.stringify(t.map(n=>n.pathnameBase));return z.useMemo(()=>O7(e,JSON.parse(r),i),[e,r,i])}function tX(e,t){Av()||xs();let{matches:i}=z.useContext(uf),r=i[i.length-1],n=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let c=Mv(),l;if(t){var o;let h=typeof t=="string"?Bd(t):t;a==="/"||(o=h.pathname)!=null&&o.startsWith(a)||xs(),l=h}else l=c;let s=l.pathname||"/",u=a==="/"?s:s.slice(a.length)||"/",d=DK(e,{pathname:u});return iX(d&&d.map(h=>Object.assign({},h,{params:Object.assign({},n,h.params),pathname:Vc([a,h.pathname]),pathnameBase:h.pathnameBase==="/"?a:Vc([a,h.pathnameBase])})),i)}function iX(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((i,r,n)=>z.createElement(uf.Provider,{children:r.route.element!==void 0?r.route.element:i,value:{outlet:i,matches:t.concat(e.slice(0,n+1))}}),null)}function df(e){return eX(e.context)}function _t(e){xs()}function rX(e){let{basename:t="/",children:i=null,location:r,navigationType:n=Xu.Pop,navigator:a,static:c=!1}=e;Av()&&xs();let l=N7(t),o=z.useMemo(()=>({basename:l,navigator:a,static:c}),[l,a,c]);typeof r=="string"&&(r=Bd(r));let{pathname:s="/",search:u="",hash:d="",state:h=null,key:p="default"}=r,m=z.useMemo(()=>{let f=R7(s,l);return f==null?null:{pathname:f,search:u,hash:d,state:h,key:p}},[l,s,u,d,h,p]);return m==null?null:z.createElement(g4.Provider,{value:o},z.createElement(v4.Provider,{children:i,value:{location:m,navigationType:n}}))}function nX(e){let{children:t,location:i}=e;return tX(DE(t),i)}function DE(e){let t=[];return z.Children.forEach(e,i=>{if(!z.isValidElement(i))return;if(i.type===z.Fragment){t.push.apply(t,DE(i.props.children));return}i.type!==_t&&xs();let r={caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path};i.props.children&&(r.children=DE(i.props.children)),t.push(r)}),t}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mb(){return mb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},mb.apply(this,arguments)}function L7(e,t){if(e==null)return{};var i={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}const aX=["onClick","reloadDocument","replace","state","target","to"],oX=["aria-current","caseSensitive","className","end","style","to","children"];function sX(e){let{basename:t,children:i,window:r}=e,n=z.useRef();n.current==null&&(n.current=PK({window:r}));let a=n.current,[c,l]=z.useState({action:a.action,location:a.location});return z.useLayoutEffect(()=>a.listen(l),[a]),z.createElement(rX,{basename:t,children:i,location:c.location,navigationType:c.action,navigator:a})}function lX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Rt=z.forwardRef(function(t,i){let{onClick:r,reloadDocument:n,replace:a=!1,state:c,target:l,to:o}=t,s=L7(t,aX),u=$K(o),d=cX(o,{replace:a,state:c,target:l});function h(p){r&&r(p),!p.defaultPrevented&&!n&&d(p)}return z.createElement("a",mb({},s,{href:u,onClick:h,ref:i,target:l}))}),rl=z.forwardRef(function(t,i){let{"aria-current":r="page",caseSensitive:n=!1,className:a="",end:c=!1,style:l,to:o,children:s}=t,u=L7(t,oX),d=Mv(),h=b4(o),p=d.pathname,m=h.pathname;n||(p=p.toLowerCase(),m=m.toLowerCase());let f=p===m||!c&&p.startsWith(m)&&p.charAt(m.length)==="/",g=f?r:void 0,v;typeof a=="function"?v=a({isActive:f}):v=[a,f?"active":null].filter(Boolean).join(" ");let S=typeof l=="function"?l({isActive:f}):l;return z.createElement(Rt,mb({},u,{"aria-current":g,className:v,ref:i,style:S,to:o}),typeof s=="function"?s({isActive:f}):s)});function cX(e,t){let{target:i,replace:r,state:n}=t===void 0?{}:t,a=As(),c=Mv(),l=b4(e);return z.useCallback(o=>{if(o.button===0&&(!i||i==="_self")&&!lX(o)){o.preventDefault();let s=!!r||kE(c)===kE(l);a(e,{replace:s,state:n})}},[c,a,l,r,n,i,e])}const uX=(e,t)=>fetch(`${Le}api/admin/super/create_member/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${tt()}`},body:JSON.stringify(e)}).then(i=>i.json());function dX(){const[e,t]=z.useState({role:null}),[i,r]=z.useState({email:"",password:""}),[n,a]=z.useState("admin");z.useEffect(()=>{cf().then(o=>t(o.member))},[]);const c=o=>{const s=o.target.id,u=o.target.value;switch(s){case"email":r(d=>({...d,email:u}));break;case"password":r(d=>({...d,password:u}));break;case"createdRole":a(u);break;default:alert("something went wrong");break}},l=o=>{uX(i,n).then(s=>{alert(s.message),r({email:"",password:""}),a("admin")})};return(e==null?void 0:e.role)==="admin"?y.jsxs("section",{className:"members-main-container",style:{backgroundColor:"white"},children:[y.jsx("h1",{children:"Hello admin"}),y.jsx("p",{children:"Wanna create a new member? Go on!"}),y.jsx("br",{}),y.jsx("label",{children:"Email"}),y.jsx("br",{}),y.jsx("input",{type:"text",id:"email",value:i.email,onChange:c}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Password"}),y.jsx("br",{}),y.jsx("input",{type:"password",id:"password",value:i.password,onChange:c}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Select type of admin to be created"}),y.jsx("br",{}),y.jsxs("select",{name:"",id:"createdRole",onChange:c,value:n,children:[y.jsx("option",{value:"admin",children:"admin"}),y.jsx("option",{value:"promotions_admin",children:"Promotions admin"}),y.jsx("option",{value:"workshops_admin",children:"Workshops admin"}),y.jsx("option",{value:"events_admin",children:"Events admin"}),y.jsx("option",{value:"controls_admin",children:"Controls admin"}),y.jsx("option",{value:"spp_admin",children:"CA admin"}),y.jsx("option",{value:"security_admin",children:"Security admin"})]}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:l,children:"Create"})]}):y.jsx("section",{className:"main-container",children:y.jsx("h1",{children:"Tresspasser Alert"})})}const z7=()=>fetch(`${Le}api/admin/promotions/central`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json());function Ju(e){return Object.prototype.toString.call(e)==="[object Array]"}function OE(e,t){if(!e)throw new Error(t)}function j5(e){return Object.keys(e)}function Ng(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function Xd(e,t,i){var r="."+t,n=new RegExp("(\\".concat(t,")?$"));return i(e).replace(n,r)}function hX(e){return e.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function pX(e){return Array(e+1).join(" ")}function fX(e){return e.replace(/([<>&])/g,function(t,i){switch(i){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})}function mX(e,t,i){switch(t){case"txt":{var r="text/plain;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:r})):"data:,".concat(r)+encodeURIComponent(e)}case"css":{var r="text/css;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:r})):"data:,".concat(r)+encodeURIComponent(e)}case"html":{var r="text/html;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:r})):"data:,".concat(r)+encodeURIComponent(e)}case"json":{var r="text/json;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:r})):"data:,".concat(r)+encodeURIComponent(e)}case"csv":{var r="text/csv;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:r})):"data:,".concat(r)+encodeURIComponent(e)}case"xls":{var r="text/application/vnd.ms-excel;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:r})):"data:,".concat(r)+encodeURIComponent(e)}case"xml":{var r="text/application/xml;charset=utf-8";return i?URL.createObjectURL(new Blob([e],{type:r})):"data:,".concat(r)+encodeURIComponent(e)}default:return""}}function B7(e,t,i,r){i===void 0&&(i="download"),r===void 0&&(r=!0);var n=mX(e,t,r),a=document.createElement("a");a.href=n,a.download=i,a.setAttribute("style","visibility:hidden"),document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(a)}var gb=function(){return gb=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gb.apply(this,arguments)},Lg=function(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var r=i.call(e),n,a=[],c;try{for(;(t===void 0||t-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(c)throw c.error}}return a};function gX(e){if(!e||Ju(e)&&!e.length||!Ju(e)&&!j5(e).length)return function(i){return i};var t=Ju(e)?e.reduce(function(i,r){var n;return gb(gb({},i),(n={},n[r]=r,n))},Object.create(null)):e;return function(i){return Ju(i)?i.map(function(r){return Ng(r).reduce(function(n,a){var c=Lg(a,2),l=c[0],o=c[1];return l in t&&(n[t[l]]=o),n},Object.create(null))}).filter(function(r){return j5(r).length}):Ng(i).reduce(function(r,n){var a=Lg(n,2),c=a[0],l=a[1];return c in t&&(r[t[c]]=l),r},Object.create(null))}}function vX(e){var t="Invalid export data. Please provide a valid JSON";try{return typeof e=="string"?JSON.parse(e):e}catch{throw new Error(t)}}function yX(e,t,i){t===void 0&&(t=null);var r="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(e,t,i)}catch{throw new Error(r)}}function F7(e){return e.map(Ng).reduce(function(t,i,r){return i.reduce(function(n,a){var c=Lg(a,2),l=c[0],o=c[1],s=n[l]||Array.from({length:e.length}).map(function(u){return""});return s[r]=(typeof o!="string"?JSON.stringify(o):o)||"",n[l]=s,n},t)},Object.create(null))}function U7(e,t){return t===void 0&&(t=function(i){return i}),t(Ng(e).map(function(i){var r=Lg(i,2),n=r[0],a=r[1];return{fieldName:n,fieldValues:a}}))}function bX(e){var t=/,|"|\n/.test(e)?'"':"",i=e.replace(/"/g,'""');return"".concat(t).concat(i).concat(t)}function xX(e,t){if(t===void 0&&(t=function(l){return l}),!e.length)return"";var i=F7(e),r=U7(i,t),n=r.map(function(l){var o=l.fieldName;return o}).join(",")+`\r
`,a=r.map(function(l){var o=l.fieldValues;return o}).map(function(l){return l.map(bX)}),c=a.reduce(function(l,o){return l.map(function(s,u){return"".concat(s,",").concat(o[u])})});return n+c.join(`\r
`)}function wX(e,t){OE(e.length>0);var i=F7(e),r=U7(i,t),n=r.map(function(l){var o=l.fieldName;return o}).join("</b></th><th><b>"),a=r.map(function(l){var o=l.fieldValues;return o}).map(function(l){return l.map(function(o){return"<td>".concat(o,"</td>")})}),c=a.reduce(function(l,o){return l.map(function(s,u){return"".concat(s).concat(o[u])})});return`
    <table>
      <thead>
        <tr><th><b>`.concat(n,`</b></th></tr>
      </thead>
      <tbody>
        <tr>`).concat(c.join(`</tr>
        <tr>`),`</tr>
      </tbody>
    </table>
  `)}function _X(e,t){if(t===void 0&&(t=function(r){return r}),!e.length)return"";var i=`<html>
  <head>
    <meta charset="UTF-8" />
  </head >
  <body>
    `.concat(wX(e,t),`
  </body>
</html >
`);return i}function SX(e){var t=`<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>
`.concat(RE(e,"base"),`
`);return t}function RE(e,t,i,r){i===void 0&&(i="element"),r===void 0&&(r=0);var n=hX(t),a=pX(r);if(e==null)return"".concat(a,"<").concat(n," />");var c=Ju(e)?e.map(function(o){return RE(o,i,i,r+2)}).join(`
`):typeof e=="object"?Ng(e).map(function(o){var s=Lg(o,2),u=s[0],d=s[1];return RE(d,u,i,r+2)}).join(`
`):a+"  "+fX(String(e)),l="".concat(a,"<").concat(n,`>
`).concat(c,`
`).concat(a,"</").concat(n,">");return l}var CX={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function Al(e){var t=e.data,i=e.fileName,r=i===void 0?"download":i,n=e.extension,a=e.fileNameFormatter,c=a===void 0?function(P){return P.replace(/\s+/,"_")}:a,l=e.fields,o=e.exportType,s=o===void 0?"txt":o,u=e.replacer,d=u===void 0?null:u,h=e.space,p=h===void 0?4:h,m=e.processor,f=m===void 0?B7:m,g=e.withBOM,v=g===void 0?!1:g,S=e.beforeTableEncode,x=S===void 0?function(P){return P}:S,b="Invalid export data. Please provide an array of objects",_="Can't export unknown data type ".concat(s,"."),w="Can't export string data to ".concat(s,".");if(typeof t=="string")switch(s){case"txt":case"css":case"html":return f(t,s,Xd(r,n??s,c));default:throw new Error(w)}var C=gX(l),E=C(vX(t)),A=yX(E,d,p);switch(s){case"txt":case"css":case"html":return f(A,s,Xd(r,n??s,c));case"json":return f(A,s,Xd(r,n??"json",c));case"csv":{OE(Ju(E),b);var T="\uFEFF",M=xX(E,x),j=v?T+M:M;return f(j,s,Xd(r,n??"csv",c))}case"xls":{OE(Ju(E),b);var j=_X(E,x);return f(j,s,Xd(r,n??"xls",c))}case"xml":{var j=SX(E);return f(j,s,Xd(r,n??"xml",c))}default:throw new Error(_)}}Al.types=CX;Al.processors={downloadFile:B7};function EX(){const[e,t]=z.useState(null),[i,r]=z.useState(),n=As();z.useEffect(()=>{cf().then(c=>t(c.member)),z7().then(c=>{console.log(c.users),r(c)})},[]);const a=()=>{Al({data:i.users,fileName:"Central Registrations",exportType:"csv"})};return(e==null?void 0:e.role)==="promotions_admin"?y.jsx(Mi.Fragment,{children:y.jsxs("section",{className:"members-main-container",style:{backgroundColor:"white"},children:[y.jsx("h1",{children:"Hello Promotions Admin"}),y.jsxs("p",{children:["Number of registrations: ",i==null?void 0:i.count]}),y.jsx("button",{onClick:a,children:"Download all Registrations"}),y.jsx("br",{}),y.jsx("button",{onClick:()=>{n("/members/dashboard/notification_admin")},children:"Noticeboard"})]})}):y.jsx("h1",{children:"Tresspasser Alert"})}function TX(){const[e,t]=z.useState(null);return z.useEffect(()=>{cf().then(i=>t(i.member))},[]),(e==null?void 0:e.role)==="controls_admin"?y.jsx("section",{className:"main-container",style:{backgroundColor:"white"},children:y.jsx("h1",{children:"Welcome Controls Admin"})}):y.jsx("h1",{children:"Tresspasser alert"})}var V7={exports:{}},e_={exports:{}},I5;function AX(){return I5||(I5=1,function(e,t){(function(i,r){e.exports=r()})(self,function(){return function(){var i,r={90643:function(l){l.exports.default=["  ..."," "," ",null,"  ","    ","       :","  ","    XDSoft.net - Chupurnov Valeriy.   .","","   ","    "," ","     ","","","","","   ","  "," "," "," "," ","  "," "," ","  / "," "," "," ","  ",""," 1"," 2"," 3"," 4","","",""," ","  ","  ","  ","  "," "," ","","","","","","","","","","","","-- --","Src",""," ","","    ","","",""," ","","","    HTML.   HTML","  HTML","",""," ","  ","   ","    Microsoft Word/Excel .         "," ","     ","    ","  ","  "," "," "," "," "," "," ","","","","","","","","  ","  ","  ","  "," "," "," "," ",""," ","","","","","","","","",""," ","",""," ","","",""," ",""," "," ","",""," ",""," ",""," "," "," Nofollow"," ","","","","URL",""," ","","  ",""," "," ","",""," "," "," ","","","  ","","","","","%d ","%d ",null," %s"," "," "," "," "," ",""," "," ","",""," %s","  ",""," ",""," ",""," "," ","","","  ","    .     ","     !","","     ."," ","  ","","","  ","       ."," ","","   "," ","","   ","   ","","","","",""," "," ","  ","    "]},52532:function(l){l.exports.default=["Napi nco","O Jodit","Editor Jodit","Verze pro nekomern pouit","Jodit Uivatelsk pruka","obsahuje detailn npovdu","Pro informace o licenci, prosm, pejdte na nai strnku:","Koupit plnou verzi","Copyright  XDSoft.net - Chupurnov Valeriy. Vechna prva vyhrazena.","Anchor","Otevt v nov zloce","Otevt v celoobrazovkovm reimu","Vyistit formtovn","Barva vpln a psma","Vped","Zpt","Tun","Kurzva","Odrky","slovan seznam","Zarovnat na sted","Zarovnat do bloku","Zarovnat vlevo","Zarovnat vpravo","Vloit horizontln linku","Vloit obrzek","Vloit soubor","Vloit video (YT/Vimeo)","Vloit odkaz","Velikost psma","Typ psma","Formtovat blok","Normln text","Nadpis 1","Nadpis 2","Nadpis 3","Nadpis 4","Citt","Kd","Vloit","Vloit tabulku","Zmenit odsazen","Zvtit odsazen","Vybrat speciln symbol","Vloit speciln symbol","Pout formt","Zmnit md","Okraje","horn","prav","spodn","lev","Styly","Tdy","Zarovnn","Vpravo","Na sted","Vlevo","--nenastaveno--","src","Titulek","Alternativn text (alt)","Link","Otevt link v nov zloce","Obrzek","soubor","Rozen","Vlastnosti obrzku","Zpt","Ok","V text se podob HTML. Vloit ho jako HTML?","Vloit jako HTML","Ponechat originl","Vyistit","Vloit jako TEXT","Vloit pouze TEXT","Detekovn fragment z Wordu nebo Excelu","Obsah, kter vkldte, je pravdpodobn z Microsoft Word / Excel. Chcete ponechat formt nebo vloit pouze text?","Prohle soubor","Chyba pi natn seznamu soubor","Chyba pi natn sloek","Jste si jist()?","Nzev sloky","Vytvoit sloku","nzev","Pethnte sem obrzek","Pethnte sem soubor","nebo kliknte","Alternativn text","Server","Nahrt","Pozad","Text","Nahoru","Na sted","Dolu","Vloit sloupec ped","Vloit sloupec za","Vloit dek nad","Vloit dek pod","Vymazat tabulku","Vymazat dku","Vymazat sloupec","Vyistit buku","HTML","tun","kurzva","ttec","odkaz","zpt","vped","tabulka","obrzek","guma","odstavec","velikost psma","video","psmo"," editoru","tisk","podtreno","pekrtnuto","zvtit odsazen","zmenit odsazen","celoobrazovkov reim","smrsknout","Linka","Odrka","slovan seznam","Vyjmout","Oznait ve","Kd","Otevt odkaz","Upravit odkaz","Atribut no-follow","Odstranit odkaz","Zobrazit","Chcete-li upravit","Aktualizovat","URL","Editovat","Horizontln zarovnn","Filtr","Dle posledn zmny","Dle nzvu","Dle velikosti","Pidat sloku","Reset","Uloit","Uloit jako...","Zmnit rozmr","Oezat","ka","Vka","Ponechat pomr","Ano","Ne","Vyjmout","Oznait","Znaky: %d","Slova: %d","Ve","Oznait %s","Oznait ve","Vertikln zarovnn","Rozdlit","Rozdlit vertikln","Rozdlit horizontln","Spojit","Pidat sloupec","Pidat dek","Vymazat","Okraj","Licence: %s","Pekrtnuto","Podtreno","Horn index","Doln index","Vyjmout oznaen","Zalomen","Najdi","Nahradit za","Vymte","Vloit","Vyber obsah pro vloen","Mete upravovat pouze sv obrzky. Nast obrzek?","Obrzek byl spn nahrn!","paleta","V tomto adresi nejsou dn soubory.","pejmenovat","Zadejte nov nzev","nhled","Staen","Vloit ze schrnky","V prohle nepodporuje pm pstup do schrnky.","Koprovat vbr","koprovn","Border radius","Zobrazit vechny","Plat","Prosm, vyplte toto pole","Prosm, zadejte webovou adresu","Vchoz","Kruh","Dot","Quadrate","Najt","Najt Pedchoz","Najt Dal","Vlote nzev tdy","Stisknte Alt pro vlastn zmnu velikosti"]},75178:function(l){l.exports.default=["Bitte geben Sie einen Text ein","ber Jodit","Jodit Editor",null,"Das Jodit Benutzerhandbuch","beinhaltet ausfhrliche Informationen wie Sie den Editor verwenden knnen.","Fr Informationen zur Lizenz, besuchen Sie bitte unsere Web-Prsenz:","Vollversion kaufen","Copyright  XDSoft.net - Chupurnov Valeriy. Alle Rechte vorbehalten.","Anker","In neuer Registerkarte ffnen","Editor in voller Gre ffnen","Formatierung lschen","Fllfarbe oder Textfarbe ndern","Wiederholen","Rckgngig machen","Fett","Kursiv","Unsortierte Liste einfgen","Nummerierte Liste einfgen","Mittig ausrichten","Blocksatz","Links ausrichten","Rechts ausrichten","Horizontale Linie einfgen","Bild einfgen","Datei einfgen","Youtube/vimeo Video einfgen","Link einfgen","Schriftgre","Schriftfamilie","Formatblock einfgen","Normal","berschrift 1","berschrift 2","berschrift 3","berschrift 4","Zitat","Code","Einfgen","Tabelle einfgen","Einzug verkleinern","Einzug vergrern","Sonderzeichen auswhlen","Sonderzeichen einfgen","Format kopieren","nderungsmodus","Rnder","Oben","Rechts","Unten","Links","CSS Stil","CSS Klassen","Ausrichtung","Rechts","Zentriert","Links","Keine","Pfad","Titel","Alternativer Text","Link","Link in neuem Tab ffnen","Bild","Datei","Fortgeschritten","Bildeigenschaften","Abbrechen","OK","Ihr Text hnelt HTML-Code. Als HTML beibehalten?","Als HTML einfgen?","Original speichern","Subern","Als Text einfgen","Nur Text einfgen","In Word formatierter Text erkannt","Der Inhalt, den Sie einfgen, stammt aus einem Microsoft Word / Excel-Dokument. Mchten Sie das Format erhalten oder bereinigen?","Dateibrowser","Fehler beim Laden der Liste","Fehler beim Laden der Ordner","Sind Sie sicher?","Geben Sie den Verzeichnisnamen ein","Verzeichnis erstellen","Typname","Bild hier hinziehen","Datei lschen","oder hier klicken","Alternativtext","Auswhlen","Hochladen","Hintergrund","Text","Oben","Mittig","Unten","Spalte davor einfgen","Spalte danach einfgen","Zeile oberhalb einfgen","Zeile unterhalb einfgen","Tabelle lschen","Zeile lschen","Spalte lschen","Zelle leeren","HTML","Fett gedruckt","Kursiv","Brste","Verknpfung","Rckgngig machen","Wiederholen","Tabelle","Bild","Radiergummi","Absatz","Schriftgre","Video","Schriftart","ber","Drucken","Unterstreichen","Durchstreichen","Einzug","Herausstellen","Vollgre","Schrumpfen","die Linie","Liste von","Nummerierte Liste","Schneiden","Whlen Sie Alle aus","Code einbetten","Link ffnen","Link bearbeiten","Nofollow-Attribut","Link entfernen","Ansehen","Bearbeiten","Aktualisieren","URL","Bearbeiten","Horizontale Ausrichtung","Filter","Sortieren nach gendert","Nach Name sortieren","Nach Gre sortiert","Ordner hinzufgen","Wiederherstellen","Speichern","Speichern als","Gre ndern","Gre anpassen","Breite","Hhe","Seitenverhltnis beibehalten","Ja","Nein","Entfernen","Markieren","Zeichen: %d","Wrter: %d","Alles markieren","Markieren: %s","Alles markieren","Vertikale Ausrichtung","Unterteilen","Vertikal unterteilen","Horizontal unterteilen","Vereinen","Spalte hinzufgen","Zeile hinzufgen","Lschen","Rand",null,"Durchstreichen","Unterstreichen","Hochstellen","Tiefstellen","Auswahl ausschneiden","Pause","Suche nach","Ersetzen durch","Ersetzen","Einfgen","Whlen Sie den Inhalt zum Einfgen aus","Sie knnen nur Ihre eigenen Bilder bearbeiten. Dieses Bild auf den Host herunterladen?","Das Bild wurde erfolgreich auf den Server hochgeladen!","Palette","In diesem Verzeichnis befinden sich keine Dateien.","Umbenennen","Geben Sie einen neuen Namen ein","Vorschau","Herunterladen","Aus Zwischenablage einfgen","Ihr Browser untersttzt keinen direkten Zugriff auf die Zwischenablage.","Auswahl kopieren","Kopieren","Radius fr abgerundete Ecken","Alle anzeigen","Anwenden","Bitte fllen Sie dieses Feld aus","Bitte geben Sie eine Web-Adresse ein","Standard","Kreis","Punkte","Quadrate","Suchen","Suche vorherige","Weitersuchen","className (CSS) einfgen","Drcken Sie Alt fr benutzerdefinierte Grenanpassung"]},51048:function(l){l.exports.default={"Type something":"Start writing...",pencil:"Edit",Quadrate:"Square"}},22999:function(l){l.exports.default=["Escriba algo...","Acerca de Jodit","Jodit Editor",null,"Gua de usuario Jodit","contiene ayuda detallada para el uso.","Para informacin sobre la licencia, por favor visite nuestro sitio:","Compre la versin completa","Copyright  XDSoft.net - Chupurnov Valeriy. Todos los derechos reservados.","Anclar","Abrir en nueva pestaa","Abrir editor en pantalla completa","Limpiar formato","Color de relleno o de letra","Rehacer","Deshacer","Negrita","Cursiva","Insertar lista no ordenada","Insertar lista ordenada","Alinear Centrado","Alinear Justificado","Alinear Izquierda","Alinear Derecha","Insertar lnea horizontal","Insertar imagen","Insertar archivo","Insertar video de Youtube/vimeo","Insertar vnculo","Tamao de letra","Familia de letra","Insertar bloque","Normal","Encabezado 1","Encabezado 2","Encabezado 3","Encabezado 4","Cita","Cdigo","Insertar","Insertar tabla","Disminuir sangra","Aumentar sangra","Seleccionar caracter especial","Insertar caracter especial","Copiar formato","Cambiar modo","Mrgenes","arriba","derecha","abajo","izquierda","Estilos CSS","Clases CSS","Alinear","Derecha","Centrado","Izquierda","--No Establecido--","Fuente","Ttulo","Texto Alternativo","Vnculo","Abrir vnculo en nueva pestaa","Imagen","Archivo","Avanzado","Propiedades de imagen","Cancelar","Aceptar","El cdigo es similar a HTML. Mantener como HTML?","Pegar como HTML?","Mantener","Limpiar","Insertar como texto","Insertar solo texto","Pegado desde Word detectado","El contenido pegado proviene de un documento de Microsoft Word/Excel. Desea mantener el formato o limpiarlo?","Buscar archivo","Error al cargar la lista","Error al cargar las carpetas","Est seguro?","Entre nombre de carpeta","Crear carpeta","Entre el nombre","Soltar imagen","Soltar archivo","o click","Texto alternativo","Buscar","Subir","Fondo","Texto","Arriba","Centro","Abajo","Insertar columna antes","Interar columna despus","Insertar fila arriba","Insertar fila debajo","Borrar tabla","Borrar fila","Borrar columna","Vaciar celda","HTML","negrita","cursiva","Brocha","Vnculo","deshacer","rehacer","Tabla","Imagen","Borrar","Prrafo","Tamao de letra","Video","Letra","Acerca de","Imprimir","subrayar","tachar","sangra","quitar sangra","Tamao completo","encoger","lnea horizontal","lista sin ordenar","lista ordenada","Cortar","Seleccionar todo","Incluir cdigo","Abrir vnculo","Editar vnculo","No seguir","Desvincular","Ver","Para editar","Actualizar","URL","Editar","Alineacin horizontal","Filtrar","Ordenar por fecha modificacin","Ordenar por nombre","Ordenar por tamao","Agregar carpeta","Resetear","Guardar","Guardar como...","Redimensionar","Recortar","Ancho","Alto","Mantener relacin de aspecto","Si","No","Quitar","Seleccionar","Caracteres: %d","Palabras: %d","Todo","Seleccionar: %s","Seleccionar todo","Alineacin vertical","Dividir","Dividir vertical","Dividir horizontal","Mezclar","Agregar columna","Agregar fila","Borrar","Borde",null,"Tachado","Subrayado","superndice","subndice","Cortar seleccin","Pausa","Buscar","Reemplazar con","Reemplazar","Pegar","Seleccionar contenido para pegar","Solo puedes editar tus propias imgenes. Descargar esta imagen en el servidor?","La imagen se ha subido correctamente al servidor!","paleta","No hay archivos en este directorio.","renombrar","Ingresa un nuevo nombre","avance","Descargar","Pegar desde el portapapeles","Su navegador no soporta el acceso directo en el portapapeles.","Seleccin de copia","copia","Radio frontera","Mostrar todos los","Aplicar","Por favor, rellene este campo","Por favor, introduzca una direccin web","Predeterminado","Crculo","Punto","Cuadro","Encontrar","Buscar Anterior","Buscar Siguiente","Insertar nombre de clase","Presione Alt para cambiar el tamao personalizado"]},34145:function(l){l.exports.default=["Ecrivez ici","A propos de Jodit","Editeur Jodit",null,"Guide de l'utilisateur","Aide dtaille  l'utilisation","Consulter la licence sur notre site web:","Acheter la version complte","Copyright  XDSoft.net - Chupurnov Valeriy. Tous droits rservs.","Ancre","Ouvrir dans un nouvel onglet","Ouvrir l'diteur en pleine page","Supprimer le formattage","Modifier la couleur du fond ou du texte","Refaire","Dfaire","Gras","Italique","Liste non ordonne","Liste ordonne","Centrer","Justifier","Aligner  gauche ","Aligner  droite","Insrer une ligne horizontale","Insrer une image","Insrer un fichier","Insrer une vido","Insrer un lien","Taille des caractres","Famille des caractres","Bloc formatt","Normal","Titre 1","Titre 2","Titre 3","Titre 4","Citation","Code","Insrer","Insrer un tableau","Diminuer le retrait","Retrait plus","Slectionnez un caractre spcial","Insrer un caractre spcial","Cloner le format","Mode wysiwyg <-> code html","Marges","haut","droite","Bas","gauche","Styles","Classes","Alignement","Droite","Centre","Gauche","--Non disponible--","Source","Titre","Alternative","Lien","Ouvrir le lien dans un nouvel onglet","Image","fichier","Avanc","Proprits de l'image","Annuler","OK","Votre texte que vous essayez de coller est similaire au HTML. Collez-le en HTML?","Coller en HTML?","Sauvegarder l'original","Nettoyer","Coller en tant que texte","Coller le texte seulement","C'est peut-tre un fragment de Word ou Excel","Le contenu que vous insrez provient d'un document Microsoft Word / Excel. Voulez-vous enregistrer le format ou l'effacer?","Explorateur de fichiers","Erreur de liste de chargement","Erreur de dossier de chargement","Etes-vous srs ?","Entrer le nom de dossier","Crer un dossier","type de fichier","Coller une image","Dposer un fichier","ou cliquer","Texte de remplacemement","Chercher","Charger","Arrire-plan","Texte","Haut","Milieu","Bas","Insrer une colonne avant","Insrer une colonne aprs","Insrer une ligne au dessus","Insrer une ligne en dessous","Supprimer le tableau","Supprimer la ligne","Supprimer la colonne","Vider la cellule","la source","gras","italique","pinceau","lien","annuler","refaire","tableau","image","gomme","clause","taille de police","Video","police"," propos de l'diteur","impression","soulign","barr","indentation","retrait","taille relle","taille conventionnelle","la ligne","Liste","Liste numrote","Couper","Slectionner tout",null,"Ouvrir le lien","Modifier le lien","Attribut Nofollow","Supprimer le lien","Voir","Pour diter","Mettre  jour","URL",null,"Alignement horizontal","Filtre","Trier par modification","Trier par nom","Trier par taille","Crer le dossier","Restaurer","Sauvegarder","Enregistrer sous","Changer la taille","Taille de garniture","Largeur","Hauteur","Garder les proportions","Oui","Non","Supprimer","Mettre en vidence","Symboles: %d","Mots: %d",null,"Mettre en vidence: %s","Tout slectionner","Alignement vertical","Split","Split vertical","Split horizontal","aller","Ajouter une colonne","Ajouter une range","Effacer","Bordure",null,"Barrer","Souligner","exposant","indice","Couper la slection","Pause","Rechercher","Remplacer par","Remplacer","Coller","Choisissez le contenu  coller","Vous ne pouvez diter que vos propres images. Tlchargez cette image sur l'hte?","L'image a t tlcharge avec succs sur le serveur!","Palette","Il n'y a aucun fichier dans ce rpertoire.","renommer","Entrez un nouveau nom","Aperu","Tlcharger","Coller  partir du presse-papiers","Votre navigateur ne prend pas en charge l'accs direct au presse-papiers.","Copier la slection","copie","Rayon des bordures","Afficher tous","Appliquer","Veuillez remplir ce champ","Veuillez entrer une adresse web","Par dfaut","Cercle","Point","Quadratique","Trouver","Prcdent","Suivant","Insrer un nom de classe","Appuyez sur Alt pour un redimensionnement personnalis"]},40272:function(l){l.exports.default=[" ...","About Jodit","Jodit Editor",null,"Jodit User's Guide","contains detailed help for using.","For information about the license, please go to our website:","Buy full version","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved."," ","  ","    "," ","    "," ","","","","  ","  ",""," "," "," ","  "," "," ","   YouTube/Vimeo"," "," ",""," ",""," 1"," 2"," 3"," 4","","",""," "," "," ","  ","  "," "," ","","","","",""," CSS"," CSS","","","","","-- --","",""," ","","  ","","",""," ","","","  HTML,   HTML"," HTML","",""," ","  ",'  ""',"    /.       "," ","    ","   ","  ?","  "," "," "," "," "," "," ","","","","","","","","  ","  ","  ","  "," "," "," "," ","HTML","","","","",""," ","","","",""," ","","","",""," "," "," "," "," ",""," "," "," ",""," "," "," "," "," "," ",""," ","","",""," ","","  ","  ","  "," ","",""," ..."," ","","",""," ","","","","",": %d",": %d","",": %s"," "," ",""," "," ",""," "," ","","",null," "," ","superscript","subscript"," "," ",""," ","","","  ","     .    ?","  !","","   .","","  "," ",""," ","      ."," ",""," ","  ","","   ","   "," ","",""," ","","  ","  ","   ","      "]},2978:function(l){l.exports.default=["rjon be valamit","Joditrl","Jodit Editor","Ingyenes vltozat","Jodit tmutat","tovbbi segtsget tartalmaz","Tovbbi licence informcikrt ltogassa meg a weboldalunkat:","Teljes verzi megvsrlsa","Copyright  XDSoft.net - Chupurnov Valeriy. Minden jog fenntartva.","Horgony","Megnyits j lapon","Megnyits teljes mretben","Formzs trlse","Httr/szveg szn","jra","Visszavon","Flkvr","Dlt","Pontozott lista","Szmozott lista","Kzpre zrt","Sorkizrt","Balra zrt","Jobbra zrt","Vzszintes vonal beszrsa","Kp beszrs","Fjl beszrs","Youtube vide beszrsa","Link beszrs","Betmret","Bettpus","Formzott blokk beszrsa","Norml","Fejlc 1","Fejlc 2","Fejlc 3","Fejlc 4","Idzet","Kd","Beszr","Tblzat beszrsa","Behzs cskkentse","Behzs nvelse","Specilis karakter kivlasztsa","Specilis karakter beszrsa","Kp formzsa","Nzet vltsa","Szeglyek","fels","jobb","als","bal","CSS stlusok","CSS osztlyok","Igazts","Jobbra","Kzpre","Balra","Nincs","Forrs","Cm","Helyettest szveg","Link","Link megnyitsa j lapon","Kp","Fjl","Halad","Kp tulajdonsgai","Mgsem","OK","A beillesztett szveg HTML-nek tnik. Megtartsuk HTML-knt?","Beszrs HTML-knt","Megtarts","Elvets","Beszrs szvegknt","Csak szveg beillesztse","Word-bl msolt szveg","A beillesztett tartalom Microsoft Word/Excel dokumentumbl szrmazik. Meg szeretn tartani a formtumt?","Fjl tallz","Hiba a lista betltse kzben","Hiba a mappk betltse kzben","Biztosan ezt szeretn?","rjon be egy mappanevet","Mappa ltrehozsa","rjon be bevet","Hzza ide a kpet","Hzza ide a fjlt","vagy kattintson","Helyettest szveg","Tallz","Feltlt","Httr","Szveg","Fent","Kzpen","Lent","Oszlop beszrs el","Oszlop beszrs utna","Sor beszrs fl","Sor beszrs al","Tblzat trlse","Sor trlse","Oszlop trlse","Cella tartalmnak trlse","HTML","Flkvr","Dlt","Ecset","Link","Visszavon","jra","Tblzat","Kp","Trls","Paragrfus","Betmret","Vide","Bet","Rlunk","Nyomtat","Alhzott","thzott","Behzs","Aussenseiter","Teljes mret","sszenyom","Egyenes vonal","Lista","Szmozott lista","Kivg","sszes kijellse","Begyazott kd","Link megnyitsa","Link szerkesztse","Nincs kvets","Link levlasztsa","fellvizsglat","Szerkeszts","Frisst","URL","Szerkeszt","Vzszintes igazts","Szr","Rendezs mdosts szerint","Rendezs nv szerint","Rendezs mret szerint","Mappa hozzads","Visszallt","Ments","Ments msknt...","tmretezs","Kivg","Szlessg","Magassg","Kparny megtartsa","Igen","Nem","Eltvolt","Kijell","Karakterek szma: %d","Szavak szma: %d","sszes","Kijell: %s","sszes kijellse","Fggleges igazts","Feloszts","Fggleges feloszts","Vzszintes feloszts","sszevons","Oszlop hozzads","Sor hozzads","Trls","Szegly",null,"thzott","Alhzott","Fels index","Als index","Kivgs","Sznet","Keress","Csere erre","Cserlje ki","Beilleszts","Vlasszon tartalmat a beillesztshez","Csak a sajt kpeit tudja szerkeszteni. Letlti ezt a kpet?","Kp sikeresen feltltve!","Palette","Er zijn geen bestanden in deze map.","tnevezs","Adja meg az j nevet","elnzet","Letlts","Illessze be a vglap","A bngsz nem tmogatja a kzvetlen hozzfrst biztost a vglapra.","Msols kivlasztsa","msols","Hatr sugr","sszes","Alkalmazni","Krjk, tltse ki ezt a mezt,","Krjk, rja be a webcmet","Alaprtelmezett","Kr","Pont","Quadrate","Tallni","Megtallja Elz","Kvetkez Keresse","Helyezze be az osztly nevt","Nyomja meg az Alt egyni tmretezs"]},99113:function(l){l.exports.default=["Ketik sesuatu","Tentang Jodit","Editor Jodit","Versi Bebas Non-komersil","Panduan Pengguna Jodit","mencakup detail bantuan penggunaan","Untuk informasi tentang lisensi, silakan kunjungi website:","Beli versi lengkap","Hak Cipta  XDSoft.net - Chupurnov Valeriy. Hak cipta dilindungi undang-undang.","Tautan","Buka di tab baru","Buka editor dalam ukuran penuh","Hapus Pemformatan","Isi warna atau atur warna teks","Ulangi","Batalkan","Tebal","Miring","Sisipkan Daftar Tidak Berurut","Sisipkan Daftar Berurut","Tengah","Penuh","Kiri","Kanan","Sisipkan Garis Horizontal","Sisipkan Gambar","Sisipkan Berkas","Sisipkan video youtube/vimeo","Sisipkan tautan","Ukuran font","Keluarga font","Sisipkan blok format","Normal","Heading 1","Heading 2","Heading 3","Heading 4","Kutip","Kode","Sisipkan","Sisipkan tabel","Kurangi Indentasi","Tambah Indentasi","Pilih Karakter Spesial","Sisipkan Karakter Spesial","Formar warna","Ubah mode","Batas","atas","kanan","bawah","kiri","Gaya","Class","Rata","Kanan","Tengah","Kiri","--Tidak diset--","Src","Judul","Teks alternatif","Tautan","Buka tautan di tab baru","Gambar","berkas","Lanjutan","Properti gambar","Batal","Ya","Kode Anda cenderung ke HTML. Biarkan sebagai HTML?","Paste sebagai HTML","Jaga","Bersih","Sisipkan sebagai teks","Sisipkan hanya teks","Terdeteksi paste dari Word","Konten dipaste dari dokumen Microsoft Word/Excel. Apakah Anda ingin tetap menjaga format atau membersihkannya?","Penjelajah Berkas","Error ketika memuat list","Error ketika memuat folder","Apakah Anda yakin?","Masukkan nama Direktori","Buat direktori","ketik nama","Letakkan gambar","Letakkan berkas","atau klik","Teks alternatif","Jelajahi","Unggah","Latar Belakang","Teks","Atas","Tengah","Bawah","Sisipkan kolom sebelumnya","Sisipkan kolom setelahnya","Sisipkan baris di atasnya","Sisipkan baris di bawahnya","Hapus tabel","Hapus baris","Hapus kolom","Kosongkan cell","sumber","tebal","miring","sikat","tautan","batalkan","ulangi","tabel","gambar","penghapus","paragraf","ukuran font","video","font","tentang","cetak","garis bawah","coret","menjorok ke dalam","menjorok ke luar","ukuran penuh","menyusut","hr","ul","ol","potong","Pilih semua","Kode embed","Buka tautan","Edit tautan","No follow","Hapus tautan","Mata","pensil","Perbarui","URL","Edit","Perataan horizontal","Filter","Urutkan berdasarkan perubahan","Urutkan berdasarkan nama","Urutkan berdasarkan ukuran","Tambah folder","Reset","Simpan","Simpan sebagai...","Ubah ukuran","Crop","Lebar","Tinggi","Jaga aspek rasio","Ya","Tidak","Copot","Pilih","Karakter: %d","Kata: %d","Semua","Pilih %s","Pilih semua","Rata vertikal","Bagi","Bagi secara vertikal","Bagi secara horizontal","Gabungkan","Tambah kolom","tambah baris","Hapus","Bingkai","Lisensi: %s","Coret","Garis Bawah","Superskrip","Subskrip","Potong pilihan","Berhenti","Mencari","Ganti dengan","Mengganti","Paste","Pilih konten untuk dipaste","Anda hanya dapat mengedit gambar Anda sendiri. Unduh gambar ini di host?","Gambar telah sukses diunggah ke host!","palet","Tidak ada berkas","ganti nama","Masukkan nama baru","pratinjau","Unduh","Paste dari clipboard","Browser anda tidak mendukung akses langsung ke clipboard.","Copy seleksi","copy","Border radius","Tampilkan semua","Menerapkan","Silahkan mengisi kolom ini","Silahkan masukkan alamat web","Default","Lingkaran","Dot","Kuadrat","Menemukan","Menemukan Sebelumnya","Menemukan Berikutnya","Masukkan nama kelas","Tekan Alt untuk mengubah ukuran kustom"]},51923:function(l){l.exports.default=["Scrivi qualcosa...","A proposito di Jodit","Jodit Editor",null,"Guida utente di Jodit","contiene una guida dettagliata per l'uso.","Per informazioni sulla licenza, si prega di visitare il nostro sito:","Acquista la versione completa","Copyright  XDSoft.net - Chupurnov Valeriy. Alle Rechte vorbehalten.","Ancora","Apri in una nuova scheda","Apri l'editor a schermo intero","Formato chiaro","Riempi colore o lettera","Ripristina","Annulla","Grassetto","Corsivo","Inserisci lista non ordinata","Inserisci l'elenco ordinato","Allinea Centra","Allineare Giustificato","Allinea a Sinistra","Allinea a Destra","Inserisci la linea orizzontale","Inserisci immagine","Inserisci un file","Inserisci video Youtube/Vimeo","Inserisci il link","Dimensione del carattere","Tipo di font","Inserisci blocco","Normale","Heading 1","Heading 2","Heading 3","Heading 4","Citazione","Codice","Inserisci","Inserisci tabella","Riduci il rientro","Aumenta il rientro","Seleziona una funzione speciale","Inserisci un carattere speciale","Copia formato","Cambia modo","Margini","su","destra","gi","sinistra","Stili CSS","Classi CSS","Allinea","Destra","Centro","Sinistra","--Non Impostato--","Fonte","Titolo","Testo Alternativo","Link","Apri il link in una nuova scheda","Immagine","Archivio","Avanzato","Propriet dell'immagine","Annulla","Accetta","Il codice  simile all'HTML. Mantieni come HTML?","Incolla come HTML?","Mantieni","Pulisci","Inserisci come testo","Inserisci solo il testo","Incollato da Word rilevato","Il contenuto incollato proviene da un documento Microsoft Word / Excel. Vuoi mantenere il formato o pulirlo?","Cerca il file","Errore durante il caricamento dell'elenco","Errore durante il caricamento delle cartelle","Sei sicuro?","Inserisci il nome della cartella","Crea cartella","Entre el nombre","Rilascia l'immagine","Rilascia file","o click","Testo alternativo","Sfoglia","Carica","Sfondo","Testo","Su","Centro","Sotto","Inserisci prima la colonna","Inserisci colonna dopo","Inserisci la riga sopra","Inserisci la riga sotto","Elimina tabella","Elimina riga","Elimina colonna","Cella vuota","HTML","Grassetto","Corsivo","Pennello","Link","Annulla","Ripristina","Tabella","Immagine","Gomma","Paragrafo","Dimensione del carattere","Video","Font","Approposito di","Stampa","Sottolineato","Barrato","trattino","annulla rientro","A grandezza normale","comprimere","linea orizzontale","lista non ordinata","lista ordinata","Taglia","Seleziona tutto","Includi codice","Apri link","Modifica link","Non seguire","Togli link","Recensione","Per modificare","Aggiornare"," URL","Modifica","Allineamento orizzontale","Filtro","Ordina per data di modifica","Ordina per nome","Ordina per dimensione","Aggiungi cartella","Reset","Salva","Salva con nome...","Ridimensiona","Tagliare","Larghezza","Altezza","Mantenere le proporzioni","Si","No","Rimuovere","Seleziona","Caratteri: %d","Parole: %d","Tutto","Seleziona: %s","Seleziona tutto","Allineamento verticala","Dividere","Dividere verticalmente","Diviso orizzontale","Fondi","Aggiungi colonna","Aggiungi riga","Cancella","Bordo",null,"Barrato","Sottolineato","indice","deponente","Taglia la selezione","Pausa","Cerca","Sostituisci con","Sostituire","Incolla","Seleziona il contenuto da incollare","Puoi modificare solo le tue immagini. Scarica questa immagine sul server?","L'immagine  stata caricata con successo sul server!","tavolozza","Non ci sono file in questa directory.","ungherese","Inserisci un nuovo nome","anteprima","Scaricare","Incolla dagli appunti","Il tuo browser non supporta l'accesso diretto agli appunti.","Selezione di copia","copia","Border radius","Mostra tutti","Applicare","Si prega di compilare questo campo","Si prega di inserire un indirizzo web","Di Default","Cerchio","Dot","Quadrate","Trovare","Trova Precedente","Trova Successivo","Inserisci il nome della classe","Premere Alt per il ridimensionamento personalizzato"]},21268:function(l){l.exports.default=["","Jodit","Jodit Editor",null,"Jodit ","","Jodit Web","","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","","/","","","","","","","","","","","","","","","","Youtube/Vimeo ","","","","","","1","2","3","4","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","HTML","HTML","HTML","Clean","HTML","","Word Paste Detected","The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","File Browser","Error on load list","Error on load folders","Are you sure?","Enter Directory name","Create directory","type name","","","or ","","","","","","","","","","","","","","","","","source","bold","italic","brush","link","undo","redo","table","image","eraser","paragraph","fontsize","video","font","about","print","underline","strikethrough","indent","outdent","fullsize","shrink","","","","","","","","","No follow","","","","","URL","","","Filter","Sort by changed","Sort by name","Sort by size","Add folder","","","Save as ...","","Crop","","","","","","","",": %d",": %d","",": %s","","","","","","","","","","",null,"","","","","","Pause","","","","","","You can only edit your own images. Download this image on the host?","The image has been successfully uploaded to the host!","","There are no files","Rename","Enter new name","","","","","","copy","","","","","","","","","","","","","","Alt"]},11399:function(l){l.exports.default=["Type something","About Jodit","Jodit Editor","Free Non-commercial Version","Jodit User's Guide","contains detailed help for using","For information about the license, please go to our website:","Buy full version","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","Open in new tab","Open in fullsize","Clear Formatting","Fill color or set the text color","Redo","Undo","Bold","Italic","Insert Unordered List","Insert Ordered List","Align Center","Align Justify","Align Left","Align Right","Insert Horizontal Line","Insert Image","Insert file","Insert youtube/vimeo video","Insert link","Font size","Font family","Insert format block","Normal","Heading 1","Heading 2","Heading 3","Heading 4","Quote","Code","Insert","Insert table","Decrease Indent","Increase Indent","Select Special Character","Insert Special Character","Paint format","Change mode","Margins","top","right","bottom","left","Styles","Classes","Align","Right","Center","Left","--Not Set--","Src","Title","Alternative","Link","Open link in new tab","Image","file","Advanced","Image properties","Cancel","Ok","Your code is similar to HTML. Keep as HTML?","Paste as HTML","Keep","Clean","Insert as Text","Insert only Text","Word Paste Detected","The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","File Browser","Error on load list","Error on load folders","Are you sure?","Enter Directory name","Create directory","type name","Drop image","Drop file","or click","Alternative text","Browse","Upload","Background","Text","Top","Middle","Bottom","Insert column before","Insert column after","Insert row above","Insert row below","Delete table","Delete row","Delete column","Empty cell","source","bold","italic","brush","link","undo","redo","table","image","eraser","paragraph","fontsize","video","font","about","print","underline","strikethrough","indent","outdent","fullsize","shrink","hr","ul","ol","cut","selectall","Embed code","Open link","Edit link","No follow","Unlink","Eye","pencil","Update"," URL","Edit","Horizontal align","Filter","Sort by changed","Sort by name","Sort by size","Add folder","Reset","Save","Save as ...","Resize","Crop","Width","Height","Keep Aspect Ratio","Yes","No","Remove","Select","Chars: %d","Words: %d","All","Select %s","Select all","Vertical align","Split","Split vertical","Split horizontal","Merge","Add column","Add row","Delete","Border","License: %s","Strike through","Underline","superscript","subscript","Cut selection","Break","Search for","Replace with","Replace","Paste","Choose Content to Paste","You can only edit your own images. Download this image on the host?","The image has been successfully uploaded to the host!","palette","There are no files","Rename","Enter new name","preview","download","Paste from clipboard","Your browser doesn't support direct access to the clipboard.","Copy selection","copy","Border radius","Show all","Apply","Please fill out this field","Please enter a web address","Default","Circle","Dot","Quadrate","Find","Find Previous","Find Next","Insert className","Press Alt for custom resizing"]},37289:function(l){l.exports.default=[" ","Jodit ","Jodit Editor",null,"Jodit  ","  ","  Jodit   ","  "," XDSoft.net - Chupurnov Valeriy.     .","Anchor","  ","  "," "," ",""," ","",""," "," "," "," "," "," ","  "," "," ","Youtube/Vimeo "," "," ","","  "," "," 1"," 2"," 3"," 4","",""," ",""," "," "," "," "," "," ","","","","","","","","","","","","--  --","(src)",""," (alt)","","  ",null,"",""," ","","","HTML  .  ?","HTML "," ",""," "," ","Word  ","Microsoft Word/Excel  .   ?"," ","  "," "," ?","  "," "," "," "," "," "," ","","","","","","","","  ","  ","  ","  "," "," "," "," ","HTML ","","","",""," ","","","","",""," ","",""," ","","","","",""," "," ",""," "," ",""," ","Embed "," "," ","No follow"," "," ","","","URL",""," ",""," "," "," "," ","","","  ...","",""," "," "," ","","","","",": %d",": %d","",": %s"," "," ","","  ","  "," "," "," ","","",": %s","","","",""," ","","","","","","  ","    .    ?","   !",""," "," ","  ","",""," ","     ."," ",""," "," ","","  !"," URL .","","","","",""," "," ","className ","       "]},26501:function(l){l.exports.default=[" ","Jodit-  ","Jodit ",null,"Jodit  ","    ","      :","   ","    XDSoft.net - Chupurnov Valeriy.   ."," ","  ","  "," ","     ","","","","","  ","  "," "," "," "," ","  "," "," ","Youtube/Vimeo  "," "," "," "," ",""," 1"," 2"," 3"," 4","","",""," ","  ","  ","  ","  "," "," "," ","","","","","CSS ","CSS ","","","","","----"," ",""," ","","   ","","",""," ","","Ok","  HTML   . HTML   ?","HTML  ","","","  ","  ","Word   ","  Microsoft Word/Excel  .        ?"," ","    ","    ","  ?","  "," "," "," "," "," "," ","",""," ","","","","","   ","   ","   ","   "," "," "," "," "," ","","","","","","","","","",""," ","","","",""," "," "," "," "," ","",""," "," ",""," "," "," "," ","Nofollow zellii"," ","","","","URL",""," ","","  "," "," "," ","",""," "," ","","",""," ","","","","",": %d",": %d","",": %s"," "," ",""," "," ",""," "," ","","",null," "," "," "," "," "," ",""," ","","","   ","     .       ?","    ","","    "," ","   "," ","","  ","      ."," ",""," "," ","","   ","   ","","","","",""," "," ","   ","    Alt    "]},17084:function(l){l.exports.default=["Begin met typen..","Over Jodit","Jodit Editor","Gratis niet-commercile versie","Jodit gebruikershandleiding","bevat gedetailleerde informatie voor gebruik.","Voor informatie over de licentie, ga naar onze website:","Volledige versie kopen","Copyright  XDSoft.net - Chupurnov Valeriy. Alle rechten voorbehouden.","Anker","Open in nieuwe tab","Editor in volledig scherm openen","Opmaak verwijderen","Vulkleur of tekstkleur aanpassen","Opnieuw","Ongedaan maken","Vet","Cursief","Geordende list invoegen","Ongeordende lijst invoegen","Centreren","Uitlijnen op volledige breedte","Links uitlijnen","Rechts uitlijnen","Horizontale lijn invoegen","Afbeelding invoegen","Bestand invoegen","Youtube/Vimeo video invoegen","Link toevoegen","Tekstgrootte","Lettertype","Format blok invoegen","Normaal","Koptekst 1","Koptekst 2","Koptekst 3","Koptekst 4","Citaat","Code","Invoegen","Tabel invoegen","Inspringing verkleinen","Inspringing vergroten","Symbool selecteren","Symbool invoegen","Opmaak kopieren","Modus veranderen","Marges","Boven","Rechts","Onder","Links","CSS styles","CSS classes","Uitlijning","Rechts","Gecentreerd","Links","--Leeg--","Src","Titel","Alternatieve tekst","Link","Link in nieuwe tab openen","Afbeelding","Bestand","Geavanceerd","Afbeeldingseigenschappen","Annuleren","OK","Deze code lijkt op HTML. Als HTML behouden?","Invoegen als HTML","Origineel behouden","Opschonen","Als tekst invoegen","Als onopgemaakte tekst invoegen","Word-tekst gedetecteerd","De geplakte tekst is afkomstig van een Microsoft Word/Excel document. Wil je de opmaak behouden of opschonen?","Bestandsbrowser","Fout bij het laden van de lijst","Fout bij het laden van de mappenlijst","Weet je het zeker?","Geef de map een naam","Map aanmaken","Type naam","Sleep hier een afbeelding naartoe","Sleep hier een bestand naartoe","of klik","Alternatieve tekst","Bladeren","Uploaden","Achtergrond","Tekst","Boven","Midden","Onder","Kolom invoegen (voor)","Kolom invoegen (na)","Rij invoegen (boven)","Rij invoegen (onder)","Tabel verwijderen","Rij verwijderen","Kolom verwijderen","Cel leegmaken","Broncode","vet","cursief","kwast","link","ongedaan maken","opnieuw","tabel","afbeelding","gum","paragraaf","lettergrootte","video","lettertype","over","afdrukken","onderstreept","doorgestreept","inspringen","minder inspringen","volledige grootte","kleiner maken","horizontale lijn","lijst","genummerde lijst","knip","alles selecteren","Embed code","link openen","link aanpassen","niet volgen","link verwijderen","Recensie","Om te bewerken","Updaten"," URL","Bewerken","Horizontaal uitlijnen","Filteren","Sorteren op wijzigingsdatum","Sorteren op naam","Sorteren op grootte","Map toevoegen","Herstellen","Opslaan","Opslaan als ...","Grootte aanpassen","Bijknippen","Breedte","Hoogte","Verhouding behouden","Ja","Nee","Verwijderen","Selecteren","Tekens: %d","Woorden: %d","Alles","Selecteer: %s","Selecteer alles","Verticaal uitlijnen","Splitsen","Verticaal splitsen","Horizontaal splitsen","Samenvoegen","Kolom toevoegen","Rij toevoegen","Verwijderen","Rand",null,"Doorstrepen","Onderstrepen","Superscript","Subscript","Selectie knippen","Enter","Zoek naar","Vervangen door","Vervangen","Plakken","Kies content om te plakken","Je kunt alleen je eigen afbeeldingen aanpassen. Deze afbeelding downloaden?","De afbeelding is succesvol geploadet!","Palette","Er zijn geen bestanden in deze map.","Hongaars","Voer een nieuwe naam in","voorvertoning","Download","Plakken van klembord","Uw browser ondersteunt geen directe toegang tot het klembord.","Selectie kopiren","kopiren","Border radius","Toon alle","Toepassing","Vul dit veld","Voer een webadres","Standaard","Cirkel","Dot","Quadrate","Zoeken","Vorige Zoeken","Volgende Zoeken","Voeg de klassenaam in","Druk op Alt voor aangepaste grootte"]},96891:function(l){l.exports.default=["Napisz co","O Jodit","Edytor Jodit",null,"Instrukcja Jodit","zawiera szczegowe informacje dotyczce uytkowania.","Odwied nasz stron, aby uzyska wicej informacji na temat licencji:","Zakup penej wersji","Copyright  XDSoft.net - Chupurnov Valeriy. Wszystkie prawa zastrzeone.","Kotwica","Otwrz w nowej zakadce","Otwrz edytor w penym rozmiarze","Wyczy formatowanie","Kolor wypenienia lub ustaw kolor tekstu","Ponw","Cofnij","Pogrubienie","Kursywa","Wstaw list wypunktowan","Wstaw list numeryczn","Wyrodkuj","Wyjustuj","Wyrwnaj do lewej","Wyrwnaj do prawej","Wstaw lini poziom","Wstaw grafik","Wstaw plik","Wstaw film Youtube/vimeo","Wstaw link","Rozmiar tekstu","Krj czcionki","Wstaw formatowanie","Normalne","Nagwek 1","Nagwek 2","Nagwek 3","Nagwek 4","Cytat","Kod","Wstaw","Wstaw tabel","Zmniejsz wcicie","Zwiksz wcicie","Wybierz znak specjalny","Wstaw znak specjalny","Malarz formatw","Zmie tryb","Marginesy","Grny","Prawy","Dolny","Levy","Style CSS","Klasy CSS","Wyrwnanie","Prawa","rodek","Lewa","brak","rdo","Tytu","Tekst alternatywny","Link","Otwrz w nowej zakadce","Grafika","Plik","Zaawansowane","Waciwoci grafiki","Anuluj","OK","Twj kod wyglda jak HTML. Zachowa HTML?","Wklei jako HTML?","Oryginalny tekst","Wyczy","Wstaw jako tekst","Wstaw tylko tre","Wykryto tekst w formacie Word","Wklejany tekst pochodzi z dokumentu Microsoft Word/Excel. Chcesz zachowa ten format czy wyczyci go? ","Przegldarka plikw","Bd adowania listy plikw","Bd adowania folderw","Czy jeste pewien?","Wprowad nazw folderu","Utwrz folder","wprowad nazw","Upu plik graficzny","Upu plik","lub kliknij tu","Tekst alternatywny","Przegldaj","Wczytaj","To","Tre","Gra","rodek","D","Wstaw kolumn przed","Wstaw kolumn po","Wstaw wiersz przed","Wstaw wiersz po","Usu tabel","Usu wiersz","Usu kolumn","Wyczy komrk","HTML","pogrubienie","kursywa","pdzel","link","cofnij","ponw","tabela","grafika","wyczy","akapit","rozmiar czcionki","wideo","czcionka","O programie","drukuj","podkrelenie","przekrelenie","wcicie","wycicie","peen rozmiar","przytnij","linia pozioma","lista","lista numerowana","wytnij","zaznacz wszystko","Wstaw kod","otwrz link","edytuj link","Atrybut no-follow","Usu link","szukaj","edytuj","Aktualizuj","URL","Edytuj","Wyrwnywanie w poziomie","Filtruj","Sortuj wg zmiany","Sortuj wg nazwy","Sortuj wg rozmiaru","Dodaj folder","wyczy","zapisz","zapisz jako","Zmie rozmiar","Przytnij","Szeroko","Wysoko","Zachowaj proporcje","Tak","Nie","Usu","Wybierz","Znaki: %d","Sowa: %d","Wszystko","Wybierz: %s","Wybierz wszystko","Wyrwnywanie w pionie","Podziel","Podziel w pionie","Podziel w poziomie","Scal","Dodaj kolumn","Dodaj wiersz","Usu","Obramowanie",null,"Przekrelenie","Podkrelenie","indeks grny","index dolny","Wytnij zaznaczenie","Przerwa","Szukaj","Zamie na","Wymieni","Wklej","Wybierz zawarto do wklejenia","Moesz edytowa tylko swoje grafiki. Czy chcesz pobra t grafik?","Grafika zostaa pomylnienie dodana na serwer","Paleta","Brak plikw.","zmie nazw","Wprowad now nazw","podgld","pobierz","Wklej ze schowka","Twoja przegldarka nie obsuguje schowka","Kopiuj zaznaczenie","kopiuj","Zaokrglenie krawdzi","Poka wszystkie","Zastosuj","Prosz wypeni to pole","Prosz, wpisz adres sieci web","Domylnie","Koo","Punkt","Kwadrat","Znale","Znale Poprzednie","Znajd Dalej","Wstaw nazw zaj","Nacinij Alt, aby zmieni rozmiar"]},31211:function(l){l.exports.default=["Escreva algo...","Sobre o Jodit","Editor Jodit",null,"Guia de usurio Jodit","contm ajuda detalhada para o uso.","Para informao sobre a licena, por favor visite nosso site:","Compre a verso completa","Copyright  XDSoft.net - Chupurnov Valeriy. Todos os direitos reservados.","Link","Abrir em nova aba","Abrir editor em tela cheia","Limpar formatao","Cor de preenchimento ou cor do texto","Refazer","Desfazer","Negrito","Itlico","Inserir lista no ordenada","Inserir lista ordenada","Centralizar","Justificar","Alinhar  Esquerda","Alinhar  Direita","Inserir linha horizontal","Inserir imagem","Inserir arquivo","Inserir vdeo do Youtube/vimeo","Inserir link","Tamanho da letra","Fonte","Inserir bloco","Normal","Cabealho 1","Cabealho 2","Cabealho 3","Cabealho 4","Citao","Cdigo","Inserir","Inserir tabela","Diminuir recuo","Aumentar recuo","Selecionar caractere especial","Inserir caractere especial","Copiar formato","Mudar modo","Margens","cima","direta","baixo","esquerda","Estilos CSS","Classes CSS","Alinhamento","Direita","Centro","Esquerda","--No Estabelecido--","Fonte","Ttulo","Texto Alternativo","Link","Abrir link em nova aba","Imagem","Arquivo","Avanado","Propriedades da imagem","Cancelar","Ok","Seu cdigo  similar ao HTML. Manter como HTML?","Colar como HTML?","Manter","Limpar","Inserir como Texto","Inserir somente o Texto","Colado do Word Detectado","O contedo colado veio de um documento Microsoft Word/Excel. Voc deseja manter o formato ou limpa-lo?","Procurar arquivo","Erro ao carregar a lista","Erro ao carregar as pastas","Voc tem certeza?","Escreva o nome da pasta","Criar pasta","Escreva seu nome","Soltar imagem","Soltar arquivo","ou clique","Texto alternativo","Explorar","Upload","Fundo","Texto","Cima","Meio","Baixo","Inserir coluna antes","Inserir coluna depois","Inserir linha acima","Inserir linha abaixo","Excluir tabela","Excluir linha","Excluir coluna","Limpar clula","HTML","negrito","itlico","pincel","link","desfazer","refazer","tabela","imagem","apagar","pargrafo","tamanho da letra","vdeo","fonte","Sobre de","Imprimir","sublinhar","tachado","recuar","diminuir recuo","Tamanho completo","diminuir","linha horizontal","lista no ordenada","lista ordenada","Cortar","Selecionar tudo","Incluir cdigo","Abrir link","Editar link","No siga","Remover link","Visualizar","Editar","Atualizar","URL","Editar","Alinhamento horizontal","filtrar","Ordenar por modificao","Ordenar por nome","Ordenar por tamanho","Adicionar pasta","Resetar","Salvar","Salvar como...","Redimensionar","Recortar","Largura","Altura","Manter a proporo","Sim","No","Remover","Selecionar","Caracteres: %d","Palavras: %d","Tudo","Selecionar: %s","Selecionar tudo","Alinhamento vertical","Dividir","Dividir vertical","Dividir horizontal","Mesclar","Adicionar coluna","Adicionar linha","Excluir","Borda",null,"Tachado","Sublinhar","sobrescrito","subscrito","Cortar seleo","Pausa","Procurar por","Substituir com","Substituir","Colar","Escolher contedo para colar","Voc s pode editar suas prprias imagens. Baixar essa imagem pro servidor?","A imagem foi enviada com sucesso para o servidor!","Palette","No h arquivos nesse diretrio.","Hngara","Digite um novo nome","preview","Baixar","Colar da rea de transferncia","O seu navegador no oferece suporte a acesso direto para a rea de transferncia.","Seleco de cpia","cpia","Border radius","Mostrar todos os","Aplicar","Por favor, preencha este campo","Por favor introduza um endereo web","Padro","Crculo","Ponto","Quadro","Encontrar","Encontrar Anteriores","Localizar Prxima","Insira o nome da classe","Pressione Alt para redimensionamento personalizado"]},31109:function(l){l.exports.default=[" -"," Jodit"," Jodit",null,"Jodit  ","    ","     , ,    :","  ","   XDSoft.net -  .   .","","    ","    "," ","    ","","","","","  ","  ","  ","  ","   ","   ","  "," "," "," "," "," ","","  "," "," 1"," 2"," 3"," 4","","",""," "," "," ","  ","  "," ","","","","","","","","","","  "," ","  ","-- --","src","","  (alt)","","    ",null,"",""," ","",""," ,       HTML.    HTML?","  HTML?"," ","","  ","  ","   Word  Excel","       Microsoft Word / Excel.       ?"," ","    ","    "," ?","  "," "," ","  ","  "," "," ","","","","","  "," "," ","  ","  ","  ","  "," "," "," "," ","HTML","","","","","","","","","",""," ","",""," ","","","","","","  "," ","",""," ",""," ",""," "," "," nofollow"," ","","","","URL",""," ",""," "," "," "," ","",""," "," "," ","",""," ","","","","",": %d",": %d"," ",": %s"," "," ","","  ","  ","  "," "," ","","",": %s","",""," ","","","",""," ","","","   ","      .      ?","    !","","    ","","  ","","","   ","        ."," ",""," "," ","",",   ",",  -"," ","","","",""," "," ","  "," Alt    "]},79375:function(l){l.exports.default=["Bir eyler yaz","Jodit Hakknda","Jodit Editor",null,"Jodit Kullanm Klavuzu","kullanm iin detayl bilgiler ierir","Lisans hakknda bilgi iin ltfen web sitemize gidin:","Tam versiyonunu satn al","Copyright  XDSoft.net - Chupurnov Valeriy. Tm haklar sakldr.","Balant","Yeni sekmede a","Editr tam ekranda a","Stili temizle","Renk doldur veya yaz rengi se","Yinele","Geri Al","Kaln","talik","Srasz Liste Ekle","Sral Liste Ekle","Ortala","Kenarlara Yasla","Sola Yasla","Saa Yasla","Yatay izgi Ekle","Resim Ekle","Dosya Ekle","Youtube/Vimeo Videosu Ekle","Balant Ekle","Font Boyutu","Font Ailesi","Blok Ekle","Normal","Balk 1","Balk 2","Balk 3","Balk 4","Alnt","Kod","Ekle","Tablo Ekle","Girintiyi Azalt","Girintiyi Arttr","zel Karakter Se","zel Karakter Ekle","Resim Biimi","Mod Deitir","Boluklar","st","Sa","Alt","Sol","CSS Stilleri","CSS Snflar","Hizalama","Sa","Ortal","Sol","Belirsiz","Kaynak","Balk","Alternatif Yaz","Link","Balanty yeni sekmede a","Resim","Dosya","Gelimi","Resim zellikleri","ptal","Tamam","Kodunuz HTML koduna benziyor. HTML olarak devam etmek ister misiniz?","HTML olarak yaptr","Sakla","Temizle","Yaz olarak ekle","Sadece yazy ekle","Word biiminde yaptrma algland","Der Inhalt, den Sie einfgen, stammt aus einem Microsoft Word / Excel-Dokument. Mchten Sie das Format erhalten oder lschen?","Dosya Listeleyici","Liste yklenirken hata olutu","Klasrler yklenirken hata olutur","Emin misiniz?","Dizin yolu giriniz","Dizin olutur","sim yaz","Resim brak","Dosya brak","veya tkla","Alternatif yaz","Gzat","Ykle","Arka plan","Yaz","st","Orta","Aa","ncesine kolon ekle","Sonrasna kolon ekle","stne satr ekle","Altna satr ekle","Tabloyu sil","Satr sil","Kolonu sil","Hcreyi temizle","Kaynak","Kaln","italik","Fra","Balant","Geri al","Yinele","Tablo","Resim","Silgi","Paragraf","Font boyutu","Video","Font","Hakknda","Yazdr","Alt izgi","st izili","Girinti","knt","Tam ekran","Klt","Ayra","Srasz liste","Sral liste","Kes","Tmn se","Kod ekle","Balanty a","Balanty dzenle","Nofollow zellii","Balanty kaldr","Yorumu","Dzenlemek iin","Gncelle","URL","Dzenle","Yatay hizala","Filtre","Deiime gre srala","sme gre srala","Boyuta gre srala","Klasr ekle","Sfrla","Kaydet","Farkl kaydet","Boyutlandr","Krp","Genilik","Ykseklik","En boy orann koru","Evet","Hayr","Sil","Se","Harfler: %d","Kelimeler: %d","Tm","Se: %s","Tmn se","Dikey hizala","Ayr","Dikey ayr","Yatay ayr","Birletir","Kolon ekle","Satr ekle","Sil","Kenarlk",null,"st izili","Alt izgi","st yaz","Alt yaz","Seilimi kes","Satr sonu","Ara","ununla deitir","Deitir","Yaptr","Yaptrlacak ierik se","Sadece kendi resimlerinizi dzenleyebilirsiniz. Bu grseli kendi hostunuza indirmek ister misiniz?","Grsel baaryla hostunuza yklendi","Palet","Bu dizinde dosya yok","Yeniden isimlendir","Yeni isim girin","n izleme","ndir","Panodan yaptr ","Taraycnz panoya dorudan eriimi desteklemiyor.","Seimi kopyala","Kopyala","Snr yarap","Tmn Gster","Uygula","Ltfen bu alan doldurun","Ltfen bir web adresi girin","Varsaylan","Daire","Nokta","Kare","Bul","ncekini Bul","Sonrakini Bul","Snf ad girin","zel yeniden boyutlandrma iin Alt tuuna basn"]},21042:function(l){l.exports.default=["","Jodit","Jodit Editor","Free Non-commercial Version","","","","","Copyright  XDSoft.net - Chupurnov Valeriy. ","Anchor","","","","","","","","","","","","","","","","","","","","","","","","1","2","3","4","","","","","","","","","","","Margins","top","right","bottom","left","","Classes","","","","","","Src","Title","Alternative","Link","","","file","","","","","html","html","","","html","",""," Word/Excel ","","list","folders","","","","type name","","","","Alternative text","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","No follow","","","","","URL","","","","","","","","","","","","","","","","","","","",": %d",": %d","",": %s","","","","","","","","","","",null,"","","","","","Break","","","","","","Download this image on the host?","","","","","","","","","","","","","","","","","","","","","","","","","Alt"]},73895:function(l){l.exports.default=["","Jodit","Jodit Editor",null,"","","","","Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","","","","","","","","","","","","","","","","","","youtube/vimeo ","","","","","","1","2","3","4","","","","","","","","","","","Margins","top","right","bottom","left","","Classes","","","","","","Src","Title","","Link","","","file","","","","","html","html","","","html","",""," Word/Excel ","","list","folders","","","","type name","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","No follow","","","","","URL",null,"","","","","","","","","","","Crop","","","","","","","",": %d",": %d","",": %s","","","","","","","","","","",null,"","","","","","Pause","","","","","","?","","","","","","","","","","","","","","","","","","","","Quadrate","","","","",""]},3610:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M621 1280h595v-595zm-45-45l595-595h-595v595zm1152 77v192q0 14-9 23t-23 9h-224v224q0 14-9 23t-23 9h-192q-14 0-23-9t-9-23v-224h-864q-14 0-23-9t-9-23v-864h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224v-224q0-14 9-23t23-9h192q14 0 23 9t9 23v224h851l246-247q10-9 23-9t23 9q9 10 9 23t-9 23l-247 246v851h224q14 0 23 9t9 23z"/> </svg>`},56170:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24"> <g transform="translate(-251.000000, -443.000000)"> <g transform="translate(215.000000, 119.000000)"/> <path d="M252,448 L256,448 L256,444 L252,444 L252,448 Z M257,448 L269,448 L269,446 L257,446 L257,448 Z M257,464 L269,464 L269,462 L257,462 L257,464 Z M270,444 L270,448 L274,448 L274,444 L270,444 Z M252,462 L252,466 L256,466 L256,462 L252,462 Z M270,462 L270,466 L274,466 L274,462 L270,462 Z M254,461 L256,461 L256,449 L254,449 L254,461 Z M270,461 L272,461 L272,449 L270,449 L270,461 Z"/> </g> </svg>`},95331:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' x="0px" y="0px" viewBox="0 0 459 459"> <g> <path d="M229.5,0C102,0,0,102,0,229.5S102,459,229.5,459c20.4,0,38.25-17.85,38.25-38.25c0-10.2-2.55-17.85-10.2-25.5 c-5.1-7.65-10.2-15.3-10.2-25.5c0-20.4,17.851-38.25,38.25-38.25h45.9c71.4,0,127.5-56.1,127.5-127.5C459,91.8,357,0,229.5,0z M89.25,229.5c-20.4,0-38.25-17.85-38.25-38.25S68.85,153,89.25,153s38.25,17.85,38.25,38.25S109.65,229.5,89.25,229.5z M165.75,127.5c-20.4,0-38.25-17.85-38.25-38.25S145.35,51,165.75,51S204,68.85,204,89.25S186.15,127.5,165.75,127.5z M293.25,127.5c-20.4,0-38.25-17.85-38.25-38.25S272.85,51,293.25,51s38.25,17.85,38.25,38.25S313.65,127.5,293.25,127.5z M369.75,229.5c-20.4,0-38.25-17.85-38.25-38.25S349.35,153,369.75,153S408,170.85,408,191.25S390.15,229.5,369.75,229.5z" /> </g> </svg>`},84279:function(l){l.exports='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"> <path d="M1088 1256v240q0 16-12 28t-28 12h-240q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5h-240q-15 0-25.5-18.5t-10.5-37.5v-45q0-83 65-156.5t143-108.5q59-27 84-56t25-76q0-42-46.5-74t-107.5-32q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8l-164-125q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z"/> </svg>'},11257:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 128 128" xml:space="preserve"> <polygon points="112.4560547,23.3203125 112.4560547,75.8154297 31.4853516,75.8154297 31.4853516,61.953125 16.0131836,72.6357422 0.5410156,83.3164063 16.0131836,93.9990234 31.4853516,104.6796875 31.4853516,90.8183594 112.4560547,90.8183594 112.4560547,90.8339844 127.4589844,90.8339844 127.4589844,23.3203125"/> </svg>`},25141:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M747 1521q74 32 140 32 376 0 376-335 0-114-41-180-27-44-61.5-74t-67.5-46.5-80.5-25-84-10.5-94.5-2q-73 0-101 10 0 53-.5 159t-.5 158q0 8-1 67.5t-.5 96.5 4.5 83.5 12 66.5zm-14-746q42 7 109 7 82 0 143-13t110-44.5 74.5-89.5 25.5-142q0-70-29-122.5t-79-82-108-43.5-124-14q-50 0-130 13 0 50 4 151t4 152q0 27-.5 80t-.5 79q0 46 1 69zm-541 889l2-94q15-4 85-16t106-27q7-12 12.5-27t8.5-33.5 5.5-32.5 3-37.5.5-34v-65.5q0-982-22-1025-4-8-22-14.5t-44.5-11-49.5-7-48.5-4.5-30.5-3l-4-83q98-2 340-11.5t373-9.5q23 0 68.5.5t67.5.5q70 0 136.5 13t128.5 42 108 71 74 104.5 28 137.5q0 52-16.5 95.5t-39 72-64.5 57.5-73 45-84 40q154 35 256.5 134t102.5 248q0 100-35 179.5t-93.5 130.5-138 85.5-163.5 48.5-176 14q-44 0-132-3t-132-3q-106 0-307 11t-231 12z"/> </svg>`},24557:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M384 1662l17-85q6-2 81.5-21.5t111.5-37.5q28-35 41-101 1-7 62-289t114-543.5 52-296.5v-25q-24-13-54.5-18.5t-69.5-8-58-5.5l19-103q33 2 120 6.5t149.5 7 120.5 2.5q48 0 98.5-2.5t121-7 98.5-6.5q-5 39-19 89-30 10-101.5 28.5t-108.5 33.5q-8 19-14 42.5t-9 40-7.5 45.5-6.5 42q-27 148-87.5 419.5t-77.5 355.5q-2 9-13 58t-20 90-16 83.5-6 57.5l1 18q17 4 185 31-3 44-16 99-11 0-32.5 1.5t-32.5 1.5q-29 0-87-10t-86-10q-138-2-206-2-51 0-143 9t-121 11z"/> </svg>`},10859:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1760 896q14 0 23 9t9 23v64q0 14-9 23t-23 9h-1728q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h1728zm-1277-64q-28-35-51-80-48-97-48-188 0-181 134-309 133-127 393-127 50 0 167 19 66 12 177 48 10 38 21 118 14 123 14 183 0 18-5 45l-12 3-84-6-14-2q-50-149-103-205-88-91-210-91-114 0-182 59-67 58-67 146 0 73 66 140t279 129q69 20 173 66 58 28 95 52h-743zm507 256h411q7 39 7 92 0 111-41 212-23 55-71 104-37 35-109 81-80 48-153 66-80 21-203 21-114 0-195-23l-140-40q-57-16-72-28-8-8-8-22v-13q0-108-2-156-1-30 0-68l2-37v-44l102-2q15 34 30 71t22.5 56 12.5 27q35 57 80 94 43 36 105 57 59 22 132 22 64 0 139-27 77-26 122-86 47-61 47-129 0-84-81-157-34-29-137-71z"/> </svg>`},9813:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1025 1369v167h-248l-159-252-24-42q-8-9-11-21h-3l-9 21q-10 20-25 44l-155 250h-258v-167h128l197-291-185-272h-137v-168h276l139 228q2 4 23 42 8 9 11 21h3q3-9 11-21l25-42 140-228h257v168h-125l-184 267 204 296h109zm639 217v206h-514l-4-27q-3-45-3-46 0-64 26-117t65-86.5 84-65 84-54.5 65-54 26-64q0-38-29.5-62.5t-70.5-24.5q-51 0-97 39-14 11-36 38l-105-92q26-37 63-66 80-65 188-65 110 0 178 59.5t68 158.5q0 66-34.5 118.5t-84 86-99.5 62.5-87 63-41 73h232v-80h126z"/> </svg>`},93395:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1025 1369v167h-248l-159-252-24-42q-8-9-11-21h-3l-9 21q-10 20-25 44l-155 250h-258v-167h128l197-291-185-272h-137v-168h276l139 228q2 4 23 42 8 9 11 21h3q3-9 11-21l25-42 140-228h257v168h-125l-184 267 204 296h109zm637-679v206h-514l-3-27q-4-28-4-46 0-64 26-117t65-86.5 84-65 84-54.5 65-54 26-64q0-38-29.5-62.5t-70.5-24.5q-51 0-97 39-14 11-36 38l-105-92q26-37 63-66 83-65 188-65 110 0 178 59.5t68 158.5q0 56-24.5 103t-62 76.5-81.5 58.5-82 50.5-65.5 51.5-30.5 63h232v-80h126z"/> </svg>`},98213:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M176 223q-37-2-45-4l-3-88q13-1 40-1 60 0 112 4 132 7 166 7 86 0 168-3 116-4 146-5 56 0 86-2l-1 14 2 64v9q-60 9-124 9-60 0-79 25-13 14-13 132 0 13 .5 32.5t.5 25.5l1 229 14 280q6 124 51 202 35 59 96 92 88 47 177 47 104 0 191-28 56-18 99-51 48-36 65-64 36-56 53-114 21-73 21-229 0-79-3.5-128t-11-122.5-13.5-159.5l-4-59q-5-67-24-88-34-35-77-34l-100 2-14-3 2-86h84l205 10q76 3 196-10l18 2q6 38 6 51 0 7-4 31-45 12-84 13-73 11-79 17-15 15-15 41 0 7 1.5 27t1.5 31q8 19 22 396 6 195-15 304-15 76-41 122-38 65-112 123-75 57-182 89-109 33-255 33-167 0-284-46-119-47-179-122-61-76-83-195-16-80-16-237v-333q0-188-17-213-25-36-147-39zm1488 1409v-64q0-14-9-23t-23-9h-1472q-14 0-23 9t-9 23v64q0 14 9 23t23 9h1472q14 0 23-9t9-23z"/> </svg>`},20026:function(l){l.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path d="M36 4h-24c-2.21 0-4 1.79-4 4v32c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4v-32c0-2.21-1.79-4-4-4zm-24 4h10v16l-5-3-5 3v-16z"/> </svg>'},66911:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M832 1408l336-384h-768l-336 384h768zm1013-1077q15 34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38 0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38 0 69.5 20.5t47.5 54.5z"/> </svg>`},50018:function(l){l.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"> <path d="M24.89,6.61H22.31V4.47A2.47,2.47,0,0,0,19.84,2H6.78A2.47,2.47,0,0,0,4.31,4.47V22.92a2.47,2.47,0,0,0,2.47,2.47H9.69V27.2a2.8,2.8,0,0,0,2.8,2.8h12.4a2.8,2.8,0,0,0,2.8-2.8V9.41A2.8,2.8,0,0,0,24.89,6.61ZM6.78,23.52a.61.61,0,0,1-.61-.6V4.47a.61.61,0,0,1,.61-.6H19.84a.61.61,0,0,1,.61.6V6.61h-8a2.8,2.8,0,0,0-2.8,2.8V23.52Zm19,3.68a.94.94,0,0,1-.94.93H12.49a.94.94,0,0,1-.94-.93V9.41a.94.94,0,0,1,.94-.93h12.4a.94.94,0,0,1,.94.93Z"/> <path d="M23.49,13.53h-9.6a.94.94,0,1,0,0,1.87h9.6a.94.94,0,1,0,0-1.87Z"/> <path d="M23.49,17.37h-9.6a.94.94,0,1,0,0,1.87h9.6a.94.94,0,1,0,0-1.87Z"/> <path d="M23.49,21.22h-9.6a.93.93,0,1,0,0,1.86h9.6a.93.93,0,1,0,0-1.86Z"/> </svg>'},99738:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M960 896q26 0 45 19t19 45-19 45-45 19-45-19-19-45 19-45 45-19zm300 64l507 398q28 20 25 56-5 35-35 51l-128 64q-13 7-29 7-17 0-31-8l-690-387-110 66q-8 4-12 5 14 49 10 97-7 77-56 147.5t-132 123.5q-132 84-277 84-136 0-222-78-90-84-79-207 7-76 56-147t131-124q132-84 278-84 83 0 151 31 9-13 22-22l122-73-122-73q-13-9-22-22-68 31-151 31-146 0-278-84-82-53-131-124t-56-147q-5-59 15.5-113t63.5-93q85-79 222-79 145 0 277 84 83 52 132 123t56 148q4 48-10 97 4 1 12 5l110 66 690-387q14-8 31-8 16 0 29 7l128 64q30 16 35 51 3 36-25 56zm-681-260q46-42 21-108t-106-117q-92-59-192-59-74 0-113 36-46 42-21 108t106 117q92 59 192 59 74 0 113-36zm-85 745q81-51 106-117t-21-108q-39-36-113-36-100 0-192 59-81 51-106 117t21 108q39 36 113 36 100 0 192-59zm178-613l96 58v-11q0-36 33-56l14-8-79-47-26 26q-3 3-10 11t-12 12q-2 2-4 3.5t-3 2.5zm224 224l96 32 736-576-128-64-768 431v113l-160 96 9 8q2 2 7 6 4 4 11 12t11 12l26 26zm704 416l128-64-520-408-177 138q-2 3-13 7z"/> </svg>`},9185:function(l){l.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path stroke-width="0" d="M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z"/> </svg>'},8619:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 18 18"> <g fill-rule="evenodd" stroke="none" stroke-width="1"> <g transform="translate(-381.000000, -381.000000)"> <g transform="translate(381.000000, 381.000000)"> <path d="M0,2 L2,2 L2,0 C0.9,0 0,0.9 0,2 L0,2 Z M0,10 L2,10 L2,8 L0,8 L0,10 L0,10 Z M4,18 L6,18 L6,16 L4,16 L4,18 L4,18 Z M0,6 L2,6 L2,4 L0,4 L0,6 L0,6 Z M10,0 L8,0 L8,2 L10,2 L10,0 L10,0 Z M16,0 L16,2 L18,2 C18,0.9 17.1,0 16,0 L16,0 Z M2,18 L2,16 L0,16 C0,17.1 0.9,18 2,18 L2,18 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M6,0 L4,0 L4,2 L6,2 L6,0 L6,0 Z M8,18 L10,18 L10,16 L8,16 L8,18 L8,18 Z M16,10 L18,10 L18,8 L16,8 L16,10 L16,10 Z M16,18 C17.1,18 18,17.1 18,16 L16,16 L16,18 L16,18 Z M16,6 L18,6 L18,4 L16,4 L16,6 L16,6 Z M16,14 L18,14 L18,12 L16,12 L16,14 L16,14 Z M12,18 L14,18 L14,16 L12,16 L12,18 L12,18 Z M12,2 L14,2 L14,0 L12,0 L12,2 L12,2 Z M4,14 L14,14 L14,4 L4,4 L4,14 L4,14 Z M6,6 L12,6 L12,12 L6,12 L6,6 L6,6 Z"/> </g> </g> </g> </svg>`},73894:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M896 1152q0-36-20-69-1-1-15.5-22.5t-25.5-38-25-44-21-50.5q-4-16-21-16t-21 16q-7 23-21 50.5t-25 44-25.5 38-15.5 22.5q-20 33-20 69 0 53 37.5 90.5t90.5 37.5 90.5-37.5 37.5-90.5zm512-128q0 212-150 362t-362 150-362-150-150-362q0-145 81-275 6-9 62.5-90.5t101-151 99.5-178 83-201.5q9-30 34-47t51-17 51.5 17 33.5 47q28 93 83 201.5t99.5 178 101 151 62.5 90.5q81 127 81 275z"/> </svg>`},83301:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 16 16"> <path stroke-width="0" d="M16 9v-6h-3v-1c0-0.55-0.45-1-1-1h-11c-0.55 0-1 0.45-1 1v3c0 0.55 0.45 1 1 1h11c0.55 0 1-0.45 1-1v-1h2v4h-9v2h-0.5c-0.276 0-0.5 0.224-0.5 0.5v5c0 0.276 0.224 0.5 0.5 0.5h2c0.276 0 0.5-0.224 0.5-0.5v-5c0-0.276-0.224-0.5-0.5-0.5h-0.5v-1h9zM12 3h-11v-1h11v1z"/> </svg>`},84142:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M789 559l-170 450q33 0 136.5 2t160.5 2q19 0 57-2-87-253-184-452zm-725 1105l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29 31-50.5l237-616 280-724h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15 34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 4-.5 13t-.5 13q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0 12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11 2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5t-50.5 162.5q0 22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58 0-174.5-10t-174.5-10q-8 0-26.5 4t-21.5 4q-80 14-188 14z"/> </svg>`},57292:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1744 1408q33 0 42 18.5t-11 44.5l-126 162q-20 26-49 26t-49-26l-126-162q-20-26-11-44.5t42-18.5h80v-1024h-80q-33 0-42-18.5t11-44.5l126-162q20-26 49-26t49 26l126 162q20 26 11 44.5t-42 18.5h-80v1024h80zm-1663-1279l54 27q12 5 211 5 44 0 132-2t132-2q36 0 107.5.5t107.5.5h293q6 0 21 .5t20.5 0 16-3 17.5-9 15-17.5l42-1q4 0 14 .5t14 .5q2 112 2 336 0 80-5 109-39 14-68 18-25-44-54-128-3-9-11-48t-14.5-73.5-7.5-35.5q-6-8-12-12.5t-15.5-6-13-2.5-18-.5-16.5.5q-17 0-66.5-.5t-74.5-.5-64 2-71 6q-9 81-8 136 0 94 2 388t2 455q0 16-2.5 71.5t0 91.5 12.5 69q40 21 124 42.5t120 37.5q5 40 5 50 0 14-3 29l-34 1q-76 2-218-8t-207-10q-50 0-151 9t-152 9q-3-51-3-52v-9q17-27 61.5-43t98.5-29 78-27q19-42 19-383 0-101-3-303t-3-303v-117q0-2 .5-15.5t.5-25-1-25.5-3-24-5-14q-11-12-162-12-33 0-93 12t-80 26q-19 13-34 72.5t-31.5 111-42.5 53.5q-42-26-56-44v-383z"/> </svg>`},18019:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M1534 189v73q0 29-18.5 61t-42.5 32q-50 0-54 1-26 6-32 31-3 11-3 64v1152q0 25-18 43t-43 18h-108q-25 0-43-18t-18-43v-1218h-143v1218q0 25-17.5 43t-43.5 18h-108q-26 0-43.5-18t-17.5-43v-496q-147-12-245-59-126-58-192-179-64-117-64-259 0-166 88-286 88-118 209-159 111-37 417-37h479q25 0 43 18t18 43z"/></svg>`},45146:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24"> <path stroke-width="0" d="M22,20.6L3.4,2H8V0H0v8h2V3.4L20.6,22H16v2h8v-8h-2V20.6z M16,0v2h4.7l-6.3,6.3l1.4,1.4L22,3.5V8h2V0H16z M8.3,14.3L2,20.6V16H0v8h8v-2H3.5l6.3-6.3L8.3,14.3z"/> </svg>`},53576:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M896 960v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45zm755-672q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23z"/> </svg>`},14655:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1600 736v192q0 40-28 68t-68 28h-1216q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h1216q40 0 68 28t28 68z"/> </svg>`},53477:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M576 576q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1024 384v448h-1408v-192l320-320 160 160 512-512zm96-704h-1600q-13 0-22.5 9.5t-9.5 22.5v1216q0 13 9.5 22.5t22.5 9.5h1600q13 0 22.5-9.5t9.5-22.5v-1216q0-13-9.5-22.5t-22.5-9.5zm160 32v1216q0 66-47 113t-113 47h-1600q-66 0-113-47t-47-113v-1216q0-66 47-113t113-47h1600q66 0 113 47t47 113z"/> </svg>`},90053:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M352 832q0 14-9 23l-288 288q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-576q0-13 9.5-22.5t22.5-9.5q14 0 23 9l288 288q9 9 9 23zm1440 480v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},72230:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M384 544v576q0 13-9.5 22.5t-22.5 9.5q-14 0-23-9l-288-288q-9-9-9-23t9-23l288-288q9-9 23-9 13 0 22.5 9.5t9.5 22.5zm1408 768v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},78321:function(l){l.exports='<svg viewBox="0 0 18.151 18.151" xmlns="http://www.w3.org/2000/svg"> <g> <path stroke-width="0" d="M6.237,16.546H3.649V1.604h5.916v5.728c0.474-0.122,0.968-0.194,1.479-0.194 c0.042,0,0.083,0.006,0.125,0.006V0H2.044v18.15h5.934C7.295,17.736,6.704,17.19,6.237,16.546z"/> <path stroke-width="0" d="M11.169,8.275c-2.723,0-4.938,2.215-4.938,4.938s2.215,4.938,4.938,4.938s4.938-2.215,4.938-4.938 S13.892,8.275,11.169,8.275z M11.169,16.81c-1.983,0-3.598-1.612-3.598-3.598c0-1.983,1.614-3.597,3.598-3.597 s3.597,1.613,3.597,3.597C14.766,15.198,13.153,16.81,11.169,16.81z"/> <polygon stroke-width="0" points="11.792,11.073 10.502,11.073 10.502,12.578 9.03,12.578 9.03,13.868 10.502,13.868 10.502,15.352 11.792,15.352 11.792,13.868 13.309,13.868 13.309,12.578 11.792,12.578 "/> </g> </svg>'},77654:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 432 432"> <g> <polygon points="203.688,96 0,96 0,144 155.688,144 "/> <polygon points="155.719,288 0,288 0,336 203.719,336 "/> <path d="M97.844,230.125c-3.701-3.703-5.856-8.906-5.856-14.141s2.154-10.438,5.856-14.141l9.844-9.844H0v48h107.719 L97.844,230.125z"/> <polygon points="232,176 232,96 112,216 232,336 232,256 432,256 432,176"/> </g> </svg>`},43371:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 312 312"> <g transform="translate(0.000000,312.000000) scale(0.100000,-0.100000)" stroke="none"> <path d="M50 3109 c0 -7 -11 -22 -25 -35 l-25 -23 0 -961 0 -961 32 -29 32 -30 501 -2 500 -3 3 -502 2 -502 31 -30 31 -31 958 0 958 0 23 25 c13 13 30 25 37 25 9 0 12 199 12 960 0 686 -3 960 -11 960 -6 0 -24 12 -40 28 l-29 27 -503 5 -502 5 -5 502 -5 503 -28 29 c-15 16 -27 34 -27 40 0 8 -274 11 -960 11 -710 0 -960 -3 -960 -11z m1738 -698 l2 -453 -40 -40 c-22 -22 -40 -43 -40 -47 0 -4 36 -42 79 -85 88 -87 82 -87 141 -23 l26 27 455 -2 454 -3 0 -775 0 -775 -775 0 -775 0 -3 450 -2 449 47 48 47 48 -82 80 c-44 44 -84 80 -87 80 -3 0 -25 -18 -48 -40 l-41 -40 -456 2 -455 3 -3 765 c-1 421 0 771 3 778 3 10 164 12 777 10 l773 -3 3 -454z"/> <path d="M607 2492 c-42 -42 -77 -82 -77 -87 0 -6 86 -96 190 -200 105 -104 190 -197 190 -205 0 -8 -41 -56 -92 -107 -65 -65 -87 -94 -77 -98 8 -3 138 -4 289 -3 l275 3 3 275 c1 151 0 281 -3 289 -4 10 -35 -14 -103 -82 -54 -53 -103 -97 -109 -97 -7 0 -99 88 -206 195 -107 107 -196 195 -198 195 -3 0 -39 -35 -82 -78z"/> <path d="M1470 1639 c-47 -49 -87 -91 -89 -94 -5 -6 149 -165 160 -165 9 0 189 179 189 188 0 12 -154 162 -165 161 -6 0 -48 -41 -95 -90z"/> <path d="M1797 1303 c-9 -8 -9 -568 0 -576 4 -4 50 36 103 88 54 52 101 95 106 95 5 0 95 -85 199 -190 104 -104 194 -190 200 -190 6 0 46 36 90 80 l79 79 -197 196 c-108 108 -197 199 -197 203 0 4 45 52 99 106 55 55 98 103 95 108 -6 10 -568 11 -577 1z"/> </g> </svg>`},44563:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 48 48"> <path d="M6 42h4v-4h-4v4zm4-28h-4v4h4v-4zm-4 20h4v-4h-4v4zm8 8h4v-4h-4v4zm-4-36h-4v4h4v-4zm8 0h-4v4h4v-4zm16 0h-4v4h4v-4zm-8 8h-4v4h4v-4zm0-8h-4v4h4v-4zm12 28h4v-4h-4v4zm-16 8h4v-4h-4v4zm-16-16h36v-4h-36v4zm32-20v4h4v-4h-4zm0 12h4v-4h-4v4zm-16 16h4v-4h-4v4zm8 8h4v-4h-4v4zm8 0h4v-4h-4v4z"/> <path d="M0 0h48v48h-48z" fill="none"/> </svg>`},53183:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 48 48"> <path d="M6 18h4v-4h-4v4zm0-8h4v-4h-4v4zm8 32h4v-4h-4v4zm0-16h4v-4h-4v4zm-8 0h4v-4h-4v4zm0 16h4v-4h-4v4zm0-8h4v-4h-4v4zm8-24h4v-4h-4v4zm24 24h4v-4h-4v4zm-16 8h4v-36h-4v36zm16 0h4v-4h-4v4zm0-16h4v-4h-4v4zm0-20v4h4v-4h-4zm0 12h4v-4h-4v4zm-8-8h4v-4h-4v4zm0 32h4v-4h-4v4zm0-16h4v-4h-4v4z"/> <path d="M0 0h48v48h-48z" fill="none"/> </svg>`},18548:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1248v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm1280 512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68zm-1280-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm1280 512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68z"/> </svg>`},52242:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1248v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68z"/> </svg>`},87498:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45z"/> </svg>`},7986:function(l){l.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M5.09668 6.99707H7.17358L4.17358 3.99707L1.17358 6.99707H3.09668V17.0031H1.15881L4.15881 20.0031L7.15881 17.0031H5.09668V6.99707Z"/> <path d="M22.8412 7H8.84119V5H22.8412V7Z"/> <path d="M22.8412 11H8.84119V9H22.8412V11Z"/> <path d="M8.84119 15H22.8412V13H8.84119V15Z"/> <path d="M22.8412 19H8.84119V17H22.8412V19Z"/> </svg>'},23075:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/> </svg>`},10655:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M503 1271l-256 256q-10 9-23 9-12 0-23-9-9-10-9-23t9-23l256-256q10-9 23-9t23 9q9 10 9 23t-9 23zm169 41v320q0 14-9 23t-23 9-23-9-9-23v-320q0-14 9-23t23-9 23 9 9 23zm-224-224q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23 9-23 23-9h320q14 0 23 9t9 23zm1264 128q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-334-335q-21-21-42-56l239-18 273 274q27 27 68 27.5t68-26.5l147-146q28-28 28-67 0-40-28-68l-274-275 18-239q35 21 56 42l336 336q84 86 84 204zm-617-724l-239 18-273-274q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l274 274-18 240q-35-21-56-42l-336-336q-84-86-84-204 0-120 85-203l147-146q83-83 203-83 121 0 204 85l334 335q21 21 42 56zm633 84q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23 9-23 23-9h320q14 0 23 9t9 23zm-544-544v320q0 14-9 23t-23 9-23-9-9-23v-320q0-14 9-23t23-9 23 9 9 23zm407 151l-256 256q-11 9-23 9t-23-9q-9-10-9-23t9-23l256-256q10-9 23-9t23 9q9 10 9 23t-9 23z"/> </svg>`},15476:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path stroke-width="0" d="M381 1620q0 80-54.5 126t-135.5 46q-106 0-172-66l57-88q49 45 106 45 29 0 50.5-14.5t21.5-42.5q0-64-105-56l-26-56q8-10 32.5-43.5t42.5-54 37-38.5v-1q-16 0-48.5 1t-48.5 1v53h-106v-152h333v88l-95 115q51 12 81 49t30 88zm2-627v159h-362q-6-36-6-54 0-51 23.5-93t56.5-68 66-47.5 56.5-43.5 23.5-45q0-25-14.5-38.5t-39.5-13.5q-46 0-81 58l-85-59q24-51 71.5-79.5t105.5-28.5q73 0 123 41.5t50 112.5q0 50-34 91.5t-75 64.5-75.5 50.5-35.5 52.5h127v-60h105zm1409 319v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm-1408-899v99h-335v-99h107q0-41 .5-122t.5-121v-12h-2q-8 17-50 54l-71-76 136-127h106v404h108zm1408 387v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},59403:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path stroke-width="0" d="M384 1408q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm0-512q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm-1408-928q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},22860:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M448 1536h896v-256h-896v256zm0-640h896v-384h-160q-40 0-68-28t-28-68v-160h-640v640zm1152 64q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128 0v416q0 13-9.5 22.5t-22.5 9.5h-224v160q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-160h-224q-13 0-22.5-9.5t-9.5-22.5v-416q0-79 56.5-135.5t135.5-56.5h64v-544q0-40 28-68t68-28h672q40 0 88 20t76 48l152 152q28 28 48 76t20 88v256h64q79 0 135.5 56.5t56.5 135.5z"/> </svg>`},95600:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5 163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0 225-52t179-147q7-10 23-12 14 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109 132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14 39 17 39 59z"/> </svg>`},76214:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z"/> </svg>`},41197:function(l){l.exports='<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg"> <path clip-rule="evenodd" d="M306.39,154.09c19.628,4.543,35.244,21.259,39.787,39.523 c1.551,8.54,8.998,14.989,17.904,14.989c9.991,0,18.168-8.175,18.168-18.17c0-13.083-10.991-32.98-25.985-47.881 c-14.719-14.537-32.252-24.802-46.695-24.802c-9.991,0-18.172,8.45-18.172,18.446C291.396,145.094,297.847,152.546,306.39,154.09z M56.629,392.312c-14.09,14.08-14.09,36.979,0,51.059c14.08,14.092,36.981,14.092,50.965,0l104.392-104.303 c24.347,15.181,53.062,23.991,83.953,23.991c87.857,0,158.995-71.142,158.995-158.999c0-87.854-71.138-158.995-158.995-158.995 c-87.856,0-158.995,71.141-158.995,158.995c0,30.802,8.819,59.606,23.992,83.953L56.629,392.312z M182.371,204.06 c0-62.687,50.875-113.568,113.568-113.568s113.569,50.881,113.569,113.568c0,62.694-50.876,113.569-113.569,113.569 S182.371,266.754,182.371,204.06z" fill-rule="evenodd"/> </svg>'},9342:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M553 1399l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23t-10 23l-393 393 393 393q10 10 10 23t-10 23zm591-1067l-373 1291q-4 13-15.5 19.5t-23.5 2.5l-62-17q-13-4-19.5-15.5t-2.5-24.5l373-1291q4-13 15.5-19.5t23.5-2.5l62 17q13 4 19.5 15.5t2.5 24.5zm657 651l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23t-10 23z"/> </svg>`},69546:function(l){l.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path d="M24.89 32h4.18L18.86 6h-3.71L4.93 32h4.18l2.25-6h11.29l2.24 6zM12.86 22L17 10.95 21.14 22h-8.28zm30.31 1.17L27 39.34 19.66 32l-2.83 2.83L27 45l19-19-2.83-2.83z"/> </svg>'},43158:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 270 270"> <path d="m240.443652,220.45085l-47.410809,0l0,-10.342138c13.89973,-8.43655 25.752896,-19.844464 34.686646,-33.469923c11.445525,-17.455846 17.496072,-37.709239 17.496072,-58.570077c0,-59.589197 -49.208516,-108.068714 -109.693558,-108.068714s-109.69263,48.479517 -109.69263,108.069628c0,20.860839 6.050547,41.113316 17.497001,58.570077c8.93375,13.625459 20.787845,25.032458 34.686646,33.469008l0,10.342138l-47.412666,0c-10.256959,0 -18.571354,8.191376 -18.571354,18.296574c0,10.105198 8.314395,18.296574 18.571354,18.296574l65.98402,0c10.256959,0 18.571354,-8.191376 18.571354,-18.296574l0,-39.496814c0,-7.073455 -4.137698,-13.51202 -10.626529,-16.537358c-25.24497,-11.772016 -41.557118,-37.145704 -41.557118,-64.643625c0,-39.411735 32.545369,-71.476481 72.549922,-71.476481c40.004553,0 72.550851,32.064746 72.550851,71.476481c0,27.497006 -16.312149,52.87161 -41.557118,64.643625c-6.487902,3.026253 -10.6256,9.464818 -10.6256,16.537358l0,39.496814c0,10.105198 8.314395,18.296574 18.571354,18.296574l65.982163,0c10.256959,0 18.571354,-8.191376 18.571354,-18.296574c0,-10.105198 -8.314395,-18.296574 -18.571354,-18.296574z"/> </svg>`},51716:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M576 1376v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm128-320v1088q0 66-47 113t-113 47h-1344q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1344q66 0 113 47t47 113z"/> </svg>`},49222:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 352v1088q0 42-39 59-13 5-25 5-27 0-45-19l-403-403v166q0 119-84.5 203.5t-203.5 84.5h-704q-119 0-203.5-84.5t-84.5-203.5v-704q0-119 84.5-203.5t203.5-84.5h704q119 0 203.5 84.5t84.5 203.5v165l403-402q18-19 45-19 12 0 25 5 39 17 39 59z"/> </svg>`},1755:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"/> </svg>`},74911:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1203 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z"/> </svg>`},8805:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"/> </svg>`},16547:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1395 1184q0 13-10 23l-50 50q-10 10-23 10t-23-10l-393-393-393 393q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l466 466q10 10 10 23z"/> </svg>`},10856:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M704 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm-544-992h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"/> </svg>`},98441:function(l){l.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"> <g stroke="none" stroke-width="1"> <path d="M14,1.4 L12.6,0 L7,5.6 L1.4,0 L0,1.4 L5.6,7 L0,12.6 L1.4,14 L7,8.4 L12.6,14 L14,12.6 L8.4,7 L14,1.4 Z"/> </g> </svg>'},52488:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-896q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h896q26 0 45 19t19 45zm256-384v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-640q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h640q26 0 45 19t19 45z"/> </svg>`},9370:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"/> </svg>`},66543:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 10 10"> <path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/> </svg>`},608:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24" > <circle cx="12" cy="12" r="2.2"/> <circle cx="12" cy="5" r="2.2"/> <circle cx="12" cy="19" r="2.2"/> </svg>`},42840:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 960q-152-236-381-353 61 104 61 225 0 185-131.5 316.5t-316.5 131.5-316.5-131.5-131.5-316.5q0-121 61-225-229 117-381 353 133 205 333.5 326.5t434.5 121.5 434.5-121.5 333.5-326.5zm-720-384q0-20-14-34t-34-14q-125 0-214.5 89.5t-89.5 214.5q0 20 14 34t34 14 34-14 14-34q0-86 61-147t147-61q20 0 34-14t14-34zm848 384q0 34-20 69-140 230-376.5 368.5t-499.5 138.5-499.5-139-376.5-368q-20-35-20-69t20-69q140-229 376.5-368t499.5-139 499.5 139 376.5 368q20 35 20 69z"/> </svg>`},79096:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1152 512v-472q22 14 36 28l408 408q14 14 28 36h-472zm-128 32q0 40 28 68t68 28h544v1056q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h800v544z"/> </svg>`},33014:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1728 608v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"/> </svg>`},91677:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1152 1376v-160q0-14-9-23t-23-9h-96v-512q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v160q0 14 9 23t23 9h96v320h-96q-14 0-23 9t-9 23v160q0 14 9 23t23 9h448q14 0 23-9t9-23zm-128-896v-160q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v160q0 14 9 23t23 9h192q14 0 23-9t9-23zm640 416q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/> </svg>`},8259:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-1280q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1280q26 0 45 19t19 45zm256-384v128q0 26-19 45t-45 19h-1536q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1536q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-1152q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1152q26 0 45 19t19 45z"/> </svg>`},64467:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"/></svg>`},86934:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 32 32"> <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z"/> </svg>`},76133:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z"/></svg>`},45519:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"/></svg>`},90265:function(l){l.exports='<svg viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.9814 11.8049C5.59087 11.4144 5.59087 10.7812 5.9814 10.3907L10.224 6.14806C10.6146 5.75754 11.2477 5.75754 11.6383 6.14806C12.0288 6.53859 12.0288 7.17175 11.6383 7.56228L7.39561 11.8049C7.00509 12.1954 6.37192 12.1954 5.9814 11.8049Z"/> <path d="M0.707107 12.0208C0.316582 11.6303 0.316582 10.9971 0.707107 10.6066L10.6066 0.707121C10.9971 0.316597 11.6303 0.316596 12.0208 0.707121C12.4113 1.09764 12.4113 1.73081 12.0208 2.12133L2.12132 12.0208C1.7308 12.4114 1.09763 12.4114 0.707107 12.0208Z"/> </svg>'},81279:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1280q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1280q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1536q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1536q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1152q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1152q26 0 45 19t19 45z"/> </svg>`},68899:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1536h768v-384h-768v384zm896 0h128v-896q0-14-10-38.5t-20-34.5l-281-281q-10-10-34-20t-39-10v416q0 40-28 68t-68 28h-576q-40 0-68-28t-28-68v-416h-128v1280h128v-416q0-40 28-68t68-28h832q40 0 68 28t28 68v416zm-384-928v-320q0-13-9.5-22.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 22.5v320q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5-9.5t9.5-22.5zm640 32v928q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1344q0-40 28-68t68-28h928q40 0 88 20t76 48l280 280q28 28 48 76t20 88z"/> </svg>`},70744:function(l){l.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path stroke="null" d="m42.276011,26.302547c0.098397,-0.76605 0.172194,-1.54407 0.172194,-2.33406s-0.073797,-1.56801 -0.172194,-2.33406l5.202718,-3.961917c0.467384,-0.359086 0.602679,-1.005441 0.29519,-1.532101l-4.919828,-8.29489c-0.307489,-0.51469 -0.947067,-0.730142 -1.500548,-0.51469l-6.125186,2.405877c-1.266856,-0.945594 -2.656707,-1.747553 -4.157255,-2.357999l-0.922468,-6.343855c-0.110696,-0.562568 -0.614979,-1.005441 -1.229957,-1.005441l-9.839656,0c-0.614979,0 -1.119261,0.442873 -1.217657,1.005441l-0.922468,6.343855c-1.500548,0.610446 -2.890399,1.400436 -4.157255,2.357999l-6.125186,-2.405877c-0.553481,-0.203482 -1.193058,0 -1.500548,0.51469l-4.919828,8.29489c-0.307489,0.51469 -0.172194,1.161045 0.29519,1.532101l5.190419,3.961917c-0.098397,0.76605 -0.172194,1.54407 -0.172194,2.33406s0.073797,1.56801 0.172194,2.33406l-5.190419,3.961917c-0.467384,0.359086 -0.602679,1.005441 -0.29519,1.532101l4.919828,8.29489c0.307489,0.51469 0.947067,0.730142 1.500548,0.51469l6.125186,-2.405877c1.266856,0.945594 2.656707,1.747553 4.157255,2.357999l0.922468,6.343855c0.098397,0.562568 0.602679,1.005441 1.217657,1.005441l9.839656,0c0.614979,0 1.119261,-0.442873 1.217657,-1.005441l0.922468,-6.343855c1.500548,-0.610446 2.890399,-1.400436 4.157255,-2.357999l6.125186,2.405877c0.553481,0.203482 1.193058,0 1.500548,-0.51469l4.919828,-8.29489c0.307489,-0.51469 0.172194,-1.161045 -0.29519,-1.532101l-5.190419,-3.961917zm-18.277162,6.044617c-4.759934,0 -8.609699,-3.746465 -8.609699,-8.378677s3.849766,-8.378677 8.609699,-8.378677s8.609699,3.746465 8.609699,8.378677s-3.849766,8.378677 -8.609699,8.378677z"/> </svg>'},19201:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"/> </svg>`},84930:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1639 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"/> </svg>`},99704:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1344 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h427q21 56 70.5 92t110.5 36h256q61 0 110.5-36t70.5-92h427q40 0 68 28t28 68zm-325-648q-17 40-59 40h-256v448q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-448h-256q-42 0-59-40-17-39 14-69l448-448q18-19 45-19t45 19l448 448q31 30 14 69z"/> </svg>`},2304:function(l){l.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1216 320q0 26-19 45t-45 19h-128v1024h128q26 0 45 19t19 45-19 45l-256 256q-19 19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19h128v-1024h-128q-26 0-45-19t-19-45 19-45l256-256q19-19 45-19t45 19l256 256q19 19 19 45z"/> </svg>`},93330:function(l,o,s){s.r(o)},45066:function(l,o,s){s.r(o)},99895:function(l,o,s){s.r(o)},87682:function(l,o,s){s.r(o)},50905:function(l,o,s){s.r(o)},70446:function(l,o,s){s.r(o)},18984:function(l,o,s){s.r(o)},4591:function(l,o,s){s.r(o)},64194:function(l,o,s){s.r(o)},70375:function(l,o,s){s.r(o)},90235:function(l,o,s){s.r(o)},88477:function(l,o,s){s.r(o)},50197:function(l,o,s){s.r(o)},39008:function(l,o,s){s.r(o)},47086:function(l,o,s){s.r(o)},16462:function(l,o,s){s.r(o)},40692:function(l,o,s){s.r(o)},27452:function(l,o,s){s.r(o)},51422:function(l,o,s){s.r(o)},62820:function(l,o,s){s.r(o)},63421:function(l,o,s){s.r(o)},32115:function(l,o,s){s.r(o)},53362:function(l,o,s){s.r(o)},48904:function(l,o,s){s.r(o)},85796:function(l,o,s){s.r(o)},28654:function(l,o,s){s.r(o)},60819:function(l,o,s){s.r(o)},96410:function(l,o,s){s.r(o)},33126:function(l,o,s){s.r(o)},30724:function(l,o,s){s.r(o)},14320:function(l,o,s){s.r(o)},9947:function(l,o,s){s.r(o)},45109:function(l,o,s){s.r(o)},71708:function(l,o,s){s.r(o)},51629:function(l,o,s){s.r(o)},54860:function(l,o,s){s.r(o)},47818:function(l,o,s){s.r(o)},6316:function(l,o,s){s.r(o)},88582:function(l,o,s){s.r(o)},30962:function(l,o,s){s.r(o)},68197:function(l,o,s){s.r(o)},60057:function(l,o,s){s.r(o)},33393:function(l,o,s){s.r(o)},51057:function(l,o,s){s.r(o)},64618:function(l,o,s){s.r(o)},90176:function(l,o,s){s.r(o)},91147:function(l,o,s){s.r(o)},70631:function(l,o){function s(h){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(h)}function u(h,p,m){var f=m.value;if(typeof f!="function")throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(s(f)));var g=!1;return{configurable:!0,get:function(){if(g||this===h.prototype||this.hasOwnProperty(p)||typeof f!="function")return f;var v=f.bind(this);return g=!0,Object.defineProperty(this,p,{configurable:!0,get:function(){return v},set:function(S){f=S,delete this[p]}}),g=!1,v},set:function(v){f=v}}}function d(h){var p;return typeof Reflect<"u"&&typeof Reflect.ownKeys=="function"?p=Reflect.ownKeys(h.prototype):(p=Object.getOwnPropertyNames(h.prototype),typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(h.prototype)))),p.forEach(function(m){if(m!=="constructor"){var f=Object.getOwnPropertyDescriptor(h.prototype,m);typeof f.value=="function"&&Object.defineProperty(h.prototype,m,u(h,m,f))}}),h}Object.defineProperty(o,"__esModule",{value:!0}),o.boundClass=o.boundMethod=void 0,o.boundMethod=u,o.boundClass=d,o.default=function(){return arguments.length===1?d.apply(void 0,arguments):u.apply(void 0,arguments)}},61227:function(){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(l){if("Element"in l){var o="classList",s=l.Element.prototype,u=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},h=Array.prototype.indexOf||function(x){for(var b=0,_=this.length;_>b;b++)if(b in this&&this[b]===x)return b;return-1},p=function(x,b){this.name=x,this.code=DOMException[x],this.message=b},m=function(x,b){if(b==="")throw new p("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new p("INVALID_CHARACTER_ERR","String contains an invalid character");return h.call(x,b)},f=function(x){for(var b=d.call(x.getAttribute("class")||""),_=b?b.split(/\s+/):[],w=0,C=_.length;C>w;w++)this.push(_[w]);this._updateClassName=function(){x.setAttribute("class",this.toString())}},g=f.prototype=[],v=function(){return new f(this)};if(p.prototype=Error.prototype,g.item=function(x){return this[x]||null},g.contains=function(x){return m(this,x+="")!==-1},g.add=function(){var x,b=arguments,_=0,w=b.length,C=!1;do m(this,x=b[_]+"")===-1&&(this.push(x),C=!0);while(++_<w);C&&this._updateClassName()},g.remove=function(){var x,b,_=arguments,w=0,C=_.length,E=!1;do for(b=m(this,x=_[w]+"");b!==-1;)this.splice(b,1),E=!0,b=m(this,x);while(++w<C);E&&this._updateClassName()},g.toggle=function(x,b){var _=this.contains(x+=""),w=_?b!==!0&&"remove":b!==!1&&"add";return w&&this[w](x),b===!0||b===!1?b:!_},g.toString=function(){return this.join(" ")},u.defineProperty){var S={get:v,enumerable:!0,configurable:!0};try{u.defineProperty(s,o,S)}catch(x){x.number!==void 0&&x.number!==-2146823252||(S.enumerable=!1,u.defineProperty(s,o,S))}}else u.prototype.__defineGetter__&&s.__defineGetter__(o,v)}}(window.self),function(){var l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var o=function(u){var d=DOMTokenList.prototype[u];DOMTokenList.prototype[u]=function(h){var p,m=arguments.length;for(p=0;m>p;p++)d.call(this,h=arguments[p])}};o("add"),o("remove")}if(l.classList.toggle("c3",!1),l.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,d){return 1 in arguments&&!this.contains(u)==!d?d:s.call(this,u)}}l=null}())},69220:function(l,o,s){s(22513);var u=s(56599);l.exports=u("Array","findIndex")},10444:function(l,o,s){s(52867),s(70057);var u=s(31116);l.exports=u.Array.from},66622:function(l,o,s){s(54166),s(32044),s(95661),s(28424),s(64514),s(30733),s(40327),s(53639),s(6147),s(7290),s(95122),s(61322),s(39605),s(49341),s(28809),s(82658),s(43967),s(90217),s(73477),s(93697);var u=s(31116);l.exports=u.Symbol},98061:function(l,o,s){var u=s(794),d=s(98418),h=TypeError;l.exports=function(p){if(u(p))return p;throw h(d(p)+" is not a function")}},75839:function(l,o,s){var u=s(794),d=String,h=TypeError;l.exports=function(p){if(typeof p=="object"||u(p))return p;throw h("Can't set "+d(p)+" as a prototype")}},15179:function(l,o,s){var u=s(19517),d=s(93503),h=s(73252).f,p=u("unscopables"),m=Array.prototype;m[p]==null&&h(m,p,{configurable:!0,value:d(null)}),l.exports=function(f){m[p][f]=!0}},52313:function(l,o,s){var u=s(8148),d=String,h=TypeError;l.exports=function(p){if(u(p))return p;throw h(d(p)+" is not an object")}},92707:function(l,o,s){var u=s(40207),d=s(9093),h=s(68488),p=s(79665),m=s(84997),f=s(15333),g=s(15050),v=s(89476),S=s(27395),x=s(81058),b=Array;l.exports=function(_){var w=h(_),C=f(this),E=arguments.length,A=E>1?arguments[1]:void 0,T=A!==void 0;T&&(A=u(A,E>2?arguments[2]:void 0));var M,j,P,I,k,R,O=x(w),D=0;if(!O||this===b&&m(O))for(M=g(w),j=C?new this(M):b(M);M>D;D++)R=T?A(w[D],D):w[D],v(j,D,R);else for(k=(I=S(w,O)).next,j=C?new this:[];!(P=d(k,I)).done;D++)R=T?p(I,A,[P.value,D],!0):P.value,v(j,D,R);return j.length=D,j}},79327:function(l,o,s){var u=s(98651),d=s(10586),h=s(15050),p=function(m){return function(f,g,v){var S,x=u(f),b=h(x),_=d(v,b);if(m&&g!=g){for(;b>_;)if((S=x[_++])!=S)return!0}else for(;b>_;_++)if((m||_ in x)&&x[_]===g)return m||_||0;return!m&&-1}};l.exports={includes:p(!0),indexOf:p(!1)}},56881:function(l,o,s){var u=s(40207),d=s(90838),h=s(25049),p=s(68488),m=s(15050),f=s(6429),g=d([].push),v=function(S){var x=S==1,b=S==2,_=S==3,w=S==4,C=S==6,E=S==7,A=S==5||C;return function(T,M,j,P){for(var I,k,R=p(T),O=h(R),D=u(M,j),L=m(O),B=0,F=P||f,H=x?F(T,L):b||E?F(T,0):void 0;L>B;B++)if((A||B in O)&&(k=D(I=O[B],B,R),S))if(x)H[B]=k;else if(k)switch(S){case 3:return!0;case 5:return I;case 6:return B;case 2:g(H,I)}else switch(S){case 4:return!1;case 7:g(H,I)}return C?-1:_||w?w:H}};l.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},63833:function(l,o,s){var u=s(75834),d=s(19517),h=s(65190),p=d("species");l.exports=function(m){return h>=51||!u(function(){var f=[];return(f.constructor={})[p]=function(){return{foo:1}},f[m](Boolean).foo!==1})}},57652:function(l,o,s){var u=s(10586),d=s(15050),h=s(89476),p=Array,m=Math.max;l.exports=function(f,g,v){for(var S=d(f),x=u(g,S),b=u(v===void 0?S:v,S),_=p(m(b-x,0)),w=0;b>x;x++,w++)h(_,w,f[x]);return _.length=w,_}},54832:function(l,o,s){var u=s(90838);l.exports=u([].slice)},22506:function(l,o,s){var u=s(36222),d=s(15333),h=s(8148),p=s(19517)("species"),m=Array;l.exports=function(f){var g;return u(f)&&(d(g=f.constructor)&&(g===m||u(g.prototype))||h(g)&&(g=g[p])===null)&&(g=void 0),g===void 0?m:g}},6429:function(l,o,s){var u=s(22506);l.exports=function(d,h){return new(u(d))(h===0?0:h)}},79665:function(l,o,s){var u=s(52313),d=s(11274);l.exports=function(h,p,m,f){try{return f?p(u(m)[0],m[1]):p(m)}catch(g){d(h,"throw",g)}}},7581:function(l,o,s){var u=s(19517)("iterator"),d=!1;try{var h=0,p={next:function(){return{done:!!h++}},return:function(){d=!0}};p[u]=function(){return this},Array.from(p,function(){throw 2})}catch{}l.exports=function(m,f){if(!f&&!d)return!1;var g=!1;try{var v={};v[u]=function(){return{next:function(){return{done:g=!0}}}},m(v)}catch{}return g}},6285:function(l,o,s){var u=s(90838),d=u({}.toString),h=u("".slice);l.exports=function(p){return h(d(p),8,-1)}},8652:function(l,o,s){var u=s(6424),d=s(794),h=s(6285),p=s(19517)("toStringTag"),m=Object,f=h(function(){return arguments}())=="Arguments";l.exports=u?h:function(g){var v,S,x;return g===void 0?"Undefined":g===null?"Null":typeof(S=function(b,_){try{return b[_]}catch{}}(v=m(g),p))=="string"?S:f?h(v):(x=h(v))=="Object"&&d(v.callee)?"Arguments":x}},58392:function(l,o,s){var u=s(14434),d=s(86671),h=s(36999),p=s(73252);l.exports=function(m,f,g){for(var v=d(f),S=p.f,x=h.f,b=0;v.length>b;b++){var _=v[b];u(m,_)||g&&u(g,_)||S(m,_,x(f,_))}}},27259:function(l,o,s){var u=s(75834);l.exports=!u(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},17427:function(l){l.exports=function(o,s){return{value:o,done:s}}},45840:function(l,o,s){var u=s(13873),d=s(73252),h=s(32500);l.exports=u?function(p,m,f){return d.f(p,m,h(1,f))}:function(p,m,f){return p[m]=f,p}},32500:function(l){l.exports=function(o,s){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:s}}},89476:function(l,o,s){var u=s(43836),d=s(73252),h=s(32500);l.exports=function(p,m,f){var g=u(m);g in p?d.f(p,g,h(0,f)):p[g]=f}},97548:function(l,o,s){var u=s(40846),d=s(73252);l.exports=function(h,p,m){return m.get&&u(m.get,p,{getter:!0}),m.set&&u(m.set,p,{setter:!0}),d.f(h,p,m)}},35065:function(l,o,s){var u=s(794),d=s(73252),h=s(40846),p=s(25379);l.exports=function(m,f,g,v){v||(v={});var S=v.enumerable,x=v.name!==void 0?v.name:f;if(u(g)&&h(g,x,v),v.global)S?m[f]=g:p(f,g);else{try{v.unsafe?m[f]&&(S=!0):delete m[f]}catch{}S?m[f]=g:d.f(m,f,{value:g,enumerable:!1,configurable:!v.nonConfigurable,writable:!v.nonWritable})}return m}},25379:function(l,o,s){var u=s(37042),d=Object.defineProperty;l.exports=function(h,p){try{d(u,h,{value:p,configurable:!0,writable:!0})}catch{u[h]=p}return p}},13873:function(l,o,s){var u=s(75834);l.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},12062:function(l){var o=typeof document=="object"&&document.all;l.exports={all:o,IS_HTMLDDA:o===void 0&&o!==void 0}},15192:function(l,o,s){var u=s(37042),d=s(8148),h=u.document,p=d(h)&&d(h.createElement);l.exports=function(m){return p?h.createElement(m):{}}},39505:function(l){var o=TypeError;l.exports=function(s){if(s>9007199254740991)throw o("Maximum allowed index exceeded");return s}},21473:function(l){l.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},65190:function(l,o,s){var u,d,h=s(37042),p=s(21473),m=h.process,f=h.Deno,g=m&&m.versions||f&&f.version,v=g&&g.v8;v&&(d=(u=v.split("."))[0]>0&&4>u[0]?1:+(u[0]+u[1])),!d&&p&&((u=p.match(/Edge\/(\d+)/))&&74>u[1]||(u=p.match(/Chrome\/(\d+)/))&&(d=+u[1])),l.exports=d},56599:function(l,o,s){var u=s(37042),d=s(90838);l.exports=function(h,p){return d(u[h].prototype[p])}},64456:function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},50791:function(l,o,s){var u=s(37042),d=s(36999).f,h=s(45840),p=s(35065),m=s(25379),f=s(58392),g=s(56930);l.exports=function(v,S){var x,b,_,w,C,E=v.target,A=v.global,T=v.stat;if(x=A?u:T?u[E]||m(E,{}):(u[E]||{}).prototype)for(b in S){if(w=S[b],_=v.dontCallGetSet?(C=d(x,b))&&C.value:x[b],!g(A?b:E+(T?".":"#")+b,v.forced)&&_!==void 0){if(typeof w==typeof _)continue;f(w,_)}(v.sham||_&&_.sham)&&h(w,"sham",!0),p(x,b,w,v)}}},75834:function(l){l.exports=function(o){try{return!!o()}catch{return!0}}},55101:function(l,o,s){var u=s(32610),d=Function.prototype,h=d.apply,p=d.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(u?p.bind(h):function(){return p.apply(h,arguments)})},40207:function(l,o,s){var u=s(75114),d=s(98061),h=s(32610),p=u(u.bind);l.exports=function(m,f){return d(m),f===void 0?m:h?p(m,f):function(){return m.apply(f,arguments)}}},32610:function(l,o,s){var u=s(75834);l.exports=!u(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},9093:function(l,o,s){var u=s(32610),d=Function.prototype.call;l.exports=u?d.bind(d):function(){return d.apply(d,arguments)}},84521:function(l,o,s){var u=s(13873),d=s(14434),h=Function.prototype,p=u&&Object.getOwnPropertyDescriptor,m=d(h,"name"),f=m&&(function(){}).name==="something",g=m&&(!u||u&&p(h,"name").configurable);l.exports={EXISTS:m,PROPER:f,CONFIGURABLE:g}},47448:function(l,o,s){var u=s(90838),d=s(98061);l.exports=function(h,p,m){try{return u(d(Object.getOwnPropertyDescriptor(h,p)[m]))}catch{}}},75114:function(l,o,s){var u=s(6285),d=s(90838);l.exports=function(h){if(u(h)==="Function")return d(h)}},90838:function(l,o,s){var u=s(32610),d=Function.prototype,h=d.call,p=u&&d.bind.bind(h,h);l.exports=u?p:function(m){return function(){return h.apply(m,arguments)}}},98945:function(l,o,s){var u=s(37042),d=s(794),h=function(p){return d(p)?p:void 0};l.exports=function(p,m){return 2>arguments.length?h(u[p]):u[p]&&u[p][m]}},81058:function(l,o,s){var u=s(8652),d=s(20156),h=s(8140),p=s(84922),m=s(19517)("iterator");l.exports=function(f){if(!h(f))return d(f,m)||d(f,"@@iterator")||p[u(f)]}},27395:function(l,o,s){var u=s(9093),d=s(98061),h=s(52313),p=s(98418),m=s(81058),f=TypeError;l.exports=function(g,v){var S=2>arguments.length?m(g):v;if(d(S))return h(u(S,g));throw f(p(g)+" is not iterable")}},6693:function(l,o,s){var u=s(90838),d=s(36222),h=s(794),p=s(6285),m=s(63046),f=u([].push);l.exports=function(g){if(h(g))return g;if(d(g)){for(var v=g.length,S=[],x=0;v>x;x++){var b=g[x];typeof b=="string"?f(S,b):typeof b!="number"&&p(b)!="Number"&&p(b)!="String"||f(S,m(b))}var _=S.length,w=!0;return function(C,E){if(w)return w=!1,E;if(d(this))return E;for(var A=0;_>A;A++)if(S[A]===C)return E}}}},20156:function(l,o,s){var u=s(98061),d=s(8140);l.exports=function(h,p){var m=h[p];return d(m)?void 0:u(m)}},37042:function(l,o,s){var u=function(d){return d&&d.Math==Math&&d};l.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},14434:function(l,o,s){var u=s(90838),d=s(68488),h=u({}.hasOwnProperty);l.exports=Object.hasOwn||function(p,m){return h(d(p),m)}},48889:function(l){l.exports={}},36249:function(l,o,s){var u=s(98945);l.exports=u("document","documentElement")},12816:function(l,o,s){var u=s(13873),d=s(75834),h=s(15192);l.exports=!u&&!d(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},25049:function(l,o,s){var u=s(90838),d=s(75834),h=s(6285),p=Object,m=u("".split);l.exports=d(function(){return!p("z").propertyIsEnumerable(0)})?function(f){return h(f)=="String"?m(f,""):p(f)}:p},92355:function(l,o,s){var u=s(90838),d=s(794),h=s(45752),p=u(Function.toString);d(h.inspectSource)||(h.inspectSource=function(m){return p(m)}),l.exports=h.inspectSource},56113:function(l,o,s){var u,d,h,p=s(95473),m=s(37042),f=s(8148),g=s(45840),v=s(14434),S=s(45752),x=s(85475),b=s(48889),_="Object already initialized",w=m.TypeError;if(p||S.state){var C=S.state||(S.state=new m.WeakMap);C.get=C.get,C.has=C.has,C.set=C.set,u=function(A,T){if(C.has(A))throw w(_);return T.facade=A,C.set(A,T),T},d=function(A){return C.get(A)||{}},h=function(A){return C.has(A)}}else{var E=x("state");b[E]=!0,u=function(A,T){if(v(A,E))throw w(_);return T.facade=A,g(A,E,T),T},d=function(A){return v(A,E)?A[E]:{}},h=function(A){return v(A,E)}}l.exports={set:u,get:d,has:h,enforce:function(A){return h(A)?d(A):u(A,{})},getterFor:function(A){return function(T){var M;if(!f(T)||(M=d(T)).type!==A)throw w("Incompatible receiver, "+A+" required");return M}}}},84997:function(l,o,s){var u=s(19517),d=s(84922),h=u("iterator"),p=Array.prototype;l.exports=function(m){return m!==void 0&&(d.Array===m||p[h]===m)}},36222:function(l,o,s){var u=s(6285);l.exports=Array.isArray||function(d){return u(d)=="Array"}},794:function(l,o,s){var u=s(12062),d=u.all;l.exports=u.IS_HTMLDDA?function(h){return typeof h=="function"||h===d}:function(h){return typeof h=="function"}},15333:function(l,o,s){var u=s(90838),d=s(75834),h=s(794),p=s(8652),m=s(98945),f=s(92355),g=function(){},v=[],S=m("Reflect","construct"),x=/^\s*(?:class|function)\b/,b=u(x.exec),_=!x.exec(g),w=function(E){if(!h(E))return!1;try{return S(g,v,E),!0}catch{return!1}},C=function(E){if(!h(E))return!1;switch(p(E)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _||!!b(x,f(E))}catch{return!0}};C.sham=!0,l.exports=!S||d(function(){var E;return w(w.call)||!w(Object)||!w(function(){E=!0})||E})?C:w},56930:function(l,o,s){var u=s(75834),d=s(794),h=/#|\.prototype\./,p=function(S,x){var b=f[m(S)];return b==v||b!=g&&(d(x)?u(x):!!x)},m=p.normalize=function(S){return String(S).replace(h,".").toLowerCase()},f=p.data={},g=p.NATIVE="N",v=p.POLYFILL="P";l.exports=p},8140:function(l){l.exports=function(o){return o==null}},8148:function(l,o,s){var u=s(794),d=s(12062),h=d.all;l.exports=d.IS_HTMLDDA?function(p){return typeof p=="object"?p!==null:u(p)||p===h}:function(p){return typeof p=="object"?p!==null:u(p)}},70852:function(l){l.exports=!1},88253:function(l,o,s){var u=s(98945),d=s(794),h=s(54671),p=s(57982),m=Object;l.exports=p?function(f){return typeof f=="symbol"}:function(f){var g=u("Symbol");return d(g)&&h(g.prototype,m(f))}},11274:function(l,o,s){var u=s(9093),d=s(52313),h=s(20156);l.exports=function(p,m,f){var g,v;d(p);try{if(!(g=h(p,"return"))){if(m==="throw")throw f;return f}g=u(g,p)}catch(S){v=!0,g=S}if(m==="throw")throw f;if(v)throw g;return d(g),f}},60928:function(l,o,s){var u=s(77831).IteratorPrototype,d=s(93503),h=s(32500),p=s(44532),m=s(84922),f=function(){return this};l.exports=function(g,v,S,x){var b=v+" Iterator";return g.prototype=d(u,{next:h(+!x,S)}),p(g,b,!1,!0),m[b]=f,g}},13759:function(l,o,s){var u=s(50791),d=s(9093),h=s(70852),p=s(84521),m=s(794),f=s(60928),g=s(1074),v=s(482),S=s(44532),x=s(45840),b=s(35065),_=s(19517),w=s(84922),C=s(77831),E=p.PROPER,A=p.CONFIGURABLE,T=C.IteratorPrototype,M=C.BUGGY_SAFARI_ITERATORS,j=_("iterator"),P="keys",I="values",k="entries",R=function(){return this};l.exports=function(O,D,L,B,F,H,ee){f(L,D,B);var U,X,W,ie=function(pe){if(pe===F&&ne)return ne;if(!M&&pe in K)return K[pe];switch(pe){case P:case I:case k:return function(){return new L(this,pe)}}return function(){return new L(this)}},Q=D+" Iterator",ae=!1,K=O.prototype,te=K[j]||K["@@iterator"]||F&&K[F],ne=!M&&te||ie(F),ce=D=="Array"&&K.entries||te;if(ce&&(U=g(ce.call(new O)))!==Object.prototype&&U.next&&(h||g(U)===T||(v?v(U,T):m(U[j])||b(U,j,R)),S(U,Q,!0,!0),h&&(w[Q]=R)),E&&F==I&&te&&te.name!==I&&(!h&&A?x(K,"name",I):(ae=!0,ne=function(){return d(te,this)})),F)if(X={values:ie(I),keys:H?ne:ie(P),entries:ie(k)},ee)for(W in X)(M||ae||!(W in K))&&b(K,W,X[W]);else u({target:D,proto:!0,forced:M||ae},X);return h&&!ee||K[j]===ne||b(K,j,ne,{name:F}),w[D]=ne,X}},77831:function(l,o,s){var u,d,h,p=s(75834),m=s(794),f=s(8148),g=s(93503),v=s(1074),S=s(35065),x=s(19517),b=s(70852),_=x("iterator"),w=!1;[].keys&&("next"in(h=[].keys())?(d=v(v(h)))!==Object.prototype&&(u=d):w=!0),!f(u)||p(function(){var C={};return u[_].call(C)!==C})?u={}:b&&(u=g(u)),m(u[_])||S(u,_,function(){return this}),l.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:w}},84922:function(l){l.exports={}},15050:function(l,o,s){var u=s(24431);l.exports=function(d){return u(d.length)}},40846:function(l,o,s){var u=s(90838),d=s(75834),h=s(794),p=s(14434),m=s(13873),f=s(84521).CONFIGURABLE,g=s(92355),v=s(56113),S=v.enforce,x=v.get,b=String,_=Object.defineProperty,w=u("".slice),C=u("".replace),E=u([].join),A=m&&!d(function(){return _(function(){},"length",{value:8}).length!==8}),T=String(String).split("String"),M=l.exports=function(j,P,I){w(b(P),0,7)==="Symbol("&&(P="["+C(b(P),/^Symbol\(([^)]*)\)/,"$1")+"]"),I&&I.getter&&(P="get "+P),I&&I.setter&&(P="set "+P),(!p(j,"name")||f&&j.name!==P)&&(m?_(j,"name",{value:P,configurable:!0}):j.name=P),A&&I&&p(I,"arity")&&j.length!==I.arity&&_(j,"length",{value:I.arity});try{I&&p(I,"constructor")&&I.constructor?m&&_(j,"prototype",{writable:!1}):j.prototype&&(j.prototype=void 0)}catch{}var k=S(j);return p(k,"source")||(k.source=E(T,typeof P=="string"?P:"")),j};Function.prototype.toString=M(function(){return h(this)&&x(this).source||g(this)},"toString")},43932:function(l){var o=Math.ceil,s=Math.floor;l.exports=Math.trunc||function(u){var d=+u;return(d>0?s:o)(d)}},93503:function(l,o,s){var u,d=s(52313),h=s(5770),p=s(64456),m=s(48889),f=s(36249),g=s(15192),v=s(85475)("IE_PROTO"),S=function(){},x=function(w){return"<script>"+w+"<\/script>"},b=function(w){w.write(x("")),w.close();var C=w.parentWindow.Object;return w=null,C},_=function(){try{u=new ActiveXObject("htmlfile")}catch{}var w,C;_=typeof document<"u"?document.domain&&u?b(u):((C=g("iframe")).style.display="none",f.appendChild(C),C.src="javascript:",(w=C.contentWindow.document).open(),w.write(x("document.F=Object")),w.close(),w.F):b(u);for(var E=p.length;E--;)delete _.prototype[p[E]];return _()};m[v]=!0,l.exports=Object.create||function(w,C){var E;return w!==null?(S.prototype=d(w),E=new S,S.prototype=null,E[v]=w):E=_(),C===void 0?E:h.f(E,C)}},5770:function(l,o,s){var u=s(13873),d=s(63142),h=s(73252),p=s(52313),m=s(98651),f=s(3385);o.f=u&&!d?Object.defineProperties:function(g,v){p(g);for(var S,x=m(v),b=f(v),_=b.length,w=0;_>w;)h.f(g,S=b[w++],x[S]);return g}},73252:function(l,o,s){var u=s(13873),d=s(12816),h=s(63142),p=s(52313),m=s(43836),f=TypeError,g=Object.defineProperty,v=Object.getOwnPropertyDescriptor;o.f=u?h?function(S,x,b){if(p(S),x=m(x),p(b),typeof S=="function"&&x==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var _=v(S,x);_&&_.writable&&(S[x]=b.value,b={configurable:"configurable"in b?b.configurable:_.configurable,enumerable:"enumerable"in b?b.enumerable:_.enumerable,writable:!1})}return g(S,x,b)}:g:function(S,x,b){if(p(S),x=m(x),p(b),d)try{return g(S,x,b)}catch{}if("get"in b||"set"in b)throw f("Accessors not supported");return"value"in b&&(S[x]=b.value),S}},36999:function(l,o,s){var u=s(13873),d=s(9093),h=s(33244),p=s(32500),m=s(98651),f=s(43836),g=s(14434),v=s(12816),S=Object.getOwnPropertyDescriptor;o.f=u?S:function(x,b){if(x=m(x),b=f(b),v)try{return S(x,b)}catch{}if(g(x,b))return p(!d(h.f,x,b),x[b])}},53305:function(l,o,s){var u=s(6285),d=s(98651),h=s(7792).f,p=s(57652),m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(f){return m&&u(f)=="Window"?function(g){try{return h(g)}catch{return p(m)}}(f):h(d(f))}},7792:function(l,o,s){var u=s(84729),d=s(64456).concat("length","prototype");o.f=Object.getOwnPropertyNames||function(h){return u(h,d)}},23953:function(l,o){o.f=Object.getOwnPropertySymbols},1074:function(l,o,s){var u=s(14434),d=s(794),h=s(68488),p=s(85475),m=s(27259),f=p("IE_PROTO"),g=Object,v=g.prototype;l.exports=m?g.getPrototypeOf:function(S){var x=h(S);if(u(x,f))return x[f];var b=x.constructor;return d(b)&&x instanceof b?b.prototype:x instanceof g?v:null}},54671:function(l,o,s){var u=s(90838);l.exports=u({}.isPrototypeOf)},84729:function(l,o,s){var u=s(90838),d=s(14434),h=s(98651),p=s(79327).indexOf,m=s(48889),f=u([].push);l.exports=function(g,v){var S,x=h(g),b=0,_=[];for(S in x)!d(m,S)&&d(x,S)&&f(_,S);for(;v.length>b;)d(x,S=v[b++])&&(~p(_,S)||f(_,S));return _}},3385:function(l,o,s){var u=s(84729),d=s(64456);l.exports=Object.keys||function(h){return u(h,d)}},33244:function(l,o){var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!s.call({1:2},1);o.f=d?function(h){var p=u(this,h);return!!p&&p.enumerable}:s},482:function(l,o,s){var u=s(47448),d=s(52313),h=s(75839);l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,m=!1,f={};try{(p=u(Object.prototype,"__proto__","set"))(f,[]),m=f instanceof Array}catch{}return function(g,v){return d(g),h(v),m?p(g,v):g.__proto__=v,g}}():void 0)},57555:function(l,o,s){var u=s(6424),d=s(8652);l.exports=u?{}.toString:function(){return"[object "+d(this)+"]"}},82472:function(l,o,s){var u=s(9093),d=s(794),h=s(8148),p=TypeError;l.exports=function(m,f){var g,v;if(f==="string"&&d(g=m.toString)&&!h(v=u(g,m))||d(g=m.valueOf)&&!h(v=u(g,m))||f!=="string"&&d(g=m.toString)&&!h(v=u(g,m)))return v;throw p("Can't convert object to primitive value")}},86671:function(l,o,s){var u=s(98945),d=s(90838),h=s(7792),p=s(23953),m=s(52313),f=d([].concat);l.exports=u("Reflect","ownKeys")||function(g){var v=h.f(m(g)),S=p.f;return S?f(v,S(g)):v}},31116:function(l,o,s){var u=s(37042);l.exports=u},60265:function(l,o,s){var u=s(8140),d=TypeError;l.exports=function(h){if(u(h))throw d("Can't call method on "+h);return h}},44532:function(l,o,s){var u=s(73252).f,d=s(14434),h=s(19517)("toStringTag");l.exports=function(p,m,f){p&&!f&&(p=p.prototype),p&&!d(p,h)&&u(p,h,{configurable:!0,value:m})}},85475:function(l,o,s){var u=s(95138),d=s(15257),h=u("keys");l.exports=function(p){return h[p]||(h[p]=d(p))}},45752:function(l,o,s){var u=s(37042),d=s(25379),h="__core-js_shared__",p=u[h]||d(h,{});l.exports=p},95138:function(l,o,s){var u=s(70852),d=s(45752);(l.exports=function(h,p){return d[h]||(d[h]=p!==void 0?p:{})})("versions",[]).push({version:"3.28.0",mode:u?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},41397:function(l,o,s){var u=s(90838),d=s(27876),h=s(63046),p=s(60265),m=u("".charAt),f=u("".charCodeAt),g=u("".slice),v=function(S){return function(x,b){var _,w,C=h(p(x)),E=d(b),A=C.length;return 0>E||E>=A?S?"":void 0:55296>(_=f(C,E))||_>56319||E+1===A||56320>(w=f(C,E+1))||w>57343?S?m(C,E):_:S?g(C,E,E+2):w-56320+(_-55296<<10)+65536}};l.exports={codeAt:v(!1),charAt:v(!0)}},73800:function(l,o,s){var u=s(65190),d=s(75834);l.exports=!!Object.getOwnPropertySymbols&&!d(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&u&&41>u})},13829:function(l,o,s){var u=s(9093),d=s(98945),h=s(19517),p=s(35065);l.exports=function(){var m=d("Symbol"),f=m&&m.prototype,g=f&&f.valueOf,v=h("toPrimitive");f&&!f[v]&&p(f,v,function(S){return u(g,this)},{arity:1})}},31948:function(l,o,s){var u=s(73800);l.exports=u&&!!Symbol.for&&!!Symbol.keyFor},10586:function(l,o,s){var u=s(27876),d=Math.max,h=Math.min;l.exports=function(p,m){var f=u(p);return 0>f?d(f+m,0):h(f,m)}},98651:function(l,o,s){var u=s(25049),d=s(60265);l.exports=function(h){return u(d(h))}},27876:function(l,o,s){var u=s(43932);l.exports=function(d){var h=+d;return h!=h||h===0?0:u(h)}},24431:function(l,o,s){var u=s(27876),d=Math.min;l.exports=function(h){return h>0?d(u(h),9007199254740991):0}},68488:function(l,o,s){var u=s(60265),d=Object;l.exports=function(h){return d(u(h))}},11261:function(l,o,s){var u=s(9093),d=s(8148),h=s(88253),p=s(20156),m=s(82472),f=s(19517),g=TypeError,v=f("toPrimitive");l.exports=function(S,x){if(!d(S)||h(S))return S;var b,_=p(S,v);if(_){if(x===void 0&&(x="default"),b=u(_,S,x),!d(b)||h(b))return b;throw g("Can't convert object to primitive value")}return x===void 0&&(x="number"),m(S,x)}},43836:function(l,o,s){var u=s(11261),d=s(88253);l.exports=function(h){var p=u(h,"string");return d(p)?p:p+""}},6424:function(l,o,s){var u={};u[s(19517)("toStringTag")]="z",l.exports=String(u)==="[object z]"},63046:function(l,o,s){var u=s(8652),d=String;l.exports=function(h){if(u(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return d(h)}},98418:function(l){var o=String;l.exports=function(s){try{return o(s)}catch{return"Object"}}},15257:function(l,o,s){var u=s(90838),d=0,h=Math.random(),p=u(1 .toString);l.exports=function(m){return"Symbol("+(m===void 0?"":m)+")_"+p(++d+h,36)}},57982:function(l,o,s){var u=s(73800);l.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},63142:function(l,o,s){var u=s(13873),d=s(75834);l.exports=u&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},95473:function(l,o,s){var u=s(37042),d=s(794),h=u.WeakMap;l.exports=d(h)&&/native code/.test(String(h))},89633:function(l,o,s){var u=s(31116),d=s(14434),h=s(96767),p=s(73252).f;l.exports=function(m){var f=u.Symbol||(u.Symbol={});d(f,m)||p(f,m,{value:h.f(m)})}},96767:function(l,o,s){var u=s(19517);o.f=u},19517:function(l,o,s){var u=s(37042),d=s(95138),h=s(14434),p=s(15257),m=s(73800),f=s(57982),g=u.Symbol,v=d("wks"),S=f?g.for||g:g&&g.withoutSetter||p;l.exports=function(x){return h(v,x)||(v[x]=m&&h(g,x)?g[x]:S("Symbol."+x)),v[x]}},54166:function(l,o,s){var u=s(50791),d=s(75834),h=s(36222),p=s(8148),m=s(68488),f=s(15050),g=s(39505),v=s(89476),S=s(6429),x=s(63833),b=s(19517),_=s(65190),w=b("isConcatSpreadable"),C=_>=51||!d(function(){var A=[];return A[w]=!1,A.concat()[0]!==A}),E=function(A){if(!p(A))return!1;var T=A[w];return T!==void 0?!!T:h(A)};u({target:"Array",proto:!0,arity:1,forced:!C||!x("concat")},{concat:function(A){var T,M,j,P,I,k=m(this),R=S(k,0),O=0;for(T=-1,j=arguments.length;j>T;T++)if(E(I=T===-1?k:arguments[T]))for(P=f(I),g(O+P),M=0;P>M;M++,O++)M in I&&v(R,O,I[M]);else g(O+1),v(R,O++,I);return R.length=O,R}})},22513:function(l,o,s){var u=s(50791),d=s(56881).findIndex,h=s(15179),p="findIndex",m=!0;p in[]&&Array(1).findIndex(function(){m=!1}),u({target:"Array",proto:!0,forced:m},{findIndex:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0)}}),h(p)},70057:function(l,o,s){var u=s(50791),d=s(92707);u({target:"Array",stat:!0,forced:!s(7581)(function(h){Array.from(h)})},{from:d})},67507:function(l,o,s){var u=s(50791),d=s(98945),h=s(55101),p=s(9093),m=s(90838),f=s(75834),g=s(794),v=s(88253),S=s(54832),x=s(6693),b=s(73800),_=String,w=d("JSON","stringify"),C=m(/./.exec),E=m("".charAt),A=m("".charCodeAt),T=m("".replace),M=m(1 .toString),j=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,k=!b||f(function(){var L=d("Symbol")();return w([L])!="[null]"||w({a:L})!="{}"||w(Object(L))!="{}"}),R=f(function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'}),O=function(L,B){var F=S(arguments),H=x(B);if(g(H)||L!==void 0&&!v(L))return F[1]=function(ee,U){if(g(H)&&(U=p(H,this,_(ee),U)),!v(U))return U},h(w,null,F)},D=function(L,B,F){var H=E(F,B-1),ee=E(F,B+1);return C(P,L)&&!C(I,ee)||C(I,L)&&!C(P,H)?"\\u"+M(A(L,0),16):L};w&&u({target:"JSON",stat:!0,arity:3,forced:k||R},{stringify:function(L,B,F){var H=S(arguments),ee=h(k?O:w,null,H);return R&&typeof ee=="string"?T(ee,j,D):ee}})},90217:function(l,o,s){var u=s(37042);s(44532)(u.JSON,"JSON",!0)},73477:function(l,o,s){s(44532)(Math,"Math",!0)},30165:function(l,o,s){var u=s(50791),d=s(73800),h=s(75834),p=s(23953),m=s(68488);u({target:"Object",stat:!0,forced:!d||h(function(){p.f(1)})},{getOwnPropertySymbols:function(f){var g=p.f;return g?g(m(f)):[]}})},32044:function(l,o,s){var u=s(6424),d=s(35065),h=s(57555);u||d(Object.prototype,"toString",h,{unsafe:!0})},93697:function(l,o,s){var u=s(50791),d=s(37042),h=s(44532);u({global:!0},{Reflect:{}}),h(d.Reflect,"Reflect",!0)},52867:function(l,o,s){var u=s(41397).charAt,d=s(63046),h=s(56113),p=s(13759),m=s(17427),f="String Iterator",g=h.set,v=h.getterFor(f);p(String,"String",function(S){g(this,{type:f,string:d(S),index:0})},function(){var S,x=v(this),b=x.string,_=x.index;return b.length>_?(S=u(b,_),x.index+=S.length,m(S,!1)):m(void 0,!0)})},28424:function(l,o,s){s(89633)("asyncIterator")},9656:function(l,o,s){var u=s(50791),d=s(37042),h=s(9093),p=s(90838),m=s(70852),f=s(13873),g=s(73800),v=s(75834),S=s(14434),x=s(54671),b=s(52313),_=s(98651),w=s(43836),C=s(63046),E=s(32500),A=s(93503),T=s(3385),M=s(7792),j=s(53305),P=s(23953),I=s(36999),k=s(73252),R=s(5770),O=s(33244),D=s(35065),L=s(97548),B=s(95138),F=s(85475),H=s(48889),ee=s(15257),U=s(19517),X=s(96767),W=s(89633),ie=s(13829),Q=s(44532),ae=s(56113),K=s(56881).forEach,te=F("hidden"),ne="Symbol",ce=ae.set,pe=ae.getterFor(ne),ge=Object.prototype,ue=d.Symbol,Me=ue&&ue.prototype,Ae=d.TypeError,je=d.QObject,Ke=I.f,Pe=k.f,Z=j.f,q=O.f,fe=p([].push),Ce=B("symbols"),G=B("op-symbols"),ke=B("wks"),Re=!je||!je.prototype||!je.prototype.findChild,Be=f&&v(function(){return A(Pe({},"a",{get:function(){return Pe(this,"a",{value:7}).a}})).a!=7})?function(We,it,se){var me=Ke(ge,it);me&&delete ge[it],Pe(We,it,se),me&&We!==ge&&Pe(ge,it,me)}:Pe,be=function(We,it){var se=Ce[We]=A(Me);return ce(se,{type:ne,tag:We,description:it}),f||(se.description=it),se},Ye=function(We,it,se){We===ge&&Ye(G,it,se),b(We);var me=w(it);return b(se),S(Ce,me)?(se.enumerable?(S(We,te)&&We[te][me]&&(We[te][me]=!1),se=A(se,{enumerable:E(0,!1)})):(S(We,te)||Pe(We,te,E(1,{})),We[te][me]=!0),Be(We,me,se)):Pe(We,me,se)},Ue=function(We,it){b(We);var se=_(it),me=T(se).concat(rt(se));return K(me,function(Se){f&&!h(Je,se,Se)||Ye(We,Se,se[Se])}),We},Je=function(We){var it=w(We),se=h(q,this,it);return!(this===ge&&S(Ce,it)&&!S(G,it))&&(!(se||!S(this,it)||!S(Ce,it)||S(this,te)&&this[te][it])||se)},nt=function(We,it){var se=_(We),me=w(it);if(se!==ge||!S(Ce,me)||S(G,me)){var Se=Ke(se,me);return!Se||!S(Ce,me)||S(se,te)&&se[te][me]||(Se.enumerable=!0),Se}},et=function(We){var it=Z(_(We)),se=[];return K(it,function(me){S(Ce,me)||S(H,me)||fe(se,me)}),se},rt=function(We){var it=We===ge,se=Z(it?G:_(We)),me=[];return K(se,function(Se){!S(Ce,Se)||it&&!S(ge,Se)||fe(me,Ce[Se])}),me};g||(ue=function(){if(x(Me,this))throw Ae("Symbol is not a constructor");var We=arguments.length&&arguments[0]!==void 0?C(arguments[0]):void 0,it=ee(We),se=function(me){this===ge&&h(se,G,me),S(this,te)&&S(this[te],it)&&(this[te][it]=!1),Be(this,it,E(1,me))};return f&&Re&&Be(ge,it,{configurable:!0,set:se}),be(it,We)},D(Me=ue.prototype,"toString",function(){return pe(this).tag}),D(ue,"withoutSetter",function(We){return be(ee(We),We)}),O.f=Je,k.f=Ye,R.f=Ue,I.f=nt,M.f=j.f=et,P.f=rt,X.f=function(We){return be(U(We),We)},f&&(L(Me,"description",{configurable:!0,get:function(){return pe(this).description}}),m||D(ge,"propertyIsEnumerable",Je,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!g,sham:!g},{Symbol:ue}),K(T(ke),function(We){W(We)}),u({target:ne,stat:!0,forced:!g},{useSetter:function(){Re=!0},useSimple:function(){Re=!1}}),u({target:"Object",stat:!0,forced:!g,sham:!f},{create:function(We,it){return it===void 0?A(We):Ue(A(We),it)},defineProperty:Ye,defineProperties:Ue,getOwnPropertyDescriptor:nt}),u({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:et}),ie(),Q(ue,ne),H[te]=!0},64514:function(l,o,s){var u=s(50791),d=s(13873),h=s(37042),p=s(90838),m=s(14434),f=s(794),g=s(54671),v=s(63046),S=s(97548),x=s(58392),b=h.Symbol,_=b&&b.prototype;if(d&&f(b)&&(!("description"in _)||b().description!==void 0)){var w={},C=function(){var I=1>arguments.length||arguments[0]===void 0?void 0:v(arguments[0]),k=g(_,this)?new b(I):I===void 0?b():b(I);return I===""&&(w[k]=!0),k};x(C,b),C.prototype=_,_.constructor=C;var E=String(b("test"))=="Symbol(test)",A=p(_.valueOf),T=p(_.toString),M=/^Symbol\((.*)\)[^)]+$/,j=p("".replace),P=p("".slice);S(_,"description",{configurable:!0,get:function(){var I=A(this);if(m(w,I))return"";var k=T(I),R=E?P(k,7,-1):j(k,M,"$1");return R===""?void 0:R}}),u({global:!0,constructor:!0,forced:!0},{Symbol:C})}},56202:function(l,o,s){var u=s(50791),d=s(98945),h=s(14434),p=s(63046),m=s(95138),f=s(31948),g=m("string-to-symbol-registry"),v=m("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!f},{for:function(S){var x=p(S);if(h(g,x))return g[x];var b=d("Symbol")(x);return g[x]=b,v[b]=x,b}})},30733:function(l,o,s){s(89633)("hasInstance")},40327:function(l,o,s){s(89633)("isConcatSpreadable")},53639:function(l,o,s){s(89633)("iterator")},95661:function(l,o,s){s(9656),s(56202),s(71940),s(67507),s(30165)},71940:function(l,o,s){var u=s(50791),d=s(14434),h=s(88253),p=s(98418),m=s(95138),f=s(31948),g=m("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!f},{keyFor:function(v){if(!h(v))throw TypeError(p(v)+" is not a symbol");if(d(g,v))return g[v]}})},7290:function(l,o,s){s(89633)("matchAll")},6147:function(l,o,s){s(89633)("match")},95122:function(l,o,s){s(89633)("replace")},61322:function(l,o,s){s(89633)("search")},39605:function(l,o,s){s(89633)("species")},49341:function(l,o,s){s(89633)("split")},28809:function(l,o,s){var u=s(89633),d=s(13829);u("toPrimitive"),d()},82658:function(l,o,s){var u=s(98945),d=s(89633),h=s(44532);d("toStringTag"),h(u("Symbol"),"Symbol")},43967:function(l,o,s){s(89633)("unscopables")},690:function(l,o,s){l.exports=s(26002).polyfill()},26002:function(l,o,s){l.exports=function(){function u(K){return typeof K=="function"}var d=Array.isArray?Array.isArray:function(K){return Object.prototype.toString.call(K)==="[object Array]"},h=0,p=void 0,m=void 0,f=function(K,te){w[h]=K,w[h+1]=te,(h+=2)===2&&(m?m(C):j())},g=typeof window<"u"?window:void 0,v=g||{},S=v.MutationObserver||v.WebKitMutationObserver,x=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function _(){var K=setTimeout;return function(){return K(C,1)}}var w=new Array(1e3);function C(){for(var K=0;h>K;K+=2)(0,w[K])(w[K+1]),w[K]=void 0,w[K+1]=void 0;h=0}var E,A,T,M,j=void 0;function P(K,te){var ne=this,ce=new this.constructor(R);ce[k]===void 0&&ie(ce);var pe=ne._state;if(pe){var ge=arguments[pe-1];f(function(){return X(pe,ce,ge,ne._result)})}else ee(ne,ce,K,te);return ce}function I(K){if(K&&typeof K=="object"&&K.constructor===this)return K;var te=new this(R);return L(te,K),te}j=x?function(){return process.nextTick(C)}:S?(A=0,T=new S(C),M=document.createTextNode(""),T.observe(M,{characterData:!0}),function(){M.data=A=++A%2}):b?((E=new MessageChannel).port1.onmessage=C,function(){return E.port2.postMessage(0)}):g===void 0?function(){try{var K=Function("return this")().require("vertx");return(p=K.runOnLoop||K.runOnContext)!==void 0?function(){p(C)}:_()}catch{return _()}}():_();var k=Math.random().toString(36).substring(2);function R(){}var O=void 0;function D(K,te,ne){te.constructor===K.constructor&&ne===P&&te.constructor.resolve===I?function(ce,pe){pe._state===1?F(ce,pe._result):pe._state===2?H(ce,pe._result):ee(pe,void 0,function(ge){return L(ce,ge)},function(ge){return H(ce,ge)})}(K,te):ne===void 0?F(K,te):u(ne)?function(ce,pe,ge){f(function(ue){var Me=!1,Ae=function(je,Ke,Pe,Z){try{je.call(Ke,function(q){Me||(Me=!0,pe!==q?L(ue,q):F(ue,q))},function(q){Me||(Me=!0,H(ue,q))})}catch(q){return q}}(ge,pe);!Me&&Ae&&(Me=!0,H(ue,Ae))},ce)}(K,te,ne):F(K,te)}function L(K,te){if(K===te)H(K,new TypeError("You cannot resolve a promise with itself"));else if(pe=typeof(ce=te),ce===null||pe!=="object"&&pe!=="function")F(K,te);else{var ne=void 0;try{ne=te.then}catch(ge){return void H(K,ge)}D(K,te,ne)}var ce,pe}function B(K){K._onerror&&K._onerror(K._result),U(K)}function F(K,te){K._state===O&&(K._result=te,K._state=1,K._subscribers.length!==0&&f(U,K))}function H(K,te){K._state===O&&(K._state=2,K._result=te,f(B,K))}function ee(K,te,ne,ce){var pe=K._subscribers,ge=pe.length;K._onerror=null,pe[ge]=te,pe[ge+1]=ne,pe[ge+2]=ce,ge===0&&K._state&&f(U,K)}function U(K){var te=K._subscribers,ne=K._state;if(te.length!==0){for(var ce=void 0,pe=void 0,ge=K._result,ue=0;te.length>ue;ue+=3)pe=te[ue+ne],(ce=te[ue])?X(ne,ce,pe,ge):pe(ge);K._subscribers.length=0}}function X(K,te,ne,ce){var pe=u(ne),ge=void 0,ue=void 0,Me=!0;if(pe){try{ge=ne(ce)}catch(Ae){Me=!1,ue=Ae}if(te===ge)return void H(te,new TypeError("A promises callback cannot return that same promise."))}else ge=ce;te._state!==O||(pe&&Me?L(te,ge):Me===!1?H(te,ue):K===1?F(te,ge):K===2&&H(te,ge))}var W=0;function ie(K){K[k]=W++,K._state=void 0,K._result=void 0,K._subscribers=[]}var Q=function(){function K(te,ne){this._instanceConstructor=te,this.promise=new te(R),this.promise[k]||ie(this.promise),d(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?F(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&F(this.promise,this._result))):H(this.promise,new Error("Array Methods must be provided an Array"))}return K.prototype._enumerate=function(te){for(var ne=0;this._state===O&&te.length>ne;ne++)this._eachEntry(te[ne],ne)},K.prototype._eachEntry=function(te,ne){var ce=this._instanceConstructor,pe=ce.resolve;if(pe===I){var ge=void 0,ue=void 0,Me=!1;try{ge=te.then}catch(je){Me=!0,ue=je}if(ge===P&&te._state!==O)this._settledAt(te._state,ne,te._result);else if(typeof ge!="function")this._remaining--,this._result[ne]=te;else if(ce===ae){var Ae=new ce(R);Me?H(Ae,ue):D(Ae,te,ge),this._willSettleAt(Ae,ne)}else this._willSettleAt(new ce(function(je){return je(te)}),ne)}else this._willSettleAt(pe(te),ne)},K.prototype._settledAt=function(te,ne,ce){var pe=this.promise;pe._state===O&&(this._remaining--,te===2?H(pe,ce):this._result[ne]=ce),this._remaining===0&&F(pe,this._result)},K.prototype._willSettleAt=function(te,ne){var ce=this;ee(te,void 0,function(pe){return ce._settledAt(1,ne,pe)},function(pe){return ce._settledAt(2,ne,pe)})},K}(),ae=function(){function K(te){this[k]=W++,this._result=this._state=void 0,this._subscribers=[],R!==te&&(typeof te!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof K?function(ne,ce){try{ce(function(pe){L(ne,pe)},function(pe){H(ne,pe)})}catch(pe){H(ne,pe)}}(this,te):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return K.prototype.catch=function(te){return this.then(null,te)},K.prototype.finally=function(te){var ne=this,ce=ne.constructor;return u(te)?ne.then(function(pe){return ce.resolve(te()).then(function(){return pe})},function(pe){return ce.resolve(te()).then(function(){throw pe})}):ne.then(te,te)},K}();return ae.prototype.then=P,ae.all=function(K){return new Q(this,K).promise},ae.race=function(K){var te=this;return d(K)?new te(function(ne,ce){for(var pe=K.length,ge=0;pe>ge;ge++)te.resolve(K[ge]).then(ne,ce)}):new te(function(ne,ce){return ce(new TypeError("You must pass an array to race."))})},ae.resolve=I,ae.reject=function(K){var te=new this(R);return H(te,K),te},ae._setScheduler=function(K){m=K},ae._setAsap=function(K){f=K},ae._asap=f,ae.polyfill=function(){var K=void 0;if(s.g!==void 0)K=s.g;else if(typeof self<"u")K=self;else try{K=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var te=K.Promise;if(te){var ne=null;try{ne=Object.prototype.toString.call(te.resolve())}catch{}if(ne==="[object Promise]"&&!te.cast)return}K.Promise=ae},ae.Promise=ae,ae}()},20255:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.__classPrivateFieldIn=o.__classPrivateFieldSet=o.__classPrivateFieldGet=o.__importDefault=o.__importStar=o.__makeTemplateObject=o.__asyncValues=o.__asyncDelegator=o.__asyncGenerator=o.__await=o.__spreadArray=o.__spreadArrays=o.__spread=o.__read=o.__values=o.__exportStar=o.__createBinding=o.__generator=o.__awaiter=o.__metadata=o.__setFunctionName=o.__propKey=o.__runInitializers=o.__esDecorate=o.__param=o.__decorate=o.__rest=o.__assign=o.__extends=void 0;var s=function(m,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(g[S]=v[S])},s(m,f)};function u(m){var f=typeof Symbol=="function"&&Symbol.iterator,g=f&&m[f],v=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(m,f){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var v,S,x=g.call(m),b=[];try{for(;(f===void 0||f-- >0)&&!(v=x.next()).done;)b.push(v.value)}catch(_){S={error:_}}finally{try{v&&!v.done&&(g=x.return)&&g.call(x)}finally{if(S)throw S.error}}return b}function h(m){return this instanceof h?(this.v=m,this):new h(m)}o.__extends=function(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function g(){this.constructor=m}s(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)},o.__assign=function(){return o.__assign=Object.assign||function(m){for(var f,g=1,v=arguments.length;v>g;g++)for(var S in f=arguments[g])Object.prototype.hasOwnProperty.call(f,S)&&(m[S]=f[S]);return m},o.__assign.apply(this,arguments)},o.__rest=function(m,f){var g={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&0>f.indexOf(v)&&(g[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(v=Object.getOwnPropertySymbols(m);v.length>S;S++)0>f.indexOf(v[S])&&Object.prototype.propertyIsEnumerable.call(m,v[S])&&(g[v[S]]=m[v[S]])}return g},o.__decorate=function(m,f,g,v){var S,x=arguments.length,b=3>x?f:v===null?v=Object.getOwnPropertyDescriptor(f,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(m,f,g,v);else for(var _=m.length-1;_>=0;_--)(S=m[_])&&(b=(3>x?S(b):x>3?S(f,g,b):S(f,g))||b);return x>3&&b&&Object.defineProperty(f,g,b),b},o.__param=function(m,f){return function(g,v){f(g,v,m)}},o.__esDecorate=function(m,f,g,v,S,x){function b(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var _,w=v.kind,C=w==="getter"?"get":w==="setter"?"set":"value",E=!f&&m?v.static?m:m.prototype:null,A=f||(E?Object.getOwnPropertyDescriptor(E,v.name):{}),T=!1,M=g.length-1;M>=0;M--){var j={};for(var P in v)j[P]=P==="access"?{}:v[P];for(var P in v.access)j.access[P]=v.access[P];j.addInitializer=function(k){if(T)throw new TypeError("Cannot add initializers after decoration has completed");x.push(b(k||null))};var I=(0,g[M])(w==="accessor"?{get:A.get,set:A.set}:A[C],j);if(w==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(_=b(I.get))&&(A.get=_),(_=b(I.set))&&(A.set=_),(_=b(I.init))&&S.push(_)}else(_=b(I))&&(w==="field"?S.push(_):A[C]=_)}E&&Object.defineProperty(E,v.name,A),T=!0},o.__runInitializers=function(m,f,g){for(var v=arguments.length>2,S=0;f.length>S;S++)g=v?f[S].call(m,g):f[S].call(m);return v?g:void 0},o.__propKey=function(m){return typeof m=="symbol"?m:"".concat(m)},o.__setFunctionName=function(m,f,g){return typeof f=="symbol"&&(f=f.description?"[".concat(f.description,"]"):""),Object.defineProperty(m,"name",{configurable:!0,value:g?"".concat(g," ",f):f})},o.__metadata=function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)},o.__awaiter=function(m,f,g,v){return new(g||(g=Promise))(function(S,x){function b(C){try{w(v.next(C))}catch(E){x(E)}}function _(C){try{w(v.throw(C))}catch(E){x(E)}}function w(C){var E;C.done?S(C.value):(E=C.value,E instanceof g?E:new g(function(A){A(E)})).then(b,_)}w((v=v.apply(m,f||[])).next())})},o.__generator=function(m,f){var g,v,S,x,b={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return x={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function _(w){return function(C){return function(E){if(g)throw new TypeError("Generator is already executing.");for(;x&&(x=0,E[0]&&(b=0)),b;)try{if(g=1,v&&(S=2&E[0]?v.return:E[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,E[1])).done)return S;switch(v=0,S&&(E=[2&E[0],S.value]),E[0]){case 0:case 1:S=E;break;case 4:return b.label++,{value:E[1],done:!1};case 5:b.label++,v=E[1],E=[0];continue;case 7:E=b.ops.pop(),b.trys.pop();continue;default:if(!((S=(S=b.trys).length>0&&S[S.length-1])||E[0]!==6&&E[0]!==2)){b=0;continue}if(E[0]===3&&(!S||E[1]>S[0]&&S[3]>E[1])){b.label=E[1];break}if(E[0]===6&&S[1]>b.label){b.label=S[1],S=E;break}if(S&&S[2]>b.label){b.label=S[2],b.ops.push(E);break}S[2]&&b.ops.pop(),b.trys.pop();continue}E=f.call(m,b)}catch(A){E=[6,A],v=0}finally{g=S=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([w,C])}}},o.__createBinding=Object.create?function(m,f,g,v){v===void 0&&(v=g);var S=Object.getOwnPropertyDescriptor(f,g);S&&!("get"in S?!f.__esModule:S.writable||S.configurable)||(S={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(m,v,S)}:function(m,f,g,v){v===void 0&&(v=g),m[v]=f[g]},o.__exportStar=function(m,f){for(var g in m)g==="default"||Object.prototype.hasOwnProperty.call(f,g)||(0,o.__createBinding)(f,m,g)},o.__values=u,o.__read=d,o.__spread=function(){for(var m=[],f=0;arguments.length>f;f++)m=m.concat(d(arguments[f]));return m},o.__spreadArrays=function(){for(var m=0,f=0,g=arguments.length;g>f;f++)m+=arguments[f].length;var v=Array(m),S=0;for(f=0;g>f;f++)for(var x=arguments[f],b=0,_=x.length;_>b;b++,S++)v[S]=x[b];return v},o.__spreadArray=function(m,f,g){if(g||arguments.length===2)for(var v,S=0,x=f.length;x>S;S++)!v&&S in f||(v||(v=Array.prototype.slice.call(f,0,S)),v[S]=f[S]);return m.concat(v||Array.prototype.slice.call(f))},o.__await=h,o.__asyncGenerator=function(m,f,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,S=g.apply(m,f||[]),x=[];return v={},b("next"),b("throw"),b("return"),v[Symbol.asyncIterator]=function(){return this},v;function b(A){S[A]&&(v[A]=function(T){return new Promise(function(M,j){x.push([A,T,M,j])>1||_(A,T)})})}function _(A,T){try{(M=S[A](T)).value instanceof h?Promise.resolve(M.value.v).then(w,C):E(x[0][2],M)}catch(j){E(x[0][3],j)}var M}function w(A){_("next",A)}function C(A){_("throw",A)}function E(A,T){A(T),x.shift(),x.length&&_(x[0][0],x[0][1])}},o.__asyncDelegator=function(m){var f,g;return f={},v("next"),v("throw",function(S){throw S}),v("return"),f[Symbol.iterator]=function(){return this},f;function v(S,x){f[S]=m[S]?function(b){return(g=!g)?{value:h(m[S](b)),done:!1}:x?x(b):b}:x}},o.__asyncValues=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,g=m[Symbol.asyncIterator];return g?g.call(m):(m=u(m),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(S){f[S]=m[S]&&function(x){return new Promise(function(b,_){(function(w,C,E,A){Promise.resolve(A).then(function(T){w({value:T,done:E})},C)})(b,_,(x=m[S](x)).done,x.value)})}}},o.__makeTemplateObject=function(m,f){return Object.defineProperty?Object.defineProperty(m,"raw",{value:f}):m.raw=f,m};var p=Object.create?function(m,f){Object.defineProperty(m,"default",{enumerable:!0,value:f})}:function(m,f){m.default=f};o.__importStar=function(m){if(m&&m.__esModule)return m;var f={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&(0,o.__createBinding)(f,m,g);return p(f,m),f},o.__importDefault=function(m){return m&&m.__esModule?m:{default:m}},o.__classPrivateFieldGet=function(m,f,g,v){if(g==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?m!==f||!v:!f.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?v:g==="a"?v.call(m):v?v.value:f.get(m)},o.__classPrivateFieldSet=function(m,f,g,v,S){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!S)throw new TypeError("Private accessor was defined without a setter");if(typeof f=="function"?m!==f||!S:!f.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?S.call(m,g):S?S.value=g:f.set(m,g),g},o.__classPrivateFieldIn=function(m,f){if(f===null||typeof f!="object"&&typeof f!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof m=="function"?f===m:m.has(f)}},93166:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Config=void 0;var u=s(86893),d=s(86893),h=function(){function p(){this.defaultTimeout=100,this.namespace="",this.safeMode=!1,this.width="auto",this.height="auto",this.safePluginsList=["about","enter","backspace","size"],this.license="",this.preset="custom",this.presets={inline:{inline:!0,toolbar:!1,toolbarInline:!0,toolbarInlineForSelection:!0,showXPathInStatusbar:!1,showCharsCounter:!1,showWordsCounter:!1,showPlaceholder:!1}},this.ownerDocument=typeof document<"u"?document:null,this.ownerWindow=typeof window<"u"?window:null,this.shadowRoot=null,this.zIndex=0,this.readonly=!1,this.disabled=!1,this.activeButtonsInReadOnly=["source","fullsize","print","about","dots","selectall"],this.allowCommandsInReadOnly=["selectall","preview","print"],this.toolbarButtonSize="middle",this.allowTabNavigation=!1,this.inline=!1,this.theme="default",this.saveModeInStorage=!1,this.editorClassName=!1,this.editorCssClass=!1,this.className=!1,this.style=!1,this.containerStyle=!1,this.styleValues={},this.triggerChangeEvent=!0,this.direction="",this.language="auto",this.debugLanguage=!1,this.i18n=!1,this.tabIndex=-1,this.toolbar=!0,this.statusbar=!0,this.showTooltip=!0,this.showTooltipDelay=1e3,this.useNativeTooltip=!1,this.defaultActionOnPaste=d.INSERT_AS_HTML,this.enter=u.PARAGRAPH,this.iframe=!1,this.editHTMLDocumentMode=!1,this.enterBlock=this.enter!=="br"?this.enter:u.PARAGRAPH,this.defaultMode=u.MODE_WYSIWYG,this.useSplitMode=!1,this.colors={greyscale:["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF"],palette:["#980000","#FF0000","#FF9900","#FFFF00","#00F0F0","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF"],full:["#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#85200C","#990000","#B45F06","#BF9000","#38761D","#134F5C","#1155CC","#0B5394","#351C75","#733554","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"]},this.colorPickerDefaultTab="background",this.imageDefaultWidth=300,this.removeButtons=[],this.disablePlugins=[],this.extraPlugins=[],this.extraButtons=[],this.extraIcons={},this.createAttributes={table:{style:"border-collapse:collapse;width: 100%;"}},this.sizeLG=900,this.sizeMD=700,this.sizeSM=400,this.buttons=[{group:"font-style",buttons:[]},{group:"list",buttons:[]},{group:"font",buttons:[]},"---",{group:"script",buttons:[]},{group:"media",buttons:[]},`
`,{group:"state",buttons:[]},{group:"clipboard",buttons:[]},{group:"insert",buttons:[]},{group:"indent",buttons:[]},{group:"color",buttons:[]},{group:"form",buttons:[]},"---",{group:"history",buttons:[]},{group:"search",buttons:[]},{group:"source",buttons:[]},{group:"other",buttons:[]},{group:"info",buttons:[]}],this.buttonsMD=["bold","italic","|","ul","ol","eraser","|","font","fontsize","---","image","table","|","link",`
`,"brush","paragraph","align","|","hr","copyformat","fullsize","---","undo","redo","|","dots"],this.buttonsSM=["bold","italic","|","ul","ol","eraser","|","fontsize","brush","paragraph","---","image","table",`
`,"link","|","align","|","undo","redo","|","copyformat","fullsize","---","dots"],this.buttonsXS=["bold","brush","paragraph","eraser","|","fontsize","---","image",`
`,"align","undo","redo","|","link","table","---","dots"],this.events={},this.textIcons=!1,this.showBrowserColorPicker=!0}return Object.defineProperty(p,"defaultOptions",{get:function(){return p.__defaultOptions||(p.__defaultOptions=new p),p.__defaultOptions},enumerable:!1,configurable:!0}),p}();o.Config=h,h.prototype.controls={}},77536:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Async=void 0;var u=s(20255),d=s(4696),h=s(42096),p=s(79736),m=s(26335),f=s(24421),g=s(61817),v=(s(52378),function(){function S(){var x,b,_,w,C=this;this.timers=new Map,this.__callbacks=new Map,this.promisesRejections=new Set,this.requestsIdle=new Set,this.requestsRaf=new Set,this.requestIdleCallbackNative=(b=(x=window.requestIdleCallback)===null||x===void 0?void 0:x.bind(window))!==null&&b!==void 0?b:function(E,A){var T,M=Date.now();return C.setTimeout(function(){E({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-M))}})},(T=A==null?void 0:A.timeout)!==null&&T!==void 0?T:1)},this.cancelIdleCallbackNative=(w=(_=window.cancelIdleCallback)===null||_===void 0?void 0:_.bind(window))!==null&&w!==void 0?w:function(E){C.clearTimeout(E)},this.isDestructed=!1}return S.prototype.delay=function(x){var b=this;return this.promise(function(_){return b.setTimeout(_,x)})},S.prototype.setTimeout=function(x,b){for(var _=[],w=2;arguments.length>w;w++)_[w-2]=arguments[w];if(this.isDestructed)return 0;var C={};(0,g.isNumber)(b)||(b=(C=b).timeout||0),C.label&&this.clearLabel(C.label);var E=d.setTimeout.apply(void 0,u.__spreadArray([x,b],u.__read(_),!1)),A=C.label||E;return this.timers.set(A,E),this.__callbacks.set(A,x),E},S.prototype.updateTimeout=function(x,b){if(!x||!this.timers.has(x))return null;var _=this.__callbacks.get(x);return this.setTimeout(_,{label:x,timeout:b})},S.prototype.clearLabel=function(x){x&&this.timers.has(x)&&((0,d.clearTimeout)(this.timers.get(x)),this.timers.delete(x),this.__callbacks.delete(x))},S.prototype.clearTimeout=function(x){if((0,f.isString)(x))return this.clearLabel(x);(0,d.clearTimeout)(x),this.timers.delete(x),this.__callbacks.delete(x)},S.prototype.debounce=function(x,b,_){var w=this;_===void 0&&(_=!1);var C=0,E=!1,A=[],T=function(){for(var j=[],P=0;arguments.length>P;P++)j[P]=arguments[P];if(!E){C=0;var I=x.apply(void 0,u.__spreadArray([],u.__read(j),!1));if(E=!0,A.length){var k=function(){A.forEach(function(R){return R()}),A.length=0};(0,m.isPromise)(I)?I.finally(k):k()}}},M=function(){for(var j=[],P=0;arguments.length>P;P++)j[P]=arguments[P];E=!1,b?(!C&&_&&T.apply(void 0,u.__spreadArray([],u.__read(j),!1)),(0,d.clearTimeout)(C),C=w.setTimeout(function(){return T.apply(void 0,u.__spreadArray([],u.__read(j),!1))},(0,h.isFunction)(b)?b():b),w.timers.set(x,C)):T.apply(void 0,u.__spreadArray([],u.__read(j),!1))};return(0,p.isPlainObject)(b)&&b.promisify?function(){for(var j=[],P=0;arguments.length>P;P++)j[P]=arguments[P];var I=w.promise(function(k){A.push(k)});return M.apply(void 0,u.__spreadArray([],u.__read(j),!1)),I}:M},S.prototype.throttle=function(x,b,_){var w=this,C,E,A,T=null;return function(){for(var M=[],j=0;arguments.length>j;j++)M[j]=arguments[j];C=!0,A=M,b?T||(E=function(){C?(x.apply(void 0,u.__spreadArray([],u.__read(A),!1)),C=!1,T=w.setTimeout(E,(0,h.isFunction)(b)?b():b),w.timers.set(E,T)):T=null})():x.apply(void 0,u.__spreadArray([],u.__read(A),!1))}},S.prototype.promise=function(x){var b=this,_=function(){},w=new Promise(function(C,E){return b.promisesRejections.add(E),_=E,x(C,E)});return w.finally||(w.finally=function(C){return w.then(C).catch(C),w}),w.finally(function(){b.promisesRejections.delete(_)}).catch(function(){return null}),w.rejectCallback=_,w},S.prototype.promiseState=function(x){var b=this;if(x.status)return x.status;if(!Promise.race)return new Promise(function(w){x.then(function(C){return w("fulfilled"),C},function(C){throw w("rejected"),C}),b.setTimeout(function(){w("pending")},100)});var _={};return Promise.race([x,_]).then(function(w){return w===_?"pending":"fulfilled"},function(){return"rejected"})},S.prototype.requestIdleCallback=function(x,b){var _=this.requestIdleCallbackNative(x,b);return this.requestsIdle.add(_),_},S.prototype.requestIdlePromise=function(x){var b=this;return this.promise(function(_){var w=b.requestIdleCallback(function(){return _(w)},x)})},S.prototype.cancelIdleCallback=function(x){return this.requestsIdle.delete(x),this.cancelIdleCallbackNative(x)},S.prototype.requestAnimationFrame=function(x){var b=requestAnimationFrame(x);return this.requestsRaf.add(b),b},S.prototype.cancelAnimationFrame=function(x){this.requestsRaf.delete(x),cancelAnimationFrame(x)},S.prototype.clear=function(){var x=this;this.requestsIdle.forEach(function(b){return x.cancelIdleCallback(b)}),this.requestsRaf.forEach(function(b){return x.cancelAnimationFrame(b)}),this.timers.forEach(function(b){return(0,d.clearTimeout)(x.timers.get(b))}),this.timers.clear(),this.promisesRejections.forEach(function(b){return b()}),this.promisesRejections.clear()},S.prototype.destruct=function(){this.clear(),this.isDestructed=!0},S}());o.Async=v},22630:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(77536),o)},45113:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Component=void 0;var u=s(40332),d=s(17332),h=s(29411),p=s(22630),m=new Map,f=function(){function g(){this.async=new p.Async,this.ownerWindow=window,this.__componentStatus=h.STATUSES.beforeInit,this.uid="jodit-uid-"+(0,d.uniqueUid)()}return Object.defineProperty(g.prototype,"componentName",{get:function(){return this.__componentName||(this.__componentName="jodit-"+(0,u.kebabCase)(((0,u.isFunction)(this.className)?this.className():"")||(0,u.getClassName)(this))),this.__componentName},enumerable:!1,configurable:!0}),g.prototype.getFullElName=function(v,S,x){var b=[this.componentName];return v&&(v=v.replace(/[^a-z0-9-]/gi,"-"),b.push("__".concat(v))),S&&(b.push("_",S),b.push("_",(0,u.isVoid)(x)?"true":x.toString())),b.join("")},Object.defineProperty(g.prototype,"ownerDocument",{get:function(){return this.ow.document},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"od",{get:function(){return this.ownerDocument},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ow",{get:function(){return this.ownerWindow},enumerable:!1,configurable:!0}),g.prototype.get=function(v,S){return(0,u.get)(v,S||this)},Object.defineProperty(g.prototype,"isReady",{get:function(){return this.componentStatus===h.STATUSES.ready},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isDestructed",{get:function(){return this.componentStatus===h.STATUSES.destructed},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isInDestruct",{get:function(){return h.STATUSES.beforeDestruct===this.componentStatus||h.STATUSES.destructed===this.componentStatus},enumerable:!1,configurable:!0}),g.prototype.bindDestruct=function(v){var S=this;return v.hookStatus(h.STATUSES.beforeDestruct,function(){return!S.isInDestruct&&S.destruct()}),this},g.prototype.destruct=function(){this.setStatus(h.STATUSES.destructed),this.async.destruct(),m.get(this)&&m.delete(this)},Object.defineProperty(g.prototype,"componentStatus",{get:function(){return this.__componentStatus},set:function(v){this.setStatus(v)},enumerable:!1,configurable:!0}),g.prototype.setStatus=function(v){return this.setStatusComponent(v,this)},g.prototype.setStatusComponent=function(v,S){if(v!==this.__componentStatus){S===this&&(this.__componentStatus=v);var x=Object.getPrototypeOf(this);x&&(0,u.isFunction)(x.setStatusComponent)&&x.setStatusComponent(v,S);var b=m.get(this),_=b==null?void 0:b[v];_&&_.length&&_.forEach(function(w){return w(S)})}},g.prototype.hookStatus=function(v,S){var x=m.get(this);x||m.set(this,x={}),x[v]||(x[v]=[]),x[v].push(S)},g.isInstanceOf=function(v,S){return v instanceof S},g.STATUSES=h.STATUSES,g}();o.Component=f},56562:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(29411),o),u.__exportStar(s(45113),o),u.__exportStar(s(39840),o)},29411:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.STATUSES=void 0,o.STATUSES={beforeInit:"beforeInit",ready:"ready",beforeDestruct:"beforeDestruct",destructed:"destructed"}},39840:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ViewComponent=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this)||this;return f.setParentView(m),f}return u.__extends(p,h),Object.defineProperty(p.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"defaultTimeout",{get:function(){return this.j.defaultTimeout},enumerable:!1,configurable:!0}),p.prototype.i18n=function(m){for(var f,g=[],v=1;arguments.length>v;v++)g[v-1]=arguments[v];return(f=this.j).i18n.apply(f,u.__spreadArray([m],u.__read(g),!1))},p.prototype.setParentView=function(m){return this.jodit=m,m.components.add(this),this},p.prototype.destruct=function(){return this.j.components.delete(this),h.prototype.destruct.call(this)},p}(s(45113).Component);o.ViewComponent=d},86893:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.CLIPBOARD_ID=o.lang=o.TEMP_ATTR=o.BASE_PATH=o.KEY_ALIASES=o.IS_MAC=o.SAFE_COUNT_CHANGE_CALL=o.INSERT_ONLY_TEXT=o.INSERT_AS_TEXT=o.INSERT_CLEAR_HTML=o.INSERT_AS_HTML=o.EMULATE_DBLCLICK_TIMEOUT=o.MARKER_CLASS=o.TEXT_RTF=o.TEXT_HTML=o.TEXT_PLAIN=o.IS_IE=o.MODE_SPLIT=o.MODE_SOURCE=o.MODE_WYSIWYG=o.PARAGRAPH=o.BR=o.COMMAND_KEYS=o.ACCURACY=o.NEARBY=o.KEY_F3=o.KEY_DELETE=o.KEY_SPACE=o.KEY_DOWN=o.KEY_RIGHT=o.KEY_UP=o.KEY_LEFT=o.KEY_ALT=o.KEY_ESC=o.KEY_ENTER=o.KEY_TAB=o.KEY_BACKSPACE=o.KEY_META=o.NO_EMPTY_TAGS=o.INSEPARABLE_TAGS=o.IS_INLINE=o.IS_BLOCK=o.SPACE_REG_EXP_END=o.SPACE_REG_EXP_START=o.SPACE_REG_EXP=o.INVISIBLE_SPACE_REG_EXP_START=o.INVISIBLE_SPACE_REG_EXP_END=o.INVISIBLE_SPACE_REG_EXP=o.NBSP_SPACE=o.INVISIBLE_SPACE=void 0,o.SOURCE_CONSUMER=void 0;var u=s(20255);o.INVISIBLE_SPACE="\uFEFF",o.NBSP_SPACE="",o.INVISIBLE_SPACE_REG_EXP=function(){return/[\uFEFF]/g},o.INVISIBLE_SPACE_REG_EXP_END=function(){return/[\uFEFF]+$/g},o.INVISIBLE_SPACE_REG_EXP_START=function(){return/^[\uFEFF]+/g},o.SPACE_REG_EXP=function(){return/[\s\n\t\r\uFEFF\u200b]+/g},o.SPACE_REG_EXP_START=function(){return/^[\s\n\t\r\uFEFF\u200b]+/g},o.SPACE_REG_EXP_END=function(){return/[\s\n\t\r\uFEFF\u200b]+$/g},o.IS_BLOCK=/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|CANVAS|DD|DFN|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[1-6]|HEADER|HGROUP|HR|LI|MAIN|NAV|NOSCRIPT|OUTPUT|P|PRE|RUBY|SCRIPT|STYLE|OBJECT|OL|SECTION|IFRAME|JODIT|JODIT-MEDIA|UL|TR|TD|TH|TBODY|THEAD|TFOOT|TABLE|BODY|HTML|VIDEO)$/i,o.IS_INLINE=/^(STRONG|SPAN|I|EM|B|SUP|SUB|A|U)$/i;var d=["img","video","svg","iframe","script","input","textarea","link","jodit","jodit-media"];o.INSEPARABLE_TAGS=new Set(u.__spreadArray(u.__spreadArray([],u.__read(d),!1),["br","hr"],!1)),o.NO_EMPTY_TAGS=new Set(d),o.KEY_META="Meta",o.KEY_BACKSPACE="Backspace",o.KEY_TAB="Tab",o.KEY_ENTER="Enter",o.KEY_ESC="Escape",o.KEY_ALT="Alt",o.KEY_LEFT="ArrowLeft",o.KEY_UP="ArrowUp",o.KEY_RIGHT="ArrowRight",o.KEY_DOWN="ArrowDown",o.KEY_SPACE="Space",o.KEY_DELETE="Delete",o.KEY_F3="F3",o.NEARBY=5,o.ACCURACY=10,o.COMMAND_KEYS=[o.KEY_META,o.KEY_BACKSPACE,o.KEY_DELETE,o.KEY_UP,o.KEY_DOWN,o.KEY_RIGHT,o.KEY_LEFT,o.KEY_ENTER,o.KEY_ESC,o.KEY_F3,o.KEY_TAB],o.BR="br",o.PARAGRAPH="p",o.MODE_WYSIWYG=1,o.MODE_SOURCE=2,o.MODE_SPLIT=3,o.IS_IE=typeof navigator<"u"&&(navigator.userAgent.indexOf("MSIE")!==-1||/rv:11.0/i.test(navigator.userAgent)),o.TEXT_PLAIN=o.IS_IE?"text":"text/plain",o.TEXT_HTML=o.IS_IE?"html":"text/html",o.TEXT_RTF=o.IS_IE?"rtf":"text/rtf",o.MARKER_CLASS="jodit-selection_marker",o.EMULATE_DBLCLICK_TIMEOUT=300,o.INSERT_AS_HTML="insert_as_html",o.INSERT_CLEAR_HTML="insert_clear_html",o.INSERT_AS_TEXT="insert_as_text",o.INSERT_ONLY_TEXT="insert_only_text",o.SAFE_COUNT_CHANGE_CALL=10,o.IS_MAC=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o.KEY_ALIASES={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:o.IS_MAC?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o.BASE_PATH=function(){if(typeof document>"u")return"";var h=document.currentScript,p=function(f){var g=f.split("/");return/\.js/.test(g[g.length-1])?g.slice(0,g.length-1).join("/")+"/":f};if(h)return p(h.src);var m=document.querySelectorAll("script[src]");return m&&m.length?p(m[m.length-1].src):window.location.href}(),o.TEMP_ATTR="data-jodit-temp",o.lang={},o.CLIPBOARD_ID="clipboard",o.SOURCE_CONSUMER="source-consumer"},31897:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Create=void 0;var u=s(40332),d=(s(52378),s(64968)),h=s(86893),p=function(){function m(f,g){this.document=f,this.createAttributes=g}return Object.defineProperty(m.prototype,"doc",{get:function(){return(0,u.isFunction)(this.document)?this.document():this.document},enumerable:!1,configurable:!0}),m.prototype.element=function(f,g,v){var S=this,x=this.doc.createElement(f.toLowerCase());return this.applyCreateAttributes(x),g&&((0,u.isPlainObject)(g)?(0,u.attr)(x,g):v=g),v&&(0,u.asArray)(v).forEach(function(b){return x.appendChild((0,u.isString)(b)?S.fromHTML(b):b)}),x},m.prototype.div=function(f,g,v){var S=this.element("div",g,v);return f&&(S.className=f),S},m.prototype.sandbox=function(){var f,g=this.element("iframe",{sandbox:"allow-same-origin"});this.doc.body.appendChild(g);var v=(f=g.contentWindow)===null||f===void 0?void 0:f.document;if(!v)throw Error("Iframe error");return v.open(),v.write("<!DOCTYPE html><html><head></head><body></body></html>"),v.close(),v.body},m.prototype.span=function(f,g,v){var S=this.element("span",g,v);return f&&(S.className=f),S},m.prototype.a=function(f,g,v){var S=this.element("a",g,v);return f&&(S.className=f),S},m.prototype.text=function(f){return this.doc.createTextNode(f)},m.prototype.fake=function(){return this.text(h.INVISIBLE_SPACE)},m.prototype.fragment=function(){return this.doc.createDocumentFragment()},m.prototype.fromHTML=function(f,g){var v=this.div();v.innerHTML=f.toString();var S=v.firstChild===v.lastChild&&v.firstChild?v.firstChild:v;if(d.Dom.safeRemove(S),g){var x=(0,u.refs)(S);Object.keys(g).forEach(function(b){var _=x[b];_&&g[b]===!1&&d.Dom.hide(_)})}return S},m.prototype.applyCreateAttributes=function(f){if(this.createAttributes){var g=this.createAttributes;if(g&&g[f.tagName.toLowerCase()]){var v=g[f.tagName.toLowerCase()];(0,u.isFunction)(v)?v(f):(0,u.isPlainObject)(v)&&(0,u.attr)(f,v)}}},m}();o.Create=p},42841:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(31897),o)},32358:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.cache=void 0;var u=s(40332);o.cache=function(d,h,p){var m=p.get;if(!m)throw(0,u.error)("Getter property descriptor expected");p.get=function(){var f=m.call(this);return f&&f.noCache===!0||Object.defineProperty(this,h,{configurable:p.configurable,enumerable:p.enumerable,writable:!1,value:f}),f}}},11441:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.component=void 0;var u=s(20255);o.component=function(d){var h=function(p){function m(){for(var f=[],g=0;arguments.length>g;g++)f[g]=arguments[g];var v=p.apply(this,u.__spreadArray([],u.__read(f),!1))||this,S=v.constructor===m;return S&&(v instanceof m||Object.setPrototypeOf(v,m.prototype),v.setStatus("ready")),v}return u.__extends(m,p),m}(d);return h}},55773:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.throttle=o.debounce=void 0;var u=s(10172),d=s(56562),h=s(56964);function p(m,f,g){return f===void 0&&(f=!1),g===void 0&&(g="debounce"),function(v,S){var x=v[S];if(!(0,u.isFunction)(x))throw(0,h.error)("Handler must be a Function");return v.hookStatus(d.STATUSES.ready,function(b){var _=b.async,w=(0,u.isFunction)(m)?m(b):m;Object.defineProperty(b,S,{configurable:!0,value:_[g](b[S].bind(b),(0,u.isNumber)(w)||(0,u.isPlainObject)(w)?w:b.defaultTimeout,f)})}),{configurable:!0,get:function(){return x.bind(this)}}}}s(52378),o.debounce=p,o.throttle=function(m,f){return f===void 0&&(f=!1),p(m,f,"throttle")}},70669:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.derive=void 0;var u=s(20255),d=s(10172);o.derive=function(){for(var h=[],p=0;arguments.length>p;p++)h[p]=arguments[p];return function(m){for(var f=m.prototype,g=0;h.length>g;g++)for(var v=h[g],S=Object.getOwnPropertyNames(v.prototype),x=function(_){var w=S[_],C=Object.getOwnPropertyDescriptor(v.prototype,w);C!=null&&(0,d.isFunction)(C.value)&&!(0,d.isFunction)(f[w])&&Object.defineProperty(f,w,{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var E,A=[],T=0;arguments.length>T;T++)A[T]=arguments[T];return(E=C.value).call.apply(E,u.__spreadArray([this],u.__read(A),!1))}})},b=0;S.length>b;b++)x(b)}}},64522:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.hook=void 0;var u=s(10172),d=s(56964);o.hook=function(h){return function(p,m){if(!(0,u.isFunction)(p[m]))throw(0,d.error)("Handler must be a Function");p.hookStatus(h,function(f){f[m].call(f)})}}},58682:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.idle=void 0;var u=s(20255),d=s(56562),h=s(40332);o.idle=function(){return function(p,m){if(!(0,h.isFunction)(p[m]))throw(0,h.error)("Handler must be a Function");p.hookStatus(d.STATUSES.ready,function(f){var g=f.async,v=f[m];f[m]=function(){for(var S=[],x=0;arguments.length>x;x++)S[x]=arguments[x];return g.requestIdleCallback(v.bind.apply(v,u.__spreadArray([f],u.__read(S),!1)))}})}}},43441:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.autobind=void 0;var u=s(20255);u.__exportStar(s(32358),o),u.__exportStar(s(11441),o),u.__exportStar(s(55773),o),u.__exportStar(s(58682),o),u.__exportStar(s(64522),o),u.__exportStar(s(91627),o),u.__exportStar(s(31418),o),u.__exportStar(s(67587),o),u.__exportStar(s(46163),o),u.__exportStar(s(70669),o);var d=s(70631);Object.defineProperty(o,"autobind",{enumerable:!0,get:function(){return d.default}})},91627:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.nonenumerable=void 0,o.nonenumerable=function(s,u){(Object.getOwnPropertyDescriptor(s,u)||{}).enumerable!==!1&&Object.defineProperty(s,u,{enumerable:!1,set:function(d){Object.defineProperty(this,u,{enumerable:!1,writable:!0,value:d})}})}},31418:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.persistent=void 0;var u=s(56562),d=s(96574);o.persistent=function(h,p){h.hookStatus(u.STATUSES.ready,function(m){var f=(0,d.isViewObject)(m)?m:m.jodit,g="".concat(f.options.namespace).concat(m.componentName,"_prop_").concat(p),v=m[p];Object.defineProperty(m,p,{get:function(){var S;return(S=f.storage.get(g))!==null&&S!==void 0?S:v},set:function(S){f.storage.set(g,S)}})})}},67587:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.wait=void 0;var u=s(20255),d=s(40332),h=s(56562);o.wait=function(p){return function(m,f){if(!(0,d.isFunction)(m[f]))throw(0,d.error)("Handler must be a Function");m.hookStatus(h.STATUSES.ready,function(g){var v=g.async,S=g[f],x=0;Object.defineProperty(g,f,{configurable:!0,value:function b(){for(var _=[],w=0;arguments.length>w;w++)_[w]=arguments[w];v.clearTimeout(x),p(g)?S.apply(g,_):x=v.setTimeout(function(){return b.apply(void 0,u.__spreadArray([],u.__read(_),!1))},10)}})})}}},46163:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.watch=o.getPropertyDescriptor=void 0;var u=s(20255),d=s(42096),h=s(79736),p=s(96574),m=s(88418),f=s(29411),g=s(14556),v=s(56964);function S(b,_){var w;do w=Object.getOwnPropertyDescriptor(b,_),b=Object.getPrototypeOf(b);while(!w&&b);return w}function x(b,_){return function(w,C){if(!(0,d.isFunction)(w[C]))throw(0,v.error)("Handler must be a Function");var E=function(A){var T=function(M){for(var j,P=[],I=1;arguments.length>I;I++)P[I-1]=arguments[I];if(!A.isInDestruct)return(j=A)[C].apply(j,u.__spreadArray([M],u.__read(P),!1))};(0,g.splitArray)(b).forEach(function(M){if(/:/.test(M)){var j=u.__read(M.split(":"),2),P=j[0],I=j[1],k=_,R=(0,p.isViewObject)(A)?A:A.jodit;return P.length&&(k=A.get(P)),(0,d.isFunction)(k)&&(k=k(A)),R.events.on(k||A,I,T),k||R.events.on(I,T),void A.hookStatus("beforeDestruct",function(){R.events.off(k||A,I,T).off(I,T)})}var O=M.split("."),D=u.__read(O,1)[0],L=O.slice(1),B=A[D];(0,h.isPlainObject)(B)&&(0,m.observable)(B).on("change.".concat(L.join(".")),T);var F=S(w,D);Object.defineProperty(A,D,{configurable:!0,set:function(H){var ee=B;ee!==H&&(B=H,F&&F.set&&F.set.call(A,H),(0,h.isPlainObject)(B)&&(B=(0,m.observable)(B)).on("change.".concat(L.join(".")),T),T(D,ee,B))},get:function(){return F&&F.get?F.get.call(A):B}})})};(0,d.isFunction)(w.hookStatus)?w.hookStatus(f.STATUSES.ready,E):E(w)}}o.getPropertyDescriptor=S,o.watch=x,o.default=x},24263:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Dom=void 0;var u=s(20255),d=s(86893),h=s(10172),p=s(12557),m=s(19035),f=s(76502),g=s(37204),v=s(86893),S=function(){function x(){}return x.detach=function(b){for(;b.firstChild;)b.removeChild(b.firstChild)},x.wrapInline=function(b,_,w){var C,E=b,A=b;w.s.save();var T=!1;do T=!1,(C=E.previousSibling)&&!x.isBlock(C)&&(T=!0,E=C);while(T);do T=!1,(C=A.nextSibling)&&!x.isBlock(C)&&(T=!0,A=C);while(T);var M=(0,h.isString)(_)?w.createInside.element(_):_;E.parentNode&&E.parentNode.insertBefore(M,E);for(var j=E;j&&(j=E.nextSibling,M.appendChild(E),E!==A&&j);)E=j;return w.s.restore(),M},x.wrap=function(b,_,w){var C=(0,h.isString)(_)?w.element(_):_;if(x.isNode(b)){if(!b.parentNode)throw(0,f.error)("Element should be in DOM");b.parentNode.insertBefore(C,b),C.appendChild(b)}else{var E=b.extractContents();b.insertNode(C),C.appendChild(E)}return C},x.unwrap=function(b){var _=b.parentNode;if(_){for(;b.firstChild;)_.insertBefore(b.firstChild,b);x.safeRemove(b)}},x.between=function(b,_,w){for(var C=b;C&&C!==_&&(b===C||!w(C));){var E=C.firstChild||C.nextSibling;if(!E){for(;C&&!C.nextSibling;)C=C.parentNode;E=C==null?void 0:C.nextSibling}C=E}},x.replace=function(b,_,w,C,E){C===void 0&&(C=!1),E===void 0&&(E=!1),(0,h.isHTML)(_)&&(_=w.fromHTML(_));var A=(0,h.isString)(_)?w.element(_):_;if(!E)for(;b.firstChild;)A.appendChild(b.firstChild);return C&&x.isElement(b)&&x.isElement(A)&&(0,p.toArray)(b.attributes).forEach(function(T){A.setAttribute(T.name,T.value)}),b.parentNode&&b.parentNode.replaceChild(A,b),A},x.isEmptyTextNode=function(b){return x.isText(b)&&(!b.nodeValue||b.nodeValue.replace(d.INVISIBLE_SPACE_REG_EXP(),"").trim().length===0)},x.isEmptyContent=function(b){return x.each(b,function(_){return x.isEmptyTextNode(_)})},x.isContentEditable=function(b,_){return x.isNode(b)&&!x.closest(b,function(w){return x.isElement(w)&&w.getAttribute("contenteditable")==="false"},_)},x.isEmpty=function(b,_){if(_===void 0&&(_=v.NO_EMPTY_TAGS),!b)return!0;var w;w=(0,h.isFunction)(_)?_:function(E){return _.has(E.nodeName.toLowerCase())};var C=function(E){return E.nodeValue==null||(0,m.trim)(E.nodeValue).length===0};return x.isText(b)?C(b):!(x.isElement(b)&&w(b))&&x.each(b,function(E){if(x.isText(E)&&!C(E)||x.isElement(E)&&w(E))return!1})},x.isNode=function(b){return!!(b&&(0,h.isString)(b.nodeName)&&typeof b.nodeType=="number"&&b.childNodes&&(0,h.isFunction)(b.appendChild))},x.isCell=function(b){return x.isNode(b)&&/^(td|th)$/i.test(b.nodeName)},x.isImage=function(b){return x.isNode(b)&&/^(img|svg|picture|canvas)$/i.test(b.nodeName)},x.isBlock=function(b){return!(0,h.isVoid)(b)&&typeof b=="object"&&x.isNode(b)&&d.IS_BLOCK.test(b.nodeName)},x.isText=function(b){return!!(b&&b.nodeType===Node.TEXT_NODE)},x.isElement=function(b){var _;if(!x.isNode(b))return!1;var w=(_=b.ownerDocument)===null||_===void 0?void 0:_.defaultView;return!!(w&&b.nodeType===Node.ELEMENT_NODE)},x.isFragment=function(b){var _;if(!x.isNode(b))return!1;var w=(_=b.ownerDocument)===null||_===void 0?void 0:_.defaultView;return!!(w&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE)},x.isHTMLElement=function(b){var _;if(!x.isNode(b))return!1;var w=(_=b.ownerDocument)===null||_===void 0?void 0:_.defaultView;return!!(w&&b instanceof w.HTMLElement)},x.isInlineBlock=function(b){return x.isElement(b)&&!/^(BR|HR)$/i.test(b.tagName)&&["inline","inline-block"].indexOf((0,f.css)(b,"display").toString())!==-1},x.canSplitBlock=function(b){return!(0,h.isVoid)(b)&&x.isHTMLElement(b)&&x.isBlock(b)&&!/^(TD|TH|CAPTION|FORM)$/.test(b.nodeName)&&b.style!==void 0&&!/^(fixed|absolute)/i.test(b.style.position)},x.last=function(b,_){var w=b==null?void 0:b.lastChild;if(!w)return null;do{if(_(w))return w;var C=w.lastChild;if(C||(C=w.previousSibling),!C&&w.parentNode!==b){do w=w.parentNode;while(w&&!(w!=null&&w.previousSibling)&&w.parentNode!==b);C=w==null?void 0:w.previousSibling}w=C}while(w);return null},x.prev=function(b,_,w,C){return C===void 0&&(C=!0),x.find(b,_,w,!1,C)},x.next=function(b,_,w,C){return C===void 0&&(C=!0),x.find(b,_,w,!0,C)},x.prevWithClass=function(b,_){return x.prev(b,function(w){return x.isElement(w)&&w.classList.contains(_)},b.parentNode)},x.nextWithClass=function(b,_){return x.next(b,function(w){return x.isElement(w)&&w.classList.contains(_)},b.parentNode)},x.find=function(b,_,w,C,E){C===void 0&&(C=!0),E===void 0&&(E=!0);for(var A=this.nextGen(b,w,C,E),T=A.next();!T.done;){if(_(T.value))return T.value;T=A.next()}return null},x.nextGen=function(b,_,w,C){var E,A,T;return w===void 0&&(w=!0),C===void 0&&(C=!0),u.__generator(this,function(M){switch(M.label){case 0:E=[],A=b,M.label=1;case 1:for(T=w?A.nextSibling:A.previousSibling;T;)E.unshift(T),T=w?T.nextSibling:T.previousSibling;return[5,u.__values(this.runInStack(b,E,w,C))];case 2:M.sent(),A=A.parentNode,M.label=3;case 3:if(A&&A!==_)return[3,1];M.label=4;case 4:return[2,null]}})},x.each=function(b,_,w){w===void 0&&(w=!0);for(var C=this.eachGen(b,w),E=C.next();!E.done;){if(_(E.value)===!1)return!1;E=C.next()}return!0},x.eachGen=function(b,_){return _===void 0&&(_=!0),this.runInStack(b,[b],_)},x.runInStack=function(b,_,w,C){var E,A;return C===void 0&&(C=!0),u.__generator(this,function(T){switch(T.label){case 0:if(!_.length)return[3,3];if(E=_.pop(),C)for(A=w?E.lastChild:E.firstChild;A;)_.push(A),A=w?A.previousSibling:A.nextSibling;return b===E?[3,2]:[4,E];case 1:T.sent(),T.label=2;case 2:return[3,0];case 3:return[2]}})},x.findWithCurrent=function(b,_,w,C,E){C===void 0&&(C="nextSibling"),E===void 0&&(E="firstChild");var A=b;do{if(_(A))return A||null;if(E&&A&&A[E]){var T=x.findWithCurrent(A[E],_,A,C,E);if(T)return T}for(;A&&!A[C]&&A!==w;)A=A.parentNode;A&&A[C]&&A!==w&&(A=A[C])}while(A&&A!==w);return null},x.findSibling=function(b,_,w){_===void 0&&(_=!0),w===void 0&&(w=function(E){return!x.isEmptyTextNode(E)});for(var C=x.sibling(b,_);C&&!w(C);)C=x.sibling(C,_);return C&&w(C)?C:null},x.findNotEmptySibling=function(b,_){return x.findSibling(b,_,function(w){var C;return!x.isEmptyTextNode(w)&&!!(!x.isText(w)||!((C=w.nodeValue)===null||C===void 0)&&C.length&&(0,m.trim)(w.nodeValue))})},x.findNotEmptyNeighbor=function(b,_,w){return(0,f.call)(_?x.prev:x.next,b,function(C){return!!(C&&(!x.isText(C)||(0,m.trim)((C==null?void 0:C.nodeValue)||"").length))},w)},x.sibling=function(b,_){return _?b.previousSibling:b.nextSibling},x.up=function(b,_,w,C){C===void 0&&(C=!1);var E=b;if(!E)return null;do{if(_(E))return E;if(E===w||!E.parentNode)break;E=E.parentNode}while(E&&E!==w);return E===w&&C&&_(E)?E:null},x.closest=function(b,_,w){var C,E=function(T){return T.toLowerCase()};if((0,h.isFunction)(_))C=_;else if((0,h.isArray)(_)){var A=new Set(_.map(E));C=function(T){return!!(T&&A.has(E(T.nodeName)))}}else C=function(T){return!!(T&&E(_)===E(T.nodeName))};return x.up(b,C,w)},x.furthest=function(b,_,w){for(var C=null,E=b==null?void 0:b.parentElement;E&&E!==w;)_(E)&&(C=E),E=E==null?void 0:E.parentElement;return C},x.appendChildFirst=function(b,_){var w=b.firstChild;w?w!==_&&b.insertBefore(_,w):b.appendChild(_)},x.after=function(b,_){var w=b.parentNode;w&&(w.lastChild===b?w.appendChild(_):w.insertBefore(_,b.nextSibling))},x.before=function(b,_){var w=b.parentNode;w&&w.insertBefore(_,b)},x.prepend=function(b,_){b.insertBefore(_,b.firstChild)},x.append=function(b,_){var w=this;(0,h.isArray)(_)?_.forEach(function(C){w.append(b,C)}):b.appendChild(_)},x.moveContent=function(b,_,w,C){w===void 0&&(w=!1),C===void 0&&(C=function(){return!0});var E=(b.ownerDocument||document).createDocumentFragment();(0,p.toArray)(b.childNodes).filter(function(A){return!!C(A)||(x.safeRemove(A),!1)}).forEach(function(A){E.appendChild(A)}),w&&_.firstChild?_.insertBefore(E,_.firstChild):_.appendChild(E)},x.isOrContains=function(b,_,w){return w===void 0&&(w=!1),b===_?!w:!!(_&&b&&this.up(_,function(C){return C===b},b,!0))},x.safeRemove=function(){for(var b=[],_=0;arguments.length>_;_++)b[_]=arguments[_];b.forEach(function(w){return x.isNode(w)&&w.parentNode&&w.parentNode.removeChild(w)})},x.safeInsertNode=function(b,_){b.collapsed||b.deleteContents(),b.insertNode(_),b.setStartBefore(_),b.collapse(!0),[_.nextSibling,_.previousSibling].forEach(function(w){return x.isText(w)&&!w.nodeValue&&x.safeRemove(w)})},x.hide=function(b){b&&((0,f.dataBind)(b,"__old_display",b.style.display),b.style.display="none")},x.show=function(b){if(b){var _=(0,f.dataBind)(b,"__old_display");b.style.display==="none"&&(b.style.display=_||"")}},x.isTag=function(b,_){if(!this.isElement(b))return!1;var w=b.tagName.toLowerCase(),C=b.tagName.toUpperCase();if(_ instanceof Set)return _.has(w)||_.has(C);for(var E=(0,p.asArray)(_).map(function(T){return String(T).toLowerCase()}),A=0;E.length>A;A+=1)if(w===E[A]||C===E[A])return!0;return!1},x.markTemporary=function(b,_){return _&&(0,f.attr)(b,_),(0,f.attr)(b,v.TEMP_ATTR,!0),b},x.isTemporary=function(b){return!!x.isElement(b)&&((0,g.isMarker)(b)||(0,f.attr)(b,v.TEMP_ATTR)==="true")},x.replaceTemporaryFromString=function(b){return b.replace(/<([a-z]+)[^>]+data-jodit-temp[^>]+>(.+?)<\/\1>/gi,"$2")},x.temporaryList=function(b){return(0,f.$$)("[".concat(v.TEMP_ATTR,"]"),b)},x}();o.Dom=S},64968:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(24263),o),u.__exportStar(s(33841),o)},33841:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.LazyWalker=void 0;var u=s(20255),d=s(73852),h=s(43441),p=s(24263),m=function(f){function g(v,S){S===void 0&&(S={});var x=f.call(this)||this;return x.async=v,x.options=S,x.workNodes=null,x.hadAffect=!1,x.isWorked=!1,x.isFinished=!1,x.idleId=0,x}return u.__extends(g,f),g.prototype.setWork=function(v){return this.isWorked&&this.break(),this.workNodes=p.Dom.eachGen(v,!this.options.reverse),this.isFinished=!1,this.startIdleRequest(),this},g.prototype.startIdleRequest=function(){var v;this.idleId=this.async.requestIdleCallback(this.workPerform,{timeout:(v=this.options.timeout)!==null&&v!==void 0?v:10})},g.prototype.break=function(v){this.isWorked&&(this.stop(),this.emit("break",v))},g.prototype.end=function(){this.isWorked&&(this.stop(),this.emit("end",this.hadAffect),this.hadAffect=!1)},g.prototype.stop=function(){this.isWorked=!1,this.isFinished=!0,this.workNodes=null,this.async.cancelIdleCallback(this.idleId)},g.prototype.destruct=function(){f.prototype.destruct.call(this),this.stop()},g.prototype.workPerform=function(v){var S;if(this.workNodes){this.isWorked=!0;for(var x=0,b=(S=this.options.timeoutChunkSize)!==null&&S!==void 0?S:50;!this.isFinished&&(v.timeRemaining()>0||v.didTimeout&&b>=x);){var _=this.workNodes.next();if(x+=1,this.visitNode(_.value)&&(this.hadAffect=!0),_.done)return void this.end()}}else this.end();this.isFinished||this.startIdleRequest()},g.prototype.visitNode=function(v){var S;return!(!v||this.options.whatToShow!==void 0&&v.nodeType!==this.options.whatToShow)&&(S=this.emit("visit",v))!==null&&S!==void 0&&S},u.__decorate([h.autobind],g.prototype,"workPerform",null),g}(d.Eventify);o.LazyWalker=m},3808:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.EventEmitter=void 0;var u=s(20255),d=s(83611),h=s(24421),p=s(42096),m=s(49781),f=s(56964),g=s(14556),v=function(){function S(x){var b=this;this.__mutedEvents=new Set,this.__key="__JoditEventEmitterNamespaces",this.__doc=document,this.__prepareEvent=function(_){_.cancelBubble||(_.composed&&(0,p.isFunction)(_.composedPath)&&_.composedPath()[0]&&Object.defineProperty(_,"target",{value:_.composedPath()[0],configurable:!0,enumerable:!0}),_.type.match(/^touch/)&&_.changedTouches&&_.changedTouches.length&&["clientX","clientY","pageX","pageY"].forEach(function(w){Object.defineProperty(_,w,{value:_.changedTouches[0][w],configurable:!0,enumerable:!0})}),_.originalEvent||(_.originalEvent=_),_.type==="paste"&&_.clipboardData===void 0&&b.__doc.defaultView.clipboardData&&Object.defineProperty(_,"clipboardData",{get:function(){return b.__doc.defaultView.clipboardData},configurable:!0,enumerable:!0}))},this.currents=[],this.__stopped=[],this.__isDestructed=!1,x&&(this.__doc=x),this.__key+=new Date().getTime()}return S.prototype.mute=function(x){return this.__mutedEvents.add(x??"*"),this},S.prototype.isMuted=function(x){return!(!x||!this.__mutedEvents.has(x))||this.__mutedEvents.has("*")},S.prototype.unmute=function(x){return this.__mutedEvents.delete(x??"*"),this},S.prototype.__eachEvent=function(x,b){var _=this;(0,g.splitArray)(x).map(function(w){return w.trim()}).forEach(function(w){var C=w.split(".");b.call(_,C[0],C[1]||d.defaultNameSpace)})},S.prototype.__getStore=function(x){if(!x)throw(0,f.error)("Need subject");if(x[this.__key]===void 0){var b=new d.EventHandlersStore;Object.defineProperty(x,this.__key,{enumerable:!1,configurable:!0,writable:!0,value:b})}return x[this.__key]},S.prototype.__removeStoreFromSubject=function(x){x[this.__key]!==void 0&&Object.defineProperty(x,this.__key,{enumerable:!1,configurable:!0,writable:!0,value:void 0})},S.prototype.__triggerNativeEvent=function(x,b){var _=this.__doc.createEvent("HTMLEvents");(0,h.isString)(b)?_.initEvent(b,!0,!0):(_.initEvent(b.type,b.bubbles,b.cancelable),["screenX","screenY","clientX","clientY","target","srcElement","currentTarget","timeStamp","which","keyCode"].forEach(function(w){Object.defineProperty(_,w,{value:b[w],enumerable:!0})}),Object.defineProperty(_,"originalEvent",{value:b,enumerable:!0})),x.dispatchEvent(_)},Object.defineProperty(S.prototype,"current",{get:function(){return this.currents[this.currents.length-1]},enumerable:!1,configurable:!0}),S.prototype.on=function(x,b,_,w){var C,E,A,T,M=this;if((0,h.isString)(x)||(0,h.isStringArray)(x)?(C=this,E=x,A=b,T=_):(C=x,E=b,A=_,T=w),!(0,h.isString)(E)&&!(0,h.isStringArray)(E)||E.length===0)throw(0,f.error)("Need events names");if(!(0,p.isFunction)(A))throw(0,f.error)("Need event handler");if((0,m.isArray)(C))return C.forEach(function(O){M.on(O,E,A,T)}),this;var j=C,P=this.__getStore(j),I=(0,p.isFunction)(j.addEventListener),k=this,R=function(O){for(var D=[],L=1;arguments.length>L;L++)D[L-1]=arguments[L];if(!k.isMuted(O))return A&&A.call.apply(A,u.__spreadArray([this],u.__read(D),!1))};return I&&(R=function(O){if(!k.isMuted(O.type))return k.__prepareEvent(O),A&&A.call(this,O)===!1?(O.preventDefault(),O.stopImmediatePropagation(),!1):void 0}),this.__eachEvent(E,function(O,D){if(O.length===0)throw(0,f.error)("Need event name");if(P.indexOf(O,D,A)===!1&&(P.set(O,D,{event:O,originalCallback:A,syntheticCallback:R},T==null?void 0:T.top),I)){var L=!!["touchstart","touchend","scroll","mousewheel","mousemove","touchmove"].includes(O)&&{passive:!0};j.addEventListener(O,R,L)}}),this},S.prototype.one=function(x,b,_,w){var C,E,A,T,M=this;(0,h.isString)(x)||(0,h.isStringArray)(x)?(C=this,E=x,A=b,T=_):(C=x,E=b,A=_,T=w);var j=function(){for(var P=[],I=0;arguments.length>I;I++)P[I]=arguments[I];return M.off(C,E,j),A.apply(void 0,u.__spreadArray([],u.__read(P),!1))};return this.on(C,E,j,T),this},S.prototype.off=function(x,b,_){var w,C,E,A=this;if((0,h.isString)(x)||(0,h.isStringArray)(x)?(w=this,C=x,E=b):(w=x,C=b,E=_),(0,m.isArray)(w))return w.forEach(function(k){A.off(k,C,E)}),this;var T=w,M=this.__getStore(T);if(!(0,h.isString)(C)&&!(0,h.isStringArray)(C)||C.length===0)return M.namespaces().forEach(function(k){A.off(T,"."+k)}),this.__removeStoreFromSubject(T),this;var j=(0,p.isFunction)(T.removeEventListener),P=function(k){j&&T.removeEventListener(k.event,k.syntheticCallback,!1)},I=function(k,R){if(k!==""){var O=M.get(k,R);if(O&&O.length)if((0,p.isFunction)(E)){var D=M.indexOf(k,R,E);D!==!1&&(P(O[D]),O.splice(D,1),O.length||M.clearEvents(R,k))}else O.forEach(P),O.length=0,M.clearEvents(R,k)}else M.events(R).forEach(function(L){L!==""&&I(L,R)})};return this.__eachEvent(C,function(k,R){R===d.defaultNameSpace?M.namespaces().forEach(function(O){I(k,O)}):I(k,R)}),M.isEmpty()&&this.__removeStoreFromSubject(T),this},S.prototype.stopPropagation=function(x,b){var _=this,w=(0,h.isString)(x)?this:x,C=(0,h.isString)(x)?x:b;if(typeof C!="string")throw(0,f.error)("Need event names");var E=this.__getStore(w);this.__eachEvent(C,function(A,T){var M=E.get(A,T);M&&_.__stopped.push(M),T===d.defaultNameSpace&&E.namespaces(!0).forEach(function(j){return _.stopPropagation(w,A+"."+j)})})},S.prototype.__removeStop=function(x){if(x){var b=this.__stopped.indexOf(x);b!==-1&&this.__stopped.splice(0,b+1)}},S.prototype.__isStopped=function(x){return x!==void 0&&this.__stopped.indexOf(x)!==-1},S.prototype.fire=function(x,b){for(var _,w,C=this,E=[],A=2;arguments.length>A;A++)E[A-2]=arguments[A];var T=(0,h.isString)(x)?this:x,M=(0,h.isString)(x)?x:b,j=(0,h.isString)(x)?u.__spreadArray([b],u.__read(E),!1):E,P=(0,p.isFunction)(T.dispatchEvent);if(!P&&!(0,h.isString)(M))throw(0,f.error)("Need events names");var I=this.__getStore(T);return!(0,h.isString)(M)&&P?this.__triggerNativeEvent(T,b):this.__eachEvent(M,function(k,R){if(P)C.__triggerNativeEvent(T,k);else{var O=I.get(k,R);if(O)try{u.__spreadArray([],u.__read(O),!1).every(function(D){var L;return!C.__isStopped(O)&&(C.currents.push(k),w=(L=D.syntheticCallback).call.apply(L,u.__spreadArray([T,k],u.__read(j),!1)),C.currents.pop(),w!==void 0&&(_=w),!0)})}finally{C.__removeStop(O)}R!==d.defaultNameSpace||P||I.namespaces().filter(function(D){return D!==R}).forEach(function(D){var L=C.fire.apply(C,u.__spreadArray([T,k+"."+D],u.__read(j),!1));L!==void 0&&(_=L)})}}),_},S.prototype.destruct=function(){this.__isDestructed&&(this.__isDestructed=!0,this.off(this),this.__getStore(this).clear(),this.__removeStoreFromSubject(this))},S}();o.EventEmitter=v},73852:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Eventify=void 0;var u=s(20255),d=function(){function h(){this.__map=new Map}return h.prototype.on=function(p,m){var f;return this.__map.has(p)||this.__map.set(p,new Set),(f=this.__map.get(p))===null||f===void 0||f.add(m),this},h.prototype.off=function(p,m){var f;return this.__map.has(p)&&((f=this.__map.get(p))===null||f===void 0||f.delete(m)),this},h.prototype.destruct=function(){this.__map.clear()},h.prototype.emit=function(p){for(var m,f,g=[],v=1;arguments.length>v;v++)g[v-1]=arguments[v];return this.__map.has(p)&&((m=this.__map.get(p))===null||m===void 0||m.forEach(function(S){f=S.apply(void 0,u.__spreadArray([],u.__read(g),!1))})),f},h}();o.Eventify=d},55395:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(3808),o),u.__exportStar(s(73852),o),u.__exportStar(s(88418),o),u.__exportStar(s(83611),o)},88418:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.observable=void 0;var u=s(20255),d=s(49781),h=s(32756),p=s(79736),m=s(46163),f=Symbol("observable-object");function g(v){return v[f]!==void 0}o.observable=function(v){if(g(v))return v;var S={},x={},b=function(C,E){return(0,d.isArray)(C)?(C.map(function(A){return b(A,E)}),v):(x[C]||(x[C]=[]),x[C].push(E),v)},_=function(C){for(var E=[],A=1;arguments.length>A;A++)E[A-1]=arguments[A];if((0,d.isArray)(C))C.map(function(T){return _.apply(void 0,u.__spreadArray([T],u.__read(E),!1))});else try{!S[C]&&x[C]&&(S[C]=!0,x[C].forEach(function(T){return T.call.apply(T,u.__spreadArray([v],u.__read(E),!1))}))}finally{S[C]=!1}},w=function(C,E){E===void 0&&(E=[]);var A={};g(C)||(Object.defineProperty(C,f,{enumerable:!1,value:!0}),Object.keys(C).forEach(function(T){var M=T,j=E.concat(M).filter(function(I){return I.length});A[M]=C[M];var P=(0,m.getPropertyDescriptor)(C,M);Object.defineProperty(C,M,{set:function(I){var k=A[M];if(!(0,h.isFastEqual)(A[M],I)){_(["beforeChange","beforeChange.".concat(j.join("."))],M,I),(0,p.isPlainObject)(I)&&w(I,j),P&&P.set?P.set.call(v,I):A[M]=I;var R=[];_(u.__spreadArray(["change"],u.__read(j.reduce(function(O,D){return R.push(D),O.push("change.".concat(R.join("."))),O},[])),!1),j.join("."),k,I!=null&&I.valueOf?I.valueOf():I)}},get:function(){return P&&P.get?P.get.call(v):A[M]},enumerable:!0,configurable:!0}),(0,p.isPlainObject)(A[M])&&w(A[M],j)}),Object.defineProperty(v,"on",{value:b}))};return w(v),v}},83611:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.EventHandlersStore=o.defaultNameSpace=void 0,s(52378);var u=s(1853);o.defaultNameSpace="JoditEventDefaultNamespace";var d=function(){function h(){this.__store=new Map}return h.prototype.get=function(p,m){if(this.__store.has(m))return this.__store.get(m)[p]},h.prototype.indexOf=function(p,m,f){var g=this.get(p,m);if(g){for(var v=0;g.length>v;v+=1)if(g[v].originalCallback===f)return v}return!1},h.prototype.namespaces=function(p){p===void 0&&(p=!1);var m=(0,u.toArray)(this.__store.keys());return p?m.filter(function(f){return f!==o.defaultNameSpace}):m},h.prototype.events=function(p){var m=this.__store.get(p);return m?Object.keys(m):[]},h.prototype.set=function(p,m,f,g){g===void 0&&(g=!1);var v=this.__store.get(m);v||this.__store.set(m,v={}),v[p]===void 0&&(v[p]=[]),g?v[p].unshift(f):v[p].push(f)},h.prototype.clear=function(){this.__store.clear()},h.prototype.clearEvents=function(p,m){var f=this.__store.get(p);f&&f[m]&&(delete f[m],Object.keys(f).length||this.__store.delete(p))},h.prototype.isEmpty=function(){return this.__store.size===0},h}();o.EventHandlersStore=d},17332:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.eventEmitter=o.getContainer=o.extendLang=o.modules=o.pluginSystem=o.uniqueUid=o.instances=void 0;var u=s(44540),d=s(64968),h=s(55395),p=s(77892),m=s(96574),f=s(87247),g=s(11278),v=s(86893);o.instances={};var S=1,x=new Set;o.uniqueUid=function(){function _(){return S+=10*(Math.random()+1),Math.round(S).toString(16)}for(var w=_();x.has(w);)w=_();return x.add(w),w},o.pluginSystem=new u.PluginSystem,o.modules={},o.extendLang=function(_){Object.keys(_).forEach(function(w){v.lang[w]?Object.assign(v.lang[w],_[w]):v.lang[w]=_[w]})};var b=new WeakMap;o.getContainer=function(_,w,C,E){C===void 0&&(C="div"),E===void 0&&(E=!1);var A=w?(0,f.getClassName)(w.prototype):"jodit-utils",T=b.get(_)||{},M=A+C,j=(0,m.isViewObject)(_)?_:_.j;if(!T[M]){var P=j.c,I=(0,p.isJoditObject)(_)&&_.o.shadowRoot?_.o.shadowRoot:_.od.body;if(E&&(0,p.isJoditObject)(_)&&_.od!==_.ed){P=_.createInside;var k=C==="style"?_.ed.head:_.ed.body;I=(0,p.isJoditObject)(_)&&_.o.shadowRoot?_.o.shadowRoot:k}var R=P.element(C,{className:"jodit jodit-".concat((0,g.kebabCase)(A),"-container jodit-box")});R.classList.add("jodit_theme_".concat(j.o.theme||"default")),I.appendChild(R),T[M]=R,_.hookStatus("beforeDestruct",function(){d.Dom.safeRemove(R),delete T[M],Object.keys(T).length&&b.delete(_)}),b.set(_,T)}return T[M].classList.remove("jodit_theme_default","jodit_theme_dark"),T[M].classList.add("jodit_theme_".concat(j.o.theme||"default")),T[M]},o.eventEmitter=new h.EventEmitter},34578:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.asArray=void 0;var u=s(49781);o.asArray=function(d){return(0,u.isArray)(d)?d:[d]}},12557:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.toArray=o.splitArray=o.asArray=void 0;var u=s(34578);Object.defineProperty(o,"asArray",{enumerable:!0,get:function(){return u.asArray}});var d=s(14556);Object.defineProperty(o,"splitArray",{enumerable:!0,get:function(){return d.splitArray}});var h=s(1853);Object.defineProperty(o,"toArray",{enumerable:!0,get:function(){return h.toArray}})},14556:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.splitArray=void 0,o.splitArray=function(s){return Array.isArray(s)?s:s.split(/[,\s]+/)}},1853:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.toArray=void 0;var u=s(80861),d=s(28069);o.toArray=function(){for(var h,p=[],m=0;arguments.length>m;m++)p[m]=arguments[m];var f=(0,d.isNativeFunction)(Array.from)?Array.from:(h=(0,u.reset)("Array.from"))!==null&&h!==void 0?h:Array.from;return f.apply(Array,p)}},4696:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(27512),o)},27512:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.clearTimeout=o.setTimeout=void 0;var u=s(20255);o.setTimeout=function(d,h){for(var p=[],m=2;arguments.length>m;m++)p[m-2]=arguments[m];return h?window.setTimeout.apply(window,u.__spreadArray([d,h],u.__read(p),!1)):(d.call.apply(d,u.__spreadArray([null],u.__read(p),!1)),0)},o.clearTimeout=function(d){window.clearTimeout(d)}},31553:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.hasBrowserColorPicker=void 0,o.hasBrowserColorPicker=function(){var s=!0;try{var u=document.createElement("input");u.type="color",u.value="!",s=u.type==="color"&&u.value!=="!"}catch{s=!1}return s}},10172:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(31553),o),u.__exportStar(s(49781),o),u.__exportStar(s(67749),o),u.__exportStar(s(32756),o),u.__exportStar(s(42096),o),u.__exportStar(s(66869),o),u.__exportStar(s(72543),o),u.__exportStar(s(33156),o),u.__exportStar(s(93578),o),u.__exportStar(s(77892),o),u.__exportStar(s(96574),o),u.__exportStar(s(60280),o),u.__exportStar(s(28069),o),u.__exportStar(s(61817),o),u.__exportStar(s(57649),o),u.__exportStar(s(79736),o),u.__exportStar(s(26335),o),u.__exportStar(s(24421),o),u.__exportStar(s(64350),o),u.__exportStar(s(19179),o),u.__exportStar(s(24021),o),u.__exportStar(s(85994),o),u.__exportStar(s(37204),o)},49781:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isArray=void 0,o.isArray=function(s){return Array.isArray(s)}},67749:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isBoolean=void 0,o.isBoolean=function(s){return typeof s=="boolean"}},32756:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isFastEqual=o.isEqual=void 0;var u=s(42554);o.isEqual=function(d,h){return d===h||(0,u.stringify)(d)===(0,u.stringify)(h)},o.isFastEqual=function(d,h){return d===h}},42096:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isFunction=void 0,o.isFunction=function(s){return typeof s=="function"}},72543:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isHtmlFromWord=void 0,o.isHtmlFromWord=function(s){return s.search(/<meta.*?Microsoft Excel\s[\d].*?>/)!==-1||s.search(/<meta.*?Microsoft Word\s[\d].*?>/)!==-1||s.search(/style="[^"]*mso-/)!==-1&&s.search(/<font/)!==-1}},66869:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isHTML=void 0;var u=s(24421);o.isHTML=function(d){return(0,u.isString)(d)&&/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/m.test(d.replace(/[\r\n]/g,""))}},33156:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.hasContainer=o.isDestructable=o.isInitable=void 0;var u=s(42096),d=s(24263),h=s(24021);o.isInitable=function(p){return!(0,h.isVoid)(p)&&(0,u.isFunction)(p.init)},o.isDestructable=function(p){return!(0,h.isVoid)(p)&&(0,u.isFunction)(p.destruct)},o.hasContainer=function(p){return!(0,h.isVoid)(p)&&d.Dom.isElement(p.container)}},93578:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isInt=void 0;var u=s(57649),d=s(24421);o.isInt=function(h){return(0,d.isString)(h)&&(0,u.isNumeric)(h)&&(h=parseFloat(h)),typeof h=="number"&&Number.isFinite(h)&&!(h%1)}},77892:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isJoditObject=void 0;var u=s(42096);o.isJoditObject=function(d){return!!(d&&d instanceof Object&&(0,u.isFunction)(d.constructor)&&(typeof Jodit<"u"&&d instanceof Jodit||d.isJodit))}},60280:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isLicense=void 0;var u=s(24421);o.isLicense=function(d){return(0,u.isString)(d)&&d.length===23&&/^[a-z0-9]{5}-[a-z0-9]{5}-[a-z0-9]{5}-[a-z0-9]{5}$/i.test(d)}},37204:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isMarker=void 0;var u=s(24263),d=s(86893);o.isMarker=function(h){return u.Dom.isNode(h)&&u.Dom.isTag(h,"span")&&h.hasAttribute("data-"+d.MARKER_CLASS)}},28069:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isNativeFunction=void 0,o.isNativeFunction=function(s){return!!s&&(typeof s).toLowerCase()==="function"&&(s===Function.prototype||/^\s*function\s*(\b[a-z$_][a-z0-9$_]*\b)*\s*\((|([a-z$_][a-z0-9$_]*)(\s*,[a-z$_][a-z0-9$_]*)*)\)\s*{\s*\[native code]\s*}\s*$/i.test(String(s)))}},61817:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isNumber=void 0,o.isNumber=function(s){return typeof s=="number"&&!isNaN(s)&&isFinite(s)}},57649:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isNumeric=void 0;var u=s(24421);o.isNumeric=function(d){if((0,u.isString)(d)){if(!d.match(/^([+-])?[0-9]+(\.?)([0-9]+)?(e[0-9]+)?$/))return!1;d=parseFloat(d)}return typeof d=="number"&&!isNaN(d)&&isFinite(d)}},79736:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isPlainObject=void 0;var u=s(85994);o.isPlainObject=function(d){return!(!d||typeof d!="object"||d.nodeType||(0,u.isWindow)(d)||d.constructor&&!{}.hasOwnProperty.call(d.constructor.prototype,"isPrototypeOf"))}},26335:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isPromise=void 0,o.isPromise=function(s){return s&&typeof s.then=="function"}},24421:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isStringArray=o.isString=void 0;var u=s(49781);function d(h){return typeof h=="string"}o.isString=d,o.isStringArray=function(h){return(0,u.isArray)(h)&&d(h[0])}},64350:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isURL=void 0,o.isURL=function(s){if(s.includes(" "))return!1;if(typeof URL<"u")try{var u=new URL(s);return["https:","http:","ftp:","file:","rtmp:"].includes(u.protocol)}catch{return!1}var d=document.createElement("a");return d.href=s,!!d.hostname}},19179:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isValidName=void 0,o.isValidName=function(s){return!!s.length&&!/[^0-9A-Za-z--\w\-_.]/.test(s)}},96574:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isViewObject=void 0;var u=s(42096);o.isViewObject=function(d){return!!(d&&d instanceof Object&&(0,u.isFunction)(d.constructor)&&d.isView)}},24021:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isVoid=void 0,o.isVoid=function(s){return s==null}},85994:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isWindow=void 0,o.isWindow=function(s){return s!=null&&s===s.window}},13203:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.colorToHex=void 0,o.colorToHex=function(s){if(s==="rgba(0, 0, 0, 0)"||s==="")return!1;if(!s)return"#000000";if(s.substr(0,1)==="#")return s;var u=/([\s\n\t\r]*?)rgb\((\d+), (\d+), (\d+)\)/.exec(s)||/([\s\n\t\r]*?)rgba\((\d+), (\d+), (\d+), ([\d.]+)\)/.exec(s);if(!u)return"#000000";for(var d=parseInt(u[2],10),h=parseInt(u[3],10),p=(parseInt(u[4],10)|h<<8|d<<16).toString(16).toUpperCase();6>p.length;)p="0"+p;return u[1]+"#"+p}},61354:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(13203),o)},66546:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.applyStyles=void 0;var u=s(24263),d=s(76502),h=s(33941);function p(m){return m.replace(/mso-[a-z-]+:[\s]*[^;]+;/gi,"").replace(/mso-[a-z-]+:[\s]*[^";']+$/gi,"").replace(/border[a-z-]*:[\s]*[^;]+;/gi,"").replace(/([0-9.]+)(pt|cm)/gi,function(f,g,v){switch(v.toLowerCase()){case"pt":return(1.328*parseFloat(g)).toFixed(0)+"px";case"cm":return(.02645833*parseFloat(g)).toFixed(0)+"px"}return f})}o.applyStyles=function(m){if(m.indexOf("<html ")===-1)return m;m=(m=m.substring(m.indexOf("<html "),m.length)).substring(0,m.lastIndexOf("</html>")+7);var f=document.createElement("iframe");f.style.display="none",document.body.appendChild(f);var g="";try{var v=f.contentDocument||(f.contentWindow?f.contentWindow.document:null);if(v){v.open(),v.write(m),v.close();try{for(var S=function(b){for(var _=v.styleSheets[b].cssRules,w=function(E){if(_[E].selectorText==="")return"continue";(0,d.$$)(_[E].selectorText,v.body).forEach(function(A){A.style.cssText=p(_[E].style.cssText+";"+A.style.cssText)})},C=0;_.length>C;C+=1)w(C)},x=0;v.styleSheets.length>x;x+=1)S(x)}catch{}u.Dom.each(v.body,function(b){if(u.Dom.isElement(b)){var _=b,w=_.getAttribute("style");w&&(_.style.cssText=p(w)),_.hasAttribute("style")&&!_.getAttribute("style")&&_.removeAttribute("style")}}),g=v.firstChild?(0,h.trim)(v.body.innerHTML):""}}catch{}finally{u.Dom.safeRemove(f)}return g&&(m=g),(0,h.trim)(m.replace(/<(\/)?(html|colgroup|col|o:p)[^>]*>/g,"").replace(/<!--[^>]*>/g,""))}},33316:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.cleanFromWord=void 0;var u=s(24263),d=s(33941),h=s(1853);o.cleanFromWord=function(p){p.indexOf("<html ")!==-1&&(p=(p=p.substring(p.indexOf("<html "),p.length)).substring(0,p.lastIndexOf("</html>")+7));var m="";try{var f=document.createElement("div");f.innerHTML=p;var g=[];f.firstChild&&u.Dom.each(f,function(v){if(v)switch(v.nodeType){case Node.ELEMENT_NODE:switch(v.nodeName){case"STYLE":case"LINK":case"META":g.push(v);break;case"W:SDT":case"W:SDTPR":case"FONT":u.Dom.unwrap(v);break;default:(0,h.toArray)(v.attributes).forEach(function(S){["src","href","rel","content"].indexOf(S.name.toLowerCase())===-1&&v.removeAttribute(S.name)})}break;case Node.TEXT_NODE:break;default:g.push(v)}}),u.Dom.safeRemove.apply(null,g),m=f.innerHTML}catch{}return m&&(p=m),(p=p.split(/(\n)/).filter(d.trim).join(`
`)).replace(/<(\/)?(html|colgroup|col|o:p)[^>]*>/g,"").replace(/<!--[^>]*>/g,"")}},46639:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.htmlspecialchars=void 0,o.htmlspecialchars=function(s){var u=document.createElement("div");return u.textContent=s,u.innerHTML}},13098:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(66546),o),u.__exportStar(s(33316),o),u.__exportStar(s(46639),o),u.__exportStar(s(11336),o),u.__exportStar(s(67128),o),u.__exportStar(s(86645),o)},86645:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.nl2br=void 0,o.nl2br=function(s){return s.replace(/\r\n|\r|\n/g,"<br/>")}},67128:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.sanitizeHTMLElement=o.safeHTML=void 0;var u=s(76502),d=s(24263);function h(p,m){var f=m===void 0?{safeJavaScriptLink:!0,removeOnError:!0}:m,g=f.safeJavaScriptLink,v=f.removeOnError;if(!d.Dom.isElement(p))return!1;var S=!1;v&&p.hasAttribute("onerror")&&((0,u.attr)(p,"onerror",null),S=!0);var x=p.getAttribute("href");return g&&x&&x.trim().indexOf("javascript")===0&&((0,u.attr)(p,"href",location.protocol+"//"+x),S=!0),S}o.safeHTML=function(p,m){(d.Dom.isElement(p)||d.Dom.isFragment(p))&&(m.removeOnError&&(h(p),(0,u.$$)("[onerror]",p).forEach(function(f){return h(f,m)})),m.safeJavaScriptLink&&(h(p),(0,u.$$)('a[href^="javascript"]',p).forEach(function(f){return h(f,m)})))},o.sanitizeHTMLElement=h},11336:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.stripTags=void 0;var u=s(24421),d=s(76502),h=s(33941),p=s(24263),m=new Set(["div","p","br","h1","h2","h3","h4","h5","h6","hr"]),f=new Set(["script","style"]);o.stripTags=function g(v,S,x){S===void 0&&(S=document),x===void 0&&(x=null);var b=S.createElement("div");return(0,u.isString)(v)?b.innerHTML=v:b.appendChild(v),(0,d.$$)("*",b).forEach(function(_){var w=_.parentNode;if(w){if(x&&p.Dom.isTag(_,x)){var C=_.nodeName.toLowerCase(),E=p.Dom.isTag(_,["br","hr","input"])?"%%%jodit-single-".concat(C,"%%%"):"%%%jodit-".concat(C,"%%%").concat(g(_.innerHTML,S,x),"%%%/jodit-").concat(C,"%%%");return p.Dom.before(_,S.createTextNode(E)),void p.Dom.safeRemove(_)}if(p.Dom.isTag(_,f))p.Dom.safeRemove(_);else if(p.Dom.isTag(_,m)){var A=_.nextSibling;p.Dom.isText(A)&&/^\s/.test(A.nodeValue||"")||A&&w.insertBefore(S.createTextNode(" "),A)}}}),(0,h.trim)(b.innerText).replace(/%%%(\/)?jodit(-single)?-([\w\n]+)%%%/g,function(_,w,C,E){return"<".concat(w?"/":"").concat(E,">")})}},40332:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(76502),o),u.__exportStar(s(12557),o),u.__exportStar(s(4696),o),u.__exportStar(s(10172),o),u.__exportStar(s(61354),o),u.__exportStar(s(13098),o),u.__exportStar(s(89693),o),u.__exportStar(s(90954),o),u.__exportStar(s(19035),o)},89693:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(48926),o),u.__exportStar(s(78648),o),u.__exportStar(s(74504),o),u.__exportStar(s(50870),o),u.__exportStar(s(76787),o),u.__exportStar(s(93251),o),u.__exportStar(s(91518),o),u.__exportStar(s(49353),o),u.__exportStar(s(64274),o)},64274:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeColor=void 0;var u=s(61354),d=s(19035);o.normalizeColor=function(h){var p=["#"],m=(0,u.colorToHex)(h);if(!m)return!1;if((m=(m=(0,d.trim)(m.toUpperCase())).substr(1)).length===3){for(var f=0;3>f;f+=1)p.push(m[f]),p.push(m[f]);return p.join("")}return m.length>6&&(m=m.substr(0,6)),"#"+m}},49353:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeCssValue=o.normalizeCssNumericValue=o.NUMBER_FIELDS_REG=void 0;var u=s(57649),d=s(11278),h=s(13203),p=s(24021);o.NUMBER_FIELDS_REG=/^(left|top|bottom|right|width|min|max|height|margin|padding|fontsize|font-size)/i,o.normalizeCssNumericValue=function(m,f){return!(0,p.isVoid)(f)&&o.NUMBER_FIELDS_REG.test(m)&&(0,u.isNumeric)(f.toString())?parseInt(f.toString(),10)+"px":f},o.normalizeCssValue=function(m,f){if((0,d.kebabCase)(m)==="font-weight"){switch(f.toString().toLowerCase()){case"700":case"bold":return 700;case"400":case"normal":return 400;case"900":case"heavy":return 900}return(0,u.isNumeric)(f)?Number(f):f}return/color/i.test(m)&&/^rgb/i.test(f.toString())&&(0,h.colorToHex)(f.toString())||f}},48926:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeKeyAliases=void 0;var u=s(33941),d=s(86893);o.normalizeKeyAliases=function(h){var p={},m={meta:1,ctrl:2,control:2,alt:3,shift:4};return h.replace(/\+\+/g,"+add").split(/[\s]*\+[\s]*/).map(function(f){return(0,u.trim)(f.toLowerCase())}).map(function(f){return d.KEY_ALIASES[f]||f}).sort(function(f,g){return m[f]&&!m[g]?-1:!m[f]&&m[g]?1:m[f]&&m[g]?m[f]-m[g]:f>g?1:-1}).filter(function(f){return!p[f]&&f!==""&&(p[f]=!0)}).join("+")}},78648:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeLicense=void 0,o.normalizeLicense=function(s,u){u===void 0&&(u=8);for(var d=[];s.length;)d.push(s.substr(0,u)),s=s.substr(u);return d[1]=d[1].replace(/./g,"*"),d[2]=d[2].replace(/./g,"*"),d.join("-")}},74504:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeNode=void 0;var u=s(86893),d=s(24263);o.normalizeNode=function h(p){if(p){if(d.Dom.isText(p)&&p.nodeValue!=null&&p.parentNode)for(;d.Dom.isText(p.nextSibling);)p.nextSibling.nodeValue!=null&&(p.nodeValue+=p.nextSibling.nodeValue),p.nodeValue=p.nodeValue.replace((0,u.INVISIBLE_SPACE_REG_EXP)(),""),d.Dom.safeRemove(p.nextSibling);else h(p.firstChild);h(p.nextSibling)}}},50870:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizePath=void 0;var u=s(19035);o.normalizePath=function(){for(var d=[],h=0;arguments.length>h;h++)d[h]=arguments[h];return d.filter(function(p){return(0,u.trim)(p).length}).map(function(p,m){return p=p.replace(/([^:])[\\/]+/g,"$1/"),m&&(p=p.replace(/^\//,"")),m!==d.length-1&&(p=p.replace(/\/$/,"")),p}).join("/")}},76787:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeRelativePath=void 0,o.normalizeRelativePath=function(s){return s.split("/").reduce(function(u,d){switch(d){case"":case".":break;case"..":u.pop();break;default:u.push(d)}return u},[]).join("/")+(s.endsWith("/")?"/":"")}},93251:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeSize=void 0,o.normalizeSize=function(s){return/^[0-9]+$/.test(s.toString())?s+"px":s.toString()}},91518:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeUrl=void 0,o.normalizeUrl=function(){for(var s=[],u=0;arguments.length>u;u++)s[u]=arguments[u];return s.filter(function(d){return d.length}).map(function(d){return d.replace(/\/$/,"")}).join("/").replace(/([^:])[\\/]+/g,"$1/")}},1684:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.getContentWidth=void 0,o.getContentWidth=function(s,u){var d=function(p){return parseInt(p,10)},h=u.getComputedStyle(s);return s.offsetWidth-d(h.getPropertyValue("padding-left")||"0")-d(h.getPropertyValue("padding-right")||"0")}},73874:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getScrollParent=void 0;var u=s(76502),d=s(24263);o.getScrollParent=function h(p){if(!p)return null;var m=d.Dom.isHTMLElement(p),f=m&&(0,u.css)(p,"overflowY");return m&&f!=="visible"&&f!=="hidden"&&p.scrollHeight>=p.clientHeight?p:h(p.parentNode)||document.scrollingElement||document.body}},90954:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(1684),o),u.__exportStar(s(73874),o),u.__exportStar(s(83810),o),u.__exportStar(s(98701),o),u.__exportStar(s(81710),o),u.__exportStar(s(16492),o)},83810:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.innerWidth=void 0,o.innerWidth=function(s,u){var d=u.getComputedStyle(s);return s.clientWidth-(parseFloat(d.paddingLeft||"0")+parseFloat(d.paddingRight||"0"))}},16492:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.size=void 0;var u=s(10172);o.size=function(d){return(0,u.isString)(d)||(0,u.isArray)(d)?d.length:(0,u.isPlainObject)(d)?Object.keys(d).length:0}},98701:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.offset=void 0,o.offset=function(s,u,d,h){var p;h===void 0&&(h=!1);try{p=s.getBoundingClientRect()}catch{p={top:0,bottom:0,left:0,right:0,width:0,height:0}}var m,f,g=d.body,v=d.documentElement||{clientTop:0,clientLeft:0,scrollTop:0,scrollLeft:0},S=d.defaultView||d.parentWindow,x=S.pageYOffset||v.scrollTop||g.scrollTop,b=S.pageXOffset||v.scrollLeft||g.scrollLeft,_=v.clientTop||g.clientTop||0,w=v.clientLeft||g.clientLeft||0,C=u.iframe;if(!h&&u&&u.options&&u.o.iframe&&C){var E=(0,o.offset)(C,u,u.od,!0);m=p.top+E.top,f=p.left+E.left}else m=p.top+x-_,f=p.left+b-w;return{top:Math.round(m),left:Math.round(f),width:p.width,height:p.height}}},81710:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.position=void 0;var u=s(77892);o.position=function d(h,p,m){m===void 0&&(m=!1);var f=h.getBoundingClientRect(),g=f.left,v=f.top;if((0,u.isJoditObject)(p)&&p.iframe&&p.ed.body.contains(h)&&!m){var S=d(p.iframe,p,!0);g+=S.left,v+=S.top}return{left:Math.round(g),top:Math.round(v),width:Math.round(h.offsetWidth),height:Math.round(h.offsetHeight)}}},26596:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.camelCase=void 0,o.camelCase=function(s){return s.replace(/([-_])(.)/g,function(u,d,h){return h.toUpperCase()})}},93163:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.fuzzySearchIndex=void 0;var u=s(86893);o.fuzzySearchIndex=function(d,h,p,m){p===void 0&&(p=0),m===void 0&&(m=1);var f=0,g=0,v=-1,S=0,x=0;for(g=p;d.length>f&&h.length>g;)d[f].toLowerCase()===h[g].toLowerCase()?(f++,S++,x=0,v===-1&&(v=g)):f>0&&(m>x||h[g]===u.INVISIBLE_SPACE?(x++,S++):(f=0,v=-1,S=0,x=0,g--)),g++;return f===d.length?[v,S]:[-1,0]}},11625:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.i18n=o.sprintf=void 0;var u=s(93166),d=s(76502),h=s(24421),p=s(13449),m=s(86893);o.sprintf=function(f,g){if(!g||!g.length)return f;for(var v=/%([sd])/g,S=v.exec(f),x=f,b=0;S&&g[b]!==void 0;)x=x.replace(S[0],g[b].toString()),b+=1,S=v.exec(f);return x},o.i18n=function(f,g,v){if(!(0,h.isString)(f))throw(0,d.error)("i18n: Need string in first argument");if(!f.length)return f;var S=!!(v!=null&&v.debugLanguage),x={},b=function(T){return g&&g.length?(0,o.sprintf)(T,g):T},_=(0,d.defaultLanguage)(u.Config.defaultOptions.language,u.Config.defaultOptions.language),w=(0,d.defaultLanguage)(v==null?void 0:v.language,_),C=function(T){if(T){if((0,h.isString)(T[f]))return b(T[f]);var M=f.toLowerCase();if((0,h.isString)(T[M]))return b(T[M]);var j=(0,p.ucfirst)(f);return(0,h.isString)(T[j])?b(T[j]):void 0}};m.lang[w]!==void 0?x=m.lang[w]:S||(x=m.lang[_]!==void 0?m.lang[_]:m.lang.en);var E=v==null?void 0:v.i18n;if(E&&E[w]){var A=C(E[w]);if(A)return A}return C(x)||(!S&&m.lang.en&&(0,h.isString)(m.lang.en[f])&&m.lang.en[f]?b(m.lang.en[f]):S?"{"+f+"}":b(f))}},19035:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(26596),o),u.__exportStar(s(93163),o),u.__exportStar(s(11625),o),u.__exportStar(s(11278),o),u.__exportStar(s(42554),o),u.__exportStar(s(33941),o),u.__exportStar(s(13449),o)},11278:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.CamelCaseToKebabCase=o.kebabCase=void 0,o.kebabCase=function(s){return s.replace(/([A-Z])([A-Z])([a-z])/g,"$1-$2$3").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},o.CamelCaseToKebabCase=function(s){return s.replace(/([A-Z])([A-Z])([a-z])/g,"$1-$2$3").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},42554:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.stringify=void 0,o.stringify=function(s,u){if(u===void 0&&(u={}),typeof s!="object")return String(s);var d=new Set(u.excludeKeys),h=new WeakMap;return JSON.stringify(s,function(p,m){if(!d.has(p)){if(typeof m=="object"&&m!=null){if(h.get(m))return"[refObject]";h.set(m,!0)}return m}},u.prettify)}},33941:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.trimInv=o.trim=void 0;var u=s(86893);o.trim=function(d){return d.replace((0,u.SPACE_REG_EXP_END)(),"").replace((0,u.SPACE_REG_EXP_START)(),"")},o.trimInv=function(d){return d.replace((0,u.INVISIBLE_SPACE_REG_EXP_END)(),"").replace((0,u.INVISIBLE_SPACE_REG_EXP_START)(),"")}},13449:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ucfirst=void 0,o.ucfirst=function(s){return s.length?s[0].toUpperCase()+s.substr(1):""}},60303:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.alignElement=o.clearAlign=o.hAlignElement=void 0;var u=s(64968),d=s(26911);function h(p){u.Dom.each(p,function(m){u.Dom.isHTMLElement(m)&&m.style.textAlign&&(m.style.textAlign="",m.style.cssText.trim().length||m.removeAttribute("style"))})}o.hAlignElement=function(p,m){m&&m!=="normal"?m!=="center"?((0,d.css)(p,"float",m),(0,d.clearCenterAlign)(p)):(0,d.css)(p,{float:"",display:"block",marginLeft:"auto",marginRight:"auto"}):((0,d.css)(p,"float")&&["right","left"].indexOf((0,d.css)(p,"float").toString().toLowerCase())!==-1&&(0,d.css)(p,"float",""),(0,d.clearCenterAlign)(p))},o.clearAlign=h,o.alignElement=function(p,m){if(u.Dom.isNode(m)&&u.Dom.isElement(m))switch(h(m),p.toLowerCase()){case"justifyfull":m.style.textAlign="justify";break;case"justifyright":m.style.textAlign="right";break;case"justifyleft":m.style.textAlign="left";break;case"justifycenter":m.style.textAlign="center"}}},62462:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.loadNextStyle=o.loadNext=o.appendStyleAsync=o.appendScriptAsync=o.appendScript=void 0;var u=s(20255),d=s(48240),h=s(42096),p=s(24421),m=new Map,f=function(g){return function(v,S){return u.__awaiter(void 0,void 0,Promise,function(){var x;return u.__generator(this,function(b){return m.has(S)?[2,m.get(S)]:(x=g(v,S),m.set(S,x),[2,x])})})}};o.appendScript=function(g,v,S){var x=g.c.element("script");return x.type="text/javascript",x.async=!0,(0,h.isFunction)(S)&&!g.isInDestruct&&g.e.on(x,"load",S),x.src||(x.src=(0,d.completeUrl)(v)),g.od.body.appendChild(x),{callback:S,element:x}},o.appendScriptAsync=f(function(g,v){return new Promise(function(S,x){var b=(0,o.appendScript)(g,v,S).element;!g.isInDestruct&&g.e.on(b,"error",x)})}),o.appendStyleAsync=f(function(g,v){return new Promise(function(S,x){var b=g.c.element("link");b.rel="stylesheet",b.media="all",b.crossOrigin="anonymous",!g.isInDestruct&&g.e.on(b,"load",function(){return S(b)}).on(b,"error",x),b.href=(0,d.completeUrl)(v),g.o.shadowRoot?g.o.shadowRoot.appendChild(b):g.od.body.appendChild(b)})}),o.loadNext=function(g,v,S){return S===void 0&&(S=0),(0,p.isString)(v[S])?(0,o.appendScriptAsync)(g,v[S]).then(function(){return(0,o.loadNext)(g,v,S+1)}):Promise.resolve()},o.loadNextStyle=function(g,v,S){return S===void 0&&(S=0),(0,p.isString)(v[S])?(0,o.appendStyleAsync)(g,v[S]).then(function(){return(0,o.loadNextStyle)(g,v,S+1)}):Promise.resolve()}},603:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.assert=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return f.name="AssertionError",f}return u.__extends(p,h),p}(Error);o.assert=function(h,p){if(!h)throw new d("Assertion failed: ".concat(p))}},37682:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.browser=void 0,o.browser=function(s){var u=navigator.userAgent.toLowerCase(),d=/(firefox)[\s/]([\w.]+)/.exec(u)||/(chrome)[\s/]([\w.]+)/.exec(u)||/(webkit)[\s/]([\w.]+)/.exec(u)||/(opera)(?:.*version)[\s/]([\w.]+)/.exec(u)||/(msie)[\s]([\w.]+)/.exec(u)||/(trident)\/([\w.]+)/.exec(u)||0>u.indexOf("compatible")||[];return s==="version"?d[2]:s==="webkit"?d[1]==="chrome"||d[1]==="webkit":s==="ff"?d[1]==="firefox":s==="msie"?d[1]==="trident"||d[1]==="msie":d[1]===s}},71567:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.buildQuery=void 0;var u=s(79736);o.buildQuery=function(d,h){var p=[],m=encodeURIComponent;for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)){var g=h?h+"["+f+"]":f,v=d[f];p.push((0,u.isPlainObject)(v)?(0,o.buildQuery)(v,g):m(g)+"="+m(v))}return p.join("&")}},48240:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.completeUrl=void 0,o.completeUrl=function(s){return window.location.protocol==="file:"&&/^\/\//.test(s)&&(s="https:"+s),s}},64981:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigFlatten=o.ConfigProto=void 0;var u=s(20255),d=s(7935),h=s(49781),p=s(79736),m=s(24421),f=s(24021),g=s(93166),v=s(67309);o.ConfigProto=function S(x,b,_){if(_===void 0&&(_=0),Object.getPrototypeOf(x)!==Object.prototype)return x;var w=g.Config.defaultOptions;if((0,m.isString)(x.preset)){if(w.presets[x.preset]!==void 0){var C=w.presets[x.preset];Object.keys(C).forEach(function(A){(0,f.isVoid)(x[A])&&(x[A]=C[A])})}delete x.preset}var E={};return Object.keys(x).forEach(function(A){var T=x[A],M=b?b[A]:null;E[A]=(0,p.isPlainObject)(T)&&(0,p.isPlainObject)(M)&&!(0,d.isAtom)(T)?S(T,M,_+1):_!==0&&(0,h.isArray)(T)&&!(0,d.isAtom)(T)&&(0,h.isArray)(M)?u.__spreadArray(u.__spreadArray([],u.__read(T),!1),u.__read(M.slice(T.length)),!1):T}),Object.setPrototypeOf(E,b),E},o.ConfigFlatten=function(S){return(0,v.keys)(S,!1).reduce(function(x,b){return x[b]=S[b],x},{})}},42051:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.convertMediaUrlToVideoEmbed=void 0;var u=s(64350),d=s(67285);o.convertMediaUrlToVideoEmbed=function(h,p,m){if(p===void 0&&(p=400),m===void 0&&(m=345),!(0,u.isURL)(h))return h;var f=document.createElement("a"),g=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(.+)/g;f.href=h,p||(p=400),m||(m=345);var v=f.protocol||"";switch(f.hostname){case"www.vimeo.com":case"vimeo.com":return g.test(h)?h.replace(g,'<iframe width="'+p+'" height="'+m+'" src="'+v+'//player.vimeo.com/video/$1" frameborder="0" allowfullscreen></iframe>'):h;case"youtube.com":case"www.youtube.com":case"youtu.be":case"www.youtu.be":var S=f.search?(0,d.parseQuery)(f.search):{v:f.pathname.substr(1)};return S.v?'<iframe width="'+p+'" height="'+m+'" src="'+v+"//www.youtube.com/embed/"+S.v+'" frameborder="0" allowfullscreen></iframe>':h}return h}},26911:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.clearCenterAlign=o.css=void 0;var u=s(79736),d=s(67749),h=s(49353),p=s(26596),m=s(11278);function f(g,v,S,x){if(x===void 0&&(x=!1),(0,d.isBoolean)(S)&&(x=S,S=void 0),(0,u.isPlainObject)(v)||S!==void 0){var b=function(j,P,I){(I=(0,h.normalizeCssNumericValue)(P,I))===void 0||I!=null&&f(j,P,!0)===(0,h.normalizeCssValue)(P,I)||(j.style[P]=I)};if((0,u.isPlainObject)(v))for(var _=Object.keys(v),w=0;_.length>w;w+=1)b(g,(0,p.camelCase)(_[w]),v[_[w]]);else b(g,(0,p.camelCase)(v),S);return""}var C=(0,m.kebabCase)(v),E=g.ownerDocument||document,A=!!E&&(E.defaultView||E.parentWindow),T=g.style[v],M="";return T!==void 0&&T!==""?M=T:A&&!x&&(M=A.getComputedStyle(g).getPropertyValue(C)),h.NUMBER_FIELDS_REG.test(v)&&/^[-+]?[0-9.]+px$/.test(M.toString())&&(M=parseInt(M.toString(),10)),(0,h.normalizeCssValue)(v,M)}o.css=f,o.clearCenterAlign=function(g){f(g,"display")==="block"&&f(g,"display","");var v=g.style;v.marginLeft==="auto"&&v.marginRight==="auto"&&(v.marginLeft="",v.marginRight="")}},2522:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ctrlKey=void 0,o.ctrlKey=function(s){if(typeof navigator<"u"&&navigator.userAgent.indexOf("Mac OS X")!==-1){if(s.metaKey&&!s.altKey)return!0}else if(s.ctrlKey&&!s.altKey)return!0;return!1}},63122:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.dataBind=void 0;var u=s(96574),d=new WeakMap;o.dataBind=function(h,p,m){var f=d.get(h);if(!f){d.set(h,f={});var g=null;(0,u.isViewObject)(h.j)&&(g=h.j.e),(0,u.isViewObject)(h)&&(g=h.e),g&&g.on("beforeDestruct",function(){d.delete(h)})}return m===void 0?f[p]:(f[p]=m,m)}},93351:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.defaultLanguage=void 0;var u=s(24421);o.defaultLanguage=function(d,h){return h===void 0&&(h="en"),d!=="auto"&&(0,u.isString)(d)?d:document.documentElement&&document.documentElement.lang?document.documentElement.lang:navigator.language?navigator.language.substring(0,2):h}},41579:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isAbort=o.abort=o.options=o.connection=o.error=void 0;var u=s(45339);o.error=function(d){return new TypeError(d)},o.connection=function(d){return new u.ConnectionError(d)},o.options=function(d){return new u.OptionsError(d)},o.abort=function(d){return new u.AbortError(d)},o.isAbort=function(d){return d instanceof u.AbortError}},86768:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.AbortError=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return Object.setPrototypeOf(f,p.prototype),f}return u.__extends(p,h),p}(Error);o.AbortError=d},43380:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ConnectionError=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return Object.setPrototypeOf(f,p.prototype),f}return u.__extends(p,h),p}(Error);o.ConnectionError=d},45339:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(86768),o),u.__exportStar(s(43380),o),u.__exportStar(s(47403),o)},47403:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsError=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return Object.setPrototypeOf(f,p.prototype),f}return u.__extends(p,h),p}(TypeError);o.OptionsError=d},56964:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(41579),o),u.__exportStar(s(45339),o)},7935:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.fastClone=o.markAsAtomic=o.isAtom=void 0;var u=s(42554);o.isAtom=function(d){return d&&d.isAtom},o.markAsAtomic=function(d){return Object.defineProperty(d,"isAtom",{enumerable:!1,value:!0,configurable:!1}),d},o.fastClone=function(d){return JSON.parse((0,u.stringify)(d))}},87247:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getClassName=o.keepNames=void 0;var u=s(42096);o.keepNames=new Map,o.getClassName=function(d){var h;if((0,u.isFunction)(d.className))return d.className();var p=((h=d.constructor)===null||h===void 0?void 0:h.originalConstructor)||d.constructor;if(o.keepNames.has(p))return o.keepNames.get(p);if(p.name)return p.name;var m=new RegExp(/^\s*function\s*(\S*)\s*\(/),f=p.toString().match(m);return f?f[1]:""}},69384:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.get=void 0;var u=s(20255),d=s(24421),h=s(24021);o.get=function(p,m){var f,g;if(!(0,d.isString)(p)||!p.length)return null;var v=p.split("."),S=m;try{try{for(var x=u.__values(v),b=x.next();!b.done;b=x.next()){var _=b.value;if((0,h.isVoid)(S[_]))return null;S=S[_]}}catch(w){f={error:w}}finally{try{b&&!b.done&&(g=x.return)&&g.call(x)}finally{if(f)throw f.error}}}catch{return null}return(0,h.isVoid)(S)?null:S}},6102:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.humanSizeToBytes=void 0,o.humanSizeToBytes=function(s){if(/^[0-9.]+$/.test(s.toString()))return parseFloat(s);var u=s.substr(-2,2).toUpperCase(),d=["KB","MB","GB","TB"],h=parseFloat(s.substr(0,s.length-2));return d.indexOf(u)!==-1?h*Math.pow(1024,d.indexOf(u)+1):parseInt(s,10)}},76502:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(60303),o),u.__exportStar(s(62462),o),u.__exportStar(s(52378),o),u.__exportStar(s(37682),o),u.__exportStar(s(71567),o),u.__exportStar(s(48240),o),u.__exportStar(s(64981),o),u.__exportStar(s(42051),o),u.__exportStar(s(26911),o),u.__exportStar(s(2522),o),u.__exportStar(s(63122),o),u.__exportStar(s(93351),o),u.__exportStar(s(56964),o),u.__exportStar(s(7935),o),u.__exportStar(s(69384),o),u.__exportStar(s(87247),o),u.__exportStar(s(6102),o),u.__exportStar(s(47580),o),u.__exportStar(s(67285),o),u.__exportStar(s(21498),o),u.__exportStar(s(80861),o),u.__exportStar(s(9005),o),u.__exportStar(s(54188),o),u.__exportStar(s(21518),o),u.__exportStar(s(37228),o),u.__exportStar(s(67309),o),u.__exportStar(s(22362),o)},47580:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.markDeprecated=o.cns=void 0;var u=s(20255);o.cns=console,o.markDeprecated=function(d,h,p){return h===void 0&&(h=[""]),p===void 0&&(p=null),function(){for(var m=[],f=0;arguments.length>f;f++)m[f]=arguments[f];return o.cns.warn('Method "'.concat(h[0],'" deprecated.')+(h[1]?' Use "'.concat(h[1],'" instead'):"")),d.call.apply(d,u.__spreadArray([p],u.__read(m),!1))}}},67285:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.parseQuery=void 0,o.parseQuery=function(s){for(var u={},d=s.substring(1).split("&"),h=0;d.length>h;h+=1){var p=d[h].split("=");u[decodeURIComponent(p[0])]=decodeURIComponent(p[1]||"")}return u}},21498:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.previewBox=void 0;var u=s(24421),d=s(24263),h=s(26911),p=s(67309),m=s(54188);o.previewBox=function(f,g,v,S){v===void 0&&(v="px"),S===void 0&&(S=null);var x=function(M,j){var P=[];try{(0,m.$$)("img",M.editor).forEach(function(I){var k=[(0,p.attr)(I,"width"),(0,p.attr)(I,"height"),I.src];(0,p.attr)(I,{width:I.offsetWidth+j,height:I.offsetHeight+j});var R=M.createInside.a();M.ed.body.appendChild(R),R.href=I.src,I.src=R.href,d.Dom.safeRemove(R),P.push(function(){var O;I.src=(O=k[2])!==null&&O!==void 0?O:"",(0,p.attr)(I,{width:k[0]||null,height:k[1]||null})})})}catch(I){throw P.forEach(function(k){return k()}),P.length=0,I}return P}(f,v);try{var b=f.e.fire("beforePreviewBox",g,v);if(b!=null)return b;var _=f.c.div("jodit__preview-box jodit-context");S&&S.appendChild(_),(0,h.css)(_,{position:"relative",padding:16});var w=f.value||"<div style='position: absolute;left:50%;top:50%;transform: translateX(-50%) translateY(-50%);color:#ccc;'>".concat(f.i18n("Empty"),"</div>");if(f.iframe){var C=f.create.element("iframe");(0,h.css)(C,{minWidth:800,minHeight:600,border:0}),_.appendChild(C);var E=C.contentWindow;if(E&&(f.e.fire("generateDocumentStructure.iframe",E.document,f),_=E.document.body,typeof ResizeObserver=="function")){var A=new ResizeObserver(function(M){C.style.height=E.document.body.offsetHeight+20+"px"});A.observe(E.document.body),f.e.on("beforeDestruct",function(){A.unobserve(E.document.body)})}}else(0,h.css)(_,{minWidth:1024,minHeight:600,border:0});var T=function(M,j){var P=(0,u.isString)(j)?f.c.div():j;(0,u.isString)(j)&&(P.innerHTML=j);for(var I=0;P.childNodes.length>I;I+=1){var k=P.childNodes[I];if(d.Dom.isElement(k)){for(var R=M.ownerDocument.createElement(k.nodeName),O=0;k.attributes.length>O;O+=1)(0,p.attr)(R,k.attributes[O].nodeName,k.attributes[O].nodeValue);k.childNodes.length===0||d.Dom.isTag(k,["table"])?k.nodeName==="SCRIPT"?k.textContent&&(R.textContent=k.textContent):k.innerHTML&&(R.innerHTML=k.innerHTML):T(R,k);try{M.appendChild(R)}catch{}}else try{M.appendChild(k.cloneNode(!0))}catch{}}};return T(_,w),f.e.fire("afterPreviewBox",_),_}finally{x.forEach(function(M){return M()})}}},80861:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.reset=void 0;var u=s(69384),d=s(42096),h={};o.reset=function(p){var m,f;if(!(p in h)){var g=document.createElement("iframe");try{if(g.src="about:blank",document.body.appendChild(g),!g.contentWindow)return null;var v=(0,u.get)(p,g.contentWindow),S=(0,u.get)(p.split(".").slice(0,-1).join("."),g.contentWindow);(0,d.isFunction)(v)&&(h[p]=v.bind(S))}catch{}finally{(m=g.parentNode)===null||m===void 0||m.removeChild(g)}}return(f=h[p])!==null&&f!==void 0?f:null}},9005:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.scrollIntoViewIfNeeded=o.inView=void 0;var u=s(24263);o.inView=function(d,h,p){var m=d.getBoundingClientRect(),f=d,g=m.top,v=m.height;do if(f&&f.parentNode&&((m=(f=f.parentNode).getBoundingClientRect()).bottom<g||m.top>=g+v))return!1;while(f&&f!==h&&f.parentNode);return(p.documentElement&&p.documentElement.clientHeight||0)>=g},o.scrollIntoViewIfNeeded=function(d,h,p){u.Dom.isHTMLElement(d)&&!(0,o.inView)(d,h,p)&&(h.clientHeight!==h.scrollHeight&&(h.scrollTop=d.offsetTop),(0,o.inView)(d,h,p)||d.scrollIntoView())}},54188:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.resolveElement=o.cssPath=o.refs=o.getXPathByElement=o.$$=void 0;var u=s(86893),d=s(24421),h=s(76502),p=s(24263),m=s(26596),f=s(1853),g=s(53929),v=s(45113),S=1;function x(b,_){var w;if(!/:scope/.test(b)||!u.IS_IE||_&&_.nodeType===Node.DOCUMENT_NODE)w=_.querySelectorAll(b);else{var C=_.id,E=C||"_selector_id_"+String(Math.random()).slice(2)+ ++S;b=b.replace(/:scope/g,"#"+E),!C&&_.setAttribute("id",E),w=_.parentNode.querySelectorAll(b),C||_.removeAttribute("id")}return[].slice.call(w)}o.$$=x,o.getXPathByElement=function(b,_){if(!b||b.nodeType!==Node.ELEMENT_NODE||!b.parentNode||_===b)return"";if(b.id)return"//*[@id='"+b.id+"']";var w=[].filter.call(b.parentNode.childNodes,function(C){return C.nodeName===b.nodeName});return(0,o.getXPathByElement)(b.parentNode,_)+"/"+b.nodeName.toLowerCase()+(w.length>1?"["+((0,f.toArray)(w).indexOf(b)+1)+"]":"")},o.refs=function(b){return v.Component.isInstanceOf(b,g.UIElement)&&(b=b.container),x("[ref],[data-ref]",b).reduce(function(_,w){var C=(0,h.attr)(w,"-ref");return C&&(0,d.isString)(C)&&(_[(0,m.camelCase)(C)]=w,_[C]=w),_},{})},o.cssPath=function(b){if(!p.Dom.isElement(b))return null;for(var _=[],w=b;w&&w.nodeType===Node.ELEMENT_NODE;){var C=w.nodeName.toLowerCase();if(w.id){_.unshift(C+="#"+w.id);break}var E=w,A=1;do(E=E.previousElementSibling)&&E.nodeName.toLowerCase()===C&&A++;while(E);_.unshift(C+=":nth-of-type("+A+")"),w=w.parentNode}return _.join(" > ")},o.resolveElement=function(b,_){var w=b;if((0,d.isString)(b))try{w=_.querySelector(b)}catch{throw(0,h.error)('String "'+b+'" should be valid HTML selector')}if(!w||typeof w!="object"||!p.Dom.isElement(w)||!w.cloneNode)throw(0,h.error)('Element "'+b+'" should be string or HTMLElement instance');return w}},21518:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.set=void 0;var u=s(24421),d=s(57649),h=s(49781),p=s(79736);o.set=function(m,f,g){if((0,u.isString)(m)&&m.length){for(var v=m.split("."),S=g,x=v[0],b=0;v.length-1>b;b+=1)(0,h.isArray)(S[x=v[b]])||(0,p.isPlainObject)(S[x])||(S[x]=(0,d.isNumeric)(v[b+1])?[]:{}),S=S[x];S&&(S[v[v.length-1]]=f)}}},37228:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.LimitedStack=void 0;var s=function(){function u(d){this.limit=d,this.stack=[]}return u.prototype.push=function(d){return this.stack.push(d),this.stack.length>this.limit&&this.stack.shift(),this},u.prototype.pop=function(){return this.stack.pop()},u.prototype.find=function(d){return this.stack.find(d)},u}();o.LimitedStack=s},67309:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getDataTransfer=o.memorizeExec=o.keys=o.loadImage=o.callPromise=o.markOwner=o.attr=o.call=void 0;var u=s(20255),d=s(42096),h=s(26335),p=s(24021),m=s(79736),f=s(24421),g=s(63122),v=s(26911),S=s(11278);function x(b,_,w){if(!b||!(0,d.isFunction)(b.getAttribute))return null;if(!(0,f.isString)(_))return Object.keys(_).forEach(function(A){var T=_[A];(0,m.isPlainObject)(T)&&A==="style"?(0,v.css)(b,T):(A==="className"&&(A="class"),x(b,A,T))}),null;var C=(0,S.CamelCaseToKebabCase)(_);if(/^-/.test(C)){var E=x(b,"data".concat(C));if(E)return E;C=C.substr(1)}if(w!==void 0){if(w!=null)return b.setAttribute(C,w.toString()),w.toString();b.hasAttribute(C)&&b.removeAttribute(C)}return b.getAttribute(C)}o.call=function(b){for(var _=[],w=1;arguments.length>w;w++)_[w-1]=arguments[w];return b.apply(void 0,u.__spreadArray([],u.__read(_),!1))},o.attr=x,o.markOwner=function(b,_){x(_,"data-editor_id",b.id),!_.component&&Object.defineProperty(_,"jodit",{value:b})},o.callPromise=function(b,_){return(0,h.isPromise)(b)?b.finally(_):_()},o.loadImage=function(b,_){return _.async.promise(function(w,C){var E=new Image,A=function(){_.e.off(E),C==null||C()},T=function(){_.e.off(E),w(E)};_.e.one(E,"load",T).one(E,"error",A).one(E,"abort",A),E.src=b,E.complete&&T()})},o.keys=function(b,_){if(_===void 0&&(_=!0),_)return Object.keys(b);var w=[];for(var C in b)w.push(C);return w},o.memorizeExec=function(b,_,w,C){var E,A=w.control,T="button".concat(A.command),M=(E=A.args&&A.args[0])!==null&&E!==void 0?E:(0,g.dataBind)(b,T);if((0,p.isVoid)(M))return!1;(0,g.dataBind)(b,T,M),C&&(M=C(M)),b.execCommand(A.command,!1,M??void 0)},o.getDataTransfer=function(b){if(b.clipboardData)return b.clipboardData;try{return b.dataTransfer||new DataTransfer}catch{return null}}},22362:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.val=void 0,o.val=function(s,u,d){var h=s.querySelector(u);return h?(d&&(h.value=d),h.value):""}},33286:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.init=o.initInstance=void 0;var u=s(10172),d=s(90338);function h(p,m,f,g,v){var S=f.requires;if(S!=null&&S.length&&!S.every(function(x){return g.has(x)}))return v[m]=f,!1;if((0,u.isInitable)(f))try{f.init(p)}catch{}return g.add(m),delete v[m],f.hasStyle&&(0,d.loadStyle)(p,m).catch(function(x){}),!0}o.initInstance=function(p,m,f,g,v){h(p,m,f,g,v)&&Object.keys(v).forEach(function(S){h(p,S,v[S],g,v)})},o.init=h},90338:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.loadExtras=o.loadStyle=void 0;var u=s(20255),d=s(62462),h=s(11278),p=s(93498),m=new Set;function f(g,v,S){return v=(0,h.kebabCase)(v),g.basePath+"plugins/"+v+"/"+v+"."+(S?"js":"css")}o.loadStyle=function(g,v){return u.__awaiter(this,void 0,Promise,function(){var S;return u.__generator(this,function(x){return S=f(g,v,!1),m.has(S)?[2]:(m.add(S),[2,(0,d.appendStyleAsync)(g,S)])})})},o.loadExtras=function(g,v,S,x){try{var b=S.filter(function(_){return!g.has((0,p.normalizeName)(_.name))});b.length&&function(_,w,C){w.map(function(E){var A=E.url||f(_,E.name,!0);return(0,d.appendScriptAsync)(_,A).then(C).catch(function(){return null})})}(v,b,x)}catch{}}},24342:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.makeInstance=void 0;var u=s(10172);o.makeInstance=function(d,h){try{try{return(0,u.isFunction)(h)?new h(d):h}catch{if((0,u.isFunction)(h)&&!h.prototype)return h(d)}}catch{}return null}},93498:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.normalizeName=void 0;var u=s(11278);o.normalizeName=function(d){return(0,u.kebabCase)(d).toLowerCase()}},57549:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(44540),o),u.__exportStar(s(85605),o)},13573:function(){},44540:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.PluginSystem=void 0;var u=s(20255);s(13573);var d=s(10172),h=s(12557),p=s(17332),m=s(90338),f=s(93498),g=s(24342),v=s(33286),S=function(){function x(){this.__items=new Map}return x.prototype.add=function(b,_){this.__items.set((0,f.normalizeName)(b),_),p.eventEmitter.fire("plugin:".concat(b,":ready"))},x.prototype.get=function(b){return this.__items.get((0,f.normalizeName)(b))},x.prototype.remove=function(b){this.__items.delete((0,f.normalizeName)(b))},x.prototype.__filter=function(b){var _=[];return this.__items.forEach(function(w,C){b&&!b.has(C)||_.push([C,w])}),_},x.prototype.__init=function(b){var _=this,w=function(I){return{extrasList:I.o.extraPlugins.map(function(k){return(0,d.isString)(k)?{name:k}:k}),disableList:new Set((0,h.splitArray)(I.o.disablePlugins).map(f.normalizeName)),filter:I.o.safeMode?new Set(I.o.safePluginsList):null}}(b),C=w.extrasList,E=w.disableList,A=w.filter,T=new Set,M={},j={};b.__plugins=j;var P=function(){if(!b.isInDestruct){var I=!1;_.__filter(A).forEach(function(k){var R=u.__read(k,2),O=R[0],D=R[1];if(!(E.has(O)||T.has(O)||M[O])){var L=D==null?void 0:D.requires;if(!(L&&(0,d.isArray)(L)&&L.some(function(F){return E.has(F)}))){I=!0;var B=(0,g.makeInstance)(b,D);if(!B)return T.add(O),void delete M[O];(0,v.initInstance)(b,O,B,T,M),j[O]=B}}}),I&&b.e.fire("updatePlugins")}};C&&C.length||(0,m.loadExtras)(this.__items,b,C,P),P(),function(I,k){I.e.on("beforeDestruct",function(){Object.keys(k).forEach(function(R){var O=k[R];(0,d.isDestructable)(O)&&O.destruct(I),delete k[R]}),delete I.__plugins})}(b,j)},x.prototype.wait=function(b){var _=this;return new Promise(function(w){if(_.get(b))return w();var C=function(){w(),p.eventEmitter.off("plugin:".concat(b,":ready"),C)};p.eventEmitter.on("plugin:".concat(b,":ready"),C)})},x}();o.PluginSystem=S},85605:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Plugin=void 0;var u=s(20255),d=s(56562),h=s(43441),p=s(40332),m=function(f){function g(v){var S=f.call(this,v)||this;return S.requires=[],S.buttons=[],S.hasStyle=!1,v.e.on("afterPluginSystemInit",function(){var x;(0,p.isJoditObject)(v)&&((x=S.buttons)===null||x===void 0||x.forEach(function(b){v.registerButton(b)}))}).on("afterInit",function(){S.setStatus(d.STATUSES.ready),S.afterInit(v)}).on("beforeDestruct",S.destruct),S}return u.__extends(g,f),g.prototype.className=function(){return""},g.prototype.init=function(v){},g.prototype.destruct=function(){var v,S,x;if(this.isReady){this.setStatus(d.STATUSES.beforeDestruct);var b=this.j;(0,p.isJoditObject)(b)&&((v=this.buttons)===null||v===void 0||v.forEach(function(_){b==null||b.unregisterButton(_)})),(x=(S=this.j)===null||S===void 0?void 0:S.events)===null||x===void 0||x.off("beforeDestruct",this.destruct),this.beforeDestruct(this.j),f.prototype.destruct.call(this)}},u.__decorate([h.autobind],g.prototype,"destruct",null),g}(d.ViewComponent);o.Plugin=m},9917:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Ajax=void 0;var u=s(20255),d=s(93166),h=s(40332),p=s(56964),m=s(86101),f=s(22630),g=s(43441);s(12144);var v=function(){function S(x,b){b===void 0&&(b=d.Config.prototype.defaultAjaxOptions),this.__async=new f.Async,this.__isFulfilled=!1,this.__activated=!1,this.__isDestructed=!1,this.options=(0,h.ConfigProto)(x||{},b),this.xhr=this.o.xhr?this.o.xhr():new XMLHttpRequest}return S.prototype.__buildParams=function(x,b){return(0,h.isPlainObject)(x)&&this.options.contentType&&this.options.contentType.includes("application/json")?JSON.stringify(x):(0,h.isFunction)(this.o.queryBuild)?this.o.queryBuild.call(this,x,b):(0,h.isString)(x)||x instanceof window.FormData||typeof x=="object"&&x!=null&&(0,h.isFunction)(x.append)?x:(0,h.buildQuery)(x)},Object.defineProperty(S.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),S.prototype.abort=function(){if(this.__isFulfilled)return this;try{this.__isFulfilled=!0,this.xhr.abort()}catch{}return this},S.prototype.send=function(){var x=this;this.__activated=!0;var b=this.xhr,_=this.o,w=this.prepareRequest();return this.__async.promise(function(C,E){return u.__awaiter(x,void 0,void 0,function(){var A,T,M,j,P,I=this;return u.__generator(this,function(k){switch(k.label){case 0:return A=function(){I.__isFulfilled=!0,E(p.connection("Connection error"))},b.onload=T=function(){I.__isFulfilled=!0,C(new m.Response(w,b.status,b.statusText,b.responseType?b.response:b.responseText))},b.onabort=function(){I.__isFulfilled=!0,E(p.abort("Abort connection"))},b.onerror=A,b.ontimeout=A,_.responseType&&(b.responseType=_.responseType),b.onprogress=function(R){var O,D,L=0;R.lengthComputable&&(L=R.loaded/R.total*100),(D=(O=I.options).onProgress)===null||D===void 0||D.call(O,L)},b.onreadystatechange=function(){var R,O;(O=(R=I.options).onProgress)===null||O===void 0||O.call(R,10),b.readyState===XMLHttpRequest.DONE&&(_.successStatuses.includes(b.status)?T():b.statusText&&(I.__isFulfilled=!0,E(p.connection(b.statusText))))},b.withCredentials=(P=_.withCredentials)!==null&&P!==void 0&&P,M=w.data,b.open(w.method,w.url,!0),_.contentType&&b.setRequestHeader&&b.setRequestHeader("Content-type",_.contentType),(0,h.isFunction)(j=_.headers)?[4,j.call(this)]:[3,2];case 1:j=k.sent(),k.label=2;case 2:return j&&b.setRequestHeader&&Object.keys(j).forEach(function(R){b.setRequestHeader(R,j[R])}),this.__async.setTimeout(function(){b.send(M?I.__buildParams(M):void 0)},0),[2]}})})})},S.prototype.prepareRequest=function(){if(!this.o.url)throw p.error("Need URL for AJAX request");var x=this.o.url,b=this.o.data,_=(this.o.method||"get").toLowerCase();if(_==="get"&&b&&(0,h.isPlainObject)(b)){var w=x.indexOf("?");if(w!==-1){var C=(0,h.parseQuery)(x);x=x.substring(0,w)+"?"+(0,h.buildQuery)(u.__assign(u.__assign({},C),b))}else x+="?"+(0,h.buildQuery)(this.o.data)}var E={url:x,method:_,data:b};return S.log.splice(100),S.log.push(E),E},S.prototype.destruct=function(){this.__isDestructed||(this.__isDestructed=!0,this.__activated&&!this.__isFulfilled&&(this.abort(),this.__isFulfilled=!0),this.__async.destruct())},S.log=[],u.__decorate([g.autobind],S.prototype,"destruct",null),S}();o.Ajax=v},12144:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.defaultAjaxOptions={successStatuses:[200,201,202],method:"GET",url:"",data:null,contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{"X-REQUESTED-WITH":"XMLHttpRequest"},withCredentials:!1,xhr:function(){return new XMLHttpRequest}}},30056:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(9917),o),u.__exportStar(s(86101),o)},86101:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Response=void 0;var u=s(20255),d=function(){function h(p,m,f,g){this.request=p,this.status=m,this.statusText=f,this.body=g}return Object.defineProperty(h.prototype,"url",{get:function(){return this.request.url},enumerable:!1,configurable:!0}),h.prototype.json=function(){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(p){return[2,JSON.parse(this.body)]})})},h.prototype.text=function(){return Promise.resolve(this.body)},h.prototype.blob=function(){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(p){return[2,this.body]})})},h}();o.Response=d},10109:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(287),o),u.__exportStar(s(10264),o)},287:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.moveNodeInsideStart=void 0;var u=s(64968),d=s(86893);o.moveNodeInsideStart=function(h,p,m){for(var f=u.Dom.findSibling(p,m),g=u.Dom.findSibling(p,!m);u.Dom.isElement(f)&&!u.Dom.isTag(f,d.INSEPARABLE_TAGS)&&u.Dom.isContentEditable(f,h.editor)&&(!g||!u.Dom.closest(p,u.Dom.isElement,h.editor));)m||!f.firstChild?f.appendChild(p):u.Dom.before(f.firstChild,p),f=u.Dom.sibling(p,m),g=u.Dom.sibling(p,!m)}},10264:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.moveTheNodeAlongTheEdgeOutward=void 0;var u=s(64968);o.moveTheNodeAlongTheEdgeOutward=function(d,h,p){for(var m=d;m&&m!==p;){if(u.Dom.findSibling(m,h))return;(m=m.parentElement)&&m!==p&&(h?u.Dom.before(m,d):u.Dom.after(m,d))}}},2123:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(70851),o),u.__exportStar(s(77627),o)},2047:function(){},77627:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Select=void 0;var u=s(20255),d=s(86893),h=s(86893),p=s(64968),m=s(40332),f=s(70851),g=s(43441),v=s(10109),S=(s(52378),s(10172));s(2047);var x=function(){function b(_){var w=this;this.jodit=_,_.e.on("removeMarkers",function(){w.removeMarkers()})}return Object.defineProperty(b.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),b.prototype.errorNode=function(_){if(!p.Dom.isNode(_))throw(0,m.error)("Parameter node must be instance of Node")},Object.defineProperty(b.prototype,"area",{get:function(){return this.j.editor},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"win",{get:function(){return this.j.ew},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"doc",{get:function(){return this.j.ed},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"sel",{get:function(){return this.j.o.shadowRoot&&(0,S.isFunction)(this.j.o.shadowRoot.getSelection)?this.j.o.shadowRoot.getSelection():this.win.getSelection()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"range",{get:function(){var _=this.sel;return _&&_.rangeCount?_.getRangeAt(0):this.createRange()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isInsideArea",{get:function(){var _=this.sel,w=_!=null&&_.rangeCount?_.getRangeAt(0):null;return!(!w||!p.Dom.isOrContains(this.area,w.startContainer))},enumerable:!1,configurable:!0}),b.prototype.createRange=function(_){_===void 0&&(_=!1);var w=this.doc.createRange();return _&&this.selectRange(w),w},b.prototype.remove=function(){var _=this.sel,w=this.current();if(_&&w)for(var C=0;_.rangeCount>C;C+=1)_.getRangeAt(C).deleteContents(),_.getRangeAt(C).collapse(!0)},b.prototype.clear=function(){var _,w;!((_=this.sel)===null||_===void 0)&&_.rangeCount&&((w=this.sel)===null||w===void 0||w.removeAllRanges())},b.prototype.removeNode=function(_){if(!p.Dom.isOrContains(this.j.editor,_,!0))throw(0,m.error)("Selection.removeNode can remove only editor's children");p.Dom.safeRemove(_),this.j.e.fire("afterRemoveNode",_)},b.prototype.insertCursorAtPoint=function(_,w){var C=this;this.removeMarkers();try{var E=this.createRange();return function(){if(C.doc.caretPositionFromPoint&&(A=C.doc.caretPositionFromPoint(_,w)))E.setStart(A.offsetNode,A.offset);else if(C.doc.caretRangeFromPoint){var A=C.doc.caretRangeFromPoint(_,w);E.setStart(A.startContainer,A.startOffset)}}(),E.collapse(!0),this.selectRange(E),!0}catch{}return!1},Object.defineProperty(b.prototype,"hasMarkers",{get:function(){return!!this.markers.length},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"markers",{get:function(){return(0,m.$$)("span[data-"+d.MARKER_CLASS+"]",this.area)},enumerable:!1,configurable:!0}),b.prototype.removeMarkers=function(){p.Dom.safeRemove.apply(null,this.markers)},b.prototype.marker=function(_,w){_===void 0&&(_=!1);var C=null;w&&(C=w.cloneRange()).collapse(_);var E=this.j.createInside.span();return E.id=d.MARKER_CLASS+"_"+Number(new Date)+"_"+String(Math.random()).slice(2),E.style.lineHeight="0",E.style.display="none",p.Dom.markTemporary(E),(0,m.attr)(E,"data-"+d.MARKER_CLASS,_?"start":"end"),E.appendChild(this.j.createInside.text(d.INVISIBLE_SPACE)),C&&p.Dom.isOrContains(this.area,_?C.startContainer:C.endContainer)&&C.insertNode(E),E},b.prototype.restore=function(){var _=!1,w=function(T){return"span[data-".concat(d.MARKER_CLASS,"=").concat(T?"start":"end","]")},C=this.area.querySelector(w(!0)),E=this.area.querySelector(w(!1));if(C){if(_=this.createRange(),E)_.setStartAfter(C),p.Dom.safeRemove(C),_.setEndBefore(E),p.Dom.safeRemove(E);else{var A=C.previousSibling;p.Dom.isText(A)?_.setStart(A,A.nodeValue?A.nodeValue.length:0):_.setStartBefore(C),p.Dom.safeRemove(C),_.collapse(!0)}_&&this.selectRange(_)}},b.prototype.save=function(_){if(_===void 0&&(_=!1),this.hasMarkers)return[];var w=this.sel;if(!w||!w.rangeCount)return[];for(var C=[],E=w.rangeCount,A=[],T=0;E>T;T+=1)if(A[T]=w.getRangeAt(T),A[T].collapsed){var M=this.marker(!0,A[T]);C[T]={startId:M.id,collapsed:!0,startMarker:M.outerHTML}}else{M=this.marker(!0,A[T]);var j=this.marker(!1,A[T]);C[T]={startId:M.id,endId:j.id,collapsed:!1,startMarker:M.outerHTML,endMarker:j.outerHTML}}if(!_)for(w.removeAllRanges(),T=E-1;T>=0;--T){var P=this.doc.getElementById(C[T].startId);if(P){if(C[T].collapsed)A[T].setStartAfter(P),A[T].collapse(!0);else if(A[T].setStartBefore(P),C[T].endId){var I=this.doc.getElementById(C[T].endId);I&&A[T].setEndAfter(I)}}try{w.addRange(A[T].cloneRange())}catch{}}return C},b.prototype.focus=function(_){var w,C;if(_===void 0&&(_={preventScroll:!0}),!this.isFocused()){var E=(0,m.getScrollParent)(this.j.container),A=E==null?void 0:E.scrollTop;this.j.iframe&&this.doc.readyState==="complete"&&this.j.iframe.focus(_),this.win.focus(),this.area.focus(_),A&&(E!=null&&E.scrollTo)&&E.scrollTo(0,A);var T=this.sel,M=T!=null&&T.rangeCount?T==null?void 0:T.getRangeAt(0):null;if(!M||!p.Dom.isOrContains(this.area,M.startContainer)){var j=this.createRange();j.setStart(this.area,0),j.collapse(!0),this.selectRange(j,!1)}return this.j.editorIsActive||(C=(w=this.j)===null||w===void 0?void 0:w.events)===null||C===void 0||C.fire("focus"),!0}return!1},b.prototype.isCollapsed=function(){for(var _=this.sel,w=0;_&&_.rangeCount>w;w+=1)if(!_.getRangeAt(w).collapsed)return!1;return!0},b.prototype.isFocused=function(){return this.doc.hasFocus&&this.doc.hasFocus()&&this.area===this.doc.activeElement},b.prototype.current=function(_){if(_===void 0&&(_=!0),this.j.getRealMode()===d.MODE_WYSIWYG){var w=this.sel;if(!w||w.rangeCount===0)return null;var C=w.getRangeAt(0),E=C.startContainer,A=!1,T=function(I){return A?I.lastChild:I.firstChild};if(p.Dom.isTag(E,"br")&&w.isCollapsed)return E;if(!p.Dom.isText(E)){if((E=C.startContainer.childNodes[C.startOffset])||(E=C.startContainer.childNodes[C.startOffset-1],A=!0),E&&w.isCollapsed&&!p.Dom.isText(E)){if(!A&&p.Dom.isText(E.previousSibling))E=E.previousSibling;else if(_)for(var M=T(E);M;){if(M&&p.Dom.isText(M)){E=M;break}M=T(M)}}if(E&&!w.isCollapsed&&!p.Dom.isText(E)){var j=E,P=E;do j=j.firstChild,P=P.lastChild;while(j&&P&&!p.Dom.isText(j));j===P&&j&&p.Dom.isText(j)&&(E=j)}}if(E&&p.Dom.isOrContains(this.area,E))return E}return null},b.prototype.insertNode=function(_,w,C){var E=this;w===void 0&&(w=!0),C===void 0&&(C=!0),this.errorNode(_),this.j.e.fire("safeHTML",_),!this.isFocused()&&this.j.isEditorMode()&&(this.focus(),this.restore());var A=this.sel;this.j.history.snapshot.transaction(function(){var T;if(E.isCollapsed()||E.j.execCommand("Delete"),E.j.e.fire("beforeInsertNode",_),A&&A.rangeCount){var M=A.getRangeAt(0);p.Dom.isOrContains(E.area,M.commonAncestorContainer)?p.Dom.isTag(M.startContainer,h.INSEPARABLE_TAGS)&&M.collapsed?(T=M.startContainer.parentNode)===null||T===void 0||T.insertBefore(_,M.startContainer):p.Dom.safeInsertNode(M,_):E.area.appendChild(_)}else E.area.appendChild(_);w&&(_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.lastChild&&E.setCursorAfter(_.lastChild):E.setCursorAfter(_))}),C&&this.j.events&&this.j.__imdSynchronizeValues(),this.j.events&&this.j.e.fire("afterInsertNode",_)},b.prototype.insertHTML=function(_,w){if(w===void 0&&(w=!0),_!==""){var C,E=this.j.createInside.div(),A=this.j.createInside.fragment();if(!this.isFocused()&&this.j.isEditorMode()&&(this.focus(),this.restore()),p.Dom.isNode(_)?E.appendChild(_):E.innerHTML=_.toString(),(this.j.isEditorMode()||this.j.e.fire("insertHTML",E.innerHTML)!==!1)&&(C=E.lastChild)){for(;E.firstChild;)C=E.firstChild,A.appendChild(E.firstChild);this.insertNode(A.firstChild&&A.firstChild===A.lastChild?A.lastChild:A,!1,!1),w&&(C?this.setCursorAfter(C):this.setCursorIn(A)),this.j.__imdSynchronizeValues()}}},b.prototype.insertImage=function(_,w,C){w===void 0&&(w=null),C===void 0&&(C=null);var E=(0,S.isString)(_)?this.j.createInside.element("img"):_;if((0,S.isString)(_)&&E.setAttribute("src",_),C!=null){var A=C.toString();A&&A!=="auto"&&0>String(A).indexOf("px")&&0>String(A).indexOf("%")&&(A+="px"),(0,m.call)(this.j.o.resizer.forImageChangeAttributes?m.attr:m.css,E,"width",A)}w&&typeof w=="object"&&(0,m.css)(E,w);var T=function(){(E.offsetHeight>E.naturalHeight||E.offsetWidth>E.naturalWidth)&&(E.style.width="",E.style.height=""),E.removeEventListener("load",T)};this.j.e.on(E,"load",T),E.complete&&T(),this.insertNode(E),this.j.e.fire("afterInsertImage",E)},b.prototype.eachSelection=function(_){var w,C=this,E=this.sel;if(E&&E.rangeCount){var A=E.getRangeAt(0),T=A.commonAncestorContainer;p.Dom.isHTMLElement(T)||(T=T.parentElement);var M=[],j=A.startOffset,P=T.childNodes.length,I=A.startContainer===this.area?T.childNodes[P>j?j:P-1]:A.startContainer,k=A.endContainer===this.area?T.childNodes[A.endOffset-1]:A.endContainer;p.Dom.isText(I)&&I===A.startContainer&&A.startOffset===((w=I.nodeValue)===null||w===void 0?void 0:w.length)&&I.nextSibling&&(I=I.nextSibling),p.Dom.isText(k)&&k===A.endContainer&&A.endOffset===0&&k.previousSibling&&(k=k.previousSibling);var R=function(D){!D||D===T||p.Dom.isEmptyTextNode(D)||(0,S.isMarker)(D)||M.push(D)};R(I),I!==k&&p.Dom.isOrContains(T,I,!0)&&p.Dom.find(I,function(D){return R(D),D===k||D&&D.contains&&D.contains(k)},T,!0,!1);var O=function(D){if(p.Dom.isOrContains(C.j.editor,D,!0)){if(D.nodeName.match(/^(UL|OL)$/))return(0,m.toArray)(D.childNodes).forEach(O);if(p.Dom.isTag(D,"li"))if(D.firstChild)D=D.firstChild;else{var L=C.j.createInside.text(h.INVISIBLE_SPACE);D.appendChild(L),D=L}_(D)}};M.length===0&&p.Dom.isEmptyTextNode(I)&&M.push(I),M.length===0&&I.firstChild&&M.push(I.firstChild),M.forEach(O)}},b.prototype.cursorInTheEdge=function(_,w,C){var E,A,T=this;C===void 0&&(C=null);var M=!_,j=(E=this.sel)===null||E===void 0?void 0:E.getRangeAt(0);if(C!=null||(C=this.current(!1)),!j||!C||!p.Dom.isOrContains(w,C,!0))return null;var P=_?j.startContainer:j.endContainer,I=_?j.startOffset:j.endOffset,k=function(F){return!!(F&&!p.Dom.isTag(F,"br")&&!p.Dom.isEmptyTextNode(F)&&!p.Dom.isTemporary(F)&&!(p.Dom.isElement(F)&&T.j.e.fire("isInvisibleForCursor",F)===!0))};if(p.Dom.isText(P)){var R=!((A=P.nodeValue)===null||A===void 0)&&A.length?P.nodeValue:"";if(M&&R.replace((0,h.INVISIBLE_SPACE_REG_EXP_END)(),"").length>I)return!1;var O=(0,h.INVISIBLE_SPACE_REG_EXP_START)().exec(R);if(_&&(O&&I>O[0].length||!O&&I>0))return!1}else{var D=(0,m.toArray)(P.childNodes);if(M){if(D.slice(I).some(k))return!1}else if(D.slice(0,I).some(k))return!1}for(var L=C;L&&L!==w;){var B=p.Dom.sibling(L,_);if(B){if((L=B)&&k(L))return!1}else L=L.parentNode}return!0},b.prototype.cursorOnTheLeft=function(_,w){return this.cursorInTheEdge(!0,_,w)},b.prototype.cursorOnTheRight=function(_,w){return this.cursorInTheEdge(!1,_,w)},b.prototype.setCursorAfter=function(_){return this.setCursorNearWith(_,!1)},b.prototype.setCursorBefore=function(_){return this.setCursorNearWith(_,!0)},b.prototype.setCursorNearWith=function(_,w){var C,E,A=this;if(this.errorNode(_),!p.Dom.up(_,function(j){return j===A.area||j&&j.parentNode===A.area},this.area))throw(0,m.error)("Node element must be in editor");var T=this.createRange(),M=null;return p.Dom.isText(_)?w?T.setStart(_,0):T.setEnd(_,(E=(C=_.nodeValue)===null||C===void 0?void 0:C.length)!==null&&E!==void 0?E:0):(M=this.j.createInside.text(d.INVISIBLE_SPACE),w?T.setStartBefore(_):T.setEndAfter(_),T.collapse(w),p.Dom.safeInsertNode(T,M),T.selectNode(M)),T.collapse(w),this.selectRange(T),M},b.prototype.setCursorIn=function(_,w){var C=this;if(w===void 0&&(w=!1),this.errorNode(_),!p.Dom.up(_,function(j){return j===C.area||j&&j.parentNode===C.area},this.area))throw(0,m.error)("Node element must be in editor");var E=this.createRange(),A=_,T=_;do{if(p.Dom.isText(A))break;T=A,A=w?A.firstChild:A.lastChild}while(A);if(!A){var M=this.j.createInside.text(d.INVISIBLE_SPACE);/^(img|br|input)$/i.test(T.nodeName)?A=T:(T.appendChild(M),T=M)}return E.selectNodeContents(A||T),E.collapse(w),this.selectRange(E),T},b.prototype.selectRange=function(_,w){w===void 0&&(w=!0);var C=this.sel;return w&&!this.isFocused()&&this.focus(),C&&(C.removeAllRanges(),C.addRange(_)),this.j.e.fire("changeSelection"),this},b.prototype.select=function(_,w){var C=this;if(w===void 0&&(w=!1),this.errorNode(_),!p.Dom.up(_,function(A){return A===C.area||A&&A.parentNode===C.area},this.area))throw(0,m.error)("Node element must be in editor");var E=this.createRange();return E[w?"selectNodeContents":"selectNode"](_),this.selectRange(E)},Object.defineProperty(b.prototype,"html",{get:function(){var _=this.sel;if(_&&_.rangeCount>0){var w=_.getRangeAt(0).cloneContents(),C=this.j.createInside.div();return C.appendChild(w),C.innerHTML}return""},enumerable:!1,configurable:!0}),b.prototype.wrapInTagGen=function(){var _,w,C,E,A,T,M,j,P,I,k;return u.__generator(this,function(R){switch(R.label){case 0:return this.isCollapsed()?(T=this.jodit.createInside.element("font",h.INVISIBLE_SPACE),this.insertNode(T,!1,!1),_=u.__read(this.markers,1),(w=_[0])?T.appendChild(w):(this.setCursorIn(T),this.save()),[4,T]):[3,2];case 1:return R.sent(),p.Dom.unwrap(T),[2];case 2:(0,m.$$)("*[style*=font-size]",this.area).forEach(function(O){(0,m.attr)(O,"data-font-size",O.style.fontSize.toString()),O.style.removeProperty("font-size")}),this.isCollapsed()?(T=this.j.createInside.element("font"),(0,m.attr)(T,"size",7),this.insertNode(T,!1,!1)):this.j.nativeExecCommand("fontsize",!1,"7"),(0,m.$$)("*[data-font-size]",this.area).forEach(function(O){var D=(0,m.attr)(O,"data-font-size");D&&(O.style.fontSize=D,(0,m.attr)(O,"data-font-size",null))}),C=(0,m.$$)('font[size="7"]',this.area),R.label=3;case 3:R.trys.push([3,8,9,10]),E=u.__values(C),A=E.next(),R.label=4;case 4:return A.done?[3,7]:(j=(T=A.value).lastChild,(M=T.firstChild)&&M===j&&(0,S.isMarker)(M)?(p.Dom.unwrap(T),[3,6]):(M&&(0,S.isMarker)(M)&&p.Dom.before(T,M),j&&(0,S.isMarker)(j)&&p.Dom.after(T,j),[4,T]));case 5:R.sent(),p.Dom.unwrap(T),R.label=6;case 6:return A=E.next(),[3,4];case 7:return[3,10];case 8:return P=R.sent(),I={error:P},[3,10];case 9:try{A&&!A.done&&(k=E.return)&&k.call(E)}finally{if(I)throw I.error}return[7];case 10:return[2]}})},b.prototype.wrapInTag=function(_){var w,C,E=[];try{for(var A=u.__values(this.wrapInTagGen()),T=A.next();!T.done;T=A.next()){var M=T.value;try{if(M.firstChild&&M.firstChild===M.lastChild&&(0,S.isMarker)(M.firstChild))continue;(0,S.isFunction)(_)?_(M):E.push(p.Dom.replace(M,_,this.j.createInside))}finally{var j=M.parentNode;j&&(p.Dom.unwrap(M),p.Dom.isEmpty(j)&&p.Dom.unwrap(j))}}}catch(P){w={error:P}}finally{try{T&&!T.done&&(C=A.return)&&C.call(A)}finally{if(w)throw w.error}}return E},b.prototype.commitStyle=function(_){new f.CommitStyle(_).apply(this.j)},b.prototype.applyStyle=function(_,w){w===void 0&&(w={}),this.commitStyle(u.__assign({style:_},w))},b.prototype.splitSelection=function(_,w){if(!this.isCollapsed())return null;var C=this.createRange(),E=this.range;C.setStartBefore(_);var A=this.cursorOnTheRight(_,w),T=this.cursorOnTheLeft(_,w),M=this.j.createInside.element("br"),j=this.j.createInside.fake(),P=j.cloneNode();try{if(A||T){w?p.Dom.before(w,M):p.Dom.safeInsertNode(E,M);var I=function(L,B){for(var F=B(L);F;){var H=B(F);if(!F||!p.Dom.isTag(F,"br")&&!p.Dom.isEmptyTextNode(F))break;p.Dom.safeRemove(F),F=H}};I(M,function(L){return L.nextSibling}),I(M,function(L){return L.previousSibling}),p.Dom.after(M,P),p.Dom.before(M,j),A?(C.setEndBefore(M),E.setEndBefore(M)):(C.setEndAfter(M),E.setEndAfter(M))}else C.setEnd(E.startContainer,E.startOffset);var k=C.extractContents(),R=function(L){return p.Dom.each(L,function(B){return p.Dom.isEmptyTextNode(B)&&p.Dom.safeRemove(B)})};try{if(R(k),R(_),_.parentNode.insertBefore(k,_),!w&&A&&(M==null?void 0:M.parentNode)){var O=this.createRange();O.setStartBefore(M),this.selectRange(O)}}catch{}var D=function(L){var B,F,H;((B=L==null?void 0:L.parentNode)===null||B===void 0?void 0:B.firstChild)===((F=L==null?void 0:L.parentNode)===null||F===void 0?void 0:F.lastChild)&&((H=L==null?void 0:L.parentNode)===null||H===void 0||H.appendChild(M.cloneNode()))};D(j),D(P)}finally{p.Dom.safeRemove(j),p.Dom.safeRemove(P)}return _.previousElementSibling},b.prototype.expandSelection=function(){var _=this;if(this.isCollapsed())return this;var w=this.range,C=w.cloneRange();if(!p.Dom.isOrContains(this.j.editor,w.commonAncestorContainer,!0))return this;var E=function(O){var D=_.j.createInside.fake(),L=w.cloneRange();return L.collapse(O),p.Dom.safeInsertNode(L,D),(0,v.moveTheNodeAlongTheEdgeOutward)(D,O,_.j.editor),D},A=E(!0),T=E(!1);C.setStartAfter(A),C.setEndBefore(T);var M=p.Dom.findSibling(A,!1),j=p.Dom.findSibling(T,!0);if(M!==j){var P=p.Dom.isElement(M)&&p.Dom.isOrContains(M,T),I=!P&&p.Dom.isElement(j)&&p.Dom.isOrContains(j,A);if(P||I){for(var k=P?M:j,R=k;p.Dom.isElement(k);)(k=P?k.firstElementChild:k.lastElementChild)&&p.Dom.isOrContains(k,P?T:A)&&(R=k);P?C.setStart(R,0):C.setEnd(R,R.childNodes.length)}}return this.selectRange(C),p.Dom.safeRemove(A,T),this},u.__decorate([g.autobind],b.prototype,"createRange",null),u.__decorate([g.autobind],b.prototype,"focus",null),u.__decorate([g.autobind],b.prototype,"setCursorAfter",null),u.__decorate([g.autobind],b.prototype,"setCursorBefore",null),u.__decorate([g.autobind],b.prototype,"setCursorIn",null),b}();o.Select=x},77846:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.extractSelectedPart=void 0;var u=s(67309),d=s(33941),h=s(24263),p=s(37204);function m(f,g,v){var S=g.extractContents();S.textContent&&(0,d.trim)(S.textContent).length||!S.firstChild||h.Dom.unwrap(S.firstChild),f.parentNode&&(0,u.call)(v?h.Dom.before:h.Dom.after,f,S)}o.extractSelectedPart=function(f,g,v){var S=v.s.createRange(),x=(0,p.isMarker)(g.previousSibling)?g.previousSibling:g;S.setStartBefore(f),S.setEndBefore(x),m(f,S,!0);var b=(0,p.isMarker)(g.nextSibling)?g.nextSibling:g;S.setStartAfter(b),S.setEndAfter(f),m(f,S,!1)}},95901:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.FiniteStateMachine=void 0,s(24421),s(603);var u=function(){function d(h,p){this.transitions=p,this.silent=!0,this.__previewsStates=new Set,this.setState(h)}return d.prototype.setState=function(h){this.__previewsStates.add(h),this.__state=h},d.prototype.getState=function(){return this.__state},d.prototype.disableSilent=function(){this.silent=!1},d.prototype.dispatch=function(h,p){var m=this.transitions[this.getState()][h];if(m){var f=m.call(this,p);return this.setState(f.next),f}throw new Error("invalid action: ".concat(this.getState(),".").concat(h.toString()))},d}();o.FiniteStateMachine=u},65774:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getSuitChild=void 0;var u=s(24263),d=s(63150),h=s(74477);o.getSuitChild=function(p,m){for(var f=m.firstChild;f&&!(0,d.isNormalNode)(f);)if(!(f=f.nextSibling))return null;return f&&!u.Dom.next(f,d.isNormalNode,m)&&(0,h.isSuitElement)(p,f,!1)?f:null}},66277:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getSuitParent=void 0;var u=s(24263),d=s(63150),h=s(74477);o.getSuitParent=function p(m,f,g){var v=f.parentNode;return v===g||!u.Dom.isHTMLElement(v)||u.Dom.next(f,d.isNormalNode,v)||u.Dom.prev(f,d.isNormalNode,v)?null:m.isElementCommit&&m.elementIsBlock&&!u.Dom.isBlock(v)?p(m,v,g):!(0,h.isSuitElement)(m,v,!1)||u.Dom.isBlock(v)&&!m.elementIsBlock?m.isElementCommit&&!u.Dom.isBlock(v)?p(m,v,g):null:v}},18387:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.hasSameStyleKeys=o.hasSameStyle=void 0;var u=s(26911),d=s(24021),h=s(49353),p=s(24263);s(52378),o.hasSameStyle=function(m,f){return!!(!p.Dom.isTag(m,"font")&&p.Dom.isHTMLElement(m)&&Object.keys(f).every(function(g){var v=(0,u.css)(m,g,!0);return v===""&&(f[g]===""||f[g]==null)||!(0,d.isVoid)(v)&&v!==""&&!(0,d.isVoid)(f[g])&&(0,h.normalizeCssValue)(g,f[g]).toString().toLowerCase()===v.toString().toLowerCase()}))},document.createElement("div").style.color="red",o.hasSameStyleKeys=function(m,f){return!!(!p.Dom.isTag(m,"font")&&p.Dom.isHTMLElement(m)&&Object.keys(f).every(function(g){var v=(0,u.css)(m,g,!0);return!(0,d.isVoid)(v)}))}},66162:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(93217),o),u.__exportStar(s(11651),o),u.__exportStar(s(29271),o),u.__exportStar(s(18387),o),u.__exportStar(s(77846),o),u.__exportStar(s(95901),o),u.__exportStar(s(65774),o),u.__exportStar(s(66277),o),u.__exportStar(s(76991),o),u.__exportStar(s(47508),o),u.__exportStar(s(63150),o),u.__exportStar(s(74477),o),u.__exportStar(s(26707),o),u.__exportStar(s(8298),o),u.__exportStar(s(6278),o)},76991:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isInsideInvisibleElement=void 0;var u=s(24263);o.isInsideInvisibleElement=function(d,h){return!!u.Dom.closest(d,["style","script"],h)}},63150:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isNormalNode=void 0;var u=s(24263),d=s(37204);o.isNormalNode=function(h){return!!(h&&!u.Dom.isEmptyTextNode(h)&&!u.Dom.isTemporary(h)&&!(0,d.isMarker)(h))}},47508:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.elementsEqualAttributes=o.isSameAttributes=void 0;var u=s(76502),d=s(16492),h=(s(52378),s(18387));o.isSameAttributes=function(p,m){return!p.attributes.length&&!(0,d.size)(m)||!(0,d.size)(m)||Object.keys(m).every(function(f){return f==="class"?p.classList.contains(m[f]):f==="style"?(0,h.hasSameStyle)(p,m[f]):(0,u.attr)(p,f)===m[f]})},o.elementsEqualAttributes=function(p,m){return p.attributes.length===m.attributes.length&&Array.from(p.attributes).every(function(f){return m.hasAttribute(f.name)&&m.getAttribute(f.name)===f.value})}},74477:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isSameStyleChild=o.findSuitClosest=o.isSuitElement=void 0;var u=s(24263),d=s(63150),h=s(18387);function p(m,f,g){var v;if(!f)return!1;var S=m.element,x=m.elementIsDefault,b=m.options,_=!!(!((v=b.attributes)===null||v===void 0)&&v.style&&(0,h.hasSameStyle)(f,b.attributes.style)),w=f.nodeName.toLowerCase()===S||u.Dom.isTag(f,["ul","ol"])&&m.elementIsList;return!((x&&g||!w)&&(!_||!(0,d.isNormalNode)(f)||m.elementIsList))||!!(!w&&!g&&x&&u.Dom.isInlineBlock(f))}o.isSuitElement=p,o.findSuitClosest=function(m,f,g){return u.Dom.closest(f,function(v){return p(m,v,!0)},g)},o.isSameStyleChild=function(m,f){var g,v,S=m.element,x=m.options;if(!f||!(0,d.isNormalNode)(f))return!1;var b=f.nodeName.toLowerCase()===S,_=!!(!((g=x.attributes)===null||g===void 0)&&g.style&&(0,h.hasSameStyleKeys)(f,(v=x.attributes)===null||v===void 0?void 0:v.style));return b&&_}},11651:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.toggleOrderedList=void 0;var u=s(24263),d=(s(52378),s(77846)),h=s(70851),p=s(93217),m=s(66162);function f(g,v,S,x,b){return x.e.fire("".concat(h._PREFIX,"BeforeUnwrapList"),g,v,b)||((0,d.extractSelectedPart)(v,S,x),u.Dom.unwrap(S.parentElement),u.Dom.replace(S,x.o.enter,x.createInside))}o.toggleOrderedList=function(g,v,S,x){if(!v)return x;var b=v.parentElement;if(!b)return x;var _=S.e.fire("".concat(h._PREFIX,"BeforeToggleList"),x,g,b);if(_!==void 0)return _;var w=S.e.fire.bind(S.e,"".concat(h._PREFIX,"AfterToggleList"));if(x!==h.UNWRAP){var C=(0,p.toggleAttributes)(g,v.parentElement,S,h.INITIAL,!0)===h.CHANGE;if(x===h.REPLACE||C||b.tagName.toLowerCase()!==g.element){var E=f(h.REPLACE,b,v,S,g),A=(0,m.wrapList)(g,E,S);return w(h.REPLACE,A,g),h.REPLACE}}var T=f(h.UNWRAP,b,v,S,g);return w(h.UNWRAP,T,g),h.UNWRAP}},29271:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.wrapList=void 0;var u=s(64968),d=s(70851),h=s(66162);o.wrapList=function(p,m,f){var g=f.e.fire("".concat(d._PREFIX,"BeforeWrapList"),d.REPLACE,m,p),v=g??u.Dom.replace(m,"li",f.createInside),S=v.previousElementSibling,x=v.nextElementSibling,b=u.Dom.isTag(S,p.element)?S:null;return b!=null||(b=u.Dom.isTag(x,p.element)?x:null),u.Dom.isTag(b,["ul","ol"])&&(0,h.isSameAttributes)(b,p.options.attributes)||(b=f.createInside.element(p.element),(0,h.toggleAttributes)(p,b,f,d.INITIAL),u.Dom.before(v,b)),S===b?u.Dom.append(b,v):u.Dom.prepend(b,v),u.Dom.isTag(b.nextElementSibling,p.element)&&(0,h.elementsEqualAttributes)(b,b.nextElementSibling)&&(u.Dom.append(b,Array.from(b.nextElementSibling.childNodes)),u.Dom.safeRemove(b.nextElementSibling)),f.e.fire("".concat(d._PREFIX,"AfterWrapList"),d.WRAP,b,p),b}},93217:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.toggleAttributes=void 0;var u=s(76502),d=s(26911),h=s(63122),p=s(11278),m=s(49353),f=s(16492),g=s(24263),v=s(70851),S=s(17332),x=(s(10172),"toggleAttributes");function b(_,w,C){return(0,u.attr)(w,"style")||((0,u.attr)(w,"style",null),w.tagName.toLowerCase()===_.defaultTag&&(g.Dom.unwrap(w),C=v.UNWRAP)),C}o.toggleAttributes=function(_,w,C,E,A){if(A===void 0&&(A=!1),!A&&_.isApplied(w,x))return E;!A&&_.setApplied(w,x);var T=_.options.attributes;return T&&(0,f.size)(T)>0&&Object.keys(T).forEach(function(M){var j=T[M];switch(M){case"style":E=function(P,I,k,R,O,D){return Object.keys(k).forEach(function(L){var B=R.style.getPropertyValue((0,p.kebabCase)(L)),F=k[L];if(B!==""||F!=null){if(function(H,ee,U){var X=H.create.element(ee.tagName.toLowerCase());X.style.cssText=ee.style.cssText,function(ie){var Q;if((0,h.dataBind)(ie,"shadowRoot")!==void 0)return(0,h.dataBind)(ie,"shadowRoot");var ae=(0,S.getContainer)(ie),K=document.createElement("iframe");(0,d.css)(K,{width:0,height:0,position:"absolute",border:0}),K.src="about:blank",ae.appendChild(K);var te=(Q=K.contentWindow)===null||Q===void 0?void 0:Q.document,ne=te?te.body:ie.od.body;return(0,h.dataBind)(ie,"shadowRoot",ne),ne}(H).appendChild(X);var W=(0,d.css)(X,U);return g.Dom.safeRemove(X),W}(I,R,L)===(0,m.normalizeCssValue)(L,F))return B?(!O&&(0,d.css)(R,L,null),void(D=b(P,R,D=v.UNSET))):void 0;D=v.CHANGE,O||((0,d.css)(R,L,F),D=b(P,R,D))}}),D}(_,C,j,w,A,E);break;case"class":E=function(P,I,k,R,O){var D=P.e.fire.bind(P.e,"".concat(v._PREFIX,"AfterToggleAttribute"));return k.classList.contains(I.toString())?(R=v.UNSET,O||(k.classList.remove(I),k.classList.length===0&&((0,u.attr)(k,"class",null),D(R,k,"class",null)))):(R=v.CHANGE,O||(k.classList.add(I),D(R,k,"class",I))),R}(C,j,w,E,A);break;default:E=function(P,I,k,R,O,D){var L=P.e.fire.bind(P.e,"".concat(v._PREFIX,"AfterToggleAttribute"));return(0,u.attr)(k,R)===I?(!O&&(0,u.attr)(k,R,null),D=v.UNSET,!O&&L(D,k,R,I),D):(D=v.CHANGE,O||((0,u.attr)(k,R,I),L(D,k,R,I)),D)}(C,j,w,M,A,E)}}),E}},26707:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.unwrapChildren=void 0;var u=s(24263),d=s(40332),h=s(18387),p=s(74477);o.unwrapChildren=function(m,f){var g,v,S=[],x=[],b=(g=m.options.attributes)===null||g===void 0?void 0:g.style;if(f.firstChild)for(var _=u.Dom.eachGen(f),w=_.next(),C=function(){var E=w.value;!(0,p.isSuitElement)(m,E,!0)||b&&!(0,h.hasSameStyleKeys)(E,b)?b&&(0,p.isSameStyleChild)(m,E)?(v===void 0&&(v=!1),x.push(function(){(0,d.css)(E,Object.keys(b).reduce(function(A,T){return A[T]=null,A},{})),(0,d.attr)(E,"style")||(0,d.attr)(E,"style",null),(0,d.attr)(E,"style")||E.nodeName.toLowerCase()!==m.element||S.push(E)})):u.Dom.isEmptyTextNode(E)||v===void 0&&(v=!1):(v===void 0&&(v=!0),S.push(E)),w=_.next()};!w.done;)C();return x.forEach(function(E){return E()}),S.forEach(u.Dom.unwrap),!!v}},6278:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.wrapUnwrappedText=void 0;var u=s(24263),d=s(37204);o.wrapUnwrappedText=function(h,p,m){var f=m.editor,g=m.createInside,v=function(C,E){E===void 0&&(E="previousSibling");for(var A=C,T=C;T&&!(0,d.isMarker)(T)&&!u.Dom.isTag(T,m.o.enter)&&(A=T,T=T[E]?T[E]:T.parentNode&&!u.Dom.isBlock(T.parentNode)&&T.parentNode!==f?T.parentNode:null,!u.Dom.isBlock(T)););return A},S=v(p),x=v(p,"nextSibling"),b=m.s.createRange();b.setStartBefore(S),b.setEndAfter(x);var _=b.extractContents(),w=g.element(h.element);return w.appendChild(_),u.Dom.safeInsertNode(b,w),h.elementIsBlock&&u.Dom.isEmpty(w)&&!u.Dom.isTag(w.firstElementChild,"br")&&w.appendChild(g.element("br")),w}},8298:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.wrap=void 0;var u=s(64968),d=s(6278),h=s(67309),p=s(29271);o.wrap=function(m,f,g){var v=function(S,x,b){return S.elementIsBlock?u.Dom.up(x,function(_){return u.Dom.isBlock(_)&&!u.Dom.isTag(_,["td","th","tr","tbody","table","li","ul","ol"])},b.editor)||(0,d.wrapUnwrappedText)(S,x,b):((0,h.attr)(x,"size",null),x)}(m,f,g);return m.elementIsList?(0,p.wrapList)(m,v,g):u.Dom.replace(v,m.element,g.createInside,!0)}},3097:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ApplyStyle=void 0;var u=s(74504),d=s(66162),h=s(33090),p=s(70851);o.ApplyStyle=function(m,f){var g=m.s,v=m.editor;g.save(),(0,u.normalizeNode)(v.firstChild);for(var S=m.s.wrapInTagGen(),x=S.next(),b={mode:p.INITIAL,element:x.value,next:h.states.START,jodit:m,style:f};x&&!x.done;){var _=new d.FiniteStateMachine(h.states.START,h.transactions);for(b.element=x.value;_.getState()!==h.states.END;)b=_.dispatch("exec",b);x=S.next()}g.restore()}},70851:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.CommitStyle=o._PREFIX=o.REPLACE=o.INITIAL=o.UNSET=o.CHANGE=o.UNWRAP=o.WRAP=void 0;var u=s(86893),d=s(26596),h=s(3097);o.WRAP="wrap",o.UNWRAP="unwrap",o.CHANGE="change",o.UNSET="unset",o.INITIAL="initial",o.REPLACE="replace",o._PREFIX="commitStyle";var p=function(){function m(f){var g,v,S,x;this.options=f,this.__applyMap=new WeakMap,f.attributes=(g=f.attributes,x=(v=this.options).className,(S=v.style)&&(g?g.style=S:g={style:S},delete this.options.style),x&&(g?g.class=x:g={class:x},delete this.options.className),g)}return m.prototype.isApplied=function(f,g){var v=this.__applyMap.get(f);return!!v&&v[g]},m.prototype.setApplied=function(f,g){var v,S=(v=this.__applyMap.get(f))!==null&&v!==void 0?v:{};S[g]=!0,this.__applyMap.set(f,S)},Object.defineProperty(m.prototype,"elementIsList",{get:function(){return!!(this.options.element&&["ul","ol"].includes(this.options.element))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"element",{get:function(){return this.options.element||this.defaultTag},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"elementIsBlock",{get:function(){return!!(this.options.element&&u.IS_BLOCK.test(this.options.element))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isElementCommit",{get:function(){return!!(this.options.element&&this.options.element!==this.options.defaultTag)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"defaultTag",{get:function(){return this.options.defaultTag?this.options.defaultTag:this.elementIsBlock?"p":"span"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"elementIsDefault",{get:function(){return this.element===this.defaultTag},enumerable:!1,configurable:!0}),m.prototype.apply=function(f){var g=this.options.hooks;try{g&&Object.keys(g).forEach(function(v){f.e.on((0,d.camelCase)(o._PREFIX+"_"+v),g[v])}),(0,h.ApplyStyle)(f,this)}finally{g&&Object.keys(g).forEach(function(v){f.e.off((0,d.camelCase)(o._PREFIX+"_"+v),g[v])}),this.__applyMap=new WeakMap}},m}();o.CommitStyle=p},33090:function(l,o,s){var u;Object.defineProperty(o,"__esModule",{value:!0}),o.transactions=o.states=void 0;var d=s(20255),h=s(2123),p=s(66162),m=s(64968),f=s(2123);s(52378),o.states={START:"START",ELEMENT:"ELEMENT",UNWRAP:"UNWRAP",UNWRAP_CHILDREN:"UNWRAP_CHILDREN",CHANGE:"CHANGE",REPLACE_DEFAULT:"REPLACE_DEFAULT",LIST:"LIST",TOGGLE_LIST:"TOGGLE_LIST",WRAP:"WRAP",EXTRACT:"EXTRACT",END:"END"},o.transactions=((u={})[o.states.START]={exec:function(g){var v=g.element,S=g.jodit,x=g.style,b=g.mode;if((0,p.isInsideInvisibleElement)(v,S.editor)||m.Dom.isEmptyContent(v))return d.__assign(d.__assign({},g),{next:o.states.END});var _=(0,p.getSuitParent)(x,v,S.editor)||(0,p.getSuitChild)(x,v);if(_)return d.__assign(d.__assign({},g),{next:o.states.ELEMENT,element:_});var w=(0,p.findSuitClosest)(x,v,S.editor);return x.elementIsList&&m.Dom.isTag(w,["ul","ol"])?d.__assign(d.__assign({},g),{next:o.states.LIST}):d.__assign(d.__assign({},g),w?{next:o.states.EXTRACT}:{next:b!==f.UNWRAP?o.states.UNWRAP_CHILDREN:o.states.END})}},u[o.states.LIST]={exec:function(g){var v=g.element,S=g.jodit,x=g.mode;if(x!==f.INITIAL&&x!==f.UNWRAP&&x!==h.REPLACE)return d.__assign(d.__assign({},g),{next:o.states.END});var b=m.Dom.closest(v,"li",S.editor);if(!b)return d.__assign(d.__assign({},g),{next:o.states.END});var _=m.Dom.closest(v,["ul","ol"],S.editor);return d.__assign(d.__assign({},g),_?{element:b,next:o.states.TOGGLE_LIST}:{next:o.states.END})}},u[o.states.TOGGLE_LIST]={exec:function(g){return d.__assign(d.__assign({},g),{mode:(0,p.toggleOrderedList)(g.style,g.element,g.jodit,g.mode),next:o.states.END})}},u[o.states.EXTRACT]={exec:function(g){var v=g.element,S=g.jodit,x=g.style,b=(0,p.findSuitClosest)(x,v,S.editor);return x.elementIsBlock||(0,p.extractSelectedPart)(b,v,S),d.__assign(d.__assign({},g),{element:b,next:o.states.ELEMENT})}},u[o.states.UNWRAP_CHILDREN]={exec:function(g){return(0,p.unwrapChildren)(g.style,g.element)?d.__assign(d.__assign({},g),{mode:f.UNWRAP,next:o.states.END}):d.__assign(d.__assign({},g),{next:o.states.WRAP})}},u[o.states.WRAP]={exec:function(g){var v=g.style,S=(0,p.wrap)(v,g.element,g.jodit);return d.__assign(d.__assign({},g),{next:v.elementIsList?o.states.END:o.states.CHANGE,mode:f.WRAP,element:S})}},u[o.states.ELEMENT]={exec:function(g){var v=g.style,S=g.element;return(0,p.toggleAttributes)(v,S,g.jodit,f.INITIAL,!0)!==f.INITIAL?d.__assign(d.__assign({},g),{next:o.states.CHANGE}):m.Dom.isTag(S,v.element)?d.__assign(d.__assign({},g),{next:o.states.UNWRAP}):d.__assign(d.__assign({},g),{next:o.states.END})}},u[o.states.CHANGE]={exec:function(g){var v=g.style,S=g.element,x=g.mode,b=(0,p.toggleAttributes)(v,S,g.jodit,g.mode);return x!==f.WRAP&&b===f.UNSET&&!S.attributes.length&&m.Dom.isTag(S,v.element)?d.__assign(d.__assign({},g),{next:o.states.UNWRAP}):d.__assign(d.__assign({},g),{mode:b,next:o.states.END})}},u[o.states.UNWRAP]={exec:function(g){return g.element.attributes.length&&m.Dom.isTag(g.element,g.style.element)?d.__assign(d.__assign({},g),{next:o.states.REPLACE_DEFAULT}):(m.Dom.unwrap(g.element),d.__assign(d.__assign({},g),{mode:f.UNWRAP,next:o.states.END}))}},u[o.states.REPLACE_DEFAULT]={exec:function(g){return m.Dom.replace(g.element,g.style.defaultTag,g.jodit.createInside,!0),d.__assign(d.__assign({},g),{mode:h.REPLACE,next:o.states.END})}},u[o.states.END]={exec:function(g){return g}},u)},75764:function(l,o){var s;Object.defineProperty(o,"__esModule",{value:!0}),o.LocalStorageProvider=o.canUsePersistentStorage=void 0,o.canUsePersistentStorage=function(){return s===void 0&&(s=function(){var d="___Jodit___"+Math.random().toString();try{localStorage.setItem(d,"1");var h=localStorage.getItem(d)==="1";return localStorage.removeItem(d),h}catch{}return!1}()),s};var u=function(){function d(h){this.rootKey=h}return d.prototype.set=function(h,p){try{var m=localStorage.getItem(this.rootKey),f=m?JSON.parse(m):{};f[h]=p,localStorage.setItem(this.rootKey,JSON.stringify(f))}catch{}return this},d.prototype.delete=function(h){try{localStorage.removeItem(this.rootKey)}catch{}return this},d.prototype.get=function(h){try{var p=localStorage.getItem(this.rootKey),m=p?JSON.parse(p):{};return m[h]!==void 0?m[h]:null}catch{}},d.prototype.exists=function(h){return this.get(h)!=null},d.prototype.clear=function(){try{localStorage.removeItem(this.rootKey)}catch{}return this},d}();o.LocalStorageProvider=u},79905:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.MemoryStorageProvider=void 0;var s=function(){function u(){this.data=new Map}return u.prototype.set=function(d,h){return this.data.set(d,h),this},u.prototype.delete=function(d){return this.data.delete(d),this},u.prototype.get=function(d){return this.data.get(d)},u.prototype.exists=function(d){return this.data.has(d)},u.prototype.clear=function(){return this.data.clear(),this},u}();o.MemoryStorageProvider=s},77462:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(79905),o),u.__exportStar(s(75764),o),u.__exportStar(s(52015),o)},52015:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Storage=o.StorageKey=void 0;var u=s(40332),d=s(75764),h=s(79905);o.StorageKey="Jodit_";var p=function(){function m(f,g){this.provider=f,this.prefix=o.StorageKey,g&&(this.prefix+=g)}return m.prototype.set=function(f,g){return this.provider.set((0,u.camelCase)(this.prefix+f),g),this},m.prototype.delete=function(f){return this.provider.delete((0,u.camelCase)(this.prefix+f)),this},m.prototype.get=function(f){return this.provider.get((0,u.camelCase)(this.prefix+f))},m.prototype.exists=function(f){return this.provider.exists((0,u.camelCase)(this.prefix+f))},m.prototype.clear=function(){return this.provider.clear(),this},m.makeStorage=function(f,g){var v;return f===void 0&&(f=!1),f&&(0,d.canUsePersistentStorage)()&&(v=new d.LocalStorageProvider(o.StorageKey+g)),v||(v=new h.MemoryStorageProvider),new m(v,g)},m}();o.Storage=p},59363:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Dlgs=void 0;var u=s(20255),d=s(87837),h=s(40332),p=function(){function m(){}return m.prototype.dlg=function(f){var g=new d.Dialog(u.__assign({language:this.o.language,shadowRoot:this.o.shadowRoot,ownerWindow:this.o.ownerWindow,defaultTimeout:this.o.defaultTimeout,theme:this.o.theme,globalFullSize:this.o.globalFullSize},f));return(0,h.markOwner)(this,g.container),g.parent=this,g.bindDestruct(this)},m.prototype.confirm=function(f,g,v){return(0,h.isString)(g)&&(g=this.i18n(g)),d.Confirm.call(this.dlg(),this.i18n(f),g,v)},m.prototype.prompt=function(f,g,v,S,x){return(0,h.isString)(g)&&(g=this.i18n(g)),(0,h.isString)(S)&&(S=this.i18n(S)),d.Prompt.call(this.dlg(),this.i18n(f),g,v,S,x)},m.prototype.alert=function(f,g,v,S){return(0,h.isString)(f)&&(f=this.i18n(f)),(0,h.isString)(g)&&(g=this.i18n(g)),d.Alert.call(this.dlg(),f,g,v,S)},m}();o.Dlgs=p},14089:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Elms=void 0;var u=s(1853),d=function(){function h(){}return h.prototype.getElm=function(p){return this.container.querySelector(".".concat(this.getFullElName(p)))},h.prototype.getElms=function(p){return(0,u.toArray)(this.container.querySelectorAll(".".concat(this.getFullElName(p))))},h}();o.Elms=d},59829:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(14089),o),u.__exportStar(s(41681),o),u.__exportStar(s(59363),o)},41681:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Mods=void 0;var u=s(1853),d=s(24021),h=function(){function p(){}return p.prototype.afterSetMod=function(m,f){},p.prototype.setMod=function(m,f,g){if(m=m.toLowerCase(),this.mods[m]===f)return this;var v="".concat(this.componentName,"_").concat(m),S=(g||this.container).classList;return(0,u.toArray)(S).forEach(function(x){x.indexOf(v)===0&&S.remove(x)}),!(0,d.isVoid)(f)&&f!==""&&S.add("".concat(v,"_").concat(f.toString().toLowerCase())),this.mods[m]=f,this.afterSetMod(m,f),this},p.prototype.getMod=function(m){var f;return(f=this.mods[m])!==null&&f!==void 0?f:null},p}();o.Mods=h},96031:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Button=o.UIButton=o.UIButtonState=void 0;var u=s(20255);s(93330);var d=s(53929),h=s(24263),p=s(76502),m=s(24421),f=s(42096),g=s(77904),v=s(47970),S=s(43441),x=s(29411);o.UIButtonState=function(){return{size:"middle",type:"button",name:"",value:"",variant:"initial",disabled:!1,activated:!1,icon:{name:"empty",fill:"",iconURL:""},tooltip:"",text:"",tabIndex:void 0}};var b=function(_){function w(C,E){var A=_.call(this,C)||this;return A.isButton=!0,A.state=(0,o.UIButtonState)(),A.actionHandlers=[],A.updateSize(),A.onChangeSize(),A.onChangeStatus(),E&&A.hookStatus(x.STATUSES.ready,function(){A.setState(E)}),A}return u.__extends(w,_),w.prototype.className=function(){return"UIButton"},w.prototype.setState=function(C){return Object.assign(this.state,C),this},w.prototype.onChangeSize=function(){this.setMod("size",this.state.size)},w.prototype.onChangeType=function(){(0,p.attr)(this.container,"type",this.state.type)},w.prototype.updateSize=function(){var C=this.closest(v.UIList);C&&(this.state.size=C.buttonSize)},w.prototype.onChangeStatus=function(){this.setMod("variant",this.state.variant)},w.prototype.onChangeText=function(){this.text.textContent=this.jodit.i18n(this.state.text)},w.prototype.onChangeTextSetMode=function(){this.setMod("text-icons",!!this.state.text.trim().length)},w.prototype.onChangeDisabled=function(){(0,p.attr)(this.container,"disabled",this.state.disabled||null)},w.prototype.onChangeActivated=function(){(0,p.attr)(this.container,"aria-pressed",this.state.activated)},w.prototype.onChangeName=function(){this.container.classList.add("".concat(this.componentName,"_").concat(this.clearName(this.state.name))),this.name=this.state.name,(0,p.attr)(this.container,"data-ref",this.state.name),(0,p.attr)(this.container,"ref",this.state.name)},w.prototype.onChangeTooltip=function(){this.get("j.o.useNativeTooltip")&&(0,p.attr)(this.container,"title",this.state.tooltip),(0,p.attr)(this.container,"aria-label",this.state.tooltip)},w.prototype.onChangeTabIndex=function(){(0,p.attr)(this.container,"tabindex",this.state.tabIndex)},w.prototype.onChangeIcon=function(){var C=this.get("j.o.textIcons");if(!(C===!0||(0,f.isFunction)(C)&&C(this.state.name))){h.Dom.detach(this.icon);var E=g.Icon.makeIcon(this.j,this.state.icon);E&&this.icon.appendChild(E)}},w.prototype.focus=function(){this.container.focus()},w.prototype.isFocused=function(){var C=this.od.activeElement;return!!(C&&h.Dom.isOrContains(this.container,C))},w.prototype.createContainer=function(){var C=this.componentName,E=this.j.c.element("button",{class:C,type:"button",role:"button",ariaPressed:!1});return this.icon=this.j.c.span(C+"__icon"),this.text=this.j.c.span(C+"__text"),E.appendChild(this.icon),E.appendChild(this.text),this.j.e.on(E,"click",this.onActionFire),E},w.prototype.destruct=function(){return this.j.e.off(this.container),_.prototype.destruct.call(this)},w.prototype.onAction=function(C){return this.actionHandlers.push(C),this},w.prototype.onActionFire=function(C){var E=this;C.buffer={actionTrigger:this},this.actionHandlers.forEach(function(A){return A.call(E,C)})},u.__decorate([(0,S.watch)("state.size")],w.prototype,"onChangeSize",null),u.__decorate([(0,S.watch)("state.type")],w.prototype,"onChangeType",null),u.__decorate([(0,S.watch)("parentElement")],w.prototype,"updateSize",null),u.__decorate([(0,S.watch)("state.variant")],w.prototype,"onChangeStatus",null),u.__decorate([(0,S.watch)("state.text")],w.prototype,"onChangeText",null),u.__decorate([(0,S.watch)("state.text")],w.prototype,"onChangeTextSetMode",null),u.__decorate([(0,S.watch)("state.disabled")],w.prototype,"onChangeDisabled",null),u.__decorate([(0,S.watch)("state.activated")],w.prototype,"onChangeActivated",null),u.__decorate([(0,S.watch)("state.name")],w.prototype,"onChangeName",null),u.__decorate([(0,S.watch)("state.tooltip")],w.prototype,"onChangeTooltip",null),u.__decorate([(0,S.watch)("state.tabIndex")],w.prototype,"onChangeTabIndex",null),u.__decorate([(0,S.watch)("state.icon")],w.prototype,"onChangeIcon",null),u.__decorate([S.autobind],w.prototype,"onActionFire",null),u.__decorate([S.component],w)}(d.UIElement);o.UIButton=b,o.Button=function(_,w,C,E){var A=new b(_);return A.state.tabIndex=_.o.allowTabNavigation?0:-1,(0,m.isString)(w)?(A.state.icon.name=w,A.state.name=w,E&&(A.state.variant=E),C&&(A.state.text=C)):A.setState(w),A}},67252:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIButtonGroup=void 0;var u=s(20255);s(45066);var d=s(61479),h=s(11441),p=s(96031),m=(s(52378),function(f){function g(v,S){S===void 0&&(S={radio:!0});var x,b,_=this;return(_=f.call(this,v,(x=S.options)===null||x===void 0?void 0:x.map(function(w){var C=new p.UIButton(v,{text:w.text,value:w.value,variant:"primary"});return C.onAction(function(){_.select(w.value)}),C}),S)||this).options=S,_.select((b=S.value)!==null&&b!==void 0?b:0),_}return u.__extends(g,f),g.prototype.className=function(){return"UIButtonGroup"},g.prototype.render=function(v){return`<div>
			<div class="&__label">~`.concat(v.label,`~</div>
			<div class="&__options"></div>
		</div>`)},g.prototype.appendChildToContainer=function(v){this.getElm("options").appendChild(v)},g.prototype.select=function(v){var S,x,b=this;this.elements.forEach(function(w,C){C===v||w.state.value===v?w.state.activated=!0:b.options.radio&&(w.state.activated=!1)});var _=this.elements.filter(function(w){return w.state.activated}).map(function(w){return{text:w.state.text,value:w.state.value}});this.jodit.e.fire(this,"select",_),(x=(S=this.options).onChange)===null||x===void 0||x.call(S,_)},u.__decorate([h.component],g)}(d.UIGroup));o.UIButtonGroup=m},96516:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(96031),o),u.__exportStar(s(67252),o),u.__exportStar(s(33627),o)},33627:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UITooltip=void 0;var u=s(20255);s(99895);var d=s(40332),h=s(17332),p=s(43441),m=function(f){function g(v){var S=f.call(this,v)||this;S.__isOpened=!1,S.__useCount=1,S.__delayShowTimeout=0,(0,h.getContainer)(v,g).appendChild(S.container);var x=0;return v.e.off(".tooltip").on("showTooltip.tooltip",function(b,_){v.async.clearTimeout(x),S.__open(b,_)}).on("delayShowTooltip.tooltip",S.__delayOpen).on("escape.tooltip",S.__close).on("hideTooltip.tooltip change.tooltip scroll.tooltip changePlace.tooltip hidePopup.tooltip closeAllPopups.tooltip",function(){S.j.async.clearTimeout(S.__delayShowTimeout),x=v.async.setTimeout(S.__close,S.j.defaultTimeout)}),S}return u.__extends(g,f),g.prototype.className=function(){return"UITooltip"},g.make=function(v){var S=(0,d.dataBind)(v,"ui-tooltip");return S?(S.__useCount+=1,S):(S=new g(v),(0,d.dataBind)(v,"ui-tooltip",S),S)},g.prototype.__delayOpen=function(v,S){var x=this,b=this.j.o.showTooltipDelay||this.j.defaultTimeout;this.j.async.clearTimeout(this.__delayShowTimeout),this.__delayShowTimeout=this.j.async.setTimeout(function(){return x.__open(v,S)},{timeout:b,label:"tooltip"})},g.prototype.__open=function(v,S){this.setMod("visible",!0),this.container.innerHTML=S,this.__isOpened=!0,this.__setPosition(v)},g.prototype.__setPosition=function(v){var S=v();(0,d.css)(this.container,{left:S.x,top:S.y})},g.prototype.__close=function(){this.j.async.clearTimeout(this.__delayShowTimeout),this.__isOpened&&(this.__isOpened=!1,this.setMod("visible",!1),(0,d.css)(this.container,{left:-5e3}))},g.prototype.destruct=function(){var v;this.__useCount--,this.__useCount||((v=this.j)===null||v===void 0||v.e.off(".tooltip"),this.__close(),f.prototype.destruct.call(this))},u.__decorate([p.autobind],g.prototype,"__delayOpen",null),u.__decorate([p.autobind],g.prototype,"__close",null),g}(s(53929).UIElement);o.UITooltip=m},53929:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIElement=void 0;var u=s(20255),d=s(56562),h=s(24263),p=s(59829),m=s(24421),f=s(77904),g=s(43441),v=function(S){function x(_,w){var C=S.call(this,_)||this;return C.name="",C.__parentElement=null,C.mods={},C.container=C.createContainer(w),Object.defineProperty(C.container,"component",{value:C,configurable:!0}),C}var b;return u.__extends(x,S),b=x,Object.defineProperty(x.prototype,"parentElement",{get:function(){return this.__parentElement},set:function(_){var w=this;this.__parentElement=_,_&&_.hookStatus("beforeDestruct",function(){return w.destruct()}),this.updateParentElement(this)},enumerable:!1,configurable:!0}),x.prototype.bubble=function(_){for(var w=this.parentElement;w;)_(w),w=w.parentElement;return this},x.prototype.updateParentElement=function(_){var w;return(w=this.__parentElement)===null||w===void 0||w.updateParentElement(_),this},x.prototype.get=function(_,w){return S.prototype.get.call(this,_,w)||this.getElm(_)},x.prototype.closest=function(_){for(var w=typeof _=="object"?function(E){return E===_}:function(E){return d.Component.isInstanceOf(E,_)},C=this.__parentElement;C;){if(w(C))return C;C=!C.parentElement&&C.container.parentElement?b.closestElement(C.container.parentElement,b):C.parentElement}return null},x.closestElement=function(_,w){var C=h.Dom.up(_,function(E){if(E){var A=E.component;return A&&d.Component.isInstanceOf(A,w)}return!1});return C?C==null?void 0:C.component:null},x.prototype.update=function(){},x.prototype.appendTo=function(_){return _.appendChild(this.container),this},x.prototype.clearName=function(_){return _.replace(/[^a-zA-Z0-9]/g,"_")},x.prototype.render=function(_){return this.j.c.div(this.componentName)},x.prototype.createContainer=function(_){var w=this.render(_);if((0,m.isString)(w)){var C=this.parseTemplate(w);return C.classList.add(this.componentName),C}return w},x.prototype.parseTemplate=function(_){var w=this;return this.j.c.fromHTML(_.replace(/\*([^*]+?)\*/g,function(C,E){return f.Icon.get(E)||""}).replace(/&__/g,this.componentName+"__").replace(/~([^~]+?)~/g,function(C,E){return w.i18n(E)}))},x.prototype.destruct=function(){return h.Dom.safeRemove(this.container),this.parentElement=null,S.prototype.destruct.call(this)},b=u.__decorate([(0,g.derive)(p.Mods,p.Elms)],x)}(d.ViewComponent);o.UIElement=v},38318:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIBlock=void 0;var u=s(20255);s(87682);var d=s(61479),h=s(76502),p=s(11441),m=function(f){function g(v,S,x){x===void 0&&(x={align:"left"});var b=f.call(this,v,S)||this;return b.options=x,b.setMod("align",b.options.align||"left"),b.setMod("width",b.options.width||""),b.options.mod&&b.setMod(b.options.mod,!0),b.options.className&&b.container.classList.add(b.options.className),(0,h.attr)(b.container,"data-ref",x.ref),(0,h.attr)(b.container,"ref",x.ref),b}return u.__extends(g,f),g.prototype.className=function(){return"UIBlock"},u.__decorate([p.component],g)}(d.UIGroup);o.UIBlock=m},26207:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIForm=void 0;var u=s(20255),d=s(61479),h=s(30194),p=s(75840),m=s(76502),f=s(11441),g=s(45113),v=function(S){function x(){for(var b=[],_=0;arguments.length>_;_++)b[_]=arguments[_];var w,C,E=this;return!((w=(E=S.apply(this,u.__spreadArray([],u.__read(b),!1))||this).options)===null||w===void 0)&&w.className&&E.container.classList.add((C=E.options)===null||C===void 0?void 0:C.className),E}return u.__extends(x,S),x.prototype.className=function(){return"UIForm"},x.prototype.submit=function(){this.j.e.fire(this.container,"submit")},x.prototype.validate=function(){var b,_,w,C,E=this.allChildren.filter(function(I){return g.Component.isInstanceOf(I,h.UIInput)});try{for(var A=u.__values(E),T=A.next();!T.done;T=A.next())if(!T.value.validate())return!1}catch(I){b={error:I}}finally{try{T&&!T.done&&(_=A.return)&&_.call(A)}finally{if(b)throw b.error}}var M=this.allChildren.filter(function(I){return g.Component.isInstanceOf(I,p.UISelect)});try{for(var j=u.__values(M),P=j.next();!P.done;P=j.next())if(!P.value.validate())return!1}catch(I){w={error:I}}finally{try{P&&!P.done&&(C=j.return)&&C.call(j)}finally{if(w)throw w.error}}return!0},x.prototype.onSubmit=function(b){var _=this;this.j.e.on(this.container,"submit",function(){var w=_.allChildren.filter(function(C){return g.Component.isInstanceOf(C,h.UIInput)});return!!_.validate()&&(b(w.reduce(function(C,E){return C[E.state.name]=E.value,C},{})),!1)})},x.prototype.createContainer=function(){var b=this.j.c.element("form");return b.classList.add(this.componentName),(0,m.attr)(b,"dir",this.j.o.direction||"auto"),b},u.__decorate([f.component],x)}(d.UIGroup);o.UIForm=v},95963:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(26207),o),u.__exportStar(s(63034),o),u.__exportStar(s(38318),o)},21639:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UITextArea=void 0;var u=s(20255);s(50905);var d=s(30194),h=s(11441),p=function(m){function f(v,S){var x=m.call(this,v,S)||this;return x.state=u.__assign({},g.defaultState),Object.assign(x.state,S),x.state.resizable===!1&&(x.nativeInput.style.resize="none"),x}var g;return u.__extends(f,m),g=f,f.prototype.className=function(){return"UITextArea"},f.prototype.createContainer=function(v){return this.nativeInput=this.j.create.element("textarea"),m.prototype.createContainer.call(this,v)},f.defaultState=u.__assign(u.__assign({},d.UIInput.defaultState),{size:5,resizable:!0}),g=u.__decorate([h.component],f)}(d.UIInput);o.UITextArea=p},63747:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UICheckbox=void 0;var u=s(20255);s(70446);var d=s(30194),h=s(43441),p=s(24263),m=function(f){function g(S,x){var b=f.call(this,S,u.__assign(u.__assign({},x),{type:"checkbox"}))||this;return b.state=u.__assign({},v.defaultState),Object.assign(b.state,x),b}var v;return u.__extends(g,f),v=g,g.prototype.className=function(){return"UICheckbox"},g.prototype.render=function(){return this.j.c.element("label",{className:this.componentName})},g.prototype.onChangeChecked=function(){this.value=this.state.checked.toString(),this.nativeInput.checked=this.state.checked,this.setMod("checked",this.state.checked)},g.prototype.onChangeNativeCheckBox=function(){this.state.checked=this.nativeInput.checked},g.prototype.onChangeSwitch=function(){this.setMod("switch",this.state.switch);var S=this.getElm("switch-slider");this.state.switch?(S||(S=this.j.c.div(this.getFullElName("switch-slider"))),p.Dom.after(this.nativeInput,S)):p.Dom.safeRemove(S)},g.defaultState=u.__assign(u.__assign({},d.UIInput.defaultState),{checked:!1,switch:!1}),u.__decorate([(0,h.watch)("state.checked"),(0,h.hook)("ready")],g.prototype,"onChangeChecked",null),u.__decorate([(0,h.watch)("nativeInput:change")],g.prototype,"onChangeNativeCheckBox",null),u.__decorate([(0,h.watch)("state.switch"),(0,h.hook)("ready")],g.prototype,"onChangeSwitch",null),v=u.__decorate([h.component],g)}(d.UIInput);o.UICheckbox=m},41374:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIFileInput=void 0;var u=s(20255);s(18984);var d=s(30194),h=s(11441),p=s(96031),m=function(f){function g(v,S){var x=f.call(this,v,u.__assign({type:"file"},S))||this;return x.state=u.__assign(u.__assign({},d.UIInput.defaultState),{type:"file",onlyImages:!0}),x}return u.__extends(g,f),g.prototype.className=function(){return"UIFileInput"},g.prototype.createContainer=function(v){this.button=new p.UIButton(this.j,{icon:{name:"plus"}});var S=this.button.container;this.nativeInput||(this.nativeInput=this.createNativeInput(v));var x=this.nativeInput;return x.classList.add(this.getFullElName("input")),S.classList.add(this.componentName),S.appendChild(x),S},g.prototype.createNativeInput=function(v){return this.j.create.fromHTML(`<input
			type="file"
			accept="`.concat(v.onlyImages?"image/*":"*",`"
			tabindex="-1"
			dir="auto"
			multiple=""
		/>`))},u.__decorate([h.component],g)}(d.UIInput);o.UIFileInput=m},63034:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(30194),o),u.__exportStar(s(21639),o),u.__exportStar(s(63747),o),u.__exportStar(s(75840),o),u.__exportStar(s(41374),o)},30194:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIInput=void 0;var u=s(20255);s(4591);var d=s(53929),h=s(76502),p=s(1853),m=s(24263),f=s(43441),g=s(77904),v=s(60081),S=function(x){function b(w,C){var E=x.call(this,w,C)||this;return E.label=E.j.c.span(E.getFullElName("label")),E.icon=E.j.c.span(E.getFullElName("icon")),E.clearButton=E.j.c.span(E.getFullElName("clear"),g.Icon.get("cancel")),E.state=u.__assign({},_.defaultState),E.__errorBox=E.j.c.span(E.getFullElName("error")),E.validators=new Set([]),(C==null?void 0:C.value)!==void 0&&(C.value=C.value.toString()),Object.assign(E.state,C),E.state.clearButton!==void 0&&(E.j.e.on(E.clearButton,"click",function(A){A.preventDefault(),E.nativeInput.value="",E.j.e.fire(E.nativeInput,"input"),E.focus()}).on(E.nativeInput,"input",function(){E.state.clearButton=!!E.value.length}),E.state.clearButton=!!E.value.length),E.j.e.on(E.nativeInput,"focus blur",function(){E.onChangeFocus()}).on(E.nativeInput,"input change",E.onChangeValue),E.onChangeState(),E.onChangeClassName(),E.onChangeStateValue(),E}var _;return u.__extends(b,x),_=b,b.prototype.className=function(){return"UIInput"},b.prototype.onChangeClear=function(){this.state.clearButton?m.Dom.after(this.nativeInput,this.clearButton):m.Dom.safeRemove(this.clearButton)},b.prototype.onChangeClassName=function(w,C){C&&this.container.classList.remove(C),this.state.className&&this.container.classList.add(this.state.className)},b.prototype.onChangeState=function(){this.name=this.state.name;var w=this.nativeInput,C=this.state,E=C.name,A=C.icon,T=C.type,M=C.ref,j=C.required,P=C.placeholder,I=C.autocomplete,k=C.label;(0,h.attr)(w,"name",E),(0,h.attr)(w,"type",T),(0,h.attr)(w,"data-ref",M||E),(0,h.attr)(w,"ref",M||E),(0,h.attr)(w,"required",j||null),(0,h.attr)(w,"autocomplete",I?null:"off"),(0,h.attr)(w,"placeholder",P?this.j.i18n(P):""),A&&g.Icon.exists(A)?(m.Dom.before(w,this.icon),this.icon.innerHTML=g.Icon.get(A)):m.Dom.safeRemove(this.icon),k?(m.Dom.before(this.wrapper,this.label),this.label.innerText=this.j.i18n(k)):m.Dom.safeRemove(this.label),this.updateValidators()},b.prototype.updateValidators=function(){var w,C=this;this.validators.clear(),this.state.required&&this.validators.add(v.inputValidators.required),(w=this.state.validators)===null||w===void 0||w.forEach(function(E){var A=v.inputValidators[E];A&&C.validators.add(A)})},Object.defineProperty(b.prototype,"error",{set:function(w){this.setMod("has-error",!!w),w?(this.__errorBox.innerText=this.j.i18n(w,this.j.i18n(this.state.label||"")),this.container.appendChild(this.__errorBox)):m.Dom.safeRemove(this.__errorBox)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this.nativeInput.value},set:function(w){this.value!==w&&(this.nativeInput.value=w,this.onChangeValue())},enumerable:!1,configurable:!0}),b.prototype.onChangeStateValue=function(){var w=this.state.value.toString();w!==this.value&&(this.value=w)},b.prototype.onChangeValue=function(){var w,C,E=this.value;this.state.value!==E&&(this.state.value=E,this.j.e.fire(this,"change",E),(C=(w=this.state).onChange)===null||C===void 0||C.call(w,E))},b.prototype.validate=function(){var w=this;return this.error="",(0,p.toArray)(this.validators).every(function(C){return C(w)})},b.prototype.createContainer=function(w){var C=x.prototype.createContainer.call(this);this.wrapper=this.j.c.div(this.getFullElName("wrapper")),this.nativeInput||(this.nativeInput=this.createNativeInput());var E=this.nativeInput;return E.classList.add(this.getFullElName("input")),this.wrapper.appendChild(E),C.appendChild(this.wrapper),(0,h.attr)(E,"dir",this.j.o.direction||"auto"),C},b.prototype.createNativeInput=function(w){return this.j.create.element("input")},b.prototype.focus=function(){this.nativeInput.focus()},Object.defineProperty(b.prototype,"isFocused",{get:function(){return this.nativeInput===this.j.od.activeElement},enumerable:!1,configurable:!0}),b.prototype.onChangeFocus=function(){this.setMod("focused",this.isFocused)},b.defaultState={className:"",autocomplete:!0,name:"",value:"",icon:"",label:"",ref:"",type:"text",placeholder:"",required:!1,validators:[]},u.__decorate([(0,f.watch)("state.clearButton")],b.prototype,"onChangeClear",null),u.__decorate([(0,f.watch)("state.className")],b.prototype,"onChangeClassName",null),u.__decorate([(0,f.watch)(["state.name","state.type","state.label","state.placeholder","state.autocomplete","state.icon"]),(0,f.debounce)()],b.prototype,"onChangeState",null),u.__decorate([(0,f.watch)("state.value")],b.prototype,"onChangeStateValue",null),u.__decorate([f.autobind],b.prototype,"onChangeValue",null),_=u.__decorate([f.component],b)}(d.UIElement);o.UIInput=S},75840:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UISelect=void 0;var u=s(20255);s(64194);var d=s(67309),h=s(11441),p=s(30194),m=s(60081),f=function(g){function v(x,b){var _=g.call(this,x,b)||this;return _.state=u.__assign({},S.defaultState),Object.assign(_.state,b),_}var S;return u.__extends(v,g),S=v,v.prototype.className=function(){return"UISelect"},v.prototype.createContainer=function(x){var b,_=g.prototype.createContainer.call(this,x),w=this.j,C=this.nativeInput,E=function(){return w.create.element("option")};if(x.placeholder!==void 0){var A=E();A.value="",A.text=w.i18n(x.placeholder),C.add(A)}return(b=x.options)===null||b===void 0||b.forEach(function(T){var M=E();M.value=T.value.toString(),M.text=w.i18n(T.text),C.add(M)}),x.size&&x.size>0&&(0,d.attr)(C,"size",x.size),x.multiple&&(0,d.attr)(C,"multiple",""),_},v.prototype.createNativeInput=function(){return this.j.create.element("select")},v.prototype.updateValidators=function(){g.prototype.updateValidators.call(this),this.state.required&&(this.validators.delete(m.inputValidators.required),this.validators.add(m.selectValidators.required))},v.defaultState=u.__assign(u.__assign({},p.UIInput.defaultState),{options:[],size:1,multiple:!1}),S=u.__decorate([h.component],v)}(p.UIInput);o.UISelect=f},60081:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.selectValidators=o.inputValidators=void 0,o.inputValidators=s(63355),o.selectValidators=s(65935)},63355:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.url=o.required=void 0;var u=s(64350),d=s(33941);o.required=function(h){return!!(0,d.trim)(h.value).length||(h.error="Please fill out this field",!1)},o.url=function(h){return!!(0,u.isURL)((0,d.trim)(h.value))||(h.error="Please enter a web address",!1)}},65935:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.required=void 0;var u=s(33941);o.required=function(d){return!!(0,u.trim)(d.value).length||(d.error="Please fill out this field",!1)}},61479:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIGroup=void 0;var u=s(20255);s(70375);var d=s(53929),h=s(43441),p=s(40332),m=(s(52378),s(24263)),f=s(45113),g=function(v){function S(b,_,w){var C=v.call(this,b,w)||this;return C.options=w,C.syncMod=!1,C.elements=[],C.buttonSize="middle",_==null||_.forEach(function(E){return E&&C.append(E)}),w!=null&&w.name&&(C.name=w.name),C}var x;return u.__extends(S,v),x=S,S.prototype.className=function(){return"UIGroup"},Object.defineProperty(S.prototype,"allChildren",{get:function(){for(var b=[],_=u.__spreadArray([],u.__read(this.elements),!1);_.length;){var w=_.shift();(0,p.isArray)(w)?_.push.apply(_,u.__spreadArray([],u.__read(w),!1)):f.Component.isInstanceOf(w,x)?_.push.apply(_,u.__spreadArray([],u.__read(w.elements),!1)):w&&b.push(w)}return b},enumerable:!1,configurable:!0}),S.prototype.update=function(){this.elements.forEach(function(b){return b.update()}),this.setMod("size",this.buttonSize)},S.prototype.append=function(b,_){var w=this;return(0,p.isArray)(b)?(b.forEach(function(C){return w.append(C,_)}),this):(this.elements.push(b),b.name&&b.container.classList.add(this.getFullElName(b.name)),_?this.getElm(_).appendChild(b.container):this.appendChildToContainer(b.container),b.parentElement=this,b.update(),this)},S.prototype.afterSetMod=function(b,_){this.syncMod&&this.elements.forEach(function(w){return w.setMod(b,_)})},S.prototype.appendChildToContainer=function(b){this.container.appendChild(b)},S.prototype.remove=function(b){var _=this.elements.indexOf(b);return _!==-1&&(this.elements.splice(_,1),m.Dom.safeRemove(b.container),b.parentElement=null),this},S.prototype.clear=function(){return this.elements.forEach(function(b){return b.destruct()}),this.elements.length=0,this},S.prototype.destruct=function(){return this.clear(),v.prototype.destruct.call(this)},u.__decorate([(0,h.watch)("buttonSize")],S.prototype,"update",null),x=u.__decorate([h.component],S)}(d.UIElement);o.UIGroup=g},3249:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(61479),o),u.__exportStar(s(47970),o),u.__exportStar(s(75018),o),u.__exportStar(s(58495),o)},47970:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIList=void 0;var u=s(20255);s(90235);var d=s(32070),h=s(43441),p=s(61479),m=s(75018),f=s(58495),g=s(96031),v=s(97642),S=s(38546),x=s(14556),b=s(45113),_=function(w){function C(E){var A=w.call(this,E)||this;return A.mode="horizontal",A.removeButtons=[],A.onChangeMode(),A}return u.__extends(C,w),C.prototype.className=function(){return"UIList"},C.prototype.onChangeMode=function(){this.setMod("mode",this.mode)},C.prototype.makeGroup=function(){return new p.UIGroup(this.jodit)},Object.defineProperty(C.prototype,"buttons",{get:function(){return this.allChildren.filter(function(E){return b.Component.isInstanceOf(E,g.UIButton)})},enumerable:!1,configurable:!0}),C.prototype.getButtonsNames=function(){return this.buttons.map(function(E){return E instanceof g.UIButton&&E.state.name||""}).filter(function(E){return E!==""})},C.prototype.setRemoveButtons=function(E){return this.removeButtons=E||[],this},C.prototype.build=function(E,A){var T=this;A===void 0&&(A=null),E=(0,x.splitArray)(E),this.clear();var M,j=!1,P=this.makeGroup();this.append(P),P.setMod("line",!0);var I=function(R){var O=null;switch(R.name){case`
`:(P=T.makeGroup()).setMod("line",!0),M=T.makeGroup(),P.append(M),T.append(P);break;case"|":j||(j=!0,O=new m.UISeparator(T.j));break;case"---":M.setMod("before-spacer",!0);var D=new f.UISpacer(T.j);P.append(D),M=T.makeGroup(),P.append(M),j=!1;break;default:j=!1,O=T.makeButton(R,A)}O&&(M||(M=T.makeGroup(),P.append(M)),M.append(O))},k=function(R){return!T.removeButtons.includes(R.name)};return E.forEach(function(R){if((0,v.isButtonGroup)(R)){var O=R.buttons.filter(function(L){return L});O.length&&((M=T.makeGroup()).setMod("separated",!0).setMod("group",R.group),P.append(M),(0,d.getStrongControlTypes)(O,T.j.o.controls).filter(k).forEach(I))}else{M||(M=T.makeGroup(),P.append(M));var D=(0,S.getControlType)(R,T.j.o.controls);k(D)&&I(D)}}),this.update(),this},C.prototype.makeButton=function(E,A){return new g.UIButton(this.j)},u.__decorate([(0,h.watch)("mode")],C.prototype,"onChangeMode",null),u.__decorate([h.component],C)}(p.UIGroup);o.UIList=_},75018:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UISeparator=void 0;var u=s(20255),d=s(53929),h=s(11441),p=function(m){function f(){return m!==null&&m.apply(this,arguments)||this}return u.__extends(f,m),f.prototype.className=function(){return"UISeparator"},u.__decorate([h.component],f)}(d.UIElement);o.UISeparator=p},58495:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UISpacer=void 0;var u=s(20255),d=s(53929),h=s(11441),p=function(m){function f(){return m!==null&&m.apply(this,arguments)||this}return u.__extends(f,m),f.prototype.className=function(){return"UISpacer"},u.__decorate([h.component],f)}(d.UIElement);o.UISpacer=p},97642:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.flatButtonsSet=o.isButtonGroup=void 0;var u=s(20255),d=s(49781);o.isButtonGroup=function(h){return(0,d.isArray)(h.buttons)},o.flatButtonsSet=function(h,p){var m=p.getRegisteredButtonGroups();return new Set(h.reduce(function(f,g){var v;return(0,o.isButtonGroup)(g)?f=f.concat(u.__spreadArray(u.__spreadArray([],u.__read(g.buttons),!1),u.__read((v=m[g.group])!==null&&v!==void 0?v:[]),!1)):f.push(g),f},[]))}},38546:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.findControlType=o.getControlType=void 0;var u=s(20255),d=s(40332),h=s(93166);function p(m,f){var g=u.__read(m.split(/\./),2),v=g[0],S=g[1],x=f;return S!=null?f[v]!==void 0&&(x=f[v]):S=v,x[S]?u.__assign({name:S},(0,d.ConfigFlatten)(x[S])):void 0}o.getControlType=function(m,f){var g;return f||(f=h.Config.defaultOptions.controls),(0,d.isString)(m)?g=p(m,f)||{name:m,command:m,tooltip:m}:f[(g=u.__assign({name:"empty"},(0,d.ConfigFlatten)(m))).name]!==void 0&&(g=u.__assign(u.__assign({},(0,d.ConfigFlatten)(f[g.name])),(0,d.ConfigFlatten)(g))),g},o.findControlType=p},32070:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getStrongControlTypes=void 0;var u=s(38546),d=s(93166),h=s(49781),p=s(76502);o.getStrongControlTypes=function(m,f){return((0,h.isArray)(m)?m:(0,p.keys)(m,!1).map(function(g){return(0,p.ConfigProto)({name:g},m[g]||{})})).map(function(g){return(0,u.getControlType)(g,f||d.Config.defaultOptions.controls)})}},77904:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Icon=void 0;var u=s(26911),d=s(40332),h=function(){function p(){}return p.getIcon=function(m){return/<svg/i.test(m)?m:p.icons[m]||p.icons[m.replace(/-/g,"_")]||p.icons[m.replace(/_/g,"-")]||p.icons[(0,d.camelCase)(m)]||p.icons[(0,d.kebabCase)(m)]||p.icons[m.toLowerCase()]},p.exists=function(m){return this.getIcon(m)!==void 0},p.get=function(m,f){return f===void 0&&(f="<span></span>"),this.getIcon(m)||f},p.set=function(m,f){return this.icons[m.replace("_","-")]=f,this},p.makeIcon=function(m,f){var g,v;if(f){var S=f.name.replace(/[^a-zA-Z0-9]/g,"_");if(f.iconURL)v=m.c.span(),(0,u.css)(v,"backgroundImage","url("+f.iconURL.replace("{basePath}",(m==null?void 0:m.basePath)||"")+")");else{var x=m.e.fire("getIcon",f.name,f,S)||p.get(f.name,"")||((g=m.o.extraIcons)===null||g===void 0?void 0:g[f.name]);x&&(v=m.c.fromHTML(x.trim()),/^<svg/i.test(f.name)||v.classList.add("jodit-icon_"+S))}}return v&&(v.classList.add("jodit-icon"),v.style.fill=f.fill),v},p.icons={},p}();o.Icon=h},2074:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(53929),o),u.__exportStar(s(96516),o),u.__exportStar(s(35799),o),u.__exportStar(s(3249),o),u.__exportStar(s(95963),o),u.__exportStar(s(77904),o),u.__exportStar(s(63682),o)},35799:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(12680),o)},12680:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Popup=void 0;var u=s(20255);s(88477);var d=s(24263),h=s(40332),p=(s(52378),s(53929)),m=s(43441),f=s(45113),g=s(17332),v=function(S){function x(b,_){_===void 0&&(_=!0);var w=S.call(this,b)||this;return w.smart=_,w.isOpened=!1,w.strategy="leftBottom",w.viewBound=function(){return{left:0,top:0,width:w.ow.innerWidth,height:w.ow.innerHeight}},w.childrenPopups=new Set,(0,h.attr)(w.container,"role","popup"),w}return u.__extends(x,S),x.prototype.className=function(){return"Popup"},x.prototype.updateParentElement=function(b){var _=this;return b!==this&&f.Component.isInstanceOf(b,x)&&(this.childrenPopups.forEach(function(w){!b.closest(w)&&w.isOpened&&w.close()}),this.childrenPopups.has(b)||this.j.e.on(b,"beforeClose",function(){_.childrenPopups.delete(b)}),this.childrenPopups.add(b)),S.prototype.updateParentElement.call(this,b)},x.prototype.setContent=function(b){d.Dom.detach(this.container);var _,w=this.j.c.div("".concat(this.componentName,"__content"));return f.Component.isInstanceOf(b,p.UIElement)?(_=b.container,b.parentElement=this):_=(0,h.isString)(b)?this.j.c.fromHTML(b):b,w.appendChild(_),this.container.appendChild(w),this.updatePosition(),this},x.prototype.open=function(b,_,w){if(_===void 0&&(_=!1),(0,h.markOwner)(this.jodit,this.container),this.calculateZIndex(),this.isOpened=!0,this.addGlobalListeners(),this.targetBound=_?this.getKeepBound(b):b,w)w.appendChild(this.container);else{var C=(0,g.getContainer)(this.jodit,x);w!==this.container.parentElement&&C.appendChild(this.container)}return this.updatePosition(),this.j.e.fire(this,"afterOpen"),this},x.prototype.calculateZIndex=function(){var b=this;if(!this.container.style.zIndex){var _=function(A){var T=A.container.style.zIndex||A.o.zIndex;return!!T&&(b.setZIndex(1+parseInt(T.toString(),10)),!0)},w=this.j;if(!_(w))for(var C=this.parentElement;C;){if(_(w))return;if(C.container.style.zIndex)return void this.setZIndex(1+parseInt(C.container.style.zIndex.toString(),10));if(!C.parentElement&&C.container.parentElement){var E=p.UIElement.closestElement(C.container.parentElement,p.UIElement);if(E){C=E;continue}}C=C.parentElement}}},x.prototype.getKeepBound=function(b){var _=this,w=b(),C=this.od.elementFromPoint(w.left,w.top);if(!C)return b;var E=d.Dom.isHTMLElement(C)?C:C.parentElement,A=(0,h.position)(E,this.j);return function(){var T=b(),M=(0,h.position)(E,_.j);return u.__assign(u.__assign({},T),{top:T.top+(M.top-A.top),left:T.left+(M.left-A.left)})}},x.prototype.updatePosition=function(){if(!this.isOpened)return this;var b=u.__read(this.calculatePosition(this.targetBound(),this.viewBound(),(0,h.position)(this.container,this.j)),2),_=b[0];return this.setMod("strategy",b[1]),(0,h.css)(this.container,{left:_.left,top:_.top}),this.childrenPopups.forEach(function(w){return w.updatePosition()}),this},x.prototype.throttleUpdatePosition=function(){this.updatePosition()},x.prototype.calculatePosition=function(b,_,w,C){C===void 0&&(C=this.strategy);var E={left:b.left,right:b.left-(w.width-b.width)},A={bottom:b.top+b.height,top:b.top-w.height},T=Object.keys(E).reduce(function(I,k){return I.concat(Object.keys(A).map(function(R){return"".concat(k).concat((0,h.ucfirst)(R))}))},[]),M=function(I){var k=u.__read((0,h.kebabCase)(I).split("-"),2);return{left:E[k[0]],top:A[k[1]],width:w.width,height:w.height}},j=function(I){return x.boxInView(M(C),I)?C:T.find(function(k){if(x.boxInView(M(k),I))return k})||null},P=j((0,h.position)(this.j.container,this.j));return P&&x.boxInView(M(P),_)||(P=j(_)||P||C),[M(P),P]},x.boxInView=function(b,_){return!(-2>b.top-_.top||-2>b.left-_.left||-2>_.top+_.height-(b.top+b.height)||-2>_.left+_.width-(b.left+b.width))},x.prototype.close=function(){return this.isOpened?(this.isOpened=!1,this.childrenPopups.forEach(function(b){return b.close()}),this.j.e.fire(this,"beforeClose"),this.j.e.fire("beforePopupClose",this),this.removeGlobalListeners(),d.Dom.safeRemove(this.container),this):this},x.prototype.closeOnOutsideClick=function(b){this.isOpened&&!this.isOwnClick(b)&&this.close()},x.prototype.isOwnClick=function(b){if(!b.target)return!1;var _=p.UIElement.closestElement(b.target,x);return!!(_&&(this===_||_.closest(this)))},x.prototype.addGlobalListeners=function(){var b=this,_=this.throttleUpdatePosition,w=this.ow;g.eventEmitter.on("closeAllPopups",this.close),this.smart&&this.j.e.on("escape",this.close).on("mousedown touchstart",this.closeOnOutsideClick).on(w,"mousedown touchstart",this.closeOnOutsideClick),this.j.e.on("closeAllPopups",this.close).on("resize",_).on(this.container,"scroll mousewheel",_).on(w,"scroll",_).on(w,"resize",_),d.Dom.up(this.j.container,function(C){C&&b.j.e.on(C,"scroll mousewheel",_)})},x.prototype.removeGlobalListeners=function(){var b=this,_=this.throttleUpdatePosition,w=this.ow;g.eventEmitter.off("closeAllPopups",this.close),this.smart&&this.j.e.off("escape",this.close).off("mousedown touchstart",this.closeOnOutsideClick).off(w,"mousedown touchstart",this.closeOnOutsideClick),this.j.e.off("closeAllPopups",this.close).off("resize",_).off(this.container,"scroll mousewheel",_).off(w,"scroll",_).off(w,"resize",_),d.Dom.up(this.j.container,function(C){C&&b.j.e.off(C,"scroll mousewheel",_)})},x.prototype.setZIndex=function(b){this.container.style.zIndex=b.toString()},x.prototype.destruct=function(){return this.close(),S.prototype.destruct.call(this)},u.__decorate([m.autobind],x.prototype,"updatePosition",null),u.__decorate([(0,m.throttle)(10),m.autobind],x.prototype,"throttleUpdatePosition",null),u.__decorate([m.autobind],x.prototype,"close",null),u.__decorate([m.autobind],x.prototype,"closeOnOutsideClick",null),x}(p.UIElement);o.Popup=v},63682:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ProgressBar=void 0;var u=s(20255);s(50197);var d=s(24263),h=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(m,p),m.prototype.className=function(){return"ProgressBar"},m.prototype.render=function(){return"<div><div></div></div>"},m.prototype.show=function(){return(this.j.workplace||this.j.container).appendChild(this.container),this},m.prototype.hide=function(){return d.Dom.safeRemove(this.container),this},m.prototype.progress=function(f){return this.container.style.width=f.toFixed(2)+"%",this},m.prototype.destruct=function(){return this.hide(),p.prototype.destruct.call(this)},m}(s(53929).UIElement);o.ProgressBar=h},43608:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ViewWithToolbar=void 0;var u=s(20255);s(39008);var d=s(75902),h=s(40332),p=s(64968),m=s(81438),f=s(56562),g=s(97642),v=s(43441),S=function(x){function b(_,w){w===void 0&&(w=!1);var C=x.call(this,_,w)||this;return C.toolbar=(0,m.makeCollection)(C),C.defaultToolbarContainer=C.c.div("jodit-toolbar__box"),C.registeredButtons=new Set,C.groupToButtons={},C.isJodit=!1,C.isJodit=w,C.e.on("beforeToolbarBuild",C.beforeToolbarBuild),C}return u.__extends(b,x),Object.defineProperty(b.prototype,"toolbarContainer",{get:function(){return this.o.fullsize||!(0,h.isString)(this.o.toolbar)&&!p.Dom.isHTMLElement(this.o.toolbar)?(this.o.toolbar&&p.Dom.appendChildFirst(this.container,this.defaultToolbarContainer),this.defaultToolbarContainer):(0,h.resolveElement)(this.o.toolbar,this.o.shadowRoot||this.od)},enumerable:!1,configurable:!0}),b.prototype.setPanel=function(_){this.o.toolbar=_,this.buildToolbar()},b.prototype.buildToolbar=function(){if(this.o.toolbar){var _=this.o.buttons?(0,h.splitArray)(this.o.buttons):[];this.toolbar.setRemoveButtons(this.o.removeButtons).build(_.concat(this.o.extraButtons||[])).appendTo(this.toolbarContainer)}},b.prototype.getRegisteredButtonGroups=function(){return this.groupToButtons},b.prototype.registerButton=function(_){var w;this.registeredButtons.add(_);var C=(w=_.group)!==null&&w!==void 0?w:"other";return this.groupToButtons[C]||(this.groupToButtons[C]=[]),_.position!=null?this.groupToButtons[C][_.position]=_.name:this.groupToButtons[C].push(_.name),this},b.prototype.unregisterButton=function(_){var w;this.registeredButtons.delete(_);var C=(w=_.group)!==null&&w!==void 0?w:"other",E=this.groupToButtons[C];if(E){var A=E.indexOf(_.name);A!==-1&&E.splice(A,1),E.length===0&&delete this.groupToButtons[C]}return this},b.prototype.beforeToolbarBuild=function(_){var w=this;if(Object.keys(this.groupToButtons).length)return _.map(function(C){return(0,g.isButtonGroup)(C)&&C.group&&w.groupToButtons[C.group]?{group:C.group,buttons:u.__spreadArray(u.__spreadArray([],u.__read(C.buttons),!1),u.__read(w.groupToButtons[C.group]),!1)}:C})},b.prototype.destruct=function(){this.isDestructed||(this.setStatus(f.STATUSES.beforeDestruct),this.e.off("beforeToolbarBuild",this.beforeToolbarBuild),this.toolbar.destruct(),x.prototype.destruct.call(this))},u.__decorate([v.autobind],b.prototype,"beforeToolbarBuild",null),b}(d.View);o.ViewWithToolbar=S},75902:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.View=void 0;var u=s(20255),d=s(77462),h=s(40332),p=s(86893),m=s(87837),f=s(17332),g=s(43441),v=s(59829),S=s(55395),x=s(71014),b=function(_){function w(E,A){A===void 0&&(A=!1);var T=_.call(this)||this;return T.isJodit=A,T.isView=!0,T.parent=null,T.mods={},T.components=new Set,T.version="3.24.9",T.buffer=d.Storage.makeStorage(),T.storage=d.Storage.makeStorage(!0,T.componentName),T.OPTIONS=C.defaultOptions,T.__isFullSize=!1,T.__whoLocked="",T.isLockedNotBy=function(M){return T.isLocked&&T.__whoLocked!==M},T.__modulesInstances=new Map,T.id=new Date().getTime().toString(),T.buffer=d.Storage.makeStorage(),T.initOptions(E),T.initOwners(),T.events=new S.EventEmitter(T.od),T.create=new m.Create(T.od),T.container=T.c.div("jodit ".concat(T.componentName)),T.progressbar=new m.ProgressBar(T),T.message=new x.UIMessages(T,T.container),T}var C;return u.__extends(w,_),C=w,Object.defineProperty(w.prototype,"basePath",{get:function(){return this.o.basePath?this.o.basePath:p.BASE_PATH},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"defaultTimeout",{get:function(){return(0,h.isVoid)(this.o.defaultTimeout)?100:this.o.defaultTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"c",{get:function(){return this.create},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"container",{get:function(){return this.__container},set:function(E){this.__container=E},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"e",{get:function(){return this.events},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"options",{get:function(){return this.__options},set:function(E){this.__options=E},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),w.prototype.i18n=function(E){for(var A=[],T=1;arguments.length>T;T++)A[T-1]=arguments[T];return(0,h.i18n)(E,A,this.options)},w.prototype.toggleFullSize=function(E){E===void 0&&(E=!this.__isFullSize),E!==this.__isFullSize&&(this.__isFullSize=E,this.e.fire("toggleFullSize",E))},Object.defineProperty(w.prototype,"isLocked",{get:function(){return this.__whoLocked!==""},enumerable:!1,configurable:!0}),w.prototype.lock=function(E){return E===void 0&&(E="any"),!this.isLocked&&(this.__whoLocked=E,!0)},w.prototype.unlock=function(){return!!this.isLocked&&(this.__whoLocked="",!0)},Object.defineProperty(w.prototype,"isFullSize",{get:function(){return this.__isFullSize},enumerable:!1,configurable:!0}),w.prototype.getVersion=function(){return"3.24.9"},w.getVersion=function(){return"3.24.9"},w.prototype.initOptions=function(E){this.options=(0,h.ConfigProto)(E||{},(0,h.ConfigProto)(this.options||{},C.defaultOptions))},w.prototype.initOwners=function(){var E;this.ownerWindow=(E=this.o.ownerWindow)!==null&&E!==void 0?E:window},w.prototype.attachEvents=function(E){var A=this;if(E){var T=E==null?void 0:E.events;T&&Object.keys(T).forEach(function(M){return A.e.on(M,T[M])})}},w.prototype.getInstance=function(E,A){var T=this.e.fire((0,h.camelCase)("getInstance_"+E),A);if(T)return T;var M=f.modules[E],j=this.__modulesInstances;if(!(0,h.isFunction)(M))throw(0,h.error)("Need real module name");if(!j.has(E)){var P=M.prototype instanceof m.ViewComponent?new M(this,A):new M(A);this.components.add(P),j.set(E,P)}return j.get(E)},w.prototype.addDisclaimer=function(E){this.container.appendChild(E)},w.prototype.beforeDestruct=function(){this.e.fire(m.STATUSES.beforeDestruct,this),this.components.forEach(function(E){(0,h.isDestructable)(E)&&!E.isInDestruct&&E.destruct()}),this.components.clear()},w.prototype.destruct=function(){this.isDestructed||(this.progressbar.destruct(),this.message.destruct(),this.async&&this.async.destruct(),this.events&&this.e.destruct(),this.buffer&&this.buffer.clear(),m.Dom.safeRemove(this.container),_.prototype.destruct.call(this))},w.esNext=!1,u.__decorate([(0,g.hook)(m.STATUSES.beforeDestruct)],w.prototype,"beforeDestruct",null),C=u.__decorate([(0,g.derive)(v.Mods,v.Elms)],w)}(m.Component);o.View=b,b.defaultOptions={extraButtons:[],textIcons:!1,namespace:"",removeButtons:[],zIndex:100002,defaultTimeout:100,fullsize:!1,showTooltip:!0,useNativeTooltip:!1,buttons:[],globalFullSize:!0,language:"auto"}},37920:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Jodit=void 0;var u=s(20255),d=s(93166),h=s(86893),p=s(87837),m=s(40332),f=s(77462),g=s(86893),v=s(17332),S=s(43441),x=s(59829),b=s(30056),_="data-jodit-default-style-display",w="data-jodit-default-classes",C=function(A){function T(j,P){var I=A.call(this,P,!0)||this;I.isJodit=!0,I.commands=new Map,I.__selectionLocked=null,I.__wasReadOnly=!1,I.createInside=new p.Create(function(){return I.ed},I.o.createAttributes),I.editorIsActive=!1,I.__mode=h.MODE_WYSIWYG,I.__callChangeCount=0,I.__isSilentChange=!1,I.__elementToPlace=new Map;try{var k=(0,m.resolveElement)(j,I.o.shadowRoot||I.od);if(M.isJoditAssigned(k))return k.component}catch(O){throw I.destruct(),O}I.setStatus(p.STATUSES.beforeInit),I.id=(0,m.attr)((0,m.resolveElement)(j,I.o.shadowRoot||I.od),"id")||new Date().getTime().toString(),v.instances[I.id]=I,I.storage=f.Storage.makeStorage(!0,I.id),I.attachEvents(P),I.e.on(I.ow,"resize",function(){I.e&&I.e.fire("resize")}),I.e.on("prepareWYSIWYGEditor",I.__prepareWYSIWYGEditor),I.selection=new p.Select(I);var R=I.beforeInitHook();return(0,m.callPromise)(R,function(){I.e.fire("beforeInit",I),v.pluginSystem.__init(I),I.e.fire("afterPluginSystemInit",I),I.e.on("changePlace",function(){I.setReadOnly(I.o.readonly),I.setDisabled(I.o.disabled)}),I.places.length=0;var O=I.addPlace(j,P);v.instances[I.id]=I,(0,m.callPromise)(O,function(){I.e&&I.e.fire("afterInit",I),I.afterInitHook(),I.setStatus(p.STATUSES.ready),I.e.fire("afterConstructor",I)})}),I}var M;return u.__extends(T,A),M=T,T.prototype.className=function(){return"Jodit"},T.prototype.waitForReady=function(){var j=this;return this.isReady?Promise.resolve(this):this.async.promise(function(P){j.hookStatus("ready",function(){return P(j)})})},Object.defineProperty(T,"ready",{get:function(){return new Promise(function(j){v.eventEmitter.on("oditready",j)})},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"text",{get:function(){if(this.editor)return this.editor.innerText||"";var j=this.createInside.div();return j.innerHTML=this.getElementValue(),j.innerText||""},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"defaultTimeout",{get:function(){return(0,m.isNumber)(this.o.defaultTimeout)?this.o.defaultTimeout:d.Config.defaultOptions.defaultTimeout},enumerable:!1,configurable:!0}),T.atom=function(j){return(0,m.markAsAtomic)(j)},T.make=function(j,P){return new this(j,P)},T.isJoditAssigned=function(j){return j&&(0,m.isJoditObject)(j.component)&&!j.component.isInDestruct},Object.defineProperty(T,"defaultOptions",{get:function(){return d.Config.defaultOptions},enumerable:!1,configurable:!0}),T.prototype.__setPlaceField=function(j,P){this.currentPlace||(this.currentPlace={},this.places=[this.currentPlace]),this.currentPlace[j]=P},Object.defineProperty(T.prototype,"element",{get:function(){return this.currentPlace.element},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"editor",{get:function(){return this.currentPlace.editor},set:function(j){this.__setPlaceField("editor",j)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"container",{get:function(){return this.currentPlace.container},set:function(j){this.__setPlaceField("container",j)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"workplace",{get:function(){return this.currentPlace.workplace},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"statusbar",{get:function(){return this.currentPlace.statusbar},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"iframe",{get:function(){return this.currentPlace.iframe},set:function(j){this.__setPlaceField("iframe",j)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"history",{get:function(){return this.currentPlace.history},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"observer",{get:function(){return this.history},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"editorWindow",{get:function(){return this.currentPlace.editorWindow},set:function(j){this.__setPlaceField("editorWindow",j)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"ew",{get:function(){return this.editorWindow},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"editorDocument",{get:function(){return this.currentPlace.editorWindow.document},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"ed",{get:function(){return this.editorDocument},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"options",{get:function(){return this.currentPlace.options},set:function(j){this.__setPlaceField("options",j)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"s",{get:function(){return this.selection},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"uploader",{get:function(){return this.getInstance("Uploader",this.o.uploader)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"filebrowser",{get:function(){var j=this,P=(0,m.ConfigProto)({defaultTimeout:j.defaultTimeout,uploader:j.o.uploader,language:j.o.language,license:j.o.license,theme:j.o.theme,shadowRoot:j.o.shadowRoot,defaultCallback:function(I){I.files&&I.files.length&&I.files.forEach(function(k,R){var O=I.baseurl+k;I.isImages&&I.isImages[R]?j.s.insertImage(O,null,j.o.imageDefaultWidth):j.s.insertNode(j.createInside.fromHTML("<a href='".concat(O,"' title='").concat(O,"'>").concat(O,"</a>")))})}},this.o.filebrowser);return j.getInstance("FileBrowser",P)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"mode",{get:function(){return this.__mode},set:function(j){this.setMode(j)},enumerable:!1,configurable:!0}),T.prototype.getNativeEditorValue=function(){var j=this.e.fire("beforeGetNativeEditorValue");return(0,m.isString)(j)?j:this.editor?this.editor.innerHTML:this.getElementValue()},T.prototype.setNativeEditorValue=function(j){var P={value:j};this.e.fire("beforeSetNativeEditorValue",P)||this.editor&&(this.editor.innerHTML=P.value)},Object.defineProperty(T.prototype,"value",{get:function(){return this.getEditorValue()},set:function(j){this.setEditorValue(j),this.history.__processChanges()},enumerable:!1,configurable:!0}),T.prototype.synchronizeValues=function(){this.__imdSynchronizeValues()},T.prototype.__imdSynchronizeValues=function(){this.setEditorValue()},T.prototype.getEditorValue=function(j,P){var I;if(j===void 0&&(j=!0),(I=this.e.fire("beforeGetValueFromEditor",P))!==void 0)return I;I=this.getNativeEditorValue().replace(h.INVISIBLE_SPACE_REG_EXP(),""),j&&(I=I.replace(/<span[^>]+id="jodit-selection_marker_[^>]+><\/span>/g,"")),I==="<br>"&&(I="");var k={value:I};return this.e.fire("afterGetValueFromEditor",k,P),k.value},T.prototype.setEditorValue=function(j){var P=this.e.fire("beforeSetValueToEditor",j);if(P!==!1)if((0,m.isString)(P)&&(j=P),this.editor){if(!(0,m.isString)(j)&&!(0,m.isVoid)(j))throw(0,m.error)("value must be string");(0,m.isVoid)(j)||this.getNativeEditorValue()===j||this.setNativeEditorValue(j),this.e.fire("postProcessSetEditorValue");var I=this.getElementValue(),k=this.getEditorValue();if(!this.__isSilentChange&&I!==k&&h.SAFE_COUNT_CHANGE_CALL>this.__callChangeCount){this.__setElementValue(k),this.__callChangeCount+=1;try{this.history.__upTick(),this.e.fire("change",k,I),this.e.fire(this.history,"change",k,I)}finally{this.__callChangeCount=0}}}else j!==void 0&&this.__setElementValue(j)},T.prototype.updateElementValue=function(){this.__setElementValue(this.getEditorValue())},T.prototype.getElementValue=function(){return this.element.value!==void 0?this.element.value:this.element.innerHTML},T.prototype.setElementValue=function(j){var P=this.getElementValue();return(j===void 0||(0,m.isString)(j)&&j!==P)&&(j!=null||(j=P),j!==this.getEditorValue()&&this.setEditorValue(j)),this.__setElementValue(j)},T.prototype.__setElementValue=function(j){var P=this;if(!(0,m.isString)(j))throw(0,m.error)("value must be string");if(this.element!==this.container&&j!==this.getElementValue()){var I={value:j},k=this.e.fire("beforeSetElementValue",I);(0,m.callPromise)(k,function(){P.element.value!==void 0?P.element.value=I.value:P.element.innerHTML=I.value,P.e.fire("afterSetElementValue",I)})}},T.prototype.registerCommand=function(j,P,I){var k=j.toLowerCase(),R=this.commands.get(k);if(R===void 0&&this.commands.set(k,R=[]),R.push(P),!(0,m.isFunction)(P)){var O=this.o.commandToHotkeys[k]||this.o.commandToHotkeys[j]||P.hotkeys;O&&this.registerHotkeyToCommand(O,k,I==null?void 0:I.stopPropagation)}return this},T.prototype.registerHotkeyToCommand=function(j,P,I){var k=this;I===void 0&&(I=!0);var R=(0,m.asArray)(j).map(m.normalizeKeyAliases).map(function(O){return O+".hotkey"}).join(" ");this.e.off(R).on(R,function(O,D){return D&&(D.shouldStop=I==null||I),k.execCommand(P)})},T.prototype.execCommand=function(j,P,I){for(var k,R=[],O=3;arguments.length>O;O++)R[O-3]=arguments[O];if(this.s.isFocused()||this.s.focus(),!this.o.readonly||this.o.allowCommandsInReadOnly.includes(j)){var D;if(j=j.toLowerCase(),(D=(k=this.e).fire.apply(k,u.__spreadArray(["beforeCommand",j,P,I],u.__read(R),!1)))!==!1&&(D=this.__execCustomCommands.apply(this,u.__spreadArray([j,P,I],u.__read(R),!1))),D!==!1)if(this.s.focus(),j==="selectall")this.s.select(this.editor,!0),this.s.expandSelection();else try{D=this.nativeExecCommand(j,P,I)}catch{}return this.e.fire("afterCommand",j,P,I),this.setEditorValue(),D}},T.prototype.nativeExecCommand=function(j,P,I){this.__isSilentChange=!0;try{return this.ed.execCommand(j,P,I)}finally{this.__isSilentChange=!1}},T.prototype.__execCustomCommands=function(j,P,I){for(var k=this,R=[],O=3;arguments.length>O;O++)R[O-3]=arguments[O];j=j.toLowerCase();var D,L=this.commands.get(j);if(L!==void 0)return L.forEach(function(B){var F,H=(F=(0,m.isFunction)(B)?B:B.exec).call.apply(F,u.__spreadArray([k,j,P,I],u.__read(R),!1));H!==void 0&&(D=H)}),D},T.prototype.lock=function(j){return j===void 0&&(j="any"),!!A.prototype.lock.call(this,j)&&(this.__selectionLocked=this.s.save(),this.s.clear(),this.editor.classList.add("jodit_lock"),this.e.fire("lock",!0),!0)},T.prototype.unlock=function(){return!!A.prototype.unlock.call(this)&&(this.editor.classList.remove("jodit_lock"),this.__selectionLocked&&this.s.restore(),this.e.fire("lock",!1),!0)},T.prototype.getMode=function(){return this.mode},T.prototype.isEditorMode=function(){return this.getRealMode()===h.MODE_WYSIWYG},T.prototype.getRealMode=function(){if(this.getMode()!==h.MODE_SPLIT)return this.getMode();var j=this.od.activeElement;return j&&(j===this.iframe||p.Dom.isOrContains(this.editor,j)||p.Dom.isOrContains(this.toolbar.container,j))?h.MODE_WYSIWYG:h.MODE_SOURCE},T.prototype.setMode=function(j){var P=this,I=this.getMode(),k={mode:parseInt(j.toString(),10)},R=["jodit-wysiwyg_mode","jodit-source__mode","jodit_split_mode"];this.e.fire("beforeSetMode",k)!==!1&&(this.__mode=[h.MODE_SOURCE,h.MODE_WYSIWYG,h.MODE_SPLIT].includes(k.mode)?k.mode:h.MODE_WYSIWYG,this.o.saveModeInStorage&&this.storage.set("jodit_default_mode",this.mode),R.forEach(function(O){P.container.classList.remove(O)}),this.container.classList.add(R[this.mode-1]),I!==this.getMode()&&this.e.fire("afterSetMode"))},T.prototype.toggleMode=function(){var j=this.getMode();[h.MODE_SOURCE,h.MODE_WYSIWYG,this.o.useSplitMode?h.MODE_SPLIT:9].includes(j+1)?j+=1:j=h.MODE_WYSIWYG,this.setMode(j)},T.prototype.setDisabled=function(j){this.o.disabled=j;var P=this.__wasReadOnly;this.setReadOnly(j||P),this.__wasReadOnly=P,this.editor&&(this.editor.setAttribute("aria-disabled",j.toString()),this.container.classList.toggle("jodit_disabled",j),this.e.fire("disabled",j))},T.prototype.getDisabled=function(){return this.o.disabled},T.prototype.setReadOnly=function(j){this.__wasReadOnly!==j&&(this.__wasReadOnly=j,this.o.readonly=j,j?this.editor&&this.editor.removeAttribute("contenteditable"):this.editor&&this.editor.setAttribute("contenteditable","true"),this.e&&this.e.fire("readonly",j))},T.prototype.getReadOnly=function(){return this.o.readonly},T.prototype.focus=function(){this.getMode()!==h.MODE_SOURCE&&this.s.focus()},Object.defineProperty(T.prototype,"isFocused",{get:function(){return this.s.isFocused()},enumerable:!1,configurable:!0}),T.prototype.beforeInitHook=function(){},T.prototype.afterInitHook=function(){},T.prototype.initOptions=function(j){this.options=(0,m.ConfigProto)(j||{},d.Config.defaultOptions)},T.prototype.initOwners=function(){this.editorWindow=this.o.ownerWindow,this.ownerWindow=this.o.ownerWindow},T.prototype.addPlace=function(j,P){var I=this,k=(0,m.resolveElement)(j,this.o.shadowRoot||this.od);this.attachEvents(P),k.attributes&&(0,m.toArray)(k.attributes).forEach(function(U){var X=U.name,W=U.value;d.Config.defaultOptions[X]===void 0||P&&P[X]!==void 0||(["readonly","disabled"].indexOf(X)!==-1&&(W=W===""||W==="true"),/^[0-9]+(\.)?([0-9]+)?$/.test(W.toString())&&(W=Number(W)),I.options[X]=W)});var R=this.c.div("jodit-container");R.classList.add("jodit"),R.classList.add("jodit-container"),R.classList.add("jodit_theme_".concat(this.o.theme||"default")),E(this.o.className,R),this.o.containerStyle&&(0,m.css)(R,this.o.containerStyle);var O=this.o.styleValues;Object.keys(O).forEach(function(U){var X=(0,m.kebabCase)(U);R.style.setProperty("--jd-".concat(X),O[U])}),R.setAttribute("contenteditable","false");var D=null;this.o.inline&&(["TEXTAREA","INPUT"].indexOf(k.nodeName)===-1&&(R=k,k.setAttribute(w,k.className.toString()),D=R.innerHTML,R.innerHTML=""),R.classList.add("jodit_inline"),R.classList.add("jodit-container")),k!==R&&(k.style.display&&k.setAttribute(_,k.style.display),k.style.display="none");var L=this.c.div("jodit-workplace",{contenteditable:!1});R.appendChild(L),this.message.destruct(),this.message=new p.UIMessages(this,L),k.parentNode&&k!==R&&k.parentNode.insertBefore(R,k),Object.defineProperty(k,"component",{enumerable:!1,configurable:!0,value:this});var B=this.c.div("jodit-wysiwyg",{contenteditable:!0,"aria-disabled":!1,tabindex:this.o.tabIndex});L.appendChild(B);var F={editor:B,element:k,container:R,workplace:L,statusbar:new p.StatusBar(this,R),options:this.isReady?(0,m.ConfigProto)(P||{},d.Config.defaultOptions):this.options,history:new p.History(this),editorWindow:this.ow};this.__elementToPlace.set(B,F),this.setCurrentPlace(F),this.places.push(F),this.setNativeEditorValue(this.getElementValue());var H=this.__initEditor(D),ee=this.options;return(0,m.callPromise)(H,function(){ee.enableDragAndDropFileToEditor&&ee.uploader&&(ee.uploader.url||ee.uploader.insertImageAsBase64URI)&&I.uploader.bind(I.editor),I.__elementToPlace.get(I.editor)||I.__elementToPlace.set(I.editor,F),I.e.fire("afterAddPlace",F)})},T.prototype.addDisclaimer=function(j){this.workplace.appendChild(j)},T.prototype.setCurrentPlace=function(j){this.currentPlace!==j&&(this.isEditorMode()||this.setMode(h.MODE_WYSIWYG),this.currentPlace=j,this.buildToolbar(),this.isReady&&this.e.fire("changePlace",j))},T.prototype.__initEditor=function(j){var P=this,I=this.__createEditor();return(0,m.callPromise)(I,function(){if(!P.isInDestruct){if(P.element!==P.container){var k=P.getElementValue();k!==P.getEditorValue()&&P.setEditorValue(k)}else j!=null&&P.setEditorValue(j);var R=P.o.defaultMode;if(P.o.saveModeInStorage){var O=P.storage.get("jodit_default_mode");typeof O=="string"&&(R=parseInt(O,10))}P.setMode(R),P.o.readonly&&(P.__wasReadOnly=!1,P.setReadOnly(!0)),P.o.disabled&&P.setDisabled(!0);try{P.ed.execCommand("defaultParagraphSeparator",!1,P.o.enter.toLowerCase())}catch{}try{P.ed.execCommand("enableObjectResizing",!1,"false")}catch{}try{P.ed.execCommand("enableInlineTableEditing",!1,"false")}catch{}}})},T.prototype.__createEditor=function(){var j=this,P=this.editor,I=this.e.fire("createEditor",this);return(0,m.callPromise)(I,function(){if(!j.isInDestruct){if((I===!1||(0,m.isPromise)(I))&&p.Dom.safeRemove(P),E(j.o.editorClassName||j.o.editorCssClass,j.editor),j.o.editorCssClass&&j.editor.classList.add(j.o.editorCssClass),j.o.style&&(0,m.css)(j.editor,j.o.style),j.e.on("synchro",function(){j.setEditorValue()}).on("focus",function(){j.editorIsActive=!0}).on("blur",function(){return j.editorIsActive=!1}),j.__prepareWYSIWYGEditor(),j.o.direction){var k=j.o.direction.toLowerCase()==="rtl"?"rtl":"ltr";j.container.style.direction=k,j.container.setAttribute("dir",k),j.toolbar.setDirection(k)}j.o.triggerChangeEvent&&j.e.on("change",j.async.debounce(function(){j.e&&j.e.fire(j.element,"change")},j.defaultTimeout))}})},T.prototype.__prepareWYSIWYGEditor=function(){var j=this,P=this.editor;if(this.o.direction){var I=this.o.direction.toLowerCase()==="rtl"?"rtl":"ltr";this.editor.style.direction=I,this.editor.setAttribute("dir",I)}this.e.on(P,"mousedown touchstart focus",function(){var k=j.__elementToPlace.get(P);k&&j.setCurrentPlace(k)}).on(P,"compositionend",this.synchronizeValues).on(P,"selectionchange selectionstart keydown keyup input keypress dblclick mousedown mouseup click copy cut dragstart drop dragover paste resize touchstart touchend focus blur",function(k){if(!j.o.readonly&&!j.__isSilentChange&&!(k instanceof j.ew.KeyboardEvent&&k.isComposing)&&j.e&&j.e.fire){if(j.e.fire(k.type,k)===!1)return!1;j.synchronizeValues()}})},T.prototype.fetch=function(j,P){var I=this,k=new b.Ajax(u.__assign({url:j},P),this.o.defaultAjaxOptions),R=function(){I.e.off("beforeDestruct",R),I.progressbar.progress(100).hide(),k.destruct()};this.e.one("beforeDestruct",R),this.progressbar.show().progress(30);var O=k.send();return O.finally(R).catch(function(){return null}),O},T.prototype.destruct=function(){var j=this;if(!this.isInDestruct&&(this.setStatus(p.STATUSES.beforeDestruct),this.__elementToPlace.clear(),this.editor)){var P=this.getEditorValue();this.storage.clear(),this.buffer.clear(),this.commands.clear(),this.__selectionLocked=null,this.e.off(this.ow,"resize"),this.e.off(this.ow),this.e.off(this.od),this.e.off(this.od.body),this.places.forEach(function(I){var k=I.container,R=I.workplace,O=I.statusbar,D=I.element,L=I.iframe,B=I.editor,F=I.history;if(D!==k)if(D.hasAttribute(_)){var H=(0,m.attr)(D,_);H&&(D.style.display=H,D.removeAttribute(_))}else D.style.display="";else D.hasAttribute(w)&&(D.className=(0,m.attr)(D,w)||"",D.removeAttribute(w));D.hasAttribute("style")&&!(0,m.attr)(D,"style")&&D.removeAttribute("style"),O.destruct(),j.e.off(k),j.e.off(D),j.e.off(B),p.Dom.safeRemove(R),p.Dom.safeRemove(B),k!==D&&p.Dom.safeRemove(k),Object.defineProperty(D,"component",{enumerable:!1,configurable:!0,value:null}),p.Dom.safeRemove(L),k===D&&(D.innerHTML=P),F.destruct()}),this.places.length=0,this.currentPlace={},delete v.instances[this.id],A.prototype.destruct.call(this)}},T.fatMode=!1,T.plugins=v.pluginSystem,T.modules=v.modules,T.ns=v.modules,T.decorators={},T.constants=h,T.instances=v.instances,T.lang=g.lang,T.core={Plugin:p.Plugin},u.__decorate([S.cache],T.prototype,"uploader",null),u.__decorate([S.cache],T.prototype,"filebrowser",null),u.__decorate([(0,S.throttle)()],T.prototype,"synchronizeValues",null),u.__decorate([(0,S.watch)(":internalChange")],T.prototype,"updateElementValue",null),u.__decorate([S.autobind],T.prototype,"__prepareWYSIWYGEditor",null),M=u.__decorate([(0,S.derive)(x.Dlgs)],T)}(p.ViewWithToolbar);function E(A,T){A&&A.split(/\s+/).forEach(function(M){return T.classList.add(M)})}o.Jodit=C},26435:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(10172),d={},h=s(90643),p=s(52532),m=s(75178),f=s(51048),g=s(22999),v=s(34145),S=s(40272),x=s(2978),b=s(99113),_=s(51923),w=s(21268),C=s(37289),E=s(26501),A=s(17084),T=s(96891),M=s(31211),j=s(31109),P=s(79375),I=s(21042),k=s(73895);d={ar:h,cs_cz:p,de:m,en:f,es:g,fr:v,he:S,hu:x,id:b,it:_,ja:w,ko:C,mn:E,nl:A,pl:T,pt_br:M,ru:j,tr:P,zh_cn:I,zh_tw:k};var R=s(11399),O=function(L){return L?L.default||L:{}},D={};(0,u.isArray)(O(R))&&O(R).forEach(function(L,B){D[B]=L}),Object.keys(d).forEach(function(L){var B=O(d[L]);(0,u.isArray)(B)?(d[L]={},B.forEach(function(F,H){d[L][D[H]]=F})):d[L]=B}),o.default=d},60403:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ContextMenu=void 0;var u=s(20255);s(47086);var d=s(35799),h=s(96516),p=s(10172),m=s(11441),f=function(g){function v(){return g!==null&&g.apply(this,arguments)||this}return u.__extends(v,g),v.prototype.className=function(){return"ContextMenu"},v.prototype.show=function(S,x,b){var _=this,w=this,C=this.j.c.div(this.getFullElName("actions"));(0,p.isArray)(b)&&(b.forEach(function(E){if(E){var A=(0,h.Button)(_.jodit,E.icon||"empty",E.title);_.jodit&&A.setParentView(_.jodit),A.setMod("context","menu"),A.onAction(function(T){var M;return(M=E.exec)===null||M===void 0||M.call(w,T),w.close(),!1}),C.appendChild(A.container)}}),this.setContent(C).open(function(){return{left:S,top:x,width:0,height:0}},!0))},u.__decorate([m.component],v)}(d.Popup);o.ContextMenu=f},97528:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Alert=void 0;var u=s(6690),d=s(40332),h=s(64968),p=s(2074);o.Alert=function(m,f,g,v){v===void 0&&(v="jodit-dialog_alert"),(0,d.isFunction)(f)&&(g=f,f=void 0);var S=this instanceof u.Dialog?this:new u.Dialog,x=S.c.div(v),b=(0,p.Button)(S,"ok","Ok");return(0,d.asArray)(m).forEach(function(_){x.appendChild(h.Dom.isNode(_)?_:S.c.fromHTML(_))}),b.onAction(function(){g&&(0,d.isFunction)(g)&&g(S)===!1||S.close()}),S.setFooter([b]),S.open(x,f||"&nbsp;",!0,!0),b.focus(),S}},47360:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Confirm=void 0;var u=s(6690),d=s(42096),h=s(96031);o.Confirm=function(p,m,f){var g=this instanceof u.Dialog?this:new u.Dialog,v=g.c.fromHTML('<form class="jodit-dialog_prompt"></form>'),S=g.c.element("label");(0,d.isFunction)(m)&&(f=m,m=void 0),S.appendChild(g.c.fromHTML(p)),v.appendChild(S);var x=function(w){return function(){f&&f(w)===!1||g.close()}},b=(0,h.Button)(g,"cancel","Cancel"),_=(0,h.Button)(g,"ok","Yes");return b.onAction(x(!1)),_.onAction(x(!0)),g.e.on(v,"submit",function(){return x(!0)(),!1}),g.setFooter([_,b]),g.open(v,m||"&nbsp;",!0,!0),_.focus(),g}},6690:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Dialog=void 0;var u=s(20255);s(16462);var d=s(93166),h=s(86893),p=s(40332),m=(s(52378),s(43608)),f=s(64968),g=s(56562),v=s(17332),S=s(43441),x=s(75902),b=s(2074),_=s(71014);d.Config.prototype.dialog={namespace:"",extraButtons:[],resizable:!0,draggable:!0,buttons:["dialog.close"],removeButtons:[],toolbarButtonSize:"middle",zIndex:"inherit"},d.Config.prototype.controls.dialog={close:{icon:"cancel",exec:function(C){C.close()}}};var w=function(C){function E(A){A===void 0&&(A={});var T=C.call(this,A)||this;T.destroyAfterClose=!1,T.moved=!1,T.resizable=!1,T.draggable=!1,T.startX=0,T.startY=0,T.startPoint={x:0,y:0,w:0,h:0},T.lockSelect=function(){T.setMod("moved",!0)},T.unlockSelect=function(){T.setMod("moved",!1)},T.onResize=function(){T.options&&T.o.resizable&&!T.moved&&T.isOpened&&!T.offsetX&&!T.offsetY&&T.setPosition()},T.isModal=!1,T.isOpened=!1;var M=T;M.options=(0,p.ConfigProto)(A,(0,p.ConfigProto)(d.Config.prototype.dialog,x.View.defaultOptions)),f.Dom.safeRemove(M.container);var j=T.getFullElName.bind(T);M.container=T.c.fromHTML('<div class="jodit jodit-dialog '.concat(T.componentName,`">
				<div class="`).concat(j("overlay"),`"></div>
				<div class="`).concat(T.getFullElName("panel"),`">
					<div class="`).concat(j("header"),`">
						<div class="`).concat(j("header-title"),`"></div>
						<div class="`).concat(j("header-toolbar"),`"></div>
					</div>
					<div class="`).concat(j("content"),`"></div>
					<div class="`).concat(j("footer"),`"></div>
					<div class="`).concat(j("resizer"),'">').concat(b.Icon.get("resize_handler"),`</div>
				</div>
			</div>`)),T.o.zIndex&&(T.container.style.zIndex=T.o.zIndex.toString()),(0,p.attr)(M.container,"role","dialog"),Object.defineProperty(M.container,"component",{value:T}),M.setMod("theme",M.o.theme||"default").setMod("resizable",!!M.o.resizable);var P=M.getElm("panel"),I=M.getElm("resizer"),k=M.getElm("header-title"),R=M.getElm("content"),O=M.getElm("footer"),D=M.getElm("header-toolbar");T.message.destruct(),T.message=new _.UIMessages(T,P),T.dialog=P,T.resizer=I,T.dialogbox_header=k,T.dialogbox_content=R,T.dialogbox_footer=O,T.dialogbox_toolbar=D,(0,p.css)(M.dialog,{maxWidth:M.options.maxWidth,minHeight:M.options.minHeight,minWidth:M.options.minWidth});var L=M.getElm("header");L&&M.e.on(L,"pointerdown touchstart",M.onHeaderMouseDown),M.e.on(M.resizer,"mousedown touchstart",M.onResizerMouseDown);var B=v.pluginSystem.get("fullsize");return(0,p.isFunction)(B)&&B(M),T.e.on(M.container,"close_dialog",M.close).on(T.ow,"keydown",T.onEsc).on(T.ow,"resize",T.onResize),T}return u.__extends(E,C),E.prototype.className=function(){return"Dialog"},Object.defineProperty(E.prototype,"destination",{get:function(){var A;return(A=this.o.shadowRoot)!==null&&A!==void 0?A:this.od.body},enumerable:!1,configurable:!0}),E.prototype.setElements=function(A,T){var M=this,j=[];(0,p.asArray)(T).forEach(function(P){if((0,p.isArray)(P)){var I=M.c.div(M.getFullElName("column"));return j.push(I),A.appendChild(I),M.setElements(I,P)}var k;k=(0,p.isString)(P)?M.c.fromHTML(P):(0,p.hasContainer)(P)?P.container:P,j.push(k),k.parentNode!==A&&A.appendChild(k)}),(0,p.toArray)(A.childNodes).forEach(function(P){j.indexOf(P)===-1&&A.removeChild(P)})},E.prototype.onMouseUp=function(){(this.draggable||this.resizable)&&(this.removeGlobalResizeListeners(),this.draggable=!1,this.resizable=!1,this.unlockSelect(),this.e&&(this.removeGlobalResizeListeners(),this.e.fire(this,"endResize endMove")))},E.prototype.onHeaderMouseDown=function(A){var T=A.target;!this.o.draggable||T&&T.nodeName.match(/^(INPUT|SELECT)$/)||(this.draggable=!0,this.startX=A.clientX,this.startY=A.clientY,this.startPoint.x=(0,p.css)(this.dialog,"left"),this.startPoint.y=(0,p.css)(this.dialog,"top"),this.setMaxZIndex(),A.cancelable&&A.preventDefault(),this.lockSelect(),this.addGlobalResizeListeners(),this.e&&this.e.fire(this,"startMove"))},E.prototype.onMouseMove=function(A){this.draggable&&this.o.draggable&&(this.setPosition(this.startPoint.x+A.clientX-this.startX,this.startPoint.y+A.clientY-this.startY),this.e&&this.e.fire(this,"move",A.clientX-this.startX,A.clientY-this.startY),A.stopImmediatePropagation()),this.resizable&&this.o.resizable&&(this.setSize(this.startPoint.w+A.clientX-this.startX,this.startPoint.h+A.clientY-this.startY),this.e&&this.e.fire(this,"resizeDialog",A.clientX-this.startX,A.clientY-this.startY))},E.prototype.onEsc=function(A){if(this.isOpened&&A.key===h.KEY_ESC&&this.getMod("static")!==!0){var T=this.getMaxZIndexDialog();T?T.close():this.close(),A.stopImmediatePropagation()}},E.prototype.onResizerMouseDown=function(A){this.resizable=!0,this.startX=A.clientX,this.startY=A.clientY,this.startPoint.w=this.dialog.offsetWidth,this.startPoint.h=this.dialog.offsetHeight,this.lockSelect(),this.addGlobalResizeListeners(),this.e&&this.e.fire(this,"startResize")},E.prototype.addGlobalResizeListeners=function(){var A=this;A.e.on(A.ow,"pointermove touchmove",A.onMouseMove).on(A.ow,"pointerup touchend",A.onMouseUp)},E.prototype.removeGlobalResizeListeners=function(){var A=this;A.e.off(A.ow,"mousemove pointermove",A.onMouseMove).off(A.ow,"mouseup pointerup",A.onMouseUp)},E.prototype.setSize=function(A,T){return A==null&&(A=this.dialog.offsetWidth),T==null&&(T=this.dialog.offsetHeight),(0,p.css)(this.dialog,{width:A,height:T}),this},E.prototype.calcAutoSize=function(){return this.setSize("auto","auto"),this.setSize(),this},E.prototype.setPosition=function(A,T){var M=this.ow.innerWidth/2-this.dialog.offsetWidth/2,j=this.ow.innerHeight/2-this.dialog.offsetHeight/2;return 0>M&&(M=0),0>j&&(j=0),A!==void 0&&T!==void 0&&(this.offsetX=A,this.offsetY=T,this.moved=Math.abs(A-M)>100||Math.abs(T-j)>100),this.dialog.style.left=(A||M)+"px",this.dialog.style.top=(T||j)+"px",this},E.prototype.setHeader=function(A){return this.setElements(this.dialogbox_header,A),this},E.prototype.setContent=function(A){return this.setElements(this.dialogbox_content,A),this},E.prototype.setFooter=function(A){return this.setElements(this.dialogbox_footer,A),this.setMod("footer",!!A),this},E.prototype.getZIndex=function(){return parseInt((0,p.css)(this.container,"zIndex"),10)||0},E.prototype.getMaxZIndexDialog=function(){var A,T,M=0,j=this;return(0,p.$$)(".jodit-dialog",this.destination).forEach(function(P){A=P.component,T=parseInt((0,p.css)(P,"zIndex"),10),A.isOpened&&!isNaN(T)&&T>M&&(j=A,M=T)}),j},E.prototype.setMaxZIndex=function(){if(!this.getMod("static")){var A=20000004,T=0;(0,p.$$)(".jodit-dialog",this.destination).forEach(function(M){T=parseInt((0,p.css)(M,"zIndex"),10),A=Math.max(isNaN(T)?0:T,A)}),this.container.style.zIndex=(A+1).toString()}},E.prototype.toggleFullSize=function(A){(0,p.isVoid)(A)&&(A=!this.getMod("fullsize")),this.setMod("fullsize",A),C.prototype.toggleFullSize.call(this,A)},E.prototype.open=function(A,T,M,j){if(v.eventEmitter.fire("closeAllPopups hideHelpers"),this.e.fire(this,"beforeOpen")===!1)return this;(0,p.isBoolean)(A)&&(M=A),(0,p.isBoolean)(T)&&(j=T),this.destroyAfterClose=M===!0;var P=(0,p.isBoolean)(A)?void 0:A,I=(0,p.isBoolean)(T)?void 0:T;return I!==void 0&&this.setHeader(I),P&&this.setContent(P),this.setMod("active",!0),this.isOpened=!0,this.setModal(j),this.destination.appendChild(this.container),this.getMod("static")!==!0?(this.setPosition(this.offsetX,this.offsetY),this.setMaxZIndex()):this.container.style.removeProperty("z-index"),this.o.fullsize&&this.toggleFullSize(!0),this.e.fire("afterOpen",this),this},E.prototype.setModal=function(A){return this.isModal=!!A,this.setMod("modal",this.isModal),this},E.prototype.close=function(){return this.isDestructed||!this.isOpened||this.getMod("static")===!0||this.e.fire("beforeClose",this)===!1||(this.setMod("active",!1),this.isOpened=!1,this.isFullSize&&this.toggleFullSize(!1),f.Dom.safeRemove(this.container),this.removeGlobalResizeListeners(),this.destroyAfterClose&&this.destruct(),this.e.fire(this,"afterClose"),this.e.fire(this.ow,"joditCloseDialog")),this},E.prototype.buildToolbar=function(){this.o.buttons&&this.toolbar.build((0,p.splitArray)(this.o.buttons)).setMod("mode","header").appendTo(this.dialogbox_toolbar)},E.prototype.destruct=function(){this.isInDestruct||(this.setStatus(g.STATUSES.beforeDestruct),this.isOpened&&this.close(),this.events&&(this.removeGlobalResizeListeners(),this.events.off(this.container,"close_dialog",self.close).off(this.ow,"keydown",this.onEsc).off(this.ow,"resize",this.onResize)),C.prototype.destruct.call(this))},u.__decorate([S.autobind],E.prototype,"onMouseUp",null),u.__decorate([S.autobind],E.prototype,"onHeaderMouseDown",null),u.__decorate([S.autobind],E.prototype,"onMouseMove",null),u.__decorate([S.autobind],E.prototype,"onEsc",null),u.__decorate([S.autobind],E.prototype,"onResizerMouseDown",null),u.__decorate([S.autobind],E.prototype,"close",null),u.__decorate([(0,S.hook)("ready")],E.prototype,"buildToolbar",null),u.__decorate([S.component],E)}(m.ViewWithToolbar);o.Dialog=w},92080:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Confirm=o.Prompt=o.Alert=o.Dialog=void 0;var u=s(6690);Object.defineProperty(o,"Dialog",{enumerable:!0,get:function(){return u.Dialog}});var d=s(97528);Object.defineProperty(o,"Alert",{enumerable:!0,get:function(){return d.Alert}});var h=s(35789);Object.defineProperty(o,"Prompt",{enumerable:!0,get:function(){return h.Prompt}});var p=s(47360);Object.defineProperty(o,"Confirm",{enumerable:!0,get:function(){return p.Confirm}})},35789:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Prompt=void 0;var u=s(92080),d=s(2074),h=s(40332);o.Prompt=function(p,m,f,g,v){var S=this instanceof u.Dialog?this:new u.Dialog,x=(0,d.Button)(S,"cancel","Cancel"),b=(0,d.Button)(S,"ok","Ok"),_=S.c.element("form",{class:"jodit-dialog_prompt"}),w=S.c.element("input",{autofocus:!0,class:"jodit-input"}),C=S.c.element("label");(0,h.isFunction)(m)&&(f=m,m=void 0),g&&(0,h.attr)(w,"placeholder",g),C.appendChild(S.c.text(p)),_.appendChild(C),_.appendChild(w),x.onAction(S.close);var E=function(){f&&(0,h.isFunction)(f)&&f(w.value)===!1||S.close()};return b.onAction(E),S.e.on(_,"submit",function(){return E(),!1}),S.setFooter([b,x]),S.open(_,m||"&nbsp;",!0,!0),w.focus(),v!==void 0&&v.length&&(w.value=v,w.select()),S}},34468:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255),d=s(64968),h=s(40332),p=s(46341),m=s(2074),f=s(21347),g=s(35503),v=s(66267),S=s(36303),x=s(48096),b="jodit-filebrowser-preview",_=function(w,C){return w===void 0&&(w="next"),C===void 0&&(C="right"),'<div class="'.concat(b,"__navigation ").concat(b,"__navigation_arrow_").concat(w,'">')+""+m.Icon.get("angle-"+C)+"</a>"};o.default=function(w){if(!w.o.contextMenu)return function(){};var C=(0,p.makeContextMenu)(w);return function(E){var A=(0,f.getItem)(E.target,w.container);if(A){var T=A,M=w.options,j=function(P){return(0,h.attr)(T,P)||""};return w.async.setTimeout(function(){var P=(0,f.elementToItem)(A,(0,v.elementsMap)(w));P&&(w.state.activeElements=[P],C.show(E.clientX,E.clientY,[!(j("data-is-file")==="1"||!M.editImage||!w.dataProvider.canI("ImageResize")&&!w.dataProvider.canI("ImageCrop"))&&{icon:"pencil",title:"Edit",exec:function(){return g.openImageEditor.call(w,j("href"),j("data-name"),j("data-path"),j("data-source"))}},!!w.dataProvider.canI("FileRename")&&{icon:"italic",title:"Rename",exec:function(){w.e.fire("fileRename.filebrowser",j("data-name"),j("data-path"),j("data-source"))}},!!w.dataProvider.canI("FileRemove")&&{icon:"bin",title:"Delete",exec:function(){return u.__awaiter(void 0,void 0,Promise,function(){var I;return u.__generator(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,(0,x.deleteFile)(w,j("data-name"),j("data-source"))];case 1:return k.sent(),[3,3];case 2:return I=k.sent(),[2,w.status(I)];case 3:return w.state.activeElements=[],[2,(0,S.loadTree)(w).catch(w.status)]}})})}},!!M.preview&&{icon:"eye",title:"Preview",exec:function(){var I=w.dlg({buttons:["fullsize","dialog.close"]}),k=w.c.div(b,'<div class="jodit-icon_loader"></div>'),R=w.c.div(b+"__box"),O=w.c.fromHTML(_()),D=w.c.fromHTML(_("prev","left")),L=function(B){var F=w.c.element("img");F.setAttribute("src",B);var H=function(){var ee;w.isInDestruct||(w.e.off(F,"load"),d.Dom.detach(k),M.showPreviewNavigation&&(d.Dom.prevWithClass(T,w.files.getFullElName("item"))&&k.appendChild(D),d.Dom.nextWithClass(T,w.files.getFullElName("item"))&&k.appendChild(O)),k.appendChild(R),R.appendChild(F),I.setPosition(),(ee=w==null?void 0:w.events)===null||ee===void 0||ee.fire("previewOpenedAndLoaded"))};w.e.on(F,"load",H),F.complete&&H()};w.e.on([O,D],"click",function(){if(!(T=this===O?d.Dom.nextWithClass(T,w.files.getFullElName("item")):d.Dom.prevWithClass(T,w.files.getFullElName("item"))))throw(0,h.error)("Need element");d.Dom.detach(k),d.Dom.detach(R),k.innerHTML='<div class="jodit-icon_loader"></div>',L(j("href"))}),w.e.on("beforeDestruct",function(){I.destruct()}),I.container.classList.add(b+"__dialog"),I.setContent(k),I.setPosition(),I.open(),L(j("href")),w.events.on("beforeDestruct",function(){I.destruct()}).fire("previewOpened")}},{icon:"upload",title:"Download",exec:function(){var I=j("href");I&&w.ow.open(I)}}]))},w.defaultTimeout),w.e.on("beforeClose",function(){return C.close()}).on("beforeDestruct",function(){return C.destruct()}),E.stopPropagation(),E.preventDefault(),!1}}}},66267:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.elementsMap=void 0;var s=new WeakMap;o.elementsMap=function(u){var d=s.get(u);return d||s.set(u,d={}),d}},63511:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.FileBrowserItem=void 0;var u=s(40332),d=function(){function h(p){var m=this;this.data=p,Object.keys(p).forEach(function(f){m[f]=p[f]})}return h.create=function(p){return p instanceof h?p:new h(p)},Object.defineProperty(h.prototype,"path",{get:function(){return(0,u.normalizePath)(this.data.source.path?this.data.source.path+"/":"/")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"imageURL",{get:function(){var p=this.time||new Date().getTime().toString(),m=this.data,f=m.source,g=m.thumb||m.file;return m.thumbIsAbsolute&&g?g:(0,u.normalizeUrl)(f.baseurl,f.path,g||"")+"?_tmst="+encodeURIComponent(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fileURL",{get:function(){var p=this.data.name,m=this.data,f=m.file,g=m.source;return f!==void 0&&(p=f),m.fileIsAbsolute&&p?p:(0,u.normalizeUrl)(g.baseurl,g.path,p||"")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"time",{get:function(){var p=this.data.changed;return p&&(typeof p=="number"?new Date(p).toLocaleString():p)||""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"uniqueHashKey",{get:function(){var p=this.data;return[p.sourceName,p.name,p.file,this.time,p.thumb].join("_").toLowerCase().replace(/[^0-9a-z\-.]/g,"-")},enumerable:!1,configurable:!0}),h.prototype.toJSON=function(){return this.data},h}();o.FileBrowserItem=d},38097:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(10172),p=s(41374),m=s(6102);d.Config.prototype.filebrowser={namespace:"",extraButtons:[],filter:function(f,g){return g=g.toLowerCase(),(0,h.isString)(f)?f.toLowerCase().indexOf(g)!==-1:(0,h.isString)(f.name)?f.name.toLowerCase().indexOf(g)!==-1:!(0,h.isString)(f.file)||f.file.toLowerCase().indexOf(g)!==-1},sortBy:"changed-desc",sort:function(f,g,v){var S=u.__read(v.toLowerCase().split("-"),2),x=S[0],b=S[1]==="asc",_=function(E,A){return A>E?b?-1:1:E>A?b?1:-1:0};if((0,h.isString)(f))return _(f.toLowerCase(),g.toLowerCase());if(f[x]===void 0||x==="name")return(0,h.isString)(f.name)?_(f.name.toLowerCase(),g.name.toLowerCase()):(0,h.isString)(f.file)?_(f.file.toLowerCase(),g.file.toLowerCase()):0;switch(x){case"changed":var w=new Date(f.changed).getTime(),C=new Date(g.changed).getTime();return b?w-C:C-w;case"size":return w=(0,m.humanSizeToBytes)(f.size),C=(0,m.humanSizeToBytes)(g.size),b?w-C:C-w}return 0},editImage:!0,preview:!0,showPreviewNavigation:!0,showSelectButtonInPreview:!0,contextMenu:!0,howLongShowMsg:3e3,createNewFolder:!0,deleteFolder:!0,renameFolder:!0,moveFolder:!0,moveFile:!0,permissionsPresets:{allowFileDownload:void 0,allowFileMove:void 0,allowFileRemove:void 0,allowFileRename:void 0,allowFileUpload:void 0,allowFileUploadRemote:void 0,allowFiles:void 0,allowFolderCreate:void 0,allowFolderMove:void 0,allowFolderRemove:void 0,allowFolderRename:void 0,allowFolderTree:void 0,allowFolders:void 0,allowGeneratePdf:void 0,allowImageCrop:void 0,allowImageResize:void 0},showFoldersPanel:!0,storeLastOpenedFolder:!0,width:859,height:400,buttons:["filebrowser.upload","filebrowser.remove","filebrowser.update","filebrowser.select","filebrowser.edit","|","filebrowser.tiles","filebrowser.list","|","filebrowser.filter","|","filebrowser.sort"],removeButtons:[],fullsize:!1,showTooltip:!0,view:null,isSuccess:function(f){return f.success},getMessage:function(f){return f.data.messages!==void 0&&(0,h.isArray)(f.data.messages)?f.data.messages.join(" "):""},showFileName:!0,showFileSize:!0,showFileChangeTime:!0,saveStateInStorage:{storeLastOpenedFolder:!0,storeView:!0,storeSortBy:!0},pixelOffsetLoadNewChunk:200,getThumbTemplate:function(f,g,v){var S=this.options,x=this.files.getFullElName("item"),b=S.showFileName,_=S.showFileSize&&f.size,w=S.showFileChangeTime&&f.time,C="";f.file!==void 0&&(C=f.file);var E='<div class="'.concat(x,'-info">').concat(b?'<span class="'.concat(x,'-info-filename">').concat(C,"</span>"):"").concat(_?'<span class="'.concat(x,'-info-filesize">').concat(f.size,"</span>"):"").concat(w?'<span class="'.concat(x,'-info-filechanged">').concat(w,"</span>"):"","</div>");return`<a
			data-jodit-filebrowser-item="true"
			data-is-file="`.concat(f.isImage?0:1,`"
			draggable="true"
			class="`).concat(x,`"
			href="`).concat(f.fileURL,`"
			data-source="`).concat(v,`"
			data-path="`).concat(f.path,`"
			data-name="`).concat(C,`"
			title="`).concat(C,`"
			data-url="`).concat(f.fileURL,`">
				<img
					data-is-file="`).concat(f.isImage?0:1,`"
					data-src="`).concat(f.fileURL,`"
					src="`).concat(f.imageURL,`"
					alt="`).concat(C,`"
					loading="lazy"
				/>
				`).concat(b||_||w?E:"",`
			</a>`)},ajax:u.__assign(u.__assign({},d.Config.prototype.defaultAjaxOptions),{url:"",data:{},cache:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",method:"POST",processData:!0,headers:{},prepareData:function(f){return f},process:function(f){return f}}),create:{data:{action:"folderCreate"}},getLocalFileByUrl:{data:{action:"getLocalFileByUrl"}},resize:{data:{action:"imageResize"}},crop:{data:{action:"imageCrop"}},fileMove:{data:{action:"fileMove"}},folderMove:{data:{action:"folderMove"}},fileRename:{data:{action:"fileRename"}},folderRename:{data:{action:"folderRename"}},fileRemove:{data:{action:"fileRemove"}},folderRemove:{data:{action:"folderRemove"}},items:{data:{action:"files"}},folder:{data:{action:"folders"}},permissions:{data:{action:"permissions"}}},d.Config.prototype.controls.filebrowser={upload:{icon:"plus",isInput:!0,isDisabled:function(f){return!f.dataProvider.canI("FileUpload")},getContent:function(f){var g=new p.UIFileInput(f,{onlyImages:f.state.onlyImages});return f.e.fire("bindUploader.filebrowser",g.container),g.container}},remove:{icon:"bin",isDisabled:function(f){return!f.state.activeElements.length||!f.dataProvider.canI("FileRemove")},exec:function(f){f.e.fire("fileRemove.filebrowser")}},update:{exec:function(f){f.e.fire("update.filebrowser")}},select:{icon:"check",isDisabled:function(f){return!f.state.activeElements.length},exec:function(f){f.e.fire("select.filebrowser")}},edit:{icon:"pencil",isDisabled:function(f){var g=f.state.activeElements;return g.length!==1||!g[0].isImage||!(f.dataProvider.canI("ImageCrop")||f.dataProvider.canI("ImageResize"))},exec:function(f){f.e.fire("edit.filebrowser")}},tiles:{icon:"th",isActive:function(f){return f.state.view==="tiles"},exec:function(f){f.e.fire("view.filebrowser","tiles")}},list:{icon:"th-list",isActive:function(f){return f.state.view==="list"},exec:function(f){f.e.fire("view.filebrowser","list")}},filter:{isInput:!0,getContent:function(f,g,v){var S=v.container.querySelector(".jodit-input");if(S)return S;var x=f.c.element("input",{class:"jodit-input",placeholder:f.i18n("Filter")});return x.value=f.state.filterWord,f.e.on(x,"keydown mousedown",f.async.debounce(function(){f.e.fire("filter.filebrowser",x.value)},f.defaultTimeout)),x}},sort:{isInput:!0,getContent:function(f){var g=f.c.fromHTML('<select class="jodit-input jodit-select">'+'<option value="changed-asc">'.concat(f.i18n("Sort by changed")," ()</option>")+'<option value="changed-desc">'.concat(f.i18n("Sort by changed")," ()</option>")+'<option value="name-asc">'.concat(f.i18n("Sort by name")," ()</option>")+'<option value="name-desc">'.concat(f.i18n("Sort by name")," ()</option>")+'<option value="size-asc">'.concat(f.i18n("Sort by size")," ()</option>")+'<option value="size-desc">'.concat(f.i18n("Sort by size")," ()</option>")+"</select>");return g.value=f.state.sortBy,f.e.on("sort.filebrowser",function(v){g.value!==v&&(g.value=v)}).on(g,"change",function(){f.e.fire("sort.filebrowser",g.value)}),g}}}},82530:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_SOURCE_NAME=void 0;var u=s(20255),d=s(40332),h=s(30056),p=s(43441),m=s(63511);o.DEFAULT_SOURCE_NAME="default";var f=function(){function g(v,S){this.parent=v,this.options=S,this.__currentPermissions=null,this.ajaxInstances=new Map,this.progressHandler=function(x){}}return Object.defineProperty(g.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),g.prototype.get=function(v){var S=this,x=this.ajaxInstances;if(x.has(v)){var b=x.get(v);b==null||b.abort(),x.delete(v)}var _=(0,d.ConfigProto)(this.options[v]!==void 0?this.options[v]:{},(0,d.ConfigProto)({onProgress:this.progressHandler},this.o.ajax));_.prepareData&&(_.data=_.prepareData.call(this,_.data));var w=new h.Ajax(_);x.set(v,w);var C=w.send();return C.finally(function(){w.destruct(),x.delete(v),S.progressHandler(100)}).catch(function(){return null}),C.then(function(E){return E.json()}).then(function(E){if(E&&!S.isSuccess(E))throw new Error(S.getMessage(E));return E})},g.prototype.onProgress=function(v){this.progressHandler=v},g.prototype.permissions=function(v,S){return u.__awaiter(this,void 0,Promise,function(){var x=this;return u.__generator(this,function(b){return this.o.permissions?(this.o.permissions.data.path=v,this.o.permissions.data.source=S,this.o.permissions.url?[2,this.get("permissions").then(function(_){var w=x.o.permissions.process;if(w||(w=x.o.ajax.process),w){var C=w.call(self,_);C.data.permissions&&(x.__currentPermissions=C.data.permissions)}return x.__currentPermissions})]:[2,null]):[2,null]})})},g.prototype.canI=function(v){var S="allow"+v,x=this.o.permissionsPresets[S];return x!==void 0?x:this.__currentPermissions==null||this.__currentPermissions[S]===void 0||this.__currentPermissions[S]},g.prototype.__items=function(v,S,x,b){var _=this,w=this.options;return w.items?(w.items.data.path=v,w.items.data.source=S,w.items.data.mods=x,this.get("items").then(function(C){var E=_.o.items.process;return E||(E=_.o.ajax.process),E&&(C=E.call(self,C)),b(C)})):Promise.reject("Set Items api options")},g.prototype.items=function(v,S,x){var b=this;return x===void 0&&(x={}),this.__items(v,S,x,function(_){return b.generateItemsList(_.data.sources,x)})},g.prototype.itemsEx=function(v,S,x){var b=this;return x===void 0&&(x={}),this.__items(v,S,x,function(_){return{items:b.generateItemsList(_.data.sources,x),loadedTotal:(w=_.data.sources,w.reduce(function(C,E){return C+E.files.length},0))};var w})},g.prototype.generateItemsList=function(v,S){var x=this;S===void 0&&(S={});var b=[];return v.forEach(function(_){if(_.files&&_.files.length){var w=x.o.sort;(0,d.isFunction)(w)&&S.sortBy&&_.files.sort(function(C,E){return w(C,E,S.sortBy)}),_.files.forEach(function(C){(function(E){var A;return!(!((A=S.filterWord)===null||A===void 0)&&A.length)||x.o.filter===void 0||x.o.filter(E,S.filterWord)})(C)&&function(E){return E.type==="folder"||!S.onlyImages||E.isImage===void 0||E.isImage}(C)&&b.push(m.FileBrowserItem.create(u.__assign(u.__assign({},C),{sourceName:_.name,source:_})))})}}),b},g.prototype.tree=function(v,S){return u.__awaiter(this,void 0,Promise,function(){var x=this;return u.__generator(this,function(b){switch(b.label){case 0:return v=(0,d.normalizeRelativePath)(v),this.o.folder?[4,this.permissions(v,S)]:[2,Promise.reject("Set Folder Api options")];case 1:return b.sent(),this.o.folder.data.path=v,this.o.folder.data.source=S,[2,this.get("folder").then(function(_){var w=x.o.folder.process;return w||(w=x.o.ajax.process),w&&(_=w.call(self,_)),_.data.sources})]}})})},g.prototype.getPathByUrl=function(v){var S=this;return(0,d.set)("options.getLocalFileByUrl.data.url",v,this),this.get("getLocalFileByUrl").then(function(x){if(S.isSuccess(x))return x.data;throw(0,d.error)(S.getMessage(x))})},g.prototype.createFolder=function(v,S,x){var b=this,_=this.o.create;if(!_)throw(0,d.error)("Set Create api options");return _.data.source=x,_.data.path=S,_.data.name=v,this.get("create").then(function(w){if(b.isSuccess(w))return!0;throw(0,d.error)(b.getMessage(w))})},g.prototype.move=function(v,S,x,b){var _=this,w=b?"fileMove":"folderMove",C=this.options[w];if(!C)throw(0,d.error)("Set Move api options");return C.data.from=v,C.data.path=S,C.data.source=x,this.get(w).then(function(E){if(_.isSuccess(E))return!0;throw(0,d.error)(_.getMessage(E))})},g.prototype.remove=function(v,S,x,b){var _=this,w=this.o[v];if(!w)throw(0,d.error)('Set "'.concat(v,'" api options'));return w.data.path=S,w.data.name=x,w.data.source=b,this.get(v).then(function(C){return w.process&&(C=w.process.call(_,C)),_.getMessage(C)})},g.prototype.fileRemove=function(v,S,x){return this.remove("fileRemove",v,S,x)},g.prototype.folderRemove=function(v,S,x){return this.remove("folderRemove",v,S,x)},g.prototype.rename=function(v,S,x,b,_){var w=this,C=this.o[v];if(!C)throw(0,d.error)('Set "'.concat(v,'" api options'));return C.data.path=S,C.data.name=x,C.data.newname=b,C.data.source=_,this.get(v).then(function(E){return C.process&&(E=C.process.call(self,E)),w.getMessage(E)})},g.prototype.folderRename=function(v,S,x,b){return this.rename("folderRename",v,S,x,b)},g.prototype.fileRename=function(v,S,x,b){return this.rename("fileRename",v,S,x,b)},g.prototype.changeImage=function(v,S,x,b,_,w){this.o[v]||(this.o[v]={data:{}});var C=this.o[v];return C.data===void 0&&(C.data={action:v}),C.data.newname=_||b,w&&(C.data.box=w),C.data.path=S,C.data.name=b,C.data.source=x,this.get(v).then(function(){return!0})},g.prototype.crop=function(v,S,x,b,_){return this.changeImage("crop",v,S,x,b,_)},g.prototype.resize=function(v,S,x,b,_){return this.changeImage("resize",v,S,x,b,_)},g.prototype.getMessage=function(v){return this.options.getMessage(v)},g.prototype.isSuccess=function(v){return this.options.isSuccess(v)},g.prototype.destruct=function(){this.ajaxInstances.forEach(function(v){return v.destruct()}),this.ajaxInstances.clear()},u.__decorate([p.autobind],g)}();o.default=f},46341:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.makeContextMenu=o.makeDataProvider=void 0;var u=s(82530),d=s(60403);o.makeDataProvider=function(h,p){return new u.default(h,p)},o.makeContextMenu=function(h){return new d.ContextMenu(h)}},48096:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.deleteFile=void 0,o.deleteFile=function(s,u,d){return s.dataProvider.fileRemove(s.state.currentPath,u,d).then(function(h){s.status(h||s.i18n('File "%s" was deleted',u),!0)}).catch(s.status)}},4253:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.loadItems=void 0,o.loadItems=function(s){return s.files.setMod("active",!0),s.files.setMod("loading",!0),s.dataProvider.items(s.state.currentPath,s.state.currentSource,{sortBy:s.state.sortBy,onlyImages:s.state.onlyImages,filterWord:s.state.filterWord}).then(function(u){u&&(s.state.elements=u,s.state.activeElements=[])}).catch(s.status).finally(function(){return s.files.setMod("loading",!1)})}},36303:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.loadTree=void 0;var u=s(20255),d=s(64968),h=s(4253);o.loadTree=function(p){return u.__awaiter(this,void 0,Promise,function(){var m,f;return u.__generator(this,function(g){return p.tree.setMod("active",!0),d.Dom.detach(p.tree.container),m=(0,h.loadItems)(p),p.o.showFoldersPanel?(p.tree.setMod("loading",!0),f=p.dataProvider.tree(p.state.currentPath,p.state.currentSource).then(function(v){p.state.sources=v}).catch(p.status).finally(function(){return p.tree.setMod("loading",!1)}),[2,Promise.all([f,m])]):(p.tree.setMod("active",!1),[2,m])})})}},50885:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isFileBrowserFilesItem=o.FileBrowser=void 0;var u=s(20255);s(40692);var d=s(93166),h=s(86893),p=s(77462),m=s(40332),f=s(64968),g=s(46341),v=s(86774),S=s(21347),x=s(44734),b=s(82530),_=s(43441),w=s(98782),C=s(55395),E=s(36303),A=s(4253),T=s(56562),M=s(59829),j=s(43608);s(38097);var P=function(I){function k(R){var O,D=this;(D=I.call(this,R)||this).browser=D.c.div(D.componentName),D.status_line=D.c.div(D.getFullElName("status")),D.tree=new w.FileBrowserTree(D),D.files=new w.FileBrowserFiles(D),D.state=(0,C.observable)({currentPath:"",currentSource:b.DEFAULT_SOURCE_NAME,currentBaseUrl:"",activeElements:[],elements:[],sources:[],view:"tiles",sortBy:"changed-desc",filterWord:"",onlyImages:!1}),D.errorHandler=function(Q){(0,m.isAbort)(Q)||(Q instanceof Error?D.status(D.i18n(Q.message)):D.status(D.dataProvider.getMessage(Q)))},D.close=function(){D._dialog.close()},D.attachEvents(R);var L=D;L.options=(0,m.ConfigProto)(R||{},d.Config.defaultOptions.filebrowser),L.storage=p.Storage.makeStorage(!!D.o.saveStateInStorage,D.componentName),L.dataProvider=(0,g.makeDataProvider)(L,L.options),L._dialog=D.dlg({minWidth:Math.min(700,screen.width),minHeight:300,buttons:(O=D.o.headerButtons)!==null&&O!==void 0?O:["fullsize","dialog.close"]}),D.proxyDialogEvents(L),L.browser.component=D,L.container=L.browser,L.o.showFoldersPanel&&L.browser.appendChild(L.tree.container),L.browser.appendChild(L.files.container),L.browser.appendChild(L.status_line),x.selfListeners.call(L),S.nativeListeners.call(L),v.stateListeners.call(L),L._dialog.setSize(L.o.width,L.o.height),["getLocalFileByUrl","crop","resize","create","fileMove","folderMove","fileRename","folderRename","fileRemove","folderRemove","folder","items","permissions"].forEach(function(Q){D.options[Q]!=null&&(D.options[Q]=(0,m.ConfigProto)(D.options[Q],D.o.ajax))});var B=D.o.saveStateInStorage||{storeLastOpenedFolder:!1,storeView:!1,storeSortBy:!1},F=B.storeSortBy,H=B.storeLastOpenedFolder,ee=B.storeView&&D.storage.get("view");L.state.view=ee&&D.o.view==null?ee==="list"?"list":"tiles":L.o.view==="list"?"list":"tiles",L.files.setMod("view",L.state.view);var U=F&&L.storage.get("sortBy");if(U){var X=U.split("-");L.state.sortBy=["changed","name","size"].includes(X[0])?U:"changed-desc"}else L.state.sortBy=L.o.sortBy||"changed-desc";if(H){var W=L.storage.get("currentPath"),ie=L.storage.get("currentSource");L.state.currentPath=W??"",L.state.currentSource=ie??""}return L.initUploader(L),L.setStatus(T.STATUSES.ready),D}return u.__extends(k,I),k.prototype.className=function(){return"Filebrowser"},k.prototype.onSelect=function(R){var O=this;return function(){if(O.state.activeElements.length){var D=[],L=[];O.state.activeElements.forEach(function(F){var H=F.fileURL;H&&(D.push(H),L.push(F.isImage||!1))}),O.close();var B={baseurl:"",files:D,isImages:L};(0,m.isFunction)(R)&&R(B),O.close()}return!1}},Object.defineProperty(k.prototype,"isOpened",{get:function(){return this._dialog.isOpened&&this.browser.style.display!=="none"},enumerable:!1,configurable:!0}),k.prototype.status=function(R,O){R&&!(0,m.isAbort)(R)&&((0,m.isString)(R)||(R=R.message),(0,m.isString)(R)&&(0,m.trim)(R).length&&this.message.message(R,O?"success":"error",this.o.howLongShowMsg))},k.prototype.open=function(R,O){var D=this;return R===void 0&&(R=this.o.defaultCallback),O===void 0&&(O=!1),this.state.onlyImages=O,this.async.promise(function(L,B){if(!D.o.items||!D.o.items.url)throw(0,m.error)("Need set options.filebrowser.ajax.url");var F=0;D.e.off(D.files.container,"dblclick").on(D.files.container,"dblclick",D.onSelect(R)).on(D.files.container,"touchstart",function(){var ee=new Date().getTime();h.EMULATE_DBLCLICK_TIMEOUT>ee-F&&D.onSelect(R)(),F=ee}).off("select.filebrowser").on("select.filebrowser",D.onSelect(R));var H=D.c.div();D.toolbar.build(D.__getButtons()).appendTo(H),D._dialog.open(D.browser,H),D.e.fire("sort.filebrowser",D.state.sortBy),(0,E.loadTree)(D).then(L,B)})},k.prototype.__getButtons=function(){var R,O=this;return((R=this.o.buttons)!==null&&R!==void 0?R:[]).filter(function(D){if(!(0,m.isString)(D))return!0;switch(D){case"filebrowser.upload":return O.dataProvider.canI("FileUpload");case"filebrowser.edit":return O.dataProvider.canI("ImageResize")||O.dataProvider.canI("ImageCrop");case"filebrowser.remove":return O.dataProvider.canI("FileRemove")}return!0})},k.prototype.initUploader=function(R){var O,D=this,L=this,B=(O=R==null?void 0:R.options)===null||O===void 0?void 0:O.uploader,F=(0,m.ConfigProto)(B||{},d.Config.defaultOptions.uploader),H=function(){return(0,A.loadItems)(D)};L.uploader=L.getInstance("Uploader",F),L.uploader.setPath(L.state.currentPath).setSource(L.state.currentSource).bind(L.browser,H,L.errorHandler),this.state.on(["change.currentPath","change.currentSource"],function(){D.uploader.setPath(D.state.currentPath).setSource(D.state.currentSource)}),L.e.on("bindUploader.filebrowser",function(ee){L.uploader.bind(ee,H,L.errorHandler)})},k.prototype.proxyDialogEvents=function(R){var O=this;["afterClose","beforeOpen"].forEach(function(D){R._dialog.events.on(R.dlg,D,function(){O.e.fire(D)})})},k.prototype.destruct=function(){this.isInDestruct||(I.prototype.destruct.call(this),this._dialog.destruct(),this.events&&this.e.off(".filebrowser"),this.uploader&&this.uploader.destruct())},u.__decorate([_.autobind],k.prototype,"status",null),u.__decorate([_.autobind],k.prototype,"open",null),u.__decorate([(0,_.derive)(M.Dlgs)],k)}(j.ViewWithToolbar);o.FileBrowser=P,o.isFileBrowserFilesItem=function(I){return f.Dom.isElement(I)&&I.classList.contains(w.FileBrowserFiles.prototype.getFullElName("item"))}},63463:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(50885),o)},21347:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.nativeListeners=o.elementToItem=o.getItem=void 0;var u=s(20255),d=s(40332),h=s(34468),p=s(64968),m=s(66267),f=s(36303);o.getItem=function(g,v,S){return S===void 0&&(S="a"),p.Dom.closest(g,function(x){return p.Dom.isTag(x,S)},v)},o.elementToItem=function(g,v){return v[g.dataset.key||""].item},o.nativeListeners=function(){var g=this,v=!1,S=(0,m.elementsMap)(this),x=this;x.e.on(x.tree.container,"dragstart",function(b){var _=(0,o.getItem)(b.target,x.container);_&&x.o.moveFolder&&(v=_)}).on(x.tree.container,"drop",function(b){if((x.o.moveFile||x.o.moveFolder)&&v){var _=(0,d.attr)(v,"-path")||"";if(!x.o.moveFolder&&v.classList.contains(g.tree.getFullElName("item"))||v.classList.contains(g.files.getFullElName("item"))&&(_+=(0,d.attr)(v,"-name"),!x.o.moveFile))return!1;var w=(0,o.getItem)(b.target,x.container);if(!w)return;x.dataProvider.move(_,(0,d.attr)(w,"-path")||"",(0,d.attr)(w,"-source")||"",v.classList.contains(g.files.getFullElName("item"))).then(function(){return(0,f.loadTree)(g)}).catch(x.status),v=!1}}).on(x.files.container,"contextmenu",(0,h.default)(x)).on(x.files.container,"click",function(b){(0,d.ctrlKey)(b)||(g.state.activeElements=[])}).on(x.files.container,"click",function(b){var _=(0,o.getItem)(b.target,x.container);if(_){var w=(0,o.elementToItem)(_,S);if(w)return x.state.activeElements=(0,d.ctrlKey)(b)?u.__spreadArray(u.__spreadArray([],u.__read(x.state.activeElements),!1),[w],!1):[w],b.stopPropagation(),!1}}).on(x.files.container,"dragstart",function(b){if(x.o.moveFile){var _=(0,o.getItem)(b.target,x.container);if(!_)return;v=_}}).on(x.container,"drop",function(b){return b.preventDefault()})}},44734:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.selfListeners=void 0;var u=s(20255),d=s(10172),h=s(40332),p=s(82530),m=s(35503),f=s(36303),g=s(4253),v=s(48096);o.selfListeners=function(){var S=this,x=this.state,b=this.dataProvider,_=this;_.e.on("view.filebrowser",function(w){w!==x.view&&(x.view=w)}).on("sort.filebrowser",function(w){w!==x.sortBy&&(x.sortBy=w,(0,g.loadItems)(_))}).on("filter.filebrowser",function(w){w!==x.filterWord&&(x.filterWord=w,(0,g.loadItems)(_))}).on("openFolder.filebrowser",function(w){var C;C=w.name===".."?w.path.split("/").filter(function(E){return E.length}).slice(0,-1).join("/"):(0,h.normalizePath)(w.path,w.name),_.state.currentPath=C,_.state.currentSource=w.name==="."?p.DEFAULT_SOURCE_NAME:w.source}).on("removeFolder.filebrowser",function(w){_.confirm("Are you sure?","Delete",function(C){C&&b.folderRemove(w.path,w.name,w.source).then(function(E){return _.status(E,!0),(0,f.loadTree)(_)}).catch(_.status)})}).on("renameFolder.filebrowser",function(w){_.prompt("Enter new name","Rename",function(C){if(!(0,d.isValidName)(C))return _.status(_.i18n("Enter new name")),!1;b.folderRename(w.path,w.name,C,w.source).then(function(E){return _.state.activeElements=[],_.status(E,!0),(0,f.loadTree)(_)}).catch(_.status)},"type name",w.name)}).on("addFolder.filebrowser",function(w){_.prompt("Enter Directory name","Create directory",function(C){b.createFolder(C,w.path,w.source).then(function(){return(0,f.loadTree)(_)}).catch(_.status)},"type name")}).on("fileRemove.filebrowser",function(){_.state.activeElements.length&&_.confirm("Are you sure?","",function(w){if(w){var C=[];_.state.activeElements.forEach(function(E){C.push((0,v.deleteFile)(_,E.file||E.name||"",E.sourceName))}),_.state.activeElements=[],Promise.all(C).then(function(){return(0,f.loadTree)(_).catch(_.status)},_.status)}})}).on("edit.filebrowser",function(){if(_.state.activeElements.length===1){var w=u.__read(S.state.activeElements,1)[0];m.openImageEditor.call(_,w.fileURL,w.file||"",w.path,w.sourceName)}}).on("fileRename.filebrowser",function(w,C,E){_.state.activeElements.length===1&&_.prompt("Enter new name","Rename",function(A){if(!(0,d.isValidName)(A))return _.status(_.i18n("Enter new name")),!1;b.fileRename(C,w,A,E).then(function(T){_.state.activeElements=[],_.status(T,!0),(0,g.loadItems)(_)}).catch(_.status)},"type name",w)}).on("update.filebrowser",function(){(0,f.loadTree)(S).then(S.status,S.status)})}},86774:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.stateListeners=void 0;var u=s(64968),d=s(89693),h=s(2074),p=s(66267),m=s(36303);o.stateListeners=function(){var f=this,g=(0,p.elementsMap)(this),v=this,S=v.state,x=v.files,b=v.create,_=v.options;S.on(["change.currentPath","change.currentSource"],this.async.debounce(function(){f.o.saveStateInStorage&&f.o.saveStateInStorage.storeLastOpenedFolder&&f.storage.set("currentPath",f.state.currentPath).set("currentSource",f.state.currentSource),(0,m.loadTree)(f).catch(f.status)},this.defaultTimeout)).on("beforeChange.activeElements",function(){S.activeElements.forEach(function(w){var C=g[w.uniqueHashKey].elm;C&&C.classList.remove(x.getFullElName("item","active",!0))})}).on("change.activeElements",function(){f.e.fire("changeSelection"),S.activeElements.forEach(function(w){var C=g[w.uniqueHashKey].elm;C&&C.classList.add(x.getFullElName("item","active",!0))})}).on("change.view",function(){x.setMod("view",S.view),f.o.saveStateInStorage&&f.o.saveStateInStorage.storeView&&f.storage.set("view",S.view)}).on("change.sortBy",function(){f.o.saveStateInStorage&&f.o.saveStateInStorage.storeSortBy&&f.storage.set("sortBy",S.sortBy)}).on("change.elements",this.async.debounce(function(){u.Dom.detach(x.container),S.elements.length?S.elements.forEach(function(w){f.files.container.appendChild(function(C){var E=C.uniqueHashKey;if(g[E])return g[E].elm;var A=b.fromHTML(_.getThumbTemplate.call(f,C,C.source,C.sourceName.toString()));return A.dataset.key=E,g[E]={item:C,elm:A},g[E].elm}(w))}):x.container.appendChild(b.div(f.componentName+"_no-files_true",f.i18n("There are no files")))},this.defaultTimeout)).on("change.sources",this.async.debounce(function(){u.Dom.detach(f.tree.container),S.sources.forEach(function(w){var C=w.name;if(C&&C!=="default"&&f.tree.container.appendChild(b.div(f.tree.getFullElName("source-title"),C)),w.folders.forEach(function(A){var T,M=b.a(f.tree.getFullElName("item"),{draggable:"draggable",href:"#","data-path":(0,d.normalizePath)(w.path,A+"/"),"data-name":A,"data-source":C,"data-source-path":w.path},b.span(f.tree.getFullElName("item-title"),A)),j=function(P){return function(I){f.e.fire("".concat(P,".filebrowser"),{name:A,path:(0,d.normalizePath)(w.path+"/"),source:C}),I.stopPropagation(),I.preventDefault()}};f.e.on(M,"click",j("openFolder")),f.tree.container.appendChild(M),A!==".."&&A!=="."&&(_.renameFolder&&f.dataProvider.canI("FolderRename")&&((T=(0,h.Button)(f,{icon:{name:"pencil"},name:"rename",tooltip:"Rename",size:"tiny"})).onAction(j("renameFolder")),M.appendChild(T.container)),_.deleteFolder&&f.dataProvider.canI("FolderRemove")&&((T=(0,h.Button)(f,{icon:{name:"cancel"},name:"remove",tooltip:"Delete",size:"tiny"})).onAction(j("removeFolder")),M.appendChild(T.container)))}),_.createNewFolder&&f.dataProvider.canI("FolderCreate")){var E=(0,h.Button)(f,"plus","Add folder","secondary");E.onAction(function(){f.e.fire("addFolder",{path:(0,d.normalizePath)(w.path+"/"),source:C})}),f.tree.append(E)}})},this.defaultTimeout))}},21505:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.FileBrowserFiles=void 0;var u=s(20255);s(27452);var d=function(h){function p(){return h!==null&&h.apply(this,arguments)||this}return u.__extends(p,h),p.prototype.className=function(){return"FilebrowserFiles"},p}(s(2074).UIGroup);o.FileBrowserFiles=d},98782:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(21505),o),u.__exportStar(s(42472),o)},42472:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.FileBrowserTree=void 0;var u=s(20255);s(51422);var d=function(h){function p(){return h!==null&&h.apply(this,arguments)||this}return u.__extends(p,h),p.prototype.className=function(){return"FilebrowserTree"},p}(s(2074).UIGroup);o.FileBrowserTree=d},3107:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Command=void 0;var s=function(){function u(d,h,p,m){this.oldValue=d,this.newValue=h,this.history=p,this.tick=m}return u.prototype.undo=function(){this.history.snapshot.restore(this.oldValue)},u.prototype.redo=function(){this.history.snapshot.restore(this.newValue)},u}();o.Command=s},15432:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.History=void 0;var u=s(20255),d=s(93166),h=s(56562),p=s(31648),m=s(3621),f=s(3107),g=s(43441);d.Config.prototype.history={enable:!0,maxHistoryLength:1/0,timeout:1e3},d.Config.prototype.observer=d.Config.prototype.history;var v=function(S){function x(b,_,w){_===void 0&&(_=new m.Stack(b.o.history.maxHistoryLength)),w===void 0&&(w=new p.Snapshot(b));var C=S.call(this,b)||this;return C.updateTick=0,C.__stack=_,C.snapshot=w,b.o.history.enable&&b.e.on("afterAddPlace.history",function(){C.isInDestruct||(C.startValue=C.snapshot.make(),b.events.on("internalChange internalUpdate",function(){C.startValue=C.snapshot.make()}).on(b.editor,["changeSelection","selectionstart","selectionchange","mousedown","mouseup","keydown","keyup"].map(function(E){return E+".history"}).join(" "),function(){C.startValue.html===C.j.getNativeEditorValue()&&(C.startValue=C.snapshot.make())}).on(C,"change.history",C.onChange))}),C}return u.__extends(x,S),x.prototype.className=function(){return"History"},Object.defineProperty(x.prototype,"startValue",{get:function(){return this.__startValue},set:function(b){this.__startValue=b},enumerable:!1,configurable:!0}),x.prototype.__upTick=function(){this.updateTick+=1},x.prototype.onChange=function(){this.__processChanges()},x.prototype.__processChanges=function(){!this.snapshot.isBlocked&&this.j.o.history.enable&&this.updateStack()},x.prototype.updateStack=function(b){b===void 0&&(b=!1);var _=this.snapshot.make();if(!p.Snapshot.equal(_,this.startValue)){var w=new f.Command(this.startValue,_,this,this.updateTick);if(b){var C=this.__stack.current();C&&this.updateTick===C.tick&&this.__stack.replace(w)}else this.__stack.push(w);this.startValue=_,this.fireChangeStack()}},x.prototype.redo=function(){this.__stack.redo()&&(this.startValue=this.snapshot.make(),this.fireChangeStack())},x.prototype.canRedo=function(){return this.__stack.canRedo()},x.prototype.undo=function(){this.__stack.undo()&&(this.startValue=this.snapshot.make(),this.fireChangeStack())},x.prototype.canUndo=function(){return this.__stack.canUndo()},x.prototype.clear=function(){this.startValue=this.snapshot.make(),this.__stack.clear(),this.fireChangeStack()},Object.defineProperty(x.prototype,"length",{get:function(){return this.__stack.length},enumerable:!1,configurable:!0}),x.prototype.fireChangeStack=function(){var b;this.j&&!this.j.isInDestruct&&((b=this.j.events)===null||b===void 0||b.fire("changeStack"))},x.prototype.destruct=function(){this.isInDestruct||(this.j.events&&this.j.e.off(".history"),this.snapshot.destruct(),S.prototype.destruct.call(this))},u.__decorate([(0,g.debounce)()],x.prototype,"onChange",null),x}(h.ViewComponent);o.History=v},31648:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Snapshot=void 0;var u=s(20255),d=s(56562),h=s(64968),p=s(86893),m=function(f){function g(){var v=f!==null&&f.apply(this,arguments)||this;return v.__isBlocked=!1,v}return u.__extends(g,f),g.prototype.className=function(){return"Snapshot"},g.equal=function(v,S){return v.html===S.html&&JSON.stringify(v.range)===JSON.stringify(S.range)},g.countNodesBeforeInParent=function(v){if(!v.parentNode)return 0;for(var S=v.parentNode.childNodes,x=0,b=null,_=0;S.length>_;_+=1){if(!b||this.isIgnoredNode(S[_])||h.Dom.isText(b)&&h.Dom.isText(S[_])||(x+=1),S[_]===v)return x;b=S[_]}return 0},g.strokeOffset=function(v,S){for(;h.Dom.isText(v);)h.Dom.isText(v=v.previousSibling)&&v.nodeValue&&(S+=v.nodeValue.length);return S},g.prototype.calcHierarchyLadder=function(v){var S=[];if(!v||!v.parentNode||!h.Dom.isOrContains(this.j.editor,v))return[];for(;v&&v!==this.j.editor;)v&&!g.isIgnoredNode(v)&&S.push(g.countNodesBeforeInParent(v)),v=v.parentNode;return S.reverse()},g.prototype.getElementByLadder=function(v){var S,x=this.j.editor;for(S=0;x&&v.length>S;S+=1)x=x.childNodes[v[S]];return x},Object.defineProperty(g.prototype,"isBlocked",{get:function(){return this.__isBlocked},enumerable:!1,configurable:!0}),g.prototype.__block=function(v){this.__isBlocked=v},g.prototype.transaction=function(v){this.__block(!0);try{v()}catch{}this.__block(!1)},g.prototype.make=function(){var v={html:"",range:{startContainer:[],startOffset:0,endContainer:[],endOffset:0}};v.html=this.removeJoditSelection(this.j.editor);var S=this.j.s.sel;if(S&&S.rangeCount){var x=S.getRangeAt(0),b=this.calcHierarchyLadder(x.startContainer),_=this.calcHierarchyLadder(x.endContainer),w=g.strokeOffset(x.startContainer,x.startOffset),C=g.strokeOffset(x.endContainer,x.endOffset);b.length||x.startContainer===this.j.editor||(w=0),_.length||x.endContainer===this.j.editor||(C=0),v.range={startContainer:b,startOffset:w,endContainer:_,endOffset:C}}return v},g.prototype.restore=function(v){var S=this;this.transaction(function(){var x=S.storeScrollState();S.j.getNativeEditorValue()!==v.html&&(S.j.value=v.html),S.restoreOnlySelection(v),S.restoreScrollState(x)})},g.prototype.storeScrollState=function(){return[this.j.ow.scrollY,this.j.editor.scrollTop]},g.prototype.restoreScrollState=function(v){var S=this.j,x=S.ow;x.scrollTo(x.scrollX,v[0]),S.editor.scrollTop=v[1]},g.prototype.restoreOnlySelection=function(v){try{if(v.range){var S=this.j.ed.createRange();S.setStart(this.getElementByLadder(v.range.startContainer),v.range.startOffset),S.setEnd(this.getElementByLadder(v.range.endContainer),v.range.endOffset),this.j.s.selectRange(S)}}catch{this.j.editor.lastChild&&this.j.s.setCursorAfter(this.j.editor.lastChild)}},g.prototype.destruct=function(){this.__block(!1),f.prototype.destruct.call(this)},g.isIgnoredNode=function(v){return h.Dom.isText(v)&&!v.nodeValue||h.Dom.isTemporary(v)},g.prototype.removeJoditSelection=function(v){var S=v.cloneNode(!0);return S.querySelectorAll("[".concat(p.TEMP_ATTR,"]")).forEach(h.Dom.unwrap),S.innerHTML},g}(d.ViewComponent);o.Snapshot=m},3621:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Stack=void 0;var s=function(){function u(d){this.size=d,this.commands=[],this.stackPosition=-1}return Object.defineProperty(u.prototype,"length",{get:function(){return this.commands.length},enumerable:!1,configurable:!0}),u.prototype.clearRedo=function(){this.commands.length=this.stackPosition+1},u.prototype.clear=function(){this.commands.length=0,this.stackPosition=-1},u.prototype.push=function(d){this.clearRedo(),this.commands.push(d),this.stackPosition+=1,this.commands.length>this.size&&(this.commands.shift(),this.stackPosition-=1)},u.prototype.replace=function(d){this.commands[this.stackPosition]=d},u.prototype.current=function(){return this.commands[this.stackPosition]},u.prototype.undo=function(){return!!this.canUndo()&&(this.commands[this.stackPosition]&&this.commands[this.stackPosition].undo(),this.stackPosition-=1,!0)},u.prototype.redo=function(){return!!this.canRedo()&&(this.stackPosition+=1,this.commands[this.stackPosition]&&this.commands[this.stackPosition].redo(),!0)},u.prototype.canUndo=function(){return this.stackPosition>=0},u.prototype.canRedo=function(){return this.commands.length-1>this.stackPosition},u}();o.Stack=s},95356:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.imageeditor={min_width:20,min_height:20,closeAfterSave:!1,width:"85%",height:"85%",crop:!0,resize:!0,resizeUseRatio:!0,resizeMinWidth:20,resizeMinHeight:20,cropUseRatio:!0,cropDefaultWidth:"70%",cropDefaultHeight:"70%"},d.Icon.set("crop",s(3610)).set("resize",s(56170))},35503:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.openImageEditor=o.ImageEditor=void 0;var u=s(20255);s(62820);var d=s(93166),h=s(56562),p=s(40332),m=s(64968),f=s(96516),g=s(9249),v=s(43441);s(95356);var S="jodit-image-editor",x="resize",b="crop",_=function(w){function C(A){var T=w.call(this,A)||this;T.resizeUseRatio=!0,T.cropUseRatio=!0,T.clicked=!1,T.start_x=0,T.start_y=0,T.top_x=0,T.top_y=0,T.width=0,T.height=0,T.activeTab=x,T.naturalWidth=0,T.naturalHeight=0,T.ratio=0,T.new_h=0,T.new_w=0,T.diff_x=0,T.diff_y=0,T.cropBox={x:0,y:0,w:0,h:0},T.resizeBox={w:0,h:0},T.calcCropBox=function(){var I=T.crop_box.parentNode,k=.8*I.offsetWidth,R=.8*I.offsetHeight,O=k,D=R,L=T.naturalWidth,B=T.naturalHeight;k>L&&R>B?(O=L,D=B):T.ratio>k/R?(O=k,D=B*(k/L)):(O=L*(R/B),D=R),(0,p.css)(T.crop_box,{width:O,height:D})},T.showCrop=function(){if(T.cropImage){T.calcCropBox();var I=T.cropImage.offsetWidth||T.image.offsetWidth||T.image.naturalWidth;T.new_w=E.calcValueByPercent(I,T.o.cropDefaultWidth);var k=T.cropImage.offsetHeight||T.image.offsetHeight||T.image.naturalHeight;T.new_h=T.cropUseRatio?T.new_w/T.ratio:E.calcValueByPercent(k,T.o.cropDefaultHeight),(0,p.css)(T.cropHandler,{backgroundImage:"url("+(0,p.attr)(T.cropImage,"src")+")",width:T.new_w,height:T.new_h,left:I/2-T.new_w/2,top:k/2-T.new_h/2}),T.j.e.fire(T.cropHandler,"updatesize")}},T.updateCropBox=function(){if(T.cropImage){var I=T.cropImage.offsetWidth/T.naturalWidth,k=T.cropImage.offsetHeight/T.naturalHeight;T.cropBox.x=(0,p.css)(T.cropHandler,"left")/I,T.cropBox.y=(0,p.css)(T.cropHandler,"top")/k,T.cropBox.w=T.cropHandler.offsetWidth/I,T.cropBox.h=T.cropHandler.offsetHeight/k,T.sizes.textContent=T.cropBox.w.toFixed(0)+"x"+T.cropBox.h.toFixed(0)}},T.updateResizeBox=function(){T.resizeBox.w=T.image.offsetWidth||T.naturalWidth,T.resizeBox.h=T.image.offsetHeight||T.naturalHeight},T.setHandlers=function(){var I=T,k=(0,p.refs)(T.editor),R=k.widthInput,O=k.heightInput;I.j.e.on([I.editor.querySelector(".jodit_bottomright"),I.cropHandler],"mousedown.".concat(S),T.onResizeHandleMouseDown).on(T.j.ow,"resize.".concat(S),function(){T.j.e.fire(I.resizeHandler,"updatesize"),I.showCrop(),T.j.e.fire(I.cropHandler,"updatesize")}),I.j.e.on((0,p.toArray)(T.editor.querySelectorAll(".".concat(S,"__slider-title"))),"click",T.onTitleModeClick).on([R,O],"input",T.onChangeSizeInput);var D=(0,p.refs)(T.editor),L=D.keepAspectRatioResize,B=D.keepAspectRatioCrop;L&&L.addEventListener("change",function(){T.resizeUseRatio=L.checked}),B&&B.addEventListener("change",function(){T.cropUseRatio=B.checked}),I.j.e.on(I.resizeHandler,"updatesize",function(){(0,p.css)(I.resizeHandler,{top:0,left:0,width:I.image.offsetWidth||I.naturalWidth,height:I.image.offsetHeight||I.naturalHeight}),T.updateResizeBox()}).on(I.cropHandler,"updatesize",function(){if(I.cropImage){var F=(0,p.css)(I.cropHandler,"left"),H=(0,p.css)(I.cropHandler,"top"),ee=I.cropHandler.offsetWidth,U=I.cropHandler.offsetHeight;0>F&&(F=0),0>H&&(H=0),F+ee>I.cropImage.offsetWidth&&(ee=I.cropImage.offsetWidth-F,I.cropUseRatio&&(U=ee/I.ratio)),H+U>I.cropImage.offsetHeight&&(U=I.cropImage.offsetHeight-H,I.cropUseRatio&&(ee=U*I.ratio)),(0,p.css)(I.cropHandler,{width:ee,height:U,left:F,top:H,backgroundPosition:-F-1+"px "+(-H-1)+"px",backgroundSize:I.cropImage.offsetWidth+"px "+I.cropImage.offsetHeight+"px"}),I.updateCropBox()}}),Object.values(I.buttons).forEach(function(F){F.onAction(function(){var H={action:I.activeTab,box:I.activeTab===x?I.resizeBox:I.cropBox};switch(F){case I.buttons.saveas:I.j.prompt("Enter new name","Save in new file",function(ee){if(!(0,p.trim)(ee))return I.j.alert("The name should not be empty"),!1;I.onSave(ee,H,I.hide,function(U){I.j.alert(U.message)})});break;case I.buttons.save:I.onSave(void 0,H,I.hide,function(ee){I.j.alert(ee.message)});break;case I.buttons.reset:I.activeTab===x?((0,p.css)(I.image,{width:null,height:null}),R.value=I.naturalWidth.toString(),O.value=I.naturalHeight.toString(),I.j.e.fire(I.resizeHandler,"updatesize")):I.showCrop()}})})},T.options=A&&A.o&&A.o.imageeditor?A.o.imageeditor:d.Config.defaultOptions.imageeditor;var M=T.options;T.resizeUseRatio=M.resizeUseRatio,T.cropUseRatio=M.cropUseRatio,T.buttons={reset:(0,f.Button)(T.j,"update","Reset"),save:(0,f.Button)(T.j,"save","Save"),saveas:(0,f.Button)(T.j,"save","Save as ...")},T.activeTab=M.resize?x:b,T.editor=(0,g.form)(T.j,T.options);var j=(0,p.refs)(T.editor),P=j.cropBox;return T.resize_box=j.resizeBox,T.crop_box=P,T.sizes=T.editor.querySelector(".".concat(S,"__area.").concat(S,"__area_crop .jodit-image-editor__sizes")),T.resizeHandler=T.editor.querySelector(".".concat(S,"__resizer")),T.cropHandler=T.editor.querySelector(".".concat(S,"__croper")),T._dialog=T.j.dlg({buttons:["fullsize","dialog.close"]}),T._dialog.setContent(T.editor),T._dialog.setSize(T.o.width,T.o.height),T._dialog.setHeader([T.buttons.reset,T.buttons.save,T.buttons.saveas]),T.setHandlers(),T}var E;return u.__extends(C,w),E=C,C.prototype.className=function(){return"ImageEditor"},C.prototype.onTitleModeClick=function(A){var T=this,M=A.target,j=M==null?void 0:M.parentElement;if(j){(0,p.$$)(".".concat(S,"__slider,.").concat(S,"__area"),T.editor).forEach(function(I){return I.classList.remove("".concat(S,"_active"))}),j.classList.add("".concat(S,"_active")),this.activeTab=(0,p.attr)(j,"-area")||x;var P=T.editor.querySelector(".".concat(S,"__area.").concat(S,"__area_")+T.activeTab);P&&P.classList.add("".concat(S,"_active")),T.activeTab===b&&T.showCrop()}},C.prototype.onChangeSizeInput=function(A){var T,M=this,j=A.target,P=(0,p.refs)(this.editor),I=P.widthInput,k=P.heightInput,R=(0,p.attr)(j,"data-ref")==="widthInput",O=parseInt(j.value,10),D=R?M.o.min_height:M.o.min_width;O>(R?M.o.min_width:M.o.min_height)&&((0,p.css)(M.image,R?"width":"height",O),M.resizeUseRatio&&(T=Math.round(R?O/M.ratio:O*M.ratio))>D&&((0,p.css)(M.image,R?"height":"width",T),R?k.value=T.toString():I.value=T.toString())),this.j.e.fire(M.resizeHandler,"updatesize")},C.prototype.onResizeHandleMouseDown=function(A){var T=this;T.target=A.target,A.preventDefault(),A.stopImmediatePropagation(),T.clicked=!0,T.start_x=A.clientX,T.start_y=A.clientY,T.activeTab===b?(T.top_x=(0,p.css)(T.cropHandler,"left"),T.top_y=(0,p.css)(T.cropHandler,"top"),T.width=T.cropHandler.offsetWidth,T.height=T.cropHandler.offsetHeight):(T.width=T.image.offsetWidth,T.height=T.image.offsetHeight),T.j.e.on(this.j.ow,"mousemove",this.onGlobalMouseMove).one(this.j.ow,"mouseup",this.onGlobalMouseUp)},C.prototype.onGlobalMouseUp=function(A){this.clicked&&(this.clicked=!1,A.stopImmediatePropagation(),this.j.e.off(this.j.ow,"mousemove",this.onGlobalMouseMove))},C.prototype.onGlobalMouseMove=function(A){var T=this;if(T.clicked){var M=(0,p.refs)(this.editor),j=M.widthInput,P=M.heightInput;T.diff_x=A.clientX-T.start_x,T.diff_y=A.clientY-T.start_y,T.activeTab===x&&T.resizeUseRatio||T.activeTab===b&&T.cropUseRatio?T.diff_x?(T.new_w=T.width+T.diff_x,T.new_h=Math.round(T.new_w/T.ratio)):(T.new_h=T.height+T.diff_y,T.new_w=Math.round(T.new_h*T.ratio)):(T.new_w=T.width+T.diff_x,T.new_h=T.height+T.diff_y),T.activeTab===x?(T.new_w>T.o.resizeMinWidth&&((0,p.css)(T.image,"width",T.new_w+"px"),j.value=T.new_w.toString()),T.new_h>T.o.resizeMinHeight&&((0,p.css)(T.image,"height",T.new_h+"px"),P.value=T.new_h.toString()),this.j.e.fire(T.resizeHandler,"updatesize")):(T.target!==T.cropHandler?(T.top_x+T.new_w>T.cropImage.offsetWidth&&(T.new_w=T.cropImage.offsetWidth-T.top_x),T.top_y+T.new_h>T.cropImage.offsetHeight&&(T.new_h=T.cropImage.offsetHeight-T.top_y),(0,p.css)(T.cropHandler,{width:T.new_w,height:T.new_h})):(T.top_x+T.diff_x+T.cropHandler.offsetWidth>T.cropImage.offsetWidth&&(T.diff_x=T.cropImage.offsetWidth-T.top_x-T.cropHandler.offsetWidth),(0,p.css)(T.cropHandler,"left",T.top_x+T.diff_x),T.top_y+T.diff_y+T.cropHandler.offsetHeight>T.cropImage.offsetHeight&&(T.diff_y=T.cropImage.offsetHeight-T.top_y-T.cropHandler.offsetHeight),(0,p.css)(T.cropHandler,"top",T.top_y+T.diff_y)),this.j.e.fire(T.cropHandler,"updatesize"))}},Object.defineProperty(C.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),C.prototype.hide=function(){this._dialog.close()},C.prototype.open=function(A,T){var M=this;return this.j.async.promise(function(j){var P=new Date().getTime();M.image=M.j.c.element("img"),(0,p.$$)("img,.jodit-icon_loader",M.resize_box).forEach(m.Dom.safeRemove),(0,p.$$)("img,.jodit-icon_loader",M.crop_box).forEach(m.Dom.safeRemove),(0,p.css)(M.cropHandler,"background","transparent"),M.onSave=T,M.resize_box.appendChild(M.j.c.element("i",{class:"jodit-icon_loader"})),M.crop_box.appendChild(M.j.c.element("i",{class:"jodit-icon_loader"})),/\?/.test(A)?A+="&_tst="+P:A+="?_tst="+P,M.image.setAttribute("src",A),M._dialog.open();var I=(0,p.refs)(M.editor),k=I.widthInput,R=I.heightInput,O=function(){M.isDestructed||(M.image.removeEventListener("load",O),M.naturalWidth=M.image.naturalWidth,M.naturalHeight=M.image.naturalHeight,k.value=M.naturalWidth.toString(),R.value=M.naturalHeight.toString(),M.ratio=M.naturalWidth/M.naturalHeight,M.resize_box.appendChild(M.image),M.cropImage=M.image.cloneNode(!0),M.crop_box.appendChild(M.cropImage),m.Dom.safeRemove.apply(null,(0,p.$$)(".jodit-icon_loader",M.editor)),M.activeTab===b&&M.showCrop(),M.j.e.fire(M.resizeHandler,"updatesize"),M.j.e.fire(M.cropHandler,"updatesize"),M._dialog.setPosition(),M.j.e.fire("afterImageEditor"),j(M._dialog))};M.image.addEventListener("load",O),M.image.complete&&O()})},C.prototype.destruct=function(){this.isDestructed||(this._dialog&&!this._dialog.isInDestruct&&this._dialog.destruct(),m.Dom.safeRemove(this.editor),this.j.e&&this.j.e.off(this.j.ow,"mousemove",this.onGlobalMouseMove).off(this.j.ow,"mouseup",this.onGlobalMouseUp).off(this.ow,".".concat(S)).off(".".concat(S)),w.prototype.destruct.call(this))},C.calcValueByPercent=function(A,T){var M,j=T.toString(),P=parseFloat(A.toString());return(M=/^[-+]?[0-9]+(px)?$/.exec(j))?parseInt(j,10):(M=/^([-+]?[0-9.]+)%$/.exec(j))?Math.round(P*(parseFloat(M[1])/100)):P||0},u.__decorate([v.autobind],C.prototype,"onTitleModeClick",null),u.__decorate([(0,v.debounce)(),v.autobind],C.prototype,"onChangeSizeInput",null),u.__decorate([v.autobind],C.prototype,"onResizeHandleMouseDown",null),u.__decorate([v.autobind],C.prototype,"onGlobalMouseUp",null),u.__decorate([(0,v.throttle)(10)],C.prototype,"onGlobalMouseMove",null),u.__decorate([v.autobind],C.prototype,"hide",null),u.__decorate([v.autobind],C.prototype,"open",null),E=u.__decorate([v.component],C)}(h.ViewComponent);o.ImageEditor=_,o.openImageEditor=function(w,C,E,A,T,M){var j=this;return this.getInstance("ImageEditor",this.o).open(w,function(P,I,k,R){return(0,p.call)(I.action==="resize"?j.dataProvider.resize:j.dataProvider.crop,E,A,C,P,I.box).then(function(O){O&&(k(),T&&T())}).catch(function(O){R(O),M&&M(O)})})}},9249:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.form=void 0;var u=s(2074),d="jodit-image-editor",h=u.Icon.get.bind(u.Icon),p=function(m,f){return f===void 0&&(f="jodti-image-editor_active"),m?f:""};o.form=function(m,f){var g=m.i18n.bind(m),v=function(S,x,b){return b===void 0&&(b=!0),`<div class="jodit-form__group">
			<label>`.concat(g(S),`</label>

			<label class='jodit-switcher'>
				<input `).concat(p(b,"checked"),' data-ref="').concat(x,`" type="checkbox"/>
				<span class="jodit-switcher__slider"></span>
			</label>
	</div>`)};return m.create.fromHTML('<form class="'.concat(d,` jodit-properties">
		<div class="jodit-grid jodit-grid_xs-column">
			<div class="jodit_col-lg-3-4 jodit_col-sm-5-5">
			`).concat(f.resize?'<div class="'.concat(d,"__area ").concat(d,"__area_resize ").concat(d,`_active">
							<div data-ref="resizeBox" class="`).concat(d,`__box"></div>
							<div class="`).concat(d,`__resizer">
								<i class="jodit_bottomright"></i>
							</div>
						</div>`):"",`
			`).concat(f.crop?'<div class="'.concat(d,"__area ").concat(d,"__area_crop ").concat(p(!f.resize),`">
							<div data-ref="cropBox" class="`).concat(d,`__box">
								<div class="`).concat(d,`__croper">
									<i class="jodit_bottomright"></i>
									<i class="`).concat(d,`__sizes"></i>
								</div>
							</div>
						</div>`):"",`
			</div>
			<div class="jodit_col-lg-1-4 jodit_col-sm-5-5">
			`).concat(f.resize?'<div data-area="resize" class="'.concat(d,"__slider ").concat(d,`_active">
							<div class="`).concat(d,`__slider-title">
								`).concat(h("resize"),`
								`).concat(g("Resize"),`
							</div>
							<div class="`).concat(d,`__slider-content">
								<div class="jodit-form__group">
									<label>
										`).concat(g("Width"),`
									</label>
									<input type="number" data-ref="widthInput" class="jodit-input"/>
								</div>
								<div class="jodit-form__group">
									<label>
										`).concat(g("Height"),`
									</label>
									<input type="number" data-ref="heightInput" class="jodit-input"/>
								</div>
								`).concat(v("Keep Aspect Ratio","keepAspectRatioResize"),`
							</div>
						</div>`):"",`
			`).concat(f.crop?'<div data-area="crop" class="'.concat(d,"__slider ").concat(p(!f.resize),`'">
							<div class="`).concat(d,`__slider-title">
								`).concat(h("crop"),`
								`).concat(g("Crop"),`
							</div>
							<div class="`).concat(d,`__slider-content">
								`).concat(v("Keep Aspect Ratio","keepAspectRatioCrop"),`
							</div>
						</div>`):"",`
			</div>
		</div>
	</form>`))}},87837:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.PluginSystem=o.UIMessages=o.Uploader=o.ToolbarCollection=o.ToolbarEditorCollection=o.Table=o.StatusBar=o.CommitStyle=o.Select=o.Snapshot=o.History=o.ImageEditor=o.Helpers=o.ViewWithToolbar=o.View=o.Icon=o.ProgressBar=o.UIBlock=o.UICheckbox=o.UITextArea=o.UIInput=o.UIForm=o.UIList=o.UIGroup=o.UISeparator=o.Popup=o.UIButton=o.UIElement=o.Create=o.Plugin=o.LazyWalker=o.Dom=o.ContextMenu=o.STATUSES=o.ViewComponent=o.Component=o.Async=void 0;var u=s(20255);u.__exportStar(s(55395),o);var d=s(22630);Object.defineProperty(o,"Async",{enumerable:!0,get:function(){return d.Async}}),u.__exportStar(s(30056),o);var h=s(56562);Object.defineProperty(o,"Component",{enumerable:!0,get:function(){return h.Component}}),Object.defineProperty(o,"ViewComponent",{enumerable:!0,get:function(){return h.ViewComponent}}),Object.defineProperty(o,"STATUSES",{enumerable:!0,get:function(){return h.STATUSES}});var p=s(60403);Object.defineProperty(o,"ContextMenu",{enumerable:!0,get:function(){return p.ContextMenu}}),u.__exportStar(s(92080),o);var m=s(64968);Object.defineProperty(o,"Dom",{enumerable:!0,get:function(){return m.Dom}}),Object.defineProperty(o,"LazyWalker",{enumerable:!0,get:function(){return m.LazyWalker}});var f=s(57549);Object.defineProperty(o,"Plugin",{enumerable:!0,get:function(){return f.Plugin}});var g=s(42841);Object.defineProperty(o,"Create",{enumerable:!0,get:function(){return g.Create}});var v=s(2074);Object.defineProperty(o,"UIElement",{enumerable:!0,get:function(){return v.UIElement}}),Object.defineProperty(o,"UIButton",{enumerable:!0,get:function(){return v.UIButton}}),Object.defineProperty(o,"Popup",{enumerable:!0,get:function(){return v.Popup}}),Object.defineProperty(o,"UISeparator",{enumerable:!0,get:function(){return v.UISeparator}}),Object.defineProperty(o,"UIGroup",{enumerable:!0,get:function(){return v.UIGroup}}),Object.defineProperty(o,"UIList",{enumerable:!0,get:function(){return v.UIList}}),Object.defineProperty(o,"UIForm",{enumerable:!0,get:function(){return v.UIForm}}),Object.defineProperty(o,"UIInput",{enumerable:!0,get:function(){return v.UIInput}}),Object.defineProperty(o,"UITextArea",{enumerable:!0,get:function(){return v.UITextArea}}),Object.defineProperty(o,"UICheckbox",{enumerable:!0,get:function(){return v.UICheckbox}}),Object.defineProperty(o,"UIBlock",{enumerable:!0,get:function(){return v.UIBlock}}),Object.defineProperty(o,"ProgressBar",{enumerable:!0,get:function(){return v.ProgressBar}}),Object.defineProperty(o,"Icon",{enumerable:!0,get:function(){return v.Icon}});var S=s(75902);Object.defineProperty(o,"View",{enumerable:!0,get:function(){return S.View}});var x=s(43608);Object.defineProperty(o,"ViewWithToolbar",{enumerable:!0,get:function(){return x.ViewWithToolbar}}),u.__exportStar(s(63463),o);var b=s(40332);o.Helpers=b;var _=s(35503);Object.defineProperty(o,"ImageEditor",{enumerable:!0,get:function(){return _.ImageEditor}});var w=s(15432);Object.defineProperty(o,"History",{enumerable:!0,get:function(){return w.History}});var C=s(31648);Object.defineProperty(o,"Snapshot",{enumerable:!0,get:function(){return C.Snapshot}});var E=s(2123);Object.defineProperty(o,"Select",{enumerable:!0,get:function(){return E.Select}}),Object.defineProperty(o,"CommitStyle",{enumerable:!0,get:function(){return E.CommitStyle}});var A=s(38603);Object.defineProperty(o,"StatusBar",{enumerable:!0,get:function(){return A.StatusBar}});var T=s(25120);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return T.Table}});var M=s(81698);Object.defineProperty(o,"ToolbarEditorCollection",{enumerable:!0,get:function(){return M.ToolbarEditorCollection}});var j=s(72719);Object.defineProperty(o,"ToolbarCollection",{enumerable:!0,get:function(){return j.ToolbarCollection}}),u.__exportStar(s(3890),o);var P=s(50454);Object.defineProperty(o,"Uploader",{enumerable:!0,get:function(){return P.Uploader}});var I=s(71014);Object.defineProperty(o,"UIMessages",{enumerable:!0,get:function(){return I.UIMessages}});var k=s(44540);Object.defineProperty(o,"PluginSystem",{enumerable:!0,get:function(){return k.PluginSystem}})},37762:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIMessage=void 0;var u=s(20255),d=s(2074),h=s(11441),p=function(m){function f(g,v){var S=m.call(this,g)||this;return S.setMod("active",!0),S.setMod("variant",v.variant),S.container.textContent=v.text,S}return u.__extends(f,m),f.prototype.className=function(){return"UIMessage"},u.__decorate([h.component],f)}(d.UIElement);o.UIMessage=p},71014:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UIMessages=void 0;var u=s(20255);s(63421);var d=s(26911),h=s(61479),p=s(11441),m=s(46163),f=s(37762),g=function(v){function S(x,b,_){_===void 0&&(_={defaultTimeout:3e3,defaultOffset:5});var w=v.call(this,x)||this;return w.__box=b,w.options=_,w.__messages=new Set,w}return u.__extends(S,v),S.prototype.className=function(){return"UIMessages"},S.prototype.info=function(x,b){this.__message(x,"info",b)},S.prototype.success=function(x,b){this.__message(x,"success",b)},S.prototype.error=function(x,b){this.__message(x,"error",b)},S.prototype.message=function(x,b,_){this.__message(x,b,_)},S.prototype.__message=function(x,b,_){b===void 0&&(b="info");var w=x+":"+b;if(this.__messages.has(w))this.async.updateTimeout(w,_||this.options.defaultTimeout);else{this.__box.appendChild(this.container);var C=new f.UIMessage(this.j,{text:x,variant:b});this.append(C),this.__calcOffsets(),this.__messages.add(w);var E=this.__getRemoveCallback(C,w);this.j.e.on(C.container,"pointerdown",E),this.async.setTimeout(E,{label:w,timeout:_||this.options.defaultTimeout})}},S.prototype.__getRemoveCallback=function(x,b){var _=this,w=function(C){C&&C.preventDefault(),x.isInDestruct||(_.async.clearTimeout(b),_.j.e.off(x.container,"pointerdown",w),_.__messages.delete(b),x.setMod("active",!1),_.async.setTimeout(function(){_.remove(x),x.destruct(),_.__calcOffsets()},300))};return w},S.prototype.__calcOffsets=function(){var x=this,b=5;this.elements.forEach(function(_){(0,d.css)(_.container,"bottom",b+"px"),b+=_.container.offsetHeight+x.options.defaultOffset})},u.__decorate([(0,m.watch)(":errorMessage")],S.prototype,"__message",null),u.__decorate([p.component],S)}(h.UIGroup);o.UIMessages=g},38603:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.StatusBar=void 0;var u=s(20255);s(32115);var d=s(56562),h=s(64968),p=s(59829),m=s(43441),f=function(g){function v(S,x){var b=g.call(this,S)||this;return b.target=x,b.mods={},b.container=S.c.div("jodit-status-bar"),x.appendChild(b.container),b.hide(),b}return u.__extends(v,g),v.prototype.className=function(){return"StatusBar"},v.prototype.hide=function(){this.container.classList.add("jodit_hidden")},v.prototype.show=function(){this.container.classList.remove("jodit_hidden")},Object.defineProperty(v.prototype,"isShown",{get:function(){return!this.container.classList.contains("jodit_hidden")},enumerable:!1,configurable:!0}),v.prototype.getHeight=function(){var S,x;return(x=(S=this.container)===null||S===void 0?void 0:S.offsetHeight)!==null&&x!==void 0?x:0},v.prototype.findEmpty=function(S){S===void 0&&(S=!1);for(var x=this.getElms(S?"item-right":"item"),b=0;x.length>b;b+=1)if(!x[b].innerHTML.trim().length)return x[b]},v.prototype.append=function(S,x){var b;x===void 0&&(x=!1);var _=this.findEmpty(x)||this.j.c.div(this.getFullElName("item"));x&&_.classList.add(this.getFullElName("item-right")),_.appendChild(S),(b=this.container)===null||b===void 0||b.appendChild(_),this.j.o.statusbar&&this.show(),this.j.e.fire("resize")},v.prototype.destruct=function(){this.isInDestruct||(this.setStatus(d.STATUSES.beforeDestruct),h.Dom.safeRemove(this.container),g.prototype.destruct.call(this))},u.__decorate([m.component,(0,m.derive)(p.Mods,p.Elms)],v)}(d.ViewComponent);o.StatusBar=f},25120:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Table=void 0;var u=s(20255),d=s(86893),h=s(64968),p=s(40332),m=s(56562),f=s(17332),g=s(43441),v=new WeakMap,S=function(b){function _(){var w=b!==null&&b.apply(this,arguments)||this;return w.selected=new Set,w}return u.__extends(_,b),_.prototype.className=function(){return"Table"},_.prototype.recalculateStyles=function(){var w=(0,f.getContainer)(this.j,_,"style",!0),C=[];this.selected.forEach(function(E){var A=(0,p.cssPath)(E);A&&C.push(A)}),w.innerHTML=C.length?C.join(",")+"{".concat(this.jodit.options.table.selectionCellStyle,"}"):""},_.prototype.addSelection=function(w){this.selected.add(w),this.recalculateStyles();var C=h.Dom.closest(w,"table",this.j.editor);if(C){var E=_.selectedByTable.get(C)||new Set;E.add(w),_.selectedByTable.set(C,E)}},_.prototype.removeSelection=function(w){this.selected.delete(w),this.recalculateStyles();var C=h.Dom.closest(w,"table",this.j.editor);if(C){var E=_.selectedByTable.get(C);E&&(E.delete(w),E.size||_.selectedByTable.delete(C))}},_.prototype.getAllSelectedCells=function(){return(0,p.toArray)(this.selected)},_.getSelectedCellsByTable=function(w){var C=_.selectedByTable.get(w);return C?(0,p.toArray)(C):[]},_.prototype.destruct=function(){return this.selected.clear(),b.prototype.destruct.call(this)},_.getRowsCount=function(w){return w.rows.length},_.getColumnsCount=function(w){return _.formalMatrix(w).reduce(function(C,E){return Math.max(C,E.length)},0)},_.formalMatrix=function(w,C){for(var E=[[]],A=(0,p.toArray)(w.rows),T=function(I,k){E[k]===void 0&&(E[k]=[]);for(var R,O,D=I.colSpan,L=I.rowSpan,B=0;E[k][B];)B+=1;for(O=0;L>O;O+=1)for(R=0;D>R;R+=1){if(E[k+O]===void 0&&(E[k+O]=[]),C&&C(I,k+O,B+R,D,L)===!1)return!1;E[k+O][B+R]=I}},M=0;A.length>M;M+=1)for(var j=(0,p.toArray)(A[M].cells),P=0;j.length>P;P+=1)if(T(j[P],M)===!1)return E;return E},_.formalCoordinate=function(w,C,E){E===void 0&&(E=!1);var A=0,T=0,M=1,j=1;return _.formalMatrix(w,function(P,I,k,R,O){if(C===P)return A=I,T=k,M=R||1,j=O||1,E&&(T+=(R||1)-1,A+=(O||1)-1),!1}),[A,T,M,j]},_.appendRow=function(w,C,E,A){var T,M;if(C)M=C.cloneNode(!0),(0,p.$$)("td,th",C).forEach(function(I){var k=(0,p.attr)(I,"rowspan");if(k&&parseInt(k,10)>1){var R=parseInt(k,10)-1;(0,p.attr)(I,"rowspan",R>1?R:null)}}),(0,p.$$)("td,th",M).forEach(function(I){I.innerHTML=""});else{var j=_.getColumnsCount(w);M=A.element("tr");for(var P=0;j>P;P+=1)M.appendChild(A.element("td"))}E&&C&&C.nextSibling?C.parentNode&&C.parentNode.insertBefore(M,C.nextSibling):!E&&C?C.parentNode&&C.parentNode.insertBefore(M,C):(((T=w.getElementsByTagName("tbody"))===null||T===void 0?void 0:T[0])||w).appendChild(M)},_.removeRow=function(w,C){var E,A=_.formalMatrix(w),T=w.rows[C];A[C].forEach(function(M,j){if(E=!1,0>C-1||A[C-1][j]!==M)if(A[C+1]&&A[C+1][j]===M){if(M.parentNode===T&&M.parentNode.nextSibling){E=!0;for(var P=j+1;A[C+1][P]===M;)P+=1;var I=h.Dom.next(M.parentNode,function(R){return h.Dom.isTag(R,"tr")},w);I&&(A[C+1][P]?I.insertBefore(M,A[C+1][P]):I.appendChild(M))}}else h.Dom.safeRemove(M);else E=!0;if(E&&(M.parentNode===T||M!==A[C][j-1])){var k=M.rowSpan;(0,p.attr)(M,"rowspan",k-1>1?k-1:null)}}),h.Dom.safeRemove(T)},_.appendColumn=function(w,C,E,A){var T,M=_.formalMatrix(w);for((C===void 0||0>C)&&(C=_.getColumnsCount(w)-1),T=0;M.length>T;T+=1){var j=A.element("td"),P=M[T][C],I=!1;E?(M[T]&&P&&C+1>=M[T].length||P!==M[T][C+1])&&(P.nextSibling?h.Dom.before(P.nextSibling,j):P.parentNode&&P.parentNode.appendChild(j),I=!0):(0>C-1||M[T][C]!==M[T][C-1]&&M[T][C].parentNode)&&(h.Dom.before(M[T][C],j),I=!0),I||(0,p.attr)(M[T][C],"colspan",parseInt((0,p.attr)(M[T][C],"colspan")||"1",10)+1)}},_.removeColumn=function(w,C){var E,A=_.formalMatrix(w);A.forEach(function(T,M){var j=T[C];if(E=!1,0>C-1||A[M][C-1]!==j?T.length>C+1&&A[M][C+1]===j?E=!0:h.Dom.safeRemove(j):E=!0,E&&(0>M-1||j!==A[M-1][C])){var P=j.colSpan;(0,p.attr)(j,"colspan",P-1>1?(P-1).toString():null)}})},_.getSelectedBound=function(w,C){var E,A,T,M=[[1/0,1/0],[0,0]],j=_.formalMatrix(w);for(E=0;j.length>E;E+=1)for(A=0;j[E]&&j[E].length>A;A+=1)C.includes(j[E][A])&&(M[0][0]=Math.min(E,M[0][0]),M[0][1]=Math.min(A,M[0][1]),M[1][0]=Math.max(E,M[1][0]),M[1][1]=Math.max(A,M[1][1]));for(E=M[0][0];M[1][0]>=E;E+=1)for(T=1,A=M[0][1];M[1][1]>=A;A+=1){for(;j[E]&&j[E][A-T]&&j[E][A]===j[E][A-T];)M[0][1]=Math.min(A-T,M[0][1]),M[1][1]=Math.max(A-T,M[1][1]),T+=1;for(T=1;j[E]&&j[E][A+T]&&j[E][A]===j[E][A+T];)M[0][1]=Math.min(A+T,M[0][1]),M[1][1]=Math.max(A+T,M[1][1]),T+=1;for(T=1;j[E-T]&&j[E][A]===j[E-T][A];)M[0][0]=Math.min(E-T,M[0][0]),M[1][0]=Math.max(E-T,M[1][0]),T+=1;for(T=1;j[E+T]&&j[E][A]===j[E+T][A];)M[0][0]=Math.min(E+T,M[0][0]),M[1][0]=Math.max(E+T,M[1][0]),T+=1}return M},_.normalizeTable=function(w){var C,E,A,T,M=[],j=_.formalMatrix(w);for(E=0;j[0].length>E;E+=1){for(A=1e6,T=!1,C=0;j.length>C;C+=1)if(j[C][E]!==void 0){if(2>j[C][E].colSpan){T=!0;break}A=Math.min(A,j[C][E].colSpan)}if(!T)for(C=0;j.length>C;C+=1)j[C][E]!==void 0&&_.mark(j[C][E],"colspan",j[C][E].colSpan-A+1,M)}for(C=0;j.length>C;C+=1){for(A=1e6,T=!1,E=0;j[C].length>E;E+=1)if(j[C][E]!==void 0){if(2>j[C][E].rowSpan){T=!0;break}A=Math.min(A,j[C][E].rowSpan)}if(!T)for(E=0;j[C].length>E;E+=1)j[C][E]!==void 0&&_.mark(j[C][E],"rowspan",j[C][E].rowSpan-A+1,M)}for(C=0;j.length>C;C+=1)for(E=0;j[C].length>E;E+=1)j[C][E]!==void 0&&(j[C][E].hasAttribute("rowspan")&&j[C][E].rowSpan===1&&(0,p.attr)(j[C][E],"rowspan",null),j[C][E].hasAttribute("colspan")&&j[C][E].colSpan===1&&(0,p.attr)(j[C][E],"colspan",null),j[C][E].hasAttribute("class")&&!(0,p.attr)(j[C][E],"class")&&(0,p.attr)(j[C][E],"class",null));_.unmark(M)},_.mergeSelected=function(w,C){var E,A=[],T=_.getSelectedBound(w,_.getSelectedCellsByTable(w)),M=0,j=null,P=0,I=0,k=0,R=new Set,O=[];T&&(T[0][0]-T[1][0]||T[0][1]-T[1][1])&&(_.formalMatrix(w,function(D,L,B,F,H){if(!(T[0][0]>L||L>T[1][0]||T[0][1]>B||B>T[1][1])){if(R.has(E=D))return;R.add(E),L===T[0][0]&&E.style.width&&(M+=E.offsetWidth),(0,p.trim)(D.innerHTML.replace(/<br(\/)?>/g,""))!==""&&A.push(D.innerHTML),F>1&&(I+=F-1),H>1&&(k+=H-1),j?(_.mark(E,"remove",1,O),x(C).removeSelection(E)):(j=D,P=B)}}),I=T[1][1]-T[0][1]+1,k=T[1][0]-T[0][0]+1,j&&(I>1&&_.mark(j,"colspan",I,O),k>1&&_.mark(j,"rowspan",k,O),M&&(_.mark(j,"width",(M/w.offsetWidth*100).toFixed(d.ACCURACY)+"%",O),P&&_.setColumnWidthByDelta(w,P,0,!0,O)),j.innerHTML=A.join("<br/>"),x(C).addSelection(j),R.delete(j),_.unmark(O),_.normalizeTable(w),(0,p.toArray)(w.rows).forEach(function(D,L){D.cells.length||h.Dom.safeRemove(D)})))},_.splitHorizontal=function(w,C){var E,A,T,M,j,P=[];_.getSelectedCellsByTable(w).forEach(function(I){(A=C.createInside.element("td")).appendChild(C.createInside.element("br")),T=C.createInside.element("tr"),E=_.formalCoordinate(w,I),2>I.rowSpan?(_.formalMatrix(w,function(k,R,O){E[0]===R&&E[1]!==O&&k!==I&&_.mark(k,"rowspan",k.rowSpan+1,P)}),h.Dom.after(h.Dom.closest(I,"tr",w),T),T.appendChild(A)):(_.mark(I,"rowspan",I.rowSpan-1,P),_.formalMatrix(w,function(k,R,O){R>E[0]&&E[0]+I.rowSpan>R&&E[1]>O&&k.parentNode.rowIndex===R&&(j=k),R>E[0]&&k===I&&(M=w.rows[R])}),j?h.Dom.after(j,A):M.insertBefore(A,M.firstChild)),I.colSpan>1&&_.mark(A,"colspan",I.colSpan,P),_.unmark(P),x(C).removeSelection(I)}),this.normalizeTable(w)},_.splitVertical=function(w,C){var E,A,T,M=[];_.getSelectedCellsByTable(w).forEach(function(j){E=_.formalCoordinate(w,j),2>j.colSpan?_.formalMatrix(w,function(I,k,R){E[1]===R&&E[0]!==k&&I!==j&&_.mark(I,"colspan",I.colSpan+1,M)}):_.mark(j,"colspan",j.colSpan-1,M),(A=C.createInside.element("td")).appendChild(C.createInside.element("br")),j.rowSpan>1&&_.mark(A,"rowspan",j.rowSpan,M);var P=j.offsetWidth;h.Dom.after(j,A),_.mark(j,"width",(100*(T=P/w.offsetWidth/2)).toFixed(d.ACCURACY)+"%",M),_.mark(A,"width",(100*T).toFixed(d.ACCURACY)+"%",M),_.unmark(M),x(C).removeSelection(j)}),_.normalizeTable(w)},_.setColumnWidthByDelta=function(w,C,E,A,T){for(var M=_.formalMatrix(w),j=0,P=0;M.length>P;P+=1)if(1>=(I=M[P][C]).colSpan||1>=M.length){_.mark(I,"width",((I.offsetWidth+E)/w.offsetWidth*100).toFixed(d.ACCURACY)+"%",T),j=P;break}for(P=j+1;M.length>P;P+=1){var I;_.mark(I=M[P][C],"width",null,T)}A||_.unmark(T)},_.mark=function(w,C,E,A){var T;A.push(w);var M=(T=v.get(w))!==null&&T!==void 0?T:{};M[C]=E===void 0?1:E,v.set(w,M)},_.unmark=function(w){w.forEach(function(C){var E=v.get(C);E&&(Object.keys(E).forEach(function(A){var T=E[A];switch(A){case"remove":h.Dom.safeRemove(C);break;case"rowspan":(0,p.attr)(C,"rowspan",(0,p.isNumber)(T)&&T>1?T:null);break;case"colspan":(0,p.attr)(C,"colspan",(0,p.isNumber)(T)&&T>1?T:null);break;case"width":T==null?(C.style.removeProperty("width"),(0,p.attr)(C,"style")||(0,p.attr)(C,"style",null)):C.style.width=T.toString()}delete E[A]}),v.delete(C))})},_.selectedByTable=new WeakMap,u.__decorate([(0,g.debounce)()],_.prototype,"recalculateStyles",null),_}(m.ViewComponent);o.Table=S;var x=function(b){return b.getInstance("Table",b.o)}},48197:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ToolbarButton=void 0;var u=s(20255);s(53362);var d=s(96516),h=s(43441),p=s(64968),m=s(12680),f=s(81438),g=s(40332),v=s(77904),S=s(72719),x=s(29411),b=s(38546),_=function(w){function C(E,A,T){T===void 0&&(T=null);var M=w.call(this,E)||this;return M.control=A,M.target=T,M.state=u.__assign(u.__assign({},(0,d.UIButtonState)()),{theme:"toolbar",currentValue:"",hasTrigger:!1}),M.openedPopup=null,E.e.on([M.button,M.trigger],"mousedown",function(j){return j.preventDefault()}),M.onAction(M.onClick),M.hookStatus(x.STATUSES.ready,function(){M.initFromControl(),M.initTooltip(),M.update()}),A.mods&&Object.keys(A.mods).forEach(function(j){A.mods&&M.setMod(j,A.mods[j])}),M}return u.__extends(C,w),C.prototype.className=function(){return"ToolbarButton"},Object.defineProperty(C.prototype,"toolbar",{get:function(){return this.closest(S.ToolbarCollection)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"button",{get:function(){return this.container.querySelector("button.".concat(this.componentName,"__button"))},enumerable:!1,configurable:!0}),C.prototype.update=function(){var E=this.control,A=this.state,T=this.closest(S.ToolbarCollection);A.disabled=this.calculateDisabledStatus(T),A.activated=this.calculateActivatedStatus(T),(0,g.isFunction)(E.update)&&T&&E.update(this,T.jodit),w.prototype.update.call(this)},C.prototype.calculateActivatedStatus=function(E){return!((0,g.isJoditObject)(this.j)&&!this.j.editorIsActive)&&(!(!(0,g.isFunction)(this.control.isActive)||!this.control.isActive(this.j,this.control,this))||!!(E&&E.shouldBeActive(this)))},C.prototype.calculateDisabledStatus=function(E){return!!this.j.o.disabled||!(!this.j.o.readonly||this.j.o.activeButtonsInReadOnly&&this.j.o.activeButtonsInReadOnly.includes(this.control.name))||!(!(0,g.isFunction)(this.control.isDisabled)||!this.control.isDisabled(this.j,this.control,this))||!!(E&&E.shouldBeDisabled(this))},C.prototype.onChangeActivated=function(){(0,g.attr)(this.button,"aria-pressed",this.state.activated),w.prototype.onChangeActivated.call(this)},C.prototype.onChangeText=function(){(0,g.isFunction)(this.control.template)?this.text.innerHTML=this.control.template(this.j,this.control.name,this.j.i18n(this.state.text)):w.prototype.onChangeText.call(this),this.setMod("text-icons",!!this.text.innerText.trim().length)},C.prototype.onChangeTabIndex=function(){(0,g.attr)(this.button,"tabindex",this.state.tabIndex)},C.prototype.onChangeTooltip=function(){(0,g.attr)(this.button,"aria-label",this.state.tooltip),w.prototype.onChangeTooltip.call(this)},C.prototype.createContainer=function(){var E=this.componentName,A=this.j.c.span(E),T=w.prototype.createContainer.call(this);return(0,g.attr)(A,"role","listitem"),T.classList.remove(E),T.classList.add(E+"__button"),Object.defineProperty(T,"component",{value:this}),A.appendChild(T),this.trigger=this.j.c.fromHTML('<span role="trigger" class="'.concat(E,'__trigger">').concat(v.Icon.get("chevron"),"</span>")),A},C.prototype.focus=function(){var E;(E=this.container.querySelector("button"))===null||E===void 0||E.focus()},C.prototype.onChangeHasTrigger=function(){this.state.hasTrigger?this.container.appendChild(this.trigger):p.Dom.safeRemove(this.trigger),this.setMod("with-trigger",this.state.hasTrigger||null)},C.prototype.onChangeDisabled=function(){var E=this.state.disabled?"disabled":null;(0,g.attr)(this.trigger,"disabled",E),(0,g.attr)(this.button,"disabled",E),(0,g.attr)(this.container,"disabled",E)},C.prototype.initTooltip=function(){var E=this;this.j.o.textIcons||!this.j.o.showTooltip||this.j.o.useNativeTooltip||this.j.e.off(this.container,"mouseenter mouseleave").on(this.container,"mousemove",function(A){E.state.tooltip&&!E.state.disabled&&E.j.e.fire("delayShowTooltip",function(){return{x:A.clientX+10,y:A.clientY+10}},E.state.tooltip)}).on(this.container,"mouseleave",function(){E.j.e.fire("hideTooltip")})},C.prototype.initFromControl=function(){var E,A=this.control,T=this.state;this.updateSize(),T.name=A.name;var M=this.j.o.textIcons;if(M===!0||(0,g.isFunction)(M)&&M(A.name)||A.template)T.icon=(0,d.UIButtonState)().icon,T.text=A.text||A.name;else{if(A.iconURL)T.icon.iconURL=A.iconURL;else{var j=A.icon||A.name;T.icon.name=v.Icon.exists(j)||!((E=this.j.o.extraIcons)===null||E===void 0)&&E[j]?j:""}A.iconURL||T.icon.name||(T.text=A.text||A.name)}A.tooltip&&(T.tooltip=this.j.i18n((0,g.isFunction)(A.tooltip)?A.tooltip(this.j,A,this):A.tooltip)),T.hasTrigger=!!(A.list||A.popup&&A.exec)},C.prototype.onTriggerClick=function(E){var A,T,M,j=this;if(this.openedPopup)this.closePopup();else{var P=this.control;if(E.buffer={actionTrigger:this},P.list)return this.openControlList(P);if((0,g.isFunction)(P.popup)){var I=this.openPopup();if(I.parentElement=this,this.j.e.fire((0,g.camelCase)("before-".concat(P.name,"-open-popup")),this.target,P,I)!==!1){var k=(M=(T=(A=this.toolbar)===null||A===void 0?void 0:A.getTarget(this))!==null&&T!==void 0?T:this.target)!==null&&M!==void 0?M:null,R=P.popup(this.j,k,P,this.closePopup,this);R&&I.setContent((0,g.isString)(R)?this.j.c.fromHTML(R):R).open(function(){return(0,g.position)(j.container)},!1,this.j.o.allowTabNavigation?this.container:void 0)}this.j.e.fire((0,g.camelCase)("after-".concat(P.name,"-open-popup")),I.container)}}},C.prototype.openControlList=function(E){var A,T=this,M=(A=this.jodit.options.controls)!==null&&A!==void 0?A:{},j=function(O){return(0,b.findControlType)(O,M)},P=E.list,I=this.openPopup(),k=(0,f.makeCollection)(this.j);I.parentElement=this,k.parentElement=I,k.mode="vertical";var R=function(O,D){if((0,g.isString)(D)&&j(D))return u.__assign({name:D.toString()},j(D));if((0,g.isString)(O)&&j(O))return u.__assign(u.__assign({name:O.toString()},j(O)),typeof D=="object"?D:{});(function(F){return(0,g.isPlainObject)(F)&&"title"in F&&"value"in F})(O)&&(D=O.value,O=O.title);var L=E.childTemplate,B={name:O.toString(),template:L&&function(F,H,ee){return L(F,H,ee,T)},exec:E.childExec?function(F,H,ee){var U;return(U=E.childExec)===null||U===void 0?void 0:U.call(E,F,H,u.__assign(u.__assign({},ee),{parentControl:E}))}:E.exec,data:E.data,command:E.command,isActive:E.isChildActive,isDisabled:E.isChildDisabled,mode:E.mode,args:u.__spreadArray(u.__spreadArray([],u.__read(E.args?E.args:[]),!1),[O,D],!1)};return(0,g.isString)(D)&&(B.text=D),B};k.build((0,g.isArray)(P)?P.map(R):(0,g.keys)(P,!1).map(function(O){return R(O,P[O])}),this.target),I.setContent(k.container).open(function(){return(0,g.position)(T.container)},!1,this.j.o.allowTabNavigation?this.container:void 0),this.state.activated=!0},C.prototype.onOutsideClick=function(E){this.openedPopup&&(E&&p.Dom.isNode(E.target)&&(p.Dom.isOrContains(this.container,E.target)||this.openedPopup.isOwnClick(E))||this.closePopup())},C.prototype.openPopup=function(){return this.closePopup(),this.openedPopup=new m.Popup(this.j,!1),this.j.e.on(this.ow,"mousedown touchstart",this.onOutsideClick).on("escape closeAllPopups",this.onOutsideClick),this.openedPopup},C.prototype.closePopup=function(){this.openedPopup&&(this.j.e.off(this.ow,"mousedown touchstart",this.onOutsideClick).off("escape closeAllPopups",this.onOutsideClick),this.state.activated=!1,this.openedPopup.close(),this.openedPopup.destruct(),this.openedPopup=null)},C.prototype.onClick=function(E){var A,T,M,j,P,I,k,R=this.control;if((0,g.isFunction)(R.exec)){var O=(M=(T=(A=this.toolbar)===null||A===void 0?void 0:A.getTarget(this))!==null&&T!==void 0?T:this.target)!==null&&M!==void 0?M:null,D=R.exec(this.j,O,{control:R,originalEvent:E,button:this});if(D!==!1&&D!==!0&&((P=(j=this.j)===null||j===void 0?void 0:j.e)===null||P===void 0||P.fire("synchro"),this.parentElement&&this.parentElement.update(),(k=(I=this.j)===null||I===void 0?void 0:I.e)===null||k===void 0||k.fire("closeAllPopups afterExec")),D!==!1)return}return R.list?this.openControlList(R):(0,g.isFunction)(R.popup)?this.onTriggerClick(E):void((R.command||R.name)&&((0,g.call)((0,g.isJoditObject)(this.j)?this.j.execCommand.bind(this.j):this.j.od.execCommand.bind(this.j.od),R.command||R.name,!1,R.args&&R.args[0]),this.j.e.fire("closeAllPopups")))},C.prototype.destruct=function(){return this.closePopup(),w.prototype.destruct.call(this)},u.__decorate([(0,h.watch)("state.tooltip")],C.prototype,"onChangeTooltip",null),u.__decorate([(0,h.watch)("state.hasTrigger")],C.prototype,"onChangeHasTrigger",null),u.__decorate([(0,h.watch)("trigger:click")],C.prototype,"onTriggerClick",null),u.__decorate([h.autobind],C.prototype,"onOutsideClick",null),u.__decorate([h.autobind],C.prototype,"closePopup",null),u.__decorate([h.component],C)}(d.UIButton);o.ToolbarButton=_},34375:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ToolbarContent=void 0;var u=s(20255);s(48904);var d=s(96516),h=s(64968),p=s(40332),m=s(43441),f=function(g){function v(S,x,b){b===void 0&&(b=null);var _=g.call(this,S)||this;return _.control=x,_.target=b,_.container.classList.add("".concat(_.componentName,"_").concat(_.clearName(x.name))),(0,p.attr)(_.container,"role","content"),_}return u.__extends(v,g),v.prototype.className=function(){return"ToolbarContent"},v.prototype.update=function(){var S=this.control.getContent(this.j,this.control,this);((0,p.isString)(S)||S.parentNode!==this.container)&&(h.Dom.detach(this.container),this.container.appendChild((0,p.isString)(S)?this.j.create.fromHTML(S):S)),g.prototype.update.call(this)},v.prototype.createContainer=function(){return this.j.c.span(this.componentName)},u.__decorate([m.component],v)}(d.UIButton);o.ToolbarContent=f},3890:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(48197),o),u.__exportStar(s(34375),o)},72719:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ToolbarCollection=void 0;var u=s(20255);s(85796);var d=s(40332),h=s(2074),p=s(81438),m=s(43441),f=function(g){function v(S){var x=g.call(this,S)||this;return x.__listenEvents="updatePlugins updateToolbar changeStack mousedown mouseup keydown change afterInit readonly afterResize selectionchange changeSelection focus afterSetMode touchstart focus blur",x.update=x.j.async.debounce(x.__immediateUpdate,function(){return x.j.defaultTimeout}),x.__tooltip=null,x.__initEvents(),x.__tooltip=h.UITooltip.make(S),x}return u.__extends(v,g),v.prototype.className=function(){return"ToolbarCollection"},Object.defineProperty(v.prototype,"firstButton",{get:function(){return u.__read(this.buttons,1)[0]||null},enumerable:!1,configurable:!0}),v.prototype.makeButton=function(S,x){return x===void 0&&(x=null),(0,p.makeButton)(this.j,S,x)},v.prototype.shouldBeActive=function(S){},v.prototype.shouldBeDisabled=function(S){},v.prototype.getTarget=function(S){return S.target||null},v.prototype.__immediateUpdate=function(){this.isDestructed||this.j.isLocked||(g.prototype.update.call(this),this.j.e.fire("afterUpdateToolbar"))},v.prototype.setDirection=function(S){this.container.style.direction=S,this.container.setAttribute("dir",S)},v.prototype.__initEvents=function(){this.j.e.on(this.__listenEvents,this.update).on("afterSetMode focus",this.__immediateUpdate)},v.prototype.hide=function(){this.container.remove()},v.prototype.show=function(){this.appendTo(this.j.toolbarContainer)},v.prototype.showInline=function(S){throw(0,d.error)("The method is not implemented for this class.")},v.prototype.build=function(S,x){x===void 0&&(x=null);var b=this.j.e.fire("beforeToolbarBuild",S);return b&&(S=b),g.prototype.build.call(this,S,x),this},v.prototype.destruct=function(){var S;this.isDestructed||((S=this.__tooltip)===null||S===void 0||S.destruct(),this.j.e.off(this.__listenEvents,this.update).off("afterSetMode focus",this.__immediateUpdate),g.prototype.destruct.call(this))},u.__decorate([m.autobind],v.prototype,"__immediateUpdate",null),u.__decorate([m.component],v)}(h.UIList);o.ToolbarCollection=f},81698:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ToolbarEditorCollection=void 0;var u=s(20255),d=s(72719),h=s(86893),p=s(64968),m=s(40332),f=s(43441),g=function(v){function S(x){var b=v.call(this,x)||this;return b.checkActiveStatus=function(_,w){var C=0,E=0;return Object.keys(_).forEach(function(A){var T=_[A];(0,m.isFunction)(T)?T(b.j,(0,m.css)(w,A).toString())&&(C+=1):T.indexOf((0,m.css)(w,A).toString())!==-1&&(C+=1),E+=1}),E===C},b.prependInvisibleInput(b.container),b}return u.__extends(S,v),S.prototype.className=function(){return"ToolbarEditorCollection"},S.prototype.shouldBeDisabled=function(x){var b=v.prototype.shouldBeDisabled.call(this,x);if(b!==void 0)return b;var _=x.control.mode===void 0?h.MODE_WYSIWYG:x.control.mode;return!(_===h.MODE_SPLIT||_===this.j.getRealMode())},S.prototype.shouldBeActive=function(x){var b=this,_=v.prototype.shouldBeActive.call(this,x);if(_!==void 0)return _;var w=this.j.selection?this.j.s.current():null;if(!w)return!1;if(x.control.tags){var C=x.control.tags;if(p.Dom.up(w,function(A){if(A&&C.indexOf(A.nodeName.toLowerCase())!==-1)return!0},this.j.editor))return!0}if(x.control.css){var E=x.control.css;if(p.Dom.up(w,function(A){if(A&&!p.Dom.isText(A))return b.checkActiveStatus(E,A)},this.j.editor))return!0}return!1},S.prototype.getTarget=function(x){return x.target||this.j.s.current()||null},S.prototype.prependInvisibleInput=function(x){var b=this.j.create.element("input",{tabIndex:-1,disabled:!0,style:"width: 0; height:0; position: absolute; visibility: hidden;"});p.Dom.appendChildFirst(x,b)},S.prototype.showInline=function(x){this.jodit.e.fire("showInlineToolbar",x)},S.prototype.hide=function(){this.jodit.e.fire("hidePopup"),v.prototype.hide.call(this),this.jodit.e.fire("toggleToolbar")},S.prototype.show=function(){v.prototype.show.call(this),this.jodit.e.fire("toggleToolbar")},u.__decorate([f.component],S)}(d.ToolbarCollection);o.ToolbarEditorCollection=g},81438:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.makeButton=o.makeCollection=void 0;var u=s(40332),d=s(72719),h=s(81698),p=s(48197),m=s(34375);o.makeCollection=function(f,g){var v=(0,u.isJoditObject)(f)?new h.ToolbarEditorCollection(f):new d.ToolbarCollection(f);return f.o.textIcons&&v.container.classList.add("jodit_text_icons"),g&&(v.parentElement=g),f.o.toolbarButtonSize&&(v.buttonSize=f.o.toolbarButtonSize),v},o.makeButton=function(f,g,v){if(v===void 0&&(v=null),(0,u.isFunction)(g.getContent))return new m.ToolbarContent(f,g,v);var S=new p.ToolbarButton(f,g,v);return S.state.tabIndex=f.o.allowTabNavigation?0:-1,S}},36262:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(49781),p=s(77892);d.Config.prototype.enableDragAndDropFileToEditor=!0,d.Config.prototype.uploader={url:"",insertImageAsBase64URI:!1,imagesExtensions:["jpg","png","jpeg","gif"],headers:null,data:null,filesVariableName:function(m){return"files[".concat(m,"]")},withCredentials:!1,pathVariableName:"path",format:"json",method:"POST",prepareData:function(m){return m},isSuccess:function(m){return m.success},getMessage:function(m){return m.data.messages!==void 0&&(0,h.isArray)(m.data.messages)?m.data.messages.join(" "):""},processFileName:function(m,f,g){return[m,f,g]},process:function(m){return m.data},error:function(m){this.j.e.fire("errorMessage",m.message,"error",4e3)},getDisplayName:function(m,f){return m+f},defaultHandlerSuccess:function(m){var f=this,g=this.j||this;(0,p.isJoditObject)(g)&&m.files&&m.files.length&&m.files.forEach(function(v,S){var x=u.__read(m.isImages&&m.isImages[S]?["img","src"]:["a","href"],2),b=x[0],_=x[1],w=g.createInside.element(b);w.setAttribute(_,m.baseurl+v),b==="a"&&(w.textContent=g.o.uploader.getDisplayName.call(f,m.baseurl,v)),b==="img"?g.s.insertImage(w,null,g.o.imageDefaultWidth):g.s.insertNode(w)})},defaultHandlerError:function(m){this.j.e.fire("errorMessage",m.message)},contentType:function(m){return(this.ow.FormData===void 0||typeof m=="string")&&"application/x-www-form-urlencoded; charset=UTF-8"}}},55778:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.buildData=void 0;var u=s(40332);o.buildData=function(d,h){if((0,u.isFunction)(d.o.buildData))return d.o.buildData.call(d,h);var p=d.ow.FormData;if(p!==void 0){if(h instanceof p||(0,u.isString)(h))return h;var m=new p;return Object.keys(h).forEach(function(f){m.append(f,h[f])}),m}return h}},98099:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.dataURItoBlob=void 0,o.dataURItoBlob=function(s){for(var u=atob(s.split(",")[1]),d=s.split(",")[0].split(":")[1].split(";")[0],h=new ArrayBuffer(u.length),p=new Uint8Array(h),m=0;u.length>m;m+=1)p[m]=u.charCodeAt(m);return new Blob([p],{type:d})}},41566:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.hasItems=o.hasFiles=void 0;var u=s(20255);u.__exportStar(s(32937),o),u.__exportStar(s(98099),o),u.__exportStar(s(55778),o),u.__exportStar(s(30863),o),u.__exportStar(s(20704),o),o.hasFiles=function(d){return!!(d&&d.files&&d.files.length>0)},o.hasItems=function(d){return!!(d&&d.items&&d.items.length>0)}},32937:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.processOldBrowserDrag=void 0;var u=s(86893),d=s(17332),h=s(40332),p=s(64968),m=s(41566);o.processOldBrowserDrag=function(f,g,v,S,x){if(g&&(!g.types.length||g.types[0]!==u.TEXT_PLAIN)){var b=f.j.c.div("",{tabindex:-1,style:"left: -9999px; top: 0; width: 0; height: 100%;line-height: 140%; overflow: hidden; position: fixed; z-index: 2147483647; word-break: break-all;",contenteditable:!0});(0,d.getContainer)(f.j,f.constructor).appendChild(b);var _=(0,h.isJoditObject)(f.j)?f.j.s.save():null;b.focus(),f.j.async.setTimeout(function(){var w=b.firstChild;if(p.Dom.safeRemove(b),w&&w.hasAttribute("src")){var C=(0,h.attr)(w,"src")||"";_&&(0,h.isJoditObject)(f.j)&&f.j.s.restore(),(0,m.sendFiles)(f,[(0,m.dataURItoBlob)(C)],v,S).finally(x)}},f.j.defaultTimeout)}}},20704:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.sendFiles=void 0;var u=s(20255),d=s(40332),h=s(30863);o.sendFiles=function(p,m,f,g,v){if(!m)return Promise.reject((0,d.error)("Need files"));var S=p.o,x=(0,d.toArray)(m);if(!x.length)return Promise.reject((0,d.error)("Need files"));var b=[];if(S.insertImageAsBase64URI){var _,w=void 0,C=function(){if((_=x[w])&&_.type){var R=_.type.match(/\/([a-z0-9]+)/i),O=R[1]?R[1].toLowerCase():"";if(S.imagesExtensions.includes(O)){var D=new FileReader;b.push(p.j.async.promise(function(L,B){D.onerror=B,D.onloadend=function(){var F={baseurl:"",files:[D.result],isImages:[!0]};((0,d.isFunction)(f)?f:S.defaultHandlerSuccess).call(p,F),L(F)},D.readAsDataURL(_)})),x[w]=null}}};for(w=0;x.length>w;w+=1)C()}if((x=x.filter(function(R){return R})).length){var E=new FormData;E.append(S.pathVariableName,p.path),E.append("source",p.source);var A=void 0;for(w=0;x.length>w;w+=1)if(A=x[w]){var T=/\.[\d\w]+$/.test(A.name),M=A.type.match(/\/([a-z0-9]+)/i),j=M&&M[1]?M[1].toLowerCase():"",P=x[w].name||Math.random().toString().replace(".","");if(!T&&j){var I=j;["jpeg","jpg"].includes(I)&&(I="jpeg|jpg"),new RegExp(".("+I+")$","i").test(P)||(P+="."+j)}var k=u.__read(S.processFileName.call(p,S.filesVariableName(w),x[w],P),3);E.append(k[0],k[1],k[2])}v&&v(E),S.data&&(0,d.isPlainObject)(S.data)&&Object.keys(S.data).forEach(function(R){E.append(R,S.data[R])}),S.prepareData.call(p,E),b.push((0,h.send)(p,E).then(function(R){return S.isSuccess.call(p,R)?(((0,d.isFunction)(f)?f:S.defaultHandlerSuccess).call(p,S.process.call(p,R)),R):(((0,d.isFunction)(g)?g:S.defaultHandlerError).call(p,(0,d.error)(S.getMessage.call(p,R))),R)}).then(function(){p.j.events&&p.j.e.fire("filesWereUploaded")}))}return Promise.all(b)}},30863:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.send=o.ajaxInstances=void 0;var u=s(30056),d=s(40332),h=s(55778);o.ajaxInstances=new WeakMap,o.send=function(p,m){var f=(0,h.buildData)(p,m),g=function(v){var S=new u.Ajax({xhr:function(){var b=new XMLHttpRequest;return p.j.ow.FormData!==void 0&&b.upload?(p.j.progressbar.show().progress(10),b.upload.addEventListener("progress",function(_){if(_.lengthComputable){var w=_.loaded/_.total;w*=100,p.j.progressbar.show().progress(w),100>w||p.j.progressbar.hide()}},!1)):p.j.progressbar.hide(),b},method:p.o.method||"POST",data:v,url:(0,d.isFunction)(p.o.url)?p.o.url(v):p.o.url,headers:p.o.headers,queryBuild:p.o.queryBuild,contentType:p.o.contentType.call(p,v),withCredentials:p.o.withCredentials||!1}),x=o.ajaxInstances.get(p);return x||(x=new Set,o.ajaxInstances.set(p,x)),x.add(S),p.j.e.one("beforeDestruct",S.destruct),S.send().then(function(b){return b.json()}).catch(function(b){p.o.error.call(p,b)}).finally(function(){S.destruct(),x==null||x.delete(S)})};return(0,d.isPromise)(f)?f.then(g).catch(function(v){p.o.error.call(p,v)}):g(f)}},50454:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.Uploader=void 0;var u=s(20255);s(28654);var d=s(93166),h=s(86893),p=s(40332),m=s(56562),f=s(41566);s(36262);var g=function(v){function S(x,b){var _=v.call(this,x)||this;return _.path="",_.source="default",_.options=(0,p.ConfigProto)(b||{},(0,p.ConfigProto)(d.Config.defaultOptions.uploader,(0,p.isJoditObject)(x)?x.o.uploader:{})),_}return u.__extends(S,v),Object.defineProperty(S.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),S.prototype.className=function(){return"Uploader"},Object.defineProperty(S.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),S.prototype.setPath=function(x){return this.path=x,this},S.prototype.setSource=function(x){return this.source=x,this},S.prototype.bind=function(x,b,_){var w=function(){x.classList.remove("jodit_drag_hover")},C=this,E=function(A){var T,M,j,P=A.clipboardData,I=function(O){M&&(O.append("extension",j),O.append("mimetype",M.type))};if(!h.IS_IE&&(0,f.hasFiles)(P))return(0,f.sendFiles)(C,P.files,b,_).finally(w),!1;if(h.IS_IE)return(0,f.processOldBrowserDrag)(C,P,b,_,w);if((0,f.hasItems)(P)){var k=P.items;for(T=0;k.length>T;T+=1)if(k[T].kind==="file"&&k[T].type==="image/png"){if(M=k[T].getAsFile()){var R=M.type.match(/\/([a-z0-9]+)/i);j=R[1]?R[1].toLowerCase():"",(0,f.sendFiles)(C,[M],b,_,I).finally(w)}A.preventDefault();break}}};C.j&&C.j.editor!==x?C.j.e.on(x,"paste",E):C.j.e.on("beforePaste",E),this.attachEvents(x,b,_,w)},S.prototype.attachEvents=function(x,b,_,w){var C=this;C.j.e.on(x,"dragend dragover dragenter dragleave drop",function(A){A.preventDefault()}).on(x,"dragover",function(A){((0,f.hasFiles)(A.dataTransfer)||(0,f.hasItems)(A.dataTransfer))&&(x.classList.add("jodit_drag_hover"),A.preventDefault())}).on(x,"dragend dragleave",function(A){x.classList.remove("jodit_drag_hover"),(0,f.hasFiles)(A.dataTransfer)&&A.preventDefault()}).on(x,"drop",function(A){x.classList.remove("jodit_drag_hover"),(0,f.hasFiles)(A.dataTransfer)&&(A.preventDefault(),A.stopImmediatePropagation(),(0,f.sendFiles)(C,A.dataTransfer.files,b,_).finally(w))});var E=x.querySelector("input[type=file]");E&&C.j.e.on(E,"change",function(){(0,f.sendFiles)(C,E.files,b,_).then(function(){E.value="",/safari/i.test(navigator.userAgent)||(E.type="",E.type="file")}).finally(w)})},S.prototype.uploadRemoteImage=function(x,b,_){var w=this,C=w.o,E=(0,p.isFunction)(_)?_:C.defaultHandlerError;(0,f.send)(w,{action:"fileUploadRemote",url:x}).then(function(A){C.isSuccess.call(w,A)?((0,p.isFunction)(b)?b:C.defaultHandlerSuccess).call(w,C.process.call(w,A)):E.call(w,(0,p.error)(C.getMessage.call(w,A)))}).catch(function(A){return E.call(w,A)})},S.prototype.destruct=function(){this.setStatus(m.STATUSES.beforeDestruct);var x=f.ajaxInstances.get(this);x&&(x.forEach(function(b){try{b.destruct()}catch{}}),x.clear()),v.prototype.destruct.call(this)},S}(m.ViewComponent);o.Uploader=g},75243:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.ColorPickerWidget=void 0,s(60819);var u=s(40332),d=s(2074),h=s(64968);d.Icon.set("palette",s(95331)),o.ColorPickerWidget=function(p,m,f){var g="jodit-color-picker",v=(0,u.normalizeColor)(f),S=p.c.div(g),x=p.o.textIcons?"<span>".concat(p.i18n("palette"),"</span>"):d.Icon.get("palette"),b=function(w){var C=[];return(0,u.isPlainObject)(w)?Object.keys(w).forEach(function(E){C.push('<div class="'.concat(g,"__group ").concat(g,"__group-").concat(E,'">')),C.push(b(w[E])),C.push("</div>")}):(0,u.isArray)(w)&&w.forEach(function(E){C.push("<span class='".concat(g,"__color-item ").concat(v===E?g+"__color-item_active_true":"",`' title="`).concat(E,'" style="background-color:').concat(E,'" data-color="').concat(E,'"></span>'))}),C.join("")};S.appendChild(p.c.fromHTML('<div class="'.concat(g,'__groups">').concat(b(p.o.colors),"</div>"))),S.appendChild(p.c.fromHTML('<div data-ref="extra" class="'.concat(g,'__extra"></div>')));var _=(0,u.refs)(S).extra;return p.o.showBrowserColorPicker&&(0,u.hasBrowserColorPicker)()&&(_.appendChild(p.c.fromHTML('<div class="'.concat(g,'__native">').concat(x,'<input type="color" value="#ffffff"/></div>'))),p.e.on(S,"change",function(w){w.stopPropagation();var C=w.target;if(C&&C.tagName&&h.Dom.isTag(C,"input")){var E=C.value||"";(0,u.isFunction)(m)&&m(E),w.preventDefault()}})),p.e.on(S,"mousedown touchend",function(w){w.stopPropagation(),w.preventDefault();var C=w.target;if(C&&C.tagName&&!h.Dom.isTag(C,"svg")&&!h.Dom.isTag(C,"path")||!C.parentNode||(C=h.Dom.closest(C.parentNode,"span",p.editor)),h.Dom.isTag(C,"span")&&C.classList.contains(g+"__color-item")){var E=(0,u.attr)(C,"-color")||"";m&&(0,u.isFunction)(m)&&m(E)}}),p.e.fire("afterGenerateColorPicker",S,_,m,v),S}},83029:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.FileSelectorWidget=void 0;var u=s(40332),d=s(64968),h=s(2074),p=s(60929);o.FileSelectorWidget=function(m,f,g,v,S){var x;S===void 0&&(S=!0);var b=[];if(f.upload&&m.o.uploader&&(m.o.uploader.url||m.o.uploader.insertImageAsBase64URI)){var _=m.c.fromHTML('<div class="jodit-drag-and-drop__file-box">'+"<strong>".concat(m.i18n(S?"Drop image":"Drop file"),"</strong>")+"<span><br>".concat(m.i18n("or click"),"</span>")+'<input type="file" accept="'.concat(S?"image/*":"*",'" tabindex="-1" dir="auto" multiple=""/>')+"</div>");m.uploader.bind(_,function(E){var A=(0,u.isFunction)(f.upload)?f.upload:m.o.uploader.defaultHandlerSuccess;(0,u.isFunction)(A)&&A.call(m,E),m.e.fire("closeAllPopups")},function(E){m.e.fire("errorMessage",E.message),m.e.fire("closeAllPopups")}),b.push({icon:"upload",name:"Upload",content:_})}if(f.filebrowser&&(m.o.filebrowser.ajax.url||m.o.filebrowser.items.url)&&b.push({icon:"folder",name:"Browse",content:function(){v&&v(),f.filebrowser&&m.filebrowser.open(f.filebrowser,S)}}),f.url){var w=new h.UIButton(m,{type:"submit",variant:"primary",text:"Insert"}),C=new h.UIForm(m,[new h.UIInput(m,{required:!0,label:"URL",name:"url",type:"text",placeholder:"https://"}),new h.UIInput(m,{name:"text",label:"Alternative text"}),new h.UIBlock(m,[w])]);x=null,g&&!d.Dom.isText(g)&&(d.Dom.isTag(g,"img")||(0,u.$$)("img",g).length)&&(x=g.tagName==="IMG"?g:(0,u.$$)("img",g)[0],(0,u.val)(C.container,"input[name=url]",(0,u.attr)(x,"src")),(0,u.val)(C.container,"input[name=text]",(0,u.attr)(x,"alt")),w.state.text="Update"),g&&d.Dom.isTag(g,"a")&&((0,u.val)(C.container,"input[name=url]",(0,u.attr)(g,"href")),(0,u.val)(C.container,"input[name=text]",(0,u.attr)(g,"title")),w.state.text="Update"),C.onSubmit(function(E){(0,u.isFunction)(f.url)&&f.url.call(m,E.url,E.text)}),b.push({icon:"link",name:"URL",content:C.container})}return(0,p.TabsWidget)(m,b)}},718:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(75243),o),u.__exportStar(s(60929),o),u.__exportStar(s(83029),o)},60929:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.TabsWidget=void 0,s(96410);var u=s(40332),d=s(42096),h=s(2074),p=s(56562),m=s(24263);o.TabsWidget=function(f,g,v){var S=f.c.div("jodit-tabs"),x=f.c.div("jodit-tabs__wrapper"),b=f.c.div("jodit-tabs__buttons"),_={},w=[],C="",E=0;S.appendChild(b),S.appendChild(x);var A=function(M){_[M]&&(w.forEach(function(j){j.state.activated=!1}),(0,u.$$)(".jodit-tab",x).forEach(function(j){j.classList.remove("jodit-tab_active")}),_[M].button.state.activated=!0,_[M].tab.classList.add("jodit-tab_active"))};if(g.forEach(function(M){var j=M.icon,P=M.name,I=M.content,k=f.c.div("jodit-tab"),R=(0,h.Button)(f,j||P,P);f.e.on(R.container,"mousedown",function(O){return O.preventDefault()}),C||(C=P),b.appendChild(R.container),w.push(R),R.container.classList.add("jodit-tabs__button","jodit-tabs__button_columns_"+g.length),(0,d.isFunction)(I)?k.appendChild(f.c.div("jodit-tab_empty")):k.appendChild(p.Component.isInstanceOf(I,h.UIElement)?I.container:I),x.appendChild(k),R.onAction(function(){return A(P),(0,d.isFunction)(I)&&!m.Dom.isElement(I)&&I.call(f),v&&(v.__activeTab=P),!1}),_[P]={button:R,tab:k},E+=1}),!E)return S;if((0,u.$$)("a",b).forEach(function(M){M.style.width=(100/E).toFixed(10)+"%"}),A(v&&v.__activeTab&&_[v.__activeTab]?v.__activeTab:C),v){var T=v.__activeTab;Object.defineProperty(v,"__activeTab",{configurable:!0,enumerable:!1,get:function(){return T},set:function(M){T=M,A(M)}})}return S}},55692:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(33126);var u=s(93166),d=s(40332),h=s(86893),p=s(17332),m=s(77904);u.Config.prototype.controls.about={exec:function(f){var g=f.dlg(),v=f.i18n.bind(f);g.setMod("theme",f.o.theme).setHeader(v("About Jodit")).setContent(`<div class="jodit-about">
					<div>`.concat(v("Jodit Editor")," v.").concat(f.getVersion(),`</div>
					<div>`).concat(v("License: %s",(0,d.isLicense)(f.o.license)?(0,d.normalizeLicense)(f.o.license):"MIT"),`</div>
					<div>
						<a href="`).concat("https://xdsoft.net/jodit/",'" target="_blank">').concat("https://xdsoft.net/jodit/",`</a>
					</div>
					<div>
						<a href="https://xdsoft.net/jodit/docs/" target="_blank">`).concat(v("Jodit User's Guide"),`</a>
						`).concat(v("contains detailed help for using"),`
					</div>
					<div>`).concat(v("Copyright  XDSoft.net - Chupurnov Valeriy. All rights reserved."),`</div>
				</div>`)),(0,d.css)(g.dialog,{minHeight:200,minWidth:420}),g.open(!0)},tooltip:"About Jodit",mode:h.MODE_SOURCE+h.MODE_WYSIWYG},p.pluginSystem.add("about",function(f){f.registerButton({name:"about",group:"info"})}),m.Icon.set("about",s(84279))},66031:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.addNewLine=void 0;var u=s(20255);s(30724);var d=s(87837),h=s(40332),p=s(43441),m=s(17332);s(46360);var f="addnewline",g=function(v){function S(){var x=v!==null&&v.apply(this,arguments)||this;return x.line=x.j.c.fromHTML('<div role="button" tabindex="-1" title="'.concat(x.j.i18n("Break"),'" class="jodit-add-new-line"><span>').concat(d.Icon.get("enter"),"</span></div>")),x.isMatchedTag=function(b){return!!(b&&x.j.o.addNewLineTagsTriggers.includes(b.nodeName.toLowerCase()))},x.preview=!1,x.lineInFocus=!1,x.isShown=!1,x.hideForce=function(){x.isShown&&(x.isShown=!1,x.j.async.clearTimeout(x.timeout),x.lineInFocus=!1,d.Dom.safeRemove(x.line),x.line.style.setProperty("--jd-offset-handle","0"))},x.canGetFocus=function(b){return b!=null&&d.Dom.isBlock(b)&&!/^(img|table|iframe|hr)$/i.test(b.nodeName)},x.onClickLine=function(b){var _=x.j,w=_.createInside.element(_.o.enter);x.preview&&x.current&&x.current.parentNode?x.current===_.editor?d.Dom.prepend(_.editor,w):x.current.parentNode.insertBefore(w,x.current):_.editor.appendChild(w),_.s.setCursorIn(w),(0,h.scrollIntoViewIfNeeded)(w,_.editor,_.ed),_.synchronizeValues(),x.hideForce(),b.preventDefault()},x}return u.__extends(S,v),S.prototype.show=function(){this.isShown||this.j.o.readonly||this.j.isLocked||(this.isShown=!0,this.j.async.clearTimeout(this.timeout),this.line.classList.toggle("jodit-add-new-line_after",!this.preview),this.j.container.appendChild(this.line),this.line.style.width=this.j.container.clientWidth+"px")},S.prototype.onLock=function(x){x&&this.isShown&&this.hideForce()},S.prototype.hide=function(){this.isShown&&!this.lineInFocus&&(this.timeout=this.j.async.setTimeout(this.hideForce,{timeout:500,label:"add-new-line-hide"}))},S.prototype.afterInit=function(x){var b=this;x.o.addNewLine&&(x.e.on(this.line,"mousemove",function(_){_.stopPropagation()}).on(this.line,"mousedown touchstart",this.onClickLine).on("change",this.hideForce).on(this.line,"mouseenter",function(){b.j.async.clearTimeout(b.timeout),b.lineInFocus=!0}).on(this.line,"mouseleave",function(){b.lineInFocus=!1}).on("changePlace",this.addEventListeners.bind(this)),this.addEventListeners())},S.prototype.addEventListeners=function(){var x=this.j;x.e.off(x.editor,"."+f).off(x.container,"."+f).on([x.ow,x.ew,x.editor],"scroll."+f,this.hideForce).on(x.editor,"click."+f,this.hide).on(x.container,"mouseleave."+f,this.hide).on(x.editor,"mousemove."+f,this.onMouseMove)},S.prototype.onDblClickEditor=function(x){var b=this.j;if(!b.o.readonly&&b.o.addNewLineOnDBLClick&&x.target===b.editor&&b.s.isCollapsed()){var _=(0,h.offset)(b.editor,b,b.ed),w=x.pageY-b.ew.pageYOffset,C=b.createInside.element(b.o.enter);Math.abs(w-_.top)<Math.abs(w-(_.height+_.top))&&b.editor.firstChild?b.editor.insertBefore(C,b.editor.firstChild):b.editor.appendChild(C),b.s.setCursorIn(C),b.synchronizeValues(),this.hideForce(),x.preventDefault()}},S.prototype.onMouseMove=function(x){var b=this.j,_=b.ed.elementFromPoint(x.clientX,x.clientY);if(d.Dom.isHTMLElement(_)&&!d.Dom.isOrContains(this.line,_)&&d.Dom.isOrContains(b.editor,_))if(b.editor===_||this.isMatchedTag(_)||(_=d.Dom.closest(_,this.isMatchedTag,b.editor)),_){if(this.isMatchedTag(_)){var w=d.Dom.up(_,d.Dom.isBlock,b.editor);w&&w!==b.editor&&(_=w)}var C=(0,h.position)(_,this.j),E=!1,A=x.clientY,T=x.clientX;if(this.j.iframe){var M=(0,h.position)(this.j.iframe,this.j,!0);A+=M.top,T+=M.left}var j=this.j.o.addNewLineDeltaShow;Math.abs(A-C.top)>j||(E=C.top,this.preview=!0),Math.abs(A-(C.top+C.height))>j||(E=C.top+C.height,this.preview=!1),E===!1||(b.editor!==_||this.preview)&&(0,h.call)(this.preview?d.Dom.prev:d.Dom.next,_,this.canGetFocus,b.editor)?(this.current=!1,this.hide()):(this.line.style.top=E+"px",this.current=_,this.show(),this.line.style.setProperty("--jd-offset-handle",T-C.left-10+"px"))}else this.hide()},S.prototype.beforeDestruct=function(){this.j.async.clearTimeout(this.timeout),this.j.e.off(this.line).off("changePlace",this.addEventListeners),d.Dom.safeRemove(this.line),this.j.e.off([this.j.ow,this.j.ew,this.j.editor],"."+f).off(this.j.container,"."+f)},u.__decorate([(0,p.watch)(":lock")],S.prototype,"onLock",null),u.__decorate([p.autobind],S.prototype,"hide",null),u.__decorate([(0,p.watch)(":dblclick")],S.prototype,"onDblClickEditor",null),u.__decorate([(0,p.debounce)(function(x){return 5*x.defaultTimeout})],S.prototype,"onMouseMove",null),S}(d.Plugin);o.addNewLine=g,m.pluginSystem.add("addNewLine",g)},46360:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(2074);u.Config.prototype.addNewLine=!0,u.Config.prototype.addNewLineOnDBLClick=!0,u.Config.prototype.addNewLineTagsTriggers=["table","iframe","img","hr","pre","jodit"],u.Config.prototype.addNewLineDeltaShow=20,d.Icon.set("enter",s(11257))},91241:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.backspace=void 0;var u=s(20255),d=s(57549),h=s(64968),p=s(86893),m=s(40332),f=s(10109),g=s(17332),v=s(90089),S=s(95441);s(48229);var x=function(b){function _(){var w=b!==null&&b.apply(this,arguments)||this;return w.requires=["hotkeys"],w}return u.__extends(_,b),_.prototype.afterInit=function(w){var C=this;w.e.on("afterCommand.delete",function(E){E==="delete"&&C.afterDeleteCommand()}),w.registerCommand("deleteButton",{exec:function(){return C.onDelete(!1)},hotkeys:w.o.delete.hotkeys.delete},{stopPropagation:!1}).registerCommand("backspaceButton",{exec:function(){return C.onDelete(!0)},hotkeys:w.o.delete.hotkeys.backspace},{stopPropagation:!1}).registerCommand("deleteWordButton",{exec:function(){return C.onDelete(!1,"word")},hotkeys:w.o.delete.hotkeys.deleteWord}).registerCommand("backspaceWordButton",{exec:function(){return C.onDelete(!0,"word")},hotkeys:w.o.delete.hotkeys.backspaceWord}).registerCommand("deleteSentenceButton",{exec:function(){return C.onDelete(!1,"sentence")},hotkeys:w.o.delete.hotkeys.deleteSentence}).registerCommand("backspaceSentenceButton",{exec:function(){return C.onDelete(!0,"sentence")},hotkeys:w.o.delete.hotkeys.backspaceSentence})},_.prototype.beforeDestruct=function(w){w.e.off("afterCommand.delete")},_.prototype.afterDeleteCommand=function(){var w=this.j,C=w.s.current();if(C&&h.Dom.isTag(C.firstChild,"br")&&w.s.removeNode(C.firstChild),!((0,m.trim)(w.editor.textContent||"")||w.editor.querySelector("img,table,jodit,iframe,hr")||C&&h.Dom.closest(C,"table",w.editor))){w.editor.innerHTML="";var E=w.s.setCursorIn(w.editor);w.s.removeNode(E)}},_.prototype.onDelete=function(w,C){C===void 0&&(C="char");var E=this.j,A=E.selection;if(A.isFocused()||A.focus(),(0,S.checkNotCollapsed)(E))return!1;var T=A.range,M=E.createInside.text(p.INVISIBLE_SPACE);try{if(h.Dom.safeInsertNode(T,M),!h.Dom.isOrContains(E.editor,M))return;if(E.e.fire("backSpaceBeforeCases",w,M)||((0,f.moveNodeInsideStart)(E,M,w),v.cases.some(function(j){if((0,m.isFunction)(j)&&j(E,M,w,C))return!0})))return!1}catch(j){throw j}finally{E.e.fire("backSpaceAfterDelete",w,M),this.safeRemoveEmptyNode(M)}return!1},_.prototype.safeRemoveEmptyNode=function(w){var C,E,A=this.j.s.range;A.startContainer===w&&(w.previousSibling?h.Dom.isText(w.previousSibling)?A.setStart(w.previousSibling,(E=(C=w.previousSibling.nodeValue)===null||C===void 0?void 0:C.length)!==null&&E!==void 0?E:0):A.setStartAfter(w.previousSibling):w.nextSibling&&(h.Dom.isText(w.nextSibling)?A.setStart(w.nextSibling,0):A.setStartBefore(w.nextSibling)),A.collapse(!0),this.j.s.selectRange(A)),h.Dom.safeRemove(w)},_}(d.Plugin);o.backspace=x,g.pluginSystem.add("backspace",x)},31078:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkJoinNeighbors=void 0;var u=s(24263),d=s(30861);function h(p,m,f,g){if(m&&u.Dom.isElement(f)){u.Dom.moveContent(m,f,!g,(0,d.getMoveFilter)(p));for(var v=m;v&&v!==p.editor&&u.Dom.isEmpty(v);){var S=v.parentElement;u.Dom.safeRemove(v),v=S}return!0}return!1}o.checkJoinNeighbors=function(p,m,f){for(var g=m,v=g;g&&!u.Dom.findNotEmptySibling(g,f)&&g.parentElement!==p.editor;)v=g=g.parentElement;if(u.Dom.isElement(v)&&u.Dom.isContentEditable(v,p.editor)){var S=u.Dom.findNotEmptySibling(v,f);if(S&&(function(x,b,_,w){var C=u.Dom.isTag(_,["ol","ul"]),E=u.Dom.isTag(b,["ol","ul"]),A=function(T,M){return M?T.firstElementChild:T.lastElementChild};return E?(_=x.createInside.element(x.o.enterBlock),u.Dom.before(b,_),h(x,A(b,w),_,w)):!(!_||!C||E)&&h(x,b,A(_,!w),w)}(p,v,S,f)||h(p,v,S,f)))return p.s.setCursorBefore(m),!0}return!1}},92156:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkJoinTwoLists=void 0;var u=s(24263),d=s(67309),h=s(30861);o.checkJoinTwoLists=function(p,m,f){var g=u.Dom.findSibling(m,f),v=u.Dom.findSibling(m,!f);if(!u.Dom.closest(m,u.Dom.isElement,p.editor)&&u.Dom.isTag(g,["ul","ol"])&&u.Dom.isTag(v,["ul","ol"])&&u.Dom.isTag(g.lastElementChild,"li")&&u.Dom.isTag(v.firstElementChild,"li")){var S=p.s,x=S.setCursorBefore,b=S.setCursorAfter,_=g.lastElementChild;return(0,d.call)(f?u.Dom.prepend:u.Dom.append,v.firstElementChild,m),u.Dom.moveContent(v,g,!f,(0,h.getMoveFilter)(p)),u.Dom.safeRemove(v),(0,d.call)(f?u.Dom.append:u.Dom.prepend,_,m),(0,d.call)(f?x:b,m),!0}return!1}},95441:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.checkNotCollapsed=void 0,o.checkNotCollapsed=function(s){return!s.s.isCollapsed()&&(s.execCommand("Delete"),!0)}},13116:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkRemoveChar=void 0;var u=s(64968),d=s(40332),h=s(86893),p=s(30861);o.checkRemoveChar=function m(f,g,v,S){var x,b,_,w,C=v?-1:1,E=u.Dom.sibling(g,!v),A=u.Dom.sibling(g,v),T=null,M=!1,j=function(D){var L=u.Dom.sibling(D,v);return!L&&D.parentNode&&D.parentNode!==f.editor&&(L=(0,p.findMostNestedNeighbor)(D,!v,f.editor,!0)),L};for(A||(A=j(g));A&&(u.Dom.isText(A)||u.Dom.isInlineBlock(A));){for(;u.Dom.isInlineBlock(A);)A=v?A==null?void 0:A.lastChild:A==null?void 0:A.firstChild;if(!A)break;if(!((x=A.nodeValue)===null||x===void 0)&&x.length){var P=(0,d.toArray)(A.nodeValue),I=P.length,k=v?I-1:0;if(P[k]===h.INVISIBLE_SPACE)for(;P[k]===h.INVISIBLE_SPACE;)k+=C;if(w=P[k],P[k+C]===h.INVISIBLE_SPACE){for(k+=C;P[k]===h.INVISIBLE_SPACE;)k+=C;k+=v?1:-1}if(P=v&&0>k?[]:P.slice(v?0:k+1,v?k:I),!E||!u.Dom.isText(E)||(v?/^ /:/ $/).test((b=E.nodeValue)!==null&&b!==void 0?b:"")||!(0,d.trimInv)(E.nodeValue||"").length)for(var R=v?P.length-1:0;(v?R>=0:P.length>R)&&P[R]===" ";R+=v?-1:1)P[R]=h.NBSP_SPACE;A.nodeValue=P.join("")}if(!((_=A.nodeValue)===null||_===void 0)&&_.length||(T=A),!(0,d.isVoid)(w)&&w!==h.INVISIBLE_SPACE){M=!0,(0,d.call)(v?u.Dom.after:u.Dom.before,A,g),(S==="sentence"||S==="word"&&w!==" "&&w!==h.NBSP_SPACE)&&m(f,g,v,S);break}var O=j(A);T&&(u.Dom.safeRemove(T),T=null),A=O}return T&&(u.Dom.safeRemove(T),T=null),M&&(function(D,L){for(var B=D.parentElement;B&&u.Dom.isInlineBlock(B)&&u.Dom.isTag(B,L);){var F=B.parentElement;u.Dom.isEmpty(B)&&(u.Dom.after(B,D),u.Dom.safeRemove(B)),B=F}}(g,["a"]),function(D,L){L.parentElement!==D.editor&&u.Dom.isBlock(L.parentElement)&&u.Dom.each(L.parentElement,u.Dom.isEmptyTextNode)&&u.Dom.after(L,D.createInside.element("br"))}(f,g),f.s.setCursorBefore(g),u.Dom.isTag(g.previousSibling,"br")&&!u.Dom.findNotEmptySibling(g,!1)&&u.Dom.after(g,f.createInside.element("br"))),M}},74217:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkRemoveContentNotEditable=void 0;var u=s(64968),d=s(40332),h=s(10109);o.checkRemoveContentNotEditable=function(p,m,f){var g=u.Dom.findSibling(m,f);return!g&&m.parentElement&&m.parentElement!==p.editor&&(g=u.Dom.findSibling(m.parentElement,f)),!(!u.Dom.isElement(g)||u.Dom.isContentEditable(g,p.editor)||((0,d.call)(f?u.Dom.before:u.Dom.after,g,m),u.Dom.safeRemove(g),(0,h.moveNodeInsideStart)(p,m,f),(0,d.call)(f?p.s.setCursorBefore:p.s.setCursorAfter,m),0))}},34181:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkRemoveEmptyNeighbor=void 0;var u=s(24263);o.checkRemoveEmptyNeighbor=function(d,h,p){var m=u.Dom.closest(h,u.Dom.isElement,d.editor);if(!m)return!1;var f=u.Dom.findNotEmptySibling(m,p);return!(!f||!u.Dom.isEmpty(f)||(u.Dom.safeRemove(f),d.s.setCursorBefore(h),0))}},13890:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkRemoveEmptyParent=void 0;var u=s(64968),d=s(86893),h=s(92156);o.checkRemoveEmptyParent=function(p,m,f){var g=!1,v=p.s,S=v.setCursorBefore,x=v.setCursorIn,b=u.Dom.closest(m,u.Dom.isElement,p.editor);if(!b||!u.Dom.isEmpty(b))return!1;var _=u.Dom.findNotEmptyNeighbor(m,f,p.editor);do{if(!b||!u.Dom.isEmpty(b)||u.Dom.isCell(b))break;u.Dom.after(b,m);var w=u.Dom.closest(b,function(C){return u.Dom.isElement(C)&&C!==b},p.editor);u.Dom.safeRemove(b),g=!0,b=w}while(b);return!(!g||!(0,h.checkJoinTwoLists)(p,m,f))||(!_||u.Dom.isText(_)||u.Dom.isTag(_,d.INSEPARABLE_TAGS)?S(m):x(_,!f),g)}},8249:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkRemoveUnbreakableElement=void 0;var u=s(24263),d=s(86893),h=s(13890);o.checkRemoveUnbreakableElement=function(p,m,f){var g=u.Dom.findSibling(m,f);return!(!u.Dom.isElement(g)||!u.Dom.isTag(g,d.INSEPARABLE_TAGS)&&!u.Dom.isEmpty(g)||(u.Dom.safeRemove(g),u.Dom.isTag(g,"br")&&!u.Dom.findNotEmptySibling(m,!1)&&u.Dom.after(m,p.createInside.element("br")),p.s.setCursorBefore(m),u.Dom.isTag(g,"br")&&(0,h.checkRemoveEmptyParent)(p,m,f),0))}},58368:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkTableCell=void 0;var u=s(24263);o.checkTableCell=function(d,h){return!!u.Dom.isCell(h.parentElement)}},6028:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkUnwrapFirstListItem=void 0;var u=s(24263),d=s(76502);o.checkUnwrapFirstListItem=function(h,p,m){var f,g=u.Dom.closest(p,u.Dom.isElement,h.editor),v=h.s;if(u.Dom.isTag(g,"li")&&((f=g==null?void 0:g.parentElement)===null||f===void 0?void 0:f[m?"firstElementChild":"lastElementChild"])===g&&v.cursorInTheEdge(m,g)){var S=g.parentElement,x=h.createInside.element(h.o.enterBlock);return(0,d.call)(m?u.Dom.before:u.Dom.after,S,x),u.Dom.moveContent(g,x),u.Dom.safeRemove(g),u.Dom.isEmpty(S)&&u.Dom.safeRemove(S),(0,d.call)(m?v.setCursorBefore:v.setCursorAfter,p),!0}return!1}},90089:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.cases=void 0;var u=s(8249),d=s(74217),h=s(13116),p=s(58368),m=s(13890),f=s(34181),g=s(92156),v=s(31078),S=s(6028);o.cases=[u.checkRemoveUnbreakableElement,d.checkRemoveContentNotEditable,h.checkRemoveChar,p.checkTableCell,m.checkRemoveEmptyParent,f.checkRemoveEmptyNeighbor,g.checkJoinTwoLists,v.checkJoinNeighbors,S.checkUnwrapFirstListItem]},48229:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.delete={hotkeys:{delete:["delete","cmd+backspace"],deleteWord:["ctrl+delete","cmd+alt+backspace","ctrl+alt+backspace"],deleteSentence:["ctrl+shift+delete","cmd+shift+delete"],backspace:["backspace"],backspaceWord:["ctrl+backspace"],backspaceSentence:["ctrl+shift+backspace","cmd+shift+backspace"]}}},30861:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getMoveFilter=o.findMostNestedNeighbor=void 0;var u=s(64968);o.findMostNestedNeighbor=function(d,h,p,m){m===void 0&&(m=!1);var f=function(v){return h?v.firstChild:v.lastChild},g=u.Dom.findNotEmptyNeighbor(d,!h,p);if(m&&u.Dom.isElement(g)&&!u.Dom.isInlineBlock(g))return null;if(g)do{if(!f(g))return g;g=f(g)}while(g);return null},o.getMoveFilter=function(d){return function(h){return d.e.fire("backSpaceIsMovedIgnore",h)!==!0}}},87565:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.bold=void 0;var u=s(20255),d=s(93166),h=s(40332),p=s(17332),m=s(77904);function f(g){var v=function(S){var x,b=d.Config.defaultOptions.controls[S],_=u.__assign({},b.css);return Object.keys(_).forEach(function(w){x||(x={}),x[w]=(0,h.isArray)(_[w])?_[w][0]:_[w]}),g.s.applyStyle(x,{element:b.tags?b.tags[0]:void 0}),g.synchronizeValues(),!1};["bold","italic","underline","strikethrough"].forEach(function(S){g.registerButton({name:S,group:"font-style"})}),["superscript","subscript"].forEach(function(S){g.registerButton({name:S,group:"script"})}),g.registerCommand("bold",{exec:v,hotkeys:["ctrl+b","cmd+b"]}).registerCommand("italic",{exec:v,hotkeys:["ctrl+i","cmd+i"]}).registerCommand("underline",{exec:v,hotkeys:["ctrl+u","cmd+u"]}).registerCommand("strikethrough",{exec:v}).registerCommand("subscript",{exec:v}).registerCommand("superscript",{exec:v})}s(58334),s(90740),o.bold=f,p.pluginSystem.add("bold",f),m.Icon.set("bold",s(25141)).set("italic",s(24557)).set("strikethrough",s(10859)).set("subscript",s(9813)).set("superscript",s(93395)).set("underline",s(98213))},90740:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.controls.subscript={tags:["sub"],tooltip:"subscript"},u.Config.prototype.controls.superscript={tags:["sup"],tooltip:"superscript"},u.Config.prototype.controls.bold={tagRegExp:/^(strong|b)$/i,tags:["strong","b"],css:{"font-weight":["bold","700"]},tooltip:"Bold"},u.Config.prototype.controls.italic={tagRegExp:/^(em|i)$/i,tags:["em","i"],css:{"font-style":"italic"},tooltip:"Italic"},u.Config.prototype.controls.underline={tagRegExp:/^(u)$/i,tags:["u"],css:{"text-decoration-line":"underline"},tooltip:"Underline"},u.Config.prototype.controls.strikethrough={tagRegExp:/^(s)$/i,tags:["s"],css:{"text-decoration-line":"line-through"},tooltip:"Strike through"}},58334:function(){},60894:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.classSpan=void 0;var u=s(20255),d=s(57549),h=s(93166),p=s(64968),m=s(40332),f=s(17332),g=s(2074);h.Config.prototype.controls.classSpan={command:"applyClassName",exec:m.memorizeExec,list:["enabled","disabled","activated","text-left","text-center","text-right","warning","error"],isChildActive:function(S,x){var b=S.s.current();if(b){var _=p.Dom.closest(b,p.Dom.isElement,S.editor)||S.editor;return!!(x.args&&_.classList.contains(x.args[0].toString()))}return!1},isActive:function(S,x){var b=S.s.current();if(b){var _=p.Dom.closest(b,p.Dom.isElement,S.editor)||S.editor,w=!1;return x.list&&Object.keys(x.list).forEach(function(C){_.classList.contains(C)&&(w=!0)}),!!(_&&_!==S.editor&&x.list!==void 0&&w)}return!1},childTemplate:function(S,x,b){return'<span class="'.concat(x,'">').concat(S.i18n(b),"</span>")},tooltip:"Insert className"};var v=function(S){function x(){var b=S!==null&&S.apply(this,arguments)||this;return b.buttons=[{name:"classSpan",group:"font"}],b}return u.__extends(x,S),x.prototype.afterInit=function(b){b.registerCommand("applyClassName",function(_,w,C){return b.s.applyStyle(void 0,{className:C}),!1})},x.prototype.beforeDestruct=function(){},x}(d.Plugin);o.classSpan=v,f.pluginSystem.add("classSpan",v),g.Icon.set("class-span",s(20026))},90302:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.cleanHtml=void 0;var u=s(20255),d=s(67128),h=s(85605),p=s(43441),m=s(33841),f=s(17332),g=s(24263),v=s(57713);s(98889);var S=function(x){function b(){var _=x!==null&&x.apply(this,arguments)||this;return _.buttons=[{name:"eraser",group:"font-style"}],_.currentSelectionNode=null,_.walker=new m.LazyWalker(_.j.async,{timeout:_.j.o.cleanHTML.timeout}),_}return u.__extends(b,x),b.prototype.afterInit=function(_){},Object.defineProperty(b.prototype,"isEditMode",{get:function(){return!(this.j.isInDestruct||!this.j.isEditorMode()||this.j.getReadOnly())},enumerable:!1,configurable:!0}),b.prototype.onChangeCleanHTML=function(){if(this.isEditMode){var _=this.j;this.walker.setWork(_.editor),this.currentSelectionNode=_.s.current()}},b.prototype.startWalker=function(){var _=this,w=this.jodit,C=(0,v.getHash)(this.j.o.cleanHTML.allowTags),E=(0,v.getHash)(this.j.o.cleanHTML.denyTags);this.walker.on("visit",function(A){return(0,v.visitNodeWalker)(w,A,C,E,_.currentSelectionNode)}).on("end",function(A){_.j.e.fire(A?"internalChange finishedCleanHTMLWorker":"finishedCleanHTMLWorker")})},b.prototype.beforeCommand=function(_){if(_.toLowerCase()==="removeformat")return this.j.s.isCollapsed()?(0,v.removeFormatForCollapsedSelection)(this.j):(0,v.removeFormatForSelection)(this.j),!1},b.prototype.onBeforeSetNativeEditorValue=function(_){var w=this.j.o.cleanHTML.useIframeSandbox?this.j.createInside.sandbox():this.j.createInside.div();return w.innerHTML=_.value,this.onSafeHTML(w),_.value=w.innerHTML,(0,d.safeHTML)(w,{safeJavaScriptLink:!0,removeOnError:!0}),g.Dom.safeRemove(w),!1},b.prototype.onSafeHTML=function(_){(0,d.safeHTML)(_,this.j.o.cleanHTML)},b.prototype.beforeDestruct=function(){this.walker.destruct()},u.__decorate([(0,p.watch)([":change",":afterSetMode",":afterInit",":mousedown",":keydown"])],b.prototype,"onChangeCleanHTML",null),u.__decorate([(0,p.hook)("ready")],b.prototype,"startWalker",null),u.__decorate([(0,p.watch)(":beforeCommand")],b.prototype,"beforeCommand",null),u.__decorate([(0,p.watch)(":beforeSetNativeEditorValue")],b.prototype,"onBeforeSetNativeEditorValue",null),u.__decorate([(0,p.watch)(":safeHTML")],b.prototype,"onSafeHTML",null),b}(h.Plugin);o.cleanHtml=S,f.pluginSystem.add("cleanHtml",S)},98889:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.cleanHTML={timeout:300,removeEmptyElements:!0,fillEmptyParagraph:!0,replaceNBSP:!0,replaceOldTags:{i:"em",b:"strong"},allowTags:!1,denyTags:"script",useIframeSandbox:!1,removeOnError:!0,safeJavaScriptLink:!0,disableCleanFilter:null},u.Config.prototype.controls.eraser={command:"removeFormat",tooltip:"Clear Formatting"},d.Icon.set("eraser",s(66911))},38655:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getHash=void 0;var u=s(33941),d=s(24421);o.getHash=function(h){var p=/([^[]*)\[([^\]]+)]/,m=/[\s]*,[\s]*/,f=/^(.*)[\s]*=[\s]*(.*)$/,g={};return(0,d.isString)(h)?(h.split(m).map(function(v){v=(0,u.trim)(v);var S=p.exec(v),x={};if(S){var b=S[2].split(m);S[1]&&(b.forEach(function(_){_=(0,u.trim)(_);var w=f.exec(_);w?x[w[1]]=w[2]:x[_]=!0}),g[S[1].toUpperCase()]=x)}else g[v.toUpperCase()]=!0}),g):!!h&&(Object.keys(h).forEach(function(v){g[v.toUpperCase()]=h[v]}),g)}},57713:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(38655),o),u.__exportStar(s(72170),o),u.__exportStar(s(87783),o),u.__exportStar(s(88972),o)},72170:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isInlineBlock=o.removeFormatForCollapsedSelection=void 0;var u=s(24263),d=s(86893);function h(p){return u.Dom.isInlineBlock(p)&&!u.Dom.isTag(p,d.INSEPARABLE_TAGS)}o.removeFormatForCollapsedSelection=function(p,m){var f=p.s,g=m;if(!g){g=p.createInside.fake();var v=f.range;u.Dom.safeInsertNode(v,g),v.collapse()}var S=u.Dom.furthest(g,h,p.editor);if(S)if(f.cursorOnTheLeft(S))u.Dom.before(S,g);else if(f.cursorOnTheRight(S))u.Dom.after(S,g);else{var x=f.splitSelection(S);x&&u.Dom.after(x,g)}m||(f.setCursorBefore(g),u.Dom.safeRemove(g))},o.isInlineBlock=h},87783:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.removeFormatForSelection=void 0;var u=s(24263),d=s(76502),h=s(72170);o.removeFormatForSelection=function(p){var m=p.s,f=p.editor,g=p.createInside,v=m.range,S=v.cloneRange(),x=v.cloneRange(),b=g.fake(),_=g.fake();S.collapse(!0),x.collapse(!1),u.Dom.safeInsertNode(S,b),u.Dom.safeInsertNode(x,_),v.setStartBefore(b),v.collapse(!0),m.selectRange(v),(0,h.removeFormatForCollapsedSelection)(p,b),v.setEndAfter(_),v.collapse(!1),m.selectRange(v),(0,h.removeFormatForCollapsedSelection)(p,_);var w=[];u.Dom.between(b,_,function(E){(0,h.isInlineBlock)(E)&&!u.Dom.isTag(E,["a"])&&w.push(E),u.Dom.isElement(E)&&(0,d.attr)(E,"style")&&(0,d.attr)(E,"style",null)}),w.forEach(function(E){return u.Dom.unwrap(E)});var C=function(E,A){if(!u.Dom.findNotEmptySibling(E,A)){var T=E.parentNode;if(T&&T!==f&&(0,d.attr)(T,"style"))return(0,d.attr)(T,"style",null),C(T,A),!0}};C(b,!0)&&C(_,!1),v.setStartAfter(b),v.setEndBefore(_),m.selectRange(v),u.Dom.safeRemove(b),u.Dom.safeRemove(_)}},9948:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.allowAttributes=void 0;var u=s(24263);o.allowAttributes=function(d,h,p,m){if(m&&u.Dom.isElement(h)&&m[h.nodeName]!==!0){var f=h.attributes;if(f&&f.length){for(var g=[],v=0;f.length>v;v+=1){var S=m[h.nodeName][f[v].name];(!S||S!==!0&&S!==f[v].value)&&g.push(f[v].name)}g.length&&(p=!0),g.forEach(function(x){h.removeAttribute(x)})}}return p}},74722:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.fillEmptyParagraph=void 0;var u=s(24263),d=s(86893);o.fillEmptyParagraph=function(h,p,m){if(h.o.cleanHTML.fillEmptyParagraph&&u.Dom.isBlock(p)&&u.Dom.isEmpty(p,d.INSEPARABLE_TAGS)){var f=h.createInside.element("br");return p.appendChild(f),!0}return m}},2549:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(55901),o),u.__exportStar(s(9948),o),u.__exportStar(s(74722),o),u.__exportStar(s(75096),o),u.__exportStar(s(28194),o),u.__exportStar(s(94254),o),u.__exportStar(s(64701),o)},28194:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.removeEmptyTextNode=void 0;var u=s(24263);o.removeEmptyTextNode=function(d,h,p,m,f,g){return u.Dom.isText(h)&&!h.nodeValue?(h===g&&d.s.isCollapsed()&&d.s.setCursorAfter(h),u.Dom.safeRemove(h),!0):p}},94254:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.removeInvTextNodes=void 0;var u=s(86893),d=s(24263);o.removeInvTextNodes=function(h,p,m,f,g,v){return v!==p&&d.Dom.isText(p)&&p.nodeValue!=null&&(0,u.INVISIBLE_SPACE_REG_EXP)().test(p.nodeValue)?(p.nodeValue=p.nodeValue.replace((0,u.INVISIBLE_SPACE_REG_EXP)(),""),p===v&&h.s.isCollapsed()&&h.s.setCursorAfter(p),p.nodeValue||d.Dom.safeRemove(p),!0):m}},55901:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.replaceOldTags=void 0;var u=s(24263);o.replaceOldTags=function(d,h,p){var m=function(f,g,v){if(!v||!u.Dom.isHTMLElement(g))return g;var S=v[g.nodeName.toLowerCase()]||v[g.nodeName];return S?u.Dom.replace(g,S,f.createInside,!0,!1):g}(d,h,d.o.cleanHTML.replaceOldTags);return h!==m?(h=m,!0):p}},64701:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.sanitizeAttributes=void 0;var u=s(24263),d=s(40332);o.sanitizeAttributes=function(h,p,m){return!(!u.Dom.isElement(p)||!(0,d.sanitizeHTMLElement)(p,{safeJavaScriptLink:h.options.cleanHTML.safeJavaScriptLink,removeOnError:h.options.cleanHTML.removeOnError}))||m}},75096:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.tryRemoveNode=void 0;var u=s(24263),d=s(86893),h=s(33941);o.tryRemoveNode=function(p,m,f,g,v,S){return function(x,b,_,w,C){return!(u.Dom.isText(b)||!(w&&!w[b.nodeName]||C&&C[b.nodeName]))||x.o.cleanHTML.removeEmptyElements&&u.Dom.isElement(b)&&b.nodeName.match(d.IS_INLINE)!=null&&!u.Dom.isTemporary(b)&&(0,h.trim)(b.innerHTML).length===0&&(_==null||!u.Dom.isOrContains(b,_))}(p,m,S,g,v)?(u.Dom.safeRemove(m),!0):f}},88972:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.visitNodeWalker=void 0;var u=s(20255),d=s(2549),h=Object.keys(d);o.visitNodeWalker=function(p,m,f,g,v){var S,x,b=!1,_=p.o.cleanHTML.disableCleanFilter;try{for(var w=u.__values(h),C=w.next();!C.done;C=w.next()){var E=C.value;if(!(_&&_.has(E)||(b=(0,d[E])(p,m,b,f,g,v),m.isConnected)))return!0}}catch(A){S={error:A}}finally{try{C&&!C.done&&(x=w.return)&&x.call(w)}finally{if(S)throw S.error}}return b}},92138:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.clipboard=void 0;var u=s(86893),d=s(40332),h=s(17332);s(31473);var p=function(){function m(){this.buttons=[{name:"cut",group:"clipboard"},{name:"copy",group:"clipboard"},{name:"paste",group:"clipboard"},{name:"selectall",group:"clipboard"}]}return m.prototype.init=function(f){var g;(g=this.buttons)===null||g===void 0||g.forEach(function(v){return f.registerButton(v)}),f.e.off("copy.".concat(u.CLIPBOARD_ID," cut.").concat(u.CLIPBOARD_ID)).on("copy.".concat(u.CLIPBOARD_ID," cut.").concat(u.CLIPBOARD_ID),function(v){var S,x=f.s.html,b=(0,d.getDataTransfer)(v)||(0,d.getDataTransfer)(f.ew)||(0,d.getDataTransfer)(v.originalEvent);b&&(b.setData(u.TEXT_PLAIN,(0,d.stripTags)(x)),b.setData(u.TEXT_HTML,x)),f.buffer.set(u.CLIPBOARD_ID,x),f.e.fire("pasteStack",{html:x,action:f.o.defaultActionOnPaste||u.INSERT_AS_HTML}),v.type==="cut"&&(f.s.remove(),f.s.focus()),v.preventDefault(),(S=f==null?void 0:f.events)===null||S===void 0||S.fire("afterCopy",x)})},m.prototype.destruct=function(f){var g,v;(g=f==null?void 0:f.buffer)===null||g===void 0||g.set(u.CLIPBOARD_ID,""),(v=f==null?void 0:f.events)===null||v===void 0||v.off("."+u.CLIPBOARD_ID)},m}();o.clipboard=p,h.pluginSystem.add("clipboard",p)},31473:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.controls.cut={command:"cut",isDisabled:function(h){return h.s.isCollapsed()},tooltip:"Cut selection"},u.Config.prototype.controls.copy={command:"copy",isDisabled:function(h){return h.s.isCollapsed()},tooltip:"Copy selection"},u.Config.prototype.controls.selectall={icon:"select-all",command:"selectall",tooltip:"Select all"},d.Icon.set("copy",s(50018)).set("cut",s(99738)).set("paste",s(9185)).set("select-all",s(8619))},88412:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.color=void 0;var u=s(40332),d=s(17332);function h(p){p.registerButton({name:"brush",group:"color"});var m=function(f,g,v){var S=(0,u.normalizeColor)(v);switch(f){case"background":p.s.applyStyle({backgroundColor:S||""});break;case"forecolor":p.s.applyStyle({color:S||""})}return p.synchronizeValues(),!1};p.registerCommand("forecolor",m).registerCommand("background",m)}s(21924),o.color=h,d.pluginSystem.add("color",h)},21924:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(40332),h=s(718),p=s(77904),m=s(24263);p.Icon.set("brush",s(73894)),u.Config.prototype.controls.brush={update:function(f,g){var v=(0,d.dataBind)(f,"color"),S=function(w,C){C&&C!==(0,d.css)(g.editor,w).toString()&&(f.state.icon.fill=C)};if(v){var x=(0,d.dataBind)(f,"color");S(x==="color"?x:"background-color",v)}else{var b=g.s.current();if(b&&!f.state.disabled){var _=m.Dom.closest(b,m.Dom.isElement,g.editor)||g.editor;S("color",(0,d.css)(_,"color").toString()),S("background-color",(0,d.css)(_,"background-color").toString())}f.state.icon.fill="",f.state.activated=!1}},popup:function(f,g,v,S,x){var b="",_="",w=[],C=null;return g&&g!==f.editor&&m.Dom.isNode(g)&&(m.Dom.isElement(g)&&f.s.isCollapsed()&&!m.Dom.isTag(g,["br","hr"])&&(C=g),m.Dom.up(g,function(E){if(m.Dom.isHTMLElement(E)){var A=(0,d.css)(E,"color",!0),T=(0,d.css)(E,"background-color",!0);if(A)return b=A.toString(),!0;if(T)return _=T.toString(),!0}},f.editor)),w=[{name:"Background",content:(0,h.ColorPickerWidget)(f,function(E){C?C.style.backgroundColor=E:f.execCommand("background",!1,E),(0,d.dataBind)(x,"color",E),(0,d.dataBind)(x,"color-mode","background"),S()},_)},{name:"Text",content:(0,h.ColorPickerWidget)(f,function(E){C?C.style.color=E:f.execCommand("forecolor",!1,E),(0,d.dataBind)(x,"color",E),(0,d.dataBind)(x,"color-mode","color"),S()},b)}],f.o.colorPickerDefaultTab!=="background"&&(w=w.reverse()),(0,h.TabsWidget)(f,w,C)},exec:function(f,g,v){var S=v.button,x=(0,d.dataBind)(S,"color-mode"),b=(0,d.dataBind)(S,"color");if(!x)return!1;if(g&&g!==f.editor&&m.Dom.isNode(g)&&m.Dom.isElement(g))switch(x){case"color":g.style.color=b;break;case"background":g.style.backgroundColor=b}else f.execCommand(x==="background"?x:"forecolor",!1,b)},tooltip:"Fill color or set the text color"}},79308:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.copyFormat=void 0;var u=s(93166),d=s(24263),h=s(26911),p=s(17332),m=s(77904),f="copy-format",g=["fontWeight","fontStyle","fontSize","color","margin","padding","borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","textDecorationLine","fontFamily"],v=function(x,b,_,w){var C=(0,h.css)(_,b);return C===w[b]&&(C=_.parentNode&&_!==x.editor&&_.parentNode!==x.editor?v(x,b,_.parentNode,w):void 0),C};function S(x){x.registerButton({name:"copyformat",group:"clipboard"}),(0,p.extendLang)(s(9188))}u.Config.prototype.controls.copyformat={exec:function(x,b,_){var w=_.button;if(b){if(x.buffer.exists(f))x.buffer.delete(f),x.e.off(x.editor,"mouseup."+f);else{var C={},E=d.Dom.up(b,function(M){return M&&!d.Dom.isText(M)},x.editor)||x.editor,A=x.createInside.span();x.editor.appendChild(A),g.forEach(function(M){C[M]=(0,h.css)(A,M)}),A!==x.editor&&d.Dom.safeRemove(A);var T=function(M,j,P){var I={};return j&&g.forEach(function(k){I[k]=v(M,k,j,P),k.match(/border(Style|Color)/)&&!I.borderWidth&&(I[k]=void 0)}),I}(x,E,C);x.e.on(x.editor,"mouseup."+f,function(){x.buffer.delete(f);var M=x.s.current();M&&(d.Dom.isTag(M,"img")?(0,h.css)(M,T):x.s.applyStyle(T)),x.e.off(x.editor,"mouseup."+f)}),x.buffer.set(f,!0)}w.update()}},isActive:function(x){return x.buffer.exists(f)},tooltip:"Paint format"},o.copyFormat=S,p.pluginSystem.add("copyformat",S),m.Icon.set("copyformat",s(83301))},9188:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.zh_tw=o.zh_cn=o.tr=o.ru=o.pt_br=o.pl=o.nl=o.mn=o.ko=o.ja=o.it=o.id=o.hu=o.he=o.fr=o.fa=o.es=o.de=o.cs_cz=o.ar=void 0;var u=s(80078);o.ar=u;var d=s(16986);o.cs_cz=d;var h=s(59347);o.de=h;var p=s(63640);o.es=p;var m=s(53434);o.fa=m;var f=s(85638);o.fr=f;var g=s(31743);o.he=g;var v=s(66219);o.hu=v;var S=s(50331);o.id=S;var x=s(25582);o.it=x;var b=s(82066);o.ja=b;var _=s(71925);o.ko=_;var w=s(12689);o.mn=w;var C=s(65274);o.nl=C;var E=s(58548);o.pl=E;var A=s(82958);o.pt_br=A;var T=s(52315);o.ru=T;var M=s(87727);o.tr=M;var j=s(9396);o.zh_cn=j;var P=s(28765);o.zh_tw=P},9412:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.draggableTags=["img","jodit-media","jodit"]},30598:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.dragAndDropElement=void 0;var u,d=s(20255),h=s(40332),p=s(57549),m=s(64968),f=s(17332),g=s(43441);s(9412),function(S){S[S.IDLE=0]="IDLE",S[S.WAIT_DRAGGING=1]="WAIT_DRAGGING",S[S.DRAGGING=2]="DRAGGING"}(u||(u={}));var v=function(S){function x(){var b=S!==null&&S.apply(this,arguments)||this;return b.dragList=[],b.draggable=null,b.isCopyMode=!1,b.diffStep=10,b.startX=0,b.startY=0,b.state=u.IDLE,b}return d.__extends(x,S),x.prototype.afterInit=function(){this.dragList=this.j.o.draggableTags?(0,h.splitArray)(this.j.o.draggableTags).filter(Boolean).map(function(b){return b.toLowerCase()}):[],this.dragList.length&&this.j.e.on("mousedown dragstart",this.onDragStart)},x.prototype.onDragStart=function(b){var _=this;if(b.type==="dragstart"&&this.draggable)return!1;if(u.IDLE>=this.state){var w=b.target;if(this.dragList.length&&w){var C=function(A){return!!(A&&_.dragList.includes(A.nodeName.toLowerCase()))},E=m.Dom.furthest(w,C,this.j.editor)||(C(w)?w:null);E&&(m.Dom.isTag(E.parentElement,"a")&&E.parentElement.firstChild===E&&E.parentElement.lastChild===E&&(E=E.parentElement),this.startX=b.clientX,this.startY=b.clientY,this.isCopyMode=(0,h.ctrlKey)(b),this.draggable=E.cloneNode(!0),(0,h.dataBind)(this.draggable,"target",E),this.state=u.WAIT_DRAGGING,this.addDragListeners())}}},x.prototype.onDrag=function(b){var _,w;if(this.draggable&&this.state!==u.IDLE){var C=b.clientY;if(this.state!==u.WAIT_DRAGGING||Math.sqrt(Math.pow(b.clientX-this.startX,2)+Math.pow(C-this.startY,2))>=this.diffStep){if(this.state===u.WAIT_DRAGGING&&(this.j.lock("drag-and-drop-element"),this.state=u.DRAGGING),this.j.e.fire("hidePopup hideResizer"),!this.draggable.parentNode){var E=(0,h.dataBind)(this.draggable,"target");(0,h.css)(this.draggable,{zIndex:1e13,pointerEvents:"none",pointer:"drag",position:"fixed",opacity:.7,display:"inline-block",left:b.clientX,top:b.clientY,width:(_=E==null?void 0:E.offsetWidth)!==null&&_!==void 0?_:100,height:(w=E==null?void 0:E.offsetHeight)!==null&&w!==void 0?w:100}),(0,f.getContainer)(this.j,x).appendChild(this.draggable)}(0,h.css)(this.draggable,{left:b.clientX,top:b.clientY}),this.j.s.insertCursorAtPoint(b.clientX,b.clientY)}}},x.prototype.onDragEnd=function(){this.isInDestruct||(this.removeDragListeners(),this.j.unlock(),this.state=u.IDLE,this.draggable&&(m.Dom.safeRemove(this.draggable),this.draggable=null))},x.prototype.onDrop=function(){if(this.draggable&&this.state>=u.DRAGGING){var b=(0,h.dataBind)(this.draggable,"target");this.onDragEnd(),this.isCopyMode&&(b=b.cloneNode(!0));var _=b.parentElement;this.j.s.insertNode(b,!0,!1),_&&m.Dom.isEmpty(_)&&!m.Dom.isTag(_,["td","th"])&&m.Dom.safeRemove(_),m.Dom.isTag(b,"img")&&this.j.e&&this.j.e.fire("afterInsertImage",b),this.j.e.fire("synchro")}else this.onDragEnd()},x.prototype.addDragListeners=function(){this.j.e.on(this.j.editor,"mousemove",this.onDrag).on("mouseup",this.onDrop).on([this.j.ew,this.ow],"mouseup",this.onDragEnd)},x.prototype.removeDragListeners=function(){this.j.e.off(this.j.editor,"mousemove",this.onDrag).off("mouseup",this.onDrop).off([this.j.ew,this.ow],"mouseup",this.onDragEnd)},x.prototype.beforeDestruct=function(){this.onDragEnd(),this.j.e.off("mousedown dragstart",this.onDragStart),this.removeDragListeners()},d.__decorate([g.autobind],x.prototype,"onDragStart",null),d.__decorate([(0,g.throttle)(function(b){return b.defaultTimeout/10})],x.prototype,"onDrag",null),d.__decorate([g.autobind],x.prototype,"onDragEnd",null),d.__decorate([g.autobind],x.prototype,"onDrop",null),x}(p.Plugin);o.dragAndDropElement=v,f.pluginSystem.add("dragAndDropElement",v)},19268:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.dragAndDrop=void 0;var u=s(20255),d=s(86893),h=s(24263),p=s(40332),m=s(57549),f=s(43441),g=s(63463),v=s(17332),S=function(x){function b(){var _=x!==null&&x.apply(this,arguments)||this;return _.isFragmentFromEditor=!1,_.isCopyMode=!1,_.startDragPoint={x:0,y:0},_.draggable=null,_.bufferRange=null,_.getText=function(w){var C=(0,p.getDataTransfer)(w);return C?C.getData(d.TEXT_HTML)||C.getData(d.TEXT_PLAIN):null},_}return u.__extends(b,x),b.prototype.afterInit=function(){this.j.e.on([window,this.j.ed,this.j.editor],"dragstart.DragAndDrop",this.onDragStart)},b.prototype.onDragStart=function(_){var w=_.target;if(this.onDragEnd(),this.isFragmentFromEditor=h.Dom.isOrContains(this.j.editor,w,!0),this.isCopyMode=!this.isFragmentFromEditor||(0,p.ctrlKey)(_),this.isFragmentFromEditor){var C=this.j.s.sel,E=C&&C.rangeCount?C.getRangeAt(0):null;E&&(this.bufferRange=E.cloneRange())}else this.bufferRange=null;this.startDragPoint.x=_.clientX,this.startDragPoint.y=_.clientY,(0,g.isFileBrowserFilesItem)(w)&&(w=w.querySelector("img")),h.Dom.isTag(w,"img")&&(this.draggable=w.cloneNode(!0),(0,p.dataBind)(this.draggable,"target",w)),this.addDragListeners()},b.prototype.addDragListeners=function(){this.j.e.on("dragover",this.onDrag).on("drop.DragAndDrop",this.onDrop).on(window,"dragend.DragAndDrop drop.DragAndDrop mouseup.DragAndDrop",this.onDragEnd)},b.prototype.removeDragListeners=function(){this.j.e.off("dragover",this.onDrag).off("drop.DragAndDrop",this.onDrop).off(window,"dragend.DragAndDrop drop.DragAndDrop mouseup.DragAndDrop",this.onDragEnd)},b.prototype.onDrag=function(_){this.draggable&&(this.j.e.fire("hidePopup"),this.j.s.insertCursorAtPoint(_.clientX,_.clientY),_.preventDefault(),_.stopPropagation())},b.prototype.onDragEnd=function(){this.draggable&&(h.Dom.safeRemove(this.draggable),this.draggable=null),this.isCopyMode=!1,this.removeDragListeners()},b.prototype.onDrop=function(_){if(!_.dataTransfer||!_.dataTransfer.files||!_.dataTransfer.files.length){if(!this.isFragmentFromEditor&&!this.draggable)return this.j.e.fire("paste",_),_.preventDefault(),_.stopPropagation(),!1;var w=this.j.s.sel,C=this.bufferRange||(w&&w.rangeCount?w.getRangeAt(0):null),E=null;if(!this.draggable&&C)E=this.isCopyMode?C.cloneContents():C.extractContents();else if(this.draggable)if(this.isCopyMode){var A=u.__read((0,p.attr)(this.draggable,"-is-file")==="1"?["a","href"]:["img","src"],2),T=A[0],M=A[1];(E=this.j.createInside.element(T)).setAttribute(M,(0,p.attr)(this.draggable,"data-src")||(0,p.attr)(this.draggable,"src")||""),T==="a"&&(E.textContent=(0,p.attr)(E,M)||"")}else E=(0,p.dataBind)(this.draggable,"target");else this.getText(_)&&(E=this.j.createInside.fromHTML(this.getText(_)));w&&w.removeAllRanges(),this.j.s.insertCursorAtPoint(_.clientX,_.clientY),E&&(this.j.s.insertNode(E,!1,!1),C&&E.firstChild&&E.lastChild&&(C.setStartBefore(E.firstChild),C.setEndAfter(E.lastChild),this.j.s.selectRange(C),this.j.e.fire("synchro")),h.Dom.isTag(E,"img")&&this.j.events&&this.j.e.fire("afterInsertImage",E)),_.preventDefault(),_.stopPropagation()}this.isFragmentFromEditor=!1,this.removeDragListeners()},b.prototype.beforeDestruct=function(){this.onDragEnd(),this.j.e.off(window,".DragAndDrop").off(".DragAndDrop").off([window,this.j.ed,this.j.editor],"dragstart.DragAndDrop",this.onDragStart)},u.__decorate([f.autobind],b.prototype,"onDragStart",null),u.__decorate([(0,f.throttle)(function(_){return _.defaultTimeout/10})],b.prototype,"onDrag",null),u.__decorate([f.autobind],b.prototype,"onDragEnd",null),u.__decorate([f.autobind],b.prototype,"onDrop",null),b}(m.Plugin);o.dragAndDrop=S,v.pluginSystem.add("dragAndDrop",S)},95049:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(69516),o)},69516:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.removeExtraBr=void 0;var u=s(24263);o.removeExtraBr=function(d,h){if(d.o.dtd.removeExtraBr&&!u.Dom.isTag(h,"br")){var p=u.Dom.furthest(h,u.Dom.isBlock,d.editor);if(p&&!u.Dom.isTag(p,["table","pre","blockquote","code"])){var m=u.Dom.isTag(h,"br")?h:u.Dom.findNotEmptySibling(h,!1);if(!u.Dom.isTag(m,"br"))return;d.s.setCursorBefore(m),u.Dom.safeRemove(m)}}}},73967:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkBlockNesting=void 0;var u=s(24263);o.checkBlockNesting=function(d,h){if(u.Dom.isFragment(h)&&(h=h.firstChild),d.o.dtd.checkBlockNesting&&u.Dom.isBlock(h)){var p=u.Dom.furthest(d.s.current(),u.Dom.isBlock,d.editor);p&&!d.o.dtd.blockLimits[p.tagName.toLowerCase()]&&(d.s.setCursorAfter(p),u.Dom.isEmpty(p)&&u.Dom.safeRemove(p))}}},73690:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(73967),o)},20173:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.dtd={removeExtraBr:!0,checkBlockNesting:!0,blockLimits:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1}}},96899:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(17332),p=s(46163);s(20173);var m=s(73690),f=s(95049),g=function(v){function S(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(S,v),S.prototype.afterInit=function(x){},S.prototype.beforeDestruct=function(x){},S.prototype.__onBeforeInsertNode=function(x){var b=this;Object.keys(m).forEach(function(_){m[_](b.j,x)})},S.prototype.__onAfterInsertNode=function(x){var b=this;Object.keys(f).forEach(function(_){f[_](b.j,x)})},u.__decorate([(0,p.watch)(":beforeInsertNode")],S.prototype,"__onBeforeInsertNode",null),u.__decorate([(0,p.watch)(":afterInsertNode")],S.prototype,"__onAfterInsertNode",null),S}(d.Plugin);h.pluginSystem.add("dtd",g)},33122:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.enter=void 0;var u=s(20255),d=s(24263),h=s(85605),p=s(86893),m=s(43441),f=s(67749),g=s(23217),v=s(17332);s(26231);var S=function(x){function b(){return x!==null&&x.apply(this,arguments)||this}return u.__extends(b,x),b.prototype.afterInit=function(_){var w=this,C=_.o.enter.toLowerCase(),E=C===p.BR.toLowerCase();_.o.enterBlock||(_.o.enterBlock=E?p.PARAGRAPH:C),_.registerCommand("enter",function(A,T,M){return M===void 0&&(M={}),w.onEnter(M)})},b.prototype.onEnterKeyDown=function(_){if(_.key===p.KEY_ENTER){var w=this.j,C=w.e.fire("beforeEnter",_);return C!==void 0?C:(w.s.isCollapsed()||w.execCommand("Delete"),w.s.focus(),this.onEnter(_),w.e.fire("afterEnter",_),w.synchronizeValues(),!1)}},b.prototype.onEnter=function(_){var w=this.jodit,C=w.createInside.fake();try{d.Dom.safeInsertNode(w.s.range,C),(0,g.moveCursorOutFromSpecialTags)(w,C,["a"]);var E=(0,g.getBlockWrapper)(C,w),A=d.Dom.isTag(E,"li");if((!A||_!=null&&_.shiftKey)&&(0,g.checkBR)(C,w,_==null?void 0:_.shiftKey))return!1;if(E||(0,g.hasPreviousBlock)(C,w)||(E=(0,g.wrapText)(C,w)),!E)return(0,g.insertParagraph)(C,w,A?"li":w.o.enter),!1;if(!(0,g.checkUnsplittableBox)(C,w,E))return!1;if(A&&this.__isEmptyListLeaf(E))return(0,g.processEmptyLILeaf)(C,w,E),!1;(0,g.splitFragment)(C,w,E)}finally{C.isConnected&&w.s.setCursorBefore(C),d.Dom.safeRemove(C)}},b.prototype.__isEmptyListLeaf=function(_){var w=this.j.e.fire("enterIsEmptyListLeaf",_);return(0,f.isBoolean)(w)?w:d.Dom.isEmpty(_)},b.prototype.beforeDestruct=function(_){_.e.off("keydown.enter")},u.__decorate([(0,m.watch)(":keydown.enter")],b.prototype,"onEnterKeyDown",null),b}(h.Plugin);o.enter=S,v.pluginSystem.add("enter",S)},94149:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkBR=void 0;var u=s(24263),d=s(9005),h=s(86893);function p(m){if(!m)return!1;var f=u.Dom.findSibling(m,!0);return!(!f||!u.Dom.isTag(f,"br"))&&f}o.checkBR=function(m,f,g){var v=!!u.Dom.closest(m,["pre","blockquote"],f.editor);if(f.o.enter.toLowerCase()===h.BR.toLowerCase()||g&&!v||!g&&v){if(v&&function(b){var _=p(p(b));return!!_&&(u.Dom.safeRemove(p(b)),u.Dom.safeRemove(_),!0)}(m))return!1;var S=f.createInside.element("br");if(u.Dom.before(m,S),!u.Dom.findNotEmptySibling(S,!1)){var x=S.cloneNode();u.Dom.after(S,x),u.Dom.before(x,m)}return(0,d.scrollIntoViewIfNeeded)(S,f.editor,f.ed),!0}return!1}},58921:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.checkUnsplittableBox=void 0;var u=s(24263);o.checkUnsplittableBox=function(d,h,p){return!!u.Dom.canSplitBlock(p)||(u.Dom.before(d,h.createInside.element("br")),!1)}},70638:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getBlockWrapper=void 0;var u=s(86893),d=s(24263);o.getBlockWrapper=function h(p,m,f){f===void 0&&(f=u.IS_BLOCK);var g=p,v=m.editor;do{if(!g||g===v)break;if(f.test(g.nodeName))return d.Dom.isTag(g,"li")?g:h(g.parentNode,m,/^li$/i)||g;g=g.parentNode}while(g&&g!==v);return null}},50781:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.hasPreviousBlock=void 0;var u=s(24263);o.hasPreviousBlock=function(d,h){return!!u.Dom.prev(d,function(p){return u.Dom.isBlock(p)||u.Dom.isImage(p)},h.editor)}},23217:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(94149),o),u.__exportStar(s(58921),o),u.__exportStar(s(92291),o),u.__exportStar(s(70638),o),u.__exportStar(s(50781),o),u.__exportStar(s(90443),o),u.__exportStar(s(52521),o),u.__exportStar(s(81512),o),u.__exportStar(s(29575),o)},90443:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.insertParagraph=void 0;var u=s(24263),d=s(9005);o.insertParagraph=function(h,p,m,f){var g=m.toLowerCase()==="br",v=p.createInside,S=v.element(m),x=v.element("br");return g||S.appendChild(x),f&&f.cssText&&S.setAttribute("style",f.cssText),u.Dom.after(h,S),u.Dom.before(g?S:x,h),(0,d.scrollIntoViewIfNeeded)(S,p.editor,p.ed),S}},29575:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.moveCursorOutFromSpecialTags=void 0;var u=s(24263);o.moveCursorOutFromSpecialTags=function(d,h,p){var m=d.s,f=u.Dom.closest(h,p,d.editor);f&&(m.cursorOnTheRight(f,h)?u.Dom.after(f,h):m.cursorOnTheLeft(f,h)&&u.Dom.before(f,h))}},92291:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.processEmptyLILeaf=void 0;var u=s(24263),d=s(54188),h=s(90443);o.processEmptyLILeaf=function(p,m,f){var g=u.Dom.closest(f,["ol","ul"],m.editor);if(g){var v=g.parentElement,S=u.Dom.isTag(v,"li"),x=S?v:g,b=m.s.createRange();b.setStartAfter(f),b.setEndAfter(g);var _=b.extractContents();u.Dom.after(x,p),u.Dom.safeRemove(f),(0,d.$$)("li",g).length||u.Dom.safeRemove(g);var w=(0,h.insertParagraph)(p,m,S?"li":m.o.enter);_.querySelector("li")&&(S?w.appendChild(_):u.Dom.after(w,_))}}},52521:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.splitFragment=void 0;var u=s(9005),d=s(24263),h=s(90443);o.splitFragment=function(p,m,f){var g=m.s,v=m.o.enter.toLowerCase(),S=d.Dom.isTag(f,"li"),x=f.tagName.toLowerCase()===v||S,b=g.cursorOnTheRight(f,p),_=g.cursorOnTheLeft(f,p);if(!x&&(b||_))return b?d.Dom.after(f,p):d.Dom.before(f,p),(0,h.insertParagraph)(p,m,v),void(_&&!b&&d.Dom.prepend(f,p));var w=g.splitSelection(f,p);(0,u.scrollIntoViewIfNeeded)(w,m.editor,m.ed)}},81512:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.wrapText=void 0;var u=s(24263);o.wrapText=function(d,h){var p=d;u.Dom.up(p,function(g){g&&g.hasChildNodes()&&g!==h.editor&&(p=g)},h.editor);var m=u.Dom.wrapInline(p,h.o.enter,h);if(u.Dom.isEmpty(m)){var f=h.createInside.element("br");m.appendChild(f),u.Dom.before(f,d)}return m}},26231:function(){},10135:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.file=void 0;var u=s(93166),d=s(24263),h=s(718),p=s(17332);function m(f){f.registerButton({name:"file",group:"media"})}u.Config.prototype.controls.file={popup:function(f,g,v,S){var x=function(_,w){w===void 0&&(w=""),f.s.insertNode(f.createInside.fromHTML('<a href="'.concat(_,'" title="').concat(w,'">').concat(w||_,"</a>")))},b=null;return g&&(d.Dom.isTag(g,"a")||d.Dom.closest(g,"a",f.editor))&&(b=d.Dom.isTag(g,"a")?g:d.Dom.closest(g,"a",f.editor)),(0,h.FileSelectorWidget)(f,{filebrowser:function(_){_.files&&_.files.forEach(function(w){return x(_.baseurl+w)}),S()},upload:!0,url:function(_,w){b?(b.setAttribute("href",_),b.setAttribute("title",w)):x(_,w),S()}},b,S,!1)},tags:["a"],tooltip:"Insert file"},o.file=m,p.pluginSystem.add("file",m)},66994:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.focus=void 0;var u=s(93166),d=s(64968),h=s(17332);function p(m){m.o.saveSelectionOnBlur&&m.e.on("blur",function(){m.isEditorMode()&&m.s.save(!0)}).on("focus",function(){m.s.restore()});var f=function(){if(m.s.focus(),m.o.cursorAfterAutofocus==="end"){var g=d.Dom.last(m.editor,function(v){return d.Dom.isText(v)});g&&m.s.setCursorIn(g,!1)}};m.e.on("afterInit",function(){m.o.autofocus&&(m.defaultTimeout?m.async.setTimeout(f,300):f())}),m.e.on("afterInit afterAddPlace",function(){m.e.off(m.editor,"mousedown.autofocus").on(m.editor,"mousedown.autofocus",function(g){m.isEditorMode()&&g.target&&d.Dom.isBlock(g.target)&&!g.target.childNodes.length&&(m.editor===g.target?m.s.focus():m.s.setCursorIn(g.target))})})}u.Config.prototype.autofocus=!1,u.Config.prototype.cursorAfterAutofocus="end",u.Config.prototype.saveSelectionOnBlur=!0,o.focus=p,h.pluginSystem.add("focus",p)},8082:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(24263),p=s(76502),m=s(77904);d.Config.prototype.defaultFontSizePoints="px",m.Icon.set("font",s(84142)).set("fontsize",s(57292)),d.Config.prototype.controls.fontsize={command:"fontsize",data:{cssRule:"font-size"},list:["8","9","10","11","12","14","16","18","24","30","36","48","60","72","96"],exec:function(f,g,v){var S=v.control;return(0,p.memorizeExec)(f,g,{control:S},function(x){var b;return((b=S.command)===null||b===void 0?void 0:b.toLowerCase())==="fontsize"?"".concat(x).concat(f.o.defaultFontSizePoints):x})},childTemplate:function(f,g,v){return"".concat(v).concat(f.o.defaultFontSizePoints)},tooltip:"Font size",isChildActive:function(f,g){var v,S,x=f.s.current(),b=((v=g.data)===null||v===void 0?void 0:v.cssRule)||"font-size",_=((S=g.data)===null||S===void 0?void 0:S.normalize)||function(E){return/pt$/i.test(E)&&f.o.defaultFontSizePoints==="pt"?E.replace(/pt$/i,""):E};if(x){var w=h.Dom.closest(x,h.Dom.isElement,f.editor)||f.editor,C=(0,p.css)(w,b);return!!(C&&g.args&&_(g.args[0].toString())===_(C.toString()))}return!1}},d.Config.prototype.controls.font=u.__assign(u.__assign({},d.Config.prototype.controls.fontsize),{command:"fontname",list:{"":"Default","helvetica,sans-serif":"Helvetica","arial,helvetica,sans-serif":"Arial","georgia,palatino,serif":"Georgia","impact,charcoal,sans-serif":"Impact","tahoma,geneva,sans-serif":"Tahoma","times new roman,times,serif":"Times New Roman","verdana,geneva,sans-serif":"Verdana"},childTemplate:function(f,g,v){var S=!1;try{S=g.indexOf("dings")===-1&&document.fonts.check("16px ".concat(g),v)}catch{}return'<span data-style="'.concat(g,'" style="').concat(S?"font-family: ".concat(g,"!important;"):"",'">').concat(v,"</span>")},data:{cssRule:"font-family",normalize:function(f){return f.toLowerCase().replace(/['"]+/g,"").replace(/[^a-z0-9]+/g,",")}},tooltip:"Font family"})},54798:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.font=void 0;var u=s(40332),d=s(17332);function h(p){p.registerButton({name:"font",group:"font"}).registerButton({name:"fontsize",group:"font"});var m=function(f,g,v){switch(f){case"fontsize":p.s.applyStyle({fontSize:(0,u.normalizeSize)(v)});break;case"fontname":p.s.applyStyle({fontFamily:v})}return p.synchronizeValues(),!1};p.registerCommand("fontsize",m).registerCommand("fontname",m)}s(8082),o.font=h,d.pluginSystem.add("font",h)},12908:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.formatBlock=void 0;var u=s(93166),d=s(87837),h=s(40332),p=s(17332);function m(f){f.registerButton({name:"paragraph",group:"font"}),f.registerCommand("formatblock",function(g,v,S){return f.s.applyStyle(void 0,{element:S}),f.synchronizeValues(),!1})}s(77904).Icon.set("paragraph",s(18019)),u.Config.prototype.controls.paragraph={command:"formatBlock",update:function(f,g){var v=f.control,S=g.s.current();if(S&&g.o.textIcons){var x=(d.Dom.closest(S,d.Dom.isBlock,g.editor)||g.editor).nodeName.toLowerCase(),b=v.list;f&&v.data&&v.data.currentValue!==x&&b&&b[x]&&(g.o.textIcons?f.state.text=x:f.state.icon.name=x,v.data.currentValue=x)}return!1},exec:h.memorizeExec,data:{currentValue:"left"},list:{p:"Normal",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",blockquote:"Quote",pre:"Code"},isChildActive:function(f,g){var v=f.s.current();if(v){var S=d.Dom.closest(v,d.Dom.isBlock,f.editor);return!!(S&&S!==f.editor&&g.args!==void 0&&S.nodeName.toLowerCase()===g.args[0])}return!1},isActive:function(f,g){var v=f.s.current();if(v){var S=d.Dom.closest(v,d.Dom.isBlock,f.editor);return!!(S&&S!==f.editor&&g.list!==void 0&&!d.Dom.isTag(S,"p")&&g.list[S.nodeName.toLowerCase()]!==void 0)}return!1},childTemplate:function(f,g,v){return"<".concat(g,' style="margin:0;padding:0"><span>').concat(f.i18n(v),"</span></").concat(g,">")},tooltip:"Insert format block"},o.formatBlock=m,p.pluginSystem.add("formatBlock",m)},15045:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(14320);var u=s(93166),d=s(86893),h=s(77904);u.Config.prototype.fullsize=!1,u.Config.prototype.globalFullSize=!0,h.Icon.set("fullsize",s(45146)).set("shrink",s(53576)),u.Config.prototype.controls.fullsize={exec:function(p){p.toggleFullSize()},update:function(p,m){var f=m.isFullSize?"shrink":"fullsize";p.state.activated=m.isFullSize,m.o.textIcons?p.state.text=f:p.state.icon.name=f},tooltip:"Open in fullsize",mode:d.MODE_SOURCE+d.MODE_WYSIWYG}},65123:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.fullsize=void 0,s(14320);var u=s(26911),d=s(77892),h=s(17332);s(15045);var p=new Set;function m(f){f.registerButton({name:"fullsize"});var g=!1,v=0,S=0,x=!1,b=function(){var w=f.container;f.events&&(g?(v=(0,u.css)(w,"height",!0),S=(0,u.css)(w,"width",!0),(0,u.css)(w,{height:f.ow.innerHeight,width:f.ow.innerWidth}),x=!0):x&&(0,u.css)(w,{height:v||"auto",width:S||"auto"}))},_=function(w){var C=f.container,E=f.events;if(C){if(w===void 0&&(w=!C.classList.contains("jodit_fullsize")),f.setMod("fullsize",w),f.o.fullsize=w,g=w,C.classList.toggle("jodit_fullsize",w),f.toolbar&&((0,d.isJoditObject)(f)&&f.toolbarContainer.appendChild(f.toolbar.container),(0,u.css)(f.toolbar.container,"width","auto")),w?p.add(C):p.delete(C),f.o.globalFullSize&&(p.size===1&&w||p.size===0&&!w)){for(var A=C.parentNode;A&&A.nodeType!==Node.DOCUMENT_NODE&&A.nodeType!==Node.DOCUMENT_FRAGMENT_NODE;)A.classList.toggle("jodit_fullsize-box_true",w),A=A.parentNode;b()}E.fire("afterResize")}};f.o.globalFullSize&&f.e.on(f.ow,"resize",b),f.e.on("afterInit afterOpen",function(){var w;f.toggleFullSize((w=f==null?void 0:f.options)===null||w===void 0?void 0:w.fullsize)}).on("toggleFullSize",_).on("beforeDestruct",function(){g&&_(!1)}).on("beforeDestruct",function(){f.events&&f.e.off(f.ow,"resize",b)})}o.fullsize=m,h.pluginSystem.add("fullsize",m)},16829:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.commandToHotkeys={removeFormat:["ctrl+shift+m","cmd+shift+m"],insertOrderedList:["ctrl+shift+7","cmd+shift+7"],insertUnorderedList:["ctrl+shift+8, cmd+shift+8"],selectall:["ctrl+a","cmd+a"]}},83228:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.hotkeys=void 0;var u=s(20255),d=s(57549),h=s(40332),p=s(86893),m=s(17332);s(16829);var f=function(g){function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.onKeyPress=function(x){var b=S.specialKeys[x.which],_=(x.key||String.fromCharCode(x.which)).toLowerCase(),w=[b||_];return["alt","ctrl","shift","meta"].forEach(function(C){x[C+"Key"]&&b!==C&&w.push(C)}),(0,h.normalizeKeyAliases)(w.join("+"))},S.specialKeys={8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S}return u.__extends(v,g),v.prototype.afterInit=function(S){var x=this;(0,h.keys)(S.o.commandToHotkeys,!1).forEach(function(_){var w=S.o.commandToHotkeys[_];w&&((0,h.isArray)(w)||(0,h.isString)(w))&&S.registerHotkeyToCommand(w,_)});var b=!1;S.e.off(".hotkeys").on([S.ow,S.ew],"keydown.hotkeys",function(_){if(_.key===p.KEY_ESC)return x.j.e.fire("escape",_)}).on("keydown.hotkeys",function(_){var w=x.onKeyPress(_),C={shouldStop:!0};if(x.j.e.fire(w+".hotkey",_.type,C)===!1){if(C.shouldStop)return b=!0,S.e.stopPropagation("keydown"),!1;_.preventDefault()}},{top:!0}).on("keyup.hotkeys",function(){if(b)return b=!1,S.e.stopPropagation("keyup"),!1},{top:!0})},v.prototype.beforeDestruct=function(S){S.events&&S.e.off(".hotkeys")},v}(d.Plugin);o.hotkeys=f,m.pluginSystem.add("hotkeys",f)},43889:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.hr=void 0;var u=s(93166),d=s(64968),h=s(17332);function p(m){m.registerButton({name:"hr",group:"insert"}),m.registerCommand("insertHorizontalRule",function(){var f=m.createInside.element("hr");m.s.insertNode(f,!1,!1);var g=d.Dom.closest(f.parentElement,d.Dom.isBlock,m.editor);g&&d.Dom.isEmpty(g)&&g!==m.editor&&(d.Dom.after(g,f),d.Dom.safeRemove(g));var v=d.Dom.next(f,d.Dom.isBlock,m.editor,!1);return v||(v=m.createInside.element(m.o.enter),d.Dom.after(f,v)),m.s.setCursorIn(v),!1})}s(77904).Icon.set("hr",s(14655)),u.Config.prototype.controls.hr={command:"insertHorizontalRule",tags:["hr"],tooltip:"Insert Horizontal Line"},o.hr=p,h.pluginSystem.add("hr",p)},2509:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.iframeBaseUrl="",u.Config.prototype.iframeTitle="Jodit Editor",u.Config.prototype.iframeDoctype="<!DOCTYPE html>",u.Config.prototype.iframeDefaultSrc="about:blank",u.Config.prototype.iframeStyle='html{margin:0;padding:0;min-height: 100%;}body{box-sizing:border-box;font-size:13px;line-height:1.6;padding:10px;margin:0;background:transparent;color:#000;position:relative;z-index:2;user-select:auto;margin:0px;overflow:auto;outline:none;}table{width:100%;border:none;border-collapse:collapse;empty-cells: show;max-width: 100%;}th,td{padding: 2px 5px;border:1px solid #ccc;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}p{margin-top:0;}.jodit_editor .jodit_iframe_wrapper{display: block;clear: both;user-select: none;position: relative;}.jodit_editor .jodit_iframe_wrapper:after {position:absolute;content:"";z-index:1;top:0;left:0;right: 0;bottom: 0;cursor: pointer;display: block;background: rgba(0, 0, 0, 0);} .jodit_disabled{user-select: none;-o-user-select: none;-moz-user-select: none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none}',u.Config.prototype.iframeCSSLinks=[]},93300:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.iframe=void 0;var u=s(40332),d=s(40332),h=s(86893),p=s(17332);function m(f){var g=f.options;f.e.on("afterSetMode",function(){f.isEditorMode()&&f.s.focus()}).on("generateDocumentStructure.iframe",function(v,S){var x=v||S.iframe.contentWindow.document;if(x.open(),x.write(g.iframeDoctype+'<html dir="'.concat(g.direction,'" class="jodit" lang="').concat((0,u.defaultLanguage)(g.language),'">')+"<head>"+"<title>".concat(g.iframeTitle,"</title>")+(g.iframeBaseUrl?'<base href="'.concat(g.iframeBaseUrl,'"/>'):"")+'</head><body class="jodit-wysiwyg"></body></html>'),x.close(),g.iframeCSSLinks&&g.iframeCSSLinks.forEach(function(_){var w=x.createElement("link");w.setAttribute("rel","stylesheet"),w.setAttribute("href",_),x.head&&x.head.appendChild(w)}),g.iframeStyle){var b=x.createElement("style");b.innerHTML=g.iframeStyle,x.head&&x.head.appendChild(b)}}).on("createEditor",function(){if(g.iframe){var v=f.c.element("iframe");v.style.display="block",v.src="about:blank",v.className="jodit-wysiwyg_iframe",v.setAttribute("allowtransparency","true"),v.setAttribute("tabindex",g.tabIndex.toString()),v.setAttribute("frameborder","0"),f.workplace.appendChild(v),f.iframe=v;var S=f.e.fire("generateDocumentStructure.iframe",null,f);return(0,u.callPromise)(S,function(){if(!f.iframe)return!1;var x=f.iframe.contentWindow.document;f.editorWindow=f.iframe.contentWindow;var b=function(){(0,u.attr)(x.body,"contenteditable",f.getMode()!==h.MODE_SOURCE&&!f.getReadOnly()||null)},_=function(A){var T=/<body.*<\/body>/im,M="{%%BODY%%}",j=T.exec(A);return j&&(A=A.replace(T,M).replace(/<span([^>]*?)>(.*?)<\/span>/gim,"").replace(/&lt;span([^&]*?)&gt;(.*?)&lt;\/span&gt;/gim,"").replace(M,j[0].replace(/(<body[^>]+?)min-height["'\s]*:[\s"']*[0-9]+(px|%)/im,"$1").replace(/(<body[^>]+?)([\s]*["'])?contenteditable["'\s]*=[\s"']*true["']?/im,"$1").replace(/<(style|script|span)[^>]+jodit[^>]+>.*?<\/\1>/g,"")).replace(/(class\s*=\s*)(['"])([^"']*)(jodit-wysiwyg|jodit)([^"']*\2)/g,"$1$2$3$5").replace(/(<[^<]+?)\sclass="[\s]*"/gim,"$1").replace(/(<[^<]+?)\sstyle="[\s;]*"/gim,"$1").replace(/(<[^<]+?)\sdir="[\s]*"/gim,"$1")),A};if(g.editHTMLDocumentMode){var w=f.element.tagName;if(w!=="TEXTAREA"&&w!=="INPUT")throw(0,d.error)("If enable `editHTMLDocumentMode` - source element should be INPUT or TEXTAREA");f.e.on("beforeGetNativeEditorValue",function(){return _(f.o.iframeDoctype+x.documentElement.outerHTML)}).on("beforeSetNativeEditorValue",function(A){var T=A.value;return!f.isLocked&&(/<(html|body)/i.test(T)?_(x.documentElement.outerHTML)!==_(T)&&(x.open(),x.write(f.o.iframeDoctype+_(T)),x.close(),f.editor=x.body,f.e.fire("safeHTML",f.editor),b(),f.e.fire("prepareWYSIWYGEditor"),f.e.stopPropagation("beforeSetNativeEditorValue")):x.body.innerHTML=T,!0)},{top:!0})}if(f.editor=x.body,f.e.on("afterSetMode afterInit afterAddPlace",b),g.height==="auto"){x.documentElement&&(x.documentElement.style.overflowY="hidden");var C=f.async.throttle(function(){if(f.editor&&f.iframe&&g.height==="auto"){var A=f.ew.getComputedStyle(f.editor),T=parseInt(A.marginTop||"0",10)+parseInt(A.marginBottom||"0",10);(0,u.css)(f.iframe,"height",f.editor.offsetHeight+T)}},f.defaultTimeout/2);if(f.e.on("change afterInit afterSetMode resize",C).on([f.iframe,f.ew,x.documentElement],"load",C).on(x,"readystatechange DOMContentLoaded",C),typeof ResizeObserver=="function"){var E=new ResizeObserver(C);E.observe(x.body),f.e.on("beforeDestruct",function(){E.unobserve(x.body)})}}return x.documentElement&&f.e.on(x.documentElement,"mousedown touchend",function(){f.s.isFocused()||(f.s.focus(),f.editor===x.body&&f.s.setCursorIn(x.body))}).on(f.ew,"mousedown touchstart keydown keyup touchend click mouseup mousemove scroll",function(A){var T;(T=f.events)===null||T===void 0||T.fire(f.ow,A)}),!1})}})}s(2509),o.iframe=m,p.pluginSystem.add("iframe",m)},18226:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.imageProcessor={replaceDataURIToBlobIdInView:!0}},92575:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.imageProcessor=void 0;var u=s(20255),d=s(40332),h=s(57549),p=s(43441),m=s(86893),f=s(17332);s(18226);var g="__jodit_imageprocessor_binded",v="__jodit_imageprocessor_bindedblob-id",S=function(x){function b(){return x!==null&&x.apply(this,arguments)||this}return u.__extends(b,x),b.prototype.afterInit=function(_){},b.prototype.beforeDestruct=function(_){var w,C,E=_.buffer.get(v);if(E){var A=Object.keys(E);try{for(var T=u.__values(A),M=T.next();!M.done;M=T.next())URL.revokeObjectURL(M.value)}catch(j){w={error:j}}finally{try{M&&!M.done&&(C=T.return)&&C.call(T)}finally{if(w)throw w.error}}_.buffer.delete(v)}},b.prototype.onAfterGetValueFromEditor=function(_,w){if(w!==m.SOURCE_CONSUMER)return this.onBeforeSetElementValue(_)},b.prototype.onBeforeSetElementValue=function(_){var w,C,E=this.jodit;if(E.o.imageProcessor.replaceDataURIToBlobIdInView){var A=E.buffer.get(v);if(A){var T=Object.keys(A);try{for(var M=u.__values(T),j=M.next();!j.done;j=M.next())for(var P=j.value;_.value.includes(P);)_.value=_.value.replace(P,A[P])}catch(I){w={error:I}}finally{try{j&&!j.done&&(C=M.return)&&C.call(M)}finally{if(w)throw w.error}}}}},b.prototype.afterChange=function(_){return u.__awaiter(this,void 0,Promise,function(){var w;return u.__generator(this,function(C){return(w=this.jodit).editor?((0,d.$$)("img",w.editor).forEach(function(E){(0,d.dataBind)(E,g)||((0,d.dataBind)(E,g,!0),E.complete||w.e.on(E,"load",function A(){var T;!w.isInDestruct&&((T=w.e)===null||T===void 0||T.fire("resize")),w.e.off(E,"load",A)}),E.src&&/^data:/.test(E.src)&&function(A,T){if(A.o.imageProcessor.replaceDataURIToBlobIdInView&&typeof ArrayBuffer<"u"&&typeof URL<"u"){var M=T.src,j=function(I){for(var k=atob(I.split(",")[1]),R=I.split(",")[0].split(":")[1].split(";")[0],O=new ArrayBuffer(k.length),D=new Uint8Array(O),L=0;k.length>L;L++)D[L]=k.charCodeAt(L);return new Blob([O],{type:R})}(M);T.src=URL.createObjectURL(j),A.e.fire("internalUpdate");var P=A.buffer.get(v)||{};P[T.src]=M,A.buffer.set(v,P)}}(w,E),w.e.on(E,"mousedown touchstart",function(){w.s.select(E)}))}),[2]):[2]})})},u.__decorate([(0,p.watch)(":afterGetValueFromEditor")],b.prototype,"onAfterGetValueFromEditor",null),u.__decorate([(0,p.watch)(":beforeSetElementValue")],b.prototype,"onBeforeSetElementValue",null),u.__decorate([(0,p.watch)([":change",":afterInit",":changePlace"]),(0,p.debounce)()],b.prototype,"afterChange",null),b}(h.Plugin);o.imageProcessor=S,f.pluginSystem.add("imageProcessor",S)},1601:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.image={dialogWidth:600,openOnDblClick:!0,editSrc:!0,useImageEditor:!0,editTitle:!0,editAlt:!0,editLink:!0,editSize:!0,editBorderRadius:!0,editMargins:!0,editClass:!0,availableClasses:[],editStyle:!0,editId:!0,editAlign:!0,showPreview:!0,selectImageAfterClose:!0}},15747:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.imageProperties=void 0;var u=s(20255);s(9947);var d=s(87837),h=s(40332),p=s(718),m=s(96516),f=s(43441),g=s(35503),v=s(17332),S=s(49391),x=s(27506),b=s(50109);s(1601);var _=function(E){return E=(0,h.trim)(E),/^[0-9]+$/.test(E)?E+"px":E},w=function(E){return/^[-+]?[0-9.]+px$/.test(E.toString())?parseFloat(E.toString()):E},C=function(E){function A(){var T=E!==null&&E.apply(this,arguments)||this;return T.state={image:new Image,get ratio(){return this.image.naturalWidth/this.image.naturalHeight||1},sizeIsLocked:!0,marginIsLocked:!0},T.activeTabState={__activeTab:"Image"},T}return u.__extends(A,E),A.prototype.onChangeMarginIsLocked=function(){var T=this;if(this.form){var M=(0,h.refs)(this.form),j=M.lockMargin;[M.marginRight,M.marginBottom,M.marginLeft].forEach(function(P){(0,h.attr)(P,"disabled",T.state.marginIsLocked||null)}),j.innerHTML=d.Icon.get(this.state.marginIsLocked?"lock":"unlock")}},A.prototype.onChangeSizeIsLocked=function(){if(this.form){var T=(0,h.refs)(this.form),M=T.lockSize,j=T.imageWidth;M.innerHTML=d.Icon.get(this.state.sizeIsLocked?"lock":"unlock"),M.classList.remove("jodit-properties__lock"),M.classList.remove("jodit-properties__unlock"),M.classList.add(this.state.sizeIsLocked?"jodit-properties__lock":"jodit-properties__unlock"),this.j.e.fire(j,"change")}},A.prototype.open=function(){return this.makeForm(),this.activeTabState.__activeTab="Image",this.j.e.fire("hidePopup"),(0,h.markOwner)(this.j,this.dialog.container),this.state.marginIsLocked=!0,this.state.sizeIsLocked=!0,this.onChangeMarginIsLocked(),this.onChangeSizeIsLocked(),this.updateValues(),this.dialog.open().setModal(!0).setPosition(),!1},A.prototype.makeForm=function(){var T=this;if(!this.dialog){this.dialog=this.j.dlg({minWidth:Math.min(400,screen.width),minHeight:590,buttons:["fullsize","dialog.close"]});var M=this.j,j=M.o,P=M.i18n.bind(M),I={check:(0,m.Button)(M,"ok","Apply","primary"),remove:(0,m.Button)(M,"bin","Delete")};M.e.on(this.dialog,"afterClose",function(){T.state.image.parentNode&&j.image.selectImageAfterClose&&M.s.select(T.state.image)}),I.remove.onAction(function(){M.s.removeNode(T.state.image),T.dialog.close()});var k=this.dialog;k.setHeader(P("Image properties"));var R=(0,S.form)(M);this.form=R,k.setContent(R);var O=(0,h.refs)(this.form).tabsBox;O&&O.appendChild((0,p.TabsWidget)(M,[{name:"Image",content:(0,x.mainTab)(M)},{name:"Advanced",content:(0,b.positionTab)(M)}],this.activeTabState)),I.check.onAction(this.onApply);var D=(0,h.refs)(this.form),L=D.editImage;M.e.on(D.changeImage,"click",this.openImagePopup),j.image.useImageEditor&&M.e.on(L,"click",this.openImageEditor);var B=(0,h.refs)(R),F=B.lockSize,H=B.lockMargin,ee=B.imageWidth,U=B.imageHeight;F&&M.e.on(F,"click",function(){T.state.sizeIsLocked=!T.state.sizeIsLocked}),M.e.on(H,"click",function(W){T.state.marginIsLocked=!T.state.marginIsLocked,W.preventDefault()});var X=function(W){if((0,h.isNumeric)(ee.value)&&(0,h.isNumeric)(U.value)){var ie=parseFloat(ee.value),Q=parseFloat(U.value);W.target===ee?U.value=Math.round(ie/T.state.ratio).toString():ee.value=Math.round(Q*T.state.ratio).toString()}};M.e.on([ee,U],"change keydown mousedown paste",function(W){T.state.sizeIsLocked&&M.async.setTimeout(X.bind(T,W),{timeout:M.defaultTimeout,label:"image-properties-changeSize"})}),k.setFooter([I.remove,I.check]),k.setSize(this.j.o.image.dialogWidth)}},A.prototype.updateValues=function(){var T,M,j=this,P=this.j.o,I=this.state.image,k=(0,h.refs)(this.form),R=k.marginTop,O=k.marginRight,D=k.marginBottom,L=k.marginLeft,B=k.imageSrc,F=k.id,H=k.classes,ee=k.align,U=k.style,X=k.imageTitle,W=k.imageAlt,ie=k.borderRadius,Q=k.imageLink,ae=k.imageWidth,K=k.imageHeight,te=k.imageLinkOpenInNewTab,ne=k.imageViewSrc,ce=k.lockSize;k.lockMargin.checked=j.state.marginIsLocked,ce.checked=j.state.sizeIsLocked,B.value=(0,h.attr)(I,"src")||"",ne&&(0,h.attr)(ne,"src",(0,h.attr)(I,"src")||""),function(){X.value=(0,h.attr)(I,"title")||"",W.value=(0,h.attr)(I,"alt")||"";var pe=d.Dom.closest(I,"a",j.j.editor);pe?(Q.value=(0,h.attr)(pe,"href")||"",te.checked=(0,h.attr)(pe,"target")==="_blank"):(Q.value="",te.checked=!1)}(),T=(0,h.attr)(I,"width")||(0,h.css)(I,"width",!0)||!1,M=(0,h.attr)(I,"height")||(0,h.css)(I,"height",!0)||!1,ae.value=T!==!1?w(T).toString():I.offsetWidth.toString(),K.value=M!==!1?w(M).toString():I.offsetHeight.toString(),j.state.sizeIsLocked=function(){if(!(0,h.isNumeric)(ae.value)||!(0,h.isNumeric)(K.value))return!1;var pe=parseFloat(ae.value),ge=parseFloat(K.value);return 1>Math.abs(pe-ge*j.state.ratio)}(),function(){if(P.image.editMargins){var pe=!0,ge=!1;[R,O,D,L].forEach(function(ue){var Me=(0,h.attr)(ue,"data-ref")||"",Ae=I.style.getPropertyValue((0,h.kebabCase)(Me));if(!Ae)return ge=!0,void(ue.value="");/^[0-9]+(px)?$/.test(Ae)&&(Ae=parseInt(Ae,10)),ue.value=Ae.toString()||"",(ge&&ue.value||pe&&Me!=="marginTop"&&ue.value!==R.value)&&(pe=!1)}),j.state.marginIsLocked=pe}}(),H.value=((0,h.attr)(I,"class")||"").replace(/jodit_focused_image[\s]*/,""),F.value=(0,h.attr)(I,"id")||"",ie.value=(parseInt(I.style.borderRadius||"0",10)||"0").toString(),I.style.cssFloat&&["left","right"].indexOf(I.style.cssFloat.toLowerCase())!==-1?ee.value=(0,h.css)(I,"float"):(0,h.css)(I,"display")==="block"&&I.style.marginLeft==="auto"&&I.style.marginRight==="auto"&&(ee.value="center"),U.value=(0,h.attr)(I,"style")||""},A.prototype.onApply=function(){var T=(0,h.refs)(this.form),M=T.imageSrc,j=T.borderRadius,P=T.imageTitle,I=T.imageAlt,k=T.imageLink,R=T.imageWidth,O=T.imageHeight,D=T.marginTop,L=T.marginRight,B=T.marginBottom,F=T.marginLeft,H=T.imageLinkOpenInNewTab,ee=T.align,U=T.classes,X=T.id,W=this.j.o,ie=this.state.image;if(W.image.editStyle&&(0,h.attr)(ie,"style",T.style.value||null),!M.value)return d.Dom.safeRemove(ie),void this.dialog.close();(0,h.attr)(ie,"src",M.value),ie.style.borderRadius=j.value!=="0"&&/^[0-9]+$/.test(j.value)?j.value+"px":"",(0,h.attr)(ie,"title",P.value||null),(0,h.attr)(ie,"alt",I.value||null);var Q=d.Dom.closest(ie,"a",this.j.editor);if(k.value?(Q||(Q=d.Dom.wrap(ie,"a",this.j.createInside)),(0,h.attr)(Q,"href",k.value),(0,h.attr)(Q,"target",H.checked?"_blank":null)):Q&&Q.parentNode&&Q.parentNode.replaceChild(ie,Q),R.value!==ie.offsetWidth.toString()||O.value!==ie.offsetHeight.toString()){var ae=(0,h.trim)(R.value)?_(R.value):null,K=(0,h.trim)(O.value)?_(O.value):null;(0,h.css)(ie,{width:ae,height:K}),(0,h.attr)(ie,"width",(0,h.attr)(ie,"width")?ae:null),(0,h.attr)(ie,"height",(0,h.attr)(ie,"height")?K:null)}var te=[D,L,B,F];W.image.editMargins&&(this.state.marginIsLocked?(0,h.css)(ie,"margin",_(D.value)):te.forEach(function(ne){var ce=(0,h.attr)(ne,"data-ref")||"";(0,h.css)(ie,ce,_(ne.value))})),W.image.editClass&&(0,h.attr)(ie,"class",U.value||null),W.image.editId&&(0,h.attr)(ie,"id",X.value||null),W.image.editAlign&&(0,h.hAlignElement)(ie,ee.value),this.j.synchronizeValues(),this.dialog.close()},A.prototype.openImageEditor=function(){var T=this,M=(0,h.attr)(this.state.image,"src")||"",j=this.j.c.element("a"),P=function(){j.host===location.host||T.j.confirm("You can only edit your own images. Download this image on the host?",function(I){I&&T.j.uploader&&T.j.uploader.uploadRemoteImage(j.href.toString(),function(k){T.j.alert("The image has been successfully uploaded to the host!",function(){(0,h.isString)(k.newfilename)&&((0,h.attr)(T.state.image,"src",k.baseurl+k.newfilename),T.updateValues())})},function(k){T.j.alert("There was an error loading %s",k.message)})})};j.href=M,this.j.filebrowser.dataProvider.getPathByUrl(j.href.toString()).then(function(I){g.openImageEditor.call(T.j.filebrowser,j.href,I.name,I.path,I.source,function(){var k=new Date().getTime();(0,h.attr)(T.state.image,"src",M+(M.indexOf("?")!==-1?"":"?")+"&_tmp="+k.toString()),T.updateValues()},function(k){T.j.alert(k.message)})}).catch(function(I){T.j.alert(I.message,P)})},A.prototype.openImagePopup=function(T){var M=this,j=new d.Popup(this.j),P=(0,h.refs)(this.form).changeImage;j.setZIndex(this.dialog.getZIndex()+1),j.setContent((0,p.FileSelectorWidget)(this.j,{upload:function(I){I.files&&I.files.length&&(0,h.attr)(M.state.image,"src",I.baseurl+I.files[0]),M.updateValues(),j.close()},filebrowser:function(I){I&&(0,h.isArray)(I.files)&&I.files.length&&((0,h.attr)(M.state.image,"src",I.files[0]),j.close(),M.updateValues())}},this.state.image,j.close)).open(function(){return(0,h.position)(P)}),T.stopPropagation()},A.prototype.afterInit=function(T){var M=this,j=this;T.e.on("afterConstructor changePlace",function(){T.e.off(T.editor,".imageproperties").on(T.editor,"dblclick.imageproperties",function(P){var I=P.target;if(d.Dom.isTag(I,"img"))if(T.o.image.openOnDblClick){if(M.j.e.fire("openOnDblClick",I)===!1)return;j.state.image=I,T.o.readonly||(P.stopImmediatePropagation(),P.preventDefault(),j.open())}else P.stopImmediatePropagation(),T.s.select(I)})}).on("openImageProperties.imageproperties",function(P){M.state.image=P,M.open()})},A.prototype.beforeDestruct=function(T){this.dialog&&this.dialog.destruct(),T.e.off(T.editor,".imageproperties").off(".imageproperties")},u.__decorate([(0,f.watch)("state.marginIsLocked")],A.prototype,"onChangeMarginIsLocked",null),u.__decorate([(0,f.watch)("state.sizeIsLocked")],A.prototype,"onChangeSizeIsLocked",null),u.__decorate([f.autobind],A.prototype,"onApply",null),u.__decorate([f.autobind],A.prototype,"openImageEditor",null),u.__decorate([f.autobind],A.prototype,"openImagePopup",null),A}(d.Plugin);o.imageProperties=C,v.pluginSystem.add("imageProperties",C)},49391:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.form=void 0;var u=s(77904);o.form=function(d){var h=d.o.image,p=h.showPreview,m=h.editSize,f=u.Icon.get.bind(u.Icon);return d.c.fromHTML(`<form class="jodit-properties">
		<div class="jodit-grid jodit-grid_xs-column">
			<div class="jodit_col-lg-2-5 jodit_col-xs-5-5">
				<div class="jodit-properties_view_box">
					<div style="`.concat(p?"":"display:none",`" class="jodit-properties_image_view">
						<img data-ref="imageViewSrc" src="" alt=""/>
					</div>
					<div style="`).concat(m?"":"display:none",`" class="jodit-form__group jodit-properties_image_sizes">
						<input data-ref="imageWidth" type="text" class="jodit-input"/>
						<a data-ref="lockSize" class="jodit-properties__lock">`).concat(f("lock"),`</a>
						<input data-ref="imageHeight" type="text" class="imageHeight jodit-input"/>
					</div>
				</div>
			</div>
			<div data-ref="tabsBox" class="jodit_col-lg-3-5 jodit_col-xs-5-5"></div>
		</div>
	</form>`))}},27506:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.mainTab=void 0;var u=s(77904);o.mainTab=function(d){var h=d.o,p=d.i18n.bind(d),m=u.Icon.get.bind(u.Icon),f=h.filebrowser.ajax.url||h.uploader.url,g=h.image.useImageEditor;return d.c.fromHTML('<div style="'.concat(h.image.editSrc?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Src"),`</label>
			<div class="jodit-input_group">
				<input data-ref="imageSrc" class="jodit-input" type="text"/>
				<div
					class="jodit-input_group-buttons"
					style="`).concat(f?"":"display: none",`"
				>
						<a
							data-ref="changeImage"
							class="jodit-button"
						>`).concat(m("image"),`</a>
						<a
							data-ref="editImage"
							class="jodit-button"
							style="`).concat(g?"":"display: none",`"
						>`).concat(m("crop"),`</a>
				</div>
			</div>
		</div>
		<div style="`).concat(h.image.editTitle?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Title"),`</label>
			<input data-ref="imageTitle" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editAlt?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Alternative"),`</label>
			<input data-ref="imageAlt" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editLink?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Link"),`</label>
			<input data-ref="imageLink" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editLink?"":"display:none",`" class="jodit-form__group">
			<label class="jodit_vertical_middle">
				<input data-ref="imageLinkOpenInNewTab" type="checkbox" class="jodit-checkbox"/>
				<span>`).concat(p("Open link in new tab"),`</span>
			</label>
		</div>`))}},50109:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.positionTab=void 0;var u=s(77904);o.positionTab=function(d){var h=d.o,p=d.i18n.bind(d),m=u.Icon.get.bind(u.Icon),f=[];return h.image.availableClasses.length>0?(f.push('<select data-ref="classes" class="jodit-input jodit-select">'),h.image.availableClasses.forEach(function(g){f.push(typeof g=="string"?'<option value="'.concat(g,'">').concat(g,"</option>"):'<option value="'.concat(g[0],'">').concat(g[1],"</option>"))}),f.push("</select>")):f.push('<input data-ref="classes" type="text" class="jodit-input"/>'),d.c.fromHTML('<div style="'.concat(h.image.editMargins?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Margins"),`</label>
			<div class="jodit-grid jodit_vertical_middle">
				<input class="jodit_col-lg-1-5 jodit-input" data-ref="marginTop" type="text" placeholder="`).concat(p("top"),`"/>
				<a style="text-align: center;" data-ref="lockMargin" class="jodit-properties__lock jodit_col-lg-1-5">`).concat(m("lock"),`</a>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginRight" type="text" placeholder="`).concat(p("right"),`"/>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginBottom" type="text" placeholder="`).concat(p("bottom"),`"/>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginLeft" type="text" placeholder="`).concat(p("left"),`"/>
			</div>
		</div>
		<div
			style="`).concat(h.image.editAlign?"":"display:none",`"
			class="jodit-form__group"
		>
			<label>`).concat(p("Align"),`</label>
			<select data-ref="align" class="jodit-select">
				<option value="">`).concat(p("--Not Set--"),`</option>
				<option value="left">`).concat(p("Left"),`</option>
				<option value="center">`).concat(p("Center"),`</option>
				<option value="right">`).concat(p("Right"),`</option>
			</select>
		</div>
		<div style="`).concat(h.image.editStyle?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Styles"),`</label>
			<input data-ref="style" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editClass?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Classes"),`</label>
			`).concat(f.join(""),`
		</div>
		<div style="`).concat(h.image.editId?"":"display:none",`" class="jodit-form__group">
			<label>Id</label>
			<input data-ref="id" type="text" class="jodit-input"/>
		</div>
		<div
			style="`).concat(h.image.editBorderRadius?"":"display:none",`"
			class="jodit-form__group"
		>
			<label>`).concat(p("Border radius"),`</label>
				<input data-ref="borderRadius" type="number" class="jodit-input"/>
		</div>`))}},67547:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.image=void 0;var u=s(20255),d=s(64968),h=s(40332),p=s(718),m=s(93166),f=s(17332);function g(v){v.registerButton({name:"image",group:"media"})}s(77904).Icon.set("image",s(53477)),m.Config.prototype.controls.image={popup:function(v,S,x,b){var _=null;return S&&!d.Dom.isText(S)&&d.Dom.isHTMLElement(S)&&(d.Dom.isTag(S,"img")||(0,h.$$)("img",S).length)&&(_=d.Dom.isTag(S,"img")?S:(0,h.$$)("img",S)[0]),v.s.save(),(0,p.FileSelectorWidget)(v,{filebrowser:function(w){v.s.restore(),w.files&&w.files.forEach(function(C){return v.s.insertImage(w.baseurl+C,null,v.o.imageDefaultWidth)}),b()},upload:!0,url:function(w,C){return u.__awaiter(void 0,void 0,void 0,function(){var E;return u.__generator(this,function(A){switch(A.label){case 0:return v.s.restore(),/^[a-z\d_-]+(\.[a-z\d_-]+)+/i.test(w)&&(w="//"+w),(E=_||v.createInside.element("img")).setAttribute("src",w),E.setAttribute("alt",C),_?[3,2]:[4,v.s.insertImage(E,null,v.o.imageDefaultWidth)];case 1:A.sent(),A.label=2;case 2:return b(),[2]}})})}},_,b)},tags:["img"],tooltip:"Insert Image"},o.image=g,f.pluginSystem.add("image",g)},2916:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(64968),h=s(77904),p=s(26011);h.Icon.set("indent",s(90053)).set("outdent",s(72230)),u.Config.prototype.controls.indent={tooltip:"Increase Indent"},u.Config.prototype.controls.outdent={isDisabled:function(m){var f=m.s.current();if(f){var g=d.Dom.closest(f,d.Dom.isBlock,m.editor);if(g){var v=(0,p.getKey)(m.o.direction,g);return!g.style[v]||0>=parseInt(g.style[v],10)}}return!0},tooltip:"Decrease Indent"},u.Config.prototype.indentMargin=10},26011:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.getKey=void 0;var u=s(24263);o.getKey=function(d,h){return"".concat(u.Dom.isCell(h)?"padding":"margin").concat(d==="rtl"?"Right":"Left")}},71838:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.indent=void 0;var u=s(86893),d=s(64968),h=s(40332),p=s(17332);s(2916);var m=s(26011);function f(g){g.registerButton({name:"indent",group:"indent"}).registerButton({name:"outdent",group:"indent"});var v=function(S){var x=[];return g.s.eachSelection(function(b){g.s.save();var _=!!b&&d.Dom.up(b,d.Dom.isBlock,g.editor),w=g.o.enter;if(!_&&b&&(_=d.Dom.wrapInline(b,w!==u.BR?w:u.PARAGRAPH,g)),!_)return g.s.restore(),!1;var C=x.includes(_);if(_&&!C){var E=(0,m.getKey)(g.o.direction,_);x.push(_);var A=_.style[E]?parseInt(_.style[E],10):0;_.style[E]=(A+=g.o.indentMargin*(S==="outdent"?-1:1))>0?A+"px":"",(0,h.attr)(_,"style")||(0,h.attr)(_,"style",null)}g.s.restore()}),g.synchronizeValues(),!1};g.registerCommand("indent",{exec:v,hotkeys:["ctrl+]","cmd+]"]}),g.registerCommand("outdent",{exec:v,hotkeys:["ctrl+[","cmd+["]})}o.indent=f,p.pluginSystem.add("indent",f)},70022:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(55692),s(66031),s(91241),s(87565),s(60894),s(90302),s(92138),s(88412),s(79308),s(19268),s(30598),s(33122),s(10135),s(66994),s(54798),s(12908),s(65123),s(83228),s(43889),s(93300),s(67547),s(92575),s(15747),s(71838),s(54752),s(54452),s(46324),s(27738),s(61421),s(27582),s(76303),s(19806),s(52598),s(19483),s(15428),s(47224),s(83211),s(88297),s(72930),s(51197),s(2327),s(47608),s(90523),s(69257),s(14889),s(95323),s(37458),s(71003),s(86030),s(17002),s(1557),s(82808),s(48560),s(32246),s(45842),s(23308),s(19889),s(20728),s(96899),s(18238)},35387:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.toolbarInline=!0,u.Config.prototype.toolbarInlineForSelection=!1,u.Config.prototype.toolbarInlineDisableFor=[],u.Config.prototype.toolbarInlineDisabledButtons=["source"],d.Icon.set("addcolumn",s(78321)).set("addrow",s(77654)).set("merge",s(43371)).set("th",s(52242)).set("splitg",s(44563)).set("splitv",s(53183)).set("th-list",s(18548)),u.Config.prototype.popup={a:s(27487).Z,img:s(97425).default,cells:s(59500).Z,toolbar:s(55350).Z,jodit:s(66686).Z,iframe:s(66686).Z,"jodit-media":s(66686).Z,selection:["bold","underline","italic","ul","ol",`
`,"outdent","indent","fontsize","brush","cut",`
`,"paragraph","link","align","dots"]}},27487:function(l,o,s){var u=s(76502);o.Z=[{name:"eye",tooltip:"Open link",exec:function(d,h){var p=(0,u.attr)(h,"href");h&&p&&d.ow.open(p)}},{name:"link",tooltip:"Edit link",icon:"pencil"},"unlink","brush","file"]},59500:function(l,o,s){var u=s(10172),d=s(26911),h=s(718),p=function(m){return m.args&&(0,u.isString)(m.args[0])?m.args[0].toLowerCase():""};o.Z=[{name:"brush",popup:function(m,f,g,v){if((0,u.isJoditObject)(m)){var S=m.getInstance("Table",m.o).getAllSelectedCells();if(!S.length)return!1;var x=function(b){return(0,h.ColorPickerWidget)(m,function(_){S.forEach(function(w){(0,d.css)(w,b,_)}),m.lock(),m.synchronizeValues(),v(),m.unlock()},(0,d.css)(S[0],b))};return(0,h.TabsWidget)(m,[{name:"Background",content:x("background-color")},{name:"Text",content:x("color")},{name:"Border",content:x("border-color")}])}},tooltip:"Background"},{name:"valign",list:["Top","Middle","Bottom","Normal"],childTemplate:function(m,f,g){return g},exec:function(m,f,g){var v=p(g.control);m.getInstance("Table",m.o).getAllSelectedCells().forEach(function(S){(0,d.css)(S,"vertical-align",v==="normal"?"":v)})},tooltip:"Vertical align"},{name:"splitv",list:{tablesplitv:"Split vertical",tablesplitg:"Split horizontal"},tooltip:"Split"},{name:"align",icon:"left"},`
`,{name:"merge",command:"tablemerge",tooltip:"Merge"},{name:"addcolumn",list:{tableaddcolumnbefore:"Insert column before",tableaddcolumnafter:"Insert column after"},exec:function(m,f,g){var v=g.control;if((0,u.isJoditObject)(m)){var S=p(v);m.execCommand(S,!1,f)}},tooltip:"Add column"},{name:"addrow",list:{tableaddrowbefore:"Insert row above",tableaddrowafter:"Insert row below"},exec:function(m,f,g){var v=g.control;if((0,u.isJoditObject)(m)){var S=p(v);m.execCommand(S,!1,f)}},tooltip:"Add row"},{name:"delete",icon:"bin",list:{tablebin:"Delete table",tablebinrow:"Delete row",tablebincolumn:"Delete column",tableempty:"Empty cell"},exec:function(m,f,g){var v=g.control;if((0,u.isJoditObject)(m)){var S=p(v);m.execCommand(S,!1,f),m.e.fire("hidePopup")}},tooltip:"Delete"}]},66686:function(l,o,s){var u=s(97425);o.Z=[{name:"bin",tooltip:"Delete",exec:function(d,h){h&&d.s.removeNode(h)}},u.align]},97425:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.align=void 0;var u=s(64968),d=s(24421),h=s(26911),p=s(60303);o.align={name:"left",childTemplate:function(m,f,g){return g},list:["Left","Right","Center","Normal"],exec:function(m,f,g){var v=g.control;if(u.Dom.isTag(f,["img","jodit","jodit-media"])){var S=v.args&&(0,d.isString)(v.args[0])?v.args[0].toLowerCase():"";if(!S)return!1;(0,p.hAlignElement)(f,S),u.Dom.isTag(f,["jodit","jodit-media"])&&f.firstElementChild&&(0,p.hAlignElement)(f.firstElementChild,S),m.synchronizeValues(),m.e.fire("recalcPositionPopup")}},tooltip:"Horizontal align"},o.default=[{name:"delete",icon:"bin",tooltip:"Delete",exec:function(m,f){f&&m.s.removeNode(f)}},{name:"pencil",exec:function(m,f){f.tagName.toLowerCase()==="img"&&m.e.fire("openImageProperties",f)},tooltip:"Edit"},{name:"valign",list:["Top","Middle","Bottom","Normal"],tooltip:"Vertical align",exec:function(m,f,g){var v=g.control;if(u.Dom.isTag(f,"img")){var S=v.args&&(0,d.isString)(v.args[0])?v.args[0].toLowerCase():"";if(!S)return!1;(0,h.css)(f,"vertical-align",S==="normal"?"":S),m.e.fire("recalcPositionPopup")}}},o.align]},55350:function(l,o){o.Z=["bold","italic","|","ul","ol","eraser","|","fontsize","brush","paragraph","---","image","table",`
`,"link","|","align","|","undo","redo","|","copyformat","fullsize","---","dots"]},54752:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.inlinePopup=void 0;var u=s(20255);s(45109);var d=s(57549),h=s(81438),p=s(35799),m=s(40332),f=s(64968),g=s(2074),v=s(43441),S=s(17332);s(35387);var x=function(b){function _(){var w=b!==null&&b.apply(this,arguments)||this;return w.requires=["select"],w.type=null,w.popup=new p.Popup(w.jodit,!1),w.toolbar=(0,h.makeCollection)(w.jodit,w.popup),w.snapRange=null,w.elmsList=(0,m.keys)(w.j.o.popup,!1).filter(function(C){return!w.isExcludedTarget(C)}),w}return u.__extends(_,b),_.prototype.onClick=function(w){var C=this,E=this.elmsList,A=f.Dom.isTag(w,"img")?w:f.Dom.closest(w,E,this.j.editor);if(A&&this.canShowPopupForType(A.nodeName.toLowerCase()))return this.showPopup(function(){return(0,m.position)(A,C.j)},A.nodeName.toLowerCase(),A),!1},_.prototype.showPopup=function(w,C,E){if(C=C.toLowerCase(),!this.canShowPopupForType(C))return!1;if(this.type!==C||E!==this.previousTarget){this.previousTarget=E;var A=this.j.o.popup[C],T=void 0;T=(0,m.isFunction)(A)?A(this.j,E,this.popup.close):A,(0,m.isArray)(T)&&(this.toolbar.build(T,E),this.toolbar.buttonSize=this.j.o.toolbarButtonSize,T=this.toolbar.container),this.popup.setContent(T),this.type=C}return this.popup.open(w),!0},_.prototype.hidePopup=function(w){(0,m.isString)(w)&&w!==this.type||this.popup.close()},_.prototype.onOutsideClick=function(){this.popup.close()},_.prototype.canShowPopupForType=function(w){var C=this.j.o.popup[w.toLowerCase()];return!(this.j.o.readonly||!this.j.o.toolbarInline||!C||this.isExcludedTarget(w))},_.prototype.isExcludedTarget=function(w){return(0,m.splitArray)(this.j.o.toolbarInlineDisableFor).map(function(C){return C.toLowerCase()}).includes(w.toLowerCase())},_.prototype.afterInit=function(w){var C=this;this.j.e.on("getDiffButtons.mobile",function(E){if(C.toolbar===E){var A=C.toolbar.getButtonsNames();return(0,m.toArray)(w.registeredButtons).filter(function(T){return!C.j.o.toolbarInlineDisabledButtons.includes(T.name)}).filter(function(T){var M=(0,m.isString)(T)?T:T.name;return M&&M!=="|"&&M!==`
`&&!A.includes(M)})}}).on("hidePopup",this.hidePopup).on("showInlineToolbar",this.showInlineToolbar).on("showPopup",function(E,A,T){C.showPopup(A,T||((0,m.isString)(E)?E:E.nodeName),(0,m.isString)(E)?void 0:E)}).on("mousedown keydown",this.onSelectionStart).on("change",function(){C.popup.isOpened&&C.previousTarget&&!C.previousTarget.parentNode&&(C.hidePopup(),C.previousTarget=void 0)}).on([this.j.ew,this.j.ow],"mouseup keyup",this.onSelectionEnd),this.addListenersForElements()},_.prototype.onSelectionStart=function(){this.snapRange=this.j.s.range.cloneRange()},_.prototype.onSelectionEnd=function(w){if(!(w&&w.target&&g.UIElement.closestElement(w.target,p.Popup))){var C=this.snapRange,E=this.j.s.range;C&&!E.collapsed&&E.startContainer===C.startContainer&&E.startOffset===C.startOffset&&E.endContainer===C.endContainer&&E.endOffset===C.endOffset||this.onSelectionChange()}},_.prototype.onSelectionChange=function(){if(this.j.o.toolbarInlineForSelection){var w="selection",C=this.j.s.sel,E=this.j.s.range;C!=null&&C.isCollapsed||this.isSelectedTarget(E)||this.tableModule.getAllSelectedCells().length?this.type===w&&this.popup.isOpened&&this.hidePopup():this.j.s.current()&&this.showPopup(function(){return E.getBoundingClientRect()},w)}},_.prototype.isSelectedTarget=function(w){var C=w.startContainer;return f.Dom.isElement(C)&&C===w.endContainer&&f.Dom.isTag(C.childNodes[w.startOffset],(0,m.keys)(this.j.o.popup,!1))&&w.startOffset===w.endOffset-1},Object.defineProperty(_.prototype,"tableModule",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),_.prototype.beforeDestruct=function(w){w.e.off("showPopup").off([this.j.ew,this.j.ow],"mouseup keyup",this.onSelectionEnd),this.removeListenersForElements()},_.prototype._eventsList=function(){var w=this.elmsList;return w.map(function(C){return(0,m.camelCase)("click_".concat(C))}).concat(w.map(function(C){return(0,m.camelCase)("touchstart_".concat(C))})).join(" ")},_.prototype.addListenersForElements=function(){this.j.e.on(this._eventsList(),this.onClick)},_.prototype.removeListenersForElements=function(){this.j.e.off(this._eventsList(),this.onClick)},_.prototype.showInlineToolbar=function(w){var C=this;this.showPopup(function(){return w||C.j.s.range.getBoundingClientRect()},"toolbar")},u.__decorate([v.autobind],_.prototype,"onClick",null),u.__decorate([(0,v.wait)(function(w){return!w.j.isLocked})],_.prototype,"showPopup",null),u.__decorate([(0,v.watch)(":clickEditor"),v.autobind],_.prototype,"hidePopup",null),u.__decorate([(0,v.watch)(":outsideClick")],_.prototype,"onOutsideClick",null),u.__decorate([v.autobind],_.prototype,"onSelectionStart",null),u.__decorate([v.autobind],_.prototype,"onSelectionEnd",null),u.__decorate([(0,v.debounce)(function(w){return w.defaultTimeout})],_.prototype,"onSelectionChange",null),u.__decorate([v.autobind],_.prototype,"showInlineToolbar",null),_}(d.Plugin);o.inlinePopup=x,S.pluginSystem.add("inlinePopup",x)},54452:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.justify=void 0;var u=s(93166),d=s(24263),h=s(26911),p=s(60303),m=s(17332);function f(g){g.registerButton({name:"align",group:"indent"});var v=function(S){return g.s.focus(),g.s.eachSelection(function(x){if(x){var b=d.Dom.up(x,d.Dom.isBlock,g.editor);b||(b=d.Dom.wrapInline(x,g.o.enterBlock,g)),(0,p.alignElement)(S,b)}}),!1};g.registerCommand("justifyfull",v),g.registerCommand("justifyright",v),g.registerCommand("justifyleft",v),g.registerCommand("justifycenter",v)}s(77904).Icon.set("justify",s(87498)),u.Config.prototype.controls.align={name:"left",tooltip:"Align",update:function(g,v){var S=g.control,x=v.s.current();if(x){var b=d.Dom.closest(x,d.Dom.isBlock,v.editor)||v.editor,_=(0,h.css)(b,"text-align").toString();S.defaultValue&&S.defaultValue.indexOf(_)!==-1&&(_="left"),S.data&&S.data.currentValue!==_&&S.list&&S.list.indexOf(_)!==-1&&(v.o.textIcons?g.state.text=_:g.state.icon.name=_,S.data.currentValue=_)}},isActive:function(g,v){var S=g.s.current();if(S&&v.defaultValue){var x=d.Dom.closest(S,d.Dom.isBlock,g.editor)||g.editor;return v.defaultValue.indexOf((0,h.css)(x,"text-align").toString())===-1}return!1},defaultValue:["left","start","inherit"],data:{currentValue:"left"},list:["center","left","right","justify"]},u.Config.prototype.controls.center={command:"justifyCenter",css:{"text-align":"center"},tooltip:"Align Center"},u.Config.prototype.controls.justify={command:"justifyFull",css:{"text-align":"justify"},tooltip:"Align Justify"},u.Config.prototype.controls.left={command:"justifyLeft",css:{"text-align":"left"},tooltip:"Align Left"},u.Config.prototype.controls.right={command:"justifyRight",css:{"text-align":"right"},tooltip:"Align Right"},o.justify=f,m.pluginSystem.add("justify",f)},46324:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.keyArrowOutside=void 0;var u=s(20255),d=s(57549),h=s(43441),p=s(86893),m=s(24263),f=s(17332),g=function(v){function S(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(S,v),S.prototype.afterInit=function(x){},S.prototype.beforeDestruct=function(x){},S.prototype.onKeyDownArrow=function(x){var b;if(x.key===p.KEY_RIGHT&&this.j.selection.isCollapsed()){var _=this.j.selection.range,w=_.endContainer,C=_.endOffset;if(m.Dom.isText(w)&&((b=w.nodeValue)===null||b===void 0?void 0:b.length)===C){var E=w.parentNode;m.Dom.isInlineBlock(E)&&!m.Dom.findNotEmptyNeighbor(E,!1,this.j.editor)&&m.Dom.after(E,this.j.createInside.text(p.NBSP_SPACE))}}},u.__decorate([(0,h.watch)(":keydown")],S.prototype,"onKeyDownArrow",null),S}(d.Plugin);o.keyArrowOutside=g,f.pluginSystem.add("keyArrowOutside",g)},19250:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.limitWords=!1,u.Config.prototype.limitChars=!1,u.Config.prototype.limitHTML=!1},27738:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.limit=void 0;var u=s(20255),d=s(57549),h=s(86893),p=s(43441),m=s(17332);s(19250);var f=function(v){function S(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(S,v),S.prototype.afterInit=function(x){var b=this,_=x.o;if(x&&(_.limitWords||_.limitChars)){var w=null;x.e.off(".limit").on("beforePaste.limit",function(){w=x.history.snapshot.make()}).on("keydown.limit keyup.limit beforeEnter.limit",this.checkPreventKeyPressOrPaste).on("change.limit",this.checkPreventChanging).on("afterPaste.limit",function(){if(b.__shouldDenyInput(!0)&&w)return x.history.snapshot.restore(w),x.e.fire("denyPaste.limit"),!1})}},S.prototype.shouldPreventInsertHTML=function(x){return(!x||!(h.COMMAND_KEYS.includes(x.key)||x.ctrlKey||x.metaKey))&&this.__shouldDenyInput(!1)},S.prototype.__shouldDenyInput=function(x){var b=this.jodit,_=b.o,w=_.limitWords,C=_.limitChars,E=this.__splitWords(b.o.limitHTML?b.value:b.text);if(w&&g(E.length,w,x))return b.e.fire("denyWords.limit limit.limit"),!0;var A=!!(C&&g(E.join("").length,C,x));return A&&b.e.fire("denyChars.limit limit.limit"),A},S.prototype.checkPreventKeyPressOrPaste=function(x){if(this.shouldPreventInsertHTML(x))return!1},S.prototype.checkPreventChanging=function(x,b){var _=this.jodit;this.__shouldDenyInput(!0)&&(_.value=b)},S.prototype.__splitWords=function(x){return x.replace((0,h.INVISIBLE_SPACE_REG_EXP)(),"").split((0,h.SPACE_REG_EXP)()).filter(function(b){return b.length})},S.prototype.beforeDestruct=function(x){x.e.off(".limit")},u.__decorate([p.autobind],S.prototype,"checkPreventKeyPressOrPaste",null),u.__decorate([p.autobind],S.prototype,"checkPreventChanging",null),S}(d.Plugin);function g(v,S,x){return x?v>S:v>=S}o.limit=f,m.pluginSystem.add("limit",f)},29490:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(40332),h=s(77904);u.Config.prototype.defaultLineHeight=null,h.Icon.set("line-height",s(7986)),u.Config.prototype.controls.lineHeight={command:"applyLineHeight",tags:["ol"],tooltip:"Line height",list:[1,1.1,1.2,1.3,1.4,1.5,2],exec:function(p,m,f){return(0,d.memorizeExec)(p,m,{control:f.control},function(g){return g})}}},26752:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.zh_tw=o.zh_cn=o.tr=o.ru=o.pt_br=o.pl=o.nl=o.mn=o.ko=o.ja=o.it=o.id=o.hu=o.he=o.fr=o.fa=o.es=o.de=o.cs_cz=o.ar=void 0;var u=s(47762);o.ar=u;var d=s(97495);o.cs_cz=d;var h=s(80131);o.de=h;var p=s(1201);o.es=p;var m=s(89912);o.fa=m;var f=s(3405);o.fr=f;var g=s(14129);o.he=g;var v=s(93729);o.hu=v;var S=s(16106);o.id=S;var x=s(89690);o.it=x;var b=s(33216);o.ja=b;var _=s(17282);o.ko=_;var w=s(52841);o.mn=w;var C=s(91761);o.nl=C;var E=s(61675);o.pl=E;var A=s(69709);o.pt_br=A;var T=s(82591);o.ru=T;var M=s(87649);o.tr=M;var j=s(60268);o.zh_cn=j;var P=s(58214);o.zh_tw=P},61421:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.lineHeight=void 0;var u=s(20255),d=s(57549),h=s(40332),p=s(43441),m=s(24263),f=s(17332);s(29490);var g=function(v){function S(x){var b=v.call(this,x)||this;return b.buttons=[{name:"lineHeight",group:"font"}],(0,f.extendLang)(s(26752)),b}return u.__extends(S,v),S.prototype.afterInit=function(x){(0,h.css)(x.editor,{lineHeight:x.o.defaultLineHeight}),x.registerCommand("applyLineHeight",this.applyLineHeight)},S.prototype.applyLineHeight=function(x,b,_){var w,C=this.j,E=C.s,A=C.createInside,T=C.editor,M=C.o;E.isFocused()||E.focus(),E.save();var j=function(I){var k=m.Dom.closest(I,m.Dom.isBlock,T);k||(k=m.Dom.wrap(I,M.enter,A));var R=(0,h.css)(k,"lineHeight");w===void 0&&(w=R.toString()!==_.toString()),(0,h.css)(k,"lineHeight",w?_:null)};try{if(E.isCollapsed()){var P=A.fake();E.insertNode(P,!1,!1),j(P),m.Dom.safeRemove(P)}else E.eachSelection(j)}finally{E.restore()}},S.prototype.beforeDestruct=function(x){(0,h.css)(x.editor,{lineHeight:null})},u.__decorate([p.autobind],S.prototype,"applyLineHeight",null),S}(d.Plugin);o.lineHeight=g,f.pluginSystem.add("lineHeight",g)},56367:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(54238),h=s(24263),p=s(77904);u.Config.prototype.link={formTemplate:d.formTemplate,followOnDblClick:!1,processVideoLink:!0,processPastedLink:!0,noFollowCheckbox:!0,openInNewTabCheckbox:!0,modeClassName:"input",selectMultipleClassName:!0,selectSizeClassName:3,selectOptionsClassName:[],hotkeys:["ctrl+k","cmd+k"]},p.Icon.set("link",s(23075)).set("unlink",s(10655)),u.Config.prototype.controls.unlink={exec:function(m,f){var g=h.Dom.closest(f,"a",m.editor);g&&h.Dom.unwrap(g),m.synchronizeValues(),m.e.fire("hidePopup")},tooltip:"Unlink"},u.Config.prototype.controls.link={isActive:function(m){var f=m.s.current();return!!(f&&h.Dom.closest(f,"a",m.editor))},popup:function(m,f,g,v){return m.e.fire("generateLinkForm.link",f,v)},tags:["a"],tooltip:"Insert link"}},27582:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.link=void 0;var u=s(20255),d=s(64968),h=s(40332),p=s(57549),m=s(43441),f=s(17332);s(56367);var g=function(v){function S(){var x=v!==null&&v.apply(this,arguments)||this;return x.buttons=[{name:"link",group:"insert"}],x}return u.__extends(S,v),S.prototype.afterInit=function(x){var b=this;x.o.link.followOnDblClick&&x.e.on("dblclick.link",this.onDblClickOnLink),x.o.link.processPastedLink&&x.e.on("processPaste.link",this.onProcessPasteLink),x.e.on("generateLinkForm.link",this.__generateForm),x.registerCommand("openLinkDialog",{exec:function(){var _=x.dlg({resizable:!1}),w=b.__generateForm(x.s.current(),function(){_.close()});w.container.classList.add("jodit-dialog_alert"),_.setContent(w),_.open(),x.async.requestIdleCallback(function(){var C=(0,h.refs)(w.container).url_input;C==null||C.focus()})},hotkeys:x.o.link.hotkeys})},S.prototype.onDblClickOnLink=function(x){if(d.Dom.isTag(x.target,"a")){var b=(0,h.attr)(x.target,"href");b&&(location.href=b,x.preventDefault())}},S.prototype.onProcessPasteLink=function(x,b){var _=this.jodit;if((0,h.isURL)(b)&&_.o.link.processPastedLink){if(_.e.stopPropagation("processPaste"),_.o.link.processVideoLink){var w=(0,h.convertMediaUrlToVideoEmbed)(b);if(w!==b)return _.createInside.fromHTML(w)}if(_.s.isCollapsed()){var C=_.createInside.element("a");return C.setAttribute("href",b),C.textContent=b,_.e.fire("applyLink",_,C,null),C}return _.s.applyStyle(void 0,{element:"a",attributes:{href:b}}),!0}},S.prototype.__generateForm=function(x,b){var _,w=this.jodit,C=w.i18n.bind(w),E=w.o.link,A=E.openInNewTabCheckbox,T=E.noFollowCheckbox,M=E.formClassName,j=E.modeClassName,P=(0,E.formTemplate)(w),I=(0,h.isString)(P)?w.c.fromHTML(P,{target_checkbox_box:A,nofollow_checkbox_box:T}):P,k=d.Dom.isElement(I)?I:I.container,R=(0,h.refs)(k),O=R.insert,D=R.unlink,L=R.content_input_box,B=R.target_checkbox,F=R.nofollow_checkbox,H=R.url_input,ee=d.Dom.isImage(x),U=R.content_input,X=R.className_input,W=R.className_select;U||(U=w.c.element("input",{type:"hidden",ref:"content_input"})),M&&k.classList.add(M),ee&&d.Dom.hide(L);var ie=function(){return _?_.innerText:(0,h.stripTags)(w.s.range.cloneContents(),w.ed)};if(_=!(!x||!d.Dom.closest(x,"a",w.editor))&&d.Dom.closest(x,"a",w.editor),!ee&&x&&(U.value=ie()),_){if(H.value=(0,h.attr)(_,"href")||"",j)switch(j){case"input":X&&(X.value=(0,h.attr)(_,"class")||"");break;case"select":if(W){for(var Q=0;W.selectedOptions.length>Q;Q++){var ae=W.options.item(Q);ae&&(ae.selected=!1)}((0,h.attr)(_,"class")||"").split(" ").forEach(function(ne){if(ne)for(var ce=0;W.options.length>ce;ce++){var pe=W.options.item(ce);pe!=null&&pe.value&&pe.value===ne&&(pe.selected=!0)}})}}A&&B&&(B.checked=(0,h.attr)(_,"target")==="_blank"),T&&F&&(F.checked=(0,h.attr)(_,"rel")==="nofollow"),O.textContent=C("Update")}else d.Dom.hide(D);w.editor.normalize();var K=w.history.snapshot.make();D&&w.e.on(D,"click",function(ne){w.s.restore(),w.history.snapshot.restore(K),_&&d.Dom.unwrap(_),w.synchronizeValues(),b(),ne.preventDefault()});var te=function(){if(!H.value.trim().length)return H.focus(),H.classList.add("jodit_error"),!1;var ne;w.s.restore(),w.s.removeMarkers(),w.editor.normalize(),w.history.snapshot.restore(K);var ce=ie()!==U.value.trim(),pe=w.createInside;if(_)ne=[_];else{if(w.s.isCollapsed()){var ge=pe.element("a");w.s.insertNode(ge,!1,!1),ne=[ge]}else{var ue=w.s.current();ne=d.Dom.isTag(ue,["img"])?[d.Dom.wrap(ue,"a",pe)]:w.s.wrapInTag("a")}ne.forEach(function(Me){return w.s.select(Me)})}return ne.forEach(function(Me){var Ae;if((0,h.attr)(Me,"href",H.value),j&&(X??W)){if(j==="input")X.value===""&&Me.hasAttribute("class")&&(0,h.attr)(Me,"class",null),X.value!==""&&(0,h.attr)(Me,"class",X.value);else if(j==="select"){Me.hasAttribute("class")&&(0,h.attr)(Me,"class",null);for(var je=0;W.selectedOptions.length>je;je++){var Ke=(Ae=W.selectedOptions.item(je))===null||Ae===void 0?void 0:Ae.value;Ke&&Me.classList.add(Ke)}}}if(!ee){var Pe=Me.textContent;U.value.trim().length?ce&&(Pe=U.value):Pe=H.value,Pe!==Me.textContent&&(Me.textContent=Pe)}A&&B&&(0,h.attr)(Me,"target",B.checked?"_blank":null),T&&F&&(0,h.attr)(Me,"rel",F.checked?"nofollow":null),w.e.fire("applyLink",w,Me,I)}),w.synchronizeValues(),b(),!1};return d.Dom.isElement(I)?w.e.on(I,"submit",function(ne){return ne.preventDefault(),ne.stopImmediatePropagation(),te(),!1}):I.onSubmit(te),I},S.prototype.beforeDestruct=function(x){x.e.off("generateLinkForm.link",this.__generateForm).off("dblclick.link",this.onDblClickOnLink).off("processPaste.link",this.onProcessPasteLink)},u.__decorate([m.autobind],S.prototype,"onDblClickOnLink",null),u.__decorate([m.autobind],S.prototype,"onProcessPasteLink",null),u.__decorate([m.autobind],S.prototype,"__generateForm",null),S}(p.Plugin);o.link=g,f.pluginSystem.add("link",g)},54238:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.formTemplate=void 0;var u=s(95963),d=s(96516);o.formTemplate=function(h){var p=h.o.link,m=p.openInNewTabCheckbox,f=p.noFollowCheckbox,g=p.modeClassName,v=p.selectSizeClassName,S=p.selectMultipleClassName,x=p.selectOptionsClassName;return new u.UIForm(h,[new u.UIBlock(h,[new u.UIInput(h,{name:"url",type:"text",ref:"url_input",label:"URL",placeholder:"http://",required:!0})]),new u.UIBlock(h,[new u.UIInput(h,{name:"content",ref:"content_input",label:"Text"})],{ref:"content_input_box"}),g?new u.UIBlock(h,[g==="input"?new u.UIInput(h,{name:"className",ref:"className_input",label:"Class name"}):g==="select"?new u.UISelect(h,{name:"className",ref:"className_select",label:"Class name",size:v,multiple:S,options:x}):null]):null,m?new u.UICheckbox(h,{name:"target",ref:"target_checkbox",label:"Open in new tab"}):null,f?new u.UICheckbox(h,{name:"nofollow",ref:"nofollow_checkbox",label:"No follow"}):null,new u.UIBlock(h,[new d.UIButton(h,{name:"unlink",variant:"default",text:"Unlink"}),new d.UIButton(h,{name:"insert",type:"submit",variant:"primary",text:"Insert"})],{align:"full"})])}},11737:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.mediaFakeTag="jodit-media",u.Config.prototype.mediaInFakeBlock=!0,u.Config.prototype.mediaBlocks=["video","audio"]},76303:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.media=void 0;var u=s(86893),d=s(76502),h=s(17332);function p(m){var f="jodit_fake_wrapper",g=m.options,v=g.mediaFakeTag,S=g.mediaBlocks;g.mediaInFakeBlock&&m.e.on("afterGetValueFromEditor",function(x){var b=new RegExp("<".concat(v,"[^>]+data-").concat(f,"[^>]+>([^]+?)</").concat(v,">"),"ig");b.test(x.value)&&(x.value=x.value.replace(b,"$1"))}).on("change afterInit afterSetMode changePlace",m.async.debounce(function(){m.isDestructed||m.getMode()===u.MODE_SOURCE||(0,d.$$)(S.join(","),m.editor).forEach(function(x){(0,d.dataBind)(x,f)||((0,d.dataBind)(x,f,!0),function(b){var _;if(b.parentNode&&(0,d.attr)(b.parentNode,"data-jodit_iframe_wrapper"))b=b.parentNode;else{var w=m.createInside.element(v,((_={"data-jodit-temp":1,contenteditable:!1,draggable:!0})["data-".concat(f)]=1,_));(0,d.attr)(w,"style",(0,d.attr)(b,"style")),w.style.display=b.style.display==="inline-block"?"inline-block":"block",w.style.width=b.offsetWidth+"px",w.style.height=b.offsetHeight+"px",b.parentNode&&b.parentNode.insertBefore(w,b),w.appendChild(b),b=w}m.e.off(b,"mousedown.select touchstart.select").on(b,"mousedown.select touchstart.select",function(){m.s.setCursorAfter(b)})}(x))})},m.defaultTimeout))}s(11737),o.media=p,h.pluginSystem.add("media",p)},8860:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(86893),h=s(81438),p=s(40332),m=s(72719);u.Config.prototype.mobileTapTimeout=300,u.Config.prototype.toolbarAdaptive=!0,u.Config.prototype.controls.dots={mode:d.MODE_SOURCE+d.MODE_WYSIWYG,popup:function(f,g,v,S,x){var b=v.data;return b===void 0&&(b={toolbar:(0,h.makeCollection)(f),rebuild:function(){var _;if(x){var w=f.e.fire("getDiffButtons.mobile",x.closest(m.ToolbarCollection));if(w&&b){b.toolbar.build((0,p.splitArray)(w));var C=((_=f.toolbar.firstButton)===null||_===void 0?void 0:_.container.offsetWidth)||36;b.toolbar.container.style.width=3*(C+4)+"px"}}}},v.data=b),b.rebuild(),b.toolbar},tooltip:"Show all"}},19806:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.mobile=void 0;var u=s(40332),d=s(97642),h=s(17332);function p(m){var f=0,g=(0,u.splitArray)(m.o.buttons);m.o.mobileTapTimeout&&m.e.on("touchend",function(v){if(v.changedTouches&&v.changedTouches.length){var S=new Date().getTime(),x=S-f;x>m.o.mobileTapTimeout&&(f=S,1.5*m.o.mobileTapTimeout>x&&m.s.insertCursorAtPoint(v.clientX,v.clientY))}}),m.e.on("getDiffButtons.mobile",function(v){if(v===m.toolbar){var S=(0,d.flatButtonsSet)((0,u.splitArray)(m.o.buttons),m),x=(0,d.flatButtonsSet)(g,m);return(0,u.toArray)(S).reduce(function(b,_){return x.has(_)||b.push(_),b},[])}}),m.o.toolbarAdaptive&&m.e.on("resize afterInit recalcAdaptive changePlace afterAddPlace",function(){var v;if(m.o.toolbar){var S=((v=m.container.parentElement)!==null&&v!==void 0?v:m.container).offsetWidth,x=(0,u.splitArray)(m.isFullSize||S>=m.o.sizeLG?m.o.buttons:m.o.sizeMD>S?m.o.sizeSM>S?m.o.buttonsXS:m.o.buttonsSM:m.o.buttonsMD);x.toString()!==g.toString()&&(g=x,m.e.fire("closeAllPopups"),m.toolbar.setRemoveButtons(m.o.removeButtons).build(g.concat(m.o.extraButtons)))}}).on(m.ow,"load resize",function(){return m.e.fire("recalcAdaptive")})}s(8860),o.mobile=p,h.pluginSystem.add("mobile",p)},73013:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(63122),h=function(p,m,f){var g,v=f.control,S="button".concat(v.command),x=(g=v.args&&v.args[0])!==null&&g!==void 0?g:(0,d.dataBind)(p,S);(0,d.dataBind)(p,S,x),p.execCommand(v.command,!1,x==="default"?null:x)};s(77904).Icon.set("ol",s(15476)).set("ul",s(59403)),u.Config.prototype.controls.ul={command:"insertUnorderedList",tags:["ul"],tooltip:"Insert Unordered List",list:{default:"Default",circle:"Circle",disc:"Dot",square:"Quadrate"},exec:h},u.Config.prototype.controls.ol={command:"insertOrderedList",tags:["ol"],tooltip:"Insert Ordered List",list:{default:"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},exec:h}},52598:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.orderedList=void 0;var u=s(20255),d=s(57549),h=s(43441),p=s(17332);s(73013);var m=function(f){function g(){var v=f!==null&&f.apply(this,arguments)||this;return v.buttons=[{name:"ul",group:"list"},{name:"ol",group:"list"}],v}return u.__extends(g,f),g.prototype.afterInit=function(v){v.registerCommand("insertUnorderedList",this.onCommand).registerCommand("insertOrderedList",this.onCommand)},g.prototype.onCommand=function(v,S,x){return this.jodit.s.applyStyle({listStyleType:x??null},{element:v==="insertunorderedlist"?"ul":"ol"}),this.jodit.synchronizeValues(),!1},g.prototype.beforeDestruct=function(v){},u.__decorate([h.autobind],g.prototype,"onCommand",null),g}(d.Plugin);o.orderedList=m,p.pluginSystem.add("orderedList",m)},47470:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(86893);u.Config.prototype.askBeforePasteFromWord=!0,u.Config.prototype.processPasteFromWord=!0,u.Config.prototype.defaultActionOnPasteFromWord=null,u.Config.prototype.pasteFromWordActionList=[{value:d.INSERT_AS_HTML,text:"Keep"},{value:d.INSERT_AS_TEXT,text:"Clean"},{value:d.INSERT_ONLY_TEXT,text:"Insert only Text"}]},15428:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.pasteFromWord=void 0;var u=s(20255),d=s(57549),h=s(40332),p=s(86893),m=s(43441),f=s(64280),g=s(17332);s(47470);var v=function(S){function x(){var b=S!==null&&S.apply(this,arguments)||this;return b.requires=["paste"],b}return u.__extends(x,S),x.prototype.afterInit=function(b){},x.prototype.beforeDestruct=function(b){},x.prototype.processWordHTML=function(b,_,w){var C=this,E=this.j,A=E.o,T=A.askBeforePasteFromWord,M=A.defaultActionOnPasteFromWord,j=A.defaultActionOnPaste,P=A.pasteFromWordActionList;return!(!A.processPasteFromWord||!(0,h.isHtmlFromWord)(_)||(T?(0,f.askInsertTypeDialog)(E,"The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","Word Paste Detected",function(I){C.insertFromWordByType(b,_,I,w)},P):this.insertFromWordByType(b,_,M||j,w),0))},x.prototype.insertFromWordByType=function(b,_,w,C){var E;switch(w){case p.INSERT_AS_HTML:_=(0,h.applyStyles)(_);var A=(E=this.j.events)===null||E===void 0?void 0:E.fire("beautifyHTML",_);(0,h.isString)(A)&&(_=A);break;case p.INSERT_AS_TEXT:_=(0,h.cleanFromWord)(_);break;case p.INSERT_ONLY_TEXT:_=(0,h.stripTags)((0,h.cleanFromWord)(_))}(0,f.pasteInsertHtml)(b,this.j,_)},u.__decorate([(0,m.watch)(":processHTML")],x.prototype,"processWordHTML",null),x}(d.Plugin);o.pasteFromWord=v,g.pluginSystem.add("pasteFromWord",v)},47224:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.pasteStorage=void 0;var u=s(20255);s(71708);var d=s(86893),h=s(85605),p=s(24263),m=s(40332),f=s(96031),g=s(17332),v=function(S){function x(){var b=S!==null&&S.apply(this,arguments)||this;return b.currentIndex=0,b.list=[],b.container=null,b.listBox=null,b.previewBox=null,b.dialog=null,b.paste=function(){if(b.j.s.focus(),b.j.s.insertHTML(b.list[b.currentIndex]),b.currentIndex!==0){var _=b.list[0];b.list[0]=b.list[b.currentIndex],b.list[b.currentIndex]=_}b.dialog&&b.dialog.close(),b.j.synchronizeValues(),b.j.e.fire("afterPaste")},b.onKeyDown=function(_){var w=b.currentIndex;[d.KEY_UP,d.KEY_DOWN,d.KEY_ENTER].indexOf(_.key)!==-1&&(_.key===d.KEY_UP&&(w===0?w=b.list.length-1:w-=1),_.key===d.KEY_DOWN&&(w===b.list.length-1?w=0:w+=1),_.key!==d.KEY_ENTER?(w!==b.currentIndex&&b.selectIndex(w),_.stopImmediatePropagation(),_.preventDefault()):b.paste())},b.selectIndex=function(_){b.listBox&&(0,m.toArray)(b.listBox.childNodes).forEach(function(w,C){w.classList.remove("jodit_active"),_===C&&b.previewBox&&(w.classList.add("jodit_active"),b.previewBox.innerHTML=b.list[_],w.focus())}),b.currentIndex=_},b.showDialog=function(){2>b.list.length||(b.dialog||b.createDialog(),b.listBox&&(b.listBox.innerHTML=""),b.previewBox&&(b.previewBox.innerHTML=""),b.list.forEach(function(_,w){var C=b.j.c.element("a");C.textContent=w+1+". "+_.replace((0,d.SPACE_REG_EXP)(),""),b.j.e.on(C,"keydown",b.onKeyDown),(0,m.attr)(C,"href","#"),(0,m.attr)(C,"data-index",w.toString()),(0,m.attr)(C,"tab-index","-1"),b.listBox&&b.listBox.appendChild(C)}),b.dialog&&b.dialog.open(),b.j.async.setTimeout(function(){b.selectIndex(0)},100))},b}return u.__extends(x,S),x.prototype.createDialog=function(){var b=this;this.dialog=this.j.dlg();var _=(0,f.Button)(this.j,"paste","Paste","primary");_.onAction(this.paste);var w=(0,f.Button)(this.j,"","Cancel");w.onAction(this.dialog.close),this.container=this.j.c.div(),this.container.classList.add("jodit-paste-storage"),this.listBox=this.j.c.div(),this.previewBox=this.j.c.div(),this.container.appendChild(this.listBox),this.container.appendChild(this.previewBox),this.dialog.setHeader(this.j.i18n("Choose Content to Paste")),this.dialog.setContent(this.container),this.dialog.setFooter([_,w]),this.j.e.on(this.listBox,"click dblclick",function(C){var E=C.target;return p.Dom.isTag(E,"a")&&E.hasAttribute("data-index")&&b.selectIndex(parseInt((0,m.attr)(E,"-index")||"0",10)),C.type==="dblclick"&&b.paste(),!1})},x.prototype.afterInit=function(){var b=this;this.j.e.off("afterCopy.paste-storage").on("pasteStorageList.paste-storage",function(){return b.list.length}).on("afterCopy.paste-storage",function(_){b.list.indexOf(_)!==-1&&b.list.splice(b.list.indexOf(_),1),b.list.unshift(_),b.list.length>5&&(b.list.length=5)}),this.j.registerCommand("showPasteStorage",{exec:this.showDialog,hotkeys:["ctrl+shift+v","cmd+shift+v"]})},x.prototype.beforeDestruct=function(){this.dialog&&this.dialog.destruct(),this.j.e.off(".paste-storage"),p.Dom.safeRemove(this.previewBox),p.Dom.safeRemove(this.listBox),p.Dom.safeRemove(this.container),this.container=null,this.listBox=null,this.previewBox=null,this.dialog=null,this.list=[]},x}(h.Plugin);o.pasteStorage=v,g.pluginSystem.add("pasteStorage",v)},24703:function(l,o,s){var u;Object.defineProperty(o,"__esModule",{value:!0});var d=s(20255),h=s(86893),p=s(93166),m=s(64280);p.Config.prototype.askBeforePasteHTML=!0,p.Config.prototype.processPasteHTML=!0,p.Config.prototype.pasteHTMLActionList=[{value:h.INSERT_AS_HTML,text:"Keep"},{value:h.INSERT_AS_TEXT,text:"Insert as Text"},{value:h.INSERT_ONLY_TEXT,text:"Insert only Text"}],p.Config.prototype.memorizeChoiceWhenPasteFragment=!1,p.Config.prototype.nl2brInPlainText=!0;var f="pasteStorage";p.Config.prototype.controls.paste={tooltip:"Paste from clipboard",exec:function(g,v,S){var x=S.control;return d.__awaiter(this,void 0,void 0,function(){var b,_,w,C,E;return d.__generator(this,function(A){switch(A.label){case 0:if(x.name===f)return g.execCommand("showPasteStorage"),[2];if(g.s.focus(),b="",_=!0,!navigator.clipboard)return[3,11];A.label=1;case 1:return A.trys.push([1,6,,7]),[4,navigator.clipboard.read()];case 2:return(w=A.sent())&&w.length?[4,w[0].getType(h.TEXT_PLAIN)]:[3,5];case 3:return C=A.sent(),[4,new Response(C).text()];case 4:b=A.sent(),A.label=5;case 5:return _=!1,[3,7];case 6:return A.sent(),[3,7];case 7:if(!_)return[3,11];A.label=8;case 8:return A.trys.push([8,10,,11]),[4,navigator.clipboard.readText()];case 9:return b=A.sent(),_=!1,[3,11];case 10:return A.sent(),[3,11];case 11:return _&&(b=g.buffer.get(h.CLIPBOARD_ID)||"",_=b.length===0),E=g.value,_?(g.ed.execCommand("paste"),!(_=E===g.value)&&g.e.fire("afterPaste")):b.length?((0,m.pasteInsertHtml)(null,g,b),g.e.fire("afterPaste")):_&&g.alert("Your browser doesn't support direct access to the clipboard.",function(){g.s.focus()}),[2]}})})},list:(u={},u[f]="Paste Storage",u),isChildDisabled:function(g){return 2>g.e.fire("pasteStorageList")}}},64280:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.askInsertTypeDialog=o.getAllTypes=o.pasteInsertHtml=void 0;var u=s(20255),d=s(10172),h=s(24263),p=s(86893),m=s(96031);o.pasteInsertHtml=function(f,g,v){if(!g.isInDestruct){(function(x){return!!(x&&x.type==="drop")})(f)&&g.s.insertCursorAtPoint(f.clientX,f.clientY);var S=g.e.fire("beforePasteInsert",v);!(0,d.isVoid)(S)&&((0,d.isString)(S)||(0,d.isNumber)(S)||h.Dom.isNode(S))&&(v=S),(0,d.isString)(v)&&(v=function(x){var b=(x=x.replace(/<meta[^>]+?>/g,"")).search(/<!--StartFragment-->/i);b!==-1&&(x=x.substring(b+20));var _=x.search(/<!--EndFragment-->/i);return _!==-1&&(x=x.substring(0,_)),x}(v)),g.s.insertHTML(v)}},o.getAllTypes=function(f){var g=f.types,v="";if((0,d.isArray)(g)||{}.toString.call(g)==="[object DOMStringList]")for(var S=0;g.length>S;S+=1)v+=g[S]+";";else v=(g||p.TEXT_PLAIN).toString()+";";return v},o.askInsertTypeDialog=function(f,g,v,S,x){if(f.e.fire("beforeOpenPasteDialog",g,v,S,x)!==!1){var b=f.confirm('<div style="word-break: normal; white-space: normal">'.concat(f.i18n(g),"</div>"),f.i18n(v)),_=x.map(function(C){var E=C.text,A=C.value;return(0,m.Button)(f,{text:E,name:E.toLowerCase(),tabIndex:0}).onAction(function(){b.close(),S(A)})});b.e.one(b,"afterClose",function(){f.s.isFocused()||f.s.focus()});var w=(0,m.Button)(f,{text:"Cancel",tabIndex:0}).onAction(function(){b.close()});return b.setFooter(u.__spreadArray(u.__spreadArray([],u.__read(_),!1),[w],!1)),_[0].focus(),_[0].state.variant="primary",f.e.fire("afterOpenPasteDialog",b,g,v,S,x),b}}},19483:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.paste=void 0;var u=s(20255),d=s(85605),h=s(86893),p=s(24263),m=s(43441),f=s(40332),g=s(17332),v=s(64280);s(24703);var S=function(x){function b(){var _=x!==null&&x.apply(this,arguments)||this;return _.pasteStack=new f.LimitedStack(20),_._isDialogOpened=!1,_}return u.__extends(b,x),b.prototype.afterInit=function(_){var w=this;_.e.on("paste.paste",this.onPaste).on("pasteStack.paste",function(C){return w.pasteStack.push(C)}),_.o.nl2brInPlainText&&this.j.e.on("processPaste.paste",this.onProcessPasteReplaceNl2Br)},b.prototype.beforeDestruct=function(_){_.e.off("paste.paste",this.onPaste).off("processPaste.paste",this.onProcessPasteReplaceNl2Br).off(".paste")},b.prototype.onPaste=function(_){try{if(this.customPasteProcess(_)===!1||this.j.e.fire("beforePaste",_)===!1)return _.preventDefault(),!1;this.defaultPasteProcess(_)}finally{this.j.e.fire("afterPaste",_)}},b.prototype.customPasteProcess=function(_){if(this.j.o.processPasteHTML){var w,C=(0,f.getDataTransfer)(_),E={html:C==null?void 0:C.getData(h.TEXT_HTML),plain:C==null?void 0:C.getData(h.TEXT_PLAIN),rtf:C==null?void 0:C.getData(h.TEXT_RTF)};for(w in E){var A=E[w];if((0,f.isHTML)(A)&&(this.j.e.fire("processHTML",_,A,E)||this.processHTML(_,A)))return!1}}},b.prototype.defaultPasteProcess=function(_){var w=(0,f.getDataTransfer)(_),C=(w==null?void 0:w.getData(h.TEXT_HTML))||(w==null?void 0:w.getData(h.TEXT_PLAIN));if(w&&C&&(0,f.trim)(C)!==""){var E=this.j.e.fire("processPaste",_,C,(0,v.getAllTypes)(w));E!==void 0&&(C=E),((0,f.isString)(C)||p.Dom.isNode(C))&&this.insertByType(_,C,this.j.o.defaultActionOnPaste),_.preventDefault(),_.stopPropagation()}},b.prototype.processHTML=function(_,w){var C=this;if(this.j.o.askBeforePasteHTML){if(this.j.o.memorizeChoiceWhenPasteFragment){var E=this.pasteStack.find(function(T){return T.html===w});if(E)return this.insertByType(_,w,E.action||this.j.o.defaultActionOnPaste),!0}if(this._isDialogOpened)return!0;var A=(0,v.askInsertTypeDialog)(this.j,"Your code is similar to HTML. Keep as HTML?","Paste as HTML",function(T){C._isDialogOpened=!1,C.insertByType(_,w,T)},this.j.o.pasteHTMLActionList);return A&&(this._isDialogOpened=!0,A.e.on("beforeClose",function(){C._isDialogOpened=!1})),!0}return!1},b.prototype.insertByType=function(_,w,C){if(this.pasteStack.push({html:w,action:C}),(0,f.isString)(w))switch(this.j.buffer.set(h.CLIPBOARD_ID,w),C){case h.INSERT_CLEAR_HTML:w=(0,f.cleanFromWord)(w);break;case h.INSERT_ONLY_TEXT:w=(0,f.stripTags)(w);break;case h.INSERT_AS_TEXT:w=(0,f.htmlspecialchars)(w)}(0,v.pasteInsertHtml)(_,this.j,w)},b.prototype.onProcessPasteReplaceNl2Br=function(_,w,C){if(C===h.TEXT_PLAIN+";"&&!(0,f.isHTML)(w))return(0,f.nl2br)(w)},u.__decorate([m.autobind],b.prototype,"onPaste",null),u.__decorate([m.autobind],b.prototype,"onProcessPasteReplaceNl2Br",null),b}(d.Plugin);o.paste=S,g.pluginSystem.add("paste",S)},76952:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.showPlaceholder=!0,u.Config.prototype.placeholder="Type something",u.Config.prototype.useInputsPlaceholder=!0},83211:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.placeholder=o.isEditorEmpty=void 0;var u=s(20255);s(51629);var d=s(86893),h=s(67309),p=s(26911),m=s(37204),f=s(24263),g=s(85605),v=s(86893),S=s(43441),x=s(17332);function b(w){var C;if(!w.firstChild)return!0;var E=w.firstChild;if(v.INSEPARABLE_TAGS.has((C=E.nodeName)===null||C===void 0?void 0:C.toLowerCase())||/^(TABLE)$/i.test(E.nodeName))return!1;var A=f.Dom.next(E,function(T){return T&&!f.Dom.isEmptyTextNode(T)},w);return f.Dom.isText(E)&&!A?f.Dom.isEmptyTextNode(E):!A&&f.Dom.each(E,function(T){return!f.Dom.isTag(T,["ul","li","ol"])&&(f.Dom.isEmpty(T)||f.Dom.isTag(T,"br"))})}s(76952),o.isEditorEmpty=b;var _=function(w){function C(){var E=w!==null&&w.apply(this,arguments)||this;return E.addNativeListeners=function(){E.j.e.off(E.j.editor,"input.placeholder keydown.placeholder").on(E.j.editor,"input.placeholder keydown.placeholder",E.toggle)},E.addEvents=function(){var A=E.j;A.o.useInputsPlaceholder&&A.element.hasAttribute("placeholder")&&(E.placeholderElm.innerHTML=(0,h.attr)(A.element,"placeholder")||""),A.e.fire("placeholder",E.placeholderElm.innerHTML),A.e.off(".placeholder").on("changePlace.placeholder",E.addNativeListeners).on("change.placeholder focus.placeholder keyup.placeholder mouseup.placeholder keydown.placeholder mousedown.placeholder afterSetMode.placeholder changePlace.placeholder",E.toggle).on(window,"load",E.toggle),E.addNativeListeners(),E.toggle()},E}return u.__extends(C,w),C.prototype.afterInit=function(E){var A=this;E.o.showPlaceholder&&(this.placeholderElm=E.c.fromHTML('<span data-ref="placeholder" style="display: none;" class="jodit-placeholder">'.concat(E.i18n(E.o.placeholder),"</span>")),E.o.direction==="rtl"&&(this.placeholderElm.style.right="0px",this.placeholderElm.style.direction="rtl"),E.e.on("readonly",function(T){T?A.hide():A.toggle()}).on("changePlace",this.addEvents),this.addEvents())},C.prototype.show=function(){var E=this.j;if(!E.o.readonly){var A=0,T=0,M=E.s.current(),j=M&&f.Dom.closest(M,f.Dom.isBlock,E.editor)||E.editor,P=E.ew.getComputedStyle(j),I=E.ew.getComputedStyle(E.editor);E.workplace.appendChild(this.placeholderElm);var k=E.editor.firstChild;if(f.Dom.isElement(k)&&!(0,m.isMarker)(k)){var R=E.ew.getComputedStyle(k);A=parseInt(R.getPropertyValue("margin-top"),10),T=parseInt(R.getPropertyValue("margin-left"),10),this.placeholderElm.style.fontSize=parseInt(R.getPropertyValue("font-size"),10)+"px",this.placeholderElm.style.lineHeight=R.getPropertyValue("line-height")}else this.placeholderElm.style.fontSize=parseInt(P.getPropertyValue("font-size"),10)+"px",this.placeholderElm.style.lineHeight=P.getPropertyValue("line-height");(0,p.css)(this.placeholderElm,{display:"block",textAlign:P.getPropertyValue("text-align"),paddingTop:parseInt(I.paddingTop,10)+"px",paddingLeft:parseInt(I.paddingLeft,10)+"px",paddingRight:parseInt(I.paddingRight,10)+"px",marginTop:Math.max(parseInt(P.getPropertyValue("margin-top"),10),A),marginLeft:Math.max(parseInt(P.getPropertyValue("margin-left"),10),T)})}},C.prototype.hide=function(){f.Dom.safeRemove(this.placeholderElm)},C.prototype.toggle=function(){var E=this.j;E.editor&&!E.isInDestruct&&(E.getRealMode()===d.MODE_WYSIWYG&&b(E.editor)?this.show():this.hide())},C.prototype.beforeDestruct=function(E){this.hide(),E.e.off(".placeholder").off(window,"load",this.toggle)},u.__decorate([(0,S.debounce)(function(E){return E.defaultTimeout/10},!0)],C.prototype,"toggle",null),C}(g.Plugin);o.placeholder=_,x.pluginSystem.add("placeholder",_)},88297:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.poweredByJodit=void 0;var u=s(17332);function d(h){var p=h.o;p.hidePoweredByJodit||p.inline||!(p.showCharsCounter||p.showWordsCounter||p.showXPathInStatusbar)||h.hookStatus("ready",function(){h.statusbar.append(h.create.fromHTML(`<a
						tabindex="-1"
						style="text-transform: uppercase"
						class="jodit-status-bar-link"
						target="_blank"
						href="https://xdsoft.net/jodit/">
							Powered by Jodit
						</a>`),!0)})}o.poweredByJodit=d,u.pluginSystem.add("poweredByJodit",d)},72930:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.preview=void 0,s(54860);var u=s(93166),d=s(86893),h=s(21498),p=s(17332);function m(f){f.registerButton({name:"preview"}),f.registerCommand("preview",function(g,v,S){var x=f.dlg();x.setSize(1024,600).open("",f.i18n("Preview")).setModal(!0),(0,h.previewBox)(f,S,"px",x.getElm("content"))})}u.Config.prototype.controls.preview={icon:"eye",command:"preview",mode:d.MODE_SOURCE+d.MODE_WYSIWYG,tooltip:"Preview"},o.preview=m,p.pluginSystem.add("preview",m)},20137:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.generateCriticalCSS=void 0;var u=s(20255),d=s(1853);o.generateCriticalCSS=function(h){var p=function(f,g){return g===void 0&&(g=f.ownerDocument.styleSheets),(0,d.toArray)(g).map(function(v){try{return(0,d.toArray)(v.cssRules)}catch{}return[]}).flat().filter(function(v){try{return!!(v&&f.matches(v.selectorText))}catch{}return!1})},m=function(){function f(g,v,S){var x=this;this.css={};var b=S||{},_=function(w){var C=w.selectorText.split(",").map(function(M){return M.trim()}).sort().join(",");!x.css[C]&&(x.css[C]={});for(var E=w.style.cssText.split(/;(?![A-Za-z0-9])/),A=0;E.length>A;A++)if(E[A]){var T=E[A].split(":");T[0]=T[0].trim(),T[1]=T[1].trim(),x.css[C][T[0]]=T[1].replace(/var\(([^)]+)\)/g,function(M,j){var P=u.__read(j.split(","),2),I=P[0],k=P[1];return(h.ew.getComputedStyle(h.editor).getPropertyValue(I.trim())||k||M).trim()})}};(function(){for(var w=g.innerHeight,C=v.createTreeWalker(h.editor,NodeFilter.SHOW_ELEMENT,function(){return NodeFilter.FILTER_ACCEPT});C.nextNode();){var E=C.currentNode;if(w>E.getBoundingClientRect().top||b.scanFullPage){var A=p(E);if(A)for(var T=0;A.length>T;T++)_(A[T])}}})()}return f.prototype.generateCSS=function(){var g="";for(var v in this.css)if(!/:not\(/.test(v)){for(var S in g+=v+" { ",this.css[v])g+=S+": "+this.css[v][S]+"; ";g+=`}
`}return g},f}();try{return new m(h.ew,h.ed,{scanFullPage:!0}).generateCSS()}catch{}return""}},51197:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.print=void 0;var u=s(93166),d=s(17332),h=s(64968),p=s(93351),m=s(86893),f=s(17332),g=s(77904),v=s(20137),S=s(21498);function x(b){b.registerButton({name:"print"})}g.Icon.set("print",s(22860)),u.Config.prototype.controls.print={exec:function(b){var _=b.create.element("iframe");Object.assign(_.style,{position:"fixed",right:0,bottom:0,width:0,height:0,border:0}),(0,d.getContainer)(b,u.Config).appendChild(_);var w=function(){b.e.off(b.ow,"mousemove",w),h.Dom.safeRemove(_)},C=_.contentWindow;if(C){b.e.on(C,"onbeforeunload onafterprint",w).on(b.ow,"mousemove",w),b.o.iframe?(b.e.fire("generateDocumentStructure.iframe",C.document,b),C.document.body.innerHTML=b.value):(C.document.write('<!doctype html><html lang="'+(0,p.defaultLanguage)(b.o.language)+'"><head><title></title></head><style>'+(0,v.generateCriticalCSS)(b)+"</style><body></body></html>"),C.document.close(),(0,S.previewBox)(b,void 0,"px",C.document.body));var E=C.document.createElement("style");E.innerHTML=`@media print {
					body {
							-webkit-print-color-adjust: exact;
					}
			}`,C.document.head.appendChild(E),C.focus(),C.print()}},mode:m.MODE_SOURCE+m.MODE_WYSIWYG,tooltip:"Print"},o.print=x,f.pluginSystem.add("print",x)},2327:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.redoUndo=void 0;var u=s(20255),d=s(93166),h=s(86893),p=s(85605),m=s(17332);s(77904).Icon.set("redo",s(95600)).set("undo",s(76214)),d.Config.prototype.controls.redo={mode:h.MODE_SPLIT,isDisabled:function(g){return!g.history.canRedo()},tooltip:"Redo"},d.Config.prototype.controls.undo={mode:h.MODE_SPLIT,isDisabled:function(g){return!g.history.canUndo()},tooltip:"Undo"};var f=function(g){function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.buttons=[{name:"undo",group:"history"},{name:"redo",group:"history"}],S}return u.__extends(v,g),v.prototype.beforeDestruct=function(){},v.prototype.afterInit=function(S){var x=function(b){return S.history[b](),!1};S.registerCommand("redo",{exec:x,hotkeys:["ctrl+y","ctrl+shift+z","cmd+y","cmd+shift+z"]}),S.registerCommand("undo",{exec:x,hotkeys:["ctrl+z","cmd+z"]})},v}(p.Plugin);o.redoUndo=f,m.pluginSystem.add("redoUndo",f)},52444:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.tableAllowCellResize=!0},47608:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.resizeCells=void 0;var u=s(20255);s(47818);var d=s(86893),h=s(87837),p=s(40332),m=s(43441),f=s(24263),g=s(17332);s(52444);var v="table_processor_observer-resize",S=function(x){function b(){var _=x!==null&&x.apply(this,arguments)||this;return _.selectMode=!1,_.resizeDelta=0,_.createResizeHandle=function(){_.resizeHandler||(_.resizeHandler=_.j.c.div("jodit-table-resizer"),_.j.e.on(_.resizeHandler,"mousedown.table touchstart.table",_.onHandleMouseDown).on(_.resizeHandler,"mouseenter.table",function(){_.j.async.clearTimeout(_.hideTimeout)}))},_.hideTimeout=0,_.drag=!1,_.minX=0,_.maxX=0,_.startX=0,_}return u.__extends(b,x),Object.defineProperty(b.prototype,"module",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isRTL",{get:function(){return this.j.o.direction==="rtl"},enumerable:!1,configurable:!0}),b.prototype.showResizeHandle=function(){this.j.async.clearTimeout(this.hideTimeout),this.j.workplace.appendChild(this.resizeHandler)},b.prototype.hideResizeHandle=function(){var _=this;this.hideTimeout=this.j.async.setTimeout(function(){f.Dom.safeRemove(_.resizeHandler)},{timeout:this.j.defaultTimeout,label:"hideResizer"})},b.prototype.onHandleMouseDown=function(_){var w=this;if(!this.j.isLocked){this.drag=!0,this.j.e.on(this.j.ow,"mouseup.resize-cells touchend.resize-cells",this.onMouseUp).on(this.j.ew,"mousemove.table touchmove.table",this.onMouseMove),this.startX=_.clientX,this.j.lock(v),this.resizeHandler.classList.add("jodit-table-resizer_moved");var C,E=this.workTable.getBoundingClientRect();if(this.minX=0,this.maxX=1e6,this.wholeTable!=null)E=this.workTable.parentNode.getBoundingClientRect(),this.minX=E.left,this.maxX=this.minX+E.width;else{var A=h.Table.formalCoordinate(this.workTable,this.workCell,!0);h.Table.formalMatrix(this.workTable,function(T,M,j){A[1]===j&&(C=T.getBoundingClientRect(),w.minX=Math.max(C.left+d.NEARBY/2,w.minX)),A[1]+(w.isRTL?-1:1)===j&&(C=T.getBoundingClientRect(),w.maxX=Math.min(C.left+C.width-d.NEARBY/2,w.maxX))})}return!1}},b.prototype.onMouseMove=function(_){if(this.drag){this.j.e.fire("closeAllPopups");var w=_.clientX,C=(0,p.offset)(this.resizeHandler.parentNode||this.j.od.documentElement,this.j,this.j.od,!0);this.minX>w&&(w=this.minX),w>this.maxX&&(w=this.maxX),this.resizeDelta=w-this.startX+(this.j.o.iframe?C.left:0),this.resizeHandler.style.left=w-(this.j.o.iframe?0:C.left)+"px";var E=this.j.s.sel;E&&E.removeAllRanges()}},b.prototype.onMouseUp=function(_){(this.selectMode||this.drag)&&(this.selectMode=!1,this.j.unlock()),this.resizeHandler&&this.drag&&(this.drag=!1,this.j.e.off(this.j.ew,"mousemove.table touchmove.table",this.onMouseMove),this.resizeHandler.classList.remove("jodit-table-resizer_moved"),this.startX!==_.clientX&&(this.wholeTable==null?this.resizeColumns():this.resizeTable()),this.j.synchronizeValues(),this.j.s.focus())},b.prototype.resizeColumns=function(){var _=this.resizeDelta,w=[];h.Table.setColumnWidthByDelta(this.workTable,h.Table.formalCoordinate(this.workTable,this.workCell,!0)[1],_,!0,w);var C=(0,p.call)(this.isRTL?f.Dom.prev:f.Dom.next,this.workCell,f.Dom.isCell,this.workCell.parentNode);h.Table.setColumnWidthByDelta(this.workTable,h.Table.formalCoordinate(this.workTable,C)[1],-_,!1,w)},b.prototype.resizeTable=function(){var _=this.resizeDelta*(this.isRTL?-1:1),w=this.workTable.offsetWidth,C=(0,p.getContentWidth)(this.workTable.parentNode,this.j.ew),E=!this.wholeTable;if(this.isRTL?!E:E)this.workTable.style.width=(w+_)/C*100+"%";else{var A=this.isRTL?"marginRight":"marginLeft",T=parseInt(this.j.ew.getComputedStyle(this.workTable)[A]||"0",10);this.workTable.style.width=(w-_)/C*100+"%",this.workTable.style[A]=(T+_)/C*100+"%"}},b.prototype.setWorkCell=function(_,w){w===void 0&&(w=null),this.wholeTable=w,this.workCell=_,this.workTable=f.Dom.up(_,function(C){return f.Dom.isTag(C,"table")},this.j.editor)},b.prototype.calcHandlePosition=function(_,w,C,E){C===void 0&&(C=0),E===void 0&&(E=0);var A=(0,p.offset)(w,this.j,this.j.ed);if(C>d.NEARBY&&A.width-d.NEARBY>C)this.hideResizeHandle();else{var T=(0,p.offset)(this.j.workplace,this.j,this.j.od,!0),M=(0,p.offset)(_,this.j,this.j.ed);if(this.resizeHandler.style.left=(C>d.NEARBY?A.left+A.width:A.left)-T.left+E+"px",Object.assign(this.resizeHandler.style,{height:M.height+"px",top:M.top-T.top+"px"}),this.showResizeHandle(),C>d.NEARBY){var j=(0,p.call)(this.isRTL?f.Dom.prev:f.Dom.next,w,f.Dom.isCell,w.parentNode);this.setWorkCell(w,!!j&&null)}else{var P=(0,p.call)(this.isRTL?f.Dom.next:f.Dom.prev,w,f.Dom.isCell,w.parentNode);this.setWorkCell(P||w,!P||null)}}},b.prototype.afterInit=function(_){var w=this;_.o.tableAllowCellResize&&_.e.off(this.j.ow,".resize-cells").off(".resize-cells").on("change.resize-cells afterCommand.resize-cells afterSetMode.resize-cells",function(){(0,p.$$)("table",_.editor).forEach(w.observe)}).on(this.j.ow,"scroll.resize-cells",function(){if(w.drag){var C=f.Dom.up(w.workCell,function(A){return f.Dom.isTag(A,"table")},_.editor);if(C){var E=C.getBoundingClientRect();w.resizeHandler.style.top=E.top+"px"}}}).on("beforeSetMode.resize-cells",function(){w.module.getAllSelectedCells().forEach(function(C){w.module.removeSelection(C),h.Table.normalizeTable(f.Dom.closest(C,"table",_.editor))})})},b.prototype.observe=function(_){var w=this;(0,p.dataBind)(_,v)||((0,p.dataBind)(_,v,!0),this.j.e.on(_,"mouseleave.resize-cells",function(C){w.resizeHandler&&w.resizeHandler!==C.relatedTarget&&w.hideResizeHandle()}).on(_,"mousemove.resize-cells touchmove.resize-cells",this.j.async.throttle(function(C){if(!w.j.isLocked){var E=f.Dom.up(C.target,f.Dom.isCell,_);E&&w.calcHandlePosition(_,E,C.offsetX)}},{timeout:this.j.defaultTimeout})),this.createResizeHandle())},b.prototype.beforeDestruct=function(_){_.events&&(_.e.off(this.j.ow,".resize-cells"),_.e.off(".resize-cells"))},u.__decorate([m.autobind],b.prototype,"onHandleMouseDown",null),u.__decorate([m.autobind],b.prototype,"onMouseMove",null),u.__decorate([m.autobind],b.prototype,"onMouseUp",null),u.__decorate([m.autobind],b.prototype,"observe",null),b}(h.Plugin);o.resizeCells=S,g.pluginSystem.add("resizeCells",S)},91637:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.allowResizeX=!1,u.Config.prototype.allowResizeY=!0},90523:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.resizeHandler=void 0;var u=s(20255),d=s(57549),h=s(64968),p=s(43441),m=s(2074),f=s(17332);s(91637);var g=function(v){function S(){var x=v!==null&&v.apply(this,arguments)||this;return x.isResized=!1,x.start={x:0,y:0,w:0,h:0},x.handle=x.j.c.div("jodit-editor__resize",m.Icon.get("resize_handler")),x}return u.__extends(S,v),S.prototype.afterInit=function(x){var b=this,_=x.o,w=_.height,C=_.width,E=x.o.allowResizeY;w==="auto"&&C!=="auto"&&(E=!1),w==="auto"&&C==="auto"||!_.allowResizeX&&!E||(x.statusbar.setMod("resize-handle",!0),x.e.on("toggleFullSize.resizeHandler",function(){b.handle.style.display=x.isFullSize?"none":"block"}).on(this.handle,"mousedown touchstart",this.onHandleResizeStart).on(x.ow,"mouseup touchend",this.onHandleResizeEnd),x.container.appendChild(this.handle))},S.prototype.onHandleResizeStart=function(x){this.isResized=!0,this.start.x=x.clientX,this.start.y=x.clientY,this.start.w=this.j.container.offsetWidth,this.start.h=this.j.container.offsetHeight,this.j.lock(),this.j.e.on(this.j.ow,"mousemove touchmove",this.onHandleResize),x.preventDefault()},S.prototype.onHandleResize=function(x){this.isResized&&(this.j.o.allowResizeY&&this.j.e.fire("setHeight",this.start.h+x.clientY-this.start.y),this.j.o.allowResizeX&&this.j.e.fire("setWidth",this.start.w+x.clientX-this.start.x),this.j.e.fire("resize"))},S.prototype.onHandleResizeEnd=function(){this.isResized&&(this.isResized=!1,this.j.e.off(this.j.ow,"mousemove touchmove",this.onHandleResize),this.j.unlock())},S.prototype.beforeDestruct=function(){h.Dom.safeRemove(this.handle),this.j.e.off(this.j.ow,"mouseup touchsend",this.onHandleResizeEnd)},S.requires=["size"],u.__decorate([p.autobind],S)}(d.Plugin);o.resizeHandler=g,f.pluginSystem.add("resizeHandler",g)},36560:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.allowResizeTags=["img","iframe","table","jodit"],u.Config.prototype.resizer={showSize:!0,hideSizeTimeout:1e3,forImageChangeAttributes:!0,min_width:10,min_height:10,useAspectRatio:["img"]}},69257:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.resizer=void 0;var u=s(20255);s(6316);var d=s(86893),h=s(86893),p=s(24263),m=s(40332),f=s(85605),g=s(17332),v=s(43441),S=s(17332);s(36560);var x="__jodit-resizer_binded",b=function(_){function w(){var C=_!==null&&_.apply(this,arguments)||this;return C.LOCK_KEY="resizer",C.element=null,C.isResizeMode=!1,C.isShown=!1,C.startX=0,C.startY=0,C.width=0,C.height=0,C.ratio=0,C.rect=C.j.c.fromHTML('<div title="'.concat(C.j.i18n("Press Alt for custom resizing"),`" class="jodit-resizer">
				<div class="jodit-resizer__top-left"></div>
				<div class="jodit-resizer__top-right"></div>
				<div class="jodit-resizer__bottom-right"></div>
				<div class="jodit-resizer__bottom-left"></div>
				<span>100x100</span>
			</div>`)),C.sizeViewer=C.rect.getElementsByTagName("span")[0],C.pointerX=0,C.pointerY=0,C.isAltMode=!1,C.onClickElement=function(E){C.isResizeMode||C.element===E&&C.isShown||(C.element=E,C.show(),p.Dom.isTag(C.element,"img")&&!C.element.complete&&C.j.e.one(C.element,"load",C.updateSize))},C.updateSize=function(){if(!C.isInDestruct&&C.isShown&&C.element&&C.rect){var E=C.getWorkplacePosition(),A=(0,m.offset)(C.element,C.j,C.j.ed),T=parseInt(C.rect.style.left||"0",10),M=parseInt(C.rect.style.top||"0",10),j=A.top-E.top,P=A.left-E.left;M===j&&T===P&&C.rect.offsetWidth===C.element.offsetWidth&&C.rect.offsetHeight===C.element.offsetHeight||((0,m.css)(C.rect,{top:j,left:P,width:C.element.offsetWidth,height:C.element.offsetHeight}),C.j.events&&(C.j.e.fire(C.element,"changesize"),isNaN(T)||C.j.e.fire("resize")))}},C.hideSizeViewer=function(){C.sizeViewer.style.opacity="0"},C}return u.__extends(w,_),w.prototype.afterInit=function(C){var E=this;(0,m.$$)("div",this.rect).forEach(function(A){C.e.on(A,"mousedown.resizer touchstart.resizer",E.onStartResizing.bind(E,A))}),g.eventEmitter.on("hideHelpers",this.hide),C.e.on("readonly",function(A){A&&E.hide()}).on("afterInit changePlace",this.addEventListeners.bind(this)).on("afterGetValueFromEditor.resizer",function(A){var T=/<jodit[^>]+data-jodit_iframe_wrapper[^>]+>(.*?<iframe[^>]*>.*?<\/iframe>.*?)<\/jodit>/gi;T.test(A.value)&&(A.value=A.value.replace(T,"$1"))}).on("hideResizer",this.hide).on("change afterInit afterSetMode",this.onChangeEditor),this.addEventListeners(),this.onChangeEditor()},w.prototype.onEditorClick=function(C){for(var E=C.target,A=this.j,T=A.editor,M=A.options.allowResizeTags;E&&E!==T;){if(p.Dom.isTag(E,M))return this.bind(E),void this.onClickElement(E);E=E.parentNode}},w.prototype.addEventListeners=function(){var C=this,E=this.j;E.e.off(E.editor,".resizer").off(E.ow,".resizer").on(E.editor,"keydown.resizer",function(A){C.isShown&&A.key===d.KEY_DELETE&&C.element&&!p.Dom.isTag(C.element,"table")&&C.onDelete(A)}).on(E.ow,"resize.resizer",this.updateSize).on("resize.resizer",this.updateSize).on([E.ow,E.editor],"scroll.resizer",function(){C.isShown&&!C.isResizeMode&&C.hide()}).on(E.ow,"keydown.resizer",this.onKeyDown).on(E.ow,"keyup.resizer",this.onKeyUp).on(E.ow,"mouseup.resizer touchend.resizer",this.onClickOutside)},w.prototype.onStartResizing=function(C,E){if(!this.element||!this.element.parentNode)return this.hide(),!1;this.handle=C,E.cancelable&&E.preventDefault(),E.stopImmediatePropagation(),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.ratio=this.width/this.height,this.isResizeMode=!0,this.startX=E.clientX,this.startY=E.clientY,this.pointerX=E.clientX,this.pointerY=E.clientY;var A=this.j;A.e.fire("hidePopup"),A.lock(this.LOCK_KEY),A.e.on(A.ow,"mousemove.resizer touchmove.resizer",this.onResize)},w.prototype.onEndResizing=function(){var C=this.j;C.unlock(),this.isResizeMode=!1,this.isAltMode=!1,C.synchronizeValues(),C.e.off(C.ow,"mousemove.resizer touchmove.resizer",this.onResize)},w.prototype.onResize=function(C){if(this.isResizeMode){if(!this.element)return;this.pointerX=C.clientX,this.pointerY=C.clientY;var E=void 0,A=void 0;if(this.j.options.iframe){var T=this.getWorkplacePosition();E=C.clientX+T.left-this.startX,A=C.clientY+T.top-this.startY}else E=this.pointerX-this.startX,A=this.pointerY-this.startY;var M=this.handle.className,j=0,P=0,I=this.j.o.resizer.useAspectRatio;!this.isAltMode&&(I===!0||Array.isArray(I)&&p.Dom.isTag(this.element,I))?(E?(j=this.width+(M.match(/left/)?-1:1)*E,P=Math.round(j/this.ratio)):(P=this.height+(M.match(/top/)?-1:1)*A,j=Math.round(P*this.ratio)),j>(0,m.innerWidth)(this.j.editor,this.j.ow)&&(j=(0,m.innerWidth)(this.j.editor,this.j.ow),P=Math.round(j/this.ratio))):(j=this.width+(M.match(/left/)?-1:1)*E,P=this.height+(M.match(/top/)?-1:1)*A),j>this.j.o.resizer.min_width&&this.applySize(this.element,"width",this.rect.parentNode.offsetWidth>j?j:"100%"),P>this.j.o.resizer.min_height&&this.applySize(this.element,"height",P),this.updateSize(),this.showSizeViewer(this.element.offsetWidth,this.element.offsetHeight),C.stopImmediatePropagation()}},w.prototype.onKeyDown=function(C){this.isAltMode=C.key===h.KEY_ALT,!this.isAltMode&&this.isResizeMode&&this.onEndResizing()},w.prototype.onKeyUp=function(){this.isAltMode&&this.isResizeMode&&this.element&&(this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.ratio=this.width/this.height,this.startX=this.pointerX,this.startY=this.pointerY),this.isAltMode=!1},w.prototype.onClickOutside=function(C){if(this.isShown){if(!this.isResizeMode)return this.hide();C.stopImmediatePropagation(),this.onEndResizing()}},w.prototype.getWorkplacePosition=function(){return(0,m.offset)(this.rect.parentNode||this.j.od.documentElement,this.j,this.j.od,!0)},w.prototype.applySize=function(C,E,A){var T=p.Dom.isImage(C)&&this.j.o.resizer.forImageChangeAttributes;T&&(0,m.attr)(C,E,A),T&&!C.style[E]||(0,m.css)(C,E,A)},w.prototype.onDelete=function(C){this.element&&(this.element.tagName!=="JODIT"?this.j.s.select(this.element):(p.Dom.safeRemove(this.element),this.hide(),C.preventDefault()))},w.prototype.onChangeEditor=function(){this.isShown&&(this.element&&this.element.parentNode?this.updateSize():this.hide()),(0,m.$$)("iframe",this.j.editor).forEach(this.bind)},w.prototype.bind=function(C){var E=this;if(p.Dom.isHTMLElement(C)&&this.j.o.allowResizeTags.includes(C.tagName.toLowerCase())&&!(0,m.dataBind)(C,x)){var A;if((0,m.dataBind)(C,x,!0),p.Dom.isTag(C,"iframe")){var T=C;p.Dom.isHTMLElement(C.parentNode)&&(0,m.attr)(C.parentNode,"-jodit_iframe_wrapper")?C=C.parentNode:(A=this.j.createInside.element("jodit",{"data-jodit-temp":1,contenteditable:!1,draggable:!0,"data-jodit_iframe_wrapper":1}),(0,m.attr)(A,"style",(0,m.attr)(C,"style")),(0,m.css)(A,{display:C.style.display==="inline-block"?"inline-block":"block",width:C.offsetWidth,height:C.offsetHeight}),C.parentNode&&C.parentNode.insertBefore(A,C),A.appendChild(C),this.j.e.on(A,"click",function(){(0,m.attr)(A,"data-jodit-wrapper_active",!0)}),C=A),this.j.e.off(C,"mousedown.select touchstart.select").on(C,"mousedown.select touchstart.select",function(){E.j.s.select(C)}).off(C,"changesize").on(C,"changesize",function(){T.setAttribute("width",C.offsetWidth+"px"),T.setAttribute("height",C.offsetHeight+"px")})}this.j.e.on(C,"dragstart",this.hide),h.IS_IE&&this.j.e.on(C,"mousedown",function(M){p.Dom.isTag(C,"img")&&M.preventDefault()})}},w.prototype.showSizeViewer=function(C,E){this.j.o.resizer.showSize&&(this.sizeViewer.offsetWidth>C||this.sizeViewer.offsetHeight>E?this.hideSizeViewer():(this.sizeViewer.style.opacity="1",this.sizeViewer.textContent="".concat(C," x ").concat(E),this.j.async.setTimeout(this.hideSizeViewer,{timeout:this.j.o.resizer.hideSizeTimeout,label:"hideSizeViewer"})))},w.prototype.show=function(){this.j.o.readonly||this.isShown||(this.isShown=!0,this.rect.parentNode||((0,m.markOwner)(this.j,this.rect),this.j.workplace.appendChild(this.rect)),this.j.isFullSize&&(this.rect.style.zIndex=(0,m.css)(this.j.container,"zIndex").toString()),this.updateSize())},w.prototype.hide=function(){this.isResizeMode||(this.isResizeMode=!1,this.isShown=!1,this.element=null,p.Dom.safeRemove(this.rect),(0,m.$$)("[data-jodit-wrapper_active='true']",this.j.editor).forEach(function(C){return(0,m.attr)(C,"data-jodit-wrapper_active",!1)}))},w.prototype.beforeDestruct=function(C){this.hide(),g.eventEmitter.off("hideHelpers",this.hide),C.e.off(this.j.ow,".resizer").off(".resizer")},u.__decorate([(0,v.watch)(":click")],w.prototype,"onEditorClick",null),u.__decorate([v.autobind],w.prototype,"onStartResizing",null),u.__decorate([v.autobind],w.prototype,"onEndResizing",null),u.__decorate([v.autobind],w.prototype,"onResize",null),u.__decorate([v.autobind],w.prototype,"onKeyDown",null),u.__decorate([v.autobind],w.prototype,"onKeyUp",null),u.__decorate([v.autobind],w.prototype,"onClickOutside",null),u.__decorate([(0,v.debounce)()],w.prototype,"onChangeEditor",null),u.__decorate([v.autobind],w.prototype,"bind",null),u.__decorate([v.autobind],w.prototype,"hide",null),w}(f.Plugin);o.resizer=b,S.pluginSystem.add("resizer",b)},61975:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(77904);s(59535),u.Config.prototype.useSearch=!0,u.Config.prototype.search={lazyIdleTimeout:0},d.Icon.set("search",s(41197)),u.Config.prototype.controls.find={tooltip:"Find",icon:"search",exec:function(h,p,m){var f=m.control;switch(f.args&&f.args[0]){case"findPrevious":h.e.fire("searchPrevious");break;case"findNext":h.e.fire("searchNext");break;case"replace":h.execCommand("openReplaceDialog");break;default:h.execCommand("openSearchDialog")}},list:{search:"Find",findNext:"Find Next",findPrevious:"Find Previous",replace:"Replace"},childTemplate:function(h,p,m){return m}}},73934:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(18562),o),u.__exportStar(s(3928),o)},18562:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.SentenceFinder=void 0;var u=s(20255),d=s(93163),h=function(){function p(m){m===void 0&&(m=d.fuzzySearchIndex),this.searchIndex=m,this.queue=[],this.value=""}return p.prototype.add=function(m){var f,g=((f=m.nodeValue)!==null&&f!==void 0?f:"").toLowerCase();if(g.length){var v=this.value.length;this.queue.push({startIndex:v,endIndex:v+g.length,node:m}),this.value+=g}},p.prototype.ranges=function(m,f){var g;f===void 0&&(f=0);var v=[],S=f,x=0,b=0;do if(x=(g=u.__read(this.searchIndex(m,this.value,S),2))[1],(S=g[0])!==-1){for(var _=void 0,w=0,C=void 0,E=0,A=b;this.queue.length>A;A+=1)if(!_&&this.queue[A].endIndex>S&&(_=this.queue[A].node,w=S-this.queue[A].startIndex),_&&this.queue[A].endIndex>=S+x){C=this.queue[A].node,E=S+x-this.queue[A].startIndex,b=A;break}_&&C&&v.push({startContainer:_,startOffset:w,endContainer:C,endOffset:E}),S+=x}while(S!==-1);return v.length===0?null:v},p}();o.SentenceFinder=h},3928:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isSelectionWrapper=o.clearSelectionWrappersFromHTML=o.clearSelectionWrappers=o.getSelectionWrappers=o.wrapRangesTextsInTmpSpan=void 0;var u=s(20255),d=s(24263),h=s(54188),p="jd-tmp-selection";function m(g){return(0,h.$$)("[".concat(p,"]"),g)}function f(g){return d.Dom.isElement(g)&&g.hasAttribute(p)}o.wrapRangesTextsInTmpSpan=function(g,v,S,x){var b,_,w;if(g.startContainer.nodeValue!=null&&g.endContainer.nodeValue!=null){var C=S.element("span",((b={})[p]=!0,b));d.Dom.markTemporary(C);var E=g.startContainer.nodeValue,A=0;if(g.startOffset!==0){var T=S.text(E.substring(0,g.startOffset));g.startContainer.nodeValue=E.substring(g.startOffset),d.Dom.before(g.startContainer,T),g.startContainer===g.endContainer&&(g.endOffset-=A=g.startOffset),g.startOffset=0}var M=g.endContainer.nodeValue;if(g.endOffset!==M.length){T=S.text(M.substring(g.endOffset)),g.endContainer.nodeValue=M.substring(0,g.endOffset),d.Dom.after(g.endContainer,T);try{for(var j=u.__values(v),P=j.next();!P.done;P=j.next()){var I=P.value;if(I.startContainer!==g.endContainer)break;I.startContainer=T,I.startOffset=I.startOffset-g.endOffset-A,I.endContainer===g.endContainer&&(I.endContainer=T,I.endOffset=I.endOffset-g.endOffset-A)}}catch(O){_={error:O}}finally{try{P&&!P.done&&(w=j.return)&&w.call(j)}finally{if(_)throw _.error}}g.endOffset=g.endContainer.nodeValue.length}var k=g.startContainer;do{if(!k||(d.Dom.isText(k)&&!f(k.parentNode)&&d.Dom.wrap(k,C.cloneNode(),S),k===g.endContainer))break;var R=k.firstChild||k.nextSibling;if(!R){for(;k&&!k.nextSibling&&k!==x;)k=k.parentNode;R=k==null?void 0:k.nextSibling}k=R}while(k&&k!==x)}},o.getSelectionWrappers=m,o.clearSelectionWrappers=function(g){m(g).forEach(function(v){return d.Dom.unwrap(v)})},o.clearSelectionWrappersFromHTML=function(g){return g.replace(RegExp("<span[^>]+".concat(p,"[^>]+>(.*?)</span>"),"g"),"$1")},o.isSelectionWrapper=f},59535:function(){},14889:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.search=void 0;var u=s(20255),d=s(64968),h=s(57549),p=s(43441),m=s(72235),f=s(40332),g=s(17332),v=s(73934);s(61975);var S=function(x){function b(){var _=x!==null&&x.apply(this,arguments)||this;return _.buttons=[{name:"find",group:"search"}],_.previousQuery="",_.drawPromise=null,_.walker=null,_.walkerCount=null,_.cache={},_.wrapFrameRequest=0,_}return u.__extends(b,x),Object.defineProperty(b.prototype,"ui",{get:function(){return new m.UISearch(this.j)},enumerable:!1,configurable:!0}),b.prototype.updateCounters=function(){return u.__awaiter(this,void 0,Promise,function(){var _;return u.__generator(this,function(w){switch(w.label){case 0:return this.ui.isOpened?(_=this.ui,[4,this.calcCounts(this.ui.query)]):[2];case 1:return _.count=w.sent(),[2]}})})},b.prototype.onPressReplaceButton=function(){this.findAndReplace(this.ui.query),this.updateCounters()},b.prototype.tryScrollToElement=function(_){var w=d.Dom.closest(_,d.Dom.isElement,this.j.editor);w||(w=d.Dom.prev(_,d.Dom.isElement,this.j.editor)),w&&w!==this.j.editor&&(0,f.scrollIntoViewIfNeeded)(w,this.j.editor,this.j.ed)},b.prototype.calcCounts=function(_){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(w){switch(w.label){case 0:return[4,this.findQueryBounds(_,"walkerCount")];case 1:return[2,w.sent().length]}})})},b.prototype.findQueryBounds=function(_,w){return u.__awaiter(this,void 0,Promise,function(){var C;return u.__generator(this,function(E){return(C=this[w])&&C.break(),C=new d.LazyWalker(this.j.async,{timeout:this.j.o.search.lazyIdleTimeout}),this[w]=C,[2,this.find(C,_).catch(function(A){return[]})]})})},b.prototype.findAndReplace=function(_){return u.__awaiter(this,void 0,Promise,function(){var w,C,E,A,T;return u.__generator(this,function(M){switch(M.label){case 0:return[4,this.findQueryBounds(_,"walker")];case 1:if(!(w=M.sent()).length)return[2,!1];if((C=this.findCurrentIndexInRanges(w,this.j.s.range))===-1&&(C=0),!(E=w[C]))return[3,6];M.label=2;case 2:return M.trys.push([2,,4,5]),(A=this.j.ed.createRange()).setStart(E.startContainer,E.startOffset),A.setEnd(E.endContainer,E.endOffset),A.deleteContents(),T=this.j.createInside.text(this.ui.replace),d.Dom.safeInsertNode(A,T),(0,v.clearSelectionWrappers)(this.j.editor),this.j.s.setCursorAfter(T),this.tryScrollToElement(T),this.cache={},this.ui.currentIndex=C,[4,this.findAndSelect(_,!0).catch(function(j){return null})];case 3:return M.sent(),[3,5];case 4:return this.j.synchronizeValues(),[7];case 5:return this.j.e.fire("afterFindAndReplace"),[2,!0];case 6:return[2,!1]}})})},b.prototype.findAndSelect=function(_,w){var C;return u.__awaiter(this,void 0,Promise,function(){var E,A,T,M;return u.__generator(this,function(j){switch(j.label){case 0:return[4,this.findQueryBounds(_,"walker")];case 1:if(!(E=j.sent()).length)return[2,!1];if(this.previousQuery===_&&(0,v.getSelectionWrappers)(this.j.editor).length||((C=this.drawPromise)===null||C===void 0||C.rejectCallback(),this.j.async.cancelAnimationFrame(this.wrapFrameRequest),(0,v.clearSelectionWrappers)(this.j.editor),this.drawPromise=this.drawSelectionRanges(E)),this.previousQuery=_,this.ui.currentIndex=(A=(A=this.ui.currentIndex-1)==-1?0:w?A===E.length-1?0:A+1:A===0?E.length-1:A-1)+1,!(T=E[A]))return[3,4];M=this.j.ed.createRange();try{M.setStart(T.startContainer,T.startOffset),M.setEnd(T.endContainer,T.endOffset),this.j.s.selectRange(M)}catch{}return this.tryScrollToElement(T.startContainer),[4,this.updateCounters()];case 2:return j.sent(),[4,this.drawPromise];case 3:return j.sent(),this.j.e.fire("afterFindAndSelect"),[2,!0];case 4:return[2,!1]}})})},b.prototype.findCurrentIndexInRanges=function(_,w){return _.findIndex(function(C){return C.startContainer===w.startContainer&&C.startOffset===w.startOffset&&C.endContainer===w.startContainer&&C.endOffset===w.endOffset})},b.prototype.isValidCache=function(_){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(w){switch(w.label){case 0:return[4,_];case 1:return[2,w.sent().every(function(C){var E,A,T,M;return C.startContainer.isConnected&&C.startOffset<=((A=(E=C.startContainer.nodeValue)===null||E===void 0?void 0:E.length)!==null&&A!==void 0?A:0)&&C.endContainer.isConnected&&C.endOffset<=((M=(T=C.endContainer.nodeValue)===null||T===void 0?void 0:T.length)!==null&&M!==void 0?M:0)})]}})})},b.prototype.find=function(_,w){return u.__awaiter(this,void 0,Promise,function(){var C,E,A=this;return u.__generator(this,function(T){switch(T.label){case 0:return w.length?(E=C=this.cache[w])?[4,this.isValidCache(C)]:[3,2]:[2,[]];case 1:E=T.sent(),T.label=2;case 2:return E?[2,C]:(this.cache[w]=this.j.async.promise(function(M){var j=new v.SentenceFinder(A.j.o.search.fuzzySearch);_.on("break",function(){M([])}).on("visit",function(P){return d.Dom.isText(P)&&j.add(P),!1}).on("end",function(){var P;M((P=j.ranges(w))!==null&&P!==void 0?P:[])}).setWork(A.j.editor)}),[2,this.cache[w]])}})})},b.prototype.drawSelectionRanges=function(_){var w=this,C=this.j,E=C.async,A=C.createInside,T=C.editor;E.cancelAnimationFrame(this.wrapFrameRequest);var M,j=u.__spreadArray([],u.__read(_),!1),P=0;return E.promise(function(I){var k=function(){do(M=j.shift())&&(0,v.wrapRangesTextsInTmpSpan)(M,j,A,T),P+=1;while(M&&5>=P);j.length?w.wrapFrameRequest=E.requestAnimationFrame(k):I()};k()})},b.prototype.onAfterGetValueFromEditor=function(_){_.value=(0,v.clearSelectionWrappersFromHTML)(_.value)},b.prototype.afterInit=function(_){var w=this;if(_.o.useSearch){var C=this;_.e.on("beforeSetMode.search",function(){w.ui.close()}).on(this.ui,"afterClose",function(){(0,v.clearSelectionWrappers)(_.editor),w.ui.currentIndex=0,w.ui.count=0,w.cache={}}).on("click",function(){w.ui.currentIndex=0,(0,v.clearSelectionWrappers)(_.editor)}).on("change.search",function(){w.cache={}}).on("keydown.search mousedown.search",_.async.debounce(function(){w.ui.selInfo&&(_.s.removeMarkers(),w.ui.selInfo=null),w.ui.isOpened&&w.updateCounters()},_.defaultTimeout)).on("searchNext.search searchPrevious.search",function(){return w.ui.isOpened||w.ui.open(),C.findAndSelect(C.ui.query,_.e.current==="searchNext").catch(function(E){})}).on("search.search",function(E,A){return A===void 0&&(A=!0),w.ui.currentIndex=0,C.findAndSelect(E||"",A).catch(function(T){})}),_.registerCommand("search",{exec:function(E,A,T){return T===void 0&&(T=!0),A&&C.findAndSelect(A,T).catch(function(M){}),!1}}).registerCommand("openSearchDialog",{exec:function(E,A){return C.ui.open(A),!1},hotkeys:["ctrl+f","cmd+f"]}).registerCommand("openReplaceDialog",{exec:function(E,A,T){return _.o.readonly||C.ui.open(A,T,!0),!1},hotkeys:["ctrl+h","cmd+h"]})}},b.prototype.beforeDestruct=function(_){this.ui.destruct(),_.e.off(".search")},u.__decorate([p.cache],b.prototype,"ui",null),u.__decorate([(0,p.watch)("ui:needUpdateCounters")],b.prototype,"updateCounters",null),u.__decorate([(0,p.watch)("ui:pressReplaceButton")],b.prototype,"onPressReplaceButton",null),u.__decorate([p.autobind],b.prototype,"findQueryBounds",null),u.__decorate([p.autobind],b.prototype,"findAndReplace",null),u.__decorate([p.autobind],b.prototype,"findAndSelect",null),u.__decorate([p.autobind],b.prototype,"find",null),u.__decorate([(0,p.watch)(":afterGetValueFromEditor")],b.prototype,"onAfterGetValueFromEditor",null),b}(h.Plugin);o.search=S,g.pluginSystem.add("search",S)},72235:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.UISearch=void 0;var u=s(20255);s(88582);var d=s(2074),h=s(40332),p=s(86893),m=s(86893),f=s(43441),g=s(64968),v=function(S){function x(b){var _=S.call(this,b)||this;_.selInfo=null,_._currentIndex=0,_.isOpened=!1;var w=(0,h.refs)(_.container),C=w.replace,E=w.cancel,A=w.next,T=w.prev,M=w.replaceBtn,j=w.current,P=w.count;return _.queryInput=w.query,_.replaceInput=C,_.closeButton=E,_.replaceButton=M,_.currentBox=j,_.countBox=P,b.e.on(_.closeButton,"pointerdown",function(){return _.close(),!1}).on(_.queryInput,"input",function(){_.currentIndex=0}).on(_.queryInput,"pointerdown",function(){b.s.isFocused()&&(b.s.removeMarkers(),_.selInfo=b.s.save())}).on(_.replaceButton,"pointerdown",function(){return b.e.fire(_,"pressReplaceButton"),!1}).on(A,"pointerdown",function(){return b.e.fire("searchNext"),!1}).on(T,"pointerdown",function(){return b.e.fire("searchPrevious"),!1}).on(_.queryInput,"input",function(){_.setMod("empty-query",!(0,h.trim)(_.queryInput.value).length)}).on(_.queryInput,"keydown",_.j.async.debounce(function(I){I.key===m.KEY_ENTER?(I.preventDefault(),I.stopImmediatePropagation(),b.e.fire("searchNext")&&_.close()):b.e.fire(_,"needUpdateCounters")},_.j.defaultTimeout)),_}return u.__extends(x,S),x.prototype.className=function(){return"UISearch"},x.prototype.render=function(){return`<div>
			<div class="&__box">
				<div class="&__inputs">
					<input data-ref="query" tabindex="0" placeholder="~Search for~" type="text"/>
					<input data-ref="replace" tabindex="0" placeholder="~Replace with~" type="text"/>
				</div>
				<div class="&__counts">
					<span data-ref="counter-box">
						<span data-ref="current">0</span><span>/</span><span data-ref="count">0</span>
					</span>
				</div>
				<div class="&__buttons">
					<button data-ref="next" tabindex="0" type="button">`.concat(d.Icon.get("angle-down"),`</button>
					<button data-ref="prev" tabindex="0" type="button">`).concat(d.Icon.get("angle-up"),`</button>
					<button data-ref="cancel" tabindex="0" type="button">`).concat(d.Icon.get("cancel"),`</button>
					<button data-ref="replace-btn" tabindex="0" type="button" class="jodit-ui-button">~Replace~</button>
				</div>
			</div>
		</div>`)},Object.defineProperty(x.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(b){this._currentIndex=b,this.currentBox.innerText=b.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"count",{set:function(b){this.countBox.innerText=b.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"query",{get:function(){return this.queryInput.value},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"replace",{get:function(){return this.replaceInput.value},enumerable:!1,configurable:!0}),x.prototype.onEditorKeyDown=function(b){if(this.isOpened){var _=this.j;if(_.getRealMode()===p.MODE_WYSIWYG)switch(b.key){case m.KEY_ESC:this.close();break;case m.KEY_F3:this.queryInput.value&&(_.e.fire(b.shiftKey?"searchPrevious":"searchNext"),b.preventDefault())}}},x.prototype.open=function(b,_,w){w===void 0&&(w=!1),this.isOpened||(this.j.workplace.appendChild(this.container),this.isOpened=!0),this.calcSticky(this.j.e.fire("getStickyState.sticky")||!1),this.j.e.fire("hidePopup"),this.setMod("replace",w);var C=b??(this.j.s.sel||"").toString();C&&(this.queryInput.value=C),_&&(this.replaceInput.value=_),this.setMod("empty-query",!C.length),this.j.e.fire(this,"needUpdateCounters"),C?this.queryInput.select():this.queryInput.focus()},x.prototype.close=function(){this.isOpened&&(this.j.s.restore(),g.Dom.safeRemove(this.container),this.isOpened=!1,this.j.e.fire(this,"afterClose"))},x.prototype.calcSticky=function(b){if(this.isOpened)if(this.setMod("sticky",b),b){var _=(0,h.position)(this.j.toolbarContainer);(0,h.css)(this.container,{top:_.top+_.height,left:_.left+_.width})}else(0,h.css)(this.container,{top:null,left:null})},u.__decorate([(0,f.watch)([":keydown","queryInput:keydown"])],x.prototype,"onEditorKeyDown",null),u.__decorate([f.autobind],x.prototype,"open",null),u.__decorate([f.autobind],x.prototype,"close",null),u.__decorate([(0,f.watch)(":toggleSticky")],x.prototype,"calcSticky",null),u.__decorate([f.component],x)}(d.UIElement);o.UISearch=v},14189:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.tableAllowCellSelection=!0},37458:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.selectCells=void 0;var u=s(20255),d=s(57549),h=s(87837),p=s(24263),m=s(40332),f=s(86893),g=s(43441),v=s(17332);s(14189);var S="table_processor_observer",x="onMoveTableSelectCell",b=function(_){function w(){var C=_!==null&&_.apply(this,arguments)||this;return C.requires=["select"],C.selectedCell=null,C.isSelectionMode=!1,C}return u.__extends(w,_),Object.defineProperty(w.prototype,"module",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),w.prototype.afterInit=function(C){var E=this;C.o.tableAllowCellSelection&&C.e.on("keydown.select-cells",function(A){A.key===f.KEY_TAB&&E.unselectCells()}).on("beforeCommand.select-cells",this.onExecCommand).on("afterCommand.select-cells",this.onAfterCommand).on(["clickEditor","mousedownTd","mousedownTh","touchstartTd","touchstartTh"].map(function(A){return A+".select-cells"}).join(" "),this.onStartSelection).on("clickTr clickTbody",function(){var A,T=E.module.getAllSelectedCells().length;if(T)return T>1&&((A=E.j.s.sel)===null||A===void 0||A.removeAllRanges()),!1})},w.prototype.onStartSelection=function(C){if(!this.j.o.readonly&&(this.unselectCells(),C!==this.j.editor)){var E=p.Dom.closest(C,"table",this.j.editor);if(C&&E)return C.firstChild||C.appendChild(this.j.createInside.element("br")),this.isSelectionMode=!0,this.selectedCell=C,this.module.addSelection(C),this.j.e.on(E,"mousemove.select-cells touchmove.select-cells",this.j.async.throttle(this.onMove.bind(this,E),{label:x,timeout:this.j.defaultTimeout/2})).on(E,"mouseup.select-cells touchend.select-cells",this.onStopSelection.bind(this,E)),!1}},w.prototype.onOutsideClick=function(){this.selectedCell=null,this.onRemoveSelection()},w.prototype.onChange=function(){this.j.isLocked||this.isSelectionMode||this.onRemoveSelection()},w.prototype.onMove=function(C,E){var A,T=this;if((!this.j.o.readonly||this.j.isLocked)&&!this.j.isLockedNotBy(S)){var M=this.j.ed.elementFromPoint(E.clientX,E.clientY);if(M){var j=p.Dom.closest(M,["td","th"],C);if(j&&this.selectedCell){j!==this.selectedCell&&this.j.lock(S),this.unselectCells();for(var P=h.Table.getSelectedBound(C,[j,this.selectedCell]),I=h.Table.formalMatrix(C),k=P[0][0];P[1][0]>=k;k+=1)for(var R=P[0][1];P[1][1]>=R;R+=1)this.module.addSelection(I[k][R]);var O;this.module.getAllSelectedCells().length>1&&((A=this.j.s.sel)===null||A===void 0||A.removeAllRanges()),this.j.e.fire("hidePopup"),E.stopPropagation(),O=T.j.createInside.fromHTML('<div style="color:rgba(0,0,0,0.01);width:0;height:0">&nbsp;</div>'),j.appendChild(O),T.j.async.setTimeout(function(){var D;(D=O.parentNode)===null||D===void 0||D.removeChild(O)},T.j.defaultTimeout/5)}}}},w.prototype.onRemoveSelection=function(C){var E;if(!(!((E=C==null?void 0:C.buffer)===null||E===void 0)&&E.actionTrigger)&&!this.selectedCell&&this.module.getAllSelectedCells().length)return this.j.unlock(),this.unselectCells(),void this.j.e.fire("hidePopup","cells");this.isSelectionMode=!1,this.selectedCell=null},w.prototype.onStopSelection=function(C,E){var A=this;if(this.selectedCell){this.isSelectionMode=!1,this.j.unlock();var T=this.j.ed.elementFromPoint(E.clientX,E.clientY);if(T){var M=p.Dom.closest(T,["td","th"],C);if(M){var j=p.Dom.closest(M,"table",C);if(!j||j===C){var P=h.Table.getSelectedBound(C,[M,this.selectedCell]),I=h.Table.formalMatrix(C),k=I[P[1][0]][P[1][1]],R=I[P[0][0]][P[0][1]];this.j.e.fire("showPopup",C,function(){var O=(0,m.position)(R,A.j),D=(0,m.position)(k,A.j);return{left:O.left,top:O.top,width:D.left-O.left+D.width,height:D.top-O.top+D.height}},"cells"),(0,m.$$)("table",this.j.editor).forEach(function(O){A.j.e.off(O,"mousemove.select-cells touchmove.select-cells mouseup.select-cells touchend.select-cells")}),this.j.async.clearTimeout(x)}}}}},w.prototype.unselectCells=function(C){var E=this.module,A=E.getAllSelectedCells();A.length&&A.forEach(function(T){C&&C===T||E.removeSelection(T)})},w.prototype.onExecCommand=function(C){if(/table(splitv|splitg|merge|empty|bin|binrow|bincolumn|addcolumn|addrow)/.test(C)){C=C.replace("table","");var E=this.module.getAllSelectedCells();if(E.length){var A=u.__read(E,1)[0];if(!A)return;var T=p.Dom.closest(A,"table",this.j.editor);if(!T)return;switch(C){case"splitv":h.Table.splitVertical(T,this.j);break;case"splitg":h.Table.splitHorizontal(T,this.j);break;case"merge":h.Table.mergeSelected(T,this.j);break;case"empty":E.forEach(function(j){return p.Dom.detach(j)});break;case"bin":p.Dom.safeRemove(T);break;case"binrow":new Set(E.map(function(j){return j.parentNode})).forEach(function(j){h.Table.removeRow(T,j.rowIndex)});break;case"bincolumn":var M=new Set;E.reduce(function(j,P){return M.has(P.cellIndex)||(j.push(P),M.add(P.cellIndex)),j},[]).forEach(function(j){h.Table.removeColumn(T,j.cellIndex)});break;case"addcolumnafter":case"addcolumnbefore":h.Table.appendColumn(T,A.cellIndex,C==="addcolumnafter",this.j.createInside);break;case"addrowafter":case"addrowbefore":h.Table.appendRow(T,A.parentNode,C==="addrowafter",this.j.createInside)}}return!1}},w.prototype.onAfterCommand=function(C){/^justify/.test(C)&&this.module.getAllSelectedCells().forEach(function(E){return(0,m.alignElement)(C,E)})},w.prototype.beforeDestruct=function(C){this.onRemoveSelection(),C.e.off(".select-cells")},u.__decorate([g.autobind],w.prototype,"onStartSelection",null),u.__decorate([(0,g.watch)(":outsideClick")],w.prototype,"onOutsideClick",null),u.__decorate([(0,g.watch)(":change")],w.prototype,"onChange",null),u.__decorate([g.autobind],w.prototype,"onRemoveSelection",null),u.__decorate([g.autobind],w.prototype,"onStopSelection",null),u.__decorate([g.autobind],w.prototype,"onExecCommand",null),u.__decorate([g.autobind],w.prototype,"onAfterCommand",null),w}(d.Plugin);o.selectCells=b,v.pluginSystem.add("selectCells",b)},33100:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.select={normalizeSelectionBeforeCutAndCopy:!1}},95323:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.select=void 0;var u=s(20255),d=s(57549),h=s(43441),p=s(26596),m=s(24263),f=s(2074),g=s(17332);s(33100);var v=function(S){function x(){var b=S!==null&&S.apply(this,arguments)||this;return b.proxyEventsList=["click","mousedown","touchstart","mouseup","touchend"],b}return u.__extends(x,S),x.prototype.afterInit=function(b){var _=this;this.proxyEventsList.forEach(function(w){b.e.on(w+".select",_.onStartSelection)})},x.prototype.beforeDestruct=function(b){var _=this;this.proxyEventsList.forEach(function(w){b.e.on(w+".select",_.onStartSelection)})},x.prototype.onStartSelection=function(b){for(var _,w=this.j,C=b.target;_===void 0&&C&&C!==w.editor;)_=w.e.fire((0,p.camelCase)(b.type+"_"+C.nodeName.toLowerCase()),C,b),C=C.parentElement;b.type==="click"&&_===void 0&&C===w.editor&&w.e.fire(b.type+"Editor",C,b)},x.prototype.onOutsideClick=function(b){var _=this,w=b.target;m.Dom.up(w,function(C){return C===_.j.editor})||f.UIElement.closestElement(w,f.Popup)||this.j.e.fire("outsideClick",b)},x.prototype.beforeCommandCut=function(b){var _=this.j.s;if(b==="cut"&&!_.isCollapsed()){var w=_.current();w&&m.Dom.isOrContains(this.j.editor,w)&&this.onCopyNormalizeSelectionBound()}},x.prototype.onCopyNormalizeSelectionBound=function(b){var _=this.j,w=_.editor;_.o.select.normalizeSelectionBeforeCutAndCopy&&!_.s.isCollapsed()&&(!b||b.isTrusted&&m.Dom.isNode(b.target)&&m.Dom.isOrContains(w,b.target))&&this.jodit.s.expandSelection()},u.__decorate([h.autobind],x.prototype,"onStartSelection",null),u.__decorate([(0,h.watch)("ow:click")],x.prototype,"onOutsideClick",null),u.__decorate([(0,h.watch)([":beforeCommand"])],x.prototype,"beforeCommandCut",null),u.__decorate([(0,h.watch)([":copy",":cut"])],x.prototype,"onCopyNormalizeSelectionBound",null),x}(d.Plugin);o.select=v,g.pluginSystem.add("select",v)},53387:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.minWidth=200,u.Config.prototype.maxWidth="100%",u.Config.prototype.minHeight=200,u.Config.prototype.maxHeight="auto",u.Config.prototype.saveHeightInStorage=!1},71003:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.size=void 0;var u=s(20255);s(30962);var d=s(61817),h=s(26911),p=s(85605),m=s(43441),f=s(17332);s(53387);var g=function(v){function S(){var x=v!==null&&v.apply(this,arguments)||this;return x.__resizeWorkspaces=x.j.async.debounce(x.__resizeWorkspaceImd,x.j.defaultTimeout,!0),x}return u.__extends(S,v),S.prototype.afterInit=function(x){x.e.on("setHeight.size",this.__setHeight).on("setWidth.size",this.__setWidth).on("afterInit.size changePlace.size",this.__initialize,{top:!0}).on(x.ow,"load.size",this.__resizeWorkspaces).on("afterInit.size resize.size afterUpdateToolbar.size scroll.size afterResize.size",this.__resizeWorkspaces).on("toggleFullSize.size toggleToolbar.size",this.__resizeWorkspaceImd),this.__initialize()},S.prototype.__initialize=function(){var x=this.j;if(!x.o.inline){var b=x.o.height;if(x.o.saveHeightInStorage&&b!=="auto"){var _=x.storage.get("height");_&&(b=_)}(0,h.css)(x.editor,{minHeight:"100%"}),(0,h.css)(x.container,{minHeight:x.o.minHeight,maxHeight:x.o.maxHeight,minWidth:x.o.minWidth,maxWidth:x.o.maxWidth}),this.__setHeight(b),this.__setWidth(x.o.width)}},S.prototype.__setHeight=function(x){if((0,d.isNumber)(x)){var b=this.j.o,_=b.minHeight,w=b.maxHeight;(0,d.isNumber)(_)&&_>x&&(x=_),(0,d.isNumber)(w)&&x>w&&(x=w)}(0,h.css)(this.j.container,"height",x),this.j.o.saveHeightInStorage&&this.j.storage.set("height",x),this.__resizeWorkspaceImd()},S.prototype.__setWidth=function(x){if((0,d.isNumber)(x)){var b=this.j.o,_=b.minWidth,w=b.maxWidth;(0,d.isNumber)(_)&&_>x&&(x=_),(0,d.isNumber)(w)&&x>w&&(x=w)}(0,h.css)(this.j.container,"width",x),this.__resizeWorkspaceImd()},S.prototype.__getNotWorkHeight=function(){var x,b;return(((x=this.j.toolbarContainer)===null||x===void 0?void 0:x.offsetHeight)||0)+(((b=this.j.statusbar)===null||b===void 0?void 0:b.getHeight())||0)+2},S.prototype.__resizeWorkspaceImd=function(){if(this.j&&!this.j.isDestructed&&this.j.o&&!this.j.o.inline&&this.j.container&&this.j.container.parentNode){var x=((0,h.css)(this.j.container,"minHeight")||0)-this.__getNotWorkHeight();if((0,d.isNumber)(x)&&x>0&&([this.j.workplace,this.j.iframe,this.j.editor].map(function(_){_&&(0,h.css)(_,"minHeight",x)}),this.j.e.fire("setMinHeight",x)),(0,d.isNumber)(this.j.o.maxHeight)){var b=this.j.o.maxHeight-this.__getNotWorkHeight();[this.j.workplace,this.j.iframe,this.j.editor].map(function(_){_&&(0,h.css)(_,"maxHeight",b)}),this.j.e.fire("setMaxHeight",b)}this.j.container&&(0,h.css)(this.j.workplace,"height",this.j.o.height!=="auto"||this.j.isFullSize?this.j.container.offsetHeight-this.__getNotWorkHeight():"auto")}},S.prototype.beforeDestruct=function(x){x.e.off(x.ow,"load.size",this.__resizeWorkspaces).off(".size")},u.__decorate([(0,m.throttle)()],S.prototype,"__initialize",null),u.__decorate([m.autobind],S.prototype,"__resizeWorkspaceImd",null),u.__decorate([m.autobind],S)}(p.Plugin);o.size=g,f.pluginSystem.add("size",g)},13985:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(86893),h=s(77904);u.Config.prototype.beautifyHTML=!d.IS_IE,u.Config.prototype.sourceEditor="ace",u.Config.prototype.sourceEditorNativeOptions={showGutter:!0,theme:"ace/theme/idle_fingers",mode:"ace/mode/html",wrap:!0,highlightActiveLine:!0},u.Config.prototype.sourceEditorCDNUrlsJS=["https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js"],u.Config.prototype.beautifyHTMLCDNUrlsJS=["https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.4/beautify.min.js","https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.4/beautify-html.min.js"],h.Icon.set("source",s(9342)),u.Config.prototype.controls.source={mode:d.MODE_SPLIT,exec:function(p){p.toggleMode()},isActive:function(p){return p.getRealMode()===d.MODE_SOURCE},tooltip:"Change mode"}},34186:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.AceEditor=void 0;var u=s(20255),d=s(86893),h=s(40332),p=function(m){function f(){var g=m!==null&&m.apply(this,arguments)||this;return g.className="jodit_ace_editor",g.proxyOnBlur=function(v){g.j.e.fire("blur",v)},g.proxyOnFocus=function(v){g.j.e.fire("focus",v)},g.proxyOnMouseDown=function(v){g.j.e.fire("mousedown",v)},g}return u.__extends(f,m),f.prototype.aceExists=function(){return this.j.ow.ace!==void 0},f.prototype.getLastColumnIndex=function(g){return this.instance.session.getLine(g).length},f.prototype.getLastColumnIndices=function(){for(var g=this.instance.session.getLength(),v=[],S=0,x=0;g>x;x++)S+=this.getLastColumnIndex(x),x>0&&(S+=1),v[x]=S;return v},f.prototype.getRowColumnIndices=function(g){var v=this.getLastColumnIndices();if(v[0]>=g)return{row:0,column:g};for(var S=1,x=1;v.length>x;x++)g>v[x]&&(S=x+1);return{row:S,column:g-v[S-1]-1}},f.prototype.setSelectionRangeIndices=function(g,v){var S=this.getRowColumnIndices(g),x=this.getRowColumnIndices(v);this.instance.getSelection().setSelectionRange({start:S,end:x})},f.prototype.getIndexByRowColumn=function(g,v){return this.getLastColumnIndices()[g]-this.getLastColumnIndex(g)+v},f.prototype.init=function(g){var v=this,S=function(){if(v.instance===void 0&&v.aceExists()){var x=v.j.c.div("jodit-source__mirror-fake");v.container.appendChild(x),v.instance=g.ow.ace.edit(x),v.instance.setTheme(g.o.sourceEditorNativeOptions.theme),v.instance.renderer.setShowGutter(g.o.sourceEditorNativeOptions.showGutter),v.instance.getSession().setMode(g.o.sourceEditorNativeOptions.mode),v.instance.setHighlightActiveLine(g.o.sourceEditorNativeOptions.highlightActiveLine),v.instance.getSession().setUseWrapMode(!0),v.instance.setOption("indentedSoftWrap",!1),v.instance.setOption("wrap",g.o.sourceEditorNativeOptions.wrap),v.instance.getSession().setUseWorker(!1),v.instance.$blockScrolling=1/0,v.instance.on("change",v.toWYSIWYG),v.instance.on("focus",v.proxyOnFocus),v.instance.on("mousedown",v.proxyOnMouseDown),v.instance.on("blur",v.proxyOnBlur),g.getRealMode()!==d.MODE_WYSIWYG&&v.setValue(v.getValue());var b=v.j.async.debounce(function(){g.isInDestruct||(v.instance.setOption("maxLines",g.o.height!=="auto"?g.workplace.offsetHeight/v.instance.renderer.lineHeight:1/0),v.instance.resize())},2*v.j.defaultTimeout);g.e.on("afterResize afterSetMode",b),b(),v.onReady()}};g.e.on("afterSetMode",function(){g.getRealMode()!==d.MODE_SOURCE&&g.getMode()!==d.MODE_SPLIT||(v.fromWYSIWYG(),S())}),S(),this.aceExists()||(0,h.loadNext)(g,g.o.sourceEditorCDNUrlsJS).then(function(){g.isInDestruct||S()}).catch(function(){return null})},f.prototype.destruct=function(){var g,v;this.instance.off("change",this.toWYSIWYG),this.instance.off("focus",this.proxyOnFocus),this.instance.off("mousedown",this.proxyOnMouseDown),this.instance.destroy(),(v=(g=this.j)===null||g===void 0?void 0:g.events)===null||v===void 0||v.off("aceInited.source")},f.prototype.setValue=function(g){if(!this.j.o.editHTMLDocumentMode&&this.j.o.beautifyHTML){var v=this.j.e.fire("beautifyHTML",g);(0,h.isString)(v)&&(g=v)}this.instance.setValue(g),this.instance.clearSelection()},f.prototype.getValue=function(){return this.instance.getValue()},f.prototype.setReadOnly=function(g){this.instance.setReadOnly(g)},Object.defineProperty(f.prototype,"isFocused",{get:function(){return this.instance.isFocused()},enumerable:!1,configurable:!0}),f.prototype.focus=function(){this.instance.focus()},f.prototype.blur=function(){this.instance.blur()},f.prototype.getSelectionStart=function(){var g=this.instance.selection.getRange();return this.getIndexByRowColumn(g.start.row,g.start.column)},f.prototype.getSelectionEnd=function(){var g=this.instance.selection.getRange();return this.getIndexByRowColumn(g.end.row,g.end.column)},f.prototype.selectAll=function(){this.instance.selection.selectAll()},f.prototype.insertRaw=function(g){var v=this.instance.selection.getCursor(),S=this.instance.session.insert(v,g);this.instance.selection.setRange({start:v,end:S},!1)},f.prototype.setSelectionRange=function(g,v){this.setSelectionRangeIndices(g,v)},f.prototype.setPlaceHolder=function(g){},f.prototype.replaceUndoManager=function(){var g=this.jodit.history;this.instance.commands.addCommand({name:"Undo",bindKey:{win:"Ctrl-Z",mac:"Command-Z"},exec:function(){g.undo()}}),this.instance.commands.addCommand({name:"Redo",bindKey:{win:"Ctrl-Shift-Z",mac:"Command-Shift-Z"},exec:function(){g.redo()}})},f}(s(36729).SourceEditor);o.AceEditor=p},58633:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.TextAreaEditor=void 0;var u=s(20255),d=s(26911),h=s(24263),p=function(m){function f(){var g=m!==null&&m.apply(this,arguments)||this;return g.autosize=g.j.async.debounce(function(){g.instance.style.height="auto",g.instance.style.height=g.instance.scrollHeight+"px"},g.j.defaultTimeout),g}return u.__extends(f,m),f.prototype.init=function(g){var v=this;this.instance=g.c.element("textarea",{class:"jodit-source__mirror"}),this.container.appendChild(this.instance),g.e.on(this.instance,"mousedown keydown touchstart input",g.async.debounce(this.toWYSIWYG,g.defaultTimeout)).on("setMinHeight.source",function(S){(0,d.css)(v.instance,"minHeight",S)}).on(this.instance,"change keydown mousedown touchstart input",this.autosize).on("afterSetMode.source",this.autosize).on(this.instance,"mousedown focus",function(S){g.e.fire(S.type,S)}),this.autosize(),this.onReady()},f.prototype.destruct=function(){h.Dom.safeRemove(this.instance)},f.prototype.getValue=function(){return this.instance.value},f.prototype.setValue=function(g){this.instance.value=g},f.prototype.insertRaw=function(g){var v=this.getValue();if(0>this.getSelectionStart())this.setValue(v+g);else{var S=this.getSelectionStart(),x=this.getSelectionEnd();this.setValue(v.substring(0,S)+g+v.substring(x,v.length))}},f.prototype.getSelectionStart=function(){return this.instance.selectionStart},f.prototype.getSelectionEnd=function(){return this.instance.selectionEnd},f.prototype.setSelectionRange=function(g,v){v===void 0&&(v=g),this.instance.setSelectionRange(g,v)},Object.defineProperty(f.prototype,"isFocused",{get:function(){return this.instance===this.j.od.activeElement},enumerable:!1,configurable:!0}),f.prototype.focus=function(){this.instance.focus()},f.prototype.blur=function(){this.instance.blur()},f.prototype.setPlaceHolder=function(g){this.instance.setAttribute("placeholder",g)},f.prototype.setReadOnly=function(g){g?this.instance.setAttribute("readonly","true"):this.instance.removeAttribute("readonly")},f.prototype.selectAll=function(){this.instance.select()},f.prototype.replaceUndoManager=function(){var g=this,v=this.jodit.history;this.j.e.on(this.instance,"keydown",function(S){if((S.ctrlKey||S.metaKey)&&S.key==="z")return S.shiftKey?v.redo():v.undo(),g.setSelectionRange(g.getValue().length),!1})},f}(s(36729).SourceEditor);o.TextAreaEditor=p},52834:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(58633),o),u.__exportStar(s(34186),o)},94785:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.createSourceEditor=void 0;var u=s(40332),d=s(52834);o.createSourceEditor=function(h,p,m,f,g){var v;if((0,u.isFunction)(h))v=h(p);else switch(h){case"ace":if(!p.o.shadowRoot){v=new d.AceEditor(p,m,f,g);break}default:v=new d.TextAreaEditor(p,m,f,g)}return v.init(p),v.onReadyAlways(function(){v.setReadOnly(p.o.readonly)}),v}},36729:function(l,o){Object.defineProperty(o,"__esModule",{value:!0}),o.SourceEditor=void 0;var s=function(){function u(d,h,p,m){this.jodit=d,this.container=h,this.toWYSIWYG=p,this.fromWYSIWYG=m,this.className="",this.isReady=!1}return Object.defineProperty(u.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),u.prototype.onReady=function(){this.replaceUndoManager(),this.isReady=!0,this.j.e.fire(this,"ready")},u.prototype.onReadyAlways=function(d){var h;this.isReady?d():(h=this.j.events)===null||h===void 0||h.on(this,"ready",d)},u}();o.SourceEditor=s},86030:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.source=void 0;var u=s(20255);s(68197);var d=s(86893),h=s(86893),p=s(57549),m=s(24263),f=s(40332),g=s(43441),v=s(17332),S=s(94785);s(13985);var x=function(b){function _(){var w=b!==null&&b.apply(this,arguments)||this;return w.buttons=[{name:"source",group:"source"}],w.__lock=!1,w.__oldMirrorValue="",w.tempMarkerStart="{start-jodit-selection}",w.tempMarkerStartReg=/{start-jodit-selection}/g,w.tempMarkerEnd="{end-jodit-selection}",w.tempMarkerEndReg=/{end-jodit-selection}/g,w.getSelectionStart=function(){var C,E;return(E=(C=w.sourceEditor)===null||C===void 0?void 0:C.getSelectionStart())!==null&&E!==void 0?E:0},w.getSelectionEnd=function(){var C,E;return(E=(C=w.sourceEditor)===null||C===void 0?void 0:C.getSelectionEnd())!==null&&E!==void 0?E:0},w}return u.__extends(_,b),_.prototype.onInsertHTML=function(w){var C;if(!this.j.o.readonly&&!this.j.isEditorMode())return(C=this.sourceEditor)===null||C===void 0||C.insertRaw(w),this.toWYSIWYG(),!1},_.prototype.fromWYSIWYG=function(w){if(w===void 0&&(w=!1),!this.__lock||w===!0){this.__lock=!0;var C=this.j.getEditorValue(!1,h.SOURCE_CONSUMER);C!==this.getMirrorValue()&&this.setMirrorValue(C),this.__lock=!1}},_.prototype.toWYSIWYG=function(){if(!this.__lock){var w=this.getMirrorValue();w!==this.__oldMirrorValue&&(this.__lock=!0,this.j.value=w,this.__lock=!1,this.__oldMirrorValue=w)}},_.prototype.getNormalPosition=function(w,C){for(C=C.replace(/<(script|style|iframe)[^>]*>[^]*?<\/\1>/im,function(A){for(var T="",M=0;A.length>M;M+=1)T+=h.INVISIBLE_SPACE;return T});w>0&&C[w]===h.INVISIBLE_SPACE;)w--;for(var E=w;E>0;){if(C[--E]==="<"&&C[E+1]!==void 0&&C[E+1].match(/[\w/]+/i))return E;if(C[E]===">")return w}return w},_.prototype.clnInv=function(w){return w.replace(d.INVISIBLE_SPACE_REG_EXP(),"")},_.prototype.onSelectAll=function(w){var C;if(w.toLowerCase()==="selectall"&&this.j.getRealMode()===h.MODE_SOURCE)return(C=this.sourceEditor)===null||C===void 0||C.selectAll(),!1},_.prototype.getMirrorValue=function(){var w;return((w=this.sourceEditor)===null||w===void 0?void 0:w.getValue())||""},_.prototype.setMirrorValue=function(w){var C;(C=this.sourceEditor)===null||C===void 0||C.setValue(w)},_.prototype.setFocusToMirror=function(){var w;(w=this.sourceEditor)===null||w===void 0||w.focus()},_.prototype.saveSelection=function(){if(this.j.getRealMode()===d.MODE_WYSIWYG)this.j.s.save(),this.j.synchronizeValues(),this.fromWYSIWYG(!0);else{if(this.j.o.editHTMLDocumentMode)return;var w=this.getMirrorValue();if(this.getSelectionStart()===this.getSelectionEnd()){var C=this.j.s.marker(!0),E=this.getNormalPosition(this.getSelectionStart(),this.getMirrorValue());this.setMirrorValue(w.substring(0,E)+this.clnInv(C.outerHTML)+w.substring(E))}else{var A=this.j.s.marker(!0),T=this.j.s.marker(!1),M=(E=this.getNormalPosition(this.getSelectionStart(),w),this.getNormalPosition(this.getSelectionEnd(),w));this.setMirrorValue(w.substring(0,E)+this.clnInv(A.outerHTML)+w.substring(E,M-E)+this.clnInv(T.outerHTML)+w.substring(M))}this.toWYSIWYG()}},_.prototype.removeSelection=function(){if(this.j.getRealMode()===d.MODE_WYSIWYG)return this.__lock=!0,this.j.s.restore(),void(this.__lock=!1);var w=this.getMirrorValue(),C=0,E=0;try{if(w=w.replace(/<span[^>]+data-jodit-selection_marker=(["'])start\1[^>]*>[<>]*?<\/span>/gim,this.tempMarkerStart).replace(/<span[^>]+data-jodit-selection_marker=(["'])end\1[^>]*>[<>]*?<\/span>/gim,this.tempMarkerEnd),!this.j.o.editHTMLDocumentMode&&this.j.o.beautifyHTML){var A=this.j.e.fire("beautifyHTML",w);(0,f.isString)(A)&&(w=A)}if(E=C=w.indexOf(this.tempMarkerStart),w=w.replace(this.tempMarkerStartReg,""),C!==-1){var T=w.indexOf(this.tempMarkerEnd);T!==-1&&(E=T)}w=w.replace(this.tempMarkerEndReg,"")}finally{w=w.replace(this.tempMarkerEndReg,"").replace(this.tempMarkerStartReg,"")}this.setMirrorValue(w),this.setMirrorSelectionRange(C,E),this.toWYSIWYG(),this.setFocusToMirror()},_.prototype.setMirrorSelectionRange=function(w,C){var E;(E=this.sourceEditor)===null||E===void 0||E.setSelectionRange(w,C)},_.prototype.onReadonlyReact=function(){var w;(w=this.sourceEditor)===null||w===void 0||w.setReadOnly(this.j.o.readonly)},_.prototype.afterInit=function(w){var C=this;if(this.mirrorContainer=w.c.div("jodit-source"),w.workplace.appendChild(this.mirrorContainer),w.e.on("afterAddPlace changePlace afterInit",function(){w.workplace.appendChild(C.mirrorContainer)}),this.sourceEditor=(0,S.createSourceEditor)("area",w,this.mirrorContainer,this.toWYSIWYG,this.fromWYSIWYG),w.e.on(w.ow,"keydown",function(A){var T;A.key===h.KEY_ESC&&(!((T=C.sourceEditor)===null||T===void 0)&&T.isFocused)&&C.sourceEditor.blur()}),this.onReadonlyReact(),w.e.on("placeholder.source",function(A){var T;(T=C.sourceEditor)===null||T===void 0||T.setPlaceHolder(A)}).on("change.source",this.syncValueFromWYSIWYG).on("beautifyHTML",function(A){return A}),w.o.beautifyHTML){var E=function(){var A,T=w.ow.html_beautify;return!(!T||w.isInDestruct||((A=w.events)===null||A===void 0||A.off("beautifyHTML").on("beautifyHTML",function(M){return T(M)}),0))};E()||(0,f.loadNext)(w,w.o.beautifyHTMLCDNUrlsJS).then(E)}this.syncValueFromWYSIWYG(!0),this.initSourceEditor(w)},_.prototype.syncValueFromWYSIWYG=function(w){w===void 0&&(w=!1);var C=this.j;C.getMode()!==h.MODE_SPLIT&&C.getMode()!==h.MODE_SOURCE||this.fromWYSIWYG(w)},_.prototype.initSourceEditor=function(w){var C,E=this;if(w.o.sourceEditor!=="area"){var A=(0,S.createSourceEditor)(w.o.sourceEditor,w,this.mirrorContainer,this.toWYSIWYG,this.fromWYSIWYG);A.onReadyAlways(function(){var T,M;(T=E.sourceEditor)===null||T===void 0||T.destruct(),E.sourceEditor=A,E.syncValueFromWYSIWYG(!0),(M=w.events)===null||M===void 0||M.fire("sourceEditorReady",w)})}else(C=this.sourceEditor)===null||C===void 0||C.onReadyAlways(function(){var T;E.syncValueFromWYSIWYG(!0),(T=w.events)===null||T===void 0||T.fire("sourceEditorReady",w)})},_.prototype.beforeDestruct=function(){this.sourceEditor&&(this.sourceEditor.destruct(),delete this.sourceEditor),m.Dom.safeRemove(this.mirrorContainer)},u.__decorate([(0,g.watch)(":insertHTML.source")],_.prototype,"onInsertHTML",null),u.__decorate([g.autobind],_.prototype,"fromWYSIWYG",null),u.__decorate([g.autobind],_.prototype,"toWYSIWYG",null),u.__decorate([g.autobind],_.prototype,"getNormalPosition",null),u.__decorate([(0,g.watch)(":beforeCommand.source")],_.prototype,"onSelectAll",null),u.__decorate([(0,g.watch)(":beforeSetMode.source")],_.prototype,"saveSelection",null),u.__decorate([(0,g.watch)(":afterSetMode.source")],_.prototype,"removeSelection",null),u.__decorate([g.autobind],_.prototype,"setMirrorSelectionRange",null),u.__decorate([(0,g.watch)(":readonly.source")],_.prototype,"onReadonlyReact",null),u.__decorate([g.autobind],_.prototype,"syncValueFromWYSIWYG",null),_}(p.Plugin);o.source=x,v.pluginSystem.add("source",x)},50876:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.spellcheck=!1,d.Icon.set("spellcheck",s(69546)),u.Config.prototype.controls.spellcheck={isActive:function(h){return h.o.spellcheck},icon:s(69546),name:"spellcheck",command:"toggleSpellcheck",tooltip:"Spellcheck"}},87882:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.zh_tw=o.zh_cn=o.tr=o.ru=o.pt_br=o.pl=o.nl=o.mn=o.ko=o.ja=o.it=o.id=o.hu=o.he=o.fr=o.fa=o.es=o.de=o.cs_cz=o.ar=void 0;var u=s(5586);o.ar=u;var d=s(66023);o.cs_cz=d;var h=s(65860);o.de=h;var p=s(86055);o.es=p;var m=s(50037);o.fa=m;var f=s(7118);o.fr=f;var g=s(30298);o.he=g;var v=s(52107);o.hu=v;var S=s(31240);o.id=S;var x=s(4101);o.it=x;var b=s(69286);o.ja=b;var _=s(13402);o.ko=_;var w=s(1242);o.mn=w;var C=s(89574);o.nl=C;var E=s(63630);o.pl=E;var A=s(72212);o.pt_br=A;var T=s(82570);o.ru=T;var M=s(19323);o.tr=M;var j=s(50279);o.zh_cn=j;var P=s(98364);o.zh_tw=P},17002:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.spellcheck=void 0;var u=s(20255),d=s(57549),h=s(67309),p=s(43441),m=s(17332);s(50876);var f=function(g){function v(S){var x=g.call(this,S)||this;return x.buttons=[{group:"state",name:"spellcheck"}],(0,m.extendLang)(s(87882)),x}return u.__extends(v,g),v.prototype.afterInit=function(S){var x=this;S.e.on("afterInit afterAddPlace prepareWYSIWYGEditor",this.toggleSpellcheck),this.toggleSpellcheck(),S.registerCommand("toggleSpellcheck",function(){x.jodit.o.spellcheck=!x.jodit.o.spellcheck,x.toggleSpellcheck(),x.j.e.fire("updateToolbar")})},v.prototype.toggleSpellcheck=function(){(0,h.attr)(this.jodit.editor,"spellcheck",this.jodit.o.spellcheck)},v.prototype.beforeDestruct=function(S){},u.__decorate([p.autobind],v.prototype,"toggleSpellcheck",null),v}(d.Plugin);o.spellcheck=f,m.pluginSystem.add("spellcheck",f)},59818:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.showCharsCounter=!0,u.Config.prototype.countHTMLChars=!1,u.Config.prototype.showWordsCounter=!0},1557:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.stat=void 0;var u=s(20255),d=s(86893),h=s(85605),p=s(24263),m=s(17332);s(59818);var f=function(g){function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.charCounter=null,S.wordCounter=null,S.reInit=function(){S.j.o.showCharsCounter&&S.charCounter&&S.j.statusbar.append(S.charCounter,!0),S.j.o.showWordsCounter&&S.wordCounter&&S.j.statusbar.append(S.wordCounter,!0),S.j.e.off("change keyup",S.calc).on("change keyup",S.calc),S.calc()},S.calc=S.j.async.throttle(function(){var x=S.j.text;if(S.j.o.showCharsCounter&&S.charCounter){var b=S.j.o.countHTMLChars?S.j.value:x.replace((0,d.SPACE_REG_EXP)(),"");S.charCounter.textContent=S.j.i18n("Chars: %d",b.length)}S.j.o.showWordsCounter&&S.wordCounter&&(S.wordCounter.textContent=S.j.i18n("Words: %d",x.replace((0,d.INVISIBLE_SPACE_REG_EXP)(),"").split((0,d.SPACE_REG_EXP)()).filter(function(_){return _.length}).length))},S.j.defaultTimeout),S}return u.__extends(v,g),v.prototype.afterInit=function(){this.charCounter=this.j.c.span(),this.wordCounter=this.j.c.span(),this.j.e.on("afterInit changePlace afterAddPlace",this.reInit),this.reInit()},v.prototype.beforeDestruct=function(){p.Dom.safeRemove(this.charCounter),p.Dom.safeRemove(this.wordCounter),this.j.e.off("afterInit changePlace afterAddPlace",this.reInit),this.charCounter=null,this.wordCounter=null},v}(h.Plugin);o.stat=f,m.pluginSystem.add("stat",f)},40790:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.toolbarSticky=!0,u.Config.prototype.toolbarDisableStickyForMobile=!0,u.Config.prototype.toolbarStickyOffset=0},82808:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.sticky=void 0;var u=s(20255);s(60057);var d=s(86893),h=s(85605),p=s(24263),m=s(40332),f=s(43441),g=s(17332);s(40790);var v=function(S){function x(){var b=S!==null&&S.apply(this,arguments)||this;return b.isToolbarSticked=!1,b.createDummy=function(_){d.IS_IE&&!b.dummyBox&&(b.dummyBox=b.j.c.div(),b.dummyBox.classList.add("jodit_sticky-dummy_toolbar"),b.j.container.insertBefore(b.dummyBox,_))},b.addSticky=function(_){b.isToolbarSticked||(b.createDummy(_),b.j.container.classList.add("jodit_sticky"),b.isToolbarSticked=!0),(0,m.css)(_,{top:b.j.o.toolbarStickyOffset||null,width:b.j.container.offsetWidth-2}),d.IS_IE&&b.dummyBox&&(0,m.css)(b.dummyBox,{height:_.offsetHeight})},b.removeSticky=function(_){b.isToolbarSticked&&((0,m.css)(_,{width:"",top:""}),b.j.container.classList.remove("jodit_sticky"),b.isToolbarSticked=!1)},b}return u.__extends(x,S),x.prototype.afterInit=function(b){var _=this;b.e.on(b.ow,"scroll.sticky wheel.sticky mousewheel.sticky resize.sticky",this.onScroll).on("getStickyState.sticky",function(){return _.isToolbarSticked})},x.prototype.onScroll=function(){var b=this.jodit,_=b.ow.pageYOffset||b.od.documentElement&&b.od.documentElement.scrollTop||0,w=(0,m.offset)(b.container,b,b.od,!0),C=b.getMode()===d.MODE_WYSIWYG&&_+b.o.toolbarStickyOffset>w.top&&w.top+w.height>_+b.o.toolbarStickyOffset&&!(b.o.toolbarDisableStickyForMobile&&this.isMobile());if(b.o.toolbarSticky&&b.o.toolbar===!0&&this.isToolbarSticked!==C){var E=b.toolbarContainer;E&&(C?this.addSticky(E):this.removeSticky(E)),b.e.fire("toggleSticky",C)}},x.prototype.isMobile=function(){return this.j&&this.j.options&&this.j.container&&this.j.o.sizeSM>=this.j.container.offsetWidth},x.prototype.beforeDestruct=function(b){this.dummyBox&&p.Dom.safeRemove(this.dummyBox),b.e.off(b.ow,"scroll.sticky wheel.sticky mousewheel.sticky resize.sticky",this.onScroll).off(".sticky")},u.__decorate([(0,f.throttle)()],x.prototype,"onScroll",null),x}(h.Plugin);o.sticky=v,g.pluginSystem.add("sticky",v)},31750:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.usePopupForSpecialCharacters=!1,u.Config.prototype.specialCharacters=["!","&quot;","#","$","%","&amp;","'","(",")","*","+","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&lt;","=","&gt;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","&euro;","&lsquo;","&rsquo;","&ldquo;","&rdquo;","&ndash;","&mdash;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&raquo;","&not;","&reg;","&macr;","&deg;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&OElig;","&oelig;","&#372;","&#374","&#373","&#375;","&sbquo;","&#8219;","&bdquo;","&hellip;","&trade;","&#9658;","&bull;","&rarr;","&rArr;","&hArr;","&diams;","&asymp;"],d.Icon.set("symbols",s(43158)),u.Config.prototype.controls.symbols={hotkeys:["ctrl+shift+i","cmd+shift+i"],tooltip:"Insert Special Character",popup:function(h,p,m,f){var g=h.e.fire("generateSpecialCharactersTable.symbols");if(g){if(h.o.usePopupForSpecialCharacters){var v=h.c.div();return v.classList.add("jodit-symbols"),v.appendChild(g),h.e.on(g,"close_dialog",f),v}h.alert(g,"Select Special Character",void 0,"jodit-symbols").bindDestruct(h);var S=g.querySelector("a");S&&S.focus()}}}},21236:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.zh_tw=o.zh_cn=o.tr=o.ru=o.pt_br=o.pl=o.nl=o.mn=o.ko=o.ja=o.it=o.id=o.hu=o.he=o.fr=o.fa=o.es=o.de=o.cs_cz=o.ar=void 0;var u=s(54261);o.ar=u;var d=s(60425);o.cs_cz=d;var h=s(7057);o.de=h;var p=s(48356);o.es=p;var m=s(11428);o.fa=m;var f=s(29084);o.fr=f;var g=s(22876);o.he=g;var v=s(20890);o.hu=v;var S=s(75987);o.id=S;var x=s(60379);o.it=x;var b=s(99950);o.ja=b;var _=s(60934);o.ko=_;var w=s(45913);o.mn=w;var C=s(21994);o.nl=C;var E=s(38128);o.pl=E;var A=s(71515);o.pt_br=A;var T=s(58194);o.ru=T;var M=s(65802);o.tr=M;var j=s(86628);o.zh_cn=j;var P=s(32210);o.zh_tw=P},48560:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.symbols=void 0;var u=s(20255);s(33393);var d=s(86893),h=s(85605),p=s(24263),m=s(76502),f=s(17332);s(31750);var g=function(v){function S(x){var b=v.call(this,x)||this;return b.buttons=[{name:"symbols",group:"insert"}],b.countInRow=17,(0,f.extendLang)(s(21236)),b}return u.__extends(S,v),S.prototype.afterInit=function(x){var b=this;x.e.on("generateSpecialCharactersTable.symbols",function(){for(var _=x.c.fromHTML(`<div class="jodit-symbols__container">
						<div class="jodit-symbols__container_table">
							<table class="jodit-symbols__table"><tbody></tbody></table>
						</div>
						<div class="jodit-symbols__container_preview">
							<div class="jodit-symbols__preview"></div>
						</div>
					</div>`),w=_.querySelector(".jodit-symbols__preview"),C=_.querySelector("table").tBodies[0],E=[],A=0;x.o.specialCharacters.length>A;){for(var T=x.c.element("tr"),M=0;b.countInRow>M&&x.o.specialCharacters.length>A;M+=1,A+=1){var j=x.c.element("td"),P=x.c.fromHTML(`<a
									data-index="`.concat(A,`"
									data-index-j="`).concat(M,`"
									role="option"
									tabindex="-1"
							>`).concat(x.o.specialCharacters[A],"</a>"));E.push(P),j.appendChild(P),T.appendChild(j)}C.appendChild(T)}var I=b;return x.e.on(E,"focus",function(){w.innerHTML=this.innerHTML}).on(E,"mousedown",function(k){p.Dom.isTag(this,"a")&&(x.s.focus(),x.s.insertHTML(this.innerHTML),x.e.fire(this,"close_dialog"),k&&k.preventDefault(),k&&k.stopImmediatePropagation())}).on(E,"mouseenter",function(){p.Dom.isTag(this,"a")&&this.focus()}).on(E,"keydown",function(k){var R=k.target;if(p.Dom.isTag(R,"a")){var O=parseInt((0,m.attr)(R,"-index")||"0",10),D=parseInt((0,m.attr)(R,"data-index-j")||"0",10),L=void 0;switch(k.key){case d.KEY_UP:case d.KEY_DOWN:E[L=k.key===d.KEY_UP?O-I.countInRow:O+I.countInRow]===void 0&&(L=k.key===d.KEY_UP?Math.floor(E.length/I.countInRow)*I.countInRow+D:D)>E.length-1&&(L-=I.countInRow),E[L]&&E[L].focus();break;case d.KEY_RIGHT:case d.KEY_LEFT:E[L=k.key===d.KEY_LEFT?O-1:O+1]===void 0&&(L=k.key===d.KEY_LEFT?E.length-1:0),E[L]&&E[L].focus();break;case d.KEY_ENTER:x.e.fire(R,"mousedown"),k.stopImmediatePropagation(),k.preventDefault()}}}),_})},S.prototype.beforeDestruct=function(x){x.e.off("generateSpecialCharactersTable.symbols")},S}(h.Plugin);o.symbols=g,f.pluginSystem.add("symbols",g)},15797:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(20255).__exportStar(s(41170),o)},41170:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.onTabInsideLi=void 0;var u=s(20255),d=s(24263);s(603),o.onTabInsideLi=function(h,p){if(p===void 0&&(p=!1),!h.o.tab.tabInsideLiInsertNewList)return!1;var m=u.__read(function(b){var _=b.createInside.fake(),w=b.createInside.fake(),C=b.s.range.cloneRange();C.collapse(!0),C.insertNode(_);var E=b.s.range.cloneRange();return E.collapse(!1),E.insertNode(w),[_,w]}(h),2),f=m[0],g=m[1];try{var v=function(b,_,w){var C=d.Dom.closest(_,"li",b.editor);return!!C&&!(!w&&!d.Dom.isTag(C.previousElementSibling,"li"))&&!(w&&!d.Dom.closest(C,"li",b.editor))&&C}(h,f,p);if(!v||!function(b,_,w){var C=d.Dom.closest(w,"li",_.editor);return!(!C||C!==b&&!b.contains(C))}(v,h,f))return!1;var S=d.Dom.closest(v,["ol","ul"],h.editor);return!(!S||p&&!d.Dom.closest(S,"li",h.editor)||(p?function(b,_,w){var C=d.Dom.closest(_,"li",b.editor),E=Array.from(_.children).filter(function(j){return d.Dom.isTag(j,"li")});d.Dom.after(C,w);var A=E.indexOf(w);if(A!==0&&E.length!==1||d.Dom.safeRemove(_),A!==E.length-1){var T=_.cloneNode();d.Dom.append(w,T);for(var M=A+1;E.length>M;M+=1)d.Dom.append(T,E[M])}}(h,S,v):function(b,_,w){var C=w.previousElementSibling,E=C.lastElementChild,A=d.Dom.isTag(E,_.tagName)?E:b.createInside.element(_.tagName,Array.from(_.attributes).reduce(function(T,M){return T[M.name]=M.value,T},{}));A.appendChild(w),E!==A&&C.appendChild(A)}(h,S,v),0))}finally{var x=h.s.createRange();x.setStartAfter(f),x.setEndBefore(g),h.s.selectRange(x),d.Dom.safeRemove(f),d.Dom.safeRemove(g)}return!1}},56198:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.tab={tabInsideLiInsertNewList:!0}},32246:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(43441),p=s(86893),m=s(17332),f=s(15797);s(56198);var g=function(v){function S(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(S,v),S.prototype.afterInit=function(x){},S.prototype.__onTab=function(x){if(x.key===p.KEY_TAB&&this.__onShift(x.shiftKey))return!1},S.prototype.__onCommand=function(x){if((x==="indent"||x==="outdent")&&this.__onShift(x==="outdent"))return!1},S.prototype.__onShift=function(x){var b=(0,f.onTabInsideLi)(this.j,x);return b&&this.j.e.fire("afterTab",x),b},S.prototype.beforeDestruct=function(x){},u.__decorate([(0,h.watch)(":keydown.tab")],S.prototype,"__onTab",null),u.__decorate([(0,h.watch)(":beforeCommand.tab")],S.prototype,"__onCommand",null),S}(d.Plugin);m.pluginSystem.add("tab",g)},23308:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.tableKeyboardNavigation=void 0;var u=s(86893),d=s(24263),h=s(25120),p=s(17332);function m(f){f.e.off(".tableKeyboardNavigation").on("keydown.tableKeyboardNavigation",function(g){var v,S;if((g.key===u.KEY_TAB||g.key===u.KEY_LEFT||g.key===u.KEY_RIGHT||g.key===u.KEY_UP||g.key===u.KEY_DOWN)&&(v=f.s.current(),S=d.Dom.up(v,function(M){return M&&M.nodeName&&/^td|th$/i.test(M.nodeName)},f.editor))){var x=f.s.range;if(g.key===u.KEY_TAB||v===S||(g.key!==u.KEY_LEFT&&g.key!==u.KEY_UP||!(d.Dom.prev(v,function(M){return g.key===u.KEY_UP?d.Dom.isTag(M,"br"):!!M},S)||g.key!==u.KEY_UP&&d.Dom.isText(v)&&x.startOffset!==0))&&(g.key!==u.KEY_RIGHT&&g.key!==u.KEY_DOWN||!(d.Dom.next(v,function(M){return g.key===u.KEY_DOWN?d.Dom.isTag(M,"br"):!!M},S)||g.key!==u.KEY_DOWN&&d.Dom.isText(v)&&v.nodeValue&&x.startOffset!==v.nodeValue.length))){var b=d.Dom.up(S,function(M){return M&&/^table$/i.test(M.nodeName)},f.editor),_=null;switch(g.key){case u.KEY_TAB:case u.KEY_LEFT:var w=g.key===u.KEY_LEFT||g.shiftKey?"prev":"next";(_=d.Dom[w](S,function(M){return M&&/^td|th$/i.test(M.tagName)},b))||(h.Table.appendRow(b,w!=="next"&&b.querySelector("tr"),w==="next",f.createInside),_=d.Dom[w](S,d.Dom.isCell,b));break;case u.KEY_UP:case u.KEY_DOWN:var C=0,E=0,A=h.Table.formalMatrix(b,function(M,j,P){M===S&&(C=j,E=P)});g.key===u.KEY_UP?A[C-1]!==void 0&&(_=A[C-1][E]):A[C+1]!==void 0&&(_=A[C+1][E])}if(_){if(_.firstChild)g.key===u.KEY_TAB?f.s.select(_,!0):f.s.setCursorIn(_,g.key===u.KEY_RIGHT||g.key===u.KEY_DOWN);else{var T=f.createInside.element("br");_.appendChild(T),f.s.setCursorBefore(T)}return!1}}}})}o.tableKeyboardNavigation=m,p.pluginSystem.add("tableKeyboardNavigation",m)},30739:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(64968),h=s(76502),p=s(40332),m=s(77904);u.Config.prototype.table={selectionCellStyle:"border: 1px double #1e88e5 !important;",useExtraClassesOptions:!1},m.Icon.set("table",s(51716)),u.Config.prototype.controls.table={data:{cols:10,rows:10,classList:{"table table-bordered":"Bootstrap Bordered","table table-striped":"Bootstrap Striped","table table-dark":"Bootstrap Dark"}},popup:function(f,g,v,S,x){for(var b=v.data&&v.data.rows?v.data.rows:10,_=v.data&&v.data.cols?v.data.cols:10,w=f.c.fromHTML('<form class="jodit-form jodit-form__inserter"><div class="jodit-form__table-creator-box"><div class="jodit-form__container"></div><div class="jodit-form__options">'+function(){if(!f.o.table.useExtraClassesOptions)return"";var R=[];if(v.data){var O=v.data.classList;Object.keys(O).forEach(function(D){R.push('<label class="jodit_vertical_middle"><input class="jodit-checkbox" value="'.concat(D,'" type="checkbox"/>').concat(O[D],"</label>"))})}return R.join("")}()+'</div></div><label class="jodit-form__center"><span>1</span> &times; <span>1</span></label></form>'),C=w.querySelectorAll("span")[0],E=w.querySelectorAll("span")[1],A=w.querySelector(".jodit-form__container"),T=w.querySelector(".jodit-form__options"),M=[],j=b*_,P=0;j>P;P+=1)M[P]||M.push(f.c.element("span",{dataIndex:P}));if(f.e.on(A,"mousemove",function(R,O){var D=R.target;if(d.Dom.isTag(D,"span")){for(var L=O===void 0||isNaN(O)?parseInt((0,h.attr)(D,"-index")||"0",10):O||0,B=Math.ceil((L+1)/_),F=L%_+1,H=0;M.length>H;H+=1)M[H].className=H%_+1>F||B<Math.ceil((H+1)/_)?"":"jodit_hovered";E.textContent=F.toString(),C.textContent=B.toString()}}).on(A,"touchstart mousedown",function(R){var O=R.target;if(R.preventDefault(),R.stopImmediatePropagation(),d.Dom.isTag(O,"span")){var D=parseInt((0,h.attr)(O,"-index")||"0",10),L=Math.ceil((D+1)/_),B=D%_+1,F=f.createInside,H=F.element("tbody"),ee=F.element("table");ee.appendChild(H);for(var U,X,W=null,ie=1;L>=ie;ie+=1){U=F.element("tr");for(var Q=1;B>=Q;Q+=1)X=F.element("td"),W||(W=X),(0,p.css)(X,"width",(100/B).toFixed(4)+"%"),X.appendChild(F.element("br")),U.appendChild(F.text(`
`)),U.appendChild(F.text("	")),U.appendChild(X);H.appendChild(F.text(`
`)),H.appendChild(U)}(0,p.$$)("input[type=checkbox]:checked",T).forEach(function(ae){ae.value.split(/[\s]+/).forEach(function(K){ee.classList.add(K)})}),f.editor.firstChild&&f.s.insertNode(F.text(`
`),!1,!1),f.s.insertNode(ee,!1),W&&(f.s.setCursorIn(W),(0,p.scrollIntoViewIfNeeded)(W,f.editor,f.ed)),S()}}),x&&x.parentElement){for(P=0;b>P;P+=1){for(var I=f.c.div(),k=0;_>k;k+=1)I.appendChild(M[P*_+k]);A.appendChild(I)}M[0]&&(M[0].className="hovered")}return w},tooltip:"Insert table"}},45842:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.table=void 0,s(51057);var u=s(17332);function d(h){h.registerButton({name:"table",group:"insert"})}s(30739),o.table=d,u.pluginSystem.add("table",d)},79114:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(93166),d=s(718),h=s(40332),p=s(95963),m=s(96516);s(77904).Icon.set("video",s(49222)),u.Config.prototype.controls.video={popup:function(f,g,v,S){var x=new p.UIForm(f,[new p.UIBlock(f,[new p.UIInput(f,{name:"url",required:!0,label:"URL",placeholder:"https://",validators:["url"]})]),new p.UIBlock(f,[(0,m.Button)(f,"","Insert","primary").onAction(function(){return x.submit()})])]),b=new p.UIForm(f,[new p.UIBlock(f,[new p.UITextArea(f,{name:"code",required:!0,label:"Embed code"})]),new p.UIBlock(f,[(0,m.Button)(f,"","Insert","primary").onAction(function(){return b.submit()})])]),_=[],w=function(C){f.s.restore(),f.s.insertHTML(C),S()};return f.s.save(),_.push({icon:"link",name:"Link",content:x.container},{icon:"source",name:"Code",content:b.container}),x.onSubmit(function(C){w((0,h.convertMediaUrlToVideoEmbed)(C.url))}),b.onSubmit(function(C){w(C.code)}),(0,d.TabsWidget)(f,_)},tags:["iframe"],tooltip:"Insert youtube/vimeo video"}},19889:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(17332);s(79114),u.pluginSystem.add("video",function(d){d.registerButton({name:"video",group:"media"})})},64401:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.wrapNodes={exclude:["hr","style","br"],emptyBlockAfterInit:!0}},20728:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(64968),p=s(24421),m=s(43441),f=s(17332);s(64401);var g=function(v){function S(){var x=v!==null&&v.apply(this,arguments)||this;return x.isSuitableStart=function(b){return h.Dom.isText(b)&&(0,p.isString)(b.nodeValue)&&/[^\s]/.test(b.nodeValue)||x.isNotClosed(b)&&!h.Dom.isTemporary(b)},x.isSuitable=function(b){return h.Dom.isText(b)||x.isNotClosed(b)},x.isNotClosed=function(b){return h.Dom.isElement(b)&&!(h.Dom.isBlock(b)||h.Dom.isTag(b,x.j.o.wrapNodes.exclude))},x}return u.__extends(S,v),S.prototype.afterInit=function(x){x.o.enter.toLowerCase()!=="br"&&x.e.on("drop.wtn focus.wtn keydown.wtn mousedown.wtn afterInit.wtn",this.preprocessInput,{top:!0}).on("afterInit.wtn postProcessSetEditorValue.wtn",this.postProcessSetEditorValue)},S.prototype.beforeDestruct=function(x){x.e.off(".wtn")},S.prototype.postProcessSetEditorValue=function(){var x=this.jodit;if(x.isEditorMode()){for(var b=x.editor.firstChild,_=!1;b;){if(b=this.checkAloneListLeaf(b,x),this.isSuitableStart(b)){_||x.s.save(),_=!0;var w=x.createInside.element(x.o.enter);for(h.Dom.before(b,w);b&&this.isSuitable(b);){var C=b.nextSibling;w.appendChild(b),b=C}w.normalize(),b=w}b=b&&b.nextSibling}_&&(x.s.restore(),x.e.current==="afterInit"&&x.e.fire("internalChange"))}},S.prototype.checkAloneListLeaf=function(x,b){var _=x,w=x;do{if(!h.Dom.isElement(w)||!h.Dom.isTag(w,"li")||h.Dom.isTag(w.parentElement,["ul","ol"]))break;var C=h.Dom.findNotEmptySibling(w,!1);h.Dom.isTag(_,"ul")?_.appendChild(w):_=h.Dom.wrap(w,"ul",b.createInside),w=C}while(w);return _},S.prototype.preprocessInput=function(){var x=this.jodit,b=x.e.current==="afterInit";if(x.isEditorMode()&&!x.editor.firstChild&&(x.o.wrapNodes.emptyBlockAfterInit||!b)){var _=x.createInside.element(x.o.enter),w=x.createInside.element("br");h.Dom.append(_,w),h.Dom.append(x.editor,_),x.s.isFocused()&&x.s.setCursorBefore(w),x.e.fire("internalChange")}},u.__decorate([m.autobind],S.prototype,"postProcessSetEditorValue",null),u.__decorate([m.autobind],S.prototype,"preprocessInput",null),S}(d.Plugin);f.pluginSystem.add("wrapNodes",g)},71707:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(93166).Config.prototype.showXPathInStatusbar=!0},18238:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0});var u=s(20255);s(64618);var d=s(86893),h=s(60403),p=s(64968),m=s(40332),f=s(57549),g=s(81438),v=s(17332);s(71707);var S=function(x){function b(){var _=x!==null&&x.apply(this,arguments)||this;return _.onContext=function(w,C){return _.menu||(_.menu=new h.ContextMenu(_.j)),_.menu.show(C.clientX,C.clientY,[{icon:"bin",title:w===_.j.editor?"Clear":"Remove",exec:function(){w!==_.j.editor?p.Dom.safeRemove(w):_.j.value="",_.j.synchronizeValues()}},{icon:"select-all",title:"Select",exec:function(){_.j.s.select(w)}}]),!1},_.onSelectPath=function(w,C){_.j.s.focus();var E=(0,m.attr)(C.target,"-path")||"/";if(E==="/")return _.j.execCommand("selectall"),!1;try{var A=_.j.ed.evaluate(E,_.j.editor,null,XPathResult.ANY_TYPE,null).iterateNext();if(A)return _.j.s.select(A),!1}catch{}return _.j.s.select(w),!1},_.tpl=function(w,C,E,A){var T=_.j.c.fromHTML('<span class="jodit-xpath__item"><a role="button" data-path="'.concat(C,'" title="').concat(A,`" tabindex="-1"'>`).concat((0,m.trim)(E),"</a></span>")),M=T.firstChild;return _.j.e.on(M,"click",_.onSelectPath.bind(_,w)).on(M,"contextmenu",_.onContext.bind(_,w)),T},_.removeSelectAll=function(){_.selectAllButton&&(_.selectAllButton.destruct(),delete _.selectAllButton)},_.appendSelectAll=function(){_.removeSelectAll(),_.selectAllButton=(0,g.makeButton)(_.j,u.__assign({name:"selectall"},_.j.o.controls.selectall)),_.selectAllButton.state.size="tiny",_.container&&_.container.insertBefore(_.selectAllButton.container,_.container.firstChild)},_.calcPathImd=function(){if(!_.isDestructed){var w,C,E,A=_.j.s.current();_.container&&(_.container.innerHTML=d.INVISIBLE_SPACE),A&&p.Dom.up(A,function(T){T&&_.j.editor!==T&&!p.Dom.isText(T)&&(w=T.nodeName.toLowerCase(),C=(0,m.getXPathByElement)(T,_.j.editor).replace(/^\//,""),E=_.tpl(T,C,w,_.j.i18n("Select %s",w)),_.container&&_.container.insertBefore(E,_.container.firstChild))},_.j.editor),_.appendSelectAll()}},_.calcPath=_.j.async.debounce(_.calcPathImd,2*_.j.defaultTimeout),_}return u.__extends(b,x),b.prototype.afterInit=function(){var _=this;this.j.o.showXPathInStatusbar&&(this.container=this.j.c.div("jodit-xpath"),this.j.e.off(".xpath").on("mouseup.xpath change.xpath keydown.xpath changeSelection.xpath",this.calcPath).on("afterSetMode.xpath afterInit.xpath changePlace.xpath",function(){_.j.o.showXPathInStatusbar&&_.container&&(_.j.statusbar.append(_.container),_.j.getRealMode()===d.MODE_WYSIWYG?_.calcPath():(_.container&&(_.container.innerHTML=d.INVISIBLE_SPACE),_.appendSelectAll()))}),this.calcPath())},b.prototype.beforeDestruct=function(){this.j&&this.j.events&&this.j.e.off(".xpath"),this.removeSelectAll(),this.menu&&this.menu.destruct(),p.Dom.safeRemove(this.container),delete this.menu,delete this.container},b}(f.Plugin);v.pluginSystem.add("xpath",S)},89019:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),s(61227),s(690),s(66622),s(69220),s(10444),Array.prototype.includes||(Array.prototype.includes=function(u){return this.indexOf(u)>-1}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(u,d){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(u),p=1;arguments.length>p;p++){var m=arguments[p];if(m!=null)for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(h[f]=m[f])}return h},writable:!0,configurable:!0}),Array.prototype.find||(Array.prototype.find=function(u){return this.indexOf(u)>-1?u:void 0}),String.prototype.endsWith||(String.prototype.endsWith=function(u){return this[this.length-1]===u})},15261:function(l,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.valign=o.upload=o.update=o.unlock=o.settings=o.save=o.right=o.resize_handler=o.plus=o.pencil=o.ok=o.lock=o.left=o.info_circle=o.folder=o.file=o.eye=o.dots=o.chevron=o.check=o.center=o.cancel=o.bin=o.angle_up=o.angle_right=o.angle_left=o.angle_down=void 0;var u=s(1755);o.angle_down=u;var d=s(74911);o.angle_left=d;var h=s(8805);o.angle_right=h;var p=s(16547);o.angle_up=p;var m=s(10856);o.bin=m;var f=s(98441);o.cancel=f;var g=s(52488);o.center=g;var v=s(9370);o.check=v;var S=s(66543);o.chevron=S;var x=s(608);o.dots=x;var b=s(42840);o.eye=b;var _=s(79096);o.file=_;var w=s(33014);o.folder=w;var C=s(91677);o.info_circle=C;var E=s(8259);o.left=E;var A=s(64467);o.lock=A;var T=s(86934);o.ok=T;var M=s(76133);o.pencil=M;var j=s(45519);o.plus=j;var P=s(90265);o.resize_handler=P;var I=s(81279);o.right=I;var k=s(68899);o.save=k;var R=s(70744);o.settings=R;var O=s(19201);o.unlock=O;var D=s(84930);o.update=D;var L=s(99704);o.upload=L;var B=s(2304);o.valign=B},80078:function(l){l.exports={"copy-format":" "}},16986:function(l){l.exports={"copy-format":"Koprovat formt"}},59347:function(l){l.exports={"copy-format":"Format kopieren"}},63640:function(l){l.exports={"copy-format":"Copiar formato"}},53434:function(l){l.exports={"copy-format":"  "}},85638:function(l){l.exports={"copy-format":"Format de copie"}},31743:function(l){l.exports={"copy-format":" "}},66219:function(l){l.exports={"copy-format":"Formtum msols"}},50331:function(l){l.exports={"copy-format":"salin format"}},25582:function(l){l.exports={"copy-format":"Copia il formato"}},82066:function(l){l.exports={"copy-format":"copyformat"}},71925:function(l){l.exports={"copy-format":" "}},12689:function(l){l.exports={"copy-format":" "}},65274:function(l){l.exports={"copy-format":"opmaak kopiren"}},58548:function(l){l.exports={"copy-format":"format kopii"}},82958:function(l){l.exports={"copy-format":"Copiar formato"}},52315:function(l){l.exports={"copy-format":" "}},87727:function(l){l.exports={"copy-format":"Kopyalama Biimi"}},9396:function(l){l.exports={"copy-format":""}},28765:function(l){l.exports={"copy-format":""}},47762:function(l){l.exports={"Line height":" "}},97495:function(l){l.exports={"Line height":"Vka ry"}},80131:function(l){l.exports={"Line height":"Zeilenhhe"}},1201:function(l){l.exports={"Line height":"Altura de la lnea"}},89912:function(l){l.exports={"Line height":" "}},3405:function(l){l.exports={"Line height":"Hauteur de ligne"}},14129:function(l){l.exports={"Line height":" "}},93729:function(l){l.exports={"Line height":"Vonal magassga"}},16106:function(l){l.exports={"Line height":"Tinggi baris"}},89690:function(l){l.exports={"Line height":"Altezza linea"}},33216:function(l){l.exports={"Line height":""}},17282:function(l){l.exports={"Line height":" "}},52841:function(l){l.exports={"Line height":" "}},91761:function(l){l.exports={"Line height":"Lijnhoogte"}},61675:function(l){l.exports={"Line height":"Wysoko linii"}},69709:function(l){l.exports={"Line height":"Altura da linha"}},82591:function(l){l.exports={"Line height":" "}},87649:function(l){l.exports={"Line height":"izgi ykseklii"}},60268:function(l){l.exports={"Line height":""}},58214:function(l){l.exports={"Line height":""}},5586:function(l){l.exports={Spellcheck:" "}},66023:function(l){l.exports={Spellcheck:"Kontrola pravopisu"}},65860:function(l){l.exports={Spellcheck:"Rechtschreibprfung"}},86055:function(l){l.exports={Spellcheck:"Correccin ortogrfica"}},50037:function(l){l.exports={Spellcheck:" "}},7118:function(l){l.exports={Spellcheck:"Vrification Orthographique"}},30298:function(l){l.exports={Spellcheck:" "}},52107:function(l){l.exports={Spellcheck:"Helyesrs-ellenrzs"}},31240:function(l){l.exports={Spellcheck:"Spellchecking"}},4101:function(l){l.exports={Spellcheck:"Controllo ortografico"}},69286:function(l){l.exports={Spellcheck:""}},13402:function(l){l.exports={Spellcheck:" "}},1242:function(l){l.exports={Spellcheck:"  "}},89574:function(l){l.exports={Spellcheck:"Spellingcontrole"}},63630:function(l){l.exports={Spellcheck:"Sprawdzanie pisowni"}},72212:function(l){l.exports={Spellcheck:"Verificao ortogrfica"}},82570:function(l){l.exports={Spellcheck:" "}},19323:function(l){l.exports={Spellcheck:"Yazm denetimi"}},50279:function(l){l.exports={Spellcheck:""}},98364:function(l){l.exports={Spellcheck:""}},54261:function(l){l.exports={symbols:""}},60425:function(l){l.exports={symbols:"symbol"}},7057:function(l){l.exports={symbols:"Symbol"}},48356:function(l){l.exports={symbols:"Smbolo"}},11428:function(l){l.exports={symbols:""}},29084:function(l){l.exports={symbols:"caractre"}},22876:function(l){l.exports={symbols:" "}},20890:function(l){l.exports={symbols:"Szimblum"}},75987:function(l){l.exports={symbols:"simbol"}},60379:function(l){l.exports={symbols:"Simbolo"}},99950:function(l){l.exports={symbols:"symbol"}},60934:function(l){l.exports={symbols:""}},45913:function(l){l.exports={symbols:""}},21994:function(l){l.exports={symbols:"symbool"}},38128:function(l){l.exports={symbols:"symbol"}},71515:function(l){l.exports={symbols:"Smbolo"}},58194:function(l){l.exports={symbols:""}},65802:function(l){l.exports={symbols:"Sembol"}},86628:function(l){l.exports={symbols:""}},32210:function(l){l.exports={symbols:""}},52378:function(l){l.exports={assert(){}}}},n={};function a(l){var o=n[l];if(o!==void 0)return o.exports;var s=n[l]={exports:{}};return r[l].call(s.exports,s,s.exports,a),s.exports}a.m=r,i=[],a.O=function(l,o,s,u){if(!o){var d=1/0;for(f=0;i.length>f;f++){o=i[f][0],s=i[f][1],u=i[f][2];for(var h=!0,p=0;o.length>p;p++)(!1&u||d>=u)&&Object.keys(a.O).every(function(g){return a.O[g](o[p])})?o.splice(p--,1):(h=!1,d>u&&(d=u));if(h){i.splice(f--,1);var m=s();m!==void 0&&(l=m)}}return l}u=u||0;for(var f=i.length;f>0&&i[f-1][2]>u;f--)i[f]=i[f-1];i[f]=[o,s,u]},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=function(l,o){return Object.prototype.hasOwnProperty.call(l,o)},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},function(){var l={670:0};a.O.j=function(u){return l[u]===0};var o=function(u,d){var h,p,m=d[0],f=d[1],g=d[2],v=0;if(m.some(function(x){return l[x]!==0})){for(h in f)a.o(f,h)&&(a.m[h]=f[h]);if(g)var S=g(a)}for(u&&u(d);m.length>v;v++)a.o(l,p=m[v])&&l[p]&&l[p][0](),l[p]=0;return a.O(S)},s=self.webpackChunkjodit=self.webpackChunkjodit||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))}();var c={};return function(){var l=c;Object.defineProperty(l,"__esModule",{value:!0}),l.CommitMode=l.Jodit=void 0,a(90176),typeof window<"u"&&a(89019);var o=a(37920);Object.defineProperty(l,"Jodit",{enumerable:!0,get:function(){return o.Jodit}});var s=a(26435),u=a(43441),d=a(86893),h=a(87837),p=a(15261);a(70022),a(91147),Object.keys(d).forEach(function(f){o.Jodit[f]=d[f]});var m=function(f){return f!=="__esModule"};Object.keys(p).filter(m).forEach(function(f){h.Icon.set(f.replace("_","-"),p[f])}),Object.keys(h).filter(m).forEach(function(f){o.Jodit.modules[f]=h[f]}),Object.keys(u).filter(m).forEach(function(f){o.Jodit.decorators[f]=u[f]}),["Confirm","Alert","Prompt"].forEach(function(f){o.Jodit[f]=h[f]}),Object.keys(s.default).filter(m).forEach(function(f){o.Jodit.lang[f]=s.default[f]}),l.CommitMode=function(){}}(),a.O(c)}()})}(e_)),e_.exports}(function(e,t){(function(i,r){e.exports=r(z,AX())})(self,(i,r)=>(()=>{var n={922:o=>{o.exports=function(s){var u=[];return u.toString=function(){return this.map(function(d){var h="",p=d[5]!==void 0;return d[4]&&(h+="@supports (".concat(d[4],") {")),d[2]&&(h+="@media ".concat(d[2]," {")),p&&(h+="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {")),h+=s(d),p&&(h+="}"),d[2]&&(h+="}"),d[4]&&(h+="}"),h}).join("")},u.i=function(d,h,p,m,f){typeof d=="string"&&(d=[[null,d,void 0]]);var g={};if(p)for(var v=0;v<this.length;v++){var S=this[v][0];S!=null&&(g[S]=!0)}for(var x=0;x<d.length;x++){var b=[].concat(d[x]);p&&g[b[0]]||(f!==void 0&&(b[5]===void 0||(b[1]="@layer".concat(b[5].length>0?" ".concat(b[5]):""," {").concat(b[1],"}")),b[5]=f),h&&(b[2]&&(b[1]="@media ".concat(b[2]," {").concat(b[1],"}")),b[2]=h),m&&(b[4]?(b[1]="@supports (".concat(b[4],") {").concat(b[1],"}"),b[4]=m):b[4]="".concat(m)),u.push(b))}},u}},155:o=>{o.exports=function(s,u){return u||(u={}),s&&(s=String(s.__esModule?s.default:s),/^['"].*['"]$/.test(s)&&(s=s.slice(1,-1)),u.hash&&(s+=u.hash),/["'() \t\n]|(%20)/.test(s)||u.needQuotes?'"'.concat(s.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):s)}},499:o=>{o.exports=function(s){return s[1]}},428:(o,s,u)=>{var d=u(134);function h(){}function p(){}p.resetWarningCache=h,o.exports=function(){function m(v,S,x,b,_,w){if(w!==d){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}function f(){return m}m.isRequired=m;var g={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:f,element:m,elementType:m,instanceOf:f,node:m,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:p,resetWarningCache:h};return g.PropTypes=g,g}},526:(o,s,u)=>{o.exports=u(428)()},134:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},472:(o,s,u)=>{u.d(s,{Z:()=>E});var d=u(499),h=u.n(d),p=u(922),m=u.n(p),f=u(155),g=u.n(f),v=new URL(u(456),u.b),S=new URL(u(963),u.b),x=new URL(u(910),u.b),b=m()(h()),_=g()(v),w=g()(S),C=g()(x);b.push([o.id,`/*!
 * jodit - Jodit is awesome and usefully wysiwyg editor with filebrowser
 * Author: Chupurnov <chupurnov@gmail.com> (https://xdsoft.net/)
 * Version: v3.24.2
 * Url: https://xdsoft.net/jodit/
 * License(s): MIT
 */
	.jodit-wysiwyg{outline:0}.jodit-wysiwyg ::-moz-selection, .jodit-wysiwyg::-moz-selection{background:#b5d6fd;color:#4c4c4c}.jodit-wysiwyg ::selection,.jodit-wysiwyg::selection{background:#b5d6fd;color:#4c4c4c}.jodit-container:not(.jodit_inline) .jodit-wysiwyg{margin:0;outline:0;overflow-x:auto;padding:8px;position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg img{max-width:100%;position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media{position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media *{position:relative;z-index:0}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:1}.jodit-form{color:#4c4c4c;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-form.jodit_error{border-color:#ff3b3b;-webkit-box-shadow:inset 0 0 3px 0 hsla(0,0%,74%,.3);box-shadow:inset 0 0 3px 0 hsla(0,0%,74%,.3)}@media (max-width:768px){.jodit-form{min-width:150px}}.jodit-form button{background:#d6d6d6;border:none;color:#4c4c4c;cursor:pointer;font-size:16px;height:36px;line-height:1;margin-bottom:8px;margin-top:8px;outline:none;padding:8px;text-decoration:none;-webkit-transition:background .2s ease 0s;-o-transition:background .2s ease 0s;transition:background .2s ease 0s}.jodit-form button:hover{background-color:#ecebe9;color:#4c4c4c}.jodit-form button:active{background:#ecebe9;color:#4c4c4c}.jodit-form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:8px;text-align:left;white-space:nowrap}.jodit-form label:last-child{margin-bottom:0}.jodit-form .jodit-form__center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit .jodit-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-select[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-textarea[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-input_has-error_true{border-color:#ff3b3b}.jodit .jodit-select_has-error_true{border-color:#ff3b3b}.jodit .jodit-textarea_has-error_true{border-color:#ff3b3b}.jodit .jodit-input:focus{border-color:#66afe9;outline:0}.jodit-checkbox{border:0;cursor:pointer;height:16px;margin:0 calc(8px/2) 0 0;outline:none;padding:0;position:relative;width:16px;z-index:2}.jodit-select{background-image:url(`+_+');background-position:98% 50%;background-repeat:no-repeat;padding-right:calc(8px*2)}.jodit-textarea{height:auto}.jodit-form__group{min-width:180px}.jodit-textarea{min-width:180px}.jodit-form__group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-form__group{margin-bottom:8px}.jodit-form__group>label{margin-bottom:8px}.jodit-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#dadada;border:0;border-radius:.25rem;color:#4c4c4c;cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:calc(8px*4);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:1;margin:0;padding:0 8px;position:relative;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:auto}.jodit-button svg{display:inline-block;height:24px;width:24px}.jodit-button svg+span{margin-left:calc(8px/2)}.jodit-button:active,.jodit-button:focus{outline:0}.jodit-button.disabled{opacity:.7}.jodit-buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:8px}.jodit-button .jodit_icon,.jodit-button svg,.jodit-dialog__header .jodit_icon,.jodit-dialog__header svg{display:inline-block;height:16px;vertical-align:middle;width:16px}.jodit-switcher{display:inline-block;height:32px;position:relative;width:60px}.jodit-switcher input{height:0;opacity:0;width:0}.jodit-switcher .jodit-switcher__slider{background-color:#dadada;border-radius:32px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}.jodit-switcher .jodit-switcher__slider:before{background-color:#fff;border-radius:50%;bottom:4px;content:"";height:calc(32px - 4px*2);left:4px;position:absolute;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;width:calc(32px - 4px*2)}input:checked+.jodit-switcher__slider{background-color:#2196f3}input:checked+.jodit-switcher__slider:before{-webkit-transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)));-ms-transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)));transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)))}input:focus+.jodit-switcher__slider{-webkit-box-shadow:0 0 1px #2196f3;box-shadow:0 0 1px #2196f3}.jodit-button-group{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-button-group input{display:none}.jodit-button-group button{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.jodit-button-group button+button{margin-left:-1px}.jodit-button-group button:first-child,.jodit-button-group input:first-child+button{border-bottom-right-radius:0;border-right:0;border-top-right-radius:0}.jodit-button-group button:last-child,.jodit-button-group input:last-child+button{border-bottom-left-radius:0;border-left:0;border-top-left-radius:0}.jodit-button-group input[type=checkbox]:checked+button,.jodit-button-group input[type=checkbox]:not(:checked)+button+button{background-image:none;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.05)}.jodit_text_icons .jodit_icon{font-size:14px;width:auto}.jodit_text_icons .jodit_icon:first-letter{text-transform:uppercase}.jodit_text_icons .jodit-tabs .jodit-tabs__buttons>a{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;width:auto}.jodit_text_icons .jodit-tabs .jodit-tabs__buttons>a i{width:auto}.jodit_text_icons.jodit-dialog .jodit-button{color:rgba(0,0,0,.75);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:8px;width:auto}.jodit_text_icons.jodit-dialog .jodit-dialog__header a{color:rgba(0,0,0,.75);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:8px;width:auto}.jodit_text_icons.jodit-dialog .jodit-button .jodit_icon,.jodit_text_icons.jodit-dialog .jodit-dialog__header a .jodit_icon{width:auto}.jodit-grid{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.jodit-grid.jodit-grid_column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media (max-width:480px){.jodit-grid.jodit-grid_xs-column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-grid [class*=jodit_col-]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.jodit-grid .jodit_col-lg-5-5{width:100%}.jodit-grid .jodit_col-lg-4-5{width:80%}.jodit-grid .jodit_col-lg-3-5{width:60%}.jodit-grid .jodit_col-lg-2-5{width:40%}.jodit-grid .jodit_col-lg-1-5{width:20%}.jodit-grid .jodit_col-lg-4-4{width:100%}.jodit-grid .jodit_col-lg-3-4{width:75%}.jodit-grid .jodit_col-lg-2-4{width:50%}.jodit-grid .jodit_col-lg-1-4{width:25%}@media (max-width:992px){.jodit-grid .jodit_col-md-5-5{width:100%}.jodit-grid .jodit_col-md-4-5{width:80%}.jodit-grid .jodit_col-md-3-5{width:60%}.jodit-grid .jodit_col-md-2-5{width:40%}.jodit-grid .jodit_col-md-1-5{width:20%}.jodit-grid .jodit_col-md-4-4{width:100%}.jodit-grid .jodit_col-md-3-4{width:75%}.jodit-grid .jodit_col-md-2-4{width:50%}.jodit-grid .jodit_col-md-1-4{width:25%}}@media (max-width:768px){.jodit-grid .jodit_col-sm-5-5{width:100%}.jodit-grid .jodit_col-sm-4-5{width:80%}.jodit-grid .jodit_col-sm-3-5{width:60%}.jodit-grid .jodit_col-sm-2-5{width:40%}.jodit-grid .jodit_col-sm-1-5{width:20%}.jodit-grid .jodit_col-sm-4-4{width:100%}.jodit-grid .jodit_col-sm-3-4{width:75%}.jodit-grid .jodit_col-sm-2-4{width:50%}.jodit-grid .jodit_col-sm-1-4{width:25%}}@media (max-width:480px){.jodit-grid .jodit_col-xs-5-5{width:100%}.jodit-grid .jodit_col-xs-4-5{width:80%}.jodit-grid .jodit_col-xs-3-5{width:60%}.jodit-grid .jodit_col-xs-2-5{width:40%}.jodit-grid .jodit_col-xs-1-5{width:20%}.jodit-grid .jodit_col-xs-4-4{width:100%}.jodit-grid .jodit_col-xs-3-4{width:75%}.jodit-grid .jodit_col-xs-2-4{width:50%}.jodit-grid .jodit_col-xs-1-4{width:25%}}@-webkit-keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.jodit-icon_loader{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+w+') no-repeat 50%;background-size:100% 100%;display:inline-block;height:48px;vertical-align:middle;width:48px;will-change:transform}.jodit-icon{fill:#4c4c4c;background:50% no-repeat;background-size:contain;height:14px;overflow:visible;-webkit-transform-origin:0 0!important;-ms-transform-origin:0 0!important;transform-origin:0 0!important;width:14px}.jodit-icon{stroke:#4c4c4c}.jodit-icon_close{stroke:#4c4c4c}svg.jodit-icon{height:auto;isolation:isolate}.jodit-icon_text{font-size:14px}.jodit,.jodit *,.jodit-container,.jodit-container *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit .jodit-workplace,.jodit-container .jodit-workplace{overflow:auto;position:relative}.jodit .jodit-workplace .jodit-wysiwyg,.jodit .jodit-workplace .jodit-wysiwyg_iframe,.jodit-container .jodit-workplace .jodit-wysiwyg,.jodit-container .jodit-workplace .jodit-wysiwyg_iframe{height:100%;width:100%}.jodit-wysiwyg [contenteditable=false]{cursor:default}.jodit-container:not(.jodit_inline){background-color:#f5f5f6;border:1px solid #dadada;border-radius:3px}.jodit-container:not(.jodit_inline) .jodit-workplace{background-color:#fff;border:0 solid #dadada;max-height:100%}.jodit-container:not(.jodit_inline).jodit_disabled{background:#dadada}.jodit-container:not(.jodit_inline).jodit_disabled .jodit-workplace{opacity:.4}.jodit_disabled,.jodit_lock{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.jodit_hidden{display:none!important}.jodit_vertical_middle{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-box,.jodit-context-menu{background:0 0;border:0;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.jodit-context-menu{-webkit-box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);display:inline-block;position:fixed;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:10000001;z-index:30000005}.jodit-context-menu__content{overflow-scrolling:touch;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;max-height:300px;overflow:auto;padding:8px}.jodit-context-menu_padding_false .jodit-context-menu__content{padding:0}.jodit-context-menu_max-height_false .jodit-context-menu__content{max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content}.jodit-context-menu .jodit-ui-button{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-context-menu__actions{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-context-menu__actions button{width:100%}.jodit-context-menu_theme_dark .jodit-context-menu__content{background-color:#575757}.jodit-popup{background:0 0;border:0;-webkit-box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);display:inline-block;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;position:fixed;-webkit-transform:translateZ(0);transform:translateZ(0);width:auto;z-index:10000001}.jodit-popup__content{overflow-scrolling:touch;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;max-height:300px;overflow:auto;padding:8px}.jodit-popup_padding_false .jodit-popup__content{padding:0}.jodit-popup_max-height_false .jodit-popup__content{max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content}.jodit-ui-button-icon-text__icon{display:none}.jodit-ui-button-icon-text__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-ui-button-icon-text__text{display:none}.jodit-ui-button-icon-text__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button-icon-text_context_menu .jodit-ui-button-icon-text__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-ui-button-icon-text_context_menu .jodit-ui-button-icon-text__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-ui-button-icon-text__icon:not(:empty)+.jodit-ui-button-icon-text__text:not(:empty){margin-left:8px}.jodit-ui-button-icon-text__icon:empty+.jodit-ui-button-icon-text__text:not(:empty){padding:0 8px}.jodit-ui-button-clear,.jodit-ui-button_clear{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-style:normal;outline:0;padding:0;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-ui-button-sizes{height:34px;min-width:34px}.jodit-ui-button-sizes .jodit-icon{height:14px;width:14px}.jodit-ui-button-sizes button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-ui-button-sizes_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_tiny{height:16px;min-width:16px}.jodit-ui-button-sizes_size_tiny .jodit-icon{height:8px;width:8px}.jodit-ui-button-sizes_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-ui-button-sizes_size_tiny_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_xsmall{height:22px;min-width:22px}.jodit-ui-button-sizes_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-ui-button-sizes_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-ui-button-sizes_size_xsmall_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_small{height:28px;min-width:28px}.jodit-ui-button-sizes_size_small .jodit-icon{height:12px;width:12px}.jodit-ui-button-sizes_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-ui-button-sizes_size_small_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_large{height:40px;min-width:40px}.jodit-ui-button-sizes_size_large .jodit-icon{height:16px;width:16px}.jodit-ui-button-sizes_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-ui-button-sizes_size_large_text-icons_true button{padding:0 8px}.jodit-ui-button-variants_variant_default{background-color:#e3e3e3;color:#212529}.jodit-ui-button-variants_variant_default svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default [disabled]{opacity:.7}.jodit-ui-button-variants_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button-variants_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button-variants_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button-variants_variant_primary{background-color:#007bff;color:#fff}.jodit-ui-button-variants_variant_primary svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary [disabled]{opacity:.7}.jodit-ui-button-variants_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-ui-button-variants_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-ui-button-variants_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-ui-button-variants_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-ui-button-variants_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary [disabled]{opacity:.7}.jodit-ui-button-variants_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button-variants_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button-variants_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button-variants_variant_success{background-color:#28a745;color:#fff}.jodit-ui-button-variants_variant_success svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success [disabled]{opacity:.7}.jodit-ui-button-variants_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-ui-button-variants_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-ui-button-variants_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-ui-button-variants_variant_danger{background-color:#dc3545;color:#fff}.jodit-ui-button-variants_variant_danger svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger [disabled]{opacity:.7}.jodit-ui-button-variants_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-ui-button-variants_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-ui-button-variants_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-ui-button-style{border-radius:3px;padding:0 8px}.jodit-ui-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.75);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button-style{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.75);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;font-style:normal;height:34px;min-width:34px;outline:0;padding:0;padding:0 8px;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-ui-button:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-ui-button:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-ui-button:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-ui-button[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-ui-button[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-ui-button[disabled]{opacity:.3;pointer-events:none}.jodit-ui-button .jodit-icon{height:14px;width:14px}.jodit-ui-button button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-ui-button_text-icons_true button{padding:0 8px}.jodit-ui-button_size_tiny{height:16px;min-width:16px}.jodit-ui-button_size_tiny .jodit-icon{height:8px;width:8px}.jodit-ui-button_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-ui-button_size_tiny_text-icons_true button{padding:0 8px}.jodit-ui-button_size_xsmall{height:22px;min-width:22px}.jodit-ui-button_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-ui-button_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-ui-button_size_xsmall_text-icons_true button{padding:0 8px}.jodit-ui-button_size_small{height:28px;min-width:28px}.jodit-ui-button_size_small .jodit-icon{height:12px;width:12px}.jodit-ui-button_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-ui-button_size_small_text-icons_true button{padding:0 8px}.jodit-ui-button_size_large{height:40px;min-width:40px}.jodit-ui-button_size_large .jodit-icon{height:16px;width:16px}.jodit-ui-button_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-ui-button_size_large_text-icons_true button{padding:0 8px}.jodit-ui-button__icon{display:none}.jodit-ui-button__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-ui-button__text{display:none}.jodit-ui-button__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button_context_menu .jodit-ui-button__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-ui-button_context_menu .jodit-ui-button__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-ui-button__icon:not(:empty)+.jodit-ui-button__text:not(:empty){margin-left:8px}.jodit-ui-button__icon:empty+.jodit-ui-button__text:not(:empty){padding:0 8px}.jodit-ui-button:focus:not([disabled]){outline:1px dashed #b5d6fd}.jodit-ui-button_variant_default{background-color:#e3e3e3;color:#212529}.jodit-ui-button_variant_default svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default [disabled]{opacity:.7}.jodit-ui-button_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button_variant_primary{background-color:#007bff;color:#fff}.jodit-ui-button_variant_primary svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary [disabled]{opacity:.7}.jodit-ui-button_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-ui-button_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-ui-button_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-ui-button_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-ui-button_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary [disabled]{opacity:.7}.jodit-ui-button_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button_variant_success{background-color:#28a745;color:#fff}.jodit-ui-button_variant_success svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success [disabled]{opacity:.7}.jodit-ui-button_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-ui-button_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-ui-button_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-ui-button_variant_danger{background-color:#dc3545;color:#fff}.jodit-ui-button_variant_danger svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger [disabled]{opacity:.7}.jodit-ui-button_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-ui-button_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-ui-button_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-ui-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-ui-list_mode_vertical .jodit-ui-group{background-color:transparent;border:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-ui-list_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-ui-list_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-ui-list_mode_vertical .jodit-toolbar-button__text:not(:empty){-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.jodit-ui-separator{border-left:0;border-right:1px solid #dadada;cursor:default;margin:2px;padding:0}.jodit-ui-break{border-top:1px solid #dadada;-ms-flex-preferred-size:100%;flex-basis:100%;height:0!important;width:0}.jodit-ui-spacer{-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-ui-group{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-negative:0;flex-shrink:0;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:100%}.jodit-ui-group_line_true{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-left:0;border-right:1px solid #dadada;content:"";cursor:default;margin:2px;padding:0}.jodit-ui-group:last-child{border-bottom:0}.jodit-ui-button-group{margin-bottom:8px}.jodit-ui-button-group__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-button-group__options{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.jodit-ui-button-group .jodit-ui-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.jodit-ui-button-group .jodit-ui-button+.jodit-ui-button{border-bottom-left-radius:0;border-left:1px solid hsla(0,0%,86%,.4);border-top-left-radius:0}.jodit-ui-button-group .jodit-ui-button[aria-pressed=true]:not([disabled]){background-color:#dcdcdc;border-left:0;-webkit-box-shadow:inset 0 0 3px 0 #4c4c4c;box-shadow:inset 0 0 3px 0 #4c4c4c;color:#4c4c4c;outline:0}.jodit-ui-button-group .jodit-ui-button[aria-pressed=true]:not([disabled])+.jodit-ui-button{border:0}.jodit-ui-tooltip{background:#727171;background-clip:padding-box;border-radius:2px;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px;line-height:1.4;max-width:120px;opacity:0;padding:calc(8px/4) calc(8px/2);position:fixed;text-rendering:optimizeLegibility;-webkit-transition:opacity .2s ease 0s;-o-transition:opacity .2s ease 0s;transition:opacity .2s ease 0s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:normal;width:auto;z-index:30000006}@media (max-width:768px){.jodit-ui-tooltip{display:none}}.jodit-ui-tooltip.jodit-ui-tooltip_visible_true{opacity:1}.jodit-dialog{border:0;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:0;position:absolute;width:0;will-change:left,top,width,height}.jodit-dialog_moved_true{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-dialog *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-dialog .jodit_elfinder,.jodit-dialog .jodit_elfinder *{-webkit-box-sizing:initial;box-sizing:initial}.jodit-dialog__overlay{background-color:rgba(0,0,0,.5);display:none;height:100%;left:0;overflow:auto;position:fixed;text-align:center;top:0;white-space:nowrap;width:100%;z-index:20000003}.jodit-dialog_static_true .jodit-dialog__overlay{display:none}.jodit-dialog_active_true,.jodit-dialog_modal_true .jodit-dialog__overlay{display:block}.jodit-dialog__panel{background-color:#fff;-webkit-box-shadow:0 8px calc(8px*2) rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);box-shadow:0 8px calc(8px*2) rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap;left:0;max-height:100%;max-width:100%;min-height:100px;min-width:200px;position:fixed;text-align:left;top:0;white-space:normal;z-index:20000004}@media (max-width:480px){.jodit-dialog:not(.jodit-dialog_adaptive_false) .jodit-dialog__panel{height:100%!important;left:0!important;max-width:100%;top:0!important;width:100%!important}}.jodit-dialog_static_true{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;height:auto;position:relative;width:auto;z-index:inherit}.jodit-dialog_static_true .jodit-dialog__panel{border:1px solid #dadada;-webkit-box-shadow:none;box-shadow:none;left:auto!important;position:relative;top:auto!important;width:100%!important;z-index:inherit}.jodit-dialog_theme_dark{background-color:#353535;color:#fff}.jodit-dialog_theme_dark .jodit-dialog__panel{background-color:#353535;color:#fff}.jodit-dialog__header{border-bottom:1px solid #dadada;cursor:move;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:50px;text-align:left}.jodit-dialog__header-title{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:3;flex-shrink:3;font-size:18px;font-weight:400;line-height:48px;margin:0;padding:0 8px;vertical-align:top}.jodit-dialog__header-toolbar{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:3;flex-shrink:3;font-size:18px;font-weight:400;line-height:48px;margin:0;padding:0 8px;vertical-align:top}@media (max-width:480px){.jodit-dialog__header-toolbar{padding-left:0}}.jodit-dialog__header-button{color:#222;-ms-flex-preferred-size:48px;flex-basis:48px;font-size:28px;height:48px;line-height:48px;text-align:center;text-decoration:none;-webkit-transition:background-color .2s ease 0s;-o-transition:background-color .2s ease 0s;transition:background-color .2s ease 0s}.jodit-dialog__header-button:hover{background-color:#ecebe9}.jodit-dialog__header .jodit_toolbar{background:transparent;border:0;-webkit-box-shadow:none;box-shadow:none}.jodit-dialog__header .jodit_toolbar>li.jodit-toolbar-button .jodit-input{padding-left:8px;width:auto}@media (max-width:480px){.jodit-dialog:not(.jodit-dialog_adaptive_false) .jodit-dialog__header{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-dialog_slim_true .jodit-dialog__header{min-height:10px}.jodit-dialog_slim_true .jodit-dialog__header-title{padding:0 calc(8px/4)}.jodit-dialog_slim_true .jodit-dialog__header-toolbar{padding:0 calc(8px/4)}.jodit-dialog_theme_dark .jodit-dialog__header{border-color:#4c4c4c}.jodit-dialog_fullsize_true .jodit-dialog__header{cursor:default}.jodit-dialog__content{-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:100px;overflow:auto}.jodit-dialog__content .jodit-form__group{margin-bottom:calc(8px*1.5);padding:0 8px}.jodit-dialog__content .jodit-form__group:first-child{margin-top:8px}.jodit-dialog__content .jodit-form__group label+.jodit-grid{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+.jodit-input_group{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+.jodit-select{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+input{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group .jodit-input_group{border-collapse:separate;display:table;width:100%}.jodit-dialog__content .jodit-form__group .jodit-input_group>*{display:table-cell;height:34px;vertical-align:middle}.jodit-dialog__content .jodit-form__group .jodit-input_group>input{margin:0!important}.jodit-dialog__content .jodit-form__group .jodit-input_group>input:not([class*=col-]){width:100%}.jodit-dialog__content .jodit-form__group .jodit-input_group-buttons{font-size:0;vertical-align:middle;white-space:nowrap;width:1%}.jodit-dialog__content .jodit-form__group .jodit-input_group-buttons>.jodit-button{border:1px solid #dadada;border-radius:0;height:34px;line-height:34px;margin-left:-1px}.jodit-dialog__footer{display:none;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:8px}.jodit-dialog__footer button{margin-right:calc(8px/2)}.jodit-dialog__footer button:last-child{margin-right:0}.jodit-dialog__column{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-dialog__resizer{display:none;position:relative}.jodit-dialog__resizer svg{fill:#a5a5a5;bottom:0;cursor:nwse-resize;height:12px;overflow:hidden;position:absolute;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:12px}.jodit-dialog_resizable_true .jodit-dialog__resizer{display:block}@media (max-width:480px){.jodit-dialog__resizer{display:none}}.jodit-dialog_prompt{max-width:300px;min-width:200px;padding:8px;word-break:break-all}.jodit-dialog_prompt label{display:block;margin-bottom:calc(8px/2)}.jodit-dialog_alert{max-width:300px;min-width:200px;padding:8px;word-break:break-all}.jodit-dialog_footer_true .jodit-dialog__footer{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit_fullsize .jodit-dialog__panel{bottom:0!important;height:100%!important;left:0!important;right:0!important;top:0!important;width:100%!important}.jodit_fullsize .jodit-dialog__panel .jodit-dialog__resizer{display:none}.jodit-dialog .jodit-ui-messages{z-index:20000004}.jodit-toolbar__box:not(:empty){background-color:#fff;border-bottom:1px solid #dadada;border-radius:3px 3px 0 0;overflow:hidden}.jodit-toolbar__box:not(:empty):not(:empty){background-color:#f9f9f9}.jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#f9f9f9}.jodit-ui-messages{bottom:0;height:0;overflow:visible;position:absolute;right:0;width:0;z-index:3}.jodit-ui-message{background:#cfe2ff;border:1px solid #b6d4fe;border-radius:0.375rem;bottom:0;color:#084298;cursor:pointer;display:block;font-size:1rem;opacity:0;padding:0.5rem 1rem;position:absolute;right:calc(8px/2);-webkit-transition:opacity .1s linear,bottom .3s linear,-webkit-transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,-webkit-transform .1s ease-out;-o-transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out,-webkit-transform .1s ease-out;white-space:pre}.jodit-ui-message_active_true{opacity:1}.jodit-ui-message:active{-webkit-transform:scale(.76);-ms-transform:scale(.76);transform:scale(.76)}.jodit-ui-message_variant_danger{background:#f8d7da;border-color:#f5c2c7;color:#842029}.jodit-ui-message_variant_error{background:#f8d7da;border-color:#f5c2c7;color:#842029}.jodit-ui-message_variant_secondary{background:#e2e3e5;border-color:#d3d6d8;color:#41464b}.jodit-ui-message_variant_success{background:#d1e7dd;border-color:#badbcc;color:#0f5132}.jodit-ui-label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px}.jodit-ui-input__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-input__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-input__input_has-error_true{border-color:#ff3b3b}.jodit-ui-input__input:focus{outline:0}.jodit-ui-input_theme_dark .jodit-ui-input__input{background-color:#dadada}.jodit-ui-input_has-error_true .jodit-ui-input__input{border-color:#ff3b3b}.jodit-ui-input__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input__error{color:#ff3b3b}.jodit-ui-input_has-error_true .jodit-ui-input__label{color:#ff3b3b}.jodit-ui-input__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-input__wrapper{min-width:140px}}.jodit-ui-input_theme_dark .jodit-ui-input__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-input_focused_true .jodit-ui-input__wrapper{border-color:#1e88e5}.jodit-ui-input__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-input__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-input__icon:not(:empty)+.jodit-ui-input__input{padding-left:0}.jodit-ui-input__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-input__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-input__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-input_theme_dark .jodit-ui-input__clear svg{fill:#4c4c4c}.jodit-ui-input_theme_dark .jodit-ui-input__icon svg{fill:#4c4c4c}.jodit-ui-block .jodit-ui-input{margin-bottom:0}.jodit-ui-select{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px}.jodit-ui-select__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-select__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-select__input_has-error_true{border-color:#ff3b3b}.jodit-ui-select__input:focus{outline:0}.jodit-ui-select_theme_dark .jodit-ui-select__input{background-color:#dadada}.jodit-ui-select_has-error_true .jodit-ui-select__input{border-color:#ff3b3b}.jodit-ui-select__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-select__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-select__error{color:#ff3b3b}.jodit-ui-select_has-error_true .jodit-ui-select__label{color:#ff3b3b}.jodit-ui-select__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-select__wrapper{min-width:140px}}.jodit-ui-select_theme_dark .jodit-ui-select__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-select_focused_true .jodit-ui-select__wrapper{border-color:#1e88e5}.jodit-ui-select__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-select__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-select__icon:not(:empty)+.jodit-ui-select__input{padding-left:0}.jodit-ui-select__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-select__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-select__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-select_theme_dark .jodit-ui-select__clear svg{fill:#4c4c4c}.jodit-ui-select_theme_dark .jodit-ui-select__icon svg{fill:#4c4c4c}.jodit-ui-select__input{background-image:url('+C+');background-position:98% 50%;background-repeat:no-repeat;padding-right:calc(8px*2)}.jodit-ui-select_size_tiny{margin-bottom:0}.jodit-ui-select_size_tiny .jodit-ui-select__input{height:calc(32px/1.8);line-height:calc(32px/1.8)}.jodit-ui-select_variant_outline .jodit-ui-select__wrapper{border:0}.jodit-ui-select_variant_outline .jodit-ui-select__wrapper select{outline:0}.jodit-ui-select_width_auto{width:auto}.jodit-ui-select_width_auto .jodit-ui-select__wrapper{min-width:auto}.jodit-ui-text-area{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px;width:100%}.jodit-ui-text-area__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-text-area__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-text-area__input_has-error_true{border-color:#ff3b3b}.jodit-ui-text-area__input:focus{outline:0}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__input{background-color:#dadada}.jodit-ui-text-area_has-error_true .jodit-ui-text-area__input{border-color:#ff3b3b}.jodit-ui-text-area__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-text-area__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-text-area__error{color:#ff3b3b}.jodit-ui-text-area_has-error_true .jodit-ui-text-area__label{color:#ff3b3b}.jodit-ui-text-area__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-text-area__wrapper{min-width:140px}}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-text-area_focused_true .jodit-ui-text-area__wrapper{border-color:#1e88e5}.jodit-ui-text-area__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-text-area__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-text-area__icon:not(:empty)+.jodit-ui-text-area__input{padding-left:0}.jodit-ui-text-area__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-text-area__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-text-area__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__clear svg{fill:#4c4c4c}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__icon svg{fill:#4c4c4c}.jodit-ui-text-area__wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-ui-text-area__input{height:100%;min-height:60px}.jodit-ui-checkbox{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-bottom:8px}.jodit-ui-checkbox__input{margin-right:8px}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__wrapper{display:inline-block;height:34px;margin-right:8px;position:relative;width:60px}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__wrapper input{height:0;opacity:0;width:0}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__switch-slider{background-color:#ccc;border-radius:34px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__switch-slider:before{background-color:#fff;border-radius:50%;bottom:4px;content:"";height:26px;left:4px;position:absolute;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;width:26px}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_checked_true .jodit-ui-checkbox__switch-slider{background-color:#2196f3}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_checked_true .jodit-ui-checkbox__switch-slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_focused_true .jodit-ui-checkbox__switch-slider{-webkit-box-shadow:0 0 1px #2196f3;box-shadow:0 0 1px #2196f3}.jodit-ui-block .jodit-ui-checkbox{margin-bottom:0}.jodit-ui-file-input{overflow:hidden;position:relative}.jodit-ui-file-input__input{bottom:0;cursor:pointer;font-size:400px;margin:0 calc(8px*-1) 0 0;opacity:0;padding:0;position:absolute;right:0;top:0}.jodit-ui-block{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;margin-bottom:8px}.jodit-ui-block_width_full{width:100%}.jodit-ui-block_align_full{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.jodit-ui-block_align_right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.jodit-ui-block_padding_true{padding:8px}@-webkit-keyframes b{30%{opacity:.6}60%{opacity:0}to{opacity:.6}}@keyframes b{30%{opacity:.6}60%{opacity:0}to{opacity:.6}}.jodit-progress-bar{border-radius:1px;height:2px;left:0;opacity:.7;position:absolute;top:0;z-index:2147483647}.jodit-progress-bar div{background:#b91f1f;height:2px;position:relative;-webkit-transition:width .5s ease-out,opacity .5s linear;-o-transition:width .5s ease-out,opacity .5s linear;transition:width .5s ease-out,opacity .5s linear;will-change:width,opacity}.jodit-progress-bar div:after{-webkit-animation:b 2s ease-out 0s infinite;animation:b 2s ease-out 0s infinite;border-radius:100%;-webkit-box-shadow:#b91f1f 1px 0 6px 1px;box-shadow:#b91f1f 1px 0 6px 1px;content:"";display:inline-block;height:2px;opacity:.6;position:absolute;top:0}.jodit-progress-bar div:before{-webkit-animation:b 2s ease-out 0s infinite;animation:b 2s ease-out 0s infinite;border-radius:100%;-webkit-box-shadow:#b91f1f 1px 0 6px 1px;box-shadow:#b91f1f 1px 0 6px 1px;content:"";display:inline-block;height:2px;opacity:.6;position:absolute;top:0}.jodit-progress-bar div:before{clip:rect(-6px,90px,14px,-6px);right:-80px;width:180px}.jodit-progress-bar div:after{clip:rect(-6px,22px,14px,8px);right:0;width:20px}.jodit-toolbar-collection,.jodit-toolbar-editor-collection{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));position:relative}.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));position:relative}.jodit-toolbar-collection_mode_horizontal:after{background-color:#fff;bottom:0;content:"";display:block;height:1px;left:0;position:absolute;width:100%}.jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#fff;bottom:0;content:"";display:block;height:1px;left:0;position:absolute;width:100%}.jodit-toolbar-collection_size_tiny.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-collection_size_tiny.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-editor-collection_size_tiny.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-editor-collection_size_tiny.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-collection_size_xsmall.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-collection_size_xsmall.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-editor-collection_size_xsmall.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-editor-collection_size_xsmall.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-collection_size_small.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-collection_size_small.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-editor-collection_size_small.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-editor-collection_size_small.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-collection_size_middle.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-collection_size_middle.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-editor-collection_size_middle.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-editor-collection_size_middle.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-collection_size_large.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-collection_size_large.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-editor-collection_size_large.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-editor-collection_size_large.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-collection_mode_vertical .jodit-ui-group,.jodit-toolbar-editor-collection_mode_vertical .jodit-ui-group{background-color:transparent;border:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button__text:not(:empty),.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button__text:not(:empty){-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.jodit-toolbar-collection .jodit-toolbar-button{margin:2px 1px;padding:0}.jodit-toolbar-collection .jodit-toolbar-content{margin:2px 1px;padding:0}.jodit-toolbar-editor-collection .jodit-toolbar-button{margin:2px 1px;padding:0}.jodit-toolbar-editor-collection .jodit-toolbar-content{margin:2px 1px;padding:0}.jodit-dialog .jodit-toolbar-collection_mode_horizontal,.jodit-dialog .jodit-toolbar-editor-collection_mode_horizontal{background-image:none}.jodit-toolbar-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid transparent;border-radius:3px;display:-webkit-box;display:-ms-flexbox;display:flex;height:34px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:34px;overflow:hidden}.jodit-toolbar-button__icon{display:none}.jodit-toolbar-button__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-toolbar-button__text{display:none}.jodit-toolbar-button__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-toolbar-button_context_menu .jodit-toolbar-button__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-toolbar-button_context_menu .jodit-toolbar-button__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-toolbar-button__icon:not(:empty)+.jodit-toolbar-button__text:not(:empty){margin-left:8px}.jodit-toolbar-button__icon:empty+.jodit-toolbar-button__text:not(:empty){padding:0 8px;padding:0}.jodit-toolbar-button .jodit-icon{height:14px;width:14px}.jodit-toolbar-button button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-toolbar-button_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_tiny{height:16px;min-width:16px}.jodit-toolbar-button_size_tiny .jodit-icon{height:8px;width:8px}.jodit-toolbar-button_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-toolbar-button_size_tiny_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_xsmall{height:22px;min-width:22px}.jodit-toolbar-button_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-toolbar-button_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-toolbar-button_size_xsmall_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_small{height:28px;min-width:28px}.jodit-toolbar-button_size_small .jodit-icon{height:12px;width:12px}.jodit-toolbar-button_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-toolbar-button_size_small_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_large{height:40px;min-width:40px}.jodit-toolbar-button_size_large .jodit-icon{height:16px;width:16px}.jodit-toolbar-button_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-toolbar-button_size_large_text-icons_true button{padding:0 8px}.jodit-toolbar-button__button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.75);cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-style:normal;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;outline:0;padding:0;padding:0 8px;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-toolbar-button__button:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__button:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__button:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__button[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__button[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-button__button[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-button__trigger{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0 3px 3px 0;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:.4;width:14px}.jodit-toolbar-button__trigger:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__trigger:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__trigger[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__trigger[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-button__trigger[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-button__trigger svg{width:10px}.jodit-toolbar-button_size_tiny .jodit-toolbar-button__trigger{width:8px}.jodit-toolbar-button_size_tiny .jodit-toolbar-button__trigger svg{width:4px}.jodit-toolbar-button_size_xsmall .jodit-toolbar-button__trigger{width:10px}.jodit-toolbar-button_size_xsmall .jodit-toolbar-button__trigger svg{width:6px}.jodit-toolbar-button_size_small .jodit-toolbar-button__trigger{width:12px}.jodit-toolbar-button_size_small .jodit-toolbar-button__trigger svg{width:8px}.jodit-toolbar-button_size_large .jodit-toolbar-button__trigger{width:16px}.jodit-toolbar-button_size_large .jodit-toolbar-button__trigger svg{width:12px}.jodit-toolbar-button_with-trigger_true .jodit-toolbar-button__button{border-radius:3px 0 0 3px}.jodit-toolbar-button_with-trigger_true:hover:not([disabled]){border-color:#dadada}.jodit-toolbar-button_stroke_false svg{stroke:none}.jodit-toolbar-content{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.75);cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-style:normal;height:34px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:34px;outline:0;padding:0;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-toolbar-content:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-content:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-content:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-content[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-content[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-content[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-content .jodit-icon{height:14px;width:14px}.jodit-toolbar-content button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-toolbar-content_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_tiny{height:16px;min-width:16px}.jodit-toolbar-content_size_tiny .jodit-icon{height:8px;width:8px}.jodit-toolbar-content_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-toolbar-content_size_tiny_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_xsmall{height:22px;min-width:22px}.jodit-toolbar-content_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-toolbar-content_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-toolbar-content_size_xsmall_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_small{height:28px;min-width:28px}.jodit-toolbar-content_size_small .jodit-icon{height:12px;width:12px}.jodit-toolbar-content_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-toolbar-content_size_small_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_large{height:40px;min-width:40px}.jodit-toolbar-content_size_large .jodit-icon{height:16px;width:16px}.jodit-toolbar-content_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-toolbar-content_size_large_text-icons_true button{padding:0 8px}.jodit-toolbar-content__icon{display:none}.jodit-toolbar-content__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-toolbar-content__text{display:none}.jodit-toolbar-content__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-toolbar-content_context_menu .jodit-toolbar-content__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-toolbar-content_context_menu .jodit-toolbar-content__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-toolbar-content__icon:not(:empty)+.jodit-toolbar-content__text:not(:empty){margin-left:8px}.jodit-toolbar-content__icon:empty+.jodit-toolbar-content__text:not(:empty){padding:0 8px}.jodit-toolbar-content:focus:not([disabled]){outline:1px dashed #b5d6fd}.jodit-toolbar-content_variant_default{background-color:#e3e3e3;color:#212529}.jodit-toolbar-content_variant_default svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default [disabled]{opacity:.7}.jodit-toolbar-content_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-toolbar-content_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-toolbar-content_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-toolbar-content_variant_primary{background-color:#007bff;color:#fff}.jodit-toolbar-content_variant_primary svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary [disabled]{opacity:.7}.jodit-toolbar-content_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-toolbar-content_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-toolbar-content_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-toolbar-content_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-toolbar-content_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary [disabled]{opacity:.7}.jodit-toolbar-content_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-toolbar-content_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-toolbar-content_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-toolbar-content_variant_success{background-color:#28a745;color:#fff}.jodit-toolbar-content_variant_success svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success [disabled]{opacity:.7}.jodit-toolbar-content_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-toolbar-content_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-toolbar-content_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-toolbar-content_variant_danger{background-color:#dc3545;color:#fff}.jodit-toolbar-content_variant_danger svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger [disabled]{opacity:.7}.jodit-toolbar-content_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-toolbar-content_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-toolbar-content_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-toolbar-content:hover:not([disabled]){background-color:transparent;opacity:1;outline:0}.jodit-filebrowser{display:-webkit-box;display:-ms-flexbox;display:flex;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;height:100%}.jodit-filebrowser_no-files_true{padding:8px}@media (max-width:480px){.jodit-filebrowser{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-flow:column-reverse;flex-flow:column-reverse}}.jodit-dialog .jodit-dialog__header-title.jodit-filebrowser__title-box{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding-left:8px}.jodit-filebrowser-preview{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:auto;max-height:100%;max-width:Min(100%,1000px);min-height:Min(100%,500px);min-width:400px;position:relative;text-align:center}@media (max-width:768px){.jodit-filebrowser-preview{height:100%;max-height:100%;max-width:100%;min-height:auto;min-width:auto}}.jodit-filebrowser-preview__box{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-filebrowser-preview__navigation{cursor:pointer;height:100%;left:0;position:absolute;top:0}.jodit-filebrowser-preview__navigation_arrow_next{left:auto;right:0}.jodit-filebrowser-preview__navigation svg{fill:#9e9ba7;height:45px;position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:fill .3s linear;-o-transition:fill .3s linear;transition:fill .3s linear;width:45px}.jodit-filebrowser-preview__navigation:hover svg{fill:#000}.jodit-filebrowser-preview img{max-height:100%;max-width:100%}.jodit-image-editor{height:100%;overflow:hidden;padding:8px;width:100%}@media (max-width:768px){.jodit-image-editor{height:auto}}.jodit-image-editor>div,.jodit-image-editor>div>div{height:100%}@media (max-width:768px){.jodit-image-editor>div,.jodit-image-editor>div>div{height:auto;min-height:200px}}.jodit-image-editor *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-image-editor .jodit-image-editor__slider-title{background-color:#f9f9f9;border-bottom:1px solid hsla(0,0%,62%,.31);color:#333;cursor:pointer;font-weight:700;line-height:1em;padding:.8em 1em;-o-text-overflow:ellipsis;text-overflow:ellipsis;text-shadow:#f3f3f3 0 1px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.jodit-image-editor .jodit-image-editor__slider-title svg{display:inline-block;margin-right:8px;vertical-align:middle;width:16px}.jodit-image-editor .jodit-image-editor__slider-content{display:none}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-title{background-color:#5d5d5d;color:#fff;text-shadow:#000 0 1px 0}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-title svg{fill:#fff}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-content{display:block}.jodit-image-editor__area{background-color:#eee;background-image:-o-linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada),-o-linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada);background-image:linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada),linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada);background-position:0 0,15px 15px;background-size:30px 30px;display:none;height:100%;overflow:hidden;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.jodit-image-editor__area.jodit-image-editor_active{display:block}.jodit-image-editor__area .jodit-image-editor__box{height:100%;overflow:hidden;pointer-events:none;position:relative;z-index:1}.jodit-image-editor__area .jodit-image-editor__box img{max-height:100%;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-image-editor__area .jodit-image-editor__croper{background-repeat:no-repeat;border:1px solid #fff;-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;height:100px;left:20px;pointer-events:none;position:absolute;top:8px;width:100px;z-index:2}.jodit-image-editor__area .jodit-image-editor__resizer{background-repeat:no-repeat;border:1px solid #fff;-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;height:100px;left:20px;pointer-events:none;position:absolute;top:8px;width:100px;z-index:2}.jodit-image-editor__area .jodit-image-editor__croper i.jodit_bottomright{background-color:#8c7878;border:1px solid #383838;border-radius:50%;bottom:calc(8px*-1);-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;cursor:se-resize;display:inline-block;height:20px;pointer-events:all;position:absolute;right:calc(8px*-1);width:20px;z-index:4}.jodit-image-editor__area .jodit-image-editor__resizer i.jodit_bottomright{background-color:#8c7878;border:1px solid #383838;border-radius:50%;bottom:calc(8px*-1);-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;cursor:se-resize;display:inline-block;height:20px;pointer-events:all;position:absolute;right:calc(8px*-1);width:20px;z-index:4}.jodit-image-editor__area .jodit-image-editor__croper i.jodit_bottomright:active,.jodit-image-editor__area .jodit-image-editor__resizer i.jodit_bottomright:active{border:1px solid #ff0}.jodit-image-editor__area.jodit-image-editor__area_crop{background:#eee;height:100%;line-height:100%;position:relative;text-align:center}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box{height:100%;line-height:100%;overflow:visible;pointer-events:all;text-align:left}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box img{height:100%;max-height:100%;max-width:100%;width:100%}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box:after{background:hsla(0,0%,100%,.3);bottom:0;content:"";left:0;margin:auto;position:absolute;right:0;top:0;z-index:1}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box .jodit-image-editor__croper{cursor:move;pointer-events:all}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box .jodit-image-editor__croper i.jodit-image-editor__sizes{background:rgba(0,0,0,.2);border-radius:.4em;bottom:-30px;color:#fff;display:block;font-size:12px;left:100%;padding:9px 6px;position:absolute;text-align:center;text-shadow:none;white-space:pre}.jodit-image-editor__area.jodit-image-editor__area_crop.jodit-image-editor_active{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-filebrowser-files{display:none;height:100%;overflow-anchor:auto;position:relative;vertical-align:top}.jodit-filebrowser-files .jodit-button{border-radius:0}.jodit-filebrowser-files_loading_true:before{content:"";height:100%;left:0;position:absolute;top:0;width:100%}.jodit-filebrowser-files_loading_true:after{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+w+') no-repeat 50%;background-size:100% 100%;content:"";display:inline-block;height:48px;left:50%;margin-left:calc(48px/-2);margin-top:calc(48px/-2);opacity:.7;position:absolute;top:50%;vertical-align:middle;width:48px;will-change:transform}.jodit-filebrowser-files_active_true{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-filebrowser-files::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-files::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-files::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.jodit-filebrowser-files_active_true{-ms-flex-line-pack:start;align-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow-y:auto;padding:calc(8px/2);width:100%}.jodit-filebrowser-files__item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:0;height:150px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:calc(8px/2);overflow:hidden;position:relative;text-align:center;-webkit-transition:border .1s linear,bottom .1s linear;-o-transition:border .1s linear,bottom .1s linear;transition:border .1s linear,bottom .1s linear;width:150px}@media (max-width:480px){.jodit-filebrowser-files__item{width:calc(50% - 8px)}}.jodit-filebrowser-files__item img{max-width:100%}.jodit-filebrowser-files__item:hover{border-color:#433b5c}.jodit-filebrowser-files__item_active_true{background-color:#b5b5b5;border-color:#1e88e5}.jodit-filebrowser-files__item_active_true .jodit-filebrowser-files__item-info{background-color:#b5b5b5;color:#fff;text-shadow:none}.jodit-filebrowser-files__item-info{background-color:#e9e9e9;bottom:0;color:#333;font-size:14px;left:0;line-height:16px;opacity:.85;overflow:visible;padding:.3em .6em;position:absolute;right:0;text-align:left;text-shadow:#eee 0 1px 0;-webkit-transition:opacity .4s ease;-o-transition:opacity .4s ease;transition:opacity .4s ease;white-space:normal}.jodit-filebrowser-files__item-info>span{display:block;font-size:.75em;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.jodit-filebrowser-files__item-info>span.jodit-filebrowser-files__item-info-filename{font-size:.9em;font-weight:700}.jodit-filebrowser-files__item:hover:not(.jodit-filebrowser-files__item_active_true) .jodit-filebrowser-files__item-info{bottom:-100px}.jodit-filebrowser-files_view_list{scroll-behavior:smooth}.jodit-filebrowser-files_view_list a{border-width:0 0 1px;display:block;height:26px;line-height:26px;margin:0;text-align:left;white-space:nowrap;width:100%}.jodit-filebrowser-files_view_list a img{display:inline-block;margin-left:4px;max-width:16px;min-width:16px;vertical-align:middle}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info{background-color:transparent;display:inline-block;font-size:0;height:100%;line-height:inherit;margin-left:4px;padding:0;position:static;vertical-align:middle;width:calc(100% - 20px)}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info>span{display:inline-block;font-size:12px;height:100%}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filename{width:50%}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filechanged,.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filesize{width:25%}.jodit-filebrowser-files_view_list a:hover{background-color:#433b5c}.jodit-filebrowser-files_view_list a:hover .jodit-filebrowser-files__item-info{color:#fff;text-shadow:none}.jodit-filebrowser-files_view_list a:before{content:"";display:inline-block;height:100%;vertical-align:middle}.jodit-filebrowser-tree{display:none;height:100%;overflow-anchor:auto;position:relative;vertical-align:top}.jodit-filebrowser-tree .jodit-button{border-radius:0}.jodit-filebrowser-tree_active_true{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-filebrowser-tree_loading_true:before{content:"";height:100%;left:0;position:absolute;top:0;width:100%}.jodit-filebrowser-tree_loading_true:after{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+w+') no-repeat 50%;background-size:100% 100%;content:"";display:inline-block;height:48px;left:50%;margin-left:calc(48px/-2);margin-top:calc(48px/-2);opacity:.7;position:absolute;top:50%;vertical-align:middle;width:48px;will-change:transform}.jodit-filebrowser-tree::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-tree::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-tree::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.jodit-filebrowser-tree_active_true{background-color:#3f3f3f;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:290px;min-width:200px;overflow-y:auto;width:31%;z-index:2}@media (max-width:480px){.jodit-filebrowser-tree_active_true{height:100px;max-width:100%;width:auto}}.jodit-filebrowser-tree_active_true::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-tree_active_true::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-tree_active_true::-webkit-scrollbar-thumb{background-color:hsla(0,0%,50%,.5);outline:1px solid #708090}.jodit-filebrowser-tree__item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #474747;color:#b1b1b1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:38px;padding:calc(8px/2) 8px;position:relative;text-decoration:none;-webkit-transition:background-color .2s ease 0s;-o-transition:background-color .2s ease 0s;transition:background-color .2s ease 0s;word-break:break-all}.jodit-filebrowser-tree__item-title{color:#b1b1b1;-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-filebrowser-tree__item .jodit-icon_folder{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(12px + 4px);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:calc(8px/2);opacity:.3;width:calc(12px + 4px)}.jodit-filebrowser-tree__item .jodit-icon_folder svg{fill:#b1b1b1!important;stroke:#b1b1b1!important;height:12px;width:12px}.jodit-filebrowser-tree__item .jodit-icon_folder:hover{background:#696969}.jodit-filebrowser-tree__item:hover{background-color:#ecebe9}.jodit-filebrowser-tree__item:hover-title{color:#222}.jodit-filebrowser-tree__item:hover i.jodit-icon_folder{opacity:.6}.jodit-filebrowser-tree__source-title{background:#5a5a5a;border-bottom:1px solid #484848;color:#969696;display:block;font-size:12px;padding:2px 4px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;word-break:break-all}a+.jodit-filebrowser-tree__source-title{margin-top:8px}.jodit-status-bar{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f9f9f9;border-radius:0 0 3px 3px;color:rgba(0,0,0,.75);display:-webkit-box;display:-ms-flexbox;display:flex;font-size:11px;height:20px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;overflow:hidden;padding:0 calc(8px/2);text-transform:uppercase}.jodit-status-bar_resize-handle_true{padding-right:14px}.jodit-status-bar:before{content:"";-webkit-box-flex:1;-ms-flex:auto;flex:auto;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.jodit-status-bar .jodit-status-bar__item{line-height:1.57142857em;margin:0 8px 0 0;-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;padding:0}.jodit-status-bar .jodit-status-bar__item{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px}.jodit-status-bar .jodit-status-bar__item>span{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px}.jodit-status-bar .jodit-status-bar__item.jodit-status-bar__item-right{margin:0 0 0 8px;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.jodit-status-bar .jodit-status-bar__item a{border-radius:3px;cursor:default;text-decoration:none}.jodit-status-bar .jodit-status-bar__item a:hover{background-color:#dadada;text-decoration:none}.jodit-status-bar a.jodit-status-bar-link{cursor:pointer}.jodit-status-bar a.jodit-status-bar-link{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:hover{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:visited{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:hover{text-decoration:underline}.jodit-workplace+.jodit-status-bar:not(:empty){border-top:1px solid #dadada}.jodit_disabled .jodit-status-bar{opacity:.4}.jodit-drag-and-drop__file-box{border:1px dashed #dadada;margin:8px 0;overflow:hidden;padding:25px 0;position:relative;text-align:center;width:100%}.jodit_uploadfile_button{border:1px dashed #dadada;margin:8px 0;overflow:hidden;padding:25px 0;position:relative;text-align:center;width:100%}.jodit-drag-and-drop__file-box:hover{background-color:#ecebe9}.jodit_uploadfile_button:hover{background-color:#ecebe9}.jodit-drag-and-drop__file-box input,.jodit_uploadfile_button input{bottom:0;cursor:pointer;font-size:400px;left:0;margin:0;opacity:0;padding:0;position:absolute;right:0;top:0}@media (max-width:768px){.jodit-drag-and-drop__file-box{max-width:100%;min-width:180px;width:auto}}.jodit-about{padding:20px}.jodit-about a{color:#459ce7;text-decoration:none}.jodit-about a:focus,.jodit-about a:hover{color:#23527c;outline:0;text-decoration:underline}.jodit-about div{margin-bottom:calc(8px/2)}.jodit-add-new-line{display:block;height:1px;outline:none;position:fixed;top:0;z-index:1}.jodit-add-new-line,.jodit-add-new-line *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-add-new-line:after{background-color:#6b6b6b;content:"";display:block;height:1px;width:100%}.jodit-add-new-line span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:hsla(40,7%,92%,.3);border:1px solid #6b6b6b;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:calc(100% - 30px);position:absolute;width:30px}.jodit-add-new-line span:hover{background:#ecebe9}.jodit-add-new-line_after span{bottom:0}.jodit-add-new-line svg{fill:#6b6b6b;width:16px}.jodit-source__mode .jodit-add-new-line{display:none!important}.jodit-color-picker{margin:0;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-color-picker__group{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:calc(8px/2);max-width:calc(24px*10);white-space:normal}.jodit-color-picker__color-item{border:1px solid transparent;display:block;height:24px;text-align:center;text-decoration:none;vertical-align:middle;width:24px}.jodit-color-picker__color-item:hover{border-color:#000}.jodit-color-picker__color-item:active{border:2px solid #1e88e5}.jodit-color-picker__color-item_active_true{border:2px solid #1e88e5}.jodit-color-picker__native svg{display:inline-block;height:16px;margin-right:4px;width:16px}.jodit-color-picker__native input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:18px;padding:0;width:18px}.jodit-color-picker__native input[type=color]::-webkit-color-swatch-wrapper{padding:0}.jodit-color-picker__native input input[type=color]::-webkit-color-swatch{border:none}.jodit-tabs{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-tabs .jodit-tabs__buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:18px;margin-bottom:calc(8px/2);margin-top:4px}.jodit-tabs .jodit-tabs__buttons>*{cursor:pointer;margin-left:calc(8px/2)}.jodit-tabs .jodit-tabs__buttons>:only-of-type{width:100%}.jodit-tabs .jodit-tabs__buttons>:first-child{margin-left:0}@media (max-width:480px){.jodit-tabs .jodit-tabs__buttons{display:block}.jodit-tabs .jodit-tabs__buttons>*{margin-left:0;width:100%}}.jodit-tabs__button{min-width:80px}.jodit-tabs__button_columns_3{width:33.33333%}.jodit-tabs__button_columns_2{width:50%}.jodit-tabs .jodit-tabs__wrapper .jodit-tab{display:none}.jodit-tabs .jodit-tabs__wrapper .jodit-tab.jodit-tab_active{display:block}.jodit-tabs .jodit-tabs__wrapper .jodit-tab.jodit-tab_empty{min-height:100px;min-width:220px}.jodit_fullsize-box_true{overflow:visible!important;position:static!important;z-index:100000!important}body.jodit_fullsize-box_true,html.jodit_fullsize-box_true{height:0!important;overflow:hidden!important;width:0!important}html.jodit_fullsize-box_true{position:fixed!important}.jodit_fullsize{bottom:0;left:0;max-width:none!important;position:absolute;right:0;top:0;z-index:100000}.jodit_fullsize .toolbar{width:100%!important}.jodit_fullsize .jodit__area,.jodit_fullsize .jodit_editor{height:100%}.jodit-properties__lock>svg,.jodit-properties__unlock>svg{fill:#222;display:inline-block;font-size:8px;font-style:normal;height:14px;line-height:14px;overflow:hidden;-webkit-transform-origin:0 0!important;-ms-transform-origin:0 0!important;transform-origin:0 0!important;vertical-align:middle;width:14px}.jodit-properties .jodit-properties_view_box{padding:8px}.jodit-properties .jodit-properties_view_box .jodit-properties_image_view{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f6f6f6;display:-webkit-box;display:-ms-flexbox;display:flex;height:150px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0 0 8px;padding:0}.jodit-properties .jodit-properties_view_box .jodit-properties_image_view img{max-height:100%;max-width:100%}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:0!important;min-width:auto;padding:0!important}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group a{cursor:pointer;display:inline-block}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group .jodit-input{width:calc(50% - 8px)!important}.jodit-popup-inline__container{min-width:700px;z-index:1300}.jodit-paste-storage{max-width:600px;padding:8px}@media (max-width:768px){.jodit-paste-storage{max-width:100%}}.jodit-paste-storage>div{border:1px solid #dadada;max-height:300px;max-width:100%}.jodit-paste-storage>div:first-child{margin-bottom:8px}.jodit-paste-storage>div:first-child a{border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:#4c4c4c;display:block;margin:0;max-width:100%;outline:none;overflow:hidden;padding:calc(8px/2);text-decoration:none;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:pre}.jodit-paste-storage>div:first-child a.jodit_active{background-color:#575757;color:#fff}.jodit-paste-storage>div:first-child a:focus{outline:none}.jodit-paste-storage>div:last-child{overflow:auto;padding:8px}.jodit-paste-storage>div:last-child li,.jodit-paste-storage>div:last-child ul{margin:0}.jodit-placeholder{color:#a5a5a5;display:block;left:0;padding:8px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;width:100%;z-index:1}.jodit__preview-box table{border:none;border-collapse:collapse;empty-cells:show;margin-bottom:1em;margin-top:1em;max-width:100%}.jodit__preview-box table tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit__preview-box table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit__preview-box table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-table-resizer{cursor:col-resize;margin-left:calc(8px/-2);padding-left:calc(8px/2);padding-right:calc(8px/2);position:absolute;z-index:3}.jodit-table-resizer:after{border:0;content:"";display:block;height:100%;width:0}.jodit-table-resizer_moved{background-color:#b5d6fd;z-index:2}.jodit-table-resizer_moved:after{border-right:1px solid moved}[data-jodit_iframe_wrapper]{display:block;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[data-jodit_iframe_wrapper] iframe{position:relative}[data-jodit_iframe_wrapper]:after{background:transparent;bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0;z-index:1}[data-jodit_iframe_wrapper][data-jodit-wrapper_active=true] iframe{z-index:2}.jodit_lock [data-jodit-wrapper_active=true] iframe{z-index:1}.jodit-resizer{font-size:0;height:100px;left:0;outline:3px solid #98c1f1;pointer-events:none;position:absolute;top:0;width:100px}.jodit-resizer,.jodit-resizer *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-resizer>span{background-color:#a5a5a5;color:#fff;display:inline-block;font-size:12px;height:24px;left:50%;line-height:24px;margin-left:calc(70px/-2);margin-top:calc(24px/-2);opacity:0;overflow:visible;position:absolute;text-align:center;top:50%;-webkit-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear;width:70px}.jodit-resizer>div{background-color:#5ba4f3;display:inline-block;height:10px;pointer-events:all;position:absolute;width:10px;z-index:4}.jodit-resizer>div:hover{background-color:#537ebb}.jodit-resizer>div:first-child{cursor:nwse-resize;left:calc(10px/-2);top:calc(10px/-2)}.jodit-resizer>div:nth-child(2){cursor:nesw-resize;right:calc(10px/-2);top:calc(10px/-2)}.jodit-resizer>div:nth-child(3){bottom:calc(10px/-2);cursor:nwse-resize;right:calc(10px/-2)}.jodit-resizer>div:nth-child(4){bottom:calc(10px/-2);cursor:nesw-resize;left:calc(10px/-2)}.jodit-ui-search{height:0;position:absolute;right:0;top:0;width:0}.jodit-ui-search_sticky_true{position:fixed}.jodit-ui-search__box{background-color:#f9f9f9;border:solid #dadada;border-width:0 0 1px 1px;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:100vw;padding:calc(8px/2);position:absolute;right:0;width:320px}.jodit-ui-search__box input{background-color:transparent;border:0;height:100%;margin:0;outline:none;padding:0 8px;width:100%}.jodit-ui-search__box input[data-ref=replace]{display:none}.jodit-ui-search__box input:not(:focus)+input:not(:focus){border-top:1px solid #dadada}.jodit-ui-search__buttons{height:30px}.jodit-ui-search__counts{height:30px}.jodit-ui-search__inputs{height:30px}.jodit-ui-search__inputs{padding-right:calc(8px/2);width:60%}.jodit-ui-search__counts{border-left:1px solid #dadada;color:#dadada;width:15%}.jodit-ui-search__buttons,.jodit-ui-search__counts{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-search__buttons{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-left:0}.jodit-ui-search__buttons button{background-color:transparent;border:1px solid transparent;height:100%;margin-right:1%;width:32%}.jodit-ui-search__buttons button[data-ref=replace-btn]{border:1px solid #dadada;display:none;margin-top:2px;width:100%}.jodit-ui-search__buttons button:hover{background-color:#ecebe9}.jodit-ui-search__buttons button:focus{border:1px solid rgba(181,214,253,.995)}.jodit-ui-search__buttons button:active{border:1px solid #b5d6fd;-webkit-transform:scale(0.95);-ms-transform:scale(0.95);transform:scale(0.95)}.jodit-ui-search_empty-query_true [data-ref=next],.jodit-ui-search_empty-query_true [data-ref=prev]{opacity:.5}.jodit-ui-search_replace_true .jodit-ui-search__counts{height:calc(30px*2)}.jodit-ui-search_replace_true .jodit-ui-search__inputs{height:calc(30px*2)}.jodit-ui-search_replace_true .jodit-ui-search__counts input{height:50%;-webkit-transition:background-color 0.1s linear;-o-transition:background-color 0.1s linear;transition:background-color 0.1s linear}.jodit-ui-search_replace_true .jodit-ui-search__inputs input{height:50%;-webkit-transition:background-color 0.1s linear;-o-transition:background-color 0.1s linear;transition:background-color 0.1s linear}.jodit-ui-search_replace_true .jodit-ui-search__counts input:focus{-webkit-box-shadow:inset 0 0 3px 0 #dadada;box-shadow:inset 0 0 3px 0 #dadada}.jodit-ui-search_replace_true .jodit-ui-search__inputs input:focus{-webkit-box-shadow:inset 0 0 3px 0 #dadada;box-shadow:inset 0 0 3px 0 #dadada}.jodit-ui-search_replace_true .jodit-ui-search__counts input[data-ref=replace],.jodit-ui-search_replace_true .jodit-ui-search__inputs input[data-ref=replace]{display:block}.jodit-ui-search_replace_true .jodit-ui-search__buttons{-ms-flex-wrap:wrap;flex-wrap:wrap}.jodit-ui-search_replace_true .jodit-ui-search__buttons button[data-ref=replace-btn]{display:block}[jd-tmp-selection]{background-color:#7fffd4}.jodit-container:not(.jodit_inline){min-height:100px}.jodit-container:not(.jodit_inline) .jodit-workplace{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:auto;min-height:50px;overflow:hidden}.jodit-container:not(.jodit_inline) .jodit-editor__resize{position:relative}.jodit-container:not(.jodit_inline) .jodit-editor__resize svg{fill:#a5a5a5;bottom:0;cursor:nwse-resize;height:12px;overflow:hidden;position:absolute;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:12px}.jodit-source{background-color:#323232;display:none;-webkit-box-flex:1;-ms-flex:auto;flex:auto;overflow:auto;position:relative}.jodit-source,.jodit-source .jodit-source__mirror-fake{min-height:100%}.jodit-source *{font:12px/normal Monaco,Menlo,Ubuntu Mono,Consolas,source-code-pro,monospace}.jodit-container.jodit-source__mode .jodit-wysiwyg,.jodit-container.jodit-source__mode .jodit-wysiwyg_iframe{display:none!important}.jodit-container.jodit-source__mode .jodit-source{display:block!important}.jodit-container.jodit_split_mode .jodit-workplace{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.jodit-container.jodit_split_mode .jodit-source,.jodit-container.jodit_split_mode .jodit-wysiwyg,.jodit-container.jodit_split_mode .jodit-wysiwyg_iframe{display:block!important;-webkit-box-flex:1;-ms-flex:1;flex:1;width:50%}.jodit-source__mirror{background:#323232;border:0;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:#f0f0f0;height:100%;line-height:1.5;font:12px/normal Monaco,Menlo,Ubuntu Mono,Consolas,source-code-pro,monospace;margin:0;min-height:100%;outline:none;overflow:auto;padding:8px;resize:none;-moz-tab-size:2em;-o-tab-size:2em;tab-size:2em;white-space:pre-wrap;width:100%;z-index:2}.jodit-source__mirror::-moz-selection{background:#bdbdbd}.jodit-source__mirror::selection{background:#bdbdbd}.jodit_sticky-dummy_toolbar{display:none}.jodit_sticky>.jodit-toolbar__box{border-bottom:1px solid #dadada;left:auto;position:fixed;position:sticky;top:0;z-index:3}.jodit_sticky .jodit_sticky-dummy_toolbar{display:block}.jodit-symbols{padding:8px;width:460px}.jodit-symbols__container{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-symbols__container_table{width:88%}.jodit-symbols__container_preview{width:12%}.jodit-symbols__preview{border:1px solid #dadada;font-size:34px;padding:20px 0;text-align:center}.jodit-symbols__table{border:0;border-spacing:0;table-layout:fixed}.jodit-symbols__table td{padding:0}.jodit-symbols__table td a{border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:#4c4c4c;cursor:pointer;display:inline-block;font-size:16px;height:calc(18px*1.2);line-height:calc(18px*1.2);text-align:center;text-decoration:none;vertical-align:top;width:calc(18px*1.2)}.jodit-symbols__table td a:focus{outline:2px solid #dadada}.jodit-symbols__table td a:hover{outline:2px solid #dadada}.jodit-context table,.jodit-wysiwyg table{border:none;border-collapse:collapse;empty-cells:show;margin-bottom:1em;margin-top:1em;max-width:100%}.jodit-context table tr,.jodit-wysiwyg table tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-context table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-context table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-wysiwyg table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-wysiwyg table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-form__inserter .jodit-form__table-creator-box{display:-webkit-box;display:-ms-flexbox;display:flex}@media (max-width:768px){.jodit-form__inserter .jodit-form__table-creator-box{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container{font-size:0;margin:0;min-width:180px;padding:0}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span{border:1px solid #dadada;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:18px;margin-bottom:2px;margin-left:2px;vertical-align:top;width:18px}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span:first-child{margin-left:0}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span.jodit_hovered{background:#7a450f;border-color:#7a450f}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options{font-size:14px}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options label{padding-top:0;text-align:left}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options label input{margin-right:8px}.jodit-form__inserter label{font-size:14px;margin:0;padding:8px;text-align:center}.jodit-xpath{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:calc(8px/-2)}.jodit-xpath__item{display:-webkit-box;display:-ms-flexbox;display:flex;height:11px;line-height:calc(11px - 1px)}.jodit-xpath__item a{color:#4c4c4c;font-size:11px;margin-left:2px;outline:0;padding:0 3px}.jodit-dialog_theme_dark .jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit-dialog_theme_dark .jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit_theme_dark .jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit_theme_dark .jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit-dialog_theme_dark .jodit-toolbar-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty){border-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar__box:not(:empty){border-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-right-color:#6b6b6b}.jodit_theme_dark .jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-right-color:#6b6b6b}.jodit-dialog_theme_dark.jodit-container{background-color:#575757;border-color:#6b6b6b}.jodit_theme_dark.jodit-container{background-color:#575757;border-color:#6b6b6b}.jodit-dialog_theme_dark.jodit-container.jodit_disabled{background-color:#575757}.jodit_theme_dark.jodit-container.jodit_disabled{background-color:#575757}.jodit-dialog_theme_dark.jodit-container:not(.jodit_inline) .jodit-workplace{border-color:#575757}.jodit_theme_dark.jodit-container:not(.jodit_inline) .jodit-workplace{border-color:#575757}.jodit-dialog_theme_dark .jodit-popup__content{background:#787878}.jodit_theme_dark .jodit-popup__content{background:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__text{color:#d1cccc}.jodit-dialog_theme_dark .jodit-ui-button__text{color:#d1cccc}.jodit_theme_dark .jodit-toolbar-button__text{color:#d1cccc}.jodit_theme_dark .jodit-ui-button__text{color:#d1cccc}.jodit-dialog_theme_dark .jodit-toolbar-button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button__button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button__trigger:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button__button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button__button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button__trigger:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-status-bar{background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit_theme_dark .jodit-status-bar{background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar .jodit-status-bar__item a{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar .jodit-status-bar__item span{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link:hover{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link:visited{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item a{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item span{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:hover{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:visited{color:#d1cccc}.jodit_theme_dark .jodit-status-bar{color:#d1cccc}.jodit_theme_dark .jodit-status-bar .jodit-status-bar__item a{color:#d1cccc}.jodit_theme_dark .jodit-status-bar .jodit-status-bar__item span{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link:hover{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link:visited{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item a{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item span{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:hover{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:visited{color:#d1cccc}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty){background:#5f5c5c}.jodit_theme_dark .jodit-toolbar__box:not(:empty){background:#5f5c5c}.jodit-dialog_theme_dark .jodit-icon{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit-toolbar-button .jodit-toolbar-button__trigger{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit__upload-button svg{fill:silver;stroke:silver}.jodit_theme_dark .jodit-icon{fill:silver;stroke:silver}.jodit_theme_dark .jodit-toolbar-button .jodit-toolbar-button__trigger{fill:silver;stroke:silver}.jodit_theme_dark .jodit__upload-button svg{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit-icon-close{stroke:silver}.jodit_theme_dark .jodit-icon-close{stroke:silver}.jodit-dialog_theme_dark .jodit-wysiwyg{background-color:#575757;color:#d1cccc}.jodit-dialog_theme_dark .jodit-wysiwyg_iframe{background-color:#575757;color:#d1cccc}.jodit_theme_dark .jodit-wysiwyg{background-color:#575757;color:#d1cccc}.jodit_theme_dark .jodit-wysiwyg_iframe{background-color:#575757;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form input[type=text]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form input[type=url]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form textarea{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form input[type=text]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form input[type=url]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form textarea{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form button{background-color:hsla(0,0%,41%,.75);color:#d1cccc}.jodit_theme_dark .jodit-form button{background-color:hsla(0,0%,41%,.75);color:#d1cccc}.jodit-dialog_theme_dark .jodit-placeholder{color:hsla(0,5%,81%,.8)}.jodit_theme_dark .jodit-placeholder{color:hsla(0,5%,81%,.8)}.jodit-dialog_theme_dark .jodit-drag-and-drop__file-box{color:#d1cccc}.jodit-dialog_theme_dark .jodit_uploadfile_button{color:#d1cccc}.jodit_theme_dark .jodit-drag-and-drop__file-box{color:#d1cccc}.jodit_theme_dark .jodit_uploadfile_button{color:#d1cccc}.jodit-dialog_theme_dark .jodit-drag-and-drop__file-box:hover{background-color:hsla(0,0%,41%,.75)}.jodit-dialog_theme_dark .jodit_uploadfile_button:hover{background-color:hsla(0,0%,41%,.75)}.jodit_theme_dark .jodit-drag-and-drop__file-box:hover{background-color:hsla(0,0%,41%,.75)}.jodit_theme_dark .jodit_uploadfile_button:hover{background-color:hsla(0,0%,41%,.75)}.jodit-dialog_theme_dark .jodit-add-new-line:before{border-top-color:#686767}.jodit_theme_dark .jodit-add-new-line:before{border-top-color:#686767}.jodit-dialog_theme_dark .jodit-add-new-line span{background:hsla(0,0%,41%,.75);border-color:#686767}.jodit_theme_dark .jodit-add-new-line span{background:hsla(0,0%,41%,.75);border-color:#686767}.jodit-dialog_theme_dark .jodit-add-new-line span svg{fill:#d1cccc}.jodit_theme_dark .jodit-add-new-line span svg{fill:#d1cccc}.jodit-dialog_theme_dark .jodit-resizer>i{background:hsla(0,0%,41%,.75);border-color:silver}.jodit_theme_dark .jodit-resizer>i{background:hsla(0,0%,41%,.75);border-color:silver}.jodit-dialog_theme_dark .jodit-input{background-color:#787878;border-color:#444;color:#444}.jodit-dialog_theme_dark .jodit-select{background-color:#787878;border-color:#444;color:#444}.jodit_theme_dark .jodit-input{background-color:#787878;border-color:#444;color:#444}.jodit_theme_dark .jodit-select{background-color:#787878;border-color:#444;color:#444}.jodit-dialog_theme_dark.jodit-dialog{background-color:#575757}.jodit_theme_dark.jodit-dialog{background-color:#575757}.jodit-dialog_theme_dark.jodit-dialog .jodit-dialog__header{border-color:#444}.jodit-dialog_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item{border-color:#444}.jodit_theme_dark.jodit-dialog .jodit-dialog__header{border-color:#444}.jodit_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item{border-color:#444}.jodit-dialog_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item-info{background-color:#d1cccc}.jodit_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item-info{background-color:#d1cccc}',""]);const E=b},379:o=>{var s=[];function u(p){for(var m=-1,f=0;f<s.length;f++)if(s[f].identifier===p){m=f;break}return m}function d(p,m){for(var f={},g=[],v=0;v<p.length;v++){var S=p[v],x=m.base?S[0]+m.base:S[0],b=f[x]||0,_="".concat(x," ").concat(b);f[x]=b+1;var w=u(_),C={css:S[1],media:S[2],sourceMap:S[3],supports:S[4],layer:S[5]};if(w!==-1)s[w].references++,s[w].updater(C);else{var E=h(C,m);m.byIndex=v,s.splice(v,0,{identifier:_,updater:E,references:1})}g.push(_)}return g}function h(p,m){var f=m.domAPI(m);return f.update(p),function(g){if(g){if(g.css===p.css&&g.media===p.media&&g.sourceMap===p.sourceMap&&g.supports===p.supports&&g.layer===p.layer)return;f.update(p=g)}else f.remove()}}o.exports=function(p,m){var f=d(p=p||[],m=m||{});return function(g){g=g||[];for(var v=0;v<f.length;v++){var S=u(f[v]);s[S].references--}for(var x=d(g,m),b=0;b<f.length;b++){var _=u(f[b]);s[_].references===0&&(s[_].updater(),s.splice(_,1))}f=x}}},569:o=>{var s={};o.exports=function(u,d){var h=function(p){if(s[p]===void 0){var m=document.querySelector(p);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}s[p]=m}return s[p]}(u);if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(d)}},216:o=>{o.exports=function(s){var u=document.createElement("style");return s.setAttributes(u,s.attributes),s.insert(u,s.options),u}},565:(o,s,u)=>{o.exports=function(d){var h=u.nc;h&&d.setAttribute("nonce",h)}},795:o=>{o.exports=function(s){var u=s.insertStyleElement(s);return{update:function(d){(function(h,p,m){var f="";m.supports&&(f+="@supports (".concat(m.supports,") {")),m.media&&(f+="@media ".concat(m.media," {"));var g=m.layer!==void 0;g&&(f+="@layer".concat(m.layer.length>0?" ".concat(m.layer):""," {")),f+=m.css,g&&(f+="}"),m.media&&(f+="}"),m.supports&&(f+="}");var v=m.sourceMap;v&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),p.styleTagTransform(f,h,p.options)})(u,s,d)},remove:function(){(function(d){if(d.parentNode===null)return!1;d.parentNode.removeChild(d)})(u)}}}},589:o=>{o.exports=function(s,u){if(u.styleSheet)u.styleSheet.cssText=s;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(s))}}},963:o=>{o.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAABRsSURBVHja7F1/aJfVGn/33RgUg8FiNfK2WCykyS7GLoYyUbwYipZMumgLo+iPS9HlXhSHkRXdislESxMz0mapuaFo2myjkfnNlTQ2FJdTu8NvLVcrdbpcfGvxrfs823m/vXt3fjznvOedzr0PPJzzPe+7d+97Ps95nuc851fGAw884CD98ccfI1Jqmc3UpEyQz4FkMqRTgYshn8fymZ57SyGbzf5mENIOz9+ngE9Atg/SLkhPQHoWeEDn3SmpSZlJnvf7ypUrTpb7IyMjY+gGN6WWmaY84l2T3c+u58D1csjOgvwsyBdBvsDRo2zgMl/ZNM59vcAJ4Dj8nzikLa5QmBLv28YCfPd3li7gPHBMwKdcEwhCJgN6FoLOWJtUgiWovALG04FXsbI44xbgw8AplbaU/Q+ZQNgGf0gA/JWhC1aQyle1eN91rPRKKKuEsjzZvSph0m2RiutpIYRrfZC8B+l7kB6jgq0CnQIy9X39v2NYQW5FeUFQlQVN/aALyiYBPw/5M5B+Dvw02vMggqcDukEl57F3xHf9H747+4bA5oD6dzqaYEgAqIDbBl9RhvZ4H/B5yL+IDp3oXhmwNkm3lTLn80VIz+O3QFqm2/rHwgeI6QDOa006LZ3Q4lHNNwK3AVeYAD4WgmHQUivYNzWyb7xufICYaavXVbuKZ6MXfwRVJ+TnXW+Am/oMnNaO3/Y5pPitcyh/a6LqtXwAt+J01LVFEzAJ0jpIj7JunJYd1wHchnBQHUSC3Uan8WPgPVgHlBiBCcAkH4Da2i2DjwGZlcy5W0K17zLwVb9NgaY4iJpawJs+BCnWwUo3SKXT4oOAP8IHCFsIfMCguj8JaQ2kOaaA227d10ALuIR1gHVxErjctPtHBd8btSR3A4MIgSePAZxqVPeQlthq7ZRuZVABCVkLuGkJpGgKsY4ybfUEVO84qhsoAzSgrUfHZ1UQVe99B6o2oMYdwg7latAq5iROGoueQExW6UE0gCe/ANIh9SZ6jqkWsN3STZ0rHWEgpkNmEvILxqQbSAXaAPxqSBswQkbpbpo6fGPR0m3GBYjBIIwqNjCTEAr4wkBQUA0AjKNrdZCu0okAqgQhTKCDhFxV91BNgsDuYx3WQZptG3xtDUCJEDKvthGuLVEJlq4gUMyAylfQERadPrhKOHTmB3Ces4RFEXNsgW8UClbZcEhxqPQIpHOord2k1ZsAH4YvYNJXN3EgWX4Ocw4LbIEvDQSJfADJtULWxSuj+BBUP4DaC6D0DkyFg6JKTVo/5brvXqzbo2zSi3af3/9bGgrW1Ar5kH4MXEzVHEHVf5CuYZC4fti9AoI/gXX8Eda5Tp9f9I4xWWsnOoc5zNMv1okjmKp/vzay3epNJ4+YmALdoWBPWTHksc5zTU1AekqYt7LcWTruTYTZQdmQHoB0GuXv/de8L8e7xrsuA8kPNtx3AZIOxp3APc7wvD6kvi+//DLh3nvPPfegWs1jf4dBGGxpOA+hlOXzgw7VBjEBnDKcs4jzDOZDOmjqD2SJQFGBx9JaSOcQ7xVO2RIJhf86AfB+Z3huHs7Ra2pra+ugtubTp0+jMLgC0e6/ftddd6EgzMO5iGwSaq4NITCdLczy6GzXAj8KnDIxAaM0AKeViwCtgbRSNgGUJwQyDaACngO4w6S/CXgb8KEvvvgiFUaw59y5c64mWXvnnXdmsijdYxjpdP6cXh6oS0g1Bb48zpFEzValA3663pcuXaoleSzFltBIlWhRmWx+v6yMcQJ4PU7A/Oyzz/qca0R33HEHrjlAEJa73rns24JqA0keTUGTjglIJpNOxsMPP6wLfiGkx53hxRbcewwXc1BAx0u4gGMNcP2nn36acq4juv322ytZ5K7UlhBo5LER3AvcTXU60wKgYbsyWTCi3LTV6wLvKesGrvrkk0/qneucCgoKHoJkHbxvYRAhMMij/zMbVzZRTMAvv/wycj4AoRv4Mk7oII4HkLp+vC6drwxt/FrgKeMBfKTe3t69UMFTgPG9B3WcQdMeBsvjhJJqnYGqjMrKSmr/tZxNWAi87o9i+1l5O6SPNjc3dzrjlPLz83HyC/aWpqk0gWZUUHZtJvxuUZmAtAYgtHycr/a6qIXz2DQI5OH1UDRjPIOPdOHChU6o+JmQXW+68JYS4vUB/bozvN5RGAImdwPZA3AC51RKrMAfyBHFGCRBnz4oe7ypqemgc4PQxYsX0YytuOWWW3BRaa3DWd0U1A/w/Z4KvBx4jcoExAitE6dzPStr3RR/QKQ5fOUJ4PsaGxtvGPC9dOnSJfyu+7ALa9MJFPx+lkU05YNBBDVdg0uwKc4eAWCZ83cC8jM+/PDDLucGpr6+Pvy+GWz/ASs9AMFvd7ax1ATEFOBjmLdSBraN3gBwHHhmQ0NDrzMB6PLly73MUYubOs3EiB/GJebyTEB6QogCnGrV6KAFR7AVeP4HH3ww4EwgunLlCn7vfACi1UQDqMb5PWUvm5qAB3HESXNomKz2GaOHv/DAgQNJZwJSf38/fvdC3J5G1iPQnf3jK5sGvx80MQHP69hxHWZ/2wN8//vvv3/BmcD0008/XWCaoEcUJ6C0eoUWeFbXBOBCzTKKJ2/YExgEXrRv374eJyLn6tWrWA+LAJRBy+o/rQUQUx0TsFwzRKzLK/bu3dseQf8nDQwMYH2sCOL0ibx9Vr6cagIKmf0nxe8pguC7vn/Pnj2bIshH088//4z1st+m+veUI6ZFFBOwLGj/XqIh0O4/HkEtJgDmcZ4/EED9e69VKk0ACoDN1u/jqrq6uv4IZjElk0msnypbwPs0wTKVCUBnYbLuMC5REA7v3r37vQhikhBgPTWrTAEFeB9NZt3C0SbAr/6DdPM4jF7/PyNotUzBU26vgAo8x+7zri3jmgAgnOJdKYrVB9QEb+zcubMrgpVOv/76K9bXGzrACwTJfw1D+9k8EzAXOE8GviEPAK+JIDXSAlhvA7yWTWztvMfiXM65PBNQrgLfUBi2v/vuu70RnPo0ODjYC0BtN3D2VNfLR5gAz04eRn17yb0p4A0RlIEI6y+la/MV1xf4fYACSEtDiP031dbWRrY/AP32229dAGCTrs1XrHHEaesFXh+gXCfooyEM2yIIrdC2ADZ/1D1eM+CagHLJ5ExTxrl9hyLsrDiDWI99EjApgPvLRwhAmQh4HV/Axwe3bt06GMEXnFKpFK4tOBgQcH95WdoEAE01nc8Xi8VEArA3gs4q7VWpfsHaCpEg4GrnoeXhOEKUw3u4yZYqbGo4Lk2KR5hZpcOsXjO9GIm0AYFycTErmoDJVLWu0Tto3bJly0CEmT36/fffkzh/UKfVE3yLkix3Xx+v5FjYaaslgiwUZxDrdbrm38guF6EAFFKAF5kEwcFPrRFcoVCrIdAiKsSlYUWqFi/zBwTXOiKsQqGOIKe1cQRmSAPkmYIv0ADY9Yuif+GYgC5Wv9kB1L6X8lAA8k3BFwhB94YNG1IRXPYJutwpINwBpNjSI/O5AhDQGUxEUIVKCRMBEGiFIQG4yX+Daf+fPacvwihUM2Czfm/KcgMLtjZZhudEY//hks2VVJlZ7tJvi5SMMApVA9gMsOVkXYvDFiO6fggFACUqJ6qKcaMBbD5uAH2AlE0fIKJxRSnUAGizcykePtWzjOo1VA2gpa0V2CVRALBbURDwQV4qiGAKVQDyLZ571JfFum0lFqTJvScvgilUytPxAxSY9boawMbD3OtFEUahaoAinQap0gA4JSzhPswSFz733HOZEVT2KZlMYr0WesGV7KpOoQRqgG6DVi4rx5EqjFWfjSCz3vqLHd9IoGyYnoBjNwpAwhBoWXlpJAChCECpv66p5ycJBCSBcwI7daZ7E83FtAiuUGgaT/WLACaYhk4MBCVk0UDKWb2c3+URVqFogOm8OqccqMW5d+Dmm29OuGsDOyw7gmUvvfRSFBCySFevXsX6LBO1cIoG8NEQ5u7KoFbLi0Kz3fODI7JGeHbwTSJADcxCq1cAWnR39yYIQUWEmVX1X2G6SYTgnhavABwL0uoF91dUV1dnR9AFp/7+fjysq0IGvIEGODYkAOwa7t/XYXl3kDzgBRF8Vgg3eczT2SqGYP97vBoA83ELrd6/WPSJCDsr6v8Jw91BRdfS6za9ewQ1qVo9RQv47plXU1NTHEFoTpcvX8aTwueJgKdoAI4wpE8Y9e4SdtgdGLK4S1gm8L8jGAO1fqy/TNmiUE1hQIwPj9AADOQk7ugRdJ9ADj+2bt26aI6AAV26dAnr7THqnsFEYTgEnBRtFl0fwk6hOcCrIjiNaBXOAKIcuq3hG4w4fTXma+lNOEHEZFs4hcA8+eqrr0a+gAZdvHgRbf+TsrMDDMxBr2v/eT7A0L5+8HN7AKdPFhncHMGqZftfB84Wga0yBwKtsN1hk4B5PsCIrd0C2HwRz924cWNlBK2afvzxx0rX89c5Qo4gCNv85bwDI7r8XUKqynfL/KmHazZt2pQbQSymH374AffuqeEB7gWXCrzHFCCmXf5niE4NWxPkJFAJ41GmtRHMUtWP9TNJdYScgQZYo3NoFEYF21WmgAq8776KzZs3Px1BPZq+//57rJcKXhg3oClo90b/qCeHvqLjA2j6B+u2bNlSFkH+J3333XdlAMo6ntq3cJroK6K4gOzgyP2oBaj2nqIdPGXYKzjw5ptvToqgd5yenh5U+Qcgmy07UdxQA7QD7xfFClSnh68Oelag6H5n+Fj6j9566638iQz++fPn8wGMRq/dV4EviwVwrq0W9QpUJsAdINof5LRQxfNLgBu2bt06IaePffvttzjDp8EZ3r6dDL7sQEkfyAdVW82rjo9H/hdkB2y2ft89eEB149tvvz2hlqh/8803OazlTzMFX6ENcKLvU7LgEMUEuIc9vqLb+inBJE8ezyo+un379gkxaPT111/jdx4FEGbJwOd1A2VdQ9896Pj1qIJDMSJI6yHpNGnpGlHFqVgp77zzzg29tjCRSBQx8KfKWrmJBvDkO4HXU3oI7pQwFUDpc/8s9ABk14uB23bs2HFDTiU7d+7cAqj4NrbESxtojeAQYjWoOnyaqwF4AsFSnDm81lT1y2YZ+cpwLmHDzp07a3bt2nVDTCrt6urKBq5hDl8eBXCTHgGjtWxTaVK8IEYFjKWrvVPIdU8VE2kMgUCsBD6ye/fukvEM/ldffVUCFX4EsitVtl3UYjU0wDHg1dQIodQJFJShKXgE0j5dLaACn6MJkKcDH6+rq6uur68fV72EM2fO5Jw9e7YasseBp5u0cKoQsDxO9Vrqqn6R2hdGAjWEoBvSR03B9wPNA95HGDVcBXxqz549D40H8E+fPo3vecoZntGTreqzmwgBRyDw2Plu3TBxxmuvvcYFUQYwy+OQ5UoV6DITQzEJnGsdbLSyfvHixdfVptSnTp2qZMJaqtsVVtWbAiP0zap498ryt956q5OxYcMGyj/gpbhbxS5IlwSJBQQYYsZVzWtREBYtWnTN9ic+efIkOq1LmM9SZDKplioQgrJ6ZpZTVODd32kBIEoZL0UvvdFdCBoUfGo8gXM0/UHgHTireeHChaFrhePHj+N0dzxqdxnwg2xwS0vD6YIvwAOnd89nvhkZeJduu+02J2Pjxo0UKZO9GM7w+cjdFMIgCmiqAXj39bO5DPFYLNY8b948ayeXtLW1lbIT1mcxzjVZUGtqCjh44Bj/34H7ZXjJhCItAAHAd1Mc0fvcPYAqCPhBhIHDF5jP0MF2QkmwE02HTMjs2bPTpqOlpSXPVeHABSwoVcLsOebzTWZH2fADOClO7ZqB3yfDTWUSUACyiHZG9UJY0SiNH7PKIjsiqt6BooegIhTMOYxHUTweN3q26EAN/wkr3t+qvEaKczbvxzoXPcf7brL/a9oNFKXYPZzpnUpGlX6dbqHIDIRNlIWXsuibbjdQkGLdzoQ0YfJ/uJFAamsndllw19HZzDlxVGFmkcqilFnSEFotnnKNOlZPGQX0lWOdzoa01xR47nCwDtBEpwbHoedj94wy0KSKCOoIQhgaQrXZgkoYdMCXPAvrcr57WITuXEHlcLCu00cQGjza7BEcRjbRAFSNQAXXVAh0zuY1BV/Q2r3pekixnz+oGRomvVtMV9Vr3I/98RXAC73LzoM4grIWb1sIxgp8iSnAOlsIKdZhynB8QG8wiKIBDPyCQ5C9F0cRKY6gDFwZ2DaFIEzwCS3e3b/nXlzKras1dFr/KA2go/5FLVRwfzdzDtfodgupZoFqGohbqIYGPsH+Yx3NxF6V7D2omkXlmMZM1T8PDMXfoUl4BruKkHaaaANbtj2MnoEJ+L6/72RdvGe8Kt9kjqBOj4SsAUyvce7BCSV/Ba6C/EBYXcSg5oIKtqkj5ikbgLSKqfwWaheRWqZ6j1gIAFPuQW2AI3lTIN0b1CSonMSwYgCU6wqQ8NunsOHcQcozVKZIVwhiKjVuMEihY0YwevgPSDG0eUy3ezjWYOsEhRRAHWPf/A93Egc1MKTj+FGEIGZhIEgJiMzPYPlmHNxgjmLTtRSCsOw+o2YWzcNvbTYIBVsVgrQGsAW+6cCSJx9nUcS/QbrfVAjCDgQZ/P1+yOM33Q9pPMizqCaAKgSxsMCntk6B2sdVyYsh/QvwC7hriY4QhCkUGi0e3/kF/AYow29pJ8YArJkAihDEwgRfVyNw8rif7X+B74Y8qs03nOGNDq0IgQ3Afff0sXecAfm72bv3UFoxpdWbtH7V32cFcfgoLcyCEKQdJ9zVHNL/AM9ijOP808MYD/CP7UvuO8ZGP+OMB3nP4T1PNfYvey/KXAPKd2XpevA27iWYANk9g8yZamblOa5A4FQtZ/jEsjybWsBTaX1sQkbcA/iACAQd0E2EQgU8RUiyKC02qGnQjS6qwPP9LQJwiLFLuUwQcBuaIiYQuBjTPc8wk/32VtYJFq104xQnmLlJMPuNNr3fUEuQQtDUVm8DeNcc/F+AAQBKd8HaIWdjwQAAAABJRU5ErkJggg=="},910:o=>{o.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0ye2ZpbGw6IzQ0NH08L3N0eWxlPjwvZGVmcz48cGF0aCBzdHlsZT0iZmlsbDojZmZmIiBkPSJNMCAwaDQuOTV2MTBIMHoiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Im0xLjQxIDQuNjcgMS4wNy0xLjQ5IDEuMDYgMS40OUgxLjQxek0zLjU0IDUuMzMgMi40OCA2LjgyIDEuNDEgNS4zM2gyLjEzeiIvPjwvc3ZnPg=="},456:o=>{o.exports="data:image/svg+xml;charset=utf-8,%3Csvg id=%27Layer_1%27 data-name=%27Layer 1%27 xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 4.95 10%27%3E%3Cdefs%3E%3Cstyle%3E.cls-2{fill:%23444}%3C/style%3E%3C/defs%3E%3Cpath style=%27fill:%23fff%27 d=%27M0 0h4.95v10H0z%27/%3E%3Cpath class=%27cls-2%27 d=%27m1.41 4.67 1.07-1.49 1.06 1.49H1.41zM3.54 5.33 2.48 6.82 1.41 5.33h2.13z%27/%3E%3C/svg%3E"},342:o=>{o.exports=r},787:o=>{o.exports=i}},a={};function c(o){var s=a[o];if(s!==void 0)return s.exports;var u=a[o]={id:o,exports:{}};return n[o](u,u.exports,c),u.exports}c.m=n,c.n=o=>{var s=o&&o.__esModule?()=>o.default:()=>o;return c.d(s,{a:s}),s},c.d=(o,s)=>{for(var u in s)c.o(s,u)&&!c.o(o,u)&&Object.defineProperty(o,u,{enumerable:!0,get:s[u]})},c.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),c.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},c.b=document.baseURI||self.location.href,c.nc=void 0;var l={};return(()=>{c.r(l),c.d(l,{Jodit:()=>d.Jodit,default:()=>j});var o=c(787),s=c.n(o),u=c(526),d=c(342),h=c(379),p=c.n(h),m=c(795),f=c.n(m),g=c(569),v=c.n(g),S=c(565),x=c.n(S),b=c(216),_=c.n(b),w=c(589),C=c.n(w),E=c(472),A={};A.styleTagTransform=C(),A.setAttributes=x(),A.insert=v().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=_(),p()(E.Z,A),E.Z&&E.Z.locals&&E.Z.locals;var T=d.Jodit.modules.Helpers.isFunction,M=(0,o.forwardRef)(function(P,I){var k=P.className,R=P.config,O=P.id,D=P.name,L=P.onBlur,B=P.onChange,F=P.tabIndex,H=P.value,ee=P.editorRef,U=(0,o.useRef)(null);(0,o.useLayoutEffect)(function(){I&&(T(I)?I(U.current):I.current=U.current)},[U,I]),(0,o.useEffect)(function(){var W=U.current,ie=d.Jodit.make(W,R);return U.current=ie,T(ee)&&ee(ie),function(){ie&&ie.destruct(),U.current=W}},[R,ee]);var X=function(W){var ie=(0,o.useRef)();return(0,o.useEffect)(function(){ie.current=W},[W]),ie.current}(k);return(0,o.useEffect)(function(){var W,ie,Q=(W=U.current)===null||W===void 0||(ie=W.container)===null||ie===void 0?void 0:ie.classList;X!==k&&typeof X=="string"&&X.split(/\s+/).forEach(function(ae){return Q==null?void 0:Q.remove(ae)}),k&&typeof k=="string"&&k.split(/\s+/).forEach(function(ae){return Q==null?void 0:Q.add(ae)})},[k,X]),(0,o.useEffect)(function(){U.current.workplace&&(U.current.workplace.tabIndex=F||-1)},[F]),(0,o.useEffect)(function(){if(U.current.events&&(L||B)){var W=function(Q){return L&&L(U.current.value,Q)},ie=function(Q){return B&&B(Q)};return U.current.events.on("blur",W).on("change",ie),function(){var Q,ae;(Q=U.current)===null||Q===void 0||(ae=Q.events)===null||ae===void 0||ae.off("blur",W).off("change",ie)}}},[L,B]),(0,o.useEffect)(function(){var W;(U==null||(W=U.current)===null||W===void 0?void 0:W.value)!==H&&(U.current.value=H)},[H]),s().createElement("div",{className:"jodit-react-container"},s().createElement("textarea",{name:D,id:O,ref:U}))});M.displayName="JoditEditor",M.propTypes={className:u.string,config:u.object,id:u.string,name:u.string,onBlur:u.func,onChange:u.func,editorRef:u.func,tabIndex:u.number,value:u.string};const j=M})(),l})())})(V7);var MX=V7.exports;const fn=yN(MX);function jX(e){const t=z.useRef(null),[i,r]=z.useState({name:"",description:"",speakerName:"",speakerDesignation:"",speakerDescription:"",venue:"",contact:[],problemStatement:"",tagline:"",prize:"",details:"",link:"",rules:"",organizers:"",schedule:[],thumbnail:"",coverImage:"",tags:"1",aboutBench:"",isCompleted:!1,externalLink:"",cost:0});z.useEffect(()=>{fetch(`${Le}api/workshops/${e.props}`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(c=>c.json()).then(c=>r(c.workshop)),console.log(e.props)},[]);const n=c=>{let l=c.target.name,o=c.target.value,s=i;s[l]=o,r(s)},a=()=>{const c=document.getElementById("description").value,l=document.getElementById("speakerDescription").value,o=document.getElementById("prerequisites").value,s=document.getElementById("prize").value,u=document.getElementById("rules").value,d=document.getElementById("date").value;r({...i,description:c,speakerDescription:l,procedure:o,prize:s,rules:u,sponsors:d,isCompleted:!0})};return z.useEffect(()=>{i.isCompleted&&(console.log(i),fetch(`${Le}api/admin/workshops/${e.props}`,{method:"PUT",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({details:i})}).then(c=>c.json()).then(c=>{console.log(c),alert("Workshop Updated"),window.location.reload()}))},[i.isCompleted]),y.jsxs("section",{className:"add-workshop-container",style:{backgroundColor:"white",minHeight:"100vh"},children:[y.jsx("br",{}),y.jsx("label",{children:"Name of the Workshop:"}),y.jsx("input",{type:"text",name:"name",onChange:n,defaultValue:i.name}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Highlights"}),y.jsx(fn,{ref:t,tabIndex:1,id:"description",value:i.description}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Speaker Name"}),y.jsx("input",{type:"text",name:"speakerName",onChange:n,defaultValue:i.speakerName}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Speaker Designation"}),y.jsx("input",{type:"text",name:"speakerDesignation",onChange:n,defaultValue:i.speakerDesignation}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Speaker Description"}),y.jsx(fn,{ref:t,tabIndex:1,id:"speakerDescription",value:i.speakerDescription}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Venue"}),y.jsx("input",{type:"text",name:"venue",onChange:n,defaultValue:i.venue}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Cost"}),y.jsx("input",{type:"number",name:"cost",onChange:n,defaultValue:i.cost}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Slot"}),y.jsx("input",{type:"nunmber",name:"aboutBench",onChange:n,defaultValue:i.aboutBench}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Date and Time"}),y.jsx(fn,{ref:t,tabIndex:1,id:"date",value:i.sponsors}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Prerequisites"}),y.jsx(fn,{ref:t,tabIndex:1,id:"prerequisites",value:i.procedure}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Logo"}),y.jsx("input",{type:"text",name:"tagline",onChange:n,defaultValue:i.tagline}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Benefits"}),y.jsx(fn,{ref:t,tabIndex:1,id:"prize",value:i.prize}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Organizers"}),y.jsx("input",{type:"text",name:"organizers",onChange:n,defaultValue:i.organizers}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Thumbnail"}),y.jsx("input",{type:"text",name:"thumbnail",onChange:n,defaultValue:i.thumbnail}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Description"}),y.jsx(fn,{ref:t,tabIndex:1,id:"rules",value:i.rules}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Cover Image"}),y.jsx("input",{type:"text",name:"coverImage",onChange:n,defaultValue:i.coverImage}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Document Link"}),y.jsx("input",{type:"text",name:"problemStatement",onChange:n,defaultValue:i.problemStatement}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Payment Link"}),y.jsx("input",{type:"text",name:"externalLink",onChange:n,defaultValue:i.externalLink}),y.jsx("br",{}),y.jsx("button",{onClick:a,children:"Update Workshop"})]})}function IX(){const[e,t]=z.useState(),[i,r]=z.useState(!1),[n,a]=z.useState(null);z.useEffect(()=>{fetch(`${Le}api/admin/workshops`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(o=>o.json()).then(o=>t(o.workshops))},[]);const c=o=>{a(o),r(!0)},l=(o,s)=>{console.log(s),console.log(o),window.confirm(`Are you sure you want to delete the Event: ${s} ?`)&&fetch(`${Le}api/admin/workshops/${o}`,{method:"DELETE",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(d=>{d.status==204?(alert("Event deleted successfully"),window.location.reload()):(alert(d.text),window.location.reload())})};return y.jsxs("div",{style:{backgroundColor:"white",minHeight:"100vh"},children:[y.jsx("br",{}),i?y.jsx(jX,{props:n}):y.jsx("ol",{children:e==null?void 0:e.map(o=>y.jsxs("li",{style:{cursor:"pointer"},onClick:()=>c(o.id),children:[o.name,y.jsx("button",{className:"delete event",style:{color:"white",backgroundColor:"red",marginLeft:"30px"},onClick:()=>l(o.id,o.name),children:"DELETE EVENT"})]}))})]})}function PX(){const e=z.useRef(null),[t,i]=z.useState({name:"",description:"",speakerName:"",speakerDesignation:"",speakerDescription:"",venue:"",contact:[],problemStatement:"",tagline:"",prize:"",details:"",link:"",rules:"",organizers:"",schedule:[],thumbnail:"",coverImage:"",tags:"1",aboutBench:"",isCompleted:!1,externalLink:"",cost:0});z.useEffect(()=>{},[]);const r=a=>{let c=a.target.name,l=a.target.value,o=t;o[c]=l,i(o)},n=()=>{const a=document.getElementById("description").value,c=document.getElementById("speakerDescription").value,l=document.getElementById("prerequisites").value,o=document.getElementById("prize").value,s=document.getElementById("rules").value,u=document.getElementById("date").value;i({...t,description:a,speakerDescription:c,procedure:l,prize:o,rules:s,sponsors:u,isCompleted:!0})};return z.useEffect(()=>{t.isCompleted&&fetch(`${Le}api/admin/workshops`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(a=>a.json()).then(a=>{console.log(a),alert("Workshop Added"),window.location.reload()})},[t.isCompleted]),y.jsxs("section",{className:"add-workshop-container",style:{backgroundColor:"white"},children:[y.jsx("br",{}),y.jsx("label",{children:"Name of the Workshop:"}),y.jsx("input",{type:"text",name:"name",onChange:r}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Highlights"}),y.jsx(fn,{ref:e,tabIndex:1,id:"description"}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Speaker Name"}),y.jsx("input",{type:"text",name:"speakerName",onChange:r}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Speaker Designation"}),y.jsx("input",{type:"text",name:"speakerDesignation",onChange:r}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Speaker Description"}),y.jsx(fn,{ref:e,tabIndex:1,id:"speakerDescription"}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Venue"}),y.jsx("input",{type:"text",name:"venue",onChange:r}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Cost"}),y.jsx("input",{type:"number",name:"cost",onChange:r}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Slot"}),y.jsx("input",{type:"number",name:"aboutBench",onChange:r}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Date and Time"}),y.jsx(fn,{ref:e,tabIndex:1,id:"date"}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Prerequisites"}),y.jsx(fn,{ref:e,tabIndex:1,id:"prerequisites"}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Logo"}),y.jsx("input",{type:"text",name:"tagline",onChange:r}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Benefits"}),y.jsx(fn,{ref:e,tabIndex:1,id:"prize"}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Organizers"}),y.jsx("input",{type:"text",name:"organizers",onChange:r}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Thumbnail"}),y.jsx("input",{type:"text",name:"thumbnail",onChange:r}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Description"}),y.jsx(fn,{ref:e,tabIndex:1,id:"rules"}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Cover Image"}),y.jsx("input",{type:"text",name:"coverImage",onChange:r}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Document Link"}),y.jsx("input",{type:"text",name:"problemStatement",onChange:r}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Payment Link"}),y.jsx("input",{type:"text",name:"externalLink",onChange:r}),y.jsx("br",{}),y.jsx("button",{onClick:n,children:"Add Workshop"})]})}function kX(){const[e,t]=z.useState(),[i,r]=z.useState(null);z.useEffect(()=>{fetch(`${Le}api/admin/workshops`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(a=>a.json()).then(a=>t(a.workshops))},[]);const n=a=>{fetch(`${Le}api/admin/common_admin/event/registrations/${a}`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(c=>c.json()).then(c=>r(c.registrations))};return z.useEffect(()=>{if(i){const a=[];i.map(o=>a.push(...o.Users,{id:"",email:"",password:""}));const c="Workshop registrations",l=Al.types.csv;Al({data:a,fileName:c,exportType:l})}}),y.jsx("div",{style:{backgroundColor:"white"},children:y.jsx("ol",{children:e==null?void 0:e.map(a=>y.jsx("li",{style:{cursor:"pointer"},onClick:()=>n(a.id),children:a.name}))})})}function DX(){const[e,t]=z.useState(null),[i,r]=z.useState("ViewAll");return z.useEffect(()=>{cf().then(n=>t(n.member))},[]),(e==null?void 0:e.role)==="workshops_admin"?y.jsxs("section",{className:"members-main-container",style:{backgroundColor:"white"},children:[y.jsx("h1",{children:"Hello Workshops Admin"}),y.jsxs("select",{name:"view",onChange:n=>r(n.target.value),children:[y.jsx("option",{value:"ViewAll",selected:!0,children:"View All Workshops"}),y.jsx("option",{value:"AddWorkshop",children:"Add Workshop"}),y.jsx("option",{value:"ViewEventReg",children:"View Event Registrations"})]}),y.jsx("br",{}),i==="ViewAll"&&y.jsx(IX,{}),i==="AddWorkshop"&&y.jsx(PX,{}),i==="ViewEventReg"&&y.jsx(kX,{})]}):y.jsx("h1",{children:"Tresspasser Alert"})}async function OX(){return await(await fetch(`${Le}api/admin/events/central`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}})).json()}async function RX(){return await(await fetch(`${Le}api/admin/events/department`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}})).json()}async function NX(e){return await(await fetch(`${Le}api/admin/events`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function LX(e){return await(await fetch(`${Le}api/admin/events/central`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function zX(e){return await(await fetch(`${Le}api/admin/events/department`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function BX(){const e=z.useRef(null),[t,i]=z.useState(""),[r,n]=z.useState(""),[a,c]=z.useState({name:"",description:"",teamLimit:"",tagline:"",abstract:!1,type:"centerstage",problemStatement:"",thumbnail:"",prize:"",procedure:"",cost:"",venue:"",contact:[],CentralId:"",DepartmentId:"",externalLink:"",coverImage:"",isCompleted:!1}),[l,o]=z.useState([]),[s,u]=z.useState([]),[d,h]=z.useState([]);z.useEffect(()=>{RX().then(v=>h(v.departmentEvents)),OX().then(v=>u(v.centralEvents))},[]),z.useEffect(()=>{a.type==="centerstage"?o([...s]):a.type==="departmental"&&o([...d])},[a.type,s,d]);const p=v=>{const S=a;S[v.target.name]=v.target.value,c({...S})},m=()=>{let v=document.createElement("DIV");v.style="display: flex; flex: 2",v.name="contact",v.className="contact";let S=document.createElement("LABEL");v.appendChild(S),S.appendChild(document.createTextNode("Name"));let x=document.createElement("INPUT");x.className="contactName",x.style="flex: 1",v.appendChild(x);let b=document.createElement("LABEL");b.appendChild(document.createTextNode("Phone No.")),v.appendChild(b);let _=document.createElement("INPUT");_.className="contactNo",_.style="flex: 1",v.appendChild(_),document.getElementById("contact").appendChild(v)},f=v=>{a.type==="departmental"?(a.CentralId=null,a.DepartmentId=v.target.value):a.type==="centerstage"?(a.CentralId=v.target.value,a.DepartmentId=null):(a.CentralId=null,a.DepartmentId=null)},g=()=>{let v=[],S=document.getElementsByClassName("contactName"),x=document.getElementsByClassName("contactNo");for(let w=0;w<(S.length+x.length)/2&&!(S[w].value===""||x[w].value==="");w++)v.push({name:S[w].value,phoneNo:x[w].value});const b=document.querySelector("#description").value,_=document.querySelector("#procedure").value;c({...a,contact:v,description:b,procedure:_,isCompleted:!0})};return z.useEffect(()=>{a.isCompleted&&NX(a).then(v=>{alert(v.message),window.location.reload()})},[a.isCompleted]),y.jsxs("section",{style:{backgroundColor:"white"},children:[y.jsx("label",{children:"Name: "}),y.jsx("input",{type:"text",name:"name",onChange:p}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Type of Event"}),y.jsxs("select",{name:"type",onChange:p,children:[y.jsx("option",{value:"centerstage",children:"Central Stage"}),y.jsx("option",{value:"departmental",children:"Departmental"}),y.jsx("option",{value:"workshop",children:"Workshop"})]}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Event"}),y.jsx("select",{name:"id",onChange:f,children:l.map(v=>y.jsx("option",{value:v.id,children:v.name}))}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Abstract Required?"}),y.jsx("input",{type:"checkbox",onChange:v=>v.target.checked?c({...a,abstract:!0}):c({...a,abstract:!1})}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Description"}),y.jsx(fn,{ref:e,tabIndex:1,id:"description"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Team Limit"}),y.jsx("input",{type:"number",name:"teamLimit",onChange:p}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Tagline"}),y.jsx("input",{type:"text",name:"tagline",onChange:p}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Problem Statement"}),y.jsx("input",{type:"text",name:"problemStatement",onChange:p}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"thumbnail",children:"Thumbnail Link"}),y.jsx("input",{type:"text",name:"thumbnail",onChange:p}),y.jsx("label",{children:"Cover Image"}),y.jsx("input",{type:"text",name:"coverImage",onChange:p}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Procedure"}),y.jsx(fn,{ref:e,tabIndex:1,id:"procedure"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Prize"}),y.jsx("input",{type:"text",name:"prize",onChange:p}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Cost"}),y.jsx("input",{type:"text",name:"cost",onChange:p}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Venue"}),y.jsx("input",{type:"text",name:"venue",onChange:p}),y.jsx("div",{id:"contact",children:y.jsxs("div",{className:"contact",style:{display:"flex",flex:2},children:[y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Name"}),y.jsx("input",{className:"contactName",style:{flex:1}}),y.jsx("label",{children:"Phone No."}),y.jsx("input",{style:{flex:1},className:"contactNo"})]})}),y.jsx("button",{onClick:m,children:"Add More Contact"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:g,children:"Create Event"})]})}function FX(){const[e,t]=z.useState(""),i=()=>{e!==""?LX({name:e}).then(r=>{alert(r.message),window.location.reload()}):alert("Empty Field")};return y.jsxs("div",{style:{backgroundColor:"white"},children:[y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Name:"}),y.jsx("input",{type:"text",onChange:r=>t(r.target.value)})," ",y.jsx("br",{}),y.jsx("button",{onClick:i,children:"Add Central Event"})]})}function UX(){const[e,t]=z.useState(""),i=()=>{e!==""?zX({name:e}).then(r=>{alert(r.message),window.location.reload()}):alert("Empty Field")};return y.jsxs("div",{style:{backgroundColor:"white"},children:[y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Name:"}),y.jsx("input",{type:"text",onChange:r=>t(r.target.value)})," ",y.jsx("br",{}),y.jsx("button",{onClick:i,children:"Add Departmental Event"})]})}function VX({eventType:e,eventId:t,subEventId:i}){const r=z.useRef(null),[n,a]=z.useState(""),[c,l]=z.useState(""),[o,s]=z.useState(""),[u,d]=z.useState(""),[h,p]=z.useState(!1),[m,f]=z.useState(""),[g,v]=z.useState(""),[S,x]=z.useState(""),[b,_]=z.useState(""),[w,C]=z.useState(""),[E,A]=z.useState(""),[T,M]=z.useState(""),[j,P]=z.useState([]),[I,k]=z.useState(""),[R,O]=z.useState(""),[D,L]=z.useState(""),[B,F]=z.useState(""),[H,ee]=z.useState(!0),[U,X]=z.useState([]),[W,ie]=z.useState({name:"",description:"",teamLimit:"",tagline:"",abstract:!1,type:"centerstage",problemStatement:"",thumbnail:"",prize:"",procedure:"",cost:"",venue:"",contact:[],centralId:"",departmentId:"",externalLink:"",coverImage:"",isCompleted:!1}),[Q,ae]=z.useState([]),[K,te]=z.useState([]),[ne,ce]=z.useState([]);z.useEffect(()=>{fetch(`${Le}api/events/${e}/${t}/${i}`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(ue=>ue.json()).then(ue=>{a(ue.event.name),l(ue.event.description),s(ue.event.teamLimit),d(ue.event.tagline),p(ue.event.abstract),f(ue.event.type),v(ue.event.problemStatement),x(ue.event.thumbnail),_(ue.event.prize),C(ue.event.procedure),A(ue.event.cost),M(ue.event.venue),P([...ue.event.contact]),k(ue.event.CentralId),O(ue.event.DepartmentId),L(ue.event.externalLink),F(ue.event.coverImage),ee(ue.event.isCompleted)})},[]),z.useEffect(()=>{W.type==="centerstage"?ae([...K]):W.type==="departmental"&&ae([...ne])},[W.type,K,ne]);const pe=ue=>{W.type==="departmental"?(W.CentralId=null,W.DepartmentId=ue.target.value):W.type==="centerstage"?(W.CentralId=ue.target.value,W.DepartmentId=null):(W.CentralId=null,W.DepartmentId=null)},ge=()=>{document.querySelector("#description").value,document.querySelector("#procedure").value;const ue=document.getElementsByClassName("contactName"),Me=document.getElementsByClassName("contactNo"),Ae=[];for(let je=0;je<ue.length;je++)Ae.push({name:ue[je].value,phoneNo:Me[je].value});ie({name:n,description:c,teamLimit:o,tagline:u,abstract:h,type:m,problemStatement:g,thumbnail:S,prize:b,procedure:w,cost:E,venue:T,contact:Ae,centralId:I,departmentId:R,externalLink:D,coverImage:B,isCompleted:!0})};return z.useEffect(()=>{console.log(W),W.isCompleted&&fetch(`${Le}api/admin/events/${i}`,{method:"PUT",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({details:W})}).then(ue=>(console.log(ue),ue.json())).then(ue=>{alert(ue.message),window.location.reload()}).catch(ue=>console.log(ue))},[W.isCompleted]),y.jsxs("section",{style:{backgroundColor:"white",marginTop:"10vh"},children:[y.jsx("label",{children:"Name: "}),y.jsx("input",{type:"text",name:"name",onChange:ue=>a(ue.target.value),value:n}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Type of Event"}),y.jsxs("select",{name:"type",onChange:ue=>f(ue.target.value),value:m,children:[y.jsx("option",{value:"centerstage",children:"Central Stage"}),y.jsx("option",{value:"departmental",children:"Departmental"}),y.jsx("option",{value:"workshop",children:"Workshop"})]}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Event"}),y.jsx("select",{name:"id",onChange:pe,children:Q.map(ue=>y.jsx("option",{value:ue.id,children:ue.name}))}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Abstract Required?"}),y.jsx("input",{type:"checkbox",onChange:ue=>p(!h),checked:h}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Description"}),y.jsx(fn,{ref:r,value:c,onChange:ue=>l(ue),tabIndex:1,id:"description"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Team Limit"}),y.jsx("input",{type:"number",name:"teamLimit",value:o,onChange:ue=>s(ue.target.value)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{children:"Tagline"}),y.jsx("input",{type:"text",name:"tagline",value:u,onChange:ue=>d(ue.target.value)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Problem Statement"}),y.jsx("input",{type:"text",name:"problemStatement",value:g,onChange:ue=>v(ue.target.value)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"thumbnail",children:"Thumbnail Link"}),y.jsx("input",{type:"text",name:"thumbnail",value:S,onChange:ue=>x(ue.target.value)}),y.jsx("label",{children:"Cover Image"}),y.jsx("input",{type:"text",name:"coverImage",value:B,onChange:ue=>F(ue.target.value)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Procedure"}),y.jsx(fn,{ref:r,tabIndex:1,id:"procedure",value:w,onChange:ue=>C(ue)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Prize"}),y.jsx("input",{type:"text",name:"prize",value:b,onChange:ue=>_(ue.target.value)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Cost"}),y.jsx("input",{type:"text",name:"cost",value:E,onChange:ue=>A(ue.target.value)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("label",{htmlFor:"",children:"Venue"}),y.jsx("input",{type:"text",name:"venue",value:T,onChange:ue=>M(ue.target.value)}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("h2",{children:"Contacts"}),j.map((ue,Me)=>y.jsxs(y.Fragment,{children:[y.jsxs("label",{htmlFor:"",children:["Contact ",Me+1," Name"]}),y.jsx("input",{type:"text",defaultValue:ue.name,className:"contactName"}),y.jsx("br",{}),y.jsx("br",{}),y.jsxs("label",{htmlFor:"",children:["Contact ",Me+1," Number"]}),y.jsx("input",{type:"text",defaultValue:ue.phoneNo,className:"contactNo"}),y.jsx("br",{}),y.jsx("br",{})]})),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:ge,children:"Update Event"})]})}const HX=()=>{const[e,t]=z.useState(!1),[i,r]=z.useState(),[n,a]=z.useState(),[c,l]=z.useState(),[o,s]=z.useState([]),[u,d]=z.useState([]);z.useEffect(()=>{fetch(`${Le}api/events`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(m=>m.json()).then(m=>{let{centerstage:f,departmental:g}=m;s(f),d(g),console.log(f),console.log(g)})},[]);const h=m=>{r(m.target.getAttribute("data-id")),l(m.target.getAttribute("data-sub-id")),t(!0)},p=(m,f)=>{window.confirm("Are you sure you want to delete this event?")&&fetch(`${Le}api/admin/events/${f}`,{method:"DELETE",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(v=>{v.status==204?(alert("Event deleted successfully"),window.location.reload()):(alert(v.body),window.location.reload())})};return y.jsx("div",{style:{backgroundColor:"white",marginTop:"10vh"},children:e?y.jsx(VX,{eventType:n,eventId:i,subEventId:c}):y.jsxs(y.Fragment,{children:[y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"CenterStage events"}),o.map((m,f)=>y.jsxs("div",{className:"central-events-container",children:[y.jsxs("div",{className:"view-events-event",children:[f+1,". ",y.jsx("span",{children:m.name})]}),m.Events.map((g,v)=>y.jsxs("li",{children:[y.jsx("span",{"data-sub-id":g.id,"data-type":"centerstage","data-id":m.id,onClick:S=>{a("centerstage"),h(S)},className:"view-events-sub-event",children:g.name}),y.jsx("button",{className:"delete event",onClick:S=>p(S,g==null?void 0:g.id),children:"DELETE EVENT"})]},v))]},f))," "]}),y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"Departmental events"}),u.map((m,f)=>y.jsxs("div",{className:"central-events-container",children:[y.jsxs("div",{className:"view-events-event",children:[f+1,". ",y.jsx("span",{children:m.name})]}),m.Events.map((g,v)=>y.jsxs("li",{children:[y.jsx("span",{"data-sub-id":g.id,"data-type":"departmental","data-id":m.id,onClick:S=>{a("departmental"),h(S)},className:"view-events-sub-event",children:g.name}),y.jsx("button",{className:"delete event",onClick:S=>p(S,g==null?void 0:g.id),children:"DELETE EVENT"})]},v))]},f))]})]})})};function GX(){const[e,t]=z.useState(!1),[i,r]=z.useState(),[n,a]=z.useState(),[c,l]=z.useState(),[o,s]=z.useState([]),[u,d]=z.useState([]),[h,p]=z.useState(),[m,f]=z.useState(null);z.useEffect(()=>{fetch(`${Le}api/events`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(v=>v.json()).then(v=>{let{centerstage:S,departmental:x}=v;s(S),d(x),console.log(S),console.log(x)})},[]);const g=async v=>{console.log(v.target.getAttribute("data-sub-id"));const S=v.target.getAttribute("data-sub-id"),x=v.target.getAttribute("data-sub-name"),b=await fetch(`${Le}api/admin/common_admin/event/registrations/${S}`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}});p(x);const _=await b.json();console.log("data",_);const w=[],C=E=>{const A=E.Users;A==null||A.forEach(T=>{T.TeamId=T.UserTeam.TeamId}),w.push(...A,{id:"",email:"",password:""})};_.registrations.map(E=>C(E)),f(w)};return z.useEffect(()=>{if(m){const v=m;console.log(v);const S=`${h} registered members`,x=Al.types.csv;Al({data:v,fileName:S,exportType:x})}},[m]),y.jsxs("div",{style:{backgroundColor:"white"},children:[y.jsx("h1",{children:"CenterStage events"}),o.map((v,S)=>y.jsxs("div",{className:"central-events-container",children:[y.jsxs("div",{className:"view-events-event",children:[S+1,". ",y.jsx("span",{children:v.name})]}),v.Events.map((x,b)=>y.jsx("li",{children:y.jsx("span",{"data-sub-id":x.id,"data-sub-name":x.name,"data-type":"centerstage","data-id":v.id,onClick:_=>{a("centerstage"),g(_)},className:"view-events-sub-event",children:x.name})},b))]},S)),y.jsx("h1",{children:"Departmental events"}),u.map((v,S)=>y.jsxs("div",{className:"central-events-container",children:[y.jsxs("div",{className:"view-events-event",children:[S+1,". ",y.jsx("span",{children:v.name})]}),v.Events.map((x,b)=>y.jsx("li",{children:y.jsx("span",{"data-sub-id":x.id,"data-type":"departmental","data-id":v.id,onClick:_=>{a("departmental"),g(_).then(w=>console.log(w))},className:"view-events-sub-event",children:x.name})},b))]},S))]})}function WX(){const[e,t]=z.useState(null),[i,r]=z.useState("ViewAll"),n=As();return z.useEffect(()=>{i==="Noticeboard"&&n("/members/dashboard/notification_admin")},[i,n]),z.useEffect(()=>{cf().then(a=>t(a.member))},[]),(e==null?void 0:e.role)==="events_admin"?y.jsxs("section",{className:"members-main-container",style:{padding:"10vh 10vw",backgroundColor:"white"},children:[y.jsx("h1",{children:"Hello Events Admin"}),y.jsxs("select",{name:"view",onChange:a=>r(a.target.value),children:[y.jsx("option",{value:"ViewAll",selected:!0,children:"View All Events"}),y.jsx("option",{value:"AddEventDetails",children:"Add Event Details"}),y.jsx("option",{value:"AddCenter",children:"Add Centerstage Events"}),y.jsx("option",{value:"AddDepart",children:"Add Departmental Events"}),y.jsx("option",{value:"ViewRegistration",children:" View Registration"}),y.jsx("option",{value:"Noticeboard",children:" Noticeboard"})]}),i==="ViewAll"&&y.jsx(HX,{}),i==="AddEventDetails"&&y.jsx(BX,{}),i==="AddCenter"&&y.jsx(FX,{}),i==="AddDepart"&&y.jsx(UX,{}),i==="ViewRegistration"&&y.jsx(GX,{})]}):y.jsx("h1",{children:"Tresspasser Alert"})}function qX(){return y.jsxs(Mi.Fragment,{children:[y.jsxs("nav",{className:"member-nav",children:[y.jsxs("span",{className:"logo-container",children:[y.jsx("img",{src:"/Images/CogniLogo.svg",alt:""}),y.jsx("p",{children:"Cognizance 2023"})]}),y.jsx("p",{children:"Admin View"})]}),y.jsx(df,{})]})}const YX=()=>{const[e,t]=z.useState({}),[i,r]=z.useState(!1),[n,a]=z.useState(""),[c,l]=z.useState("");z.useEffect(()=>{fetch(`${Le}api/admin/spp/spps`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(d=>d.json()).then(d=>t({...d.spps}))},[]);const o=()=>{const d=Object.values(e),h="download",p=Al.types.csv;Al({data:d,fileName:h,exportType:p})},s=d=>{l(d.id),r(!0)},u=async()=>{try{console.log(tt()),n==""&&alert("input field cannot be empty");let d={id:c,score:n};console.log(tt());const p=await(await fetch(`${Le}api/admin/spp/scoreUpdate/`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)})).json();console.log(p)}catch(d){console.log(d)}};return y.jsx(y.Fragment,{children:i?y.jsxs("div",{style:{backgroundColor:"white"},children:[y.jsx("label",{htmlFor:"",children:"Add Score :"}),y.jsx("input",{onChange:d=>a(d.target.value),type:"text"}),y.jsx("button",{onClick:u,children:"Submit"})]}):y.jsxs("div",{className:"spp-user-list-container",children:[y.jsx("button",{onClick:o,children:"Download"}),y.jsxs("section",{className:"spp-user-list-title",children:[y.jsx("span",{children:"Sr No."}),y.jsx("span",{className:"spp-user-list-margin-left",children:"Name"}),y.jsx("span",{className:"spp-user-list-margin-left",children:"College"}),y.jsx("span",{className:"spp-user-list-margin-left",children:"State"})]}),Object.values(e).map(d=>y.jsxs("section",{className:"spp-user-list-body",onClick:()=>s(d),children:[y.jsxs("span",{className:"spp-user-list-margin-left-small",children:[d.id,"."]}),y.jsx("span",{className:"spp-user-list-margin-left spp-user-list-margin-left-mid spp-user-list-purple",children:d.name}),y.jsx("span",{className:"spp-user-list-margin-left spp-user-list-margin-left-small",children:d.college}),y.jsx("span",{className:"spp-user-list-margin-left spp-user-list-margin-left-small",children:d.state})]}))]})})};function KX(e){const[t,i]=z.useState(!1),[r,n]=z.useState(""),[a,c]=z.useState(""),[l,o]=z.useState(""),[s,u]=z.useState(0),[d,h]=z.useState(0),[p,m]=z.useState(0);z.useEffect(()=>{const g=async S=>{try{const b=await(await fetch(S,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}})).json();u(b.sppNumber)}catch{}},v=`${Le}api/admin/spp/sppCount`;g(v),fetch(`${Le}api/admin/spp/stateCount`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(S=>S.json()).then(S=>m(S.stateNumber)),fetch(`${Le}api/admin/spp/cityCount`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(S=>S.json()).then(S=>h(S.cityNumber))},[]);const f=g=>{n(g.target.value)};return y.jsxs("section",{className:"spp-dashboard-container container-with-sidebar",style:{backgroundColor:"white"},children:[y.jsx("h1",{className:"mgtb-2-dashboard",children:"Dashboard"}),y.jsx("h2",{children:"CA Search"}),y.jsxs("div",{className:"input-bar-dashboard",children:[y.jsx("input",{placeholder:"Search name or collage SPP here",type:"text",name:"",id:"search-box",value:r,onChange:f}),y.jsx("div",{className:"search-img-dashboard",children:y.jsx("img",{id:"search-img",src:"/Images/members/SPPAdmin/Dashboard/search-icon.svg",alt:"search"})})]}),y.jsxs("section",{className:"figure-cards-dashboard",children:[y.jsxs("div",{className:"card-dashboard",children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Dashboard/image 2.svg",alt:"collage",className:"image"}),y.jsxs("div",{className:"value-div-dashboard",children:[y.jsx("h1",{className:"value-dashboard",children:s}),y.jsx("span",{className:"title-dashboard",children:"CA's"})]})]}),y.jsxs("div",{className:"card-dashboard",children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Dashboard/collageImage.svg",alt:"collage",className:"image"}),y.jsxs("div",{className:"value-div-dashboard",children:[y.jsx("h1",{className:"value-dashboard",children:d}),y.jsx("span",{className:"title-dashboard",children:"Collages"})]})]}),y.jsxs("div",{className:"card-dashboard",children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Dashboard/indiaImage.svg",alt:"collage",className:"image"}),y.jsxs("div",{className:"value-div-dashboard",children:[y.jsx("h1",{className:"value-dashboard",children:p}),y.jsx("span",{className:"title-dashboard",children:"States"})]})]})]}),y.jsx(YX,{})]})}function go(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(i.length?" "+i.map(function(n){return"'"+n+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function eu(e){return!!e&&!!e[Ai]}function Ml(e){var t;return!!e&&(function(i){if(!i||typeof i!="object")return!1;var r=Object.getPrototypeOf(i);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===rJ}(e)||Array.isArray(e)||!!e[L5]||!!(!((t=e.constructor)===null||t===void 0)&&t[L5])||x4(e)||w4(e))}function Ed(e,t,i){i===void 0&&(i=!1),hf(e)===0?(i?Object.keys:hp)(e).forEach(function(r){i&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,n){return t(n,r,e)})}function hf(e){var t=e[Ai];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:x4(e)?2:w4(e)?3:0}function dp(e,t){return hf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XX(e,t){return hf(e)===2?e.get(t):e[t]}function H7(e,t,i){var r=hf(e);r===2?e.set(t,i):r===3?e.add(i):e[t]=i}function G7(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function x4(e){return tJ&&e instanceof Map}function w4(e){return iJ&&e instanceof Set}function ku(e){return e.o||e.t}function _4(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=q7(e);delete t[Ai];for(var i=hp(t),r=0;r<i.length;r++){var n=i[r],a=t[n];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[n]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[n]})}return Object.create(Object.getPrototypeOf(e),t)}function S4(e,t){return t===void 0&&(t=!1),C4(e)||eu(e)||!Ml(e)||(hf(e)>1&&(e.set=e.add=e.clear=e.delete=JX),Object.freeze(e),t&&Ed(e,function(i,r){return S4(r,!0)},!0)),e}function JX(){go(2)}function C4(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function us(e){var t=BE[e];return t||go(18,e),t}function QX(e,t){BE[e]||(BE[e]=t)}function NE(){return zg}function t_(e,t){t&&(us("Patches"),e.u=[],e.s=[],e.v=t)}function vb(e){LE(e),e.p.forEach($X),e.p=null}function LE(e){e===zg&&(zg=e.l)}function P5(e){return zg={p:[],l:zg,h:e,m:!0,_:0}}function $X(e){var t=e[Ai];t.i===0||t.i===1?t.j():t.g=!0}function i_(e,t){t._=t.p.length;var i=t.p[0],r=e!==void 0&&e!==i;return t.h.O||us("ES5").S(t,e,r),r?(i[Ai].P&&(vb(t),go(4)),Ml(e)&&(e=yb(t,e),t.l||bb(t,e)),t.u&&us("Patches").M(i[Ai].t,e,t.u,t.s)):e=yb(t,i,[]),vb(t),t.u&&t.v(t.u,t.s),e!==W7?e:void 0}function yb(e,t,i){if(C4(t))return t;var r=t[Ai];if(!r)return Ed(t,function(l,o){return k5(e,r,t,l,o,i)},!0),t;if(r.A!==e)return t;if(!r.P)return bb(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var n=r.i===4||r.i===5?r.o=_4(r.k):r.o,a=n,c=!1;r.i===3&&(a=new Set(n),n.clear(),c=!0),Ed(a,function(l,o){return k5(e,r,n,l,o,i,c)}),bb(e,n,!1),i&&e.u&&us("Patches").N(r,i,e.u,e.s)}return r.o}function k5(e,t,i,r,n,a,c){if(eu(n)){var l=yb(e,n,a&&t&&t.i!==3&&!dp(t.R,r)?a.concat(r):void 0);if(H7(i,r,l),!eu(l))return;e.m=!1}else c&&i.add(n);if(Ml(n)&&!C4(n)){if(!e.h.D&&e._<1)return;yb(e,n),t&&t.A.l||bb(e,n)}}function bb(e,t,i){i===void 0&&(i=!1),!e.l&&e.h.D&&e.m&&S4(t,i)}function r_(e,t){var i=e[Ai];return(i?ku(i):e)[t]}function D5(e,t){if(t in e)for(var i=Object.getPrototypeOf(e);i;){var r=Object.getOwnPropertyDescriptor(i,t);if(r)return r;i=Object.getPrototypeOf(i)}}function pc(e){e.P||(e.P=!0,e.l&&pc(e.l))}function n_(e){e.o||(e.o=_4(e.t))}function zE(e,t,i){var r=x4(t)?us("MapSet").F(t,i):w4(t)?us("MapSet").T(t,i):e.O?function(n,a){var c=Array.isArray(n),l={i:c?1:0,A:a?a.A:NE(),P:!1,I:!1,R:{},l:a,t:n,k:null,o:null,j:null,C:!1},o=l,s=Bg;c&&(o=[l],s=Tm);var u=Proxy.revocable(o,s),d=u.revoke,h=u.proxy;return l.k=h,l.j=d,h}(t,i):us("ES5").J(t,i);return(i?i.A:NE()).p.push(r),r}function ZX(e){return eu(e)||go(22,e),function t(i){if(!Ml(i))return i;var r,n=i[Ai],a=hf(i);if(n){if(!n.P&&(n.i<4||!us("ES5").K(n)))return n.t;n.I=!0,r=O5(i,a),n.I=!1}else r=O5(i,a);return Ed(r,function(c,l){n&&XX(n.t,c)===l||H7(r,c,t(l))}),a===3?new Set(r):r}(e)}function O5(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return _4(e)}function eJ(){function e(a,c){var l=n[a];return l?l.enumerable=c:n[a]=l={configurable:!0,enumerable:c,get:function(){var o=this[Ai];return Bg.get(o,a)},set:function(o){var s=this[Ai];Bg.set(s,a,o)}},l}function t(a){for(var c=a.length-1;c>=0;c--){var l=a[c][Ai];if(!l.P)switch(l.i){case 5:r(l)&&pc(l);break;case 4:i(l)&&pc(l)}}}function i(a){for(var c=a.t,l=a.k,o=hp(l),s=o.length-1;s>=0;s--){var u=o[s];if(u!==Ai){var d=c[u];if(d===void 0&&!dp(c,u))return!0;var h=l[u],p=h&&h[Ai];if(p?p.t!==d:!G7(h,d))return!0}}var m=!!c[Ai];return o.length!==hp(c).length+(m?0:1)}function r(a){var c=a.k;if(c.length!==a.t.length)return!0;var l=Object.getOwnPropertyDescriptor(c,c.length-1);if(l&&!l.get)return!0;for(var o=0;o<c.length;o++)if(!c.hasOwnProperty(o))return!0;return!1}var n={};QX("ES5",{J:function(a,c){var l=Array.isArray(a),o=function(u,d){if(u){for(var h=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(h,""+p,e(p,!0));return h}var m=q7(d);delete m[Ai];for(var f=hp(m),g=0;g<f.length;g++){var v=f[g];m[v]=e(v,u||!!m[v].enumerable)}return Object.create(Object.getPrototypeOf(d),m)}(l,a),s={i:l?5:4,A:c?c.A:NE(),P:!1,I:!1,R:{},l:c,t:a,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Ai,{value:s,writable:!0}),o},S:function(a,c,l){l?eu(c)&&c[Ai].A===a&&t(a.p):(a.u&&function o(s){if(s&&typeof s=="object"){var u=s[Ai];if(u){var d=u.t,h=u.k,p=u.R,m=u.i;if(m===4)Ed(h,function(x){x!==Ai&&(d[x]!==void 0||dp(d,x)?p[x]||o(h[x]):(p[x]=!0,pc(u)))}),Ed(d,function(x){h[x]!==void 0||dp(h,x)||(p[x]=!1,pc(u))});else if(m===5){if(r(u)&&(pc(u),p.length=!0),h.length<d.length)for(var f=h.length;f<d.length;f++)p[f]=!1;else for(var g=d.length;g<h.length;g++)p[g]=!0;for(var v=Math.min(h.length,d.length),S=0;S<v;S++)h.hasOwnProperty(S)||(p[S]=!0),p[S]===void 0&&o(h[S])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?i(a):r(a)}})}var R5,zg,E4=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",tJ=typeof Map<"u",iJ=typeof Set<"u",N5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",W7=E4?Symbol.for("immer-nothing"):((R5={})["immer-nothing"]=!0,R5),L5=E4?Symbol.for("immer-draftable"):"__$immer_draftable",Ai=E4?Symbol.for("immer-state"):"__$immer_state",rJ=""+Object.prototype.constructor,hp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,q7=Object.getOwnPropertyDescriptors||function(e){var t={};return hp(e).forEach(function(i){t[i]=Object.getOwnPropertyDescriptor(e,i)}),t},BE={},Bg={get:function(e,t){if(t===Ai)return e;var i=ku(e);if(!dp(i,t))return function(n,a,c){var l,o=D5(a,c);return o?"value"in o?o.value:(l=o.get)===null||l===void 0?void 0:l.call(n.k):void 0}(e,i,t);var r=i[t];return e.I||!Ml(r)?r:r===r_(e.t,t)?(n_(e),e.o[t]=zE(e.A.h,r,e)):r},has:function(e,t){return t in ku(e)},ownKeys:function(e){return Reflect.ownKeys(ku(e))},set:function(e,t,i){var r=D5(ku(e),t);if(r!=null&&r.set)return r.set.call(e.k,i),!0;if(!e.P){var n=r_(ku(e),t),a=n==null?void 0:n[Ai];if(a&&a.t===i)return e.o[t]=i,e.R[t]=!1,!0;if(G7(i,n)&&(i!==void 0||dp(e.t,t)))return!0;n_(e),pc(e)}return e.o[t]===i&&(i!==void 0||t in e.o)||Number.isNaN(i)&&Number.isNaN(e.o[t])||(e.o[t]=i,e.R[t]=!0),!0},deleteProperty:function(e,t){return r_(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,n_(e),pc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var i=ku(e),r=Reflect.getOwnPropertyDescriptor(i,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:i[t]}},defineProperty:function(){go(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){go(12)}},Tm={};Ed(Bg,function(e,t){Tm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Tm.deleteProperty=function(e,t){return Tm.set.call(this,e,t,void 0)},Tm.set=function(e,t,i){return Bg.set.call(this,e[0],t,i,e[0])};var nJ=function(){function e(i){var r=this;this.O=N5,this.D=!0,this.produce=function(n,a,c){if(typeof n=="function"&&typeof a!="function"){var l=a;a=n;var o=r;return function(f){var g=this;f===void 0&&(f=l);for(var v=arguments.length,S=Array(v>1?v-1:0),x=1;x<v;x++)S[x-1]=arguments[x];return o.produce(f,function(b){var _;return(_=a).call.apply(_,[g,b].concat(S))})}}var s;if(typeof a!="function"&&go(6),c!==void 0&&typeof c!="function"&&go(7),Ml(n)){var u=P5(r),d=zE(r,n,void 0),h=!0;try{s=a(d),h=!1}finally{h?vb(u):LE(u)}return typeof Promise<"u"&&s instanceof Promise?s.then(function(f){return t_(u,c),i_(f,u)},function(f){throw vb(u),f}):(t_(u,c),i_(s,u))}if(!n||typeof n!="object"){if((s=a(n))===void 0&&(s=n),s===W7&&(s=void 0),r.D&&S4(s,!0),c){var p=[],m=[];us("Patches").M(n,s,p,m),c(p,m)}return s}go(21,n)},this.produceWithPatches=function(n,a){if(typeof n=="function")return function(s){for(var u=arguments.length,d=Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return r.produceWithPatches(s,function(p){return n.apply(void 0,[p].concat(d))})};var c,l,o=r.produce(n,a,function(s,u){c=s,l=u});return typeof Promise<"u"&&o instanceof Promise?o.then(function(s){return[s,c,l]}):[o,c,l]},typeof(i==null?void 0:i.useProxies)=="boolean"&&this.setUseProxies(i.useProxies),typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze)}var t=e.prototype;return t.createDraft=function(i){Ml(i)||go(8),eu(i)&&(i=ZX(i));var r=P5(this),n=zE(this,i,void 0);return n[Ai].C=!0,LE(r),n},t.finishDraft=function(i,r){var n=i&&i[Ai],a=n.A;return t_(a,r),i_(void 0,a)},t.setAutoFreeze=function(i){this.D=i},t.setUseProxies=function(i){i&&!N5&&go(20),this.O=i},t.applyPatches=function(i,r){var n;for(n=r.length-1;n>=0;n--){var a=r[n];if(a.path.length===0&&a.op==="replace"){i=a.value;break}}n>-1&&(r=r.slice(n+1));var c=us("Patches").$;return eu(i)?c(i,r):this.produce(i,function(l){return c(l,r)})},e}(),ga=new nJ,Y7=ga.produce;ga.produceWithPatches.bind(ga);ga.setAutoFreeze.bind(ga);ga.setUseProxies.bind(ga);ga.applyPatches.bind(ga);ga.createDraft.bind(ga);ga.finishDraft.bind(ga);function aJ(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z5(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function B5(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(i),!0).forEach(function(r){aJ(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z5(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function dn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var F5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),a_=function(){return Math.random().toString(36).substring(7).split("").join(".")},xb={INIT:"@@redux/INIT"+a_(),REPLACE:"@@redux/REPLACE"+a_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a_()}};function oJ(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function K7(e,t,i){var r;if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(dn(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(dn(1));return i(K7)(e,t)}if(typeof e!="function")throw new Error(dn(2));var n=e,a=t,c=[],l=c,o=!1;function s(){l===c&&(l=c.slice())}function u(){if(o)throw new Error(dn(3));return a}function d(f){if(typeof f!="function")throw new Error(dn(4));if(o)throw new Error(dn(5));var g=!0;return s(),l.push(f),function(){if(g){if(o)throw new Error(dn(6));g=!1,s();var S=l.indexOf(f);l.splice(S,1),c=null}}}function h(f){if(!oJ(f))throw new Error(dn(7));if(typeof f.type>"u")throw new Error(dn(8));if(o)throw new Error(dn(9));try{o=!0,a=n(a,f)}finally{o=!1}for(var g=c=l,v=0;v<g.length;v++){var S=g[v];S()}return f}function p(f){if(typeof f!="function")throw new Error(dn(10));n=f,h({type:xb.REPLACE})}function m(){var f,g=d;return f={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(dn(11));function x(){S.next&&S.next(u())}x();var b=g(x);return{unsubscribe:b}}},f[F5]=function(){return this},f}return h({type:xb.INIT}),r={dispatch:h,subscribe:d,getState:u,replaceReducer:p},r[F5]=m,r}function sJ(e){Object.keys(e).forEach(function(t){var i=e[t],r=i(void 0,{type:xb.INIT});if(typeof r>"u")throw new Error(dn(12));if(typeof i(void 0,{type:xb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dn(13))})}function lJ(e){for(var t=Object.keys(e),i={},r=0;r<t.length;r++){var n=t[r];typeof e[n]=="function"&&(i[n]=e[n])}var a=Object.keys(i),c;try{sJ(i)}catch(l){c=l}return function(o,s){if(o===void 0&&(o={}),c)throw c;for(var u=!1,d={},h=0;h<a.length;h++){var p=a[h],m=i[p],f=o[p],g=m(f,s);if(typeof g>"u")throw s&&s.type,new Error(dn(14));d[p]=g,u=u||g!==f}return u=u||a.length!==Object.keys(o).length,u?d:o}}function wb(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,n){return function(){return r(n.apply(void 0,arguments))}})}function cJ(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return function(){var n=r.apply(void 0,arguments),a=function(){throw new Error(dn(15))},c={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(o){return o(c)});return a=wb.apply(void 0,l)(n.dispatch),B5(B5({},n),{},{dispatch:a})}}}function X7(e){var t=function(r){var n=r.dispatch,a=r.getState;return function(c){return function(l){return typeof l=="function"?l(n,a,e):c(l)}}};return t}var FE=X7();FE.withExtraArgument=X7;var uJ=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),_b=function(e,t){for(var i=0,r=t.length,n=e.length;i<r;i++,n++)e[n]=t[i];return e},dJ=Object.defineProperty,U5=Object.getOwnPropertySymbols,hJ=Object.prototype.hasOwnProperty,pJ=Object.prototype.propertyIsEnumerable,V5=function(e,t,i){return t in e?dJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},Fg=function(e,t){for(var i in t||(t={}))hJ.call(t,i)&&V5(e,i,t[i]);if(U5)for(var r=0,n=U5(t);r<n.length;r++){var i=n[r];pJ.call(t,i)&&V5(e,i,t[i])}return e},fJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wb:wb.apply(null,arguments)};function mJ(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var i=t;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return t===i}var gJ=function(e){uJ(t,e);function t(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var n=e.apply(this,i)||this;return Object.setPrototypeOf(n,t.prototype),n}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return e.prototype.concat.apply(this,i)},t.prototype.prepend=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return i.length===1&&Array.isArray(i[0])?new(t.bind.apply(t,_b([void 0],i[0].concat(this)))):new(t.bind.apply(t,_b([void 0],i.concat(this))))},t}(Array);function UE(e){return Ml(e)?Y7(e,function(){}):e}function vJ(e){return typeof e=="boolean"}function yJ(){return function(t){return bJ(t)}}function bJ(e){e===void 0&&(e={});var t=e.thunk,i=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new gJ;return i&&(vJ(i)?r.push(FE):r.push(FE.withExtraArgument(i.extraArgument))),r}function xJ(e){var t=yJ(),i=e||{},r=i.reducer,n=r===void 0?void 0:r,a=i.middleware,c=a===void 0?t():a,l=i.devTools,o=l===void 0?!0:l,s=i.preloadedState,u=s===void 0?void 0:s,d=i.enhancers,h=d===void 0?void 0:d,p;if(typeof n=="function")p=n;else if(mJ(n))p=lJ(n);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=c;typeof m=="function"&&(m=m(t));var f=cJ.apply(void 0,m),g=wb;o&&(g=fJ(Fg({trace:!1},typeof o=="object"&&o)));var v=[f];Array.isArray(h)?v=_b([f],h):typeof h=="function"&&(v=h(v));var S=g.apply(void 0,v);return K7(p,u,S)}function Ug(e,t){function i(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var a=t.apply(void 0,r);if(!a)throw new Error("prepareAction did not return an object");return Fg(Fg({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:r[0]}}return i.toString=function(){return""+e},i.type=e,i.match=function(r){return r.type===e},i}function J7(e){var t={},i=[],r,n={addCase:function(a,c){var l=typeof a=="string"?a:a.type;if(l in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[l]=c,n},addMatcher:function(a,c){return i.push({matcher:a,reducer:c}),n},addDefaultCase:function(a){return r=a,n}};return e(n),[t,i,r]}function wJ(e){return typeof e=="function"}function _J(e,t,i,r){i===void 0&&(i=[]);var n=typeof t=="function"?J7(t):[t,i,r],a=n[0],c=n[1],l=n[2],o;if(wJ(e))o=function(){return UE(e())};else{var s=UE(e);o=function(){return s}}function u(d,h){d===void 0&&(d=o());var p=_b([a[h.type]],c.filter(function(m){var f=m.matcher;return f(h)}).map(function(m){var f=m.reducer;return f}));return p.filter(function(m){return!!m}).length===0&&(p=[l]),p.reduce(function(m,f){if(f)if(eu(m)){var g=m,v=f(g,h);return v===void 0?m:v}else{if(Ml(m))return Y7(m,function(S){return f(S,h)});var v=f(m,h);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return m},d)}return u.getInitialState=o,u}function SJ(e,t){return e+"/"+t}function pf(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var i=typeof e.initialState=="function"?e.initialState:UE(e.initialState),r=e.reducers||{},n=Object.keys(r),a={},c={},l={};n.forEach(function(u){var d=r[u],h=SJ(t,u),p,m;"reducer"in d?(p=d.reducer,m=d.prepare):p=d,a[u]=p,c[h]=p,l[u]=m?Ug(h,m):Ug(h)});function o(){var u=typeof e.extraReducers=="function"?J7(e.extraReducers):[e.extraReducers],d=u[0],h=d===void 0?{}:d,p=u[1],m=p===void 0?[]:p,f=u[2],g=f===void 0?void 0:f,v=Fg(Fg({},h),c);return _J(i,v,m,g)}var s;return{name:t,reducer:function(u,d){return s||(s=o()),s(u,d)},actions:l,caseReducers:a,getInitialState:function(){return s||(s=o()),s.getInitialState()}}}var T4="listenerMiddleware";Ug(T4+"/add");Ug(T4+"/removeAll");Ug(T4+"/remove");eJ();const CJ={option:"Dashboard"},Q7=pf({name:"SPPAdminSidebarOptionSlice",initialState:CJ,reducers:{SPPAdminSidebarOptionReducer:(e,t)=>{e.option=t.payload}}}),{SPPAdminSidebarOptionReducer:Am}=Q7.actions,EJ=Q7.reducer;var $7={exports:{}},Z7={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=z;function TJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AJ=typeof Object.is=="function"?Object.is:TJ,MJ=Lp.useState,jJ=Lp.useEffect,IJ=Lp.useLayoutEffect,PJ=Lp.useDebugValue;function kJ(e,t){var i=t(),r=MJ({inst:{value:i,getSnapshot:t}}),n=r[0].inst,a=r[1];return IJ(function(){n.value=i,n.getSnapshot=t,o_(n)&&a({inst:n})},[e,i,t]),jJ(function(){return o_(n)&&a({inst:n}),e(function(){o_(n)&&a({inst:n})})},[e]),PJ(i),i}function o_(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!AJ(e,i)}catch{return!0}}function DJ(e,t){return t()}var OJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DJ:kJ;Z7.useSyncExternalStore=Lp.useSyncExternalStore!==void 0?Lp.useSyncExternalStore:OJ;$7.exports=Z7;var RJ=$7.exports,ez={exports:{}},tz={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2=z,NJ=RJ;function LJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zJ=typeof Object.is=="function"?Object.is:LJ,BJ=NJ.useSyncExternalStore,FJ=m2.useRef,UJ=m2.useEffect,VJ=m2.useMemo,HJ=m2.useDebugValue;tz.useSyncExternalStoreWithSelector=function(e,t,i,r,n){var a=FJ(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=VJ(function(){function o(p){if(!s){if(s=!0,u=p,p=r(p),n!==void 0&&c.hasValue){var m=c.value;if(n(m,p))return d=m}return d=p}if(m=d,zJ(u,p))return m;var f=r(p);return n!==void 0&&n(m,f)?m:(u=p,d=f)}var s=!1,u,d,h=i===void 0?null:i;return[function(){return o(t())},h===null?void 0:function(){return o(h())}]},[t,i,r,n]);var l=BJ(e,a[0],a[1]);return UJ(function(){c.hasValue=!0,c.value=l},[l]),HJ(l),l};ez.exports=tz;var GJ=ez.exports;function WJ(e){e()}let iz=WJ;const qJ=e=>iz=e,YJ=()=>iz,H5=Symbol.for("react-redux-context"),G5=typeof globalThis<"u"?globalThis:{};function KJ(){var e;if(!z.createContext)return{};const t=(e=G5[H5])!=null?e:G5[H5]=new Map;let i=t.get(z.createContext);return i||(i=z.createContext(null),t.set(z.createContext,i)),i}const tu=KJ();function A4(e=tu){return function(){return z.useContext(e)}}const rz=A4(),XJ=()=>{throw new Error("uSES not initialized!")};let nz=XJ;const JJ=e=>{nz=e},QJ=(e,t)=>e===t;function $J(e=tu){const t=e===tu?rz:A4(e);return function(r,n={}){const{equalityFn:a=QJ,stabilityCheck:c=void 0,noopCheck:l=void 0}=typeof n=="function"?{equalityFn:n}:n,{store:o,subscription:s,getServerState:u,stabilityCheck:d,noopCheck:h}=t();z.useRef(!0);const p=z.useCallback({[r.name](f){return r(f)}}[r.name],[r,d,c]),m=nz(s.addNestedSub,o.getState,u||o.getState,p,a);return z.useDebugValue(m),m}}const Io=$J();var az={exports:{}},li={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=typeof Symbol=="function"&&Symbol.for,M4=Vr?Symbol.for("react.element"):60103,j4=Vr?Symbol.for("react.portal"):60106,g2=Vr?Symbol.for("react.fragment"):60107,v2=Vr?Symbol.for("react.strict_mode"):60108,y2=Vr?Symbol.for("react.profiler"):60114,b2=Vr?Symbol.for("react.provider"):60109,x2=Vr?Symbol.for("react.context"):60110,I4=Vr?Symbol.for("react.async_mode"):60111,w2=Vr?Symbol.for("react.concurrent_mode"):60111,_2=Vr?Symbol.for("react.forward_ref"):60112,S2=Vr?Symbol.for("react.suspense"):60113,ZJ=Vr?Symbol.for("react.suspense_list"):60120,C2=Vr?Symbol.for("react.memo"):60115,E2=Vr?Symbol.for("react.lazy"):60116,eQ=Vr?Symbol.for("react.block"):60121,tQ=Vr?Symbol.for("react.fundamental"):60117,iQ=Vr?Symbol.for("react.responder"):60118,rQ=Vr?Symbol.for("react.scope"):60119;function xa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case M4:switch(e=e.type,e){case I4:case w2:case g2:case y2:case v2:case S2:return e;default:switch(e=e&&e.$$typeof,e){case x2:case _2:case E2:case C2:case b2:return e;default:return t}}case j4:return t}}}function oz(e){return xa(e)===w2}li.AsyncMode=I4;li.ConcurrentMode=w2;li.ContextConsumer=x2;li.ContextProvider=b2;li.Element=M4;li.ForwardRef=_2;li.Fragment=g2;li.Lazy=E2;li.Memo=C2;li.Portal=j4;li.Profiler=y2;li.StrictMode=v2;li.Suspense=S2;li.isAsyncMode=function(e){return oz(e)||xa(e)===I4};li.isConcurrentMode=oz;li.isContextConsumer=function(e){return xa(e)===x2};li.isContextProvider=function(e){return xa(e)===b2};li.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===M4};li.isForwardRef=function(e){return xa(e)===_2};li.isFragment=function(e){return xa(e)===g2};li.isLazy=function(e){return xa(e)===E2};li.isMemo=function(e){return xa(e)===C2};li.isPortal=function(e){return xa(e)===j4};li.isProfiler=function(e){return xa(e)===y2};li.isStrictMode=function(e){return xa(e)===v2};li.isSuspense=function(e){return xa(e)===S2};li.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===g2||e===w2||e===y2||e===v2||e===S2||e===ZJ||typeof e=="object"&&e!==null&&(e.$$typeof===E2||e.$$typeof===C2||e.$$typeof===b2||e.$$typeof===x2||e.$$typeof===_2||e.$$typeof===tQ||e.$$typeof===iQ||e.$$typeof===rQ||e.$$typeof===eQ)};li.typeOf=xa;az.exports=li;var nQ=az.exports,sz=nQ,aQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lz={};lz[sz.ForwardRef]=aQ;lz[sz.Memo]=oQ;var pi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4=Symbol.for("react.element"),k4=Symbol.for("react.portal"),T2=Symbol.for("react.fragment"),A2=Symbol.for("react.strict_mode"),M2=Symbol.for("react.profiler"),j2=Symbol.for("react.provider"),I2=Symbol.for("react.context"),sQ=Symbol.for("react.server_context"),P2=Symbol.for("react.forward_ref"),k2=Symbol.for("react.suspense"),D2=Symbol.for("react.suspense_list"),O2=Symbol.for("react.memo"),R2=Symbol.for("react.lazy"),lQ=Symbol.for("react.offscreen"),cz;cz=Symbol.for("react.module.reference");function Ka(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case P4:switch(e=e.type,e){case T2:case M2:case A2:case k2:case D2:return e;default:switch(e=e&&e.$$typeof,e){case sQ:case I2:case P2:case R2:case O2:case j2:return e;default:return t}}case k4:return t}}}pi.ContextConsumer=I2;pi.ContextProvider=j2;pi.Element=P4;pi.ForwardRef=P2;pi.Fragment=T2;pi.Lazy=R2;pi.Memo=O2;pi.Portal=k4;pi.Profiler=M2;pi.StrictMode=A2;pi.Suspense=k2;pi.SuspenseList=D2;pi.isAsyncMode=function(){return!1};pi.isConcurrentMode=function(){return!1};pi.isContextConsumer=function(e){return Ka(e)===I2};pi.isContextProvider=function(e){return Ka(e)===j2};pi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===P4};pi.isForwardRef=function(e){return Ka(e)===P2};pi.isFragment=function(e){return Ka(e)===T2};pi.isLazy=function(e){return Ka(e)===R2};pi.isMemo=function(e){return Ka(e)===O2};pi.isPortal=function(e){return Ka(e)===k4};pi.isProfiler=function(e){return Ka(e)===M2};pi.isStrictMode=function(e){return Ka(e)===A2};pi.isSuspense=function(e){return Ka(e)===k2};pi.isSuspenseList=function(e){return Ka(e)===D2};pi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===T2||e===M2||e===A2||e===k2||e===D2||e===lQ||typeof e=="object"&&e!==null&&(e.$$typeof===R2||e.$$typeof===O2||e.$$typeof===j2||e.$$typeof===I2||e.$$typeof===P2||e.$$typeof===cz||e.getModuleId!==void 0)};pi.typeOf=Ka;function cQ(){const e=YJ();let t=null,i=null;return{clear(){t=null,i=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0,a=i={callback:r,next:null,prev:i};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:i=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const W5={notify(){},get:()=>[]};function uQ(e,t){let i,r=W5,n=0,a=!1;function c(f){u();const g=r.subscribe(f);let v=!1;return()=>{v||(v=!0,g(),d())}}function l(){r.notify()}function o(){m.onStateChange&&m.onStateChange()}function s(){return a}function u(){n++,i||(i=e.subscribe(o),r=cQ())}function d(){n--,i&&n===0&&(i(),i=void 0,r.clear(),r=W5)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,d())}const m={addNestedSub:c,notifyNestedSubs:l,handleChangeWrapper:o,isSubscribed:s,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}const dQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hQ=dQ?z.useLayoutEffect:z.useEffect;function pQ({store:e,context:t,children:i,serverState:r,stabilityCheck:n="once",noopCheck:a="once"}){const c=z.useMemo(()=>{const s=uQ(e);return{store:e,subscription:s,getServerState:r?()=>r:void 0,stabilityCheck:n,noopCheck:a}},[e,r,n,a]),l=z.useMemo(()=>e.getState(),[e]);hQ(()=>{const{subscription:s}=c;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),l!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[c,l]);const o=t||tu;return z.createElement(o.Provider,{value:c},i)}function uz(e=tu){const t=e===tu?rz:A4(e);return function(){const{store:r}=t();return r}}const fQ=uz();function mQ(e=tu){const t=e===tu?fQ:uz(e);return function(){return t().dispatch}}const zl=mQ();JJ(GJ.useSyncExternalStoreWithSelector);qJ(k7.unstable_batchedUpdates);function gQ(e){const t=Io(r=>r.SPPAdminSidebarOption.option),i=zl();return z.useEffect(()=>{const r=document.getElementsByClassName("sidebar-buttons");if(Object.values(r).forEach(n=>n.style.backgroundColor="#fff"),t=="Dashboard"||t=="Tasks"||t=="Leaderboard"||t=="Awards"){const n=document.getElementById(`${t}`);n.style.backgroundColor="#EBE9FE"}}),y.jsxs("section",{className:"sidebar-container",style:{backgroundColor:"white"},children:[y.jsxs("div",{className:"sidebar-upper",children:[y.jsxs("button",{className:"sidebar-buttons",id:"Dashboard",onClick:()=>i(Am("Dashboard")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/dashboard.svg"})," ",y.jsx("p",{className:"sidebar-buttons-description",children:"Dashboard"})]}),y.jsxs("button",{className:"sidebar-buttons",id:"Tasks",onClick:()=>i(Am("Tasks")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/tasks.svg"})," ",y.jsx("p",{className:"sidebar-buttons-description",children:"Tasks"})]}),y.jsxs("button",{className:"sidebar-buttons",id:"Leaderboard",onClick:()=>i(Am("Leaderboard")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/leaderboard.svg"})," ",y.jsx("p",{className:"sidebar-buttons-description",children:"Leaderboard"})]}),y.jsxs("button",{className:"sidebar-buttons",id:"Awards",onClick:()=>i(Am("Awards")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/award.svg"})," ",y.jsx("p",{className:"sidebar-buttons-description",children:"Awards"})]})]}),y.jsx("button",{className:"sidebar-buttons",onClick:()=>Zc(),children:"Logout"})]})}function D4(){return y.jsxs("section",{className:"container-with-sidebar",children:[y.jsx("h1",{children:"Coming Soon"}),y.jsx("p",{children:" - Cognizance WebD Team"})]})}function vQ(){const[e,t]=z.useState(""),[i,r]=z.useState(""),[n,a]=z.useState(""),[c,l]=z.useState(""),[o,s]=z.useState(!1);return y.jsx(D4,{})}function yQ(e){function t(i){alert(`Do you wanna delete this task titled - ${i.title}`),fetch(`${Le}api/admin/spp/SppTasks/${i.id}`,{method:"DELETE",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(r=>{alert(` "${i.title}" task deleted`),window.location.reload()})}return y.jsxs("div",{className:"task-card",children:[y.jsx("button",{className:"trash-image",onClick:()=>t(e),children:y.jsx("img",{src:"/Images/+blue.svg",alt:""})}),y.jsx("img",{className:"task-img",src:"https://blog.icons8.com/wp-content/uploads/2020/02/how-to-create-gradient-article.jpg",alt:""}),y.jsxs("div",{className:"task-txt",children:[y.jsxs("span",{className:"task-points bg-primary",children:["Points: ",e.points]})," ",y.jsx("br",{}),y.jsx("br",{}),y.jsx("h2",{className:"task-head",children:e.title})," ",y.jsx("br",{}),y.jsx("p",{className:"task-desc",children:e.description}),y.jsx("p",{className:"task-deadline",children:y.jsxs("strong",{children:["Deadline: ",e.endDate.slice(0,10)]})})]})]})}function bQ(){Io(r=>r.SPPAdminSidebarOption.option);const e=zl(),[t,i]=z.useState(null);return z.useEffect(()=>{fetch(`${Le}api/admin/spp/SppTasks`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(r=>r.json()).then(r=>i(r.tasks))},[]),y.jsxs("section",{className:"container-with-sidebar",children:[y.jsx("h1",{children:"Tasks"}),y.jsx("button",{onClick:()=>e(Am("AddTask")),className:"bg-primary task-btn",children:"+ Add Task"}),y.jsxs("div",{children:[y.jsx("span",{children:"Previous Tasks"}),y.jsx("select",{name:"",id:"",children:y.jsx("option",{value:""})}),y.jsx("select",{name:"",id:""})]}),y.jsx("section",{className:"task-container",children:t==null?void 0:t.map(r=>y.jsx(yQ,{...r}))})]})}function xQ(){return y.jsx(D4,{})}function wQ(){const[e,t]=z.useState({title:""});function i(r){t({...e,...r})}return y.jsx("section",{className:"container-with-sidebar",children:y.jsxs("section",{className:"x-scroll-view-add-task",children:[y.jsx(_Q,{callback:i}),y.jsx(SQ,{data:e})]})})}function _Q({callback:e}){const[t,i]=z.useState({title:"",description:"",fb:"",insta:"",linkedin:"",twitter:"",caption:"",points:"",imageURL:"",endDate:"",googleFormLink:""});function r(n){switch(n.target.name){case"title":i({...t,title:n.target.value});break;case"description":i({...t,description:n.target.value});break;case"fb":i({...t,fb:n.target.value});break;case"insta":i({...t,insta:n.target.value});break;case"twitter":i({...t,twitter:n.target.value});break;case"linkedin":i({...t,linkedin:n.target.value});break;case"caption":i({...t,caption:n.target.value});break;case"points":i({...t,points:n.target.value});break;case"imageURL":i({...t,imageURL:n.target.value});break;case"endDate":i({...t,endDate:n.target.value});break;case"googleFormLink":i({...t,googleFormLink:n.target.value});break}}return y.jsxs("section",{className:"screens",id:"screen1",children:[y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Task Title"}),y.jsx("input",{type:"text",name:"title",onChange:r,value:t.title,className:"add-task-input"})]}),y.jsx("br",{}),y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Description"}),y.jsx("textarea",{name:"description",onChange:r,value:t.description,className:"add-task-input"})]}),y.jsx("br",{}),y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Link"}),y.jsxs("div",{className:"labels",children:[y.jsx("input",{type:"text",name:"insta",placeholder:"insta",onChange:r,value:t.insta,className:"add-task-input"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("input",{type:"text",name:"fb",placeholder:"fb",onChange:r,value:t.fb,className:"add-task-input"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("input",{type:"text",name:"twitter",placeholder:"twitter",onChange:r,value:t.twitter,className:"add-task-input"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("input",{type:"text",name:"linkedin",placeholder:"linkedin",onChange:r,value:t.linkedin,className:"add-task-input"}),y.jsx("br",{})]})]}),y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Caption"}),y.jsx("textarea",{name:"caption",onChange:r,value:t.caption,className:"add-task-input"})]}),y.jsx("br",{}),y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Points"}),y.jsx("input",{type:"text",name:"points",onChange:r,value:t.points,className:"add-task-input"})]}),y.jsx("br",{}),y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Image Link"}),y.jsx("input",{type:"text",name:"imageURL",onChange:r,value:t.imageURL,className:"add-task-input"})]}),y.jsx("br",{}),y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Deadline"}),y.jsx("input",{type:"date",name:"endDate",onChange:r,value:t.endDate})]}),y.jsxs("div",{className:"input-container",children:[y.jsx("label",{classname:"form-labels",children:"Google Form Link"}),y.jsx("input",{type:"text",name:"googleFormLink",onChange:r,value:t.googleFormLink})]}),y.jsx("button",{className:"next-btn",onClick:()=>{document.querySelector("#screen1").style.marginLeft="-80vw",e(t)},children:"Next"})]})}function SQ({data:e}){function t(){fetch(`${Le}api/admin/spp/SppTasks`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(i=>i.json()).then(i=>{alert(i.message),window.location.reload()})}return y.jsxs("section",{className:"screens",id:"screen3",children:[y.jsxs("div",{className:"output-container",children:[y.jsx("label",{classname:"form-labels",children:"Task Title"}),y.jsx("p",{children:e.title})]}),y.jsxs("div",{className:"output-container",children:[y.jsx("label",{classname:"form-labels",children:"Description"}),y.jsx("p",{children:e.description})]}),y.jsxs("div",{className:"output-container",children:[y.jsx("label",{classname:"form-labels",children:"Link"}),y.jsxs("div",{children:[y.jsxs("p",{children:["Facebook: ",e.fb]}),y.jsxs("p",{children:["Instagram: ",e.insta]}),y.jsxs("p",{children:["Linkedin: ",e.linkedin]}),y.jsxs("p",{children:["Twitter: ",e.twitter]})]})]}),y.jsxs("div",{className:"output-container",children:[" ",y.jsx("label",{classname:"form-labels",children:"Caption"}),y.jsx("p",{children:e.caption})]}),y.jsxs("div",{className:"output-container",children:[" ",y.jsx("label",{classname:"form-labels",children:"Points"}),y.jsx("p",{children:e.points})]}),y.jsxs("div",{className:"output-container",children:[" ",y.jsx("label",{classname:"form-labels",children:"Deadline"}),y.jsx("p",{children:e.endDate})]}),y.jsxs("div",{className:"output-container",children:[" ",y.jsx("label",{classname:"form-labels",children:"Image"}),y.jsx("img",{src:e.imageURL,alt:""})]}),y.jsxs("div",{className:"output-container",children:[" ",y.jsx("label",{classname:"form-labels",children:"Assigned to"}),y.jsx("div",{children:e.TaskAssignedStates})]}),y.jsxs("div",{className:"output-container",children:[" ",y.jsx("label",{classname:"form-labels",children:"File Size"}),y.jsx("p",{children:e.TaskAssignedStates})]}),y.jsxs("div",{className:"output-container",children:[" ",y.jsx("label",{classname:"form-labels",children:"Input Type"}),y.jsx("p",{children:e.TaskInputType})]}),y.jsx("button",{className:"next-btn",onClick:()=>document.querySelector("#screen1").style.marginLeft="0vw",children:"Previous"}),y.jsx("button",{className:"next-btn",onClick:()=>document.location.reload(),children:"Cancel"}),y.jsx("button",{className:"next-btn",onClick:()=>t(),children:"Create"})]})}function CQ(){const[e,t]=z.useState({role:null}),i=Io(r=>r.SPPAdminSidebarOption.option);return z.useEffect(()=>{cf().then(r=>t(r.member))},[]),(e==null?void 0:e.role)==="spp_admin"?y.jsxs("section",{className:"spp-admin-container",style:{backgroundColor:"white"},children:[y.jsx(gQ,{}),i==="Dashboard"&&y.jsx(KX,{}),i==="Awards"&&y.jsx(vQ,{}),i==="Tasks"&&y.jsx(bQ,{}),i==="Leaderboard"&&y.jsx(xQ,{}),i==="AddTask"&&y.jsx(wQ,{})]}):y.jsx(y.Fragment,{children:"Tresspasser alert"})}function EQ(){return y.jsxs("section",{className:"spp-landing-page-container spp-container","data-name":"Home",id:"home",children:[y.jsxs("div",{className:"spp-landing-left-div",children:[y.jsx("h2",{children:"COGNIZANCE 2025 PRESENTS"}),y.jsx("img",{style:{height:"150px"},className:"spp-landing-gif",src:"/Images/spp/landing/GIF_CA_photo.png",alt:""}),y.jsx("h1",{children:"CAMPUS AMBASSADOR PROGRAM"}),y.jsx("p",{children:"In CA, our student partners work as an extension of Team Cognizance, helping us in spreading the word about our fest and in expanding our outreach."}),bs()?y.jsx("button",{className:"spp-landing-page-container-btn",onClick:()=>window.location.href=`${_r}ca/dashboard`,children:"Go to Dashboard"}):y.jsx(Rt,{className:"spp-landing-page-container-btn",to:"/ca/register",children:"Register for CA"}),bs()?y.jsx("button",{className:"spp-landing-page-container-btn-mobile-view",onClick:()=>window.location.href=`${_r}ca/dashboard`,children:"Go to Dashboard"}):y.jsx(Rt,{className:"spp-landing-page-container-btn-mobile-view",to:"/ca/register",children:"REGISTER "})]}),y.jsx("img",{className:"spp-landing-image",src:"/Images/spp/landing/GIF_CA_photo.png",alt:""})]})}function TQ(){return y.jsxs("section",{className:"spp-container spp-perks-container","data-name":"Perks",id:"perks",children:[y.jsx("h1",{className:"perks-spp",children:"PERKS & INCENTIVES"}),y.jsxs("div",{className:"perks-grid",children:[y.jsxs("div",{className:"perk-box",children:[y.jsx("img",{id:"special-image-perks",className:"perks-box1-img",src:"/Images/spp/SppPerks/courses.png",alt:""}),y.jsx("p",{children:"Free courses, workshops, merchandise and goodies"})]}),y.jsxs("div",{className:"perk-box",children:[y.jsx("img",{className:"perks-box1-img",src:"/Images/spp/SppPerks/certi.png",alt:""}),y.jsx("p",{children:"PR Internship certificate from Cognizance IIT Roorkee"})]}),y.jsxs("div",{className:"perk-box",children:[y.jsx("img",{className:"perks-box1-img",src:"/Images/spp/SppPerks/intern.png",alt:""}),y.jsx("p",{children:"Internship opportunities from our proud sponsors"})]}),y.jsxs("div",{className:"perk-box",children:[y.jsx("img",{className:"perks-box1-img",src:"/Images/spp/SppPerks/network.png",alt:""}),y.jsx("p",{children:"Networking with IITians & Linkedin endorsements"})]}),y.jsxs("div",{className:"perk-box",children:[y.jsx("img",{className:"perks-box1-img",src:"/Images/spp/SppPerks/announcement.png",alt:""}),y.jsx("p",{children:"Monthly Shoutouts"})]}),y.jsxs("div",{className:"perk-box",children:[y.jsx("img",{className:"perks-box1-img",src:"/Images/spp/SppPerks/lor.png",alt:""}),y.jsx("p",{children:"Letter of Recommendation (based on performance)"})]})]})]})}function AQ(){return y.jsxs("section",{className:"spp-container spp-responsibilities-container","data-name":"Responsibilites",id:"responsi",children:[y.jsx("h1",{className:"responsibilities-spp",children:"RESPONSIBILITIES"}),y.jsxs("div",{className:"responsibilities-grid",children:[y.jsxs("div",{className:"responsibility-item",children:[y.jsx("img",{id:"resposibility-hash",src:"/Images/spp/Responsibilities/hash.svg",alt:""}),y.jsx("p",{children:"Promote Cognizance in your college"})]}),y.jsxs("div",{className:"responsibility-item",children:[y.jsx("img",{id:"resposibility-books",src:"/Images/spp/Responsibilities/books.svg",alt:""}),y.jsx("p",{children:"Work as our extension in your college"})]}),y.jsxs("div",{className:"responsibility-item",children:[y.jsx("img",{id:"resposibility-build",src:"/Images/spp/Responsibilities/build.svg",alt:""}),y.jsx("p",{children:"Help contacting administration & student bodies "})]}),y.jsxs("div",{className:"responsibility-item",children:[y.jsx("img",{id:"resposibility-grow",src:"/Images/spp/Responsibilities/grow.svg",alt:""}),y.jsx("p",{children:"Provide relevant databases"})]})]})]})}function MQ(){return y.jsxs("section",{className:"spp-container","data-name":"About",id:"spp-about-container",children:[y.jsx("h1",{className:"about-spp",children:"ABOUT CA"}),y.jsx("div",{className:"about-spp-content",children:y.jsx("p",{children:"IIT Roorkee's annual technical fest Cognizance involves participation from colleges all over the country. To manage all this participation, Team Cognizance picks up students from each of the participating institutions through its Campus Ambassador Programme (CAP) under which, the Campus Ambassadors are responsible for organising and managing events in their institution in collaboration with Cognizance. The partners get to be in direct contact with the team, along with certain rewards and benefits. For more detailed specifications, one can go through the CA Registeration Form."})}),y.jsxs("div",{className:"spp-about-years",children:[y.jsxs("div",{className:"spp-about-year1 spp-about-year-edit-p",children:[y.jsx("div",{className:"spp-about-year-num",children:"1100+"}),y.jsx("p",{children:"CAs in 2020 (offline)"})]}),y.jsxs("div",{className:"spp-about-year2 spp-about-year-edit-p",children:[y.jsx("div",{className:"spp-about-year-num",children:"650+"}),y.jsx("p",{children:"CAs in 2021 (online)"})]}),y.jsxs("div",{className:"spp-about-year3 spp-about-year-edit-p",children:[y.jsx("div",{className:"spp-about-year-num",children:"1000+"}),y.jsx("p",{children:"CAs in 2022 (hybrid)"})]}),y.jsxs("div",{className:"spp-about-year4 spp-about-year-edit-p",children:[y.jsx("div",{className:"spp-about-year-num",children:"1400+"}),y.jsx("p",{children:"CAs in 2023 (offline)"})]}),y.jsxs("div",{className:"spp-about-year3 spp-about-year-edit-p",children:[y.jsx("div",{className:"spp-about-year-num",children:"2000+"}),y.jsx("p",{children:"CAs in 2024 (offline)"})]})]})]})}function jQ(){function e(t){const i=t.target.parentElement;i.nextSibling.classList.toggle("height-unset"),i.children[1].classList.toggle("rotate-90deg")}return y.jsxs("section",{className:"spp-container spp-faqs-container","data-name":"FAQs",id:"FAQs",children:[y.jsx("h1",{className:"faqs-head"}),y.jsxs("div",{className:"faqs-items-container",children:[y.jsxs("div",{className:"faq-item",children:[y.jsxs("div",{className:"faq-item-head",children:[y.jsx("p",{onClick:t=>e(t),children:"Is there any interview/selection process for the Campus Ambassador program?"}),y.jsx("img",{onClick:t=>e(t),src:"/Images/+blue.svg",alt:""})]}),y.jsx("p",{children:" Yes there will be a brief interview for shortlisting."})]}),y.jsxs("div",{className:"faq-item",children:[y.jsxs("div",{className:"faq-item-head",children:[y.jsx("p",{onClick:t=>e(t),children:"When is this program going to start?"}),y.jsx("img",{src:"/Images/+blue.svg",alt:"",onClick:t=>e(t)})]}),y.jsxs("p",{children:[" ","This program will start from November 2024 and continue till March 2025."]})]}),y.jsxs("div",{className:"faq-item",children:[y.jsxs("div",{className:"faq-item-head",children:[y.jsx("p",{onClick:t=>e(t),children:"Can there be multiple CAs from one college?"}),y.jsx("img",{src:"/Images/+blue.svg",alt:"",onClick:t=>e(t)})]}),y.jsx("p",{children:"Yes, there can be multiple CAs from a single college."})]}),y.jsxs("div",{className:"faq-item",children:[y.jsxs("div",{className:"faq-item-head",children:[y.jsx("p",{onClick:t=>e(t),children:"Is this a certified internship?"}),y.jsx("img",{src:"/Images/+blue.svg",alt:"",onClick:t=>e(t)})]}),y.jsx("p",{children:"Yes, you will receive a certificate from Cognizance IIT Roorkee after completing the internship."})]}),y.jsxs("div",{className:"faq-item",children:[y.jsxs("div",{className:"faq-item-head",children:[y.jsx("p",{onClick:t=>e(t),children:"How much time and effort do I need to devote to this internship?"}),y.jsx("img",{src:"/Images/+blue.svg",alt:"",onClick:t=>e(t)})]}),y.jsx("p",{children:"You need to devote around 2-3 hours every week for this internship."})]}),y.jsxs("div",{className:"faq-item",children:[y.jsxs("div",{className:"faq-item-head",children:[y.jsx("p",{onClick:t=>e(t),children:"Am I eligible for this program?"}),y.jsx("img",{src:"/Images/+blue.svg",alt:"",onClick:t=>e(t)})]}),y.jsx("p",{children:"If youre a current college student then youre eligible for this internship."})]})]})]})}const IQ=()=>y.jsxs("div",{className:"contact-main-container spp-container","data-name":"Contact",id:"contact",children:[y.jsxs("article",{className:"contact-article-container",children:[y.jsxs("section",{className:"contact-main-detail",children:[y.jsx("h1",{className:"contact-title",children:"Contact Us"}),y.jsx("p",{className:"contact-main-detail-title",children:"Have a doubt about CA ? Ask us anytime!"}),y.jsxs("span",{children:[y.jsx("img",{src:"/Images/Client/Contact/mail-image.svg",alt:"Mail"}),y.jsx("p",{children:"pr_support.cognizance@iitr.ac.in"})]})]}),y.jsx("iframe",{className:"contact-map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1541.246000560209!2d77.89573601087166!3d29.864845137885567!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390eb3650bfe37a7%3A0xa9d19b15af050467!2sIndian%20Institute%20Of%20Technology%E2%80%93Roorkee%20(IIT%E2%80%93Roorkee)!5e0!3m2!1sen!2sin!4v1667792683519!5m2!1sen!2sin",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})]}),y.jsxs("section",{className:"contact-image-section",children:[y.jsx("a",{rel:"nofollow",href:"https://www.instagram.com/cogni_iitr/",target:"_blank",children:y.jsx("img",{src:"/Images/Client/Contact/instagram-image.svg",alt:"Instagram"})}),y.jsx("a",{rel:"nofollow",href:"https://www.facebook.com/cogni.iitr/",target:"_blank",children:y.jsx("img",{src:"/Images/Client/Contact/facebook-image.svg",alt:"Facebook"})}),y.jsx("a",{rel:"nofollow",href:"https://in.linkedin.com/company/cognizance-iit-roorkee",target:"_blank",children:y.jsx("img",{src:"/Images/Client/Contact/linkedin-image.svg",alt:"LinkedIn"})}),y.jsx("a",{rel:"nofollow",href:"https://twitter.com/cognizanceiitr",target:"_blank",children:y.jsx("img",{src:"/Images/Client/Contact/twitter-image.svg",alt:"Twitter"})}),y.jsx("a",{rel:"nofollow",href:"https://www.youtube.com/c/cognizanceiitr",target:"_blank",children:y.jsx("img",{src:"/Images/Client/Contact/youtube-image.svg",alt:"Youtube"})})]})]}),PQ={option:"Home"},dz=pf({name:"SPPUserSidebarSlice",initialState:PQ,reducers:{SPPUserSidebarReducer:(e,t)=>{e.option=t.payload}}}),{SPPUserSidebarReducer:kQ}=dz.actions,DQ=dz.reducer;function OQ(){Io(r=>r.SPPUserSidebar.option);const e=zl(),[t,i]=z.useState(!0);return z.useEffect(()=>{setInterval(()=>i(!1),1500);let r=document.getElementById("sidebarOptionElement"),n=new IntersectionObserver((c,l)=>{c.forEach(o=>o.isIntersecting&&(e(kQ(o.target.getAttribute("data-name"))),r.style.marginTop+=10))},{root:document.getElementsByClassName("spp-home-scroll-snap-container")[0],threshold:.5});Object.values(document.getElementsByClassName("spp-container")).forEach(c=>n.observe(c))},[]),y.jsx(y.Fragment,{children:t?y.jsx(Ts,{}):y.jsxs(y.Fragment,{children:[y.jsxs("section",{className:"spp-home-scroll-snap-container",children:[y.jsx(EQ,{}),y.jsx(MQ,{}),y.jsx(TQ,{}),y.jsx(AQ,{}),y.jsx(jQ,{}),y.jsx(IQ,{})]}),y.jsx(df,{})]})})}function RQ(){function e(){document.getElementsByClassName("hamburger-expanded-menu")[0].classList.toggle("margin-right-reset")}return y.jsxs(y.Fragment,{children:[y.jsxs("nav",{className:"spp-navbar-container",children:[y.jsxs("div",{className:"spp-nav-logo-div",children:[y.jsx("img",{className:"spp-nav-img",src:"/Images/CogniLogoDark.svg",alt:""}),y.jsx(Rt,{to:"/",children:"Cognizance | CA"})]}),y.jsxs("div",{children:[y.jsx("a",{className:"spp-nav-items",href:"#spp-about-container",children:"About"}),y.jsx("a",{className:"spp-nav-items",href:"#perks",children:"Perks"}),y.jsx("a",{className:"spp-nav-items",href:"#FAQs",children:"FAQ"}),y.jsx("a",{className:"spp-nav-items",href:"#contact",children:"Contact"}),bs()?y.jsx("a",{id:"logout-btn",className:"spp-nav-items-btn",onClick:()=>Zc(),children:"Logout"}):y.jsx(y.Fragment,{children:y.jsx(Rt,{to:"/ca/register",className:"spp-nav-items-btn spp-nav-items-btn-inverse",children:"Register"})})]})]}),y.jsxs("nav",{className:"spp-navbar-mobile",children:[y.jsxs("div",{className:"spp-nav-logo-div",children:[y.jsx("img",{className:"spp-nav-img-mobile",src:"/Images/CogniLogoDark.svg",alt:""}),y.jsx("p",{children:y.jsx(Rt,{to:"/",children:"Cognizance | CA Programme"})})]}),y.jsx("img",{src:"/Images/hamburger.svg",alt:"hamburger-menu",onClick:()=>e()}),y.jsxs("div",{className:"hamburger-expanded-menu",children:[y.jsx("a",{href:"#spp-about-container",className:"hamburger-menu-item",children:"About"}),y.jsx("a",{href:"#perks",className:"hamburger-menu-item",children:"Perks"}),y.jsx("a",{href:"#FAQs",className:"hamburger-menu-item",children:"FAQs"}),y.jsx("a",{href:"#contact",className:"hamburger-menu-item",children:"Contact"}),bs()?y.jsx("a",{id:"logout-btn",className:"hamburger-menu-item",onClick:()=>Zc(),children:"Logout"}):y.jsx(y.Fragment,{children:y.jsx(Rt,{to:"/ca/register",className:"hamburger-menu-item",children:"Register"})})]})]}),y.jsx(df,{})]})}function NQ(){return y.jsx("section",{style:{display:"grid",placeItems:"center",minHeight:"100vh",background:"/Images/Client/EventLanding/image_285.jpg"},children:y.jsxs("div",{children:[y.jsxs("h1",{children:["In Chand Taaro ke Cosmos mai ",y.jsx("br",{}),"Tumhe page mila yahi aane ko"]}),y.jsx(Rt,{to:"/",children:y.jsx("button",{children:"Go back to Homepage"})})]})})}const LQ=()=>{const[e,t]=z.useState(""),[i,r]=z.useState(""),n=As();function a(o){console.log(o.target.src);const s=document.getElementById("reg-pwd");s.type==="password"?(s.type="text",o.target.src="/Images/eye-slash.svg"):(o.target.src="/Images/eye.svg",s.type="password")}const c=async()=>{if(e.length==0){alert("Please Enter Email..");return}if(e.includes("@")==!1){alert("Invalid Email..");return}const o={email:e},u=await(await fetch(Le+"api/coordi/forgetpass",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)})).json();setTimeout(()=>{alert("A verification code has been sent to your mail- "+e),n("/ca/resetpassCa")},1e3),console.log(u)},l=async o=>{const s={email:e,password:i};e&&i&&fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)}).then(u=>{if(u.status!=200)throw new Error("Invalid User! Try Again.");return u.json()}).then(u=>Tl(u.token)).then(u=>setTimeout(()=>{window.location.href=`${_r}ca/dashboard`},1e3)).catch(u=>alert(u.message))};return y.jsxs("div",{className:"login-form-container",children:[y.jsxs("div",{className:"login-main-body",children:[y.jsx("img",{src:"/Images/Client/spp/form/LogIn/image 29.svg",alt:"",id:"login-form-image"}),y.jsxs("form",{action:"",className:"login-form-main-body",onSubmit:o=>o.preventDefault(),children:[y.jsx("h1",{className:"login-form-main-body-title",children:"Log In"}),y.jsxs("div",{className:"login-form-input-fields",children:[y.jsx("input",{type:"email",value:e,onChange:o=>t(o.target.value),placeholder:"Enter your Email address"}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:o=>r(o.target.value),id:"reg-pwd"}),y.jsx("img",{onClick:o=>a(o),id:"showPassReg",src:"/Images/eye.svg",alt:""})]})]}),y.jsx("button",{onClick:l,id:"main-login-btn",children:"LOG IN"}),y.jsxs("span",{children:["Haven't registered yet? ",y.jsx(Rt,{to:"/ca/register",children:"Sign Up"})]}),y.jsx("div",{className:"forgot-wale-ka-dabba",children:y.jsxs("p",{className:"forgot_password_spp",onClick:c,children:["forget password ?"," "]})})]})]}),y.jsx(Rt,{className:"close-btn",to:"/ca",children:y.jsx("img",{src:"/Images/+.svg",alt:""})})]})},zQ={email:"",name:"",isCompleted:!1},hz=pf({name:"SPPUserDetailsSlice",initialState:zQ,reducers:{getDetails:(e,t)=>{e={...e,...t.payload}}}}),{getDetails:O4}=hz.actions,BQ=hz.reducer,R4={International:["Other","International"],Other:["Other","Other"],"Andhra Pradesh":["Other","SV College of Engineering","Velagapudi Ramakrishna Siddhartha Engineering College","Pragati Engineering College","Andhra University College Of Engineering For Women","Rajeev Gandhi Memorial college of Engineering and Technology","SRKR Engineering College","Narayana Engineering College","Madanapalle Institute of Technology & Science ","Audisankara College of Engineering & Technology","RVR & JC College Of Engineering","JNTUK University","Shri Vishnu Engineering College for Women","Vignan's LARA Institute of Technology & Science","Intell Engineering College","Anil Neerukonda Institute of Technology and Sciences","Andhra University College of Engineering","Raghu Engineering College","G Pulla Reddy College of Engineering & Technology","GMR Institute of Technology","SRK Institute of Technology","Aditya Engineering College","Bapatla Engineering College","Lakireddy Bali Reddy College of Engineering","JNTUA College of Enginee, Pulivendula","SIETK","G. Pullaiah College of Engineering and Technology","Vishnu Institute of Technology","Sree Vidyanikethan Engineering College","Gudlavalleru Engineering College","Godavari Institute of Engineering and Technology","Vasireddy Venkatadri Institute of Technology","NBKR Institute of Science and Technology","Gayatri Vidya Parishad College of Engineering","ADITYA INSTITUTE OF TECHNOLOGY AND MANAGEMENT","Annamacharya Institute of Technology & Sciences","VAAGDEVI INSTITUTE OF TECHNOLOGY & SCIENCE","Jawaharlal Nehru Technological University","Gokula Krishna College Of Engineering","Sri Venkateswara University","K L University","GITAM University","Eluru College of Engineering and Technology","QIS College of Engineering and Technology","Sree Rama Engineering College","Vikas College Of Engineering and Technology","MVGR College of Engineering","Kottam College of Engineering","KVSW - Dr.K.V.Subba Reddy Women's Engineering College","Prakasam Engineering College","Swarnandhra College of Engineering and Technology","Chaitanya Engineering College","Guntur Engineering College","Sri Venkateswara College Of Engineering & Technology","Sasi Institute of Technology & Engineering","Akula Sree Ramulu College of Engineering","St. Mary's Womens Engineering College","Al-Ameer College of Engineering & IT","Andhra Loyola Institute of Engineering and Technology","Vignan's Institute Of Information Technology","Srinivasa Ramanujan Institute Of Technology","Pragati Engineering College City Office","Vignan's Nirula Institute of Technology and Science for Women","Vignan's Institute of Engineering for Women","Nadimpalli Satyanarayana Raju Institute of Technology","Dhanekula institute of Engineering and Technology","C.R.Reddy College of Engineering","Brindavan Institute of Technology and Science","Malineni Perumallu Educational Society's Group Of Institutions"],"Arunachal Pradesh":["Other","Faculty of Engineering & Technology, Arunachal University of Studies","North Eastern Regional Institute of Science and Technology","National Institute of Technology, Arunachal Pradesh","Rajiv Gandhi Government Polytechnic","Tomi Polytechnic College","Department of Engineering And Technology, Indira Gandhi Technological and Medical Sciences University, Ziro, Arunachal Pradesh","North East Frontier Technical University Campus"],Assam:["Other","IIT, Guwahati","NIT, Silchar","Tezpur University, Tezpur","Assam University, Silchar","Central Institute of Technology,Kokrajhar","Dibrugarh University of Engineering and Technology, Dibrugarh","Assam Don Bosco University, Guwahati","Assam Down Town University, Guwahati","Assam Engineering College, Kamrup","Bineswar Brahma Engineering College,Kokrajhar","Guahati University, College of Engineering, Guahati","Girijananda Chowdhury Institute of Management & Technology, Guwahati","Jorhat Institute of Science and Technology, Jorhat","Jorhat Engineering College, Jorhat","Kaziranga University, Jorhat","NETES Institute of Technology & Science, Mirza","Royal School of Engineering and Technology, Guwahati","Scholar Institute of Technology & Management, Kamrup"],Bihar:["Other","Indian Institute of Technology, Patna New Govt. Polytechnic Campus, Patliputra Colony, Patna  800013","National Institute of Technology, Patna Ashok Rajpath, Patna","Muzaffarpur Institute of Technolgy,Muzaffarpur","Bhagalpur College of Engineering, Bhagalpur P.O Sabour Bhagalpur- 813210","Nalanda College of Engineering, ChandiNalanda","Motihari College of Engineering, Motihari East Champaran","Gaya Engg. College, GayaSri Krishna Nagar P.O Nagari Yana Via Buniyadganij Gaya-823001","Darbhanga Engg. College, Darbhanga Mabbi Darbhanga P.O Lal Sahpur Via PTC-846005","Sanjay Gandhi Institution of Technology, Patna","College of Agricultural Engg, Pusa Samstipur","Central Institute of Plastic Engg & Tech EPIP Complex Industrial Area, Hajipur-844101","Maulana Azad College of Engineering and Technology, patna","R.P. sharma Institute of Technolgy, patnaNew Bailey Road Patna, Bihar","Birla Institute of Technology, Patna Near Patna Airport, P.O. Bihar Veterinary College, Patna  14","Netaji subhash Institute of Technology, Amhara, Patna Bihar -854301","Millia Institute of Technology, PurneaRam Bag, Purnea, Bihar-854301","Siwan Institute of Engg & Tech, Siwan Islamia Nagar Shurapur PO.& DiST- Siwan Bihar-841226","Women Institute of Technology, Darbhanga L.N. Mithila University Campus, Kameshwar Nagar, Darbhanga - 846004","Vidya Vihar Institute of Technology","Purnea-854301","Loknayak Jai Prakash Institute Of Technology, Chhapra In The Campus Of Lnjp University, Chhapra,Saran- 841301","K.C.E. Katihar","B.P.Mandal, College of Engg. Madhepura","B.C.E., Bakhtiyarpur","S.I.T., Sitamarhi","R.R.S.D., College of Engg. Begusarai","Shershah College of Engg. Sasaram","Vidyadaan Institute of Technology & Management,Ariaon,Dumraon, Buxar","Saharsa Engineering College, Saharsa","Supaul Engineering College, Supaul","Purnea Engineering College, Purnea"],Chattisgarh:["Other","Ashoka Institute of Technology and Management (AITM)","Balaji Institute of Technology & Mgmt & Research (BITMR)","Bharti College of Engineering and Technology (BCET)","Bhilai Institute of Technology, Durg (BIT)","Bhilai Institute of Technology Raipur (BIT)","Bhilai School of Engineering (BSE)","Central College of Engineering and Management (CCEM)","Central Institute of Technology (CIT)","Chattisgarh Institute of Technology (CIT)","Chhatrapati Shivaji Institute of Technology (CSIT)","Chhattisgarh Engineering College (CEC)","Chhattisgarh Institute of Management & Technology (CIMT)","Chouksey Engineering College (CEC)","Columbia institute of Engineering and Technology(CIET)","Disha Institute of Managemnet & Technology (DIMAT)","Dr. C.v. Raman Institute Of Science And Technology (CVRIST)","GD Rungta College of Science & Technology (GDRCST)","Garv Institute of Management and Technology (GIMT)","Government Engineering College Bilaspur (GECBSP)","Government Engineering College Jagdalpur (GECJDP)","Government Engineering College Raipur (GEC-RAIPUR)","Institute of Technology (ITGGU)","Institute of Technology Korba (IT)","J.K. Institute of Engineering (JKIE)","Kirodimal Institute of Technology (KIT)","Krishna Engineering College (kEC)","Kruti Institute of Technology & Engineering (KITE)","Lakhmi Chand Institute of Technology (LCIT)","M.M College of Technology (MMCT)","MATS School of Engineering and Information Technology (MATS)","MP Christian College of Engineering & Technology (MPCCET)","Maa Bamleshwari Institute of Technology & Management (MBITM)","National Institute of Technology, Raipur (NIT)","O.P. Jindal Institute of Technology (OPJIT)","Parthivi College of Engineering and Management (PCEM)","Pragati College of Engineering and Management (PCEM)","Professional Institute of Engineering and Technology (PIETECH)","R.S.R Rungta College of Engineering and Technology (RSRRCET)","Raipur Institute of Technology (RIT)","Ravi Shanker Institute of Technology and Management (RITM)","Rungta College Of Engineering & Technology (RCET)","Satyadeva Institute of Technology (SIT)","Shri Shankaracharya College of Engineering & Technology (SSCET)","Shri Shankaracharya Engineering College (SSEC)","Shri Shankaracharya Group of Institutions (SSGI)","Shri Shankaracharya Institute of Professional Management and Technology (SSIPMT)","Shri Shankaracharya Institute of Technology and Management (SSITM)","Sri Rawatpura Sarkar Institute of Technology (SRI-TECH)","Vindhya Institute of Technology and Science (VITS)","Yugantar Institute of Technology & Management (YITM)"],Delhi:["Other","Manav Rachna International University","Manav Rachna University","Manav Rachna Dental College","Delhi Technological University","Indian Institute of Technology, Delhi","Netaji Subhas Institute of Technology","Dronacharya College of Engineering","DPG Institute of Technology & Management","Panipat Institute of Engineering & Technology, PIET","Geeta Group of Institutions","Greater Noida Institute Of Engineering","The Northcap University (formerly known as ITM University )","National Institute of Technology, Delhi","Indraprastha Institute of Information Technology","Ambedkar Institute of Technology","Maharaja Surajmal Institute of Technology","Amity School of Engineering & Technology","Delhi Institute of Tool Engineering","Ansal Institute of Technology","Bhagwan Parshuram Institute of Technology","Bharati Vidyapeeth's College of Engineering","CBP Government Engineering College","Govind Ballabh Pant Engineering College","Guru Premsukh Memorial College of Engineering","Guru Tegh Bahadur Institute of Technology","HMR Institute of Technology & Management","JIMS Engineering Management Technical Campus","Indira Gandhi Delhi Technical University for women","Pt. Deendayal Upadhyaya Institute for the Physically Handicapped","Maharaja Agrasen Institute of Technology","Faculty of Engineering and Technology JMI","Modi Institute of Technology","National Power Training Institute","Northern India Engineering College","School of Planning and Architecture","TVB School of Habitat Studies","University School of Biotechnology","University School of Chemical Technology","University School of Information Technology (USIT)","Vastu Kala Academy","Vishweshraiya College of Engineering and Technology","Mangalmay Group of Institutions"],Goa:["Other","BITS Pilani, Goa Campus","National Institute of Technology, Goa","Indian Institute of Technology, Goa","Goa College of Engineering, Farmagudi","Goa College of Architecture, Goa","Padre Conceicao College of Engineering, Goa","Don Bosco College of Engineering, Goa","Agnel Institute of Technology and Design, Goa","BIRLA INSTITUTE OF TECHNOLOGY AND SCIENCE - [BITS PILANI] , SOUTH GOA","Shree Rayeshwar Institute of Engineering and Information Technology, Goa","Institute of Shipbuilding Technology, Goa"],Gujarat:["Other","Dr. Subhahsh Pethaljibhai Chavda Ahir Kelvani Mandal's Group of Institutions (DSPCI)","Gujarat Power Engg. And Research Institute (GPERI)","Kankeshwari Devi Institute of Technology (KIT)","L. J. Institute Of Engineering And Technology (LJIET)","Laxmi Institute of Technology (LIT)","Shree Saraswati Education Sansthan's Group of Institutions (SSESIC)","Shri Labhubhai Trivedi Institute of Engineering And Technology","Veerayatan Group Of Institutions Faculty Of Engg (VGI)","AD Patel Institute of Technology (ADPIT)","Ahmadabad Institute of Technology (AIT)","Alpha College of Engineering and Technology","Amiraj College of Engineering And Technology. (ACET)","Arrdekta Institute of Technology (AIT)","Arun Muchhala Engineering College (AMEC)","Atmiya Institute of Technology & Science (AITS)","B.H. Gardi College of Engineering & Technology (BHGCET)","BHAGAVAD GOPAL INSTITUTE OF ENGINEERING","Babaria Instiute of Technology (BIT)","Bhagwan Mahaveer College of Engineering and Technology (BMCET)","Birla Vishvakarma Mahavidyalaya Engineering College (BVM)","Birla Vishwakarma Mahavidyalaya (BVM)","CEPT University (CEPT)","CK Pithawala College of Engineering & Technology (CKPET)","CU Shah College Of Engineering and Technology (CCET)","Central Institute of Plastic Engineering & Technology (CIPET)","Chanubhai S Patel Institute of Technology (CSPIT)","Charotar Institute of Technology","Chhotubhai Gopalbhai Patel Institute of Technology (CGPIT)","Darshan Institute of Engineering and Technology (DIET)","Dharamsingh Desai Institute of Technology","Dr. Jivraj Mehta Institute of Technology (DJMIT)","Engineering College Tuwa (ECT)","GH Patel College of Engineering & Technology (GCET)","GK Bharad Institute of Engineering","GUJARAT INSTITUTE OF TECHNICAL STUDIES (GITS)","Gandhinagar Institute of Technology (GIT)","Gidc Degree Engineering College. (GDEC)","Government Engineering College","Grow More Foundation's Group Of Institutions (GMFGI)","HJD Institute of Technical Education and Research (HITER)","Hansaba College of Engineering and Technology (HCET)","Hasmukh Goswami College of Engineering (HGCE)","Indus Institute of Engineering & Technology (IITE)","Institute of Computer and Communication Technology (ICCT)","Institute of Science and Technology for Advanced Studies and Research (ISTAR)","Institute of Technology & Management Universe Technical Campus (ITMU)","Ipcowala Institute of Engineering & Technology (IIET)","K.J Institute of Engineering and Technology (KJIT)","Kalol Institute of Technology & Researach Centre (KITRC)","LC Institute of Technology (LCIT)","LD College of Engineering (LDCE)","Leads Institute of Technology & Engineering (LITE)","Leelaben Dashrathbhai Ramdas Patel Institute of Technology and Research (LDRP-ITR)","Lukhdhirji College of Engineering (LCE)","Madhuben & Bhanubhai Patel Women's Institute of Engineering (MBICT)","Mahatma Gandhi Institute of Technology Education & Residence Centre (MGITERC)","Merchant Engineering College Basna (MEC)","Narnarayan Shastri Institute Of Technology (NSIT)","Navrachana University","Nirma Institute of Technology","Noble Engineering College (NEC)","Om Shanti Engineering College (OSEC)","Pacific School of Engineering (PSE)","Parul Institute of Engineering & Technology (PIET)","RK College of Engineering & Technology (RKCET)","Rungta College of Engineering & Technology","SAL Institute of Technology and Engineering Research (SALITER)","SPB Patel Engineering College (SPEC)","SV National Institute of Technology","Sabar Institute of Technology For Girls (SITG)","Samarth College of Engineering and Technology (SCET)","Sankalchand Patel College of Engineering (SPCE)","Sardar Patel Institute of Technology (SPIT)","Sardar Vallabhbhai Patel Institute of Technology (SVIT)","Sarvajanik College of Engineering & Technology (SCET)","Shankersinh Vaghela Bapu Institute of Technology (SVBIT)","Shantilal Shah Engineering College (SSEC)","Shree Swami Atmanand Saraswati Institute of Technology ( SSASIT)","Shri S'AD Vidya Mandals Institute of Technology (SVMIT)","Shri. J. M. Sabva Insitute of Engineering & Technology (JMSIET)","Shroff Sr Rotary Institute of Chemical Technology (SRICT)","Sigma Institute of Engineering (SIE)","Sigma Institute of Technology and Engineering","Silver Oak College Of Engineering and Technology (SOCET)","Smt. S.R. Patel Engineering College (SRPEC)","Takshashila College of Engineering and Technology (TCET)","Tatva Institute of Technological Studies (TITS)","U V Patel College of Engineering (UVPCE)","Universal College of Engineering and Technology (UCET)","V. V. P Engineering College (VVPEC)","Vadodara Institute of Engineering (VIE)","Valia Institute of Technology (VIT)","Venus International College of Technology (VICT)","Vidhyadeep Institute of Management & Technology (VIMT)","Vidyabharti Trust Institute of Technology and Research Center (VBTITRC)","Vishwakarma Government Engineering College, Chandkheda (VGEC)","Vyavsai Vidya Prathisthans Sanch College of Engineering (VVP)"],Haryana:["Other","Darsh Institute of Engineering & Technology (DIET)","Delhi Engineering College (DEC)","Emax Group of Institutions (EGI)","Innovative Institute of Technology & Management (IITM)","Ishwar Institute of Technology & Research (IITR)","Mewat Engineering College Wakf (MECW)","Advanced College of Technology & Management (ACTM)","Advanced Institute of Technology & Management (AITM)","Akido College of Enegineering (ACE)","Al-Falah School of Engineering & Technology (AFSET)","Ambala College of Engineering and Applied Research (ACEAR)","Ansal Institute of Technology (AIT)","Anupma College of Engineering (ACE)","Apeejay College of Engineering (ACE)","Apex Institute of Management & Technology (AIMT)","Applied College of Management & Engineering (ACME)","Aravali College of Engineering & Management (ACEM)","Asia Pacific Institute of Information Technology (APIIT)","Asian Institute of Management & Technology (AIMT)","B. S. Anangpuria Institute of Technology and Management (BSAITM)","BLS Institute of Engineering & Technology (BLSIET)","BM College of Technology & Management (BMCTM)","BM Group of Institutions (BMGI)","BM Institute of Engineering & Technology (BMIET)","BMS Institute of Technology (BMSIT)","BRCM College of Engineering & Technology (BRCM CET)","Bhagwan Parsuram College of Engineering (BPCE)","Bharat Institute of Technology Sonepat (BITS)","Bhiwani Institute of Technology & Sciences (BITS)","Bimla Devi Educational Society's Group of Institutions (BDESGI)","Brown Hills College of Engineering & Technology (BHCET)","CBS Group of Instituions (CBSGI)","CR State College of Engineering (CRSCE)","Career Institute of Technology & Management (CITM)","Ch. Devi Lal Memorial Government Engineering College (CDLMGEC)","College of Agricultural Engineering & Technology(CAET)","D.R.College of Engineering and Technology (DRCET)","DPG Institute of Technology & Management (DPGITM)","Dalal Global Institute of Technology (DGIT)","Dav College of Engineering Technology (DAVCET)","Deep Institute of Engineering and Technology & Group Institutions (DIETGI)","Delhi College of Technology & Management (DCTM)","Delhi Institute of Technology and Management (DITM)","Delhi Institute of Technology, Management and Research (DITMR)","Delhi Technical Campus (DTC)","Department of Instrumentation Technology (DIT)","Doon Valley College of Engineering (DVCE)","Doon Valley Institute of Engineering & Technology (DVIET)","Dronacharya College of Engineering (DCE)","Echelon Institute of Technology (EIT)","Emax School of Engineering & Applied Research (ESEAR)","Galaxy Global Educational Trust Group Of Institutions (GGGI)","Galaxy Global Imperial Technical Campus (GGITC)","Galaxy Institute of Technology & Management (GITM)","Ganga Institute of Technology and Management (GITAM)","Ganpati Institute of Technology & Management (GITM)","Gateway Institute of Engineering & Technology (GIET)","Geeta Engineering College (GEC)","Geeta Institute of Management & Technology (GIMT)","Global Institute of Technology & Management (GITM)","Global Research Institute of Management & Technology (GRIMT)","Gold Field Institute of Technology & Management (GFITM)","Gopal Sharma Modern Vidya Niketan Institute of Engineering and Technology (GSMVN-IET)","Gurgaon College Of Engineering For Women (GCEW)","Gurgaon College of Engineering (GCE)","Gurgaon Institute of Technology & Management (GITM)","Guru Jambheshwar University of Science & Technology (GJUST)","Guru Nanak Institute of Technology (GNIT)","Haryana College of Technology & Management (HCTM)","Haryana Engineering College (HEC)","Haryana Institute of Engineering and Technology (HIET)","Haryana Institute of Technology (HIT)","Hindu College of Engineering (HCE)","Hindustan Institute Of Technology & Management (HITM)","ICL Institute of Engineering & Technology (ICL IET)","Indo Global College of Architecture (IGCA)","Indus Institute of Engineering & Technology (IIET)","Institute of Information Technology & Management (IITM)","Institute of Mass Communication and Media Technology (IMCMT)","Institute of Science & Technology Klawad (ISTK)","Institute of Technology & Management (ITM)","Institute of Technology and Sciences (ITS)","International Institute of Engineering & Technology (IIET)","International Institute of Technology & Business (IITB)","International Institute of Technology and Management (IITM)","Jan Nayak Ch Devi Lal Memorial College of Engineering (JCDM-CE)","Jind Institute of Engineering & Technology (JIET)","KD College of Engineering and Technology for Women (KDCET)","KIIT College of Engineering (KIITCE)","Kalpi Institute of Technology (KIT)","Karnal Institute of Technology and management (KITM)","Kurukshetra Institute of Technology & Management (KITM)","Les Filles MVN Institute of Engineering and Technology (LFMIET)","Lingayas Institute of Managment & Technology (LIMT)","MM Engineering College (MMEC)","Maa Saraswati Institute of Engineering And Technology. (MSIET)","Mahabir Engineering College. (MEC)","Maharana Pratap Institute of Technology & Management (MPITM)","Maharishi Markandeshwar Group of Institutions, Karnal (MMGI)","Maharishi Ved Vyas Engineering College (MVVEC)","Mahaveer Swami Institute of Technology (MSIT)","Management Education & Research Institute (MERI)","Manav Institute of Technology & Management (MITM)","Manav Rachna College of Engineering (MRCE)","Mata Rajkaur Institute of Engineering and Technology (MRKIET)","Matu Ram Institute of Engineering & Management (MRIEM)","Modern Institute of Engineering and Technology (MIET)","N C Institue Of Technology (NCIT)","NAV NIRMAN SEWA SAMITI'S SAMALKHA GROUP OF INSTITUTIONS (SGI)","NC College of Engineering (NCCE)","NGF College of Engineering & Technology (NGFCET)","Naraini Educational & Charitable Societys Group of Institutions (NECSI)","Om Institute of Technology and Management (OITM)","P.D.Memorial College of Engineering for Women (PDMCEW)","P.M. College of Engineering (PMCE)","PD Memorial College of Engineering (PDMCE)","PDM School of Technology & Management (PDMSTM)","Panchkula Engineering College (PEC)","Panipat Institute of Engineering And Technology (PIET)","Panipat Institute of Textile & Engineering (PITE)","Prannath Parnami Institute of Management & Technology (PPIMT)","Pt LR College of Technology Technical Campus (LRCT-TC)","R N Engineering & Management College (RNEMC)","RN College of Engineering and Technology (RNCET)","RP Inderaprastha Institute of Technology (RPIIT)","Rao Pahlad Singh Group of Institutions (RPSGOI)","Rattan Institute of Technology and Management (RITM)","Rawal Institute of Engineering and Technology (RIET)","Rohtak Institute of Engineering and Management (RIEM)","Royal Institute OF Management And Technology (RIMT)","Rukmini Devi College of Engineering and Allied Sciences (RDCEAS)","S.B. Institute of Engineering and Technology (SBIET)","S.D.Mewat Institute of Engineering & Technology (SDMIET)","SD Institute of Technology & Management (SDTM)","SGT Institute of Engineering and Technology (SGTIET)","Sat Kabir Institute of Technology & Management (SKITM)","Sat Priya Group of Institutions (SPGOI)","Satya College of Engineering & Technology (SCET)","Savera Educational Trust Group of Institutions (SETGI)","Seth Jai Parkash Mukand Lal Institute of Engineering & Technology (SJPMLIET)","Shanti Niketan College of Engineering (SNCE)","Shivalik Institute of Engineering & Technology (SIET)","Shree Ram Institute of Engineering & Technology (SRIET)","Shree Ram Mulkh Institute of Engineering and Technology (SRMIET)","Shree Siddhivinayak Educational Trust's Group of Institutions (SSETGI)","Shri Baba Mastnath Engineering College (SBMEC)","Shri Balwant Institute of Technology (SBIT)","Shri Krishan Institute of Engineering & Technology (SKIET)","Shri Ram College of Engineering & Management (SRCEM)","Somany(PG) Institute of Technology & Management, (SITM)","Sonipat Institute of Engineering and Management (SIEM)","South Point Institute of Technology and Management (SITM)","Sri Venkateswara Engineering College (SVEC)","Suraj College of Engineering & Technology (SCET)","Sushant School of Art and Architecture (SSAA)","Swami Devi Dyal Institute of Computer & Information Technology (SDDICIT)","Swami Devi Dyal Institute of Engineering and Technology (SDD-IET)","Swami Devi Dyal Institute of Engineering. (SDDIE)","Technological Institute of Textiles and Sciences (TITS)","Technology Education & Research institute (TERI)","Tek Chand Mann College of Engineering (TCM)","Universal Institute of Technology (UIT)","University Institute of Engineering & Technology (UIET)","Vaish College of Engineering. (VCE)","Vardey Devi Institute of Engineering and Technology (VDIET)","World College of Technology & Management (WCTM)","World Institute of Technology (WIT)","YMCA Institute of Engineering & Technology (YIET)","YMCA University of Science and Technology (YUST)","Yaduvanshi College of Engineering & Technology (YCET)","Yamuna Institute of Engineering & Technology (YIET)"],"Himachal Pradesh":["Other","T. R. Abhilashi Memorial Institute of Engineering and Technology","Jawaharlal Nehru Government Engineering College","Green Hills Engineering College","Baddi University of Emerging Sciences and Technologies","Vaishno College of Engineering","National Institute of Technology, Hamirpur","Jaypee University of Information Technology","Eternal University","Shiva Institute of Engineering and Technology, Bilaspur","Indian Institute of Technology, Mandi","Himachal Institute Engineering & Technology"],"Jammu & Kashmir":["Other","National Institute of Technology, Srinagar","Kashmir University - institute of technology","SSM College of Engineering, Baramulla","Bhargava College of Engineering and Technology, Samba","Indian Institute of Technology Jammu","Model Institute of Engineering & Technology, Bantalab, Jammu","MBS College of Engineering & Technology, Digaina, Jammu","Government Engineering College, Jammu","Yogananda College of Engineering and Technology, Jammu","College of Engineering, Shri Mata Vaishno Devi University, Udhampur","College of Engineering and Technology, Baba Ghulam Shah Badshah University, Rajouri"],Jharkhand:["Other","B.A. College of Engineering & Technology (BACET)","Birla Institute of Technology, Mesra (BIT)","Birsa Institute of Technology Sindri (BIT)","Cambridge Institute of Technology (CIT)","D.A.V. Institute of Engineering & Technology (DAVIET)","Guru Gobind Singh Educational Society's Technical Campus (GGSESTC)","K. K. College Of Engineering And Management (KKCEM)","Maryland Institute of Technology And Management (MDITM)","Nilai Educational Trust's Group of Institutions (NETGI)","RVS College of Engineering & Technology (RVSCET)","Ram Govind Institute of Technology, Koderma (RITK)","Ram Tahal Choudhary Institute of Technology (RTCIT)","Ramchandra Chandravanshi Institute of Technology (RCIT)","University College of Engineering & Technology (UCET)","University Polytechnic BIT Mesra (UP-BIT)","Indian Institute of Technology (Indian School of Mines), Dhanbad ","National Institute of Foundry and Forge Technology","Amity University, Ranchi","National Institute of Technology, Jamshedpur"],Karnataka:["Other","Basaveshwar Engineering College (BEC)","Sahyadri College of Enggineering and Management (SCEM)","Shirdi Sai Engineering College (SSEC)","A.G.M Rural College of Engineering & Technology (AGMRCET)","ACS College of Engineering (ACSCE)","ALPHA COLLEGE OF ENGINEERING (ACE)","AMC Engineering College (AMCEC)","APS College Of Engineering (APSCE)","Academy for Technical & Management Excellence (ATME)","Acharya Institute of Technology (AIT)","Acharya Pathasala Rural College of Engineering","Achutha Institute of Technology (AIT)","Adichunchangiri Institute of Technology (AIT)","Akshaya Institute of Technology","Alva's Institute of Engineering & Technology (AIET)","Amrita School of Engineering (ASE)","Amrutha Institute of Engineering & Management Sciences (AIEMS)","Angadi Institute of Technology & Management (AITM)","Anjuman Engineering College (AEC)","Anjuman Institute of Technology And Management. (AITM)","Appa Institute of Engineering and Technology, Gulbarga (AIET)","Atria Institute of Technology (AIT)","Auden Technology and Management Academy (ATMA)","B. M. Sreenivasaiah College of Engineering (BMSCE)","B. M. Sreenivasaiah College of Engineering (evening)","B. V. Bhoomireddy College of Engineering & Technology","B.L.D.E.A's College of Engineering and Technology (BLDEACET)","B.N.M Institute of Technology (BNMIT)","B.T.L. College of Engineering","BELLARI INSTITUTE OF TECHNOLOGY & MANAGEMENT (BITM)","BGS Institute of Technology","BTL Institute of Technology & Management (BTLITM)","Bahubali College of Engineeing (BCE)","Ballari Institute of Technology And Managemet. (BITM)","Bangalore College of Engineering and Technology (BCET)","Bangalore Institute of Technology","Bangalore Technological Institute (BTI)","Bapuji Institute of Engineering and Technology (BIET)","Basava Academy Engineering College (BAEC)","Basavakalyan Engineering College (BEC)","Basavakalyana College of Engineering","Bearys Institute of Technology (BIT)","Bellary Rural Engineering College","Bheemanna Khandre Institute of Technology, Bhalki (BKIT)","Bijapur Liberal District Education Association College of Engineering (BLDEACE)","Bms Institute of Technology & Management (BMSITM)","Brindavan College of Engineering (BCE)","C Byre Gowda Institute of Technology (CBIT)","Cambridge Institute of Technology (CIT)","Canara Engineering College (CEC)","Channabasaveshwara Institute of Technology (CIT)","City Engineering College (CEC)","Coorg Institute of Technology (CIT)","Dayanand Sagar College of Engineering (DSCE)","Dayananda Sagar Academy of Technology and Management (DSATM)","Don Bosco Institute of Technology (DBIT)","Dr. Ambedkar Institute Of Technology (Dr.AIT)","Dr. M. V. Shetty Institute of Technology (MVSIT)","Dr. Sri. Sri. Sri Shivakumara Mahaswamy College of Engineering (SKSCE)","Dr.T.Thimmaiah Institute of Technology (Dr.TTIT)","East Point College of Engineering & Technology (EPCET)","East Point College of Engineering for Women (EPCEW)","East West Institute of Technology(EWIT)","Ekalavya Institute of Technology. (EIT)","Eklavya College of Technology (ECT)","G M Institute of Technology (GMIT)","GSS Institute of Technology (GSSIT)","GSSS Institute of Engineering & Technology for Women (GIETW)","Ghousia College of Engineering (GCE)","Girijabai Sail Institute of Technology. (GSIT)","Global Academy of Technology (GAT)","Godutai Engineering College for Women (GECW)","Gogte Institute of Technology (GIT)","Golden Valley 's Institute of Engineering(Formerly)Dr.T.Thimmaiah Institute of Technology","Gopalan College Of Engineering & Management (GCEM)","Government Engineering College, Bangalore Rural","Government Engineering College, Chamarajangara (GECC)","Government Engineering College, Hassan (GECH)","Government Engineering College, Haveri (GEC)","Government Engineering College, Karwar (GEC-Karwar)","Government Engineering College, Kushalnagar (GECK)","Govt. S K S J T Institute (GSKSJT)","Govt.tool Room Training Center (gttc)","Guru Nanak Dev Engineering College (GNDEC)","Gurunankdev Engineering College (GEC)","H.M.S. Institute of Engineering (HMSIT)","HKBK college of engineering (HKBKCE)","Hira Sugar Institute of Technology (HIT)","Hyderabad Karnataka Education Society's S.L.N. College of Engineering(HKESLNCE))","Impact College of Engineering & Applied Sciences (ICEAS)","Islamiah Institute Of Technology (IIT)","JSS Academy of Technology Education (JSSATE)","Jain College of Engineering (JCE)","Jain Institute of Technology (JIT)","Janatha Edu Trust's Vivekananda Institute of Technology (VIT)","Jawaharlal Nehru National College of Engineering (JNNCE)","Jnana Vikas Institute of Technology (JVIT)","Jyothy Institute of Technology (JIT)","K L E Societys College of Engineering & Technology (KLESCET)","K.L.E. Society's K.L.E college of Engineering & Technology (KLECET)","K.S. School of Engineering and Management (KSSEM)","KCT Engineering College (KCTEC)","KLE Institute of Technology (KLEIT)","KNS INSTITUTE OF TECHNOLOGY (KNSIT)","Kalpataru Institute of Technology (KIT)","Kammavari Sangha's Institute of Technology (KSIT)","Karavali Institute of Technology (KIT)","Karnataka Law Society's Viswanathrao Deshpande Rural Institute of Technology (VDRIT)","Khaja Banda Nawaz College of Engineering (KBNCE)","Kurunji Venkataramana Gowda College of Engineering (KVGCE)","Lingaraj Appa Engineering College (LAEC)","M. S. Ramaiah Institute of Technology (MSRIT)","M.S. Engineering College (MSEC)","MVJ College of Engineering (MVJCE)","Maharaja Institution of Technology (MIT)","Malnad College of Engineering (MCE)","Mangalore Institute of Technology and Engineering(MITE)","Manipal Institute of Technology (MIT)","Maratha Mandal Engineering College (MMEC)","Moodalkatte Institute of Technology (MIT)","NIE-Institute of Technology (NIEIT)","NMAM Institute of Technology (NMAMIT)","Nadgir Institute of Engineering & Technology (NIET)","Nagarjuna College of Engineering and Technology (NCET)",`National Institute of Technology Karnatak,
    Surathkal`,"Navodaya Institute of Technology (NIT)","New Horizon College of Engineering (NHCE)","Nitte Mahalinga Adyanathaya Mem Institute of Technology","Nitte Meenakshi Institute of Technology (NMIT)","P. A. College of Engineering (PACE)","P. E. S. College of Engineering (PESCE)","P.E.S. Institute of Technology (PESIT)","P.N.S Womens Institute of Technology (PNSWIT)","PES Institute of Technology & Management (PESITM)","PES School of Engineering (PESSE)","Poojya Doddappa Appa College of Engineering (PDACE)","Prasanna College of Engineering and Technology (PCET)","Proudhadevaraya Institute of Technology (PDIT)","R. R. Institute of Technology (RRIT)","R. V. College of Engineering (RVCE)","R.L.Jalappa Institute of Technology (RLJIT)","R.N. Shetty Institute of Technology (RNSIT)","RTE Society's Rural Engineering College, Hulkoti (REC)","Raja Rajeshwari College of Engineering (RRCE)","Rajeev Institute of Technology (RIT)","Rajiv Gandhi Institute of Technology (RGIT)","Rao Bahadur Y. Mahabaleswarappa Engineering College (RYMEC)","Reva Institute of Technology & Mangement (RITM)","Rural Engineering College","S. S. E. T'S S. G. Balekundri Institute of Technology (SSET-SGBIT)","S.D.M College of Engineering & Technology (SDMCET)","S.D.M INSTITUTE OF TECHNOLOGY (SDMIT)","SCT Institute of Technology (SCTIT)","SEA College of Engineering & Technology","SJM Institute of technology (SJMIT)","SRI REVANA SIDDESHWARA INSTITUTE OF TECHNOLOGY (SRSIT)","Sai Vidya Institute of Technology (SVIT)","Sambhram Institute of Technology (SIT)","Sampoorna Group Of Institutions (SGI)","Sapthagiri College of Engineering (SCE)","Secab Institute of Engineering & Technology (SIET)","Sha-Shib College of Engineering (SCE)","Shaikh College of Engineering and Technology (SCET)","Shetty Institute of Technology (SIT)","Shree Devi Institute of Technology (SDIT)","Shri Jagadguru Chandrashekar Swamiji Institute of Technology (SJCIT)","Shri Madhwa Vadiraja Institute of Technology and Management (SMVITM)","Shri Pillappa College of Engineering (SPCE)","Shridevi Institute of Engineering & Technology (SIET)","Siddaganga Institute of Technology (SIT)","Sir M Visvesvaraya Institute of Technology (SMVIT)","Smt. Kamala & Sri Venkappa M Agadi College of Engineering & Technology (SKSVMACET )","Sri Vidya Vinayaka Institute of Technology. (SVVIT)","Sri Belimatha Mahasamsthana Institute of Technology (SBMSIT)","Sri Bhagawan Mahaveer Jain College of Engineering","Sri Chikka Muniappa Reddy Institute of Technology(CMRIT)","Sri Dharmasthala Manjunatheshwara Engineering College","Sri Jayachamarajendra college of Engineering (SJCE)","Sri Krishna Institute of Technology (SKIT)","Sri Krishna School of Engineering And Management. (SKSEM)","Sri Krishnarajendra Silver Jubilee Technology Institute","Sri Siddartha Institute of Technology (SSIT)","Sri Sri Sri Balagangadharanatha Swamiji Institute of Technology (SJBIT)","Sri Taralabalu Jagadguru Institute of Technology(STJIT)","Sri Tontada Siddalingeswara Kendra College of Engineering (STSKCE)","Sri Venkateshwara College of Engineering (SVCE)","Srinivas Institute of Technology (SIT)","St. Joseph Engineering College (SJEC)","T John Institute Of Technology (TJIT)","The National Institute of Engineering (NIE)","The Oxford College of Engineering (OCE)","Tontadarya College of Engineering (TCE)","U.B.D.T College of Engineering (UBDTCE)","University Visvesvaraya College of Engineering (UVCE)","VSM'S Institute of Technology (VSMIT)","Veerappa Nisty Engineering College (VNEC)","Vemana Institute of Technology (VIT)","Vidya Vardhaka College of Engineering (VVCE)","Vidya Vikas Institute of Engineering and Technology (VVIET)","Vijaya Vittala Institute of Technology (VVIT)","Vivekananda College of Engineering & Technology (VCET)","Vivekananda Institute of Technology (VKIT)","Yagachi Institute of Technology (YIT)","Yellamma Dasappa Institute of Technology (YDIT)","sahyadri Institute of Technology (SIT)"],Kerela:["Other","National Institute of Technology Calicut","ER&DCI Institute of Technology, Trivandrum","National Institute of Electronics & Information Technology, Calicut","Indian Institute of Space Science and Technology, Trivandrum","Indian Institute of Information Technology Kottayam","Indian Institute of Technology Palakkad","College of Engineering, Trivandrum","Government Engineering College, Thrissur","Thangal Kunju Musaliar College of Engineering, Kollam","NSS College of Engineering, Palakkad","Mar Athanasius College of Engineering, Kothamangalam","Government College of Engineering, Kannur","Rajiv Gandhi Institute of Technology, Kottayam","Government Engineering College, Trivandrum","Government Engineering College, Kozhikode","Government Engineering College, Sreekrishnapuram","Government Engineering College, Wayanad","Government Engineering College, Idukki","Government Model Engineering College, Cochin","LBS College of Engineering, Muliyar, Kasaragod","L B S Institute of Technology for Women, Poojappura, Trivandrum","Sree Chitra Thirunal College of Engineering","ACE College of Engineering","Adi Shankara Institute of Engineering Technology","Ahalia School of Engineering and Technology","Al Azhar College of Engineering and Technology","Al-Ameen Engineering College","Albertian Institute of Science and Technology","Amal Jyothi College of Engineering","Ammini College of Engineering","Archana College of Engineering","Aryanet Institute of Technology","AWH Engineering College","Axis College of Engineering and Technology","Baselios Mathews Ii College of Engineering","Baselios Thomas I Catholicose College of Engineering and Technology","Believers Church Caarmel Engineering College","Bishop Jerome Institute","Carmel College of Engineering and Technology","Christ College of Engineering","Christ Knowledge City","Cochin College of Engineering and Technology","Cochin Institute of Science and Technology","College of Engineering and Technology","Eranad Knowledge City Technical Campus","Federal Institute of Science and Technology","Focus Institute of Science and Technology","Gurudeva Institute of Science And Technology","Heera College of Engineering and Technology","Hindustan College of Engineering","Holy Grace Academy of Engineering","Holy Kings College of Engineering and Technology","I E S College of Engineering","Ilahia College of Engineering Technology","Ilahia School of Science and Technology","ILM College of Engineering and Technology","Indira Gandhi Institute of Engineering and Technology For Women","Jai Bharath College of Management and Engineering Technology","Jawaharlal College of Engineering and Technology","John Cox Memorial C S I Institute of Technology","Jyothi Engineering College","K M E A Engineering College","K R Gouri Amma College of Engineering For Women","KMCT College of Engineering","KMCT College of Engineering For Women","KMP College of Engineering","Kottayam Institute of Technology and Science","KVM College of Engineering and Information Technology","Lourdes Matha College of Science and Technology","MEA Engineering College","MES College of Engineering","M G College of Engineering","M. Dasan Institute of Technology","Malabar College of Engineering and Technology","Malabar Institute of Technology","Mangalam College of Engineering","Mar Baselios Christian College of Engineering and Technology","Mar Baselios College of Engineering and Technology","Mar Baselios Institute of Technology and Science","Marian Engineering College","Matha College of Technology","MES College of Engineering and Technology","MES Institute of Technology and Management","MET'S School of Engineering","Mohandas College of Engineering and Technology","Mookambika Technical Campus","Mount Zion College of Engineering","Mount Zion College of Engineering For Women","Musaliar College of Engineering","Musaliar College of Engineering and Technology","Muslim Association College of Engineeringmacev.org","Muthoot Institute of Technology and Science","Nehru College of Engineering and Research Centre","Nirmala College of Engineering","North Malabar Institute of Technology","Pankajakasthuri College of Engineering and Technology","Pinnacle School of Engineering and Technology","Prime College of Engineering","Providence College of Engineering","Prs College of Engineering and Technology","Rajadhani Institute of Engineering and Technology","Rajagiri School of Engineering and Technology","Royal College of Engineering and Technology","Sadguru Swami Nithyananda Insititute of Technology","Sahrdaya College of Engineering and Technology","Saintgits College of Engineering","Sarabhai Institute of Science and Technology","SCMS School of Engineering and Technology","Shahul Hameed Memorial Engineering College","SNM Institute of Management and Technology","Sree Buddha College of Engineering","Sree Buddha College of Engineering For Women","Sree Ernakulathappan College of Engineering and Management","Sree Narayana Guru College of Engineering and Technology","Sree Narayana Guru Institute of Science and Technology","Sree Narayana Gurukulam College of Engineering","Sree Narayana Institute of Technology","Sreepathy Institute of Management and Technology","Sri Vellappally Natesan College of Engineering","St. Gregorios College of Engineering","St. Joseph's College of Engineering and Technology","St. Thomas College of Engineering and Technology","St. Thomas College of Engineering and Technology","St.Thomas Institute for Science and Technology","TKM Institute of Technology","Thejus Engineering College","Toc H Institute of Science and Technology","Toms College of Engineering For Startups","Travancore Engineering College","Trinity College of Engineering","UKF College of Engineering and Technology","Universal Engineering College","Valia Koonambaikulathamma College of Engineering and Technology","Veda Vyasa Institute of Technology","Vidya Academy of Science and Technology","Vidya Academy of Science and Technology","Vignan Institute of Technology and Science (VISAT)","Vimal Jyothi Engineering College","Viswajyothi College of Engineering and Technology","Younus College of Engineering","Younus College of Engineering & Technology","Younus Institute of Technology"],"Madhya Pradesh":["Other","Integral Institute of Information Technology & Management","Mandsaur Institute of Technology","PT. DEVPRABHAKAR SHASTRI COLLEGE OF TECHNOLOGY","ABV-Indian Institute of Information Technology and Management","AISCET Institute of Science and Technology","ASTRAL Institute of Technology and Research","Acropolis Institute of Technology & Research","Aditya College of Technology and Science (ACTS)","Agnos College of Technology","All Saint's College of Technology (ASCT)","Alpine Institute of technology","B.M.College of Engineering and Technology","Babulal Tarabai Inst. Of Res. & Tech., (BTIRT)","Bagula Mukhi College of Technology (BMCT)","Bansal College of Engineering","Bansal Institute Of Research and Technology. (BIRT)","Bansal Institute of Science & Technology","Bhabha College of Engineering","Bhabha Engineering and Research Institute","Bhartiya Vidyia Mandir College of Technology & Management","Bhopal Institute of Technology & Science","Central Indian Institute of Technology","Central Institute of Agricultural Engineering","Chameli Devi Institute of Tech & Management(CITM)","Corporate Institute of Science and Technology (CIST)","Crescent College of Technology (CCT)","Devi Ahilya Vishwavidyalaya Institute of Engineering and Technology","Don Bosco Institute Of Technology","Engineering College Nowgong. (ECN)","Gargi Institute of Science and Technology","Girdhar Shiksha Evam Samaj Kalyan Samiti Group of Institutions, Bhopal. (GSESKSGIB)","Global Institute of Technology and Science","Globus Engineering College","Gondia Education Society Manoharbhai Patel Institute of Engineering & Technology","Government Engineering College (Rewa)","Guru Ramdas Khalsa Institute of Science and Technology (GRKIST)","Gwalior Engineering College","Gwalior Institute of Technology and Science (GITS)","Gyan Ganga College of Technology (GGCT)","Gyan Ganga Institute of Technology and Sciences","Gyan Sagar College of Engineering. (GSCE)","Hindustan Institute Of Technology Science & Management. (HITSM)","Hitkarni College of Engineering Technology (HCET)","IASSCOM FORTUNE Institute of Technology","IES's College of Technology","IPS College of Technology & Management","Indira Gandhi Engineering College","Indira Gandhi Government Engineering College","Indore Institute of Science & Technology","Infinity Management and Engineering College","Institute of Engineering","Institute of Engineering & Sciences","Institute of Engineering And Technology","Institute of Engineering Jiwaji University (IEJU)","Institute of Engineering and SCS I.P.S Academy, Indore","Institute of Information Technology & Management","Institute of Peoples Science & Technology","Institute of Technology & Management","Indian Institute of Technology, Indore","J.N. College of Technology","Jabalpur Engineering College","Jagadguru Dattatray College Of Technology, Indore. (JDCTI)","Jai Narain College of Technology and Science (JNCTS)","Jawaharlal Institute of Technology","Jawaharlal Nehru College of Technology","K.C. Bansal College of Technology","KCB Technical Academy(KCBTA)","Kailash Narayan Patidar College of Science and Technology","LAKSHMI NARAIN COLLEGE OF TECHNOLOGY, INDORE","Lakshmi Bai Sahuji Institute of Engineering and Technology","Lakshmi Narain Academy of Technology, Gwalior, (LNAT)","Lakshmi Narain College Of Technology (LNCT)","Lakshmi Narayan College of Technology","Lakshmipati Institute of Science and Technology (LIST)","Late Ramoti Devi Institute of Engineering","Laxmi Narayan Institute of Technology Gwalior. (LNITG)","Lord Krishna College of Technology","Maa Kaila Devi Institute of information Technology","Madhav Institute of Technology & Science","Mahakal Institute of Technology","Mahakal Institute of Technology & Science2006","Mahakal Institute of Technology and Management (MITM)","Maharana Pratap College of Technology (MPTC)","Maharashtra Institute of Technology (MIT)","Mahatma Gandhi Institute of Technology and Management","Malhotra Technical Research Institute","Malwa Institute of Science and Technology","Malwa Institute of Technology","Mandsaur Institute of Technology (MIT)","Mansarovar Institute of Science and Technology (MIST)","Mathuradevi Institute of Technology and Management","Maulana Azad National Institute of Technology (MANIT)","Maxim Institute Of Technology, (MIT)","Medi-Caps Institute of Technology and Management","Military College of Telecommunication and Engineering","Millennium Institute of Technology and Science","Mittal Institute of Technology","NRI Institute of Information Science & Technology","NRI Institute of Technology & Management","Nagaji Institute of Technology & Management","Ojaswani Institute of Science and Research","Ojaswini Institute of Management and Technology","Oriental Engineering College","Oriental Institute of Science & Technology","Padmabhushan Vasantdada Patil Pratishthan College of Engineering","Patel College of Science & Technology","Patel College of Science & Technology","Patel Institute of Engineering and Science","People's College of Research and Technology (PCRT)","Prakash Institute Of Engineering & Technology, Jabalpur. (PIETJ)","Prashanti Institute of Technology Science (PITS)","Premier Institute Of Technology, (PIT)","Prestige Institute of Engineering and Science (PIES)","Priyatam Institute of Technology and Science","REWA INSTITUTE OF TECHNOLOGY","RKDF College of Engineering","RKDF Institute of Science & Technology","RKDF School of Engineering","RadhaSwami Institute of Technology. (RSIT)","Radharaman Engineering College","Radharaman Institute of Technology and Science (RITS)","Radharaman Institute of Technology and Science (RITS)","Rajeev Gandhi College","Rajeev Gandhi Prodyogiki Mahavidyalaya","Ravi Shankar Institute of Technology and Management( RITM)","Rewa Engineering College, Rewa. (RECR)","Rishiraj Institute of Technology","Royal College of Technology","Rukmani Devi Institute of Science and Technology (RDIST)","Rustamji Institute of Technology (RJIT)","S.G.B.M Institute of Technology and Science","SCOPE College of Engineering","Sagar Institute of Research & Technology","Sagar Institute of Research & Technology - Excellence (SIRATE)","Sagar Institute of Research Technology & Science (SIRTS)","Sagar Institute of Science & Technology","Sakshi Institute Of Technology & Management (SITM)","Sam College of Engineering and Technology","Samrat Ashok Technology Institution","Sanghvi Innovative Academy","Sanghvi Institute of Management & Science","Saraswati Institute of Engineering and Technology","Sardar Patel College of Technology","Sardar Patel Institute of Technology and Management","Sha-Shib College of Technology","Shiv Kumar Singh Institute of Technology and Science (SKSITS)","Shree Institute of Science & Technology","Shri Balaji Institute of Technology & Management, (SBITM)","Shri Govindram Seksaria Institute of Technology and Science","Shri Guru Sandipani Institute Of Technology & Science. (SGSITS)","Shri Krishna Institute Of Technology & Management. (SKITM)","Shri Ram Institute of Technology","Shri Rawatpura Sarkar Institute of Technology","Shri Vaishanav Institute of Technology & Science","Shri Venkateshwar Institute of Technology","Shri Venkateshwar Institute of Technology","Shri Yogindra Sagar Institute of Technology and Science","ShriRam College of Engineering & Management (SRIIT)","Sparta Institute of Technology and Management. (SPITM)","Srajan Institute Of Tech. Management & Science. (SITMS)","Sri Aurobindo Institute of Technology (SAIT)","Sri Dadaji Institute of Technology and Science","Sri Satya Sai Institute of Science & Technology","St. Aloysius Institute of Technology","Star Academy of Technology and Management","Surabhi College of Engineering and Technology","Sushila Devi Bansal College of Technology","Swami Vivekanand College of Engineering","Swami Vivekanand Institute of Technology Sagar. (SVITS)","Swami Vivekananda College of Science & Technology","Synergy Institute of Technology","TIT College","Takshshila Institute of Engineering & Technology","Tatyasaheb Kore Institute of Engineering and Technology.(TKIET)","Technocrats Institute of Technology (T.I.T)","Technocrats Institute of Technology and Science (TITS)","Thakral College of Technology","Thakur ShivkumarSingh Memorial Engineering College. (TSKSMEC)","Trinity Institute of Technology and Research","Truba College Of Science & Technology. (TCST)","Truba College of Engineering & Technology","Truba Institute of Engineering & Information Technology","U V Patel College of Science and Technology","Ujjain Engineering College","Univeristy Institute of Technology (Rajiv Gandhi Technical University)","University Institute of Technology, (UIT) Barkatullah University, Bhopal","University Institute of Technology, Bhopal","VNS Institute of Technology","Vedica Institute of Technology","Vidhyapeeth Institute Of Science & Technology. (VIST)","Vikrant Institute of Technology and Management (VITM)","Vindhya Institute of Technology & Science","Vindhya Institute of Technology & Science","Vindhya Institute of Technology & Science"],Maharashtra:["Other","Backward Class Youth Relief Committee Umrer College of Engineering","Dr.Bhausaheb Nandurkar College of Engineering & Technology","Govt College Of Engineering, Karad","KCE Society'sCollege of Engineering and Information Technology","Kavikulguru Institute Of Technology And Science","Mahatma Basweshwar Education Society M.S. Bidve College of Engineering","Matsyodar Shikshan Sanstha College of Engineering & Technology","National Fire Service College","Padmabhooshan Vasantraodada Patil Institute of Technology","Priyadarshini College of Engineering","R.C. PATEL INSTITUTE OF TECHNOLOGY","RASHTRASANT TUKADOJI MAHARAJ NAGPUR UNIVERSITY","Shree Neminath Jain Brahmacharashram College of Engineering","Shri Sant Gajanan Maharaj College of Engineering","Vidya Pratishthans College of Engineering","ARMY INSTITUTE OF TECHNOLOGY","Aditya Bhau Uddeshiya Sanstha Aditya Engineering College","All India Shri Shivaji Memorial Society College of Engineering","All India Shri Shivaji Memorial Societys Institute of Information Technology","Amrutvahini Sheti & Shikshan Vikas Sanstha Amrutvahini College of Engineering","Angel Charitables Xavier Pilar Fr. Conceico Rodrigues Institute of Technology","Anjuman College of Engineering and Technology","Anjuman-i-islam M.h. Saboo Siddik College of Engineering (MHSSCOE)","Ankush Shikshan Sanstha G.h. Raisoni College of Engineering","Atharva Educational Trust Atharva College of Engineering","BABASAHEB NAIK COLLEGE OF ENGINEERING","BHARATRATNA INDIRA GANDHI COLLEGE OF ENGINEERING, SOLAPUR","Bansilal Ramnath Agarwal Charitable Trust Vishwakarma Institute of Information Technology Survey","Bharati Vidyapeeth College of Engineering, Thane","Bharati Vidyapeeth's College of Engineering for Women","Bharatiya Vidya Bhavan Sardar Patel Institute of Technology","Bharatiya Vidyapeeth Deemed University","Bhartiya Gramin Punarrachana Sanstha Hi-tech Institute of Technology","Chaudhary Atarsingh Yadav Memorial Trust Siddhant College of Engineering","College of Engineering, Pune","D.Y.Patil College of Engineering & Technology","Dattajirao Kadam Technical Educational Society Textile And Engineering Institute","Department of Chemical Technology Dr. Babasaheb Ambedkar Marathwada University","Department of Chemical Technology North Maharashtra University","Dr. BABASAHEB AMBEDKAR TECHNOLOGICAL UNIVERSITY","Dr. D. Y. Patil Vidya Pratishthan Society's Padmashree Dr. D.Y. Patil Institute of Engineering & Technology","Dr. D.Y. Patil Pratishthan Dr. D.Y. Patil College of Engineering","Dr. J.J. Magdum Charitable Trust Dr. J.J. Magdum College of Engineering","Dyanganga College of Engineering & Research","Engineering Department Sant Gadge Baba Amravati University","Excelsior Education Society K.C. College of Engineering","Fr. Conceicao Rodrigues College of Engineering (FRCRCE)","G.H. Raisoni Education And Medical Foundation G.H. Raisoni College of Engineering & Management","G.H. Raisoni Educational & Medical Foundation G.H. Raisoni Institute of Engineering & Technology","G.H.R Educational Foundation G.H. Raisoni Institute of Engineering & Management","GOVERNMENT COLLEGE OF ENGINEERING AMRAVATI","Genba Sopanrao Moze Trust Genba Sopanrao Moze College of Engineering","Gharda Foundation Gharda Institute of Technology","Godavari College of Engineering","Government College of Engineering","Government College of Engineering","Government College of Engineering, Aurangabad GECA)","Gramodyogik Shikshan Mandal Maharashtra Institute of Technology","Guru Nanak Educational Society Guru Nanak Institute of Engineering & Technology","Hindi Seva Mandal Shri Sant Gadge Baba Engineering College & Technology","Hope Foundation And Research Centre Finolex Academy of Management & Technology","Hyderabad (Sind) National Collegiate Board Thadomal Shahani Engineering College (TSEC)","Indian Institute of Technology Bombay","Jagdamba Education Society S.N.D. College of Engineering & Research Centre","Jai Mahakali Shikshan Sanstha Shri Shankarprasad Agnihotri College of Engineering","Jawahar Education Society Annasaheb Chudaman Patil College of Engineering (ACPCE)","Jawaharlal Darda Education Society Jawaharlal Darda Institute of Engineering & Technology","Jawaharlal Nehru Institute of Education Science & Technology Research Trust Smt. Indira Gandhi College of Engineering","Jayawant Shikshan Prasarak Mandal Jayawantrao Sawant College of Engineering","Jaywant Shikshan Prasarak Mandal Imperial College of Engineering & Research","K. J. Somaiya College of Engineering (KJSCE)","K.K. Wagh Education Society K.K. Wagh Institute of Engineering Education & Research","KARMAVEER DADASAHEB KANNAMWAR COLLAGE OF ENGINEERING","Kai Amadar Brahmdevdada Mane Shikshan Va Samajik Pratishthan Brahmdevdada Mane Institute of Technology","Kasegaon Education Society Rajarambapu Institute of Technology College of Engineering","Kolhapur Institute of Technology","Konkan Education Society Narayan Nagu Patil Engineering College","Lokmanya Tilak Jankalyan Shikshan Sansthalokmanya Tilak College of Engineering","Lokmanya Tilak Jankalyan Shikshan Sansthasmt. Bhagwati Chaturvedi College of Engineering","MGM's College of Engineering and Technology (MGMCET)","Maharashi Karve Shree Shikshan Sanstha Cummins College of Engineering For Women","Maharashtra Academy of Engineering & Educational Research MIT College of Engineering","Maharashtra Academy of Engineering & Educational Research Maharashtra Academy of Engineering","Maharashtra Shikshan Samiti Maharashtra College of Engineering","Maharashtra Technical Education Society Walchand College of Engineering","Mahatma Bashweshwar Education Society College of Engineering","Mahatma Education Society Pillais Institute of Information Technology, Engineering, Media Studies & Research","Mahatma Gandhi Mission College of Engineering","Mahatma Gandhi Mssion Jawaharlal Nehru College of Engineering","Mahavir Education Trust Shah & Anchor Kutchi Engineering College (SAKEC)","Mandar Education Society Rajaram Shinde College of Engineering","Manjara Charitable Trust Rajiv Gandhi Institute of Technology (MCTRGIT)","Marathwada Mitra Mandal'S College of Engineering","Military Engineering College","Modern Education Society College of Engineering","Modern Education Society Cusrow Wadia Institute of Technology","Mumbai Education Trust MET Institute of Engineering","Nagar Yuwak Shikshan Sanstha Datta Meghe College of Engineering","Nagoan Education Society's Gangamai College of Engineering","Nashik District Maratha Vidya Prasarak Samaj's Karmaveer Adv. Baburao Ganpatrao Thakare College of Engineering","National Power Training Institute (Western Region)","Naval College of Engineering","Padmashree Dr. D.Y. Patil University","Padmashri Dr.Vithalrao Vikhe Patil Foundation Padmashri Dr.Vitahalrao Vikhe Patil College of Engineering","Paramhansa Ramkrishna Maunibaba Shikshan Sansthas Anuradha Engineering College","People's Education Society College of Engineering","Pimpri Chinchwad Education Trust Pimpri Chinchwad College of Engineering","Pona District Education Association College of Engineering","Prabodhan Shikshan Prasarak Sanstha Rajendra Mane College of Engineering & Technology","Pravara Rural Education Society Pravara Rural College of Engineering","Priyadarshini INSTITUTE OF ENGINEERING & TECHNOLOGY","Progressive Education Society Modern College of Engineering","Pune Institute of Engineering & Technology","Pune Vidyarthi Griha College of Engineering & Technology","Ramrao Adik Edu Society, Ramarao Adik Institute of Technology (RAIT)","Rayat Shikshan Sanstha Karmaveer Bhaurao Patil College of Engineering","Rizvi College Of Engineering","S.N.D.T. Women's University Institute of Technology for women","SHRI GURU GOBIND SINGHJI NSTITUTE OF ENGINEERING AND TECHNOLOGY","Saint Dyaneshwar Shikhsan Sanstha Shri Annasaheb Dange College of Engineering & Technology","Sanjay Education Society College of Engineering","Sanjivani Rural Education Society College of Engineering","Sanmarg Shikshan Sanstha Smt. Radhikatai Pandav College of Engineering","Saraswati College of Engineering (SCE)","Saraswati Education Society, Group of Institutions ( Integrated Campus) (SES)","Sardar Patel Memorial Society Rajiv Gandhi College of Engineering","Shivnagar Vidya Prasarak Mandal's College Of Engineering","Shrama Sadhana Trust College of Engineering & Technology","Shree Aillak Pannalal Digambar Jain Pathshala Walchand Institute of Technology","Shree Chanakya Education Society Shree Chanakya Education Societys Indira College of Engineering & Management","Shree Hanuman Vyayam Prasarak Mandal College of Engineering Technology","Shree Tulja Bhavani Temple Trust Shri Tulja Bhavani College of Engineering","Shri Ramdeobaba Kamla Nehru Engineering College,","Shri Shivaji Education Society College of Engineering & Technology","Shri Shivaji Vidya Prasarak Santha Late Bapusaheb Shivajirao Deore College Of Engineering","Shri Sureshdada Jain College of Engineering","Shri Vile Parle Kelvani Mandal Dwarkadas J. Sanghvi College Of Engineering","Shri Vithal Education & Research Institute's College of Engineering","Sindhudurg Shikshan Prasark Mandal College Of Engineering","Sinhgad Technical Education Society Sinhgad College of Engineering","Sinhgad Technical Education Society Sinhgad Institute of Technology","Sinhgad Technical Education Society Smt. Kashibai Navale College of Engineering","Sinhgad college of Engineering (SCOE)","Sipna's College of Engineering & Technology","Sir Visvesvaraya Memorial Engineering College Nashik","Society For Computer Technology & Research Pune Institute of Computer","Society of St. Francis Industrial Training Institute St. Francis Institute of Technology","Society of St.Francis Xavier Pilar Fr.Conceicao Rodrigues College Of Engineering","St. Vincent Pallotti College of Engineering & Technology","TERNA ENGINEERING COLLEGE","TERNA ENGINEERING COLLEGE","Technical & Medical Education Society J.T. Mahajan College Of Engineering","Thakur College of Engineering & Technology (TCET)","The Bombay Xaverian Corporation Pvt. Ltd. Xavier Institute Of Engineering","The Shetkari Shikshan Mandal Padmabhooshan Vasantdada Patil Institute Of Technology","The South Indian Education Society SIES Graduate School of Technology","University Institute of Chemical Technology","Usha Mittal Institute of Technology (UMIT)","VISHWABHARARTI ACADEMY'S COLLEGE OF ENGINEERING","Vaidyanath Sarvangin Vikas Sanstha Nagnathappa Halge Engineering College","Veermata Jijabai Technological Institute","Vidarbha Bahu-Uddeshiya Shikshan Sansthatulsiramji Gaikwad- Patil College Of Engineering And Technology","Vidarbha Youth Welfare Societys Prof.Ram Meghe Institute of Technology & Research","Vidyalankar Dayanapeeth Trust Vidyalankar Institute Of Technology (VIT)","Vidyavardini Society'S College of Engineering & Technology","Vighnaharata Trust Shivajirao S. Jondhale College Of Engineering & Technology","Vishwakarma Institute of Technology","Visvesvaraya National Institute of Technology","Vivekanand Education Society Institute of Technology","YADAVRAO TASGAONKAR INSTITUTE OF ENGINEERING AND TECHNOLOGY (YTIET)","Yeshwant Rao Chavan College of Engineering","Yeshwant Rural Education Society Bapurao Deshmukh Engineering College"],Manipur:["Other","National Institute of Technology, Manipur","Indian Institute of Information Technology, Manipur","Manipur University, Imphal","Manipur Institute of Technology, Takyelpat","Central Agricultural University, Imphal","Central Institute of Plastics Engineering and Technology, Imphal","Government Polytechnic, Imphal","National Institute of Electronics and Information Technology, Imphal"],Nagaland:["Other","National Institute of Technology, Nagaland","Nagaland University, Kohima","Nagaland University, Lumami","Nagaland Tool Room and Training Centre, Dimapur"],Orrisa:["Other","Ghanashyam Hemalata Institute of Technology Management","Majhighariani Institute of Technology & Science","Ajay Binay Institute of Technology","Apex Institute of Technology And Management. (AITM)","Aryan Institute of Engineering And Technology. (AIET)","Balasore College of Engineering & Technology","Bhadrak Institute of Engineering & Technology","Bhubaneswar College of Engineering. (BCE)","Bhubaneswar Institute of Industrial Technology. (BIIT)","Black Diamond College of Engineering And Technology, Jharsuguda. (BDCET)","C.V. Raman College of Engineering","Capital Engineering College. (CEC)","College of Engineering & Technology (Orissa University of Agriculture & Technology)","College of Engineering, Bhubaneswar","Dhaneshwar Rath Institute of Engineering & Management Studies, (DRIEMS)","Eastern Academy of Science & Technology (National Institute of Technology & Science )","Einstein Academy of Technology And Management. (EATM)","GANDHI INSTITUTE FOR TECHNOLOGICAL ADVANCEMENT","Gandhi Academy of Technology And Engineering. (GATE)","Gandhi Engineering College","Gandhi Institute For Education And Technology. (GIET)","Gandhi Institute For Technology","Gandhi Institute of Engineering & Technology","Gandhi Institute of Excellent Technocrats. (GIET)","Gandhi Institute of Science And Technology. ( GIST)","Gandhi Institute of Technology And Management (GITAM)","Gopal Krishna College of Engineering & Technology","Gurukula College of Engineering For Womens. (GCEW)","Gurukula Institute of Technology. (GIT)","Hi-Tech College of Engineering. (HTCE)","Hi-Tech Institute of Technology. (HTIT)","INDIC Institute of Design and Research","Indira Gandhi Institute of Technology","Indotech College of Engineering. (ICE)","Indus College of Engineering","Institute of Advance Computer & Research","Institute of Technical Education & Research","Institute of Technical Education & Research Siksha 'O' Anusandhan University","Institute of Textile Technology, Cuttack","International Institute of Information Technology Bhubaneswar. (IIITB)","Jagannath Institute for Technology and Management","Jagannath Institute of Engineering & Technology (JIET)","KMBB College of Engineering And Technology. (KMBBCET)","Kalam Institute of Technology. (KIT)","Kalinga Institute of Industrial Technology (KIIT)","Konark Institute of Science & Technology","Koustuv Institute of Self Domain","Krupajala Engineering College","Kruttika Institute of Technical Education. (KITE)","Mahavir Institute of Engineering & Technology","Modern Engineering And Management Studies. (MEMS)","Modern Institute of Technology And Management. (MITM)","N.M. Institute of Engineering & Technology","NIT Rourkela","Nalanda Institute of Technology","National Institute of Science & Technology","Orissa Engineering College","Orissa School of Mining Engineering","Oxford College of Engineering And Management. (OCEM)","Padmanava College of Engineering","Padmashree Krutartha Acharya College of Engineering","Purushottam Institute of Engineering & Technology","Raajdhani Engineering College","Radhakrishna Institute of Engineering And Technology. (RITE)","Rayagada Institute of Technology And Management. (RITAM)","Roland Institute Of Technology","SAMANTA CHANDRASEKHAR INSTITUTE OF TECHNOLOGY AND MANAGEMENT","SUNDARGARH ENGINEERING COLLEGE","Sanjay Memorial Institute of Technology (SMIT)","Satyasai Engineering College","Seemanta Engineering College","Shibani Institute of Technical Education. (SITE)","Silicon Institute of Technology","Sophitorium Engineering College. (SEC)","Srinix College of Engineering Balasore. (SCEB)","Subas Institute of Technology. (SIT)","Suddhananda Engineering And Research Centre (SERC)","Synergy Institute of Engineering & Technology","THE TECHNO SCHOOL","TempleCity Institute of Technology & Engineering","Trident Academy of Technology","University College of Engineering","VITS Engineering College. (VITSEC)","Vedang Institute of Technology. (VIT)","Veer Surendra Sai University of Technology Burla. (VSSUTB)","Vignan Institute of Technology And Management. (VITAM)","Vikash College of Engineering For Women. (VCEW)","Vivekananda Institute of Technology. (VIT)"],Punjab:["Other","Adesh Institute Of Engineering & Tech.","Aman Bhalla Institute Of Engg & Tech.","Amritsar College Of Engg. & Tech.","BIS College of Engineering & Technology","Baba Banda Singh Engineering College","Bhutta College Of Engg. & Tech","Continental Institute of Engineering and Technology","D.A.V Institute Of Engineering And Technology","Desh Bhagat Engineering College","Doaba Inst Of Engg & Technology(Diet)","Guru Gobind Singh College Of Engg","Gulzar Institute of Engg. & Tech.","K.C. College Of Engg. & Inform. Tech.","Patiala Institute Of Engg And Technology For Women","North West Institute Of Engg & Tech","Rayat & Bahra Institute Of Engg. & Bio- Tech.","Ramgarhia Inst. Of Engg. & Tech.","Swami Vivekanand College of Engineering Tech","Aryabhatta College of Engineering & Technology","Chandigarh College of Engineering & Technology,","Chandigarh Engineering College","Chitkara Institute Of Engg. & Tech.","Doaba Faculty of Engg. & Tech.","Doaba Women Institute Of Engineering & Technology","Ghubaya College of Engineering And Technology. (GCET)","Giani Zail Singh,College Of Engineering & Tech.","Global College Of Engineering & Technology","Guru Nanak Dev Engineering College (Govt. Aided College)","Guru Nanak Institute of Engg. & Managment","Guru Ram Dass Institute of Engg. & Tech","Guru Teg Bahadur Khalsa Inst. Of Engg. & Tech.","IITT College Of Engineering","Indo Global College Of Engineering","Institute Of Engineering & Technology","Jasdev Singh Sandhu Institute Of Engineering & Technology","Khalsa College of Engineering & Technology","Lala Lajpat Rai Institute Of Engineering & Tech.","Ludhiana College Of Engg. & Tech","Lyallpur Khalsa College of Engineering. (LKCE)","National Institute of Technology, Jalandhar","Punjab Engineering College (PEC)","RIMT-Institute Of Engg. & Tech.","RIMT-Maharaja Agrasen Engineering College","Radiant Institute of Engineering And Technology (RIET)","Radical Technical Institute. (RTI)","Rayat -Bahra Institute Of Engineering & Nano Technology","Rayat Inst Of Engg & Informtion Technology","S. Sukhjinder Singh Engineering & Technology College","S.B.S. College Of Engg. & Tech.(Govt. College)","Sachdeva Engineering College For Girls","Sant Baba Bhag Singh Instt. Of Engg. & Tech.","Sant Longowal Institute of Engineering And Technology. (SLIET)","Satyam Institute of Engineering And Technology. (SIET)","Shaheed Udham Singh College Of Engg. & Tech.","Shiv Shankar Institute Of Engg. & Tech.","Shri Sai College Of Engg & Tech","Sri Sukhmani Inst Of Engg & Technology","Swami Paramand Engineering College","Swami Sarvanand Institute of Engg. & Tech.","Swami Vivekanand Inst. Of Engg. & Tech.","Tawi Engineering College. (TEC)","Universal Institute of Engineering & Technology","Thapar University"],Rajasthan:["Other","Birla Institute of Technology and Science, Pilani","Indian Institute of Technology, Jodhpur","Malaviya National Institute of Technology, Jaipur","Shekhawati Engineering College","Advait Vedanta Institute of Technology. (AVIT)","Ajmer Institute of Technology","Alwar Institute of Engineering & Technology","Anand International College of Engineering. (AICE)","Apex Group of Institutions. (AGI)","Apex Institute of Engineering & Technology","Apex International Institute of Technology. (AIIT)","Aravali Institute of Technical Studies. (AITS)","Arya College of Engineering & Research Centre","Arya College of Engineering And Information Technology. (ACEAIT)","Arya Institute of Engineering And Technology. (AIET)","Aryabhatta College of Engineering And Research Centre. (ACERC)","Asian Institute of Technology. (AIT)","B.K. Birla Institute of Engineering And Technology. (B.K.BIET)","Baldev Ram Mirdha Institute of Technology","Bhartiya Institute of Engineering And Technology, Sikar. (BIETS)","Biff And Bright College of Engineering And Technology. (BBCET)","Biyani International Institute of Engineering And Technology For Girls. (BIIETG)","CLG Institute of Engineering And Technology. (CIET)","Career Point Technical Campus. (CPTC)","Chanakya Technical Campus. (CTC)","Chandravati Group of Institutions. (CGI)","Chartered institute of Technology Abu Road. (CITAR)","College of Technology and Engineering","Compucom Institute of Information Technology & Management","Dr. Radhakrishnan Institute of Technology. (DRIT)","Dungarpur College of Engineering And Technology. (DCEAT)","Engineering College","Engineering College","Geetanjali Institute of Technical Studies","Global Institute of Technology","Goevernment Engineering College Bharatpur. (GECB)","Government Engineering College Jhalawar. (GECJ)","Govt. Women Engineering College Ajmer. (GWECA)","Gurukul Institute of Engineering And Technology Kota. (GIETK)","Gyan Vihar Scholl of Engineering And Technology. (GVSET)","Institute of Engineering & Technology","Institute of Technology & Management","International Institute of Management Engineering And Technology. (IIMET)","JIET School of Engineering & Technology for Girls","Jagan Nath Gupta Institute of Engineering & Technology","Jaipur Engineering College & Research Centre","Jaipur Engineering College. (JEC)","Jaipur Institute of Engineering And Management. (JIEM)","Jaipur Institute of Engineering And Technology. (JIET)","Jodhpur Engineering College & Research Centre","Jodhpur Institute of Engineering & Technology","Jodhpur National University. (JNU)","Kautilya Institute of Technology & Engineering","KeyStone Group of Institutions. (KSGI)","Laxmi Devi Institute of Engineering & Technology","MBM Engineering College","MJRP College of Engineering And Technology. (MJRPCET)","MLV Textile Instutute","Maharaja College of Engineering. (MCE)","Maharani Girls Engineering College. (MGEC)","Maharishi Arvind College of Engineering And Research Centre (MACERC)","Maharishi Arvind Institute of Engineering & Technology","Mahatma Gandhi Engineering College. (MGEC)","Malaviya National Institute of Technology","Manda Institute of Technology. (MIT)","Marudhar Engineering College","Marwar Engineering College & Research Centre","Mayurakshi Institute of Engineering And Technology. (MIET)","Modi Institute of Technology","Nathdwara Institute of Engineering And Technology. (NIET)","Northern Institute of Engineering And Technical Campus. (NIETC)","Pacific College of Engineering. (PCE)","Pacific Institute of Engineering. (PIE)","Pacific Institute of Technology. (PIT)","Pink City Engineering College And Research Center. (PECRC)","Poornima College of Engineering","Pratap Institute of Technology And Science. (PITS)","R.N. Modi Engineering College. (RNMEC)","RN Modi Engineering College","Rajasthan College of Engineering for Women","Rajasthan Engineering College. (REC)","Rajasthan Institute of Engineering & Technology","Regional College for Education Research & Technology","S.J. College of Engineering And Technology. (SJCET)","SLBS Engineering College (SLBSEC)","SS College of Engineering, (SSCE)","Saraf Institute of Engineering And Technology. (SIET)","Sawai Madhopur College of Engineering And Technology. (SMCET)","School of Engineering and Technology","Seedling Academy of Design Technology & Management","Shankara Institute of Technology","Shekhawati Institute of Engineering And Technology. (SIEAT)","Shree Digamber Institute of Technology. (SDIT)","Shri Balaji College of Engineering & Technology","Shri Bhawani Niketan Institute of Technology And Management. (SBNITM)","Shrinathji Institute of Technology & Engineering","Shyam Institute Of Engineering And Technology. (SIEAT)","Siddhi Vinayak College of Science & Higher Education","Sine International Institute of Technology. (SIIT)","Sobhasaria Engineering College","Sri Balaji College of Engineering And Technology Jaipur. (SBCEATJ)","Sri Ganganagar Engineering College","St Margaret Engineering College","St. Margaret Engineering College. (STMEC)","Stani Memorial College of Engineering and Technology","Sunrise Group Of Institution. (SGI)","Surendera Group of Institutions. (SGI)","Swami Keshwanand Institute of Technology & Management","Swasthya Kalyan Technical Campus. (SKTC)","Techno India Njr Institute Of Technology. (TINT)","Universal Technical College. (UTC)","Vedant College of Engineering And Technology. (VCET)","Vedic Gurukul Institute of Engineering And Technology, Jaipur. (VGIET)","Vivekananda Institute of Technology. (VIT)","Vyas College of Engineering And Technology. (VCET)","Vyas Institute of Engineering And Technology. (VIET)","Yagyavalkya Institute of Technology. (YIT)","govt Engineering College"],Sikkim:["Other","National Institute of Technology, Sikkim","Sikkim Manipal Institute of Technology, Sikkim","Sikkim Manipal University, Gangtok","EIILM University, Sikkim","EIILM University, Jorethang","Centre for Computers and Communication Technology, South Sikkim"],"Tamil Nadu":["Other","Ariyalur ","University College Of Engineering, Ariyalur","K.K.C College Of Engineering And Technology","Mec Engineering College","Meenakshi Ramaswamy Engineering College","Ariyalur Engineering College,Melakaruppur","Chennai","University Departments Of Anna University, Chennai * Ceg Campus","University Departments Of Anna University, Chennai * Act Campus","University Departments Of Anna University, Chennai * Sap Campus","Measi Academy Of Architecture","Meenakshi Sundararajan Engineering College","Central Institute Of Plastics Engineering And Technology","Jawahar Engineering College","Loyola * Icam College Of Engineering And Technology","Meenakshi College Of Engineering","Coimbatore","KPR Institute of Engineering and Technology","Kalaignar Karunanidhi Institute of Technology","Government College Of Technology, Coimbatore (Autonomous)","P.S.G. College Of Technology (Autonomous)","Coimbatore Institute Of Technology (Autonomous)","Rathinam Technical Campus","Sri Ranganathar Institute Of Engineering & Technology","N.R. School Of Architecture","Pollachi Institute Of Engineering And Technology","V.S.B. College Of Engineering Technical Campus","Nightingale Institute Of Technology","SRM Institute of Science and Technology","Suguna College Of Engineering","Sasi Creative School Of Architecture","A.S.L. Pauls College Of Engineering And Technology","Christ The King Engineering College","S V S College Of Engineering","Sree Sakthi Engineering College","Coimbatore Institute Of Engineering And Technology","Dr. Mahalingam College Of Engineering & Technology (Autonomous)","Hindusthan College Of Engineering And Technology","Karpagam College Of Engineering (Autonomous)","Kumaraguru College Of Technology (Autonomous)","Maharaja Engineering College","Park College Of Engineering And Technology","Sri Krishna College Of Engineering & Technology (Autonomous)","Sri Ramakrishna Engineering College (Autonomous)","Tamil Nadu College Of Engineering","Sri Krishna College Of Technology (Autonomous)","Maharaja Prithvi Engineering College","Sri Ramakrishna Institute Of Technology(Autonomous)","Sns College Of Technology (Autonomous)","Sri Shakthi Institute Of Engineering And Technology","Tamil Nadu School Of Architecture","Nehru Institute Of Engineering And Technology","Maharaja Institute Of Technology","R V S College Of Engineering And Technology","Info Institute Of Engineering","S N S College Of Engineering","Karpagam Institute Of Technology","Dr.N G P Institute Of Technology","Ranganathan Engineering College","Sasurie Academy Of Engineering","Sri Eshwar College Of Engineering","Hindusthan Institute Of Technology","P A College Of Engineering And Technology","Dhanalakshmi Srinivasan College Of Engineering","Adithya Institute Of Technology","Kathir College Of Engineering","Ktvr Knowledge Park For Engineering And Technology","Easa College Of Engineering And Technology","Kalaignar Karunanidhi Institute Of Technology","Kgisl Institute Of Technology","Ppg Institute Of Technology","Nehru Institute Of Technology","Indus College Of Engineering","Tejaa Shakthi Institute Of Technology For Women","United Institute Of Technology","Jansons Institute Of Technology","Akshaya College Of Engineering & Technology","K P R Institute Of Engineering And Technology","Sriguru Institute Of Technology","Park College Of Technology","J C T College Of Engineering And Technology","Kalaivani College Of Technology","C M S College Of Engineering And Technology","Prahar School Of Architecture","Rvs Technical Campus * Coimbatore","R.V.S. School Of Architecture","Ranganathan Architecture College","S V S School Of Architecture","Cuddalore","University College Of Engineering, Panruti","Krishnasamy College Of Engineering And Technology","C.K. College Of Engineering And Technology","Dr.Navalar Nedunchezhiyan College Of Engineering","M R K Institute Of Technology","St.Annes College Of Engineering And Technology","Dharmapuri","Jayam College Of Engineering And Technology","Sapthagiri College Of Engineering","Jayalakshmi Institute Of Technology","Varuvan Vadivelan Institute Of Technology","Shreenivasa Engineering College","Dindigul","University College Of Engineering, Dindigul","Ssm Institute Of Engineering And Technology","Christian College Of Engineering And Technology","Sri Subramanya College Of Engineering And Technology","N P R College Of Engineering And Technology","Veerammal Engineering College","R.V.S. School Of Engineering And Technology","R.V.S. School Of Architecture","Kodaikanal Institute Of Technology","Psna College Of Engineering And Technology","Ratnavel Subramaniam College Of Engineering And Technology","Sbm College Of Engineering And Technology","Erode","Aishwarya College Of Engineering And Technology","Vidhya Mandhir Institute Of Technology","J.K.K Munirajah School Of Architecture","Al-Ameen Engineering College","Bannari Amman Institute Of Technology (Autonomous)","Erode Sengunthar Engineering College","Institute Of Road And Transport Technology","Kongu Engineering College (Autonomous)","M.P. Nachimuthu M. Jaganathan Engineering College","Nandha Engineering College (Autonomous)","Velalar College Of Engineering And Technology","Maharaja Engineering College For Women","Shree Venkateshwara Hi-Tech Engineering College","Surya Engineering College","Nandha College Of Technology","J K K Munirajah College Of Technology","Kanchipuram","University Departments Of Anna University, Chennai * Mit Campus","University College Of Engineering, Kanchipuram","Pallava Raja College Of Engineering","Marg Institute Of Design & Architecture Swarnabhoomi(Midas)","Rajalakshmi School Of Architecture","Annai Veilankannis College Of Engineering","Da Vinci School Of Design And Architecture","Jeppiaar Institute Of Technology","Anand School Of Architecture","Misirimal Navajee Munoth Jain School Of Architecture","St.Josephs Institute Of Technology","Arignar Anna Institute Of Science And Technology","D M I College Of Engineering","Kalsar College Of Engineering","Lord Venkateshwaraa Engineering College","Maamallan Institute Of Technology","Kings Engineering College (KEC)","Kanchi Pallavan Engineering College","Pallavan College Of Engineering","Rajalakshmi Engineering College","Rajiv Gandhi College Of Engineering","Sakthi Mariamman Engineering College","Saveetha Engineering College","Sri Muthukumaran Institute Of Technology","Sri Venkateswara College Of Engineering","P.B. College Of Engineering","Loyola Institute Of Technology","P.T. Lee Chengalvaraya Naicker College Of Engineering And Technology","Apollo Engineering College","Arm College Of Engineering And Technology","Adhi College Of Engineering And Technology","Indira Gandhi College Of Engineering And Technology For Women","J E I Mathaajee College Of Engineering","Madha Institute Of Engineering And Technology","Mohammed Sathak A.J.College Of Engineering","Anand Institute Of Higher Technology","Jeppiaar Engineering College","Jerusalem College Of Engineering","Misrimal Navajee Munoth Jain Engineering College","K.C.G. College Of Technology","Shree Motilal Kanhaiyalal Fomra Institute Of Technology","Sri Sivasubramaniya Nadar College Of Engineering","Agni College Of Technology","St.Josephs College Of Engineering","T.J. Institute Of Technology","Thangavelu Engineering College","S.R.R. Engineering College","Dhanalakshmi Srinivasan College Of Engineering And Technology","A.C.T. College Of Engineering And Technology","Sri Sai Ram Institute Of Technology","St. Joseph College Of Engineering","Aksheyaa College Of Engineering","Vi Institute Of Technology","Balamani Arunachalam Educational & Charitable Trusts Group Of Inst.","Sri Krishna Institute Of Technology","Chennai Institute Of Technology","Mohamed Sathak A.J. Academy Of Architecture","Adhiparasakthi Engineering College","Dhanalakshmi College Of Engineering","G.K.M. College Of Engineering And Technology","Karpaga Vinayaga College Of Engineering And Technology","Madha Engineering College","Sri Venkateswaraa College Of Technology","Prince Shri Venkateshwara Padmavathy Engineering College","Shri Andal Alagar College Of Engineering","Sri Lakshmi Ammal Engineering College","Sri Sairam Engineering College","Tagore Engineering College","Valliammai Engineering College","Asan Memorial College Of Engineering And Technology","Dhaanish Ahmed College Of Engineering","Sri Ramanujar Engineering College","Sri Krishna Engineering College","Gopal Ramalingam Memorial Engineering College","New Prince Shri Bhavani College Of Engineering And Technology","Balaji Institute Of Engineering And Technology","Rrase College Of Engineering","Prince Dr.K.Vasudevan College Of Engineering And Technology","Lord Ayyappa Institute Of Engineering And Technology","Chendu College Of Engineering And Technology","Peri Institute Of Technology","Apollo Priyadarshanam Institute Of Technology","Thirumalai Engineering College","Kanniyakumari","University College Of Engineering, Nagercoil","Arunachala College Of Engineering For Women","Rohini College Of Engineering And Technology","Sigma College Of Architecture","Stella Marys College Of Engineering","Maria College Of Engineering And Technology","Mar Ephraem College Of Engineering And Technology","M.E.T Engineering College","Immanuel Arasar J J College Of Engineering","Sivaji College Of Engineering And Technology","Satyam College Of Engineering And Technology","Vins Christian Womens College Of Engineering","Dmi Engineering College","Rajas International Institute Of Technology For Women","Tamizhan College Of Engineering And Technology","C.S.I. Institute Of Technology","Jayamatha Engineering College","St.Xaviers Catholic College Of Engineering","Sun College Of Engineering And Technology","Narayanaguru College Of Engineering","Udaya School Of Engineering","Ponjesly College Of Engineering","Vins Christian College Of Engineering","Lord Jegannath College Of Engineering And Technology","Marthandam College Of Engineering And Technology","K N S K College Of Engineering","James College Of Engineering And Technology","Bethlahem Institute Of Engineering","Loyola Institute Of Technology And Science","Annai Vailankanni College Of Engineering","Karur","N.S.N. College Of Engineering And Technology","Cheran College Of Engineering","Arulmuruga Technical Campus","Cheran School Of Architecture","M.Kumarasamy College Of Engineering (Autonomous)","V.S.B. Engineering College","Chettinad College Of Engineering And Technology","Karur College Of Engineering","V K S College Of Engineering And Technology","Krishnagiri","Sri Venkateshwara Institute Of Engineering","Hosur Institute Of Technology And Science","Adhiyamaan College Of Engineering (Autonomous)","Government College Of Engineering * Bargur","Er.Perumal Manimekalai College Of Engineering","P.S.V.College Of Engineering And Technology","Archana Institute Of Technology","Madurai","Thiagarajar College Of Engineering (Autonomous)","C.R. Engineering College","Vaigai College Of Engineering","P.T.R.College Of Engineering And Technology","Raja College Of Engineering And Technology","Sacs M.A.V.M.M Engineering College","Vickram College Of Engineering","Fatima Michael College Of Engineering And Technology","Ultra College Of Engineering And Technology For Women","Velammal College Of Engineering And Technology","Latha Mathavan Engineering College","Nagapattinam","University College Of Engineering, Thirukkuvalai","Prime College Of Architecture And Planning","Sir Issac Newton College Of Engineering And Technology","A.V.C College Of Engineering","E.G.S.Pillay Engineering College","Sembodai Rukmani Varatharajan Engineering College","Namakkal","Muthayammal Technical Campus","K S R Institute For Engineering And Technology","Skandha School Of Architecture","Annai Mathammal Sheela Engineering College","K.S.Rangasamy College Of Technology (Autonomous)","Mahendra Engineering College","Muthayammal Engineering College","Paavai Engineering College","P G P College Of Engineering And Technology","K.S.R. College Of Engineering","S.S.M. College Of Engineering","Sengunthar Engineering College","Paavaai Group Of Institutions","Vivekanandha College Of Engineering For Women","Gnanamani College Of Technology","Vivekanandha Institute Of Engineering & Technology For Women","Selvam College Of Technology","Paavai College Of Engineering","Sengunthar College Of Engineering","King College Of Technology","Mahendra Institute Of Technology","Vidyaa Vikas College Of Engineering And Technology","Excel Engineering College","Cms College Of Engineering","Excel College Of Technology","Mahendra Engineering College For Women","J.K.K. Nattraja College Of Engineering And Technology","Pavai College Of Technology","Gnanamani College Of Engineering","Vivekanandha College Of Technology For Women","Dr.Nagarathinams College Of Engineering","Excel College Of Engineering And Technology","Mahendra Institute Of Engineering And Technology","Excel College Of Architecture And Planning","Srg Engineering College","Perambalur","Sri Ramakrishna College Of Engineering","Dhanalakshmi Srinivasan College Of Engineering","Dhanalakshmi Srinivasan Institute Of Research And Technology","Dhanalakshmi Srinivasan Engineering College","Roever Engineering College","Srinivasan Engineering College","Roever College Of Engineering And Technology","Pudukkottai","Mookambigai College Of Engineering","Mother Terasa College Of Engineering And Technology","Sri Bharathi Engineering College For Women","Mahath Amma Institute Of Engineering And Technology","Kings College Of Engineering","Mount Zion College Of Engineering And Technology","Shanmuganathan Engineering College","Sudharsan Engineering College","Mnsk College Of Engineering","M.A.R. College Of Engineering And Technology","Chendhuran College Of Engineering And Technology","Ramanathapuram","University College Of Engineering, Ramanathapuram","Mohamed Sathak Engineering College","Syed Ammal Engineering College","Ganapathy Chettiar College Of Engineering And Technology","Salem","Sri Shanmugha College Of Engg. & Tech.","Ganesh College Of Engineering","Dhirajlal Gandhi College Of Technology","Shree Sathyam College Of Engineering And Technology","Government College Of Engineering * Salem (Autonomous)","Sona College of Technology (Autonomous)","Mahendra College Of Engineering","The Kavery Engineering College","A V S Engineering College","Narasus Sarathy Institute Of Technology","Bharathiyar Institute Of Engineering For Women","Greentech College Of Engineering For Women","Vivekanandha Engineering College For Women","Tagore Institute Of Engineering And Technology","Annapoorana Engineering College","Knowledge Institute Of Technology","V S A Educational And Charitable Trusts Group Of Institutions","Salem College Of Engineering And Technology","S R S College Of Engineering And Technology","The Kavery College Of Engineering","Sivagangai","Central Electrochemical Research Institute (Csir) Karaikudi","Sri Raaja Raajan College Of Engineering And Technology","Kit & Kim Technical Campus","Madurai Institute Of Engineering And Technology","A.C.College Of Engineering And Technology (Autonomous)","K.L.N.College Of Information Technology","K.L.N.College Of Engineering","Pandian Saraswathi Yadav Engineering College","Pannai College Of Engineering And Technology","St.Michael College Of Engineering & Technology","Thanjavur","University College Of Engineering, Pattukkottai","Smr East Coast College Of Engineering And Technology","K.S.K College Of Engineering And Technology","Star Lion College Of Engineering And Technology","Arasu Engineering College","P.R.Engineering College","Ponnaiyah Ramajayam College Of Engineering And Technology","St.Josephs College Of Engineering And Technology","Parisutham Institute Of Technology And Science","Vandayar Engineering College","Annai College Of Engineering And Technology","As-Salam College Of Engineering And Technology","The Nilgris","Csi College Of Engineering","Mcgans Ooty School Of Architecture","Theni","Government College Of Engineering, Bodiyanayakkanur","Vpv College Of Engineering","Nadar Saraswathi College Of Engineering & Technology","Bharath Niketan Engineering College","Theni Kammavar Sangam College Of Technology","Thirunelveli","Thamirabharani Engineering College","Universal College Of Engineering & Technology","Scad Engineering College","A.R. College Of Engineering And Technology","Arul College Of Technology","Psn Institute Of Technology And Science","Cape Institute Of Technology","Francis Xavier Engineering College","Joe Suresh Engineering College","National College Of Engineering","Psn College Of Engineering And Technology (Autonomous)","Pet Engineering College","S.Veerasamy Chettiar College Of Engineering And Technology","Sardar Raja College Of Engineering","Scad College Of Engineering And Technology","The Rajaas Engineering College","Government College Of Engineering * Tirunelveli","Einstein College Of Engineering","Psn Engineering College","J P College Of Engineering","Mahakavi Bharathiyar College Of Engineering And Technology","Thiruvallur","Aalim Muhammed Salegh College Of Engineering","Bhajarang Engineering College","Jaya Engineering College","Jaya Institute Of Technology","Magna College Of Engineering","Prathyusha Institute Of Technology And Management","R.M.D. Engineering College","R.M.K. Engineering College","S.A. Engineering College","Sriram Engineering College","Sri Venkateswara College Of Engineering And Technology","Vel Tech Multi Tech Dr.Rangarajan Dr.Sakunthala Engineering College","Velammal Engineering College","Sri Venkateswara Institute Of Science And Technology","Vel Tech High Tech Dr.Rangarajan Dr.Sakunthala Engineering College","Gojan School Of Business And Technology","Sams College Of Engineering And Technology","Pmr Engineering College","Jnn Institute Of Engineering","St.Peters College Of Engineering And Technology","R.M.K. College Of Engineering And Technology","Vel Tech","Aalim Muhammed Salegh Academy Of Architecture","Siva Institute Of Frontier Technology * Technical Campus","R.V.S. Padhmavathy College Of Engineering & Technology","Kumaran Institute Of Technology","Rvs Padmavathy School Of Architecture","Panimalar Engineering College","S.K.R. Engineering College","Sree Sastha Institute Of Engineering And Technology","Srinivasa Institute Of Engineering And Technology","Alpha College Of Engineering","Indira Institute Of Engineering And Technology","Panimalar Institute Of Technology","Velammal Institute Of Technology","Grt Institute Of Engineering And Technology","T.J.S. Engineering College","Sree Sastha College Of Engineering","John Bosco Engineering College","Easwari Engineering College","Sakthi Engineering College","Rajalakshmi Institute Of Technology","Jaya Suriya Engineering College","Thiruvannamalai","University College Of Engineering, Arni","Sri Renugambal College Of Architecture","S.R.I College Of Engineering And Technology","Sri Ramana Maharishi College Of Engineering","Arulmigu Meenakshi Amman College Of Engineering","Arunai Engineering College","Arunai College Of Engineering","S.K.P. Engineering College","Sri Balaji Chockalingam Engineering College","Thiruvalluvar College Of Engineering And Technology","S.K.P. Institute Of Technology","Annamalaiar College Of Engineering","Krs College Of Engineering","Oxford College Of Engineering","Thiruvarur","Anjalai Ammal Mahalingam Engineering College","A.R.J College Of Engineering And Technology","Tiruppur","Jairupaa College Of Engineering","Scad Institute Of Technology","Jay Shriram Group Of Institutions","Erode Builder Educational Trusts Group Of Institutions","Professional Educational Trusts Group Of Institutions","Sasurie College Of Engineering","Angel College Of Engineering And Technology","Sri Ramanathan Engineering College","Dr.Nallini Institute Of Engineering And Technology","Trichirappalli","University College Of Engineering, Tiruchirappalli","Mahalakshmi Engineering College","Rvs Kvk School Of Architecture","Dhanalakshmi Srinivasan Institute Of Technology","Sureya College Of Engineering","K.Ramakrishnan College Of Technology","Oas Institute Of Technology And Management, Group Of Institutions","M A M School Of Architecture","C.A.R.E School Of Architecture","M.A.M. School Of Engineering","Trp Engineering College","Shri Angalamman College Of Engineering And Technology","J.J.College Of Engineering And Technology","Jayaram College Of Engineering And Technology","Kurinji College Of Engineering And Technology","M.A.M College Of Engineering","M.I.E.T Engineering College","Oxford Engineering College","Pavendar Bharathidasan College Of Engineering And Technology","Saranathan College Of Engineering","Trichy Engineering College","Kongunadu College Of Engineering And Technology","Cauvery College Of Engineering And Technology","M.A.M College Of Engineering And Technology","K. Ramakrishnan College Of Engineering","Indra Ganesan College Of Engineering","C.A.R.E. Group Of Institutions","Shivani Engineering College","Imayam College Of Engineering","Vetri Vinayaha College of Engineering and Technology","Shivani Institute Of Technology","Pavendar Bharathidasan Institute Of Information Technology","The Selvam Women Excellence Engineering Technology","Designed Environment Academy And Research Institute","Tuticorin","University Voc College Of Engineering, Thoothukudi","V V College Of Engineering","Chandy College Of Engineering","St.Mother Theresa Engineering College","Holy Cross Engineering College","Unnamalai Institute Of Technology","Dr.Sivanthi Aditanar College Of Engineering","Jayaraj Annapackiam Csi College Of Engineering","National Engineering College (Autonomous)","Dr.G.U.Pope College Of Engineering","Infant Jesus College Of Engineering","Infant Jesus College Of Engineering And Technology","Vellore","Annai Mira College Of Engineering And Technology","Sree Krishna College Of Engineering","Adhiparasakthi College Of Engineering","C.Abdul Hakeem College Of Engineering And Technology","G.G.R. College Of Engineering","Ganadipathy Tulsis Jain Engineering College","Priyadarshini Engineering College","Ranippettai Engineering College","Sri Nandhanam College Of Engineering And Technology","Saraswathi Velu College Of Engineering","Thanthai Periyar Govt Institute Of Technology","Bharathidasan Engineering College","Kingston Engineering College","Shri Sapthagiri Institute Of Technology","Global Institute Of Engineering And Technology","Podhigai College Of Engineering And Technology","Sri Krishna College Of Engineering","Villupuram","University College Of Engineering, Villupuram","University College Of Engineering, Tindivanam","Surya School Of Architecture","Vedhantha Institute Of Technology","Annai Teresa College Of Engineering","Dr. Pauls Engineering College","Ifet College Of Engineering","Mailam Engineering College","T.S.M. Jain College Of Technology","V.R.S. College Of Engineering And Technology","E.S Engineering College","Maha Barathi Engineering College","Sri Aravindar Engineering College","Surya Group Of Institutions","A.R. Engineering College","A.K.T. Memorial College Of Engineering And Technology","Sri Rangapoopathi College Of Engineering","Saraswathy College Of Engineering & Technology","Idhaya Engineering College For Women","Virudhunagar","Renganayagi Varatharaj College Of Engineering","Sethu Institute Of Technology (Autonomous)","Kamaraj College Of Engineering And Technology","Mepco Schlenk Engineering College (Autonomous)","P.S.R Engineering College (Autonomous)","Sree Sowdambika College Of Engineering","V.P.Muthaiah Pillai Meenakshi Ammal Engineering College For Women","Kalasalingam Institute Of Technology","P.S.R.Rengasamy College Of Engineering For Women","Sri Vidya College Of Engineering & Technology","List of Autonomous Engineering Colleges[edit]","Government College of Technology, Coimbatore","Government College of Engineering, Salem - 636 011","Sona College of Technology","Coimbatore Institute of Technology","P.S.G. College of Technology","Karpagam College of Engineering","Kumaraguru College of Technology","Sri Krishna College of Engineering & Technology","Sri Ramakrishna Engineering College","Sri Krishna College of Technology","SNS College of Technology","Bannari Amman Institute of Technology","Kongu Engineering College","Nandha Engineering College,Erode","M.Kumarasamy College of Engineering","Adhiyamaan College of Engineering","Thiagarajar College of Engineering","K. S. Rangasamy College of Technology","Mahendra Engineering College","K.S.R. College of Engineering","Vivekanandha College of Engineering for Women","Government College of Engineering - Salem","Dr. Mahalingam College of Engineering & Technology","A.C.College of Engineering of Technology","National Engineering College","Sethu Institute of Technology","Mepco Schlenk Engineering College","P.S.R Engineering College"],Telengana:["Other","Indian Institute of Technology, Hyderabad","International Institute of Information Technology, Hyderabad","National Institute of Technology, Warangal","BITS Pilani- Hyderabad Campus, Hyderabad","Maturi Venkata Subba Rao Engineering College, Hyderabad","CVR College of Engineering, Hyderabad","Gokaraju Rangaraju Institute of Engineering and Technology, Hyderabad","Chaitanya Bharathi Institute of Technology, Hyderabad","VNR Vignana Jyothi Institute of Engineering and Technology, Hyderabad","JNTUH College of Engineering, Karimnagar","Kakatiya Institute of Technology and Science, Warangal","G Narayanamma Institute of Technology and Science (For Women), Hyderabad","JNTU College of Engineering, Hyderabad","University College of Engineering, Osmania University, Hyderabad","ICFAI Foundation for Higher Education, Hyderabad","Guru Nanak Institutions Technical Campus, Secunderabad","Sreenidhi Institute of Science and Technology, Ghatkesar","BVRIT Padmasri Dr BV Raju Institute of Technology, Hyderabad","CMR Institute of Technology, Hyderabad","Malla Reddy Engineering College, Hyderabad","Swami Vivekananda Institute of Technology, Secunderabad","Vidya Jyothi Institute of Technology, Hyderabad","Mahatma Gandhi Institute of Technology, Hyderabad","Auroras Technological and Research Institute, Hyderabad","Vasavi College of Engineering, Hyderabad","Vardhaman College of Engineering, Hyderabad","Nizam Institute of Engineering and Technology, Hyderabad","Joginpally B R Engineering College, Moinabad","Auroras Research and Technological Institute, Warangal","Auroras Engineering College, Nalgonda","Vaagdevi College of Engineering, Warangal","Auroras Scientific, Technological and Research Academy, Hyderabad","TKR College of Engineering and Technology, Hyderabad","Keshav Memorial Institute of Technology, Hyderabad","JB Institute of Engineering and Technology, Hyderabad","Mahaveer Institute of Science and Technology, Hyderabad","Bhoj Reddy Engineering College for Women, Hyderabad"],Tripura:["Other","National Institute of Technology, Agartala","Tripura Institute of Technology, Agartala","ICFAI University, Tripura","Tripura University, Suryamaninagar","Techno India, Agartala","Dhalai District Polytechnic, Tripura","Women's Polytechnic, Agartala","Gomati District Polytechnic, Gomati","TTAADC Polytechnic Institute, Tripura"],"Uttar Pradesh":["Other","TTAADC Polytechnic Institute, Tripura","ABSS Institute of Technology","ACN College of Engineering and Management Studies","Aligarh College of Engineering and Technology","Anand Engineering College, Agra","B.S.A. College of Engineering & Technology","Babu Banarsi Das Institute of Engineering Technology & Research Centre","Bharat Institute of Technology","Bundelkhand Institute of Engineering & Technology","College of Science & Engineering, Jhansi","Dayalbagh Educational Institute","Devprayag Institute of Technical Studies","DJ College of Engineering And Technology","Dr. K.N.Modi institute of Engineering & Technology","Dronacharya Group of Institution","Feroze Gandhi Institute of Engineering and Technology","Rajkiya Engineering College, Azamgarh","Rajkiya Engineering College, Banda","Rajkiya Engineering College, Bijnaur","Rajkiya Engineering College, Kannauj","Rajkiya Engineering College, Mainpuri","Rajkiya Engineering College, Ambedkar Nagar","Harcourt Butler Technical University","Hindustan College of Science and Technology","Hindustan Institute of Technology and Management","Indian Institute of Information Technology, Allahabad","Indian Institute of Technology (BHU) Varanasi","Indian Institute of Technology Kanpur","Institute of Engineering and Rural Technology","Institute of Engineering & Technology, Bareilly","Kali Charan Nigam Institute of Technology","Kanpur Institute of Technology","Kiet group of institutions,Ghaziabad","Abes engineering college ghaziabad","Ajay kumar Garg engineering college,ghaziabad","Kishori Lal Sharma Institute of Engineering and Technology","Madan Mohan Malaviya University of Technology","Maharaja Agrasen College of Engineering and Technology","Meerut Institute of Engineering and Technology","Modinagar Institute of Technology","Moradabad Institute of Technology","Motilal Nehru National Institute of Technology Allahabad","Pranveer Singh Institute of Technology","Prasad Institute of Technology","Raj Kumar Goel Engineering College","Raja Balwant Singh College","Rajiv Gandhi Institute of Petroleum Technology","Rajkiya engineering college ambedkar nagar","Rakshpal Bahadur College of Engineering and Technology","Sagar Institute of Technology and Management","Shambhunath Institute of Engineering and Technology","Sharda Group of Institutions","Shepherd School of Engineering and Technology","Shri Ram Murti Smarak College of Engineering, Technology & Research","SP Memorial Institute of Technology","Translam Institute of Technology and Management","HMFA Memorial Institute of Engineering and Technology","United College of Engineering & Research","University Institute of Engineering and Technology, Kanpur","Venkateshwara Institute of Technology","Vivekananda College of Technology and Management"],"West Bengal":["Other","ARYABHATTA INSTITUTE OF ENGINEERING AND MANAGEMENT","Abacus Institute of Engineering And Management. (AIEM)","Academy Of Technology. (AOT)","Adamas Institute Of Technology. (AIT)","Asansol Engineering College","B.P. Poddar Institute of Management And Technology. (BPPIMT)","Bankura Unnayani Institute of Engineering Bankura","Batanagar Institute of Engineering, Management And Science. (BIEMS)","Bengal College Of Engineering College And Technology For Women. (BCECTW)","Bengal College of Engineering and Technology","Bengal Institute of Technology and Management (BITM)","Birbhum Institute of Engineering & Technology","Budge Budge Institute Of Technology. (BBIT)","Calcutta Institute Of Technology. (CIT)","Camellia Institute of Technology. (CIT)","Camellia School Of Engineering And Technology. (CSET)","Dr. B.C. Roy Engineering College","Dr. Sudhir Chandra Sur Degree Engineering College. (DR.SCSDEC)","Dream Institute Of Technology. (DIT)","Dumkal Institute of Engineering And Technology. (DIEAT)","Durgapur Institute of Advanced Technology & Management","Faculty of Technology (Uttar Banga Krishi Vishwavidyala)","Future Institute of engineering And Management. (FIEM)","Gargi Memorial Institute of Technology. (GMIT)","Global Institute Of Management And Technology. (GIMT)","Government College of Engineering And Ceramic Technology. (GCECT)","Govt. College of Engineering And Textile Technology Berhampore. (GCETTB)","Govt. College of Engineering And Textile Technology, Serampore. (GCETTS)","Greater Kolkata College of Engineering And Management. (GKCEM)","Guru Nanak Institute Of Technology. (GNIT)","Haldia Institute Of Technology","Heritage Institute of Technology. (HIT)","Hooghly Engineering And Technology College. (HEATC)","IMPS College of Engineering And Technology. (IMPSCEAT)","Ideal Institute of Engineering. (IIE)","Iercem Institute of Information Technology. (IIIT)","Institute Of Science And Technology. (ISAT)","Institute of Engineering And Management. (IEM)","JIS College of Engineering. (JISCE)","Jalpaiguri Government Engineering College. (JGEC)","Kanad Institute Of Engineering And Management Mankar, Durgapur. (KIEAMMD)","Kanksa Academy Of Technology And Management. ( KATAM)","MCKV Institute Of Engineering. (MCKVIE)","Malabhum Institute of Technology","Meghnad Saha Institute of Technology. (MSIT)","Modern Institute Of Engineering And Technology. (MIET)","Murshidbad College of Engineering And Technology. (MCET)","Narula Institute of Technology. (NIT)","National Institute of Technology","National Power Training Institute (ER)","Neotia Institute of Technology Management And Science. (NITMS)","Netaji Subhash Engineering College (NSEC)","OmDayal Group Of Institution. (ODGI)","Rcc Institute of Information Technology. (RCCIIT)","SILIGURI INSTITUTE OF TECHNOLOGY","Saroj Mohan Institute Of Technology. ( SMIT)","Seacom Engineering College. (SEC)","St. Thomas' College of Engineering And Technology. (STTCET)","Surendra Institute of Engineering And Management. (SIEM)","Swami Vivekananda Institute of Science And Technology. (SVISAT)","Techno Global - Balurghat. (TGB)","Techno India College of Technology. (TICT)","UNIVERSITY INSTITUTE OF TECHNOLOGY","IIT KGP"],Uttarakhand:["Other","College of Engineering Roorkee","Graphic Era University","Govind Ballabh Pant Engineering College","Roorkee Institute of Technology","Bipin Chandra Tripathi Kumaon Engineering College","Indian Institute of Technology Roorkee","Seemant Institute of Technology","Roorkee College of Engineering","Uttaranchal Institute of Technology","University of Petroleum and Energy Studies","Dehradun Institute of Technology"]},pz=()=>{const e=zl(),[t,i]=z.useState("International"),[r,n]=z.useState(""),[a,c]=z.useState(""),[l,o]=z.useState(""),[s,u]=z.useState("B.Tech"),[d,h]=z.useState(""),[p,m]=z.useState(""),[f,g]=z.useState(""),[v,S]=z.useState("Website"),x=async b=>{b.preventDefault();const _={city:r,state:t,pincode:a,college:l,degree:s,year:d,branch:p,isCompleted:!0,firstImpress:v};try{fetch(`${Le}api/users`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${tt()}`},body:JSON.stringify(_)}),fetch(`${Le}api/users/registrationReferalCode`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${tt()}`},body:JSON.stringify({referalCode:f})}),e(O4(_)),setTimeout(()=>window.location.href=`${_r}ca/dashboard`,1e3)}catch(w){console.log(w)}};return y.jsx("div",{className:"secondary-form-container-spp",children:y.jsxs("div",{className:"secondary-form-registeration-container-spp",children:[y.jsxs("form",{className:"secondary-form-registeration-spp",id:"secondary-form-registeration-id-spp",onSubmit:x,children:[y.jsx("h1",{className:"secondary-form-registeration-title-spp",children:"CA REGISTRATION"}),y.jsxs("label",{htmlFor:"secondary-form-state-spp",children:["College State",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsx("select",{type:"text",id:"secondary-form-state-spp",value:t,onChange:b=>i(b.target.value),required:!0,children:Object.keys(R4).map(b=>y.jsx("option",{value:b,children:b}))}),y.jsxs("label",{htmlFor:"secondary-form-city-spp",children:["College City",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsx("input",{type:"text",id:"secondary-form-city-spp",className:"spp-registration-form-input",value:r,onChange:b=>n(b.target.value),required:!0}),y.jsxs("label",{htmlFor:"secondary-form-pincode-spp",children:["Pincode",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsx("input",{type:"text",id:"secondary-form-pincode-spp",className:"spp-registration-form-input",value:a,onChange:b=>c(b.target.value),required:!0}),y.jsxs("label",{htmlFor:"secondary-form-collage-spp",children:["College",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsx("input",{type:"text",id:"secondary-form-collage-spp",className:"spp-registration-form-input",value:l,onChange:b=>o(b.target.value),required:!0}),y.jsxs("div",{className:"secondary-form-grad-detail-spp",children:[y.jsxs("div",{className:"secondary-form-grad-detail-degree-spp",children:[y.jsxs("label",{htmlFor:"secondary-form-degree-spp",children:["Degree",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsxs("select",{value:s,onChange:b=>u(b.target.value),id:"secondary-form-degree-spp",required:!0,children:[y.jsx("option",{value:"B.Tech",children:"B.Tech"}),y.jsx("option",{value:"M.Tech",children:"M.Tech"}),y.jsx("option",{value:"B.sc",children:"B.sc"}),y.jsx("option",{value:"M.sc",children:"M.sc"}),y.jsx("option",{value:"BBA",children:"BBA"}),y.jsx("option",{value:"MBA",children:"MBA"}),y.jsx("option",{value:"LLB",children:"LLB"}),y.jsx("option",{value:"Other",children:"Other"})]})]}),y.jsxs("div",{className:"secondary-form-grad-detail-yog-spp",children:[y.jsxs("label",{htmlFor:"secondary-form-yog-spp",children:["Year of Graduation",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsxs("select",{value:d,onChange:b=>h(b.target.value),id:"secondary-form-degree-spp",required:!0,children:[y.jsx("option",{value:"2021",children:"2021"}),y.jsx("option",{value:"2022",children:"2022"}),y.jsx("option",{value:"2023",children:"2023"}),y.jsx("option",{value:"2024",children:"2024"}),y.jsx("option",{value:"2025",children:"2025"}),y.jsx("option",{value:"2026",children:"2026"}),y.jsx("option",{value:"2027",children:"2027"}),y.jsx("option",{value:"2028",children:"2028"}),y.jsx("option",{value:"2029",children:"2029"})]})]})]}),y.jsxs("div",{className:"secondary-form-branch-detail-spp",children:[y.jsxs("label",{htmlFor:"secondary-form-branch-spp",children:["Branch",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsx("input",{type:"text",id:"secondary-form-branch-spp",className:"spp-registration-form-input",value:p,onChange:b=>m(b.target.value),required:!0})]}),y.jsx("label",{htmlFor:"secondary-form-referal-spp",children:"Referral Code"}),y.jsx("input",{type:"text",id:"secondary-form-referal-spp",className:"spp-registration-form-input",value:f,onChange:b=>g(b.target.value)}),y.jsxs("label",{htmlFor:"secondary-form-question-spp",children:["How did you get to know about Cognizance",y.jsx("span",{className:"label-star-spp",children:"*"})]}),y.jsxs("select",{value:v,onChange:b=>S(b.target.value),id:"secondary-form-questionnaire-spp",required:!0,children:[y.jsx("option",{value:"Website",children:"Website"}),y.jsx("option",{value:"Social Media",children:"Social Media"}),y.jsx("option",{value:"Student Partners",children:"Student Partners"}),y.jsx("option",{value:"Friends/Relatives",children:"Friends/Relatives"}),y.jsx("option",{value:"Other",children:"Other"})]}),y.jsx("button",{className:"spp-register-btn-spp",children:"Register for CA"})]}),y.jsx("img",{src:"/Images/Client/spp/form/secondaryform/CA_LABEL.png",alt:"",id:"secondary-form-image-spp"})]})})},FQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOISURBVHgB7VjNUhNBEO6eDQhaFLFEkVs8WIbw40KVVd4IN27iExieAHgCyNGT4QkSbxzJExBuXIQV/6IeXG4pxap4gUDYaXtmNyZAyGY3kVLLrypJJ5me/Xa655vuBfgXcT9hmvFxMwldAEIHiI+Zz4TADAFG3V/IlpLWPr6zMhASBoREPGGm0BA5vqe++q8YRcS5W7eHf3z/VtqGEAi8QvG4GYMIZvnCyVbjCCAHVZkuFi0bfheh8yFChLIkzAOR7X5HE5AeMptYzUdKuRwkhG0TGh0zl0CIF56X7RAuf3rzaqPZ2PjEdIrJrtSIEcnV4lsrDW2gLUIqTNgjvrgeaB0JZ9a2rHIrH9M0o8eOyLI575GaZVIF6Aah0YkpJoMxtTJHQk75kWlEYnJql4hDyTvwyCBfX+E3odpNmgyDhJwNQkZBCnrqWhi7VhUpv/G+hNDAedeifNEKtmMUXB/K67kEPfEb708IcEbTAdyA0KCcN5fpN7IlIZWYrCeuCpOwISwdAyzPjGodC0uoUiOjcHpqwxXAN2RXjf+E/PB3EXJO6kld6YNAgtgIrk/qvpH6wRuYUARFUht8ZARV6EZY7ItE3tb35gxKSOuFoEXNh6AAHQNdtUZYjLG+QVBC2AOL6vzRNY8h2yodWqE3IjPohi7a74iVy8Y1LWF1uWGIdWUTwvPi690Ojg0XpVKpMnR35JjNOX49HrozvHXwtWSfH9d0hZBLVNcAu7i3swpdwoe9Ha4cqeDOjU1X6QIhdX6BVy8TQcehOg8i0nPyQZtslksXCJ05v6qyAF2GI+sS0FcBf0KqfvGSjxNbLMZil++IoFBz9Rigd65OhyYdSaSZIydymgsgVdAvXR/A1IPx6QJKmXdYUj6/tywIAC0fPZDk0nFGCJqvdSxc1rxsNv7SmjoxOb3KObRy0YG49QGLJ1aruI9wVsFV/cS6NYhIJktGrN7Vev4sIzwm7SZ4AEL67ky+O0ckOQHn+QIzTDBU+DQJwi1W2AI3CblWqh+oUUwkHpkUcZJeOHUesL1/9uI4yDvJ9P5fo5PeTLG4bUObCPWwgduiTXZNslkmRy5XDkELZ/8NSKHAFR0mJsthuQcBEYEQIIMWUOKm6kxZ0bP9A5D99Z96YzKqZYIQCPX046BUKg+NDOc5eW9CQyehcoWXfJ0MuRCmZdJzQBegckt9HvZWOypT/kj8BFLUUfami1byAAAAAElFTkSuQmCC",q5="/assets/avatarPfp-l48s465P.svg";function UQ(e){return z.useEffect(()=>{e.referalCode&&alert(`Your Referral Code is: ${e.referalCode}`)},[e.referalCode]),y.jsxs("div",{className:"container-with-sidebar",children:[y.jsxs("div",{className:"mainhead",children:[y.jsx("div",{className:"header",children:"PROFILE"}),y.jsxs("div",{className:"right-side",children:[y.jsx("div",{children:y.jsx("img",{src:FQ,className:"notification"})}),y.jsx("div",{children:y.jsx("img",{src:q5,className:"dp"})})]})]}),y.jsx("hr",{className:"hline"}),y.jsxs("div",{className:"profile-head",children:[y.jsxs("div",{className:"name",children:[" ",e.name," "]}),y.jsxs("div",{className:"profile-img-container",children:[" ",y.jsx("img",{src:q5,className:"mainimg"})," "]}),y.jsxs("div",{className:"college",children:[" ",e.college," "]}),y.jsxs("div",{className:"location",children:[" ",e.state]})]}),y.jsxs("div",{className:"profile-middle",children:[y.jsxs("div",{className:"firsthalf",children:[y.jsxs("div",{className:"profile-middle-box",children:[y.jsx("div",{className:"dynamic",children:e.score||"NA"}),y.jsx("div",{className:"static",children:"Points"})]}),y.jsxs("div",{className:"profile-middle-box",children:[y.jsx("div",{className:"dynamic",children:e.rank||"NA"}),y.jsx("div",{className:"static",children:"Rank"})]})]}),y.jsx("div",{class:"vl"}),y.jsxs("div",{className:"secondhalf",children:[y.jsxs("div",{className:"profile-middle-box",children:[y.jsx("div",{className:"dynamic",children:e.tasksCompleted||"NA"}),y.jsx("div",{className:"static",children:"Tasks Completed"})]}),y.jsxs("div",{className:"profile-middle-box",children:[y.jsx("div",{className:"dynamic",children:e.totalTasks||"NA"}),y.jsx("div",{className:"static",children:"Total Tasks"})]})]})]}),y.jsxs("div",{className:"profile-bottom",children:[y.jsxs("div",{className:"bottom-firsthalf",children:[y.jsxs("div",{className:"profile-bottom-box",children:[y.jsx("div",{style:{fontWeight:"800",color:"black"},className:"bottom-static",children:"Referal Code :"}),y.jsx("div",{style:{fontWeight:"800",color:"black"},className:"bottom-dynamic",children:e.referalCode})]}),y.jsxs("div",{className:"profile-bottom-box",children:[y.jsx("div",{className:"bottom-static",children:"Students Referred:"}),y.jsx("div",{className:"bottom-dynamic",children:e.usersReferred})]}),y.jsxs("div",{className:"profile-bottom-box",children:[y.jsx("div",{className:"bottom-static",children:"Course:"}),y.jsx("div",{className:"bottom-dynamic",children:e.degree||"NA"})]}),y.jsxs("div",{className:"profile-bottom-box",children:[y.jsx("div",{className:"bottom-static",children:"Email:"}),y.jsx("div",{className:"bottom-dynamic",children:e.email})]})]}),y.jsxs("div",{className:"bottom-secondhalf",children:[y.jsxs("div",{className:"profile-bottom-box",children:[y.jsx("div",{className:"bottom-static",children:"CA ID:"}),y.jsx("div",{className:"bottom-dynamic",children:e.CogniId})]}),y.jsxs("div",{className:"profile-bottom-box",children:[y.jsx("div",{className:"bottom-static",children:"Contact No.:"}),y.jsx("div",{className:"bottom-dynamic",children:e.mobile})]}),y.jsxs("div",{className:"profile-bottom-box",children:[y.jsx("div",{className:"bottom-static",children:"Branch:"}),y.jsx("div",{className:"bottom-dynamic",children:e.branch})]}),y.jsx("div",{className:"profile-bottom-box",children:y.jsx("div",{className:"editbtn"})})]})]})]})}function VQ(){return y.jsxs(Mi.Fragment,{children:[y.jsxs("nav",{className:"user-nav",children:[y.jsxs("span",{className:"logo-container",children:[y.jsx("img",{src:"/Images/CogniLogo.svg",alt:""}),y.jsx("p",{children:"| Campus Ambassador Program"})]}),y.jsx("p",{children:"Dashboard"})]}),y.jsxs("nav",{className:"user-nav-mobile",children:[y.jsxs("span",{className:"logo-container-mobile",children:[y.jsx("img",{src:"/Images/CogniLogo.svg",alt:""}),y.jsx("p",{children:"|CA"})]}),y.jsx("p",{children:"Dashboard"})]})]})}const HQ={option:"Profile"},fz=pf({name:"SPPUserDashSidebarSlice",initialState:HQ,reducers:{SPPUserDashSidebarReducer:(e,t)=>{e.option=t.payload}}}),{SPPUserDashSidebarReducer:M0}=fz.actions,GQ=fz.reducer;function WQ(e){const t=Io(r=>r.SPPUserDashSidebar.option),i=zl();return z.useEffect(()=>{const r=document.getElementsByClassName("spp-user-dash-sidebar-buttons");if(Object.values(r).forEach(n=>n.style.backgroundColor="#fff"),t==="Profile"||t==="Tasks"||t==="Leaderboard"||t==="Awards"){const n=document.getElementById(`${t}`);n.style.backgroundColor="#EBE9FE"}}),y.jsx(y.Fragment,{children:y.jsxs("section",{className:"spp-user-dash-sidebar-container",children:[y.jsxs("div",{className:"spp-user-dash-sidebar-upper",children:[y.jsxs("button",{className:"spp-user-dash-sidebar-buttons",id:"Tasks",onClick:()=>i(M0("Tasks")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/tasks.svg"})," ",y.jsx("p",{className:"spp-user-dash-sidebar-buttons-description",children:"Tasks"})]}),y.jsxs("button",{className:"spp-user-dash-sidebar-buttons",id:"Leaderboard",onClick:()=>i(M0("Leaderboard")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/leaderboard.svg"})," ",y.jsx("p",{className:"spp-user-dash-sidebar-buttons-description",children:"Leaderboard"})]}),y.jsxs("button",{className:"spp-user-dash-sidebar-buttons",id:"Awards",onClick:()=>i(M0("Awards")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/award.svg"})," ",y.jsx("p",{className:"spp-user-dash-sidebar-buttons-description",children:"Awards"})]}),y.jsxs("button",{className:"spp-user-dash-sidebar-buttons",id:"Profile",onClick:()=>i(M0("Profile")),children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/profile.svg"})," ",y.jsx("p",{className:"spp-user-dash-sidebar-buttons-description",children:"Profile"})]})]}),y.jsxs("button",{onClick:()=>Zc(),className:"spp-user-dash-sidebar-buttons",children:[y.jsx("img",{src:"/Images/members/SPPAdmin/Sidebar/logout.svg",alt:""}),y.jsx("p",{className:"spp-user-dash-sidebar-buttons-description",children:"Logout"})]})]})})}function qQ(e){function t(i){navigator.clipboard.writeText(i),alert("Caption has been copied")}return y.jsxs("div",{className:"user-task-card",children:[y.jsxs("p",{children:["Points: ",e.points]}),y.jsx("hr",{}),y.jsxs("div",{className:"user-task-card-content",children:[y.jsx("img",{src:e.imageURL!==""?e.imageURL:"/Images/Client/spp/form/LogIn/image 29.svg",alt:""}),y.jsxs("div",{children:[y.jsx("h1",{children:e.title}),y.jsx("p",{children:e.description}),y.jsxs("p",{className:"task-deadline",children:["Deadline: ",e.endDate.slice(0,10)]})]})]}),y.jsxs("div",{className:"user-task-card-bottom",children:[y.jsxs("div",{children:[y.jsx("span",{children:e.fb!==""?y.jsx("a",{href:e.fb,children:y.jsx("img",{src:"/Images/fb.svg",alt:""})}):y.jsx("img",{src:"/Images/fb.svg",alt:"",className:"greyscale"})}),y.jsx("span",{children:e.insta!==""?y.jsx("a",{href:e.insta,children:y.jsx("img",{src:"/Images/insta.svg",alt:""})}):y.jsx("img",{src:"/Images/insta.svg",alt:"",className:"greyscale"})}),y.jsx("span",{children:e.twitter!==""?y.jsx("a",{href:e.twitter,children:y.jsx("img",{src:"/Images/twitter.svg",alt:""})}):y.jsx("img",{src:"/Images/twitter.svg",alt:"",className:"greyscale"})}),y.jsx("span",{children:e.linkedin!==""?y.jsx("a",{href:e.linkedin,children:y.jsx("img",{src:"/Images/linkedin.svg",alt:""})}):y.jsx("img",{src:"/Images/linkedin.svg",alt:"",className:"greyscale"})})]}),y.jsxs("div",{children:[y.jsxs("button",{onClick:()=>t(e.caption),children:[y.jsx("img",{src:"/Images/copy.svg",alt:""})," ",y.jsx("span",{children:"Copy Caption"})]}),y.jsxs("button",{className:"blue-btn",children:[y.jsx("img",{src:"/Images/upload.svg",alt:""})," ",y.jsx("a",{href:e.googleFormLink,target:"__blank",children:"Upload"})]})]})]})]})}function YQ(e){const[t,i]=z.useState([]);return z.useEffect(()=>{fetch(`${Le}api/users/spp/sppTasks`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{i([...r.tasks])})},[]),y.jsxs("section",{className:"container-with-sidebar",children:[y.jsx("h1",{children:"Tasks"}),y.jsx("hr",{}),y.jsx("div",{className:"tasks-container",style:{height:"50vh",overflow:"scroll"},children:t==null?void 0:t.map(r=>y.jsx(qQ,{...r}))})]})}const KQ=()=>{const[e,t]=z.useState([]),[i,r]=z.useState(!0),[n,a]=z.useState(!0);z.useEffect(()=>{c()},[]),z.useEffect(()=>{const l=setInterval(()=>{c()},1e4);return()=>clearInterval(l)},[]);const c=async()=>{try{const o=await(await fetch(`${Le}api/users/spp/leaderboard`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}})).json();r(!1),o.spps[0].score==0&&a(!1),t(o.spps)}catch(l){console.log(l)}};return y.jsxs("div",{className:"leaderboard-container",children:[y.jsx("h1",{children:"LeaderBoard"}),i?y.jsx("h2",{children:"Loading data...."}):n?y.jsxs("table",{className:"leaderboard-table",children:[y.jsx("thead",{className:"leaderboard-table-heading",children:y.jsxs("tr",{children:[y.jsx("td",{children:"Rank"}),y.jsx("td",{children:"Name"}),y.jsx("td",{children:"College"}),y.jsx("td",{children:"Point"})]})}),e==null?void 0:e.map((l,o)=>y.jsxs("tr",{style:{color:"white"},children:[y.jsx("td",{children:o+1}),y.jsx("td",{children:l.name}),y.jsx("td",{children:l.college}),y.jsx("td",{children:l.score})]},o+1))]}):y.jsx("h2",{children:"Leaderboard will be updated Soon..."})]})};function XQ(){const[e,t]=z.useState({isCompleted:!1}),i=Io(a=>a.SPPUserDashSidebar.option),[r,n]=z.useState("true");return z.useEffect(()=>{n(!1);try{fetch(`${Le}api/users`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(a=>{if(a.ok)return a.json();throw new Error("Registration not completed yet.")}).then(a=>{t({...e,...a.details})})}catch(a){console.log(a.message)}},[]),y.jsx(y.Fragment,{children:r?y.jsx(Ts,{}):e.isCompleted?y.jsxs(y.Fragment,{children:[y.jsx(VQ,{}),y.jsx(WQ,{}),i==="Profile"&&y.jsx(UQ,{...e}),i==="Tasks"&&y.jsx(YQ,{...e}),i==="Awards"&&y.jsx(D4,{...e}),i==="Leaderboard"&&y.jsx(KQ,{...e})]}):y.jsx(pz,{})})}const JQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAnCAYAAAB5XdqFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVISURBVHgBzVhbUttIFD3dNlTyFWcFESsY+JuaCYy8g7ACyAqAFWCvALICzApsVmBhp2bmD7MCKyuI/4bBlnrOVbdANrIkbFcmp6pLVr90+va9p29b4QfCwG/MMNsF9CcF866O4eeqYxV+AKb46As5DRzxteGqJzUM3ledI5eorFwhmGBNPOK3XY3ahYLy89o19Puq36nnVUaIuhEOPAMTGqhbbtMoRhRu488RKiLCx3NSaRX1mQIeH5XmzCVKC8j2eHyywJeaGruS/CSCbm4jGBWT3L/imGOUQCPyqhLV+dVqme80UAJryXKSgthatBKWEDXfsZTIQ+JTxpjdF6Pge2XbnYXsWNW+uVtP35yoJYJQw5vUqhck6/EZKKUSmYkQt8pkxAD0eQQxdLCFIMA6RLnWb8sGLPiV/N61BHwvRnyE5RQ7MWrXryE3/90cxIzyZQMyfvUt+6RS+Hn9aT0qhm7WKO5CUnYhz21WIqoKiHLAL+5nqn+hG/VpsS8X9UVjsFc3/RHJnbOMWS1lM0S38DXIEJmDeiY0mids3s33NGd1c9siuQu+SHC28IooX0R9WYO1Bs5zmhr2SESP5SqtVNA7SaggCcbPNTMI+fPOkZPF3MMuTuoDbIpoHfrSMDhMjhVqUOeM9CatFeBJW80H19wmSWHcZbmWBbFvkI79B796WAGFaiJnNU+kPnKEnhHerJuh/DwSeeKpZSSyJWi4AF/IieV5BPO8xx90GfFLb2EaWtiMOPCGmVQPqxJNydZR7y5algEXaAzFqi2SasU4uPsXj4dv8Xf4iP1TWv0Er/NJjntsyvi8Rl02WhIR+l9TiGXraSlfCAlJeZ/BXKcf2cbwkpnRnoE+NHb7q8DbxvZY5sxrLLUoLdYgmYkls3+s6Z8Z605ohb1lVkjHusPgmB/L9fmXiFs1fG1na0otSnRF/1iO6Ucd6uJO1lK0Qj8vQMRl0O40OK4L0/eZJLdkZ6pZWLdm+H3ulCu0qIg0rP6lCFk6LDe0VKKjU/i+QtSooRZkk2CxokF0pczgkK9pQB7KuJydyQNTylkzzYHniMrkD3hAupXuqDtGkpM+nUhZ0iNHuuPGU2MfvXRyqwRxS5uhWPHOkZXga9uFxP0SsqH4uhhgjugMBx3rR6ZHwb/ZQq2XWkn8Dfboa7gi9SN+NBQZEgnilp2Kz74xf03ENy3ROSnru0+dsf2yGllzSck7U1lrcsJxTs+Ru5LcZyupAh8y2piK/pk2g16yINVkKhd/d31TKevAXvAETdHaIq22vHBbx8B/IkodHFeLyHzIkbuFwakj05mqJm+Z8d1ze2JVcYmxIxWy7FnLiySpi8x0E853zaDtpNeeJOrFudchKamcIykaKBYbubz1Ce7YFXf5wnLrnq5teOl0OmRp0y93ZL7s3UxVdOoiXHPiU0qQWEkseE9C/hQHFH2cZDsWXY/LruhaEt7VSZoz6uOxI5n6WceSkuCaxxTRp2Uzld3vtRVxvSOpmbFbUk6P/ahxe7Jl7t4kJOUZilTZS97L5NgF30qo2wmCENYSyUcifoTuIJHm4TkaQ7miRJSst7Z/KlkpSUFyyYsTy708S9SL5PqVROcnS0hI6ZUNTs5xY25gfbEtciO+xkWeGGwWdawJkpNon6RZVIwZSWsvr68puN2WfgcbRMGhkUBuo6telzdGtILMhVSIHayIKmleKZxfdotkLoJpYw1shKjVQFOkg/zLctjBGtgIUQH/mDxUS/5ClLsQ1sQGiUrOqIVsuNDUXnZV+V9hI/9gLLlojP0ufmY4sncSZNgQ/gPsBGkPIQPkjQAAAABJRU5ErkJggg==";var mz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Y5=Mi.createContext&&Mi.createContext(mz),Hc=function(){return Hc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Hc.apply(this,arguments)},QQ=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i};function gz(e){return e&&e.map(function(t,i){return Mi.createElement(t.tag,Hc({key:i},t.attr),gz(t.child))})}function N4(e){return function(t){return Mi.createElement($Q,Hc({attr:Hc({},e.attr)},t),gz(e.child))}}function $Q(e){var t=function(i){var r=e.attr,n=e.size,a=e.title,c=QQ(e,["attr","size","title"]),l=n||i.size||"1em",o;return i.className&&(o=i.className),e.className&&(o=(o?o+" ":"")+e.className),Mi.createElement("svg",Hc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,c,{className:o,style:Hc(Hc({color:e.color||i.color},i.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Mi.createElement("title",null,a),e.children)};return Y5!==void 0?Mi.createElement(Y5.Consumer,null,function(i){return t(i)}):t(mz)}function ZQ(e){return N4({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 17H22V19H2V17H4V10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10V17ZM18 17V10C18 6.68629 15.3137 4 12 4C8.68629 4 6 6.68629 6 10V17H18ZM9 21H15V23H9V21Z"}}]})(e)}function e$(e){return N4({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function t$(e){return N4({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM9 11H21V13H9V11ZM3 18H21V20H3V18Z"}}]})(e)}const K5="data:image/svg+xml,%3csvg%20width='167'%20height='167'%20viewBox='0%200%20167%20167'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='167'%20height='167'%20rx='10'%20fill='%23DD5877'/%3e%3cpath%20d='M83.914%20113.156C55.797%20113.156%2033%20137.134%2033%20166.712H134.83C134.83%20137.134%20112.035%20113.156%2083.914%20113.156Z'%20fill='%23191009'/%3e%3cpath%20d='M61.516%20117.701L83.916%20166.712L108.039%20119.539L123.016%20122.719L109.368%20137.177L117.345%20139.934L83.916%20166.712L58.657%20146.24L64.903%20139.934L49.54%20124.499L61.516%20117.701Z'%20fill='%23434345'/%3e%3cpath%20d='M64.903%2049.723C64.903%2044.352%2060.551%2040%2055.18%2040C49.809%2040%2045.457%2044.352%2045.457%2049.723C45.457%2055.094%2049.808%2059.447%2055.18%2059.447C60.552%2059.447%2064.903%2055.094%2064.903%2049.723Z'%20fill='%23191009'/%3e%3cpath%20d='M122.221%2049.723C122.221%2044.352%20117.868%2040%20112.497%2040C107.126%2040%20102.774%2044.352%20102.774%2049.723C102.774%2055.094%20107.125%2059.447%20112.497%2059.447C117.868%2059.446%20122.221%2055.094%20122.221%2049.723Z'%20fill='%23191009'/%3e%3cpath%20d='M117.345%2051.342C117.345%2047.77%20114.45%2044.875%20110.879%2044.875C107.307%2044.875%20104.412%2047.769%20104.412%2051.342C104.412%2054.914%20107.307%2057.808%20110.879%2057.808C114.45%2057.808%20117.345%2054.914%20117.345%2051.342Z'%20fill='%233E3D42'/%3e%3cpath%20d='M62.858%2051.342C62.858%2047.77%2059.965%2044.875%2056.392%2044.875C52.82%2044.875%2049.926%2047.769%2049.926%2051.342C49.926%2054.914%2052.82%2057.808%2056.392%2057.808C59.965%2057.808%2062.858%2054.914%2062.858%2051.342Z'%20fill='%233E3D42'/%3e%3cpath%20d='M125.494%2085.5435C125.494%2062.5415%20106.848%2043.8965%2083.846%2043.8965C60.845%2043.8965%2042.199%2062.5425%2042.199%2085.5435C42.199%20108.545%2060.845%20127.191%2083.846%20127.191C106.848%20127.191%20125.494%20108.545%20125.494%2085.5435Z'%20fill='%23FCFCFC'/%3e%3cpath%20d='M81.249%2083.6616C84.192%2076.6326%2077.365%2067.8486%2068.464%2069.4676C59.563%2071.0856%2049.852%2090.3456%2055.516%2096.1716C61.181%20101.998%2077.203%2093.3236%2081.249%2083.6616Z'%20fill='%23191009'/%3e%3cpath%20d='M74.613%2081.875C74.613%2079.85%2072.97%2078.207%2070.945%2078.207C68.92%2078.207%2067.277%2079.85%2067.277%2081.875C67.277%2083.9%2068.92%2085.543%2070.945%2085.543C72.971%2085.543%2074.613%2083.9%2074.613%2081.875Z'%20fill='%234E4741'/%3e%3cpath%20d='M72.733%2081.8749C72.733%2080.8889%2071.932%2080.0889%2070.946%2080.0889C69.96%2080.0889%2069.16%2080.8889%2069.16%2081.8749C69.16%2082.8609%2069.96%2083.6619%2070.946%2083.6619C71.932%2083.6619%2072.733%2082.8609%2072.733%2081.8749Z'%20fill='%23E3E1E2'/%3e%3cpath%20d='M86.327%2083.6616C83.383%2076.6326%2090.211%2067.8486%2099.112%2069.4676C108.013%2071.0856%20117.724%2090.3456%20112.059%2096.1716C106.396%20101.998%2090.373%2093.3236%2086.327%2083.6616Z'%20fill='%23191009'/%3e%3cpath%20d='M92.962%2081.875C92.962%2079.85%2094.605%2078.207%2096.631%2078.207C98.656%2078.207%20100.299%2079.85%20100.299%2081.875C100.299%2083.9%2098.656%2085.543%2096.631%2085.543C94.605%2085.543%2092.962%2083.9%2092.962%2081.875Z'%20fill='%234E4741'/%3e%3cpath%20d='M94.844%2081.8749C94.844%2080.8889%2095.645%2080.0889%2096.631%2080.0889C97.616%2080.0889%2098.417%2080.8889%2098.417%2081.8749C98.417%2082.8609%2097.616%2083.6619%2096.631%2083.6619C95.645%2083.6619%2094.844%2082.8609%2094.844%2081.8749Z'%20fill='%23E3E1E2'/%3e%3cpath%20d='M86.487%2098.7871C89.615%2098.7871%2090.595%20100.802%2088.663%20103.262L87.427%20104.84C85.495%20107.301%2082.334%20107.301%2080.404%20104.84L79.168%20103.262C77.235%20100.802%2078.216%2098.7871%2081.343%2098.7871H86.487Z'%20fill='%23191009'/%3e%3cpath%20d='M74.325%20109.113C74.325%20109.113%2079.7469%20110.812%2083.7929%20106.685C87.3539%20109.517%2089.619%20110.349%2093.504%20108.072C89.538%20112.431%2085.055%20111.078%2083.679%20110.754C80.605%20111.562%2075.135%20111.379%2074.325%20109.113Z'%20fill='%23191009'/%3e%3cpath%20d='M86.6409%20138.557C86.6409%20137.053%2085.4199%20135.833%2083.9159%20135.833C82.4109%20135.833%2081.1899%20137.053%2081.1899%20138.557C81.1899%20140.063%2082.4109%20141.282%2083.9159%20141.282C85.4199%20141.281%2086.6409%20140.062%2086.6409%20138.557Z'%20fill='%23434345'/%3e%3cpath%20d='M86.6409%20147.988C86.6409%20146.483%2085.4199%20145.263%2083.9159%20145.263C82.4109%20145.263%2081.1899%20146.483%2081.1899%20147.988C81.1899%20149.493%2082.4109%20150.713%2083.9159%20150.713C85.4199%20150.713%2086.6409%20149.493%2086.6409%20147.988Z'%20fill='%23434345'/%3e%3c/svg%3e",i$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIYSURBVHgB7VTdbdswED5SQg0UTSAhtgu/qRM0naDaoM4E9Qb1CO0G7QRNNtAGlSeIMoFVoEAB0wlZoA8OEvN6ZExXkiUrDvKoDyIgkqf77ufTAXTo0KECdojx4tfi1Ot5MQP2wexR40xrnQ5Gg/SxPvYSzufz4OjlUQwIMff4RzoKag0RcgRMac3u1nfpaDTKH01YySKuWCvQcIUME0RUHPkYPHhPhNVA0qbsS4RCiNgD70fl45/kPOGMJ+BDFoahqtyDFDLWqMcUZEwe3xbviPSs/7qfuD2HNlCd6MlW96u8jsxA/VUZEeW0JJTTUd4LLyse+XUOKNKMIr5i3JY14sC/9/we3IibhCK+cBGL38L2ljE2BtffTdnp7HPYD9Nd3wVsS4owu13fTojkEuqEgjabAOpFpJjP3jRVo1RSIwT37vt+tHGo6PzClux/mO7O7Y3NN2Nrz1dwCg0olXQ4HGZyKc+MOODeOjXZqJPhycS8bsVhSo3AnJhc6a7FtRFOAHuw00P6+KE/QkQ7dwPr2KwpPBHtKj0AlJ1ss2kk3PaTxLFcLCfQAqPYmgFQE1QDpJQBrvGSnEQPEUCuQX8pji4z+o5fHX9iyCYbIRmPOfPYuyaV7p2lRBrptZ7aMeeIwWZ/TqPrT2m+bpTKff61iayVsAhTVhoA0+roMv+sma1EdL6P6GBCB/drmH5xTiSD3WnSocOz4h856f0q88szWwAAAABJRU5ErkJggg==",s_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOSSURBVHgBvVZdUuJAEJ6ZxPCyVcYAWr6FG+AJNp5g8QToCcQTCCdYPIF4gsUTgCfAG8A+oSQQSncfLMj0dk8SVmICkdrarkrN/3R/Pd1fh7H/LJztIO7YdbjG7UWw6B8fH48+cza3wuFwaFK7/2X/FptaND2XIK9ef792aVCpVObb7tmq0HXdhsa0a+ya8RwA3AGDvhDimgGzV5uBjd6Ct9NNqDcqHI/HdkEvDHHXCAJ4UHdy6JcOSx3q+75vy4VsoCKTM24ywb6hMTfFw2KD7SLexDufuTPwnr1anv24t4cf2uGbWXtE1gK5UnDxHdHNNUPrv18j5GRM8gy6mbxgwhJuaQ/LKzGymTfz09BFSICiNbk29aZtdXYyG25CmrxwkOUaRO6oC8Ovl3Z+6k6btD59mn54Sz1D51p4k3sMzbjmnFdxaNMcRSqO62QYDh8DGTyUj8rNaG2EawwEfEiT1DfEt7jHxgwWgXKnoRs1vOAcu1Vc/InrV2JPNJhk99ERR9O0+upSLlRf21t/+2yFEFkGIdJiudhGJS01h4bT+ODgYC6Z7JBhFFjIPGfso5fyIYwsnJeOSt14DpU0sekTSnKxojfOHWVDwC/QgMeVwVG0xh7ajpBBhdqs0EYyGGi61sNk/0rjgAdrwQUSlHIuuZlLIUqbLCxohd5kMqm+mw/7xE/0fjwco+LVHpW/Qtyqywuim0th9GZXeJOpM/3HynKuOLSF71Wxjqwa13mFqAwDqEPrZBzyriILNOIU3Txin5HpJExif+zbn9o/8atZezaSt+d5NQGCEHaxDKkUSNZAYiLlUoGogF+Sz6ySVdlJIUmU2OtBwaD58uvlBmsjGeMkjnStsnWWdV8meSvrQ4I2Favgm9BHpQrbJiojQxx6Q0R2otbCtKmlcexWoZQgAkYCJxK243kKDEKdxqW0bxPHbkRoGEYd0dhYam7kUtbdZ7epDoAgQlbsQghjNN6T18ZEdyJGctKIm4RnoVOVPiFLWJ7oXB+QWwMILjAFCEk/YEEr6pPMWfjmc0obosCtCLEy/LUO2ANSmEpgVKYSWkrZKpfLfXpbQoPKLtVWfM8IOYkp3+R58u5UhWhxRwUDBoJ1aDlYeuKqUCV08T8NJnwzQlQLLxMdSgk6h/R2l8Y0uSQKFFV0k78WcbFVCZ+jwuf6L6WLMHh8QpdMarUWwIBKGebfCftXQiGfhYDm8/6//AHXTSZi5Z28HAAAAABJRU5ErkJggg==",X5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOUSURBVHgB7VZvUtpAFN/dLOCMzJCIMOOn0hvEExRPoJ6g8QTCCZQTaE8AnkA9AfQE0hPAh84wBSSRsR2EsNvf2xInQdL2g/1U30wmm923+9v37/fC2Ju8svBNk/ej+zPOuIuhrbXuz5fzxt7eXv93Bw2HQ1co4QlLfMBnoLS62i3vtv4IOBlO7jDrrk0HoQ4PyuVydwMWG38bHwkhmnTB+LzmulXcLZ7E5wRLWlZbgXW45M5OaYdrpht0kOTygqWI4ILWbOjWaQ/2vsd3l2vujYdjLxUQbvxo3pKfzGYzezKaXAspLukCeKr+wK+sg41Goyo2VjjnrenjtEV7sJcBzFgmtDiK68uEC5h2ABo4jtOHm24wdahDXcFcHeMG22JBr9eztzPbFW5xu7RX6kgp+yxkBwu1CArbhTb03JzMMafkHAOcrLBTLdRKU4xsiomVtTxyCx2Ai1zgat3lcnlYyBd6MifvLGm1Ee/ecr50g8egK5lsrsLRJQ/B8prxluC9pBfX3GMxq23AtW6JjGjAwmsCjcBXa5/oYnAjhSCAa/oRGJLrBPE+w/gIcwE8sU8e2whIMh4j4xiSQCMuIYIPNwK0/QyGxCiWihRXSrJzuPtstZUsOwjD0DWX5qwPsGOAbczsF+KP/Orz2Pcpge7waCRONe4RmpuMJz3SiXT9oe+mnSvSFhD0zvPYcQK48UuaLle8QzqRrlNOtyoV8F/JfwpIxT38OnSjRKBvZOOHtEPAmQnd0QDs87eAVPRRcbMZs+kAwyCgL1pXQsUPi7LRpdIh0Hw+70akQB1k/fxEHQ4GgwpoyTADFTfa0mXOyl1HRY2nwn61rBZY6QGt6HS1NSIFU/iow1pECk/h0368tSUszIiMKWgq7un36XkcjIpacXViCppzz4CBSZRSx7QWgYJlmmCoGp1Bl8ta2VqqhWCOPmJVQItxiPUZ0dPq1nzJbbklu1RnhhQ0KC3D+kEQsPxW3tWWDgjMWKrYLc9yD272ofd5p7xTjTBkEp37eL1bJUBdzzWnjWIuWmhTh2zB9ukCcVKI+JdCYCxdsibLsjq1N+oa65LsFkzfmneom9TTHn48eHDZKbr5IblyE4OgPdFcADefqiflObvO8WKxsE04IIqpVtKomJBlcaKOab1g/bjEu0zCAK2viuWilwoYCf0WoGOQIv02dJAEl2lgsctW1EKdm58vtCsk2M2mn6g3eXX5CYRT2mewSd1DAAAAAElFTkSuQmCC",J5=({setToggleMenu:e,path:t,setPath:i})=>{const[r,n]=z.useState(!0);return y.jsxs(y.Fragment,{children:[y.jsxs(rl,{to:"/ca",className:t==="ca"?"main-web-links nav-pink":"main-web-links",onClick:()=>{e(!1),n(!r),i("ca")},children:[y.jsx("img",{className:"main-web-links-icon",src:i$,alt:""}),"CA Program"]}),y.jsxs(rl,{to:"/events",className:t==="events"?"main-web-links nav-pink":"main-web-links",onClick:()=>{e(!1),n(!r),i("events")},children:[y.jsx("img",{className:"main-web-links-icon",src:X5,alt:""}),"Events"]}),y.jsxs(rl,{to:"/workshops",className:t==="workshops"?"main-web-links nav-pink":"main-web-links",onClick:()=>{e(!1),n(!r),i("workshops")},children:[y.jsx("img",{className:"main-web-links-icon",src:s_,alt:""}),"Workshops"]}),y.jsxs(rl,{to:"/gallery",className:t==="gallery"?"main-web-links nav-pink":"main-web-links",onClick:()=>{e(!1),n(!r),i("gallery")},children:[y.jsx("img",{className:"main-web-links-icon",src:s_,alt:""}),"Gallery"]}),y.jsxs("a",{href:"https://easebuzz.in/link/BTZLD",className:"main-web-links tickets",target:"_blank",children:[y.jsx("img",{className:"main-web-links-icon",src:s_,alt:""}),"Tickets"]}),y.jsxs(rl,{to:"/team",className:t==="team"?"main-web-links nav-pink":"main-web-links",onClick:()=>{e(!1),n(!r),i("team")},children:[y.jsx("img",{className:"main-web-links-icon",src:X5,alt:""}),"Team"]})]})};function r$(){const[e,t]=z.useState(!1),[i,r]=z.useState("/");return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"main-web-nav-wrapper",children:[y.jsxs("div",{className:"main-web-nav",children:[y.jsxs("div",{className:"nav__logo-content",children:[y.jsx("img",{src:JQ,alt:"logo"}),y.jsxs(Rt,{to:"/",className:"mainlogo",onClick:()=>r("/"),children:[y.jsx("p",{className:"logo-text",children:"Cognizance"}),y.jsx("p",{className:"logo-text",children:"'"}),y.jsx("p",{className:"logo-text",children:"25"})]})]}),y.jsxs("div",{className:"nav__content",children:[y.jsx("div",{className:"nav__content-links",children:y.jsx(J5,{setToggleMenu:t,path:i,setPath:r})}),bs()?y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[y.jsx(Rt,{to:"/notifications",className:"notifications-btn",children:y.jsx(ZQ,{size:24})}),y.jsx(Rt,{to:"/dashboard/cogni_user",children:y.jsx("img",{className:"nav-profile",src:K5,alt:""})}),y.jsx("button",{className:"main-web-register",style:{border:"none"},onClick:()=>Zc(),children:y.jsx("div",{className:"register",children:"LOGOUT"})})]}):y.jsxs("div",{className:"nav__content-btn",children:[y.jsx(rl,{to:"/login",className:"main-web-links",children:"LOGIN"}),y.jsx(rl,{to:"/register",className:"main-web-register",children:y.jsx("div",{className:"register",children:"REGISTER"})})]})]})]}),y.jsxs("div",{className:"navbar__menu",children:[e?y.jsx(e$,{color:"#fff",size:27,onClick:()=>t(!1)}):y.jsx(t$,{color:"#fff",size:27,onClick:()=>t(!0)}),e&&y.jsx("div",{className:"navbar__menu_container slide-left ",children:y.jsxs("div",{className:"navbar__menu_container-links",children:[y.jsx(J5,{}),bs()?y.jsxs("div",{className:"placemen",children:[y.jsxs("div",{className:"navigation__icons-links",children:[y.jsx("img",{className:"nav-profile",src:K5,alt:"",style:{width:"29px",marginRight:"1.5rem"}}),y.jsx(Rt,{className:"main-web-links",to:"/dashboard/cogni_user",onClick:()=>{t(!1)},children:"Profile"})]}),y.jsx("button",{className:"main-web-logout inner",onClick:()=>Zc(),children:"LOGOUT"})]}):y.jsx("div",{className:"navbar__menu-inner_container-links",children:y.jsx(rl,{to:"/login",onClick:()=>{t(!1)},className:"main-web-login",children:"LOGIN"})})]})})]})]}),y.jsx(df,{})]})}const n$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA+CAYAAACbQR1vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB5VtbbttIFr1FUrKd1ygrGGUFUT4GSIIZRF5B24gDzF+kFbS9AssrsP0/gOyvGWCcjvPVwPxYBgaxB/MRZQVRryDqvGxLJKvPoUiZ1oMs6mGn0QewRLGKRdate899FK3kd4azx2tlR+SZKCnjr5B7e/BIpoAjvwNw0ralV5Sol/hZiDW1ZUoo+U6hyysF99z5USxZl6uTvgIn795XjcOJBfHdaUA0cbeDiVvjJx6h+zVXxFdTJkSiADp/eVGSnF8RXzc7nt288/9/T3wjE1DVvY6qi6WLptdox2ff+QjAwuBaFNRQyYKlpft0TYKbadXyRB9rLc3FRbc5jQpG6D5Z24ZBrmvRma7D8xVlCiQKwFdWQQ0/UEmULtkiK2QQt+NQME3Pk/3F/x3sSEYEKn+Rq2PMFZkAljLXlpHXJzX6WqfaYIiSZeuHMgGmmXyIP8kUSBSAUmIqAKriL5IR3cdrm1NOHkqoSjIFEgUAG5/atseO/fjvRdy9JlMCnGG8SKOQKABLqYkE8PHjx8KnT58q+C6O6+Mqb1tmAjVVLGPJjKBiK7G4uFiwbbuez+c/fP369d2XL192KJSovfP0RWkK1W+Dm/ZhclUGQfm3B0WZAmmBUBb/Oo6MSkqp4v3799f7Z7RezxqDwhcdW1rv2AteYxZuN0KiADzfbjuWKybQWt0f1+b7/vv4byjtD2IITlyBK/L/PWjIHJBoAkun/2qJYcKh1KUbPD8/H7ym/9t98pyqb0JcTTzdMlS8nJvT5IlUDvCxAmIAuKMigxoeQ90HBdA3JZ9pbArA7LtMc+MT//z5cxl8sgk+OcJx5oBrHFKTIbjChhiqLJIY+uRG7zr9C2z/zzxWMW+itHqYYP9tpXU1d/LqkD9InCDSH3FYwV8xHIt/LZkRUjVAa+dQDKGtS2bHQ16uuu9faoSS0uj76Jbru48cTJ4T52rncrkPaKpJOPl5IFUAAQ/o3qqmISxYRBjyIKGJDNk/J+9pb3np9LAFFV+PJg4hjuQKCDRz1DkOZnGAli0xQwHhbZkHeMjGYGO3E+TuV4cOJ3/+c72NVa9j0tsDE2+jz3tN36/1hud5Vcdx9mRGMCqI5E4PGkhXG2JAYOizic/G3bt3G5gQtaCv8p6vC05M5LHJC2z9KOqL88cQQoNC5DgyRxhXhLSrNlRO8yGTXRiEdPZ4pUh1xq83EgZCI/u61ur5f/4RTJ6kiTMbt2/f3lMDIThN5/yc93WujON5qj1tkcZYAHncqPNkbQsknBrD25ZNLah2Op0dsvgYW97imF9y9XWsdDW+0qwM4T6oOahn/HY7uuiMMFYnVqSB6zz2fHW4dJotZsicSOCGNXxtpvUDoz+gFnz79m0dq/sQK1sNStqWHDG6Y4AT759Q+c0EmhU+tvKnP+2Z9M+cDCFAqSE22Ejr5yinzu9bt27t4KF+Dc+2+On5biXqR9IEvxxRMIrltykmT9DclGXVO0+f12mKqf1lQjCf9ywPqzm+JIUy2QbLZBBAgXZNW+527O3821fVofHQ5nl22XfVCtLwZ0njGj8jtQE8k0/gialy6aCe17Fr0lu5UWgzuAkJMUCMIBPR/etaWXtSAQe8lCmhfF1xTl/tj2yTGYDa0FVubczDNpG3L0+awqaMbYxxQsjMAaj0rMC/f2DFpz84osX8yUHF8Z0H4Id92HIrdknJg9qbjE2NOjs7KzIgisaPj+333OpE0Jbai4K0ODJpAEtcYcBSDE+1YNs7FxcXb5ABtuJ93b89X4nbMypGe84I24+j++TFa2ehWz3/+Z8F2C9jA/CIt3Xv3r29qA+qSRWs2uaEHDFkkpkEwFQUEy6Pad7Dw77Bww4lTyyBoYxVtrTfTnJPiDP2UOfXFBQ1AfHBO+l5hRZiiuVIyDQLV7l1o8h0ACTG3IL3KDJJYwFw9ZGkMEp7lnKDNsNY13WPURds3LlzxzhSg+vaoSuMvAfNDWO8DpvbEPBGXBtMY5JBxLXRGv0gLypnA/ZC6WMyZcuyYOe6itWhPQ4RWxj1rSBhYVLzjnyBAkYtXhQlOP75k7X1+DkUOoPxbFu2aa+hNkWJWFBoZZoc9WdMEms3Bu5TCStTwxoQqJflfgh/NrXv73riN8a5LphFCcIoQjBFHe4kBf4XwoHGNJeWlvrXkeQuLpwKttV+oPpG0WLUfoEVtcIVjasqoknyQbk/DrJCLEa/KjShJrThnR4MCYBENLJkjZoAylnHvi8N0w1R+nxL2SVuYIaTZrYXacIWV5ClrigPiAuAAOtvLaDPAB/02nx/OZ4/dGE+CfHIaGjZuSIAqj7so25yLV1db6UR4alexUdpCw8YRH3FcMdmXFjbjF5toYkgT3jQu3+PA2L9+qyNfjW5usptEOOjuPdhSJ2BGJseXPaVbLDnXswQuCFFd6gpjN5JpaO28df1agCrPMbKbsbLZdSUAZUsILMkT6xDSDWYwktcX4za4JJJkP13hBztVOEdrmjK8HP3yuxRwbVPgtyonEX8nYI2Y3OuKL0KJl/D369RI7Lboc0VZodRtZnVoIHmEgm23xdBkx5dvWqz0gwBPxosswcCmNVGZRpY8Y0SkzCgIhqXHUYWTAudjhN4C9o8Xaz0ymT75IE4GQbjnhzsxGqY1K4tkh0SsPX82+GkKDCBINaW+QLepJo7/SkIkkLVL4ZNDX4E+4VjdnrBS8wDajyGV1lVKZu2gSnYbtFkQ0VlIb4J0dZdtRytPKu+LHwGN0d9H/WCkACTn2PQZc4KjDynTjcT0CSLR5NnZBdNnoAW7EbHsNGVpIGUchLbJ4WVOzlY5lazNtwCM0Rge3R10aqB9EoIlvorzNVHZNfPGyy+/Zn0oGqyV3DSEJAgyGGP7MiUE75xQyv9XiZDwLZc9TBMDcDJIyo8ihdHwej7UZRotmGqHsgcMJb7gkKE5ZWFISj8PTpyBUY9JCYt730thwsL7t5ghAjCe4nJ7sQnH7d9gllgWsEDgm2ByWcuhEzkf1mfv0QaMTHUheofxc8xoYpWfyD3GH/vOQkg06uy4epmKm3Rd4P5d7HqQYgL4ttCVNeK2s1dcPa30ExwLe8Kd7vdGgKfZ9zygkBq0fmwsGHkheb1xtq1CIAvTIALVuOpMcGyuukYWsx2qLNiZm+JpWFw8llzD8sNQuCZ40b+X4BvoWOj9Z1pf2aQ+ZNXc3GD16YBEWj3Vk5eZ7tIZy57meJaBRBsf6Vspw1dw9LYon8oc8K1CoD1wOw1B7U7yxcjh0aXa4ZJ1BdhnrYf4do5gNtcYvgKrrJVVeaMaxcAwc1SSRFC8LLkHN8QjXAjAqBNI/NcHdhE7SMgvrxXk2vAjQiAYAHT9u3lEUJo882xeRJfHDcmAIJC8LvCEnnsVVpdnUfp67sGI0Nsb30Mt7j+mAj+SfMG8Btk+FHDHX4YVAAAAABJRU5ErkJggg==",a$=()=>y.jsx(y.Fragment,{children:y.jsxs("div",{className:"main",children:[y.jsxs("div",{className:"icons2",children:[y.jsx("a",{href:"https://www.instagram.com/cogni_iitr/?hl=en",target:"_blank",rel:"noopener noreferrer",className:"icon instagram",children:y.jsx("svg",{className:"instasvg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",style:{position:"absolute",top:"-80px"},children:y.jsx("path",{d:"M7.75 2h8.5C19.1 2 21 3.9 21 6.25v8.5C21 19.1 19.1 21 16.25 21h-8.5C4.9 21 3 19.1 3 16.25v-8.5C3 3.9 4.9 2 7.75 2zm0 1.5A3.75 3.75 0 0 0 4 7.25v8.5A3.75 3.75 0 0 0 7.75 19.5h8.5A3.75 3.75 0 0 0 20 15.75v-8.5A3.75 3.75 0 0 0 16.25 3.5h-8.5zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 1.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm4.75-2.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0z"})})}),y.jsx("a",{href:"https://in.linkedin.com/company/cognizance-iit-roorkee",target:"_blank",rel:"noopener noreferrer",className:"icon",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"34",viewBox:"0 0 33 34",fill:"none",style:{position:"absolute",top:"0"},children:y.jsx("path",{d:"M27.5286 28.5074H22.7448V21.0061C22.7448 19.2192 22.7076 16.9186 20.2502 16.9186C17.7557 16.9186 17.3744 18.8573 17.3744 20.8752V28.5042H12.589V13.0895H17.1854V15.1899H17.2484C17.7087 14.4033 18.3737 13.7562 19.1726 13.3175C19.9715 12.8788 20.8743 12.6649 21.7851 12.6986C26.632 12.6986 27.5303 15.8894 27.5303 20.0432V28.5058L27.5286 28.5074ZM7.18468 10.9795C6.63521 10.9792 6.09817 10.816 5.64143 10.5105C5.1847 10.2051 4.82877 9.77105 4.61865 9.26334C4.40852 8.75563 4.35362 8.19703 4.4609 7.65813C4.56817 7.11923 4.8328 6.62423 5.22134 6.2357C5.60987 5.84716 6.10487 5.58253 6.64377 5.47526C7.18267 5.36798 7.74128 5.42288 8.24898 5.633C8.75669 5.84313 9.19071 6.19905 9.49618 6.65579C9.80165 7.11252 9.96486 7.64957 9.96518 8.19904C9.9656 8.5643 9.89397 8.92605 9.75439 9.26359C9.61481 9.60113 9.41001 9.90782 9.15174 10.1661C8.89346 10.4244 8.58677 10.6292 8.24924 10.7687C7.9117 10.9083 7.54994 10.98 7.18468 10.9795ZM9.58389 28.5074H4.7871V13.0895H9.58389V28.5074ZM29.923 0.972351H2.38466C2.07518 0.968509 1.76798 1.02569 1.48061 1.14064C1.19324 1.25558 0.931342 1.42603 0.70988 1.64224C0.488417 1.85845 0.311734 2.11618 0.189929 2.40071C0.0681241 2.68524 0.00358491 2.99098 0 3.30047V30.9567C0.00358491 31.2662 0.0681241 31.572 0.189929 31.8565C0.311734 32.141 0.488417 32.3988 0.70988 32.615C0.931342 32.8312 1.19324 33.0016 1.48061 33.1166C1.76798 33.2315 2.07518 33.2887 2.38466 33.2849H29.9181C30.5442 33.2931 31.148 33.0525 31.5969 32.616C32.0458 32.1795 32.3031 31.5828 32.3125 30.9567V3.30047C32.3027 2.67455 32.0452 2.07804 31.5964 1.64165C31.1476 1.20526 30.5441 0.964577 29.9181 0.972351H29.923Z",fill:"#CAC3C6"})})})]}),y.jsx("div",{className:"overlayblack"}),y.jsx("div",{className:"overlayimg"}),y.jsxs("div",{className:"mainwindow",children:[y.jsx("div",{className:"navbar",children:y.jsxs("div",{className:"comingwrapper",children:[y.jsx("img",{src:n$,alt:"image not loaded",className:"logo"}),y.jsx("h1",{children:"COGNIZANCE"}),y.jsx("div",{className:"navline"}),y.jsxs("div",{className:"ham",children:[y.jsxs("svg",{className:"ham-svg",xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none",children:[y.jsx("rect",{x:"0.078125",y:"0.691235",width:"50.9166",height:"50.9166",fill:"#FB3A54"}),y.jsx("line",{x1:"14.1328",y1:"17.81",x2:"25.5452",y2:"17.81",stroke:"white","stroke-width":"2.63362"}),y.jsx("line",{x1:"14.1328",y1:"25.7104",x2:"36.9575",y2:"25.7104",stroke:"white","stroke-width":"2.63362"}),y.jsx("line",{x1:"25.5469",y1:"33.6127",x2:"36.9592",y2:"33.6127",stroke:"white","stroke-width":"2.63362"})]}),y.jsx("div",{className:"vertical2"}),y.jsxs("div",{className:"icons",children:[y.jsx("a",{href:"https://www.instagram.com/cogni_iitr/?hl=en",target:"_blank",rel:"noopener noreferrer",className:"icon instagram",children:y.jsx("svg",{className:"instasvg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",style:{position:"absolute",top:"-80px"},children:y.jsx("path",{d:"M7.75 2h8.5C19.1 2 21 3.9 21 6.25v8.5C21 19.1 19.1 21 16.25 21h-8.5C4.9 21 3 19.1 3 16.25v-8.5C3 3.9 4.9 2 7.75 2zm0 1.5A3.75 3.75 0 0 0 4 7.25v8.5A3.75 3.75 0 0 0 7.75 19.5h8.5A3.75 3.75 0 0 0 20 15.75v-8.5A3.75 3.75 0 0 0 16.25 3.5h-8.5zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 1.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm4.75-2.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0z"})})}),y.jsx("a",{href:"https://in.linkedin.com/company/cognizance-iit-roorkee",target:"_blank",rel:"noopener noreferrer",className:"icon",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"34",viewBox:"0 0 33 34",fill:"none",style:{position:"absolute",top:"0"},children:y.jsx("path",{d:"M27.5286 28.5074H22.7448V21.0061C22.7448 19.2192 22.7076 16.9186 20.2502 16.9186C17.7557 16.9186 17.3744 18.8573 17.3744 20.8752V28.5042H12.589V13.0895H17.1854V15.1899H17.2484C17.7087 14.4033 18.3737 13.7562 19.1726 13.3175C19.9715 12.8788 20.8743 12.6649 21.7851 12.6986C26.632 12.6986 27.5303 15.8894 27.5303 20.0432V28.5058L27.5286 28.5074ZM7.18468 10.9795C6.63521 10.9792 6.09817 10.816 5.64143 10.5105C5.1847 10.2051 4.82877 9.77105 4.61865 9.26334C4.40852 8.75563 4.35362 8.19703 4.4609 7.65813C4.56817 7.11923 4.8328 6.62423 5.22134 6.2357C5.60987 5.84716 6.10487 5.58253 6.64377 5.47526C7.18267 5.36798 7.74128 5.42288 8.24898 5.633C8.75669 5.84313 9.19071 6.19905 9.49618 6.65579C9.80165 7.11252 9.96486 7.64957 9.96518 8.19904C9.9656 8.5643 9.89397 8.92605 9.75439 9.26359C9.61481 9.60113 9.41001 9.90782 9.15174 10.1661C8.89346 10.4244 8.58677 10.6292 8.24924 10.7687C7.9117 10.9083 7.54994 10.98 7.18468 10.9795ZM9.58389 28.5074H4.7871V13.0895H9.58389V28.5074ZM29.923 0.972351H2.38466C2.07518 0.968509 1.76798 1.02569 1.48061 1.14064C1.19324 1.25558 0.931342 1.42603 0.70988 1.64224C0.488417 1.85845 0.311734 2.11618 0.189929 2.40071C0.0681241 2.68524 0.00358491 2.99098 0 3.30047V30.9567C0.00358491 31.2662 0.0681241 31.572 0.189929 31.8565C0.311734 32.141 0.488417 32.3988 0.70988 32.615C0.931342 32.8312 1.19324 33.0016 1.48061 33.1166C1.76798 33.2315 2.07518 33.2887 2.38466 33.2849H29.9181C30.5442 33.2931 31.148 33.0525 31.5969 32.616C32.0458 32.1795 32.3031 31.5828 32.3125 30.9567V3.30047C32.3027 2.67455 32.0452 2.07804 31.5964 1.64165C31.1476 1.20526 30.5441 0.964577 29.9181 0.972351H29.923Z",fill:"#CAC3C6"})})})]})]})]})}),y.jsxs("div",{className:"mainfont",children:[y.jsx("p",{className:"custom-text",children:"COMING"}),y.jsx("p",{className:"custom-text2",children:"SOON"})]}),y.jsxs("div",{className:"footer",children:[y.jsx("div",{className:"vertical"}),y.jsx("div",{className:"horizontal"}),y.jsxs("div",{className:"comingbtns",children:[y.jsx("div",{className:"comingbtn",children:y.jsx(Rt,{to:"/events",children:y.jsx("div",{className:"content",children:" VIEW EVENTS"})})}),y.jsx("div",{className:"comingbtn wait",children:y.jsx("a",{href:"https://easebuzz.in/link/BTZLD",target:"_blank",children:y.jsx("div",{className:"content",children:" BUY TICKETS"})})}),y.jsx("div",{className:"comingbtn",children:y.jsx(Rt,{to:"/register",children:y.jsx("div",{className:"content",children:"REGISTER NOW"})})})]}),y.jsx("div",{className:"horizontal2"})]})]})]})}),o$="/assets/my-BRlhSE1S.png",Q5="/assets/hover2-BePEsN0a.png";function Hn({name:e,counter:t,Events:i,type:r,categoryId:n}){const[a,c]=z.useState([]),[l,o]=z.useState(!1),[s,u]=z.useState(!1),d=z.useRef(),h=()=>{console.log(d);let m=window.innerHeight*.33+window.innerWidth*2*.2;d.current.scrollLeft+=m},p=()=>{console.log(d);let m=window.innerHeight*.33+window.innerWidth*2*.2;d.current.scrollLeft-=m};return r==="departmental"?y.jsx("div",{className:"events-card-container-for-grid",children:y.jsx("div",{className:"events-grid-card-container",ref:d,children:i.sort((m,f)=>{function g(x){let b="";for(let _=0;_<x.length;_++)x[_]!==","&&(b+=x[_]);return b}const v=parseInt(g(m.prize),10)||0;return(parseInt(g(f.prize),10)||0)-v}).map((m,f)=>{const{prize:g,name:v,description:S,thumbnail:x,tagline:b}=m;return y.jsxs(Rt,{style:{margin:"3vh 2vw"},to:`/events/${r}/${n}/${m.id}`,className:"cardwrapper",children:[y.jsx("div",{className:"card-border"}),y.jsx("div",{className:"hover1",children:y.jsx("img",{src:o$,alt:"image not found"})}),y.jsx("div",{className:"hover2",children:y.jsx("img",{src:Q5,alt:"image not found"})}),y.jsxs("div",{className:(t%2==0,"card"),children:[y.jsx("img",{src:x,alt:"",className:"events-card-image"}),y.jsx("div",{className:"textbox",children:y.jsx("h1",{style:{textAlign:"left"},children:v.toUpperCase()})}),y.jsxs("div",{className:"pricebox",children:[y.jsx("h1",{children:"Prizes worth"}),y.jsxs("h2",{className:"red",children:[y.jsx("span",{style:{fontSize:"12px"},children:"Rs."})," ",g," *"]})]})]},f)]})})})}):y.jsxs("div",{className:"events-card-container",children:[y.jsxs("div",{className:"event-card-head",children:[y.jsxs("div",{className:"text",children:[t%4===0?y.jsx("div",{className:"event-card-red-image",children:y.jsx("img",{src:"./Images/Client/EventLanding/Polygon1.png",alt:"",srcset:""})}):t%4===1?y.jsx("div",{className:"event-card-yellow-image",children:y.jsx("img",{src:"./Images/Client/EventLanding/Polygon2.png",alt:"",srcset:""})}):t%4===2?y.jsx("div",{className:"event-card-purple-image",children:y.jsx("img",{src:"./Images/Client/EventLanding/Polygon3.png",alt:"",srcset:""})}):y.jsx("div",{className:"event-card-blue-image",children:y.jsx("img",{src:"./Images/Client/EventLanding/Polygon4.png",alt:"",srcset:""})}),y.jsx("div",{className:t%4===0?"events-card-heading-red cardheading ":t%4===1?"events-card-heading-yellow cardheading":t%4===2?"events-card-heading-purple cardheading":"events-card-heading-blue cardheading",children:y.jsx("h2",{children:e.toUpperCase()})})]}),y.jsxs("div",{className:"arrow",children:[y.jsxs("div",{className:"leftarrow clickarrow",onClick:p,children:[y.jsx("img",{src:"./Images/Client/EventLanding/borderfarrow.png",alt:"",className:"borderfarrow"}),y.jsx("img",{src:"./Images/Client/EventLanding/rightarrow.png",alt:"not found"})]}),y.jsxs("div",{className:"rightarrow clickarrow",onClick:h,children:[y.jsx("img",{src:"./Images/Client/EventLanding/borderfarrow.png",alt:"",className:"borderfarrow"}),y.jsx("img",{src:"./Images/Client/EventLanding/rightarrow.png",alt:"not found"})]})]})]}),y.jsx("div",{className:"events-card-main",ref:d,children:i.sort((m,f)=>{function g(x){let b="";for(let _=0;_<x.length;_++)x[_]!==","&&(b+=x[_]);return b}const v=parseInt(g(m.prize),10)||0;return(parseInt(g(f.prize),10)||0)-v}).map((m,f)=>{const{prize:g,name:v,description:S,thumbnail:x,tagline:b}=m;return(w=>{const C=document.createElement("div");C.innerHTML=w;const E=C.querySelectorAll("span");let A="";return E.forEach(T=>{A+=T.textContent}),A})(S),y.jsxs(Rt,{style:{},to:`/events/${r}/${n}/${m.id}`,className:"cardwrapper",children:[y.jsx("div",{className:t%4===0?"card-border red":t%4===1?"card-border yellow":t%4===2?"card-border purple":"card-border blue"},f),t%4===0?y.jsx("div",{className:"hover1",children:y.jsx("img",{src:"./Images/Client/EventLanding/my1.png",alt:"",srcset:""})}):t%4===1?y.jsx("div",{className:"hover1",children:y.jsx("img",{src:"./Images/Client/EventLanding/yellowhover.png",alt:"",srcset:""})}):t%4===2?y.jsx("div",{className:"hover1",children:y.jsx("img",{src:"./Images/Client/EventLanding/purplehover.png",alt:"",srcset:""})}):y.jsx("div",{className:"hover1",children:y.jsx("img",{src:"./Images/Client/EventLanding/bluehover.png",alt:"",srcset:""})}),t%4===0?y.jsx("div",{className:"hover2",children:y.jsx("img",{src:Q5,alt:"",srcset:""})}):t%4===1?y.jsx("div",{className:"hover2",children:y.jsx("img",{src:"./Images/Client/EventLanding/yellowbelow.png",alt:"",srcset:""})}):t%4===2?y.jsx("div",{className:"hover2",children:y.jsx("img",{src:"./Images/Client/EventLanding/purplebelow.png",alt:"",srcset:""})}):y.jsx("div",{className:"hover2",children:y.jsx("img",{src:"./Images/Client/EventLanding/bluebelow.png",alt:"",srcset:""})}),y.jsxs("div",{className:t%4===0?"card red":t%4===1?"card yellow":t%4===2?"card purple":"card blue",children:[y.jsx("img",{src:x,alt:"",className:"events-card-image"}),y.jsxs("div",{className:t%4===0?"textbox red":t%4===1?"textbox yellow":t%4===2?"textbox purple":"textbox blue",children:[y.jsx("h1",{style:{textAlign:"left"},children:v.toUpperCase()}),y.jsx("p",{style:{fontSize:"12px"},children:b})]}),y.jsxs("div",{className:"pricebox",children:[y.jsx("h1",{children:"Prizes worth"}),y.jsx("div",{className:t%4===0?" red":t%4===1?" yellow":t%4===2?" purple":" blue",children:y.jsxs("h2",{children:[y.jsx("span",{style:{fontSize:"12px"},children:"Rs."})," ",g," *"]})})]}),y.jsx("div",{className:"addbtn",children:y.jsxs("svg",{width:"80",height:"37",viewBox:"0 0 80 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M53.1306 1.00293H56.9117V5.02042",stroke:"#CDF7FF"}),y.jsx("path",{d:"M25.8539 36.1758L22.0727 36.1758L22.0727 32.1583",stroke:"#CDF7FF"}),y.jsx("path",{d:"M25.8512 0.999023H22.07V5.01651",stroke:"#CDF7FF"}),y.jsx("path",{d:"M53.1266 36.1719L56.9078 36.1719L56.9078 32.1544",stroke:"#CDF7FF"}),y.jsx("rect",{width:"32",height:"32",transform:"translate(23.0954 2.38281)",fill:"#EEEBEE","fill-opacity":"0.05"}),y.jsx("path",{d:"M34.2402 19.3372V17.4282H38.1287V13.042H40.0621V17.4282H43.9506V19.3372H40.0621V23.7234H38.1287V19.3372H34.2402Z",fill:"#CDF7FF"})]})}),y.jsx("div",{className:"addbtnhover",children:y.jsxs("svg",{width:"80",height:"37",viewBox:"0 0 80 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M75.1973 1.07324H78.9784V5.09073",stroke:"#CDF7FF"}),y.jsx("path",{d:"M4.7832 36.2451L1.00204 36.2451L1.00204 32.2276",stroke:"#CDF7FF"}),y.jsx("path",{d:"M4.78125 1.06934H1.00008V5.08682",stroke:"#CDF7FF"}),y.jsx("path",{d:"M75.1953 36.2412L78.9765 36.2412L78.9765 32.2237",stroke:"#CDF7FF"}),y.jsx("rect",{width:"76",height:"32",transform:"translate(2.02539 2.45215)",fill:"#EEEBEE","fill-opacity":"0.05"}),y.jsx("path",{d:"M10.291 20.9521L8.17773 14.5537H9.23242L10.8496 19.4404H10.9199L12.666 14.5537H13.7285L11.498 20.9521H10.291ZM14.4199 20.9521V14.5537H15.4863V20.9521H14.4199ZM16.4824 20.9521L16.4746 14.5537H21.5371V15.6084H17.5371V17.2334H21.3066V18.2881H17.5371V19.8975H21.5371V20.9521H16.4824ZM29.1777 14.5537H30.2676L28.4004 20.9521H27.3848L26.2012 16.5537L24.9785 20.9521H23.9629L22.1543 14.5537H23.2402L24.4824 18.9443L25.666 14.5693H26.7559L27.8809 18.96L29.1777 14.5537ZM33.4121 20.9521V14.5537H37.8691L38.7715 15.3428V20.167L37.8691 20.9521H33.4121ZM34.4785 19.8975H37.4277L37.709 19.6631V15.8467L37.4277 15.6162H34.4785V19.8975ZM39.7012 20.9521L39.6934 14.5537H44.7559V15.6084H40.7559V17.2334H44.5254V18.2881H40.7559V19.8975H44.7559V20.9521H39.7012ZM47.6699 20.9521V15.6084H45.6699V14.5537H50.709V15.6084H48.7324V20.9521H47.6699ZM55.8535 20.9521L55.2012 19.2178H52.6309L52.0059 20.9521H50.9121L53.2246 14.5537H54.4863L56.9512 20.9521H55.8535ZM53.0137 18.1592H54.7988L53.959 15.9443H53.8145L53.0137 18.1592ZM57.623 20.9521V14.5537H58.6895V20.9521H57.623ZM60.8145 19.9287H64.4355V20.9521H59.7559V14.5537H60.8145V19.9287ZM66.2598 20.9521L65.3809 20.1826V19.1045H66.4355V19.6787L66.709 19.8975H69.4121L69.6699 19.6787V18.5186L69.3496 18.2725H66.2988L65.3809 17.4639L65.373 15.2959L66.2207 14.5537H69.8535L70.7246 15.3193V16.3662H69.6699V15.8232L69.4121 15.6084H66.709L66.4355 15.8232V16.9678L66.7402 17.21H69.7793L70.7324 18.0146V20.2178L69.916 20.9521H66.2598Z",fill:"#CDF7FF"})]})})]},f)]})})})]})}const vz=[{id:"7",name:"",speakerName:"Pradeep",description:"Dr. Pradeep Kumar , a distinguished scientist at the Indian Space Research Organisation (ISRO), possesses a profound expertise in Radar System Design, High-Speed Data Acquisition systems, and Signal Processing. With a distinguished career, he has been a trailblazer in advancing satellite technology, showcasing a versatile skill set in both hardware and software development. Dr. Pradeep Kumar contributions to cutting-edge space missions highlight his exceptional capabilities in pushing the boundaries of technology. His proficiency in developing sophisticated systems has significantly enhanced ISRO's capabilities, making him a revered figure in the field of space science and technology.",date:"16-March-2024",time:"10 AM - 12 Noon",designation:"Scientist / Engineer at ISRO",img:"/Images/Client/Lecture/Pradeep.jpg"},{id:"8",name:"",speakerName:"Ashok Khemkha",description:"His transformative journey from IIT Kharagpur to achieving the esteemed position of an IAS officer is undeniably inspiring. His success stands as a testament to unwavering hard work, dedication, and perseverance, serving as a beacon for countless students aspiring to emulate his path.",date:"16 March 2024",time:"4 PM - 6 PM",designation:"DG of Archives and Archaeology",img:"/Images/Client/Lecture/Ashok.jpg"},{id:"3",name:"",speakerName:"Maj Gen Neeraj Bali",description:"Throughout a distinguished career spanning more than 40 years as a Major General in the Indian Army, Mr. Neeraj Bali have exemplified exceptional leadership and steadfast dedication. His unwavering commitment to safeguarding our nation's security stands as a testament to his professionalism and enduring service. Over the decades, his contributions have played a pivotal role in ensuring the well-being and safety of our country, marking him as a seasoned and respected professional in the defense of our nation.",date:"15-March-2024",time:"2 PM - 4 PM",designation:"Indian Army",img:"/Images/Client/Lecture/Neeraj.jpg"},{id:"4",name:"",speakerName:"Maj Gen Rajan Kochhar",description:"His life stands as a remarkable journey of dedication and service to our nation. From a distinguished career in the Indian Army to leadership roles, his current position as the Vice Chairman of the National Council of News and Broadcasting and All India Council of Human Rights, his consistent commitment to leveraging expertise in strategic affairs and defense has made a lasting positive impact. Moreover, attainment of a Ph.D. in Business Administration and Management adds a layer of cutting-edge theory to his leadership and management skills. As an inspiring speaker and commentator, he has captivated audiences with his insights on crucial national security issues, adeptly making complex topics accessible and insightful.",date:"15-March-2024",time:"2 PM - 4 PM",designation:"Indian Army",img:"/Images/Client/Lecture/Rajan.jpg"},{id:"6",name:"",speakerName:"Kriti Khatri",description:"Mrs. Kriti Khatri, as the Deputy Director of PMAD, has earned an esteemed reputation within the realm of space exploration and technology. Her notable contributions at SAC, Hyderabad, further underscore her expertise and insights in this dynamic field. The depth of her experience speaks volumes, positioning Mrs. Khatri as a respected authority whose knowledge and leadership significantly contribute to advancements in space exploration and technology.",date:"16-March-2024",time:"10 AM - 12 Noon",designation:"Deputy Director, PMAD",img:"/Images/Client/Lecture/Kriti.jpg"},{id:"2",name:"",speakerName:"Dr. Vijendra Singh Chauhan",description:"Interviewer, TEDx speaker, Associate Professor(DU), Dr. Vijender Singh Chouhan is a versatile scholar and educator with expertise in language, linguistics, technology, and literature. He leverages his diverse background to guide aspiring civil servants through mock interviews at Drishti IAS, pushing them to excel under pressure.",date:"16-March-2024",time:"2 PM - 4 PM",designation:"Interviewer, TEDx speaker, Associate Professor (DU)",img:"/Images/Client/Lecture/vijendra.png"},{id:"9",name:"",speakerName:"Dr. Girish Sahni",description:"The technology of Indias first clot bluster drug came from Dr. Sahnis group and his collaborators, followed by its recombinant version, which  are now marketed in India as several leading brand names,  and are  landmark examples of affordable life-saver medicines in a developing country and throughout his life he has contributed to multiple such innovations. Join us for a inspiring session with Dr. Girish Sahni.",date:"TBA",time:"TBA",designation:"Biopharma inventor and former director general of CSIR and secretary of Government of India",img:"/Images/Girish.jpg"},{id:"10",name:"",speakerName:"Atul khola",description:"Currently crafting experiences at CRED, Atul Khola, design graduate from the esteemed NIFT, Mumbai is coming to Cognizance 2024 to share his workings as a designer in the corporate life. With experience in well-known startups and companies like Cure.fit, toppr, media.net under his belt, he is the perfect candidate for creating beautiful, efficient and delightful interactions.",date:"16-March-2024",time:"10 AM - 12 Noon",designation:"Scientist / Engineer at ISRO",img:"/Images/Client/Lecture/AtulKhola.jpeg"}],s$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADnSURBVHgBnZVtDoMwCIaL8QLGeI65E3kU9YTzGqsf/PHPksVO4ti00Qq+RkNbeEItqDFf4RNv5qIQ/7ERPTrbFS5yTd/2pVGKYtzbNWixoDEQnSbYwRlXpVlaS2FgoOIxvOC+pNxiObSD41uSKfmsY4ixcdBAT2EaqBgmgUpgcASlw+Ex25sDmO0kS2oRcA+6DdqHncrfvuSdRaHFab4kc2sdbtkv2rVCxQ8SGNv+QYk6KlQa6o6S1JkYqumAU6i6nQJQsNbmMcQPdtQUrV/8MEG+LHRYSDM7ypQ/sD+NOF7/BVjM2f4AuD2oSJOGBZAAAAAASUVORK5CYII=",l$=()=>{const{id:e}=y4(),[t,i]=z.useState([]),r=vz.filter(n=>n.id===e)[0];return z.useEffect(()=>{window.scrollTo(0,0)},[]),z.useEffect(()=>{fetch(`${Le}api/events`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{let a=n.centerstage;for(let c=0;c<a.length;c++)if(a[c].id===61){i(a[c]);break}console.log("Google Dev Data",t)}).catch(n=>console.error("Error:",n))},[]),y.jsx("div",{className:"mainwebsite__event-popup guest-pop-up-conatiner",children:y.jsxs("div",{className:"guest-popup-content-container",children:[y.jsx(Rt,{to:"/events",children:y.jsx("img",{id:"guest-popup-cross",src:s$,alt:""})}),y.jsxs("div",{className:"guest-popup-article-top",children:[y.jsx("img",{className:"guest-pop-top-main-img",src:r.img,alt:""}),y.jsxs("div",{className:"guest-popup-article-top-content",children:[y.jsxs("div",{className:"guest-popup-article-top-content-one",children:[y.jsx("span",{className:"guest-popup-small-heading",children:"Keynote Speaker"}),y.jsx("h1",{children:r.speakerName}),y.jsx("p",{style:{marginBottom:"1vh"},children:r.designation})]}),y.jsxs("div",{className:"guest-popup-article-top-content-two",children:[y.jsx("br",{}),y.jsx("br",{}),y.jsx("p",{children:r.description})]})]})]}),y.jsxs("div",{className:"guest-popup-article-middle",children:[y.jsxs("div",{children:[y.jsx("img",{src:"/Images/location.png",alt:""}),y.jsx("h3",{children:"IIT Roorkee"})]}),y.jsxs("div",{children:[y.jsx("img",{src:"/Images/calender.png",alt:""}),y.jsx("h3",{children:r.date})]}),y.jsxs("div",{children:[y.jsx("img",{src:"/Images/clock.png",alt:""}),y.jsx("h3",{children:r.time})]})]}),y.jsxs("div",{className:"guest-popup-article-bottom",children:[y.jsx("span",{className:"guest-popup-article-bottom-main",children:"Need Help? Reach out to us!"}),y.jsxs("span",{children:[y.jsx("span",{className:"guest-popup-blue-span",children:"Whatsapp (Manav Agarwal)"})," ","- +91 93003 98900"]}),y.jsxs("span",{children:[y.jsx("span",{className:"guest-popup-blue-span",children:"Email"})," - events@cognizance.org.in"]})]}),y.jsx("div",{className:"guest-popup-article-bottom-img"})]})})},c$=({googleDevData:e})=>(console.log("Google Dev Data",e),y.jsx(Rt,{to:"/events/centerstage/61/234",children:y.jsx("div",{className:"guest-card",style:{background:`linear-gradient(rgba(0 0 0 / 0), rgba(0 0 0 / 0.75)) , url(${e.Events[0].thumbnail}) center center / cover no-repeat`},children:y.jsx("div",{className:"guest-main-content",children:y.jsxs("span",{className:"guest-visible-content",children:[y.jsx("p",{id:"guest-visible-content-name",children:y.jsx("strong",{children:e.Events[0].name})}),y.jsx("span",{id:"guest-designation-span",children:e.Events[0].tagline})]})})})})),u$=({id:e,img:t,speakerName:i,designation:r})=>y.jsx(Rt,{to:`/guestpopup/${e}`,children:y.jsx("div",{className:"guest-card",style:{background:`linear-gradient(rgba(0 0 0 / 0), rgba(0 0 0 / 0.75)) , url(${t}) center center / cover no-repeat`},children:y.jsx("div",{className:"guest-main-content",children:y.jsxs("span",{className:"guest-visible-content",children:[y.jsx("p",{id:"guest-visible-content-name",children:y.jsx("strong",{children:i})}),y.jsx("span",{id:"guest-designation-span",children:r})]})})})}),d$=()=>{const[e,t]=z.useState(!0),[i,r]=z.useState(!0),[n,a]=z.useState([]);return z.useEffect(()=>{fetch(`${Le}api/events`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(c=>c.json()).then(c=>{let l=c.centerstage;for(let o=0;o<l.length;o++)if(l[o].id===61){a(l[o]);break}console.log("Google Dev Data",n)}).catch(c=>console.error("Error:",c))},[]),z.useEffect(()=>{setTimeout(()=>{r(!1)},3e3)},[]),y.jsx(y.Fragment,{children:i?y.jsx(Ts,{}):y.jsxs("div",{className:"events-card-container",children:[y.jsx("div",{className:"events-card-container-heading",children:y.jsx("h2",{className:"guest-lec-heading",children:"GUEST LECTURE"})}),y.jsxs("div",{className:"guest-lec-card-container",children:[y.jsx(c$,{googleDevData:n}),vz.sort((c,l)=>c.id-l.id).map(c=>y.jsx(u$,{...c}))]})]})})},yz="/assets/bgvid-B5YD8VLn.mp4";function h$(){var ee;const[e,t]=z.useState([]),[i,r]=z.useState("centerstage"),[n,a]=z.useState(),[c,l]=z.useState(!0),[o,s]=z.useState([]),[u,d]=z.useState([]),[h,p]=z.useState([]),[m,f]=z.useState([]),[g,v]=z.useState([]),[S,x]=z.useState([]),[b,_]=z.useState([]),[w,C]=z.useState([]),[E,A]=z.useState([]),[T,M]=z.useState([]),[j,P]=z.useState([]),[I,k]=z.useState([]),[R,O]=z.useState([]),[D,L]=z.useState(!0),[B,F]=z.useState([]),H=()=>{L(!1)};return z.useEffect(()=>{fetch(`${Le}api/events`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(U=>U.json()).then(U=>{let{centerstage:X,departmental:W}=U;console.log("centerstage event ",X),s([...X==null?void 0:X.filter(Q=>Q.name==="Sky High")]),d([...X==null?void 0:X.filter(Q=>Q.name==="Robotics")]),p([...X==null?void 0:X.filter(Q=>Q.name==="Algo Arena")]),C([...X==null?void 0:X.filter(Q=>Q.name==="Code Jam")]),A([...X==null?void 0:X.filter(Q=>Q.name==="CODE COMBAT")]),P([...X==null?void 0:X.filter(Q=>Q.name==="ARTISTIC AURA")]),k([...X==null?void 0:X.filter(Q=>Q.name==="Exhibition")]),M([...X==null?void 0:X.filter(Q=>Q.name==="HACK HUSTLE")]),O([...X==null?void 0:X.filter(Q=>Q.name==="NO GLITCH")]),f([...X==null?void 0:X.filter(Q=>Q.name==="Business and Finance")]);let ie=X==null?void 0:X.filter(Q=>Q.name==="Cogitation Summit (Case Study)");v(ie),x([...X==null?void 0:X.filter(Q=>Q.name==="Off the Cuff")]),_([...X==null?void 0:X.filter(Q=>Q.name==="MODEL UNITED NATIONS")]),a({centerstage:X,departmental:W})})},[]),z.useEffect(()=>{o.length===0&&window.location.pathname!=="/events"&&(window.location.href=`${ROOT_DOMAIN}events`)},[o]),z.useEffect(()=>{setTimeout(()=>l(!1),1e3)},[]),z.useEffect(()=>{i==="centerstage"?t(n==null?void 0:n.centerstage):i==="departmental"?t(n==null?void 0:n.departmental):i==="guest"&&t(null)},[n,i]),y.jsx(y.Fragment,{children:c?y.jsx(Ts,{}):y.jsxs(y.Fragment,{children:[D&&y.jsxs("div",{className:"floating-deadline-notice",children:[y.jsx("p",{children:"The deadline for the submission of abstracts in all applicable events is March 2, 2025"}),y.jsx("button",{onClick:H,className:"close-notice-btn",children:""})]}),y.jsx("section",{className:"events-landing-container",children:y.jsxs("section",{className:"events-landing-planet-container events-landing-planet-container-mobile",children:[y.jsx("div",{className:"events-landing-img",children:y.jsx("video",{src:yz,className:"events-landing-planet",autoPlay:!0,loop:!0,muted:!0})}),y.jsxs("div",{className:"events-landing-planet-text-container",children:[y.jsx("h1",{className:"events-landing-heading events-landing-heading-mobile",children:"EVENTS"}),y.jsxs("p",{className:"events-landing-txt-2 events-landing-txt-2-mobile",children:["Experience a dynamic tech fest with drones, robots, interactive games, and cutting-edge innovation on display!"," "]})]})]})}),y.jsxs("section",{className:"events-type-container",children:[y.jsxs("div",{className:"type-btn-container",children:[y.jsx("button",{onClick:()=>{r("centerstage")},className:`event-type ${i==="centerstage"&&"event-type-selected"} event-left`,children:"Centerstage Events"}),y.jsx("button",{onClick:()=>{r("departmental")},className:`event-type ${i==="departmental"&&"event-type-selected"}`,children:"Departmental Events"}),y.jsx("button",{onClick:()=>{r("guest")},className:`event-type ${i==="guest"&&"event-type-selected"} event-right`,children:"Guest Lectures"})]}),i==="centerstage"&&(u==null?void 0:u.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:1,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(o==null?void 0:o.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:0,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(E==null?void 0:E.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:0,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(m==null?void 0:m.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:3,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(T==null?void 0:T.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:0,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(j==null?void 0:j.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:0,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(w==null?void 0:w.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:0,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(g==null?void 0:g.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:4,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(R==null?void 0:R.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:1,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(I==null?void 0:I.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:0,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(h==null?void 0:h.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:2,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"&&(b==null?void 0:b.map((U,X)=>{const{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:5,Events:Q,type:i,categoryId:U.id},X)})),i==="centerstage"?(ee=e==null?void 0:e.filter(U=>U.name!=="Sky High"&&U.name!=="Robotics"&&U.name!=="Algo Arena"&&U.name!=="Business and Finance"&&U.name!=="Cogitation Summit (Case Study)"&&U.name!=="MODEL UNITED NATIONS"&&U.name!=="Guest Lecture"&&U.name!=="Code Jam"&&U.name!=="CODE COMBAT"&&U.name!=="Exhibition"&&U.name!=="ARTISTIC AURA"&&U.name!=="HACK HUSTLE"&&U.name!=="NO GLITCH"))==null?void 0:ee.map((U,X)=>{const W=X+1,{name:ie,Events:Q}=U;return console.log(U,X),y.jsx(Hn,{name:ie,counter:W,Events:Q,type:i,categoryId:U.id},X)}):i==="departmental"?e==null?void 0:e.map((U,X)=>{const W=X,{name:ie,Events:Q}=U;return y.jsx(Hn,{name:ie,counter:W,Events:Q,type:i,categoryId:U.id},X)}):y.jsx(d$,{})]}),y.jsx(df,{})]})})}const p$="/assets/workshop-drone-BJ-QfoU9.png";function f$({props:e}){const[t,i]=z.useState(!1),[r,n]=z.useState(!1),a=()=>{window.innerWidth<800?n(!0):n(!1)};z.useEffect(()=>(window.addEventListener("resize",a),a(),()=>window.removeEventListener("resize",a)),[]);const c=()=>i(!0),l=()=>i(!1);return y.jsxs(Rt,{style:{margin:"3vh"},to:`/workshops/${e.id}`,className:"cardwrapper hoverwork eventcard",onMouseEnter:c,onMouseLeave:l,children:[y.jsx("div",{className:"card-border hoverwork red"}),y.jsx("div",{className:"hover1 hoverwork",children:y.jsx("img",{src:"./Images/Client/EventLanding/my1.png",alt:"image not found"})}),y.jsx("div",{className:"hover2 hoverwork",children:y.jsx("img",{src:"./Images/Client/EventLanding/hover2.png",alt:"image not found"})}),y.jsxs("div",{className:"card",children:[y.jsx("img",{src:e.thumbnail?e.thumbnail:p$,alt:"Workshop Thumbnail",className:"events-card-image"}),y.jsxs("div",{className:"textbox red",children:[y.jsx("h1",{children:e.name}),y.jsx("p",{className:"workshop-card-organizers workshop-text",children:e.organizers})]}),y.jsxs("div",{className:"pricebox",children:[y.jsx("h1",{children:"Price"}),y.jsx("div",{className:"red",children:y.jsxs("h2",{children:[y.jsx("span",{style:{fontSize:"12px"},children:"Rs."})," ",t||r&&e.discountedPrice?y.jsxs("div",{children:[y.jsx("span",{style:{textDecoration:"line-through",opacity:.7,fontSize:"14px"},children:e.cost}),y.jsx("span",{style:{marginLeft:"8px",width:"fit-content",fontSize:"18px"},children:e.discountedPrice})]}):e.cost]})})]})]})]})}function m$(){const[e,t]=z.useState(null),i=z.useRef(),r={123:999,121:999,109:776,253:649,182:1199,176:799,257:999,212:1199,179:1199,178:799,258:699,119:1199,254:936,211:599,114:799,251:699,175:0};return z.useEffect(()=>{i.current.play()},[]),z.useEffect(()=>{fetch(`${Le}api/workshops`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{console.log(n);const a=n.workshops.map(c=>({...c,discountedPrice:r[c.id]||c.cost}));t(a)})},[]),y.jsx(y.Fragment,{children:y.jsxs("section",{className:"workshop-landing-container",children:[y.jsxs("section",{className:"events-landing-planet-container workshopplanet",children:[y.jsx("div",{className:"events-landing-img",children:y.jsx("video",{className:"events-landing-planet",ref:i,muted:!0,autoPlay:!0,loop:!0,children:y.jsx("source",{src:"/Images/Client/Workshops/bgvid.mp4",type:"video/mp4"})})}),y.jsxs("div",{className:"events-landing-planet-text-container",children:[y.jsx("h1",{className:"events-landing-heading events-landing-heading-mobile workshop-landing-mainheading",children:"WORKSHOPS"}),y.jsxs("p",{className:"events-landing-txt-2 events-landing-txt-2-mobile workshop-landing-tagline",children:["Innovate, Learn, and LeadExpert Talks & Workshops by Industry Pioneers."," "]})]})]}),y.jsx("p",{className:"workshop-ticket-text",children:"NOTE: It is compulsory to buy ticket before buying workshop. Without ticket you are not allowed to enter any workshop or events"}),y.jsx("div",{className:"gridcont",children:y.jsx("div",{className:"workshop-card-container",children:e==null?void 0:e.map(n=>y.jsx(f$,{props:n},n.id))})})]})})}var $5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=n&63|128):(n&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=n&63|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=n&63|128)}return t},g$=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const n=e[i++];if(n<128)t[r++]=String.fromCharCode(n);else if(n>191&&n<224){const a=e[i++];t[r++]=String.fromCharCode((n&31)<<6|a&63)}else if(n>239&&n<365){const a=e[i++],c=e[i++],l=e[i++],o=((n&7)<<18|(a&63)<<12|(c&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(o&1023))}else{const a=e[i++],c=e[i++];t[r++]=String.fromCharCode((n&15)<<12|(a&63)<<6|c&63)}}return t.join("")},xz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<e.length;n+=3){const a=e[n],c=n+1<e.length,l=c?e[n+1]:0,o=n+2<e.length,s=o?e[n+2]:0,u=a>>2,d=(a&3)<<4|l>>4;let h=(l&15)<<2|s>>6,p=s&63;o||(p=64,c||(h=64)),r.push(i[u],i[d],i[h],i[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bz(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):g$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<e.length;){const a=i[e.charAt(n++)],l=n<e.length?i[e.charAt(n)]:0;++n;const s=n<e.length?i[e.charAt(n)]:64;++n;const d=n<e.length?i[e.charAt(n)]:64;if(++n,a==null||l==null||s==null||d==null)throw new v$;const h=a<<2|l>>4;if(r.push(h),s!==64){const p=l<<4&240|s>>2;if(r.push(p),d!==64){const m=s<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y$=function(e){const t=bz(e);return xz.encodeByteArray(t,!0)},wz=function(e){return y$(e).replace(/\./g,"")},_z=function(e){try{return xz.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=()=>b$().__FIREBASE_DEFAULTS__,w$=()=>{if(typeof process>"u"||typeof $5>"u")return;const e=$5.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_$=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_z(e[1]);return t&&JSON.parse(t)},L4=()=>{try{return x$()||w$()||_$()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},S$=e=>{var t,i;return(i=(t=L4())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},Sz=()=>{var e;return(e=L4())===null||e===void 0?void 0:e.config},Cz=e=>{var t;return(t=L4())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function T$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function A$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M$(){const e=xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j$(){try{return typeof indexedDB=="object"}catch{return!1}}function I$(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},n.onupgradeneeded=()=>{i=!1},n.onerror=()=>{var a;t(((a=n.error)===null||a===void 0?void 0:a.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="FirebaseError";class du extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=P$,Object.setPrototypeOf(this,du.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jv.prototype.create)}}class jv{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},n=`${this.service}/${t}`,a=this.errors[t],c=a?k$(a,r):"Error",l=`${this.serviceName}: ${c} (${n}).`;return new du(n,l,r)}}function k$(e,t){return e.replace(D$,(i,r)=>{const n=t[r];return n!=null?String(n):`<${r}?>`})}const D$=/\{\$([^}]+)}/g;function O$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sb(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const n of i){if(!r.includes(n))return!1;const a=e[n],c=t[n];if(Z5(a)&&Z5(c)){if(!Sb(a,c))return!1}else if(a!==c)return!1}for(const n of r)if(!i.includes(n))return!1;return!0}function Z5(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(e){const t=[];for(const[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(n=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R$(e,t){const i=new N$(e,t);return i.subscribe.bind(i)}class N${constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let n;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");L$(t,["next","error","complete"])?n=t:n={next:t,error:i,complete:r},n.next===void 0&&(n.next=l_),n.error===void 0&&(n.error=l_),n.complete===void 0&&(n.complete=l_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch{}}),this.observers.push(n),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L$(e,t){if(typeof e!="object"||e===null)return!1;for(const i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function l_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e){return e&&e._delegate?e._delegate:e}class zp{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new C$;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:i});n&&r.resolve(n)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(F$(t))try{this.getOrInitializeService({instanceIdentifier:Du})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(i);try{const a=this.getOrInitializeService({instanceIdentifier:n});r.resolve(a)}catch{}}}}clearInstance(t=Du){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Du){return this.instances.has(t)}getOptions(t=Du){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[a,c]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&c.resolve(n)}return n}onInit(t,i){var r;const n=this.normalizeInstanceIdentifier(i),a=(r=this.onInitCallbacks.get(n))!==null&&r!==void 0?r:new Set;a.add(t),this.onInitCallbacks.set(n,a);const c=this.instances.get(n);return c&&t(c,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const n of r)try{n(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B$(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Du){return this.component?this.component.multipleInstances?t:Du:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B$(e){return e===Du?void 0:e}function F$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new z$(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(mi||(mi={}));const V$={debug:mi.DEBUG,verbose:mi.VERBOSE,info:mi.INFO,warn:mi.WARN,error:mi.ERROR,silent:mi.SILENT},H$=mi.INFO,G$={[mi.DEBUG]:"log",[mi.VERBOSE]:"log",[mi.INFO]:"info",[mi.WARN]:"warn",[mi.ERROR]:"error"},W$=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),n=G$[t];if(n)console[n](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ez{constructor(t){this.name=t,this._logLevel=H$,this._logHandler=W$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in mi))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?V$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,mi.DEBUG,...t),this._logHandler(this,mi.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,mi.VERBOSE,...t),this._logHandler(this,mi.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,mi.INFO,...t),this._logHandler(this,mi.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,mi.WARN,...t),this._logHandler(this,mi.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,mi.ERROR,...t),this._logHandler(this,mi.ERROR,...t)}}const q$=(e,t)=>t.some(i=>e instanceof i);let eP,tP;function Y$(){return eP||(eP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K$(){return tP||(tP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tz=new WeakMap,VE=new WeakMap,Az=new WeakMap,c_=new WeakMap,z4=new WeakMap;function X$(e){const t=new Promise((i,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",c)},a=()=>{i(Gc(e.result)),n()},c=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&Tz.set(i,e)}).catch(()=>{}),z4.set(t,e),t}function J$(e){if(VE.has(e))return;const t=new Promise((i,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",c),e.removeEventListener("abort",c)},a=()=>{i(),n()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",c),e.addEventListener("abort",c)});VE.set(e,t)}let HE={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return VE.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Az.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gc(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Q$(e){HE=e(HE)}function $$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(u_(this),t,...i);return Az.set(r,t.sort?t.sort():[t]),Gc(r)}:K$().includes(e)?function(...t){return e.apply(u_(this),t),Gc(Tz.get(this))}:function(...t){return Gc(e.apply(u_(this),t))}}function Z$(e){return typeof e=="function"?$$(e):(e instanceof IDBTransaction&&J$(e),q$(e,Y$())?new Proxy(e,HE):e)}function Gc(e){if(e instanceof IDBRequest)return X$(e);if(c_.has(e))return c_.get(e);const t=Z$(e);return t!==e&&(c_.set(e,t),z4.set(t,e)),t}const u_=e=>z4.get(e);function eZ(e,t,{blocked:i,upgrade:r,blocking:n,terminated:a}={}){const c=indexedDB.open(e,t),l=Gc(c);return r&&c.addEventListener("upgradeneeded",o=>{r(Gc(c.result),o.oldVersion,o.newVersion,Gc(c.transaction),o)}),i&&c.addEventListener("blocked",o=>i(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),n&&o.addEventListener("versionchange",s=>n(s.oldVersion,s.newVersion,s))}).catch(()=>{}),l}const tZ=["get","getKey","getAll","getAllKeys","count"],iZ=["put","add","delete","clear"],d_=new Map;function iP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(d_.get(t))return d_.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,n=iZ.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(n||tZ.includes(i)))return;const a=async function(c,...l){const o=this.transaction(c,n?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(l.shift())),(await Promise.all([s[i](...l),n&&o.done]))[0]};return d_.set(t,a),a}Q$(e=>({...e,get:(t,i,r)=>iP(t,i)||e.get(t,i,r),has:(t,i)=>!!iP(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nZ(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nZ(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const GE="@firebase/app",rP="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new Ez("@firebase/app"),aZ="@firebase/app-compat",oZ="@firebase/analytics-compat",sZ="@firebase/analytics",lZ="@firebase/app-check-compat",cZ="@firebase/app-check",uZ="@firebase/auth",dZ="@firebase/auth-compat",hZ="@firebase/database",pZ="@firebase/database-compat",fZ="@firebase/functions",mZ="@firebase/functions-compat",gZ="@firebase/installations",vZ="@firebase/installations-compat",yZ="@firebase/messaging",bZ="@firebase/messaging-compat",xZ="@firebase/performance",wZ="@firebase/performance-compat",_Z="@firebase/remote-config",SZ="@firebase/remote-config-compat",CZ="@firebase/storage",EZ="@firebase/storage-compat",TZ="@firebase/firestore",AZ="@firebase/firestore-compat",MZ="firebase",jZ="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="[DEFAULT]",IZ={[GE]:"fire-core",[aZ]:"fire-core-compat",[sZ]:"fire-analytics",[oZ]:"fire-analytics-compat",[cZ]:"fire-app-check",[lZ]:"fire-app-check-compat",[uZ]:"fire-auth",[dZ]:"fire-auth-compat",[hZ]:"fire-rtdb",[pZ]:"fire-rtdb-compat",[fZ]:"fire-fn",[mZ]:"fire-fn-compat",[gZ]:"fire-iid",[vZ]:"fire-iid-compat",[yZ]:"fire-fcm",[bZ]:"fire-fcm-compat",[xZ]:"fire-perf",[wZ]:"fire-perf-compat",[_Z]:"fire-rc",[SZ]:"fire-rc-compat",[CZ]:"fire-gcs",[EZ]:"fire-gcs-compat",[TZ]:"fire-fst",[AZ]:"fire-fst-compat","fire-js":"fire-js",[MZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Map,qE=new Map;function PZ(e,t){try{e.container.addComponent(t)}catch(i){Td.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Vg(e){const t=e.name;if(qE.has(t))return Td.debug(`There were multiple attempts to register component ${t}.`),!1;qE.set(t,e);for(const i of Cb.values())PZ(i,e);return!0}function Mz(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wc=new jv("app","Firebase",kZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=jZ;function jz(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:WE,automaticDataCollectionEnabled:!1},t),n=r.name;if(typeof n!="string"||!n)throw Wc.create("bad-app-name",{appName:String(n)});if(i||(i=Sz()),!i)throw Wc.create("no-options");const a=Cb.get(n);if(a){if(Sb(i,a.options)&&Sb(r,a.config))return a;throw Wc.create("duplicate-app",{appName:n})}const c=new U$(n);for(const o of qE.values())c.addComponent(o);const l=new DZ(i,r,c);return Cb.set(n,l),l}function OZ(e=WE){const t=Cb.get(e);if(!t&&e===WE&&Sz())return jz();if(!t)throw Wc.create("no-app",{appName:e});return t}function pp(e,t,i){var r;let n=(r=IZ[e])!==null&&r!==void 0?r:e;i&&(n+=`-${i}`);const a=n.match(/\s|\//),c=t.match(/\s|\//);if(a||c){const l=[`Unable to register library "${n}" with version "${t}":`];a&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&c&&l.push("and"),c&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Td.warn(l.join(" "));return}Vg(new zp(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ="firebase-heartbeat-database",NZ=1,Hg="firebase-heartbeat-store";let h_=null;function Iz(){return h_||(h_=eZ(RZ,NZ,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Hg)}catch(i){console.warn(i)}}}}).catch(e=>{throw Wc.create("idb-open",{originalErrorMessage:e.message})})),h_}async function LZ(e){try{return await(await Iz()).transaction(Hg).objectStore(Hg).get(Pz(e))}catch(t){if(t instanceof du)Td.warn(t.message);else{const i=Wc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Td.warn(i.message)}}}async function nP(e,t){try{const r=(await Iz()).transaction(Hg,"readwrite");await r.objectStore(Hg).put(t,Pz(e)),await r.done}catch(i){if(i instanceof du)Td.warn(i.message);else{const r=Wc.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Td.warn(r.message)}}}function Pz(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ=1024,BZ=30*24*60*60*1e3;class FZ{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VZ(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=aP();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const l=new Date(c.date).valueOf();return Date.now()-l<=BZ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=aP(),{heartbeatsToSend:r,unsentEntries:n}=UZ(this._heartbeatsCache.heartbeats),a=wz(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function aP(){return new Date().toISOString().substring(0,10)}function UZ(e,t=zZ){const i=[];let r=e.slice();for(const n of e){const a=i.find(c=>c.agent===n.agent);if(a){if(a.dates.push(n.date),oP(i)>t){a.dates.pop();break}}else if(i.push({agent:n.agent,dates:[n.date]}),oP(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class VZ{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j$()?I$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LZ(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const n=await this.read();return nP(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const n=await this.read();return nP(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function oP(e){return wz(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(e){Vg(new zp("platform-logger",t=>new rZ(t),"PRIVATE")),Vg(new zp("heartbeat",t=>new FZ(t),"PRIVATE")),pp(GE,rP,e),pp(GE,rP,"esm2017"),pp("fire-js","")}HZ("");var GZ="firebase",WZ="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pp(GZ,WZ,"app");function B4(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i}function kz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qZ=kz,Dz=new jv("auth","Firebase",kz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Ez("@firebase/auth");function YZ(e,...t){Eb.logLevel<=mi.WARN&&Eb.warn(`Auth (${Pv}): ${e}`,...t)}function b1(e,...t){Eb.logLevel<=mi.ERROR&&Eb.error(`Auth (${Pv}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(e,...t){throw F4(e,...t)}function ds(e,...t){return F4(e,...t)}function Oz(e,t,i){const r=Object.assign(Object.assign({},qZ()),{[t]:i});return new jv("auth","Firebase",r).create(t,{appName:e.name})}function KZ(e,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&ws(e,"argument-error"),Oz(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F4(e,...t){if(typeof e!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(i,...r)}return Dz.create(e,...t)}function Mt(e,t,...i){if(!e)throw F4(t,...i)}function cl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw b1(t),new Error(t)}function jl(e,t){e||cl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function XZ(){return sP()==="http:"||sP()==="https:"}function sP(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XZ()||T$()||"connection"in navigator)?navigator.onLine:!0}function QZ(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t,i){this.shortDelay=t,this.longDelay=i,jl(i>t,"Short delay should be less than long delay!"),this.isMobile=E$()||A$()}get(){return JZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e,t){jl(e.emulator,"Emulator should always be set here");const{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=new kv(3e4,6e4);function V4(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mf(e,t,i,r,n={}){return Nz(e,n,async()=>{let a={},c={};r&&(t==="GET"?c=r:a={body:JSON.stringify(r)});const l=Iv(Object.assign({key:e.config.apiKey},c)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Rz.fetch()(Lz(e,e.config.apiHost,i,l),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},a))})}async function Nz(e,t,i){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$Z),t);try{const n=new tee(e),a=await Promise.race([i(),n.promise]);n.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw j0(e,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const l=a.ok?c.errorMessage:c.error.message,[o,s]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw j0(e,"credential-already-in-use",c);if(o==="EMAIL_EXISTS")throw j0(e,"email-already-in-use",c);if(o==="USER_DISABLED")throw j0(e,"user-disabled",c);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Oz(e,u,s);ws(e,u)}}catch(n){if(n instanceof du)throw n;ws(e,"network-request-failed",{message:String(n)})}}async function eee(e,t,i,r,n={}){const a=await mf(e,t,i,r,n);return"mfaPendingCredential"in a&&ws(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Lz(e,t,i,r){const n=`${t}${i}?${r}`;return e.config.emulator?U4(e.config,n):`${e.config.apiScheme}://${n}`}class tee{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ds(this.auth,"network-request-failed")),ZZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j0(e,t,i){const r={appName:e.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const n=ds(e,t,r);return n.customData._tokenResponse=i,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iee(e,t){return mf(e,"POST","/v1/accounts:delete",t)}async function ree(e,t){return mf(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nee(e,t=!1){const i=ff(e),r=await i.getIdToken(t),n=H4(r);Mt(n&&n.exp&&n.auth_time&&n.iat,i.auth,"internal-error");const a=typeof n.firebase=="object"?n.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:n,token:r,authTime:Jm(p_(n.auth_time)),issuedAtTime:Jm(p_(n.iat)),expirationTime:Jm(p_(n.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function p_(e){return Number(e)*1e3}function H4(e){const[t,i,r]=e.split(".");if(t===void 0||i===void 0||r===void 0)return b1("JWT malformed, contained fewer than 3 sections"),null;try{const n=_z(i);return n?JSON.parse(n):(b1("Failed to decode base64 JWT payload"),null)}catch(n){return b1("Caught error parsing JWT payload as JSON",n==null?void 0:n.toString()),null}}function aee(e){const t=H4(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(e,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof du&&oee(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function oee({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jm(this.lastLoginAt),this.creationTime=Jm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(e){var t;const i=e.auth,r=await e.getIdToken(),n=await Gg(e,ree(i,{idToken:r}));Mt(n==null?void 0:n.users.length,i,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const c=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?uee(a.providerUserInfo):[],l=cee(e.providerData,c),o=e.isAnonymous,s=!(e.email&&a.passwordHash)&&!(l!=null&&l.length),u=o?s:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new zz(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function lee(e){const t=ff(e);await Tb(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cee(e,t){return[...e.filter(r=>!t.some(n=>n.providerId===r.providerId)),...t]}function uee(e){return e.map(t=>{var{providerId:i}=t,r=B4(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dee(e,t){const i=await Nz(e,{},async()=>{const r=Iv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:a}=e.config,c=Lz(e,n,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Rz.fetch()(c,{method:"POST",headers:l,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function hee(e,t){return mf(e,"POST","/v2/accounts:revokeToken",V4(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aee(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}async getToken(t,i=!1){return Mt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:n,expiresIn:a}=await dee(t,i);this.updateTokensAndExpiration(r,n,Number(a))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:n,expirationTime:a}=i,c=new Wg;return r&&(Mt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),n&&(Mt(typeof n=="string","internal-error",{appName:t}),c.accessToken=n),a&&(Mt(typeof a=="number","internal-error",{appName:t}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wg,this.toJSON())}_performRefresh(){return cl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class dd{constructor(t){var{uid:i,auth:r,stsTokenManager:n}=t,a=B4(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new see(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zz(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const i=await Gg(this,this.stsTokenManager.getToken(this.auth,t));return Mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return nee(this,t)}reload(){return lee(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new dd(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Tb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Gg(this,iee(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,n,a,c,l,o,s,u;const d=(r=i.displayName)!==null&&r!==void 0?r:void 0,h=(n=i.email)!==null&&n!==void 0?n:void 0,p=(a=i.phoneNumber)!==null&&a!==void 0?a:void 0,m=(c=i.photoURL)!==null&&c!==void 0?c:void 0,f=(l=i.tenantId)!==null&&l!==void 0?l:void 0,g=(o=i._redirectEventId)!==null&&o!==void 0?o:void 0,v=(s=i.createdAt)!==null&&s!==void 0?s:void 0,S=(u=i.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:C}=i;Mt(x&&C,t,"internal-error");const E=Wg.fromJSON(this.name,C);Mt(typeof x=="string",t,"internal-error"),Hl(d,t.name),Hl(h,t.name),Mt(typeof b=="boolean",t,"internal-error"),Mt(typeof _=="boolean",t,"internal-error"),Hl(p,t.name),Hl(m,t.name),Hl(f,t.name),Hl(g,t.name),Hl(v,t.name),Hl(S,t.name);const A=new dd({uid:x,auth:t,email:h,emailVerified:b,displayName:d,isAnonymous:_,photoURL:m,phoneNumber:p,tenantId:f,stsTokenManager:E,createdAt:v,lastLoginAt:S});return w&&Array.isArray(w)&&(A.providerData=w.map(T=>Object.assign({},T))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(t,i,r=!1){const n=new Wg;n.updateFromServerResponse(i);const a=new dd({uid:i.localId,auth:t,stsTokenManager:n,isAnonymous:r});return await Tb(a),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Map;function ul(e){jl(e instanceof Function,"Expected a class definition");let t=lP.get(e);return t?(jl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,lP.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Bz.type="NONE";const cP=Bz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e,t,i){return`firebase:${e}:${t}:${i}`}class fp{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:n,name:a}=this.auth;this.fullUserKey=x1(this.userKey,n.apiKey,a),this.fullPersistenceKey=x1("persistence",n.apiKey,a),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?dd._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new fp(ul(cP),t,r);const n=(await Promise.all(i.map(async s=>{if(await s._isAvailable())return s}))).filter(s=>s);let a=n[0]||ul(cP);const c=x1(r,t.config.apiKey,t.name);let l=null;for(const s of i)try{const u=await s._get(c);if(u){const d=dd._fromJSON(t,u);s!==a&&(l=d),a=s;break}}catch{}const o=n.filter(s=>s._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new fp(a,t,r):(a=o[0],l&&await a._set(c,l.toJSON()),await Promise.all(i.map(async s=>{if(s!==a)try{await s._remove(c)}catch{}})),new fp(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vz(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fz(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gz(t))return"Blackberry";if(Wz(t))return"Webos";if(G4(t))return"Safari";if((t.includes("chrome/")||Uz(t))&&!t.includes("edge/"))return"Chrome";if(Hz(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fz(e=xn()){return/firefox\//i.test(e)}function G4(e=xn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Uz(e=xn()){return/crios\//i.test(e)}function Vz(e=xn()){return/iemobile/i.test(e)}function Hz(e=xn()){return/android/i.test(e)}function Gz(e=xn()){return/blackberry/i.test(e)}function Wz(e=xn()){return/webos/i.test(e)}function N2(e=xn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pee(e=xn()){var t;return N2(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function fee(){return M$()&&document.documentMode===10}function qz(e=xn()){return N2(e)||Hz(e)||Wz(e)||Gz(e)||/windows phone/i.test(e)||Vz(e)}function mee(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(e,t=[]){let i;switch(e){case"Browser":i=uP(xn());break;case"Worker":i=`${uP(xn())}-${e}`;break;default:i=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Pv}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=a=>new Promise((c,l)=>{try{const o=t(a);c(o)}catch(o){l(o)}});r.onAbort=i,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const n of i)try{n()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vee(e,t={}){return mf(e,"GET","/v2/passwordPolicy",V4(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee=6;class bee{constructor(t){var i,r,n,a;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=c.minPasswordLength)!==null&&i!==void 0?i:yee,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(n=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&n!==void 0?n:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,r,n,a,c,l;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,o),this.validatePasswordCharacterOptions(t,o),o.isValid&&(o.isValid=(i=o.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(n=o.containsLowercaseLetter)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(a=o.containsUppercaseLetter)!==null&&a!==void 0?a:!0),o.isValid&&(o.isValid=(c=o.containsNumericCharacter)!==null&&c!==void 0?c:!0),o.isValid&&(o.isValid=(l=o.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),o}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),n&&(i.meetsMaxPasswordLength=t.length<=n)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let n=0;n<t.length;n++)r=t.charAt(n),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,n,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(t,i,r,n){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dP(this),this.idTokenSubscription=new dP(this),this.beforeStateQueue=new gee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ul(i)),this._initializationPromise=this.queue(async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await fp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((n=this.currentUser)===null||n===void 0?void 0:n.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var i;const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(t);(!c||c===l)&&(o!=null&&o.user)&&(n=o.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(c){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Tb(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QZ()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const i=t?ff(t):null;return i&&Mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ul(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vee(this),i=new bee(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new jv("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await hee(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ul(t)||this._popupRedirectResolver;Mt(i,this,"argument-error"),this.redirectPersistenceManager=await fp.create(this,[ul(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,n){if(this._deleted)return()=>{};const a=typeof i=="function"?i:i.next.bind(i);let c=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(l,this,"internal-error"),l.then(()=>{c||a(this.currentUser)}),typeof i=="function"){const o=t.addObserver(i,r,n);return()=>{c=!0,o()}}else{const o=t.addObserver(i);return()=>{c=!0,o()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Yz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(i["X-Firebase-AppCheck"]=n),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&YZ(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function L2(e){return ff(e)}class dP{constructor(t){this.auth=t,this.observer=null,this.addObserver=R$(i=>this.observer=i)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function _ee(e){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=n=>{const a=ds("internal-error");a.customData=n,i(a)},r.type="text/javascript",r.charset="UTF-8",wee().appendChild(r)})}function See(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(e,t){const i=Mz(e,"auth");if(i.isInitialized()){const n=i.getImmediate(),a=i.getOptions();if(Sb(a,t??{}))return n;ws(n,"already-initialized")}return i.initialize({options:t})}function Eee(e,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ul);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Tee(e,t,i){const r=L2(e);Mt(r._canInitEmulator,r,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const n=!1,a=Kz(t),{host:c,port:l}=Aee(t),o=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${c}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:n})}),Mee()}function Kz(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Aee(e){const t=Kz(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(r);if(n){const a=n[1];return{host:a,port:hP(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:hP(c)}}}function hP(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Mee(){function e(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return cl("not implemented")}_getIdTokenResponse(t){return cl("not implemented")}_linkToIdToken(t,i){return cl("not implemented")}_getReauthenticationResolver(t){return cl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(e,t){return eee(e,"POST","/v1/accounts:signInWithIdp",V4(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="http://localhost";class Ad extends Xz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ad(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:n}=i,a=B4(i,["providerId","signInMethod"]);if(!r||!n)return null;const c=new Ad(r,n);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(t){const i=this.buildRequest();return mp(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,mp(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,mp(t,i)}buildRequest(){const t={requestUri:jee,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Iv(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends W4{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Dv{constructor(){super("facebook.com")}static credential(t){return Ad._fromParams({providerId:fc.PROVIDER_ID,signInMethod:fc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fc.credentialFromTaggedObject(t)}static credentialFromError(t){return fc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fc.credential(t.oauthAccessToken)}catch{return null}}}fc.FACEBOOK_SIGN_IN_METHOD="facebook.com";fc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends Dv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ad._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return nl.credentialFromTaggedObject(t)}static credentialFromError(t){return nl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return nl.credential(i,r)}catch{return null}}}nl.GOOGLE_SIGN_IN_METHOD="google.com";nl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Dv{constructor(){super("github.com")}static credential(t){return Ad._fromParams({providerId:mc.PROVIDER_ID,signInMethod:mc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mc.credentialFromTaggedObject(t)}static credentialFromError(t){return mc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mc.credential(t.oauthAccessToken)}catch{return null}}}mc.GITHUB_SIGN_IN_METHOD="github.com";mc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Dv{constructor(){super("twitter.com")}static credential(t,i){return Ad._fromParams({providerId:gc.PROVIDER_ID,signInMethod:gc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return gc.credentialFromTaggedObject(t)}static credentialFromError(t){return gc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return gc.credential(i,r)}catch{return null}}}gc.TWITTER_SIGN_IN_METHOD="twitter.com";gc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,n=!1){const a=await dd._fromIdTokenResponse(t,r,n),c=pP(r);return new Bp({user:a,providerId:c,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const n=pP(r);return new Bp({user:t,providerId:n,_tokenResponse:r,operationType:i})}}function pP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends du{constructor(t,i,r,n){var a;super(i.code,i.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,Ab.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,n){return new Ab(t,i,r,n)}}function Jz(e,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ab._fromErrorAndOperation(e,a,t,r):a})}async function Iee(e,t,i=!1){const r=await Gg(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return Bp._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pee(e,t,i=!1){const{auth:r}=e,n="reauthenticate";try{const a=await Gg(e,Jz(r,n,t,e),i);Mt(a.idToken,r,"internal-error");const c=H4(a.idToken);Mt(c,r,"internal-error");const{sub:l}=c;return Mt(e.uid===l,r,"user-mismatch"),Bp._forOperation(e,n,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ws(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(e,t,i=!1){const r="signIn",n=await Jz(e,r,t),a=await Bp._fromIdTokenResponse(e,r,n);return i||await e._updateCurrentUser(a.user),a}function Dee(e,t,i,r){return ff(e).onIdTokenChanged(t,i,r)}function Oee(e,t,i){return ff(e).beforeAuthStateChanged(t,i)}const Mb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Mb,"1"),this.storage.removeItem(Mb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(){const e=xn();return G4(e)||N2(e)}const Nee=1e3,Lee=10;class $z extends Qz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ree()&&mee(),this.fallbackToPolling=qz(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),n=this.localCache[i];r!==n&&t(i,n,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,l,o)=>{this.notifyListeners(c,o)});return}const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(r);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const n=()=>{const c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);fee()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(n,Lee):n()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const n of Array.from(r))n(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Nee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}$z.type="LOCAL";const zee=$z;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz extends Qz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Zz.type="SESSION";const eB=Zz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(n=>n.isListeningto(t));if(i)return i;const r=new z2(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:n,data:a}=i.data,c=this.handlersMap[n];if(!(c!=null&&c.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const l=Array.from(c).map(async s=>s(i.origin,a)),o=await Bee(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:o})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}z2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(e="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return e+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const n=typeof MessageChannel<"u"?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let a,c;return new Promise((l,o)=>{const s=q4("",20);n.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},r);c={messageChannel:n,onMessage(d){const h=d;if(h.data.eventId===s)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(h.data.response);break;default:clearTimeout(u),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(c),n.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:s,data:i},[n.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return window}function Uee(e){hs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(){return typeof hs().WorkerGlobalScope<"u"&&typeof hs().importScripts=="function"}async function Vee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hee(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Gee(){return tB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="firebaseLocalStorageDb",Wee=1,jb="firebaseLocalStorage",rB="fbase_key";class Ov{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function B2(e,t){return e.transaction([jb],t?"readwrite":"readonly").objectStore(jb)}function qee(){const e=indexedDB.deleteDatabase(iB);return new Ov(e).toPromise()}function KE(){const e=indexedDB.open(iB,Wee);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(jb,{keyPath:rB})}catch(n){i(n)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(jb)?t(r):(r.close(),await qee(),t(await KE()))})})}async function fP(e,t,i){const r=B2(e,!0).put({[rB]:t,value:i});return new Ov(r).toPromise()}async function Yee(e,t){const i=B2(e,!1).get(t),r=await new Ov(i).toPromise();return r===void 0?null:r.value}function mP(e,t){const i=B2(e,!0).delete(t);return new Ov(i).toPromise()}const Kee=800,Xee=3;class nB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await KE(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Xee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=z2._getInstance(Gee()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Vee(),!this.activeServiceWorker)return;this.sender=new Fee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Hee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await KE();return await fP(t,Mb,"1"),await mP(t,Mb),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>fP(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Yee(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mP(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(n=>{const a=B2(n,!1).getAll();return new Ov(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:n,value:a}of t)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(a)&&(this.notifyListeners(n,a),i.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),i.push(n));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const n of Array.from(r))n(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nB.type="LOCAL";const Jee=nB;new kv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(e,t){return t?ul(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4 extends Xz{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return mp(t,this._buildIdpRequest())}_linkToIdToken(t,i){return mp(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return mp(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Qee(e){return kee(e.auth,new Y4(e),e.bypassAuthState)}function $ee(e){const{auth:t,user:i}=e;return Mt(i,t,"internal-error"),Pee(i,new Y4(e),e.bypassAuthState)}async function Zee(e){const{auth:t,user:i}=e;return Mt(i,t,"internal-error"),Iee(i,new Y4(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(t,i,r,n,a=!1){this.auth=t,this.resolver=r,this.user=n,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:n,tenantId:a,error:c,type:l}=t;if(c){this.reject(c);return}const o={auth:this.auth,requestUri:i,sessionId:r,tenantId:a||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(s){this.reject(s)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Qee;case"linkViaPopup":case"linkViaRedirect":return Zee;case"reauthViaPopup":case"reauthViaRedirect":return $ee;default:ws(this.auth,"internal-error")}}resolve(t){jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=new kv(2e3,1e4);async function Rv(e,t,i){const r=L2(e);KZ(e,t,W4);const n=aB(r,i);return new Qu(r,"signInViaPopup",t,n).executeNotNull()}class Qu extends oB{constructor(t,i,r,n,a){super(t,i,n,a),this.provider=r,this.authWindow=null,this.pollId=null,Qu.currentPopupAction&&Qu.currentPopupAction.cancel(),Qu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){jl(this.filter.length===1,"Popup operations only handle one event");const t=q4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ete.get())};t()}}Qu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte="pendingRedirect",w1=new Map;class ite extends oB{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=w1.get(this.auth._key());if(!t){try{const r=await rte(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}w1.set(this.auth._key(),t)}return this.bypassAuthState||w1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rte(e,t){const i=ote(t),r=ate(e);if(!await r._isAvailable())return!1;const n=await r._get(i)==="true";return await r._remove(i),n}function nte(e,t){w1.set(e._key(),t)}function ate(e){return ul(e._redirectPersistence)}function ote(e){return x1(tte,e.config.apiKey,e.name)}async function ste(e,t,i=!1){const r=L2(e),n=aB(r,t),c=await new ite(r,n,i).execute();return c&&!i&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=10*60*1e3;class cte{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ute(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!sB(t)){const n=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(ds(this.auth,n))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lte&&this.cachedEventUids.clear(),this.cachedEventUids.has(gP(t))}saveEventToCache(t){this.cachedEventUids.add(gP(t)),this.lastProcessedEventTime=Date.now()}}function gP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function sB({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ute(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sB(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dte(e,t={}){return mf(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pte=/^https?/;async function fte(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dte(e);for(const i of t)try{if(mte(i))return}catch{}ws(e,"unauthorized-domain")}function mte(e){const t=YE(),{protocol:i,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===r}if(!pte.test(i))return!1;if(hte.test(e))return r===e;const n=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=new kv(3e4,6e4);function vP(){const e=hs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function vte(e){return new Promise((t,i)=>{var r,n,a;function c(){vP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vP(),i(ds(e,"network-request-failed"))},timeout:gte.get()})}if(!((n=(r=hs().gapi)===null||r===void 0?void 0:r.iframes)===null||n===void 0)&&n.Iframe)t(gapi.iframes.getContext());else if(!((a=hs().gapi)===null||a===void 0)&&a.load)c();else{const l=See("iframefcb");return hs()[l]=()=>{gapi.load?c():i(ds(e,"network-request-failed"))},_ee(`https://apis.google.com/js/api.js?onload=${l}`).catch(o=>i(o))}}).catch(t=>{throw _1=null,t})}let _1=null;function yte(e){return _1=_1||vte(e),_1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=new kv(5e3,15e3),xte="__/auth/iframe",wte="emulator/auth/iframe",_te={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ste=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cte(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const i=t.emulator?U4(t,wte):`https://${e.config.authDomain}/${xte}`,r={apiKey:t.apiKey,appName:e.name,v:Pv},n=Ste.get(e.config.apiHost);n&&(r.eid=n);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${i}?${Iv(r).slice(1)}`}async function Ete(e){const t=await yte(e),i=hs().gapi;return Mt(i,e,"internal-error"),t.open({where:document.body,url:Cte(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_te,dontclear:!0},r=>new Promise(async(n,a)=>{await r.restyle({setHideOnLeave:!1});const c=ds(e,"network-request-failed"),l=hs().setTimeout(()=>{a(c)},bte.get());function o(){hs().clearTimeout(l),n(r)}r.ping(o).then(o,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ate=500,Mte=600,jte="_blank",Ite="http://localhost";class yP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pte(e,t,i,r=Ate,n=Mte){const a=Math.max((window.screen.availHeight-n)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const o=Object.assign(Object.assign({},Tte),{width:r.toString(),height:n.toString(),top:a,left:c}),s=xn().toLowerCase();i&&(l=Uz(s)?jte:i),Fz(s)&&(t=t||Ite,o.scrollbars="yes");const u=Object.entries(o).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(pee(s)&&l!=="_self")return kte(t||"",l),new yP(null);const d=window.open(t||"",l,u);Mt(d,e,"popup-blocked");try{d.focus()}catch{}return new yP(d)}function kte(e,t){const i=document.createElement("a");i.href=e,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte="__/auth/handler",Ote="emulator/auth/handler",Rte=encodeURIComponent("fac");async function bP(e,t,i,r,n,a){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:r,v:Pv,eventId:n};if(t instanceof W4){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",O$(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries({}))c[u]=d}if(t instanceof Dv){const u=t.getScopes().filter(d=>d!=="");u.length>0&&(c.scopes=u.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const o=await e._getAppCheckToken(),s=o?`#${Rte}=${encodeURIComponent(o)}`:"";return`${Nte(e)}?${Iv(l).slice(1)}${s}`}function Nte({config:e}){return e.emulator?U4(e,Ote):`https://${e.authDomain}/${Dte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="webStorageSupport";class Lte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eB,this._completeRedirectFn=ste,this._overrideRedirectResult=nte}async _openPopup(t,i,r,n){var a;jl((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await bP(t,i,r,YE(),n);return Pte(t,c,q4())}async _openRedirect(t,i,r,n){await this._originValidation(t);const a=await bP(t,i,r,YE(),n);return Uee(a),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:n,promise:a}=this.eventManagers[i];return n?Promise.resolve(n):(jl(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Ete(t),r=new cte(t);return i.register("authEvent",n=>(Mt(n==null?void 0:n.authEvent,t,"invalid-auth-event"),{status:r.onEvent(n.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(f_,{type:f_},n=>{var a;const c=(a=n==null?void 0:n[0])===null||a===void 0?void 0:a[f_];c!==void 0&&i(!!c),ws(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=fte(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return qz()||G4()||N2()}}const zte=Lte;var xP="@firebase/auth",wP="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Ute(e){Vg(new zp("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:c,authDomain:l}=r.options;Mt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:c,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yz(e)},s=new xee(r,n,a,o);return Eee(s,i),s},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Vg(new zp("auth-internal",t=>{const i=L2(t.getProvider("auth").getImmediate());return(r=>new Bte(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),pp(xP,wP,Fte(e)),pp(xP,wP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=5*60,Hte=Cz("authIdTokenMaxAge")||Vte;let _P=null;const Gte=e=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Hte)return;const n=i==null?void 0:i.token;_P!==n&&(_P=n,await fetch(e,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))};function Wte(e=OZ()){const t=Mz(e,"auth");if(t.isInitialized())return t.getImmediate();const i=Cee(e,{popupRedirectResolver:zte,persistence:[Jee,zee,eB]}),r=Cz("authTokenSyncURL");if(r){const a=Gte(r);Oee(i,a,()=>a(i.currentUser)),Dee(i,c=>a(c))}const n=S$("auth");return n&&Tee(i,`http://${n}`),i}Ute("Browser");const qte={apiKey:"AIzaSyDjIuZGPRNXI_GYJcaUOvZKg5BsRpXQgSs",authDomain:"cognizance-2024-17ff7.firebaseapp.com",projectId:"cognizance-2024-17ff7",storageBucket:"cognizance-2024-17ff7.appspot.com",messagingSenderId:"748735412679",appId:"1:748735412679:web:2210bc94e05ae08a44c1e2",measurementId:"G-W6341H4FSV"},Yte=jz(qte),Nv=Wte(Yte),Lv=new nl;function Kte(){const[e,t]=z.useState(null),i=()=>{Rv(Nv,Lv).then(n=>{const a=n.user;console.log(a),t(a)}).catch(n=>{console.log(n)})},r=()=>{t(null)};return y.jsx("div",{className:"wrapper",children:y.jsx("div",{className:"box",children:e?y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn btn-secondary btn-md",onClick:r,children:"LOGOUT"}),y.jsxs("h3",{children:["Welcome ",e.displayName]}),y.jsx("p",{children:e.email}),y.jsx("div",{className:"photo",children:y.jsx("img",{src:e.photoURL,alt:"dp",referrerPolicy:"no-referrer"})})]}):y.jsx("button",{className:"btn btn-danger btn-md",onClick:i,style:{position:"absolute",left:"100px",top:"200px"},children:"Sign In With Google"})})})}const lB="/assets/gauth-img-DADZ3U3H.png",cB="/assets/robot-image-CA-dpsly.png",K4="/assets/loaderImage-BwXEHi_K.png",Xte=()=>{const e=As(),[t,i]=z.useState(""),[r,n]=z.useState(null),[a,c]=z.useState(""),[l,o]=z.useState(""),[s,u]=z.useState(""),[d,h]=z.useState(!1),[p,m]=z.useState(!1),[f,g]=z.useState(!0);function v(_){console.log("clicked");const w=document.getElementById("reg-pwd");w.type==="password"?(g(!1),w.type="text"):(g(!0),w.type="password")}const S=async()=>{if(t.length==0){o("email"),c("Email cannot be empty");return}if(t.includes("@")==!1){o("email"),c("Invalid Email");return}const _={email:t},C=await(await fetch(Le+"api/coordi/forgetpass",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(_)})).json();c(""),setTimeout(()=>{alert("A verification code has been sent to your mail- "+t),e("/resetpass")},1e3),console.log(C)},x=async _=>{Rv(Nv,Lv).then(async w=>{const C=w.user;n(C);const E={email:C.email,password:C.uid},A=await fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(E)});if(A.ok){const T=await A.json();Tl(T.token),setTimeout(()=>window.location.href=`${_r}newSecondaryForm`,1e3)}else{const T=await A.json();alert(T.message)}}).catch(w=>{console.log(w)})},b=async _=>{_.preventDefault(),m(!0);const w={email:t.toLowerCase(),password:s};console.log(w);try{if(console.log("started try"),t.length==0)throw console.log("email"),o("email"),new Error("Email cannot be empty");if(s.length==0)throw console.log("pwd"),o("pwd"),new Error("Password cannot be empty")}catch(E){c(E.message),m(!1)}t&&s&&(async()=>{const E=await fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(w)});if(console.log(E),E.ok){const A=await E.json();Tl(A.token),setTimeout(()=>window.location.href=`${_r}newSecondaryForm`,1e3)}else{const A=await E.json();alert(A.message),m(!1)}})()};return y.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[y.jsx("section",{className:"login-info-redirect",children:y.jsxs("a",{href:"/ca/register",children:["Click",y.jsx("span",{style:{color:"blue"},children:" here"}),"  to signup as a CA"]})}),y.jsxs("div",{className:"login-page-image-plus-main-container",children:[y.jsx("div",{className:"image-holder",children:y.jsx("img",{className:"robot-image",src:cB,alt:"robot"})}),y.jsxs("div",{className:"signup-main-container",id:"container",children:[y.jsxs("div",{className:"signup-upper",children:[y.jsxs("svg",{className:"signup-img",xmlns:"http://www.w3.org/2000/svg",width:39,height:38,viewBox:"0 0 39 38",fill:"none",children:[y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.2417 19.6639C24.1165 17.9887 22.2179 17.5978 22.2179 17.5978C22.2179 17.5978 23.4364 18.7425 24.7682 20.5015C26.1 22.2326 27.0918 24.4383 27.0918 24.4383L29.6422 23.6007C29.6138 23.5728 28.0553 21.0878 26.2417 19.6639Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1026 21.3186C20.1026 21.3186 19.3375 22.7705 18.0056 24.5295C16.6738 26.2605 14.8319 27.852 14.8319 27.852L16.3904 30.0019C16.3904 30.0019 18.374 27.8241 19.2525 25.6742C20.2726 23.2172 20.1026 21.3186 20.1026 21.3186Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3608 19.3843C10.2355 18.7423 8.11022 17.542 8.11022 17.542L6.5517 19.6914C6.5517 19.6914 9.30037 20.808 11.6523 20.9196C14.3727 21.0313 16.1579 20.2776 16.1579 20.2776C16.1579 20.2776 14.486 20.0543 12.3608 19.3843Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9308 7.7465L13.4088 6.96472C13.4088 6.96472 13.1821 9.84054 13.8056 12.0463C14.514 14.587 15.8175 16.011 15.8175 16.011C15.8175 16.011 15.5341 14.4195 15.4774 12.2417C15.4491 10.0918 15.9308 7.7465 15.9308 7.7465Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8562 11.5398C20.5326 12.9358 19.4841 14.5273 19.4841 14.5273C19.4841 14.5273 20.986 13.8013 23.1396 13.1592C25.2648 12.517 27.7018 12.3216 27.7018 12.3216L27.7868 9.75286C27.7585 9.72494 24.8681 10.3392 22.8562 11.5398Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0756 11.5688C10.9705 8.38583 11.4522 4.53279 11.4522 4.53279L4.84972 3.27637C4.84972 3.27637 3.88627 10.2565 6.97498 14.0537C10.5738 18.4651 17.1479 19.2469 17.1479 19.2469C17.1479 19.2469 14.0875 17.3483 12.0756 11.5688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.0513 0.679688C29.0513 0.679688 21.9671 1.85235 19.1618 5.87291C15.9314 10.5077 17.1499 16.9015 17.1499 16.9015C17.1499 16.9015 18.085 13.4952 23.1289 9.86555C25.9059 7.88319 29.8164 7.18517 29.8164 7.18517L29.0513 0.679688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.8595 14.3055C25.3622 12.6582 19.5248 15.7015 19.5248 15.7015C19.5248 15.7015 23.1236 15.5619 28.1392 19.1916C30.9162 21.1739 32.7581 24.6361 32.7581 24.6361L38.8505 21.9836C38.8788 22.0115 35.5918 15.7294 30.8595 14.3055Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2562 17.9601C21.2562 17.9601 22.503 21.2547 20.5194 27.0343C19.4426 30.2172 16.6656 32.9813 16.6656 32.9813L21.0578 37.8116C21.0578 37.8116 26.1301 32.8417 26.0734 28.0394C25.9884 22.4274 21.2562 17.9601 21.2562 17.9601Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4923 22.0702C7.06355 22.0144 3.4931 20.2554 3.4931 20.2554L0.149353 25.8953C0.149353 25.8953 6.55348 29.162 11.2291 27.5985C16.6697 25.7836 19.5601 19.9482 19.5601 19.9482C19.5601 19.9482 16.7264 22.154 10.4923 22.0702Z",fill:"#FFBD00"})]}),y.jsx("div",{className:"signup-page-collageName",children:"COGNIZANCE IIT ROORKEE"})]}),y.jsx("form",{onSubmit:b,children:y.jsxs("div",{className:"signup-container-form1",id:"form1",children:[y.jsx(Rt,{to:"/",children:y.jsxs("svg",{className:"signup-page-svg",xmlns:"http://www.w3.org/2000/svg",width:29,height:29,viewBox:"0 0 29 29",fill:"none",children:[y.jsx("rect",{x:"0.367684",y:"0.367684",width:"27.944",height:"27.944",rx:"7.63232",stroke:"#D8DADC",strokeWidth:"0.735369"}),y.jsx("path",{d:"M11.0312 14.3364C11.0312 14.4443 11.0508 14.544 11.0898 14.6353C11.1331 14.7267 11.1981 14.8139 11.2848 14.8969L16.3493 19.643C16.4967 19.7842 16.6744 19.8548 16.8824 19.8548C17.0254 19.8548 17.1533 19.8215 17.266 19.7551C17.383 19.6928 17.4762 19.6056 17.5455 19.4935C17.6149 19.3855 17.6496 19.2651 17.6496 19.1323C17.6496 18.9329 17.5694 18.7565 17.409 18.6028L12.8451 14.3364L17.409 10.0699C17.5694 9.91627 17.6496 9.74187 17.6496 9.54672C17.6496 9.40969 17.6149 9.2872 17.5455 9.17924C17.4762 9.07128 17.383 8.98616 17.266 8.92387C17.1533 8.85744 17.0254 8.82422 16.8824 8.82422C16.6744 8.82422 16.4967 8.89273 16.3493 9.02976L11.2848 13.7758C11.1981 13.8589 11.1331 13.9461 11.0898 14.0374C11.0508 14.1288 11.0312 14.2284 11.0312 14.3364Z",fill:"white",fillOpacity:"0.8"})]})}),y.jsx("div",{className:"signup-text",children:"Login"}),y.jsx("div",{className:"signup-texts",children:"to help us know you better"}),a&&y.jsx("div",{className:"error-message",children:a}),y.jsx("legend",{className:"signup-legend",children:"Email *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"email",name:"userEmail",onChange:_=>i(_.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"Password *"}),y.jsxs("div",{className:"Newsignup-page-inputbox",id:"unique-width-specifier",children:[y.jsx("input",{type:"password",name:"pwd",id:"reg-pwd",onChange:_=>u(_.target.value)}),f?y.jsxs("svg",{width:"24",onClick:v,className:"eye-button-login-page",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[y.jsx("title",{children:"eye"}),y.jsxs("g",{fill:"none",className:"nc-icon-wrapper",children:[y.jsx("path",{d:"M21.25 9.15C18.94 5.52 15.56 3.43 12 3.43c-1.78 0-3.51.52-5.09 1.49-1.58.98-3 2.41-4.16 4.23-1 1.57-1 4.12 0 5.69 2.31 3.64 5.69 5.72 9.25 5.72 1.78 0 3.51-.52 5.09-1.49 1.58-.98 3-2.41 4.16-4.23 1-1.56 1-4.12 0-5.69zM12 16.04c-2.24 0-4.04-1.81-4.04-4.04S9.76 7.96 12 7.96s4.04 1.81 4.04 4.04-1.8 4.04-4.04 4.04z",fill:"#292D32"}),y.jsx("path",{d:"M11.998 9.14a2.855 2.855 0 0 0 0 5.71c1.57 0 2.86-1.28 2.86-2.85s-1.29-2.86-2.86-2.86z",fill:"#292D32"})]})]}):y.jsxs("svg",{className:"eye-button-login-page",onClick:v,xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.7337 6.8682C30.9303 6.65717 31.0373 6.37806 31.0323 6.08966C31.0272 5.80127 30.9103 5.5261 30.7064 5.32214C30.5024 5.11819 30.2273 5.00136 29.9389 4.99627C29.6505 4.99118 29.3714 5.09823 29.1603 5.29487L5.41193 29.0433C5.30255 29.1452 5.21483 29.2681 5.15399 29.4046C5.09314 29.5412 5.06043 29.6886 5.05779 29.8381C5.05515 29.9875 5.08265 30.136 5.13864 30.2746C5.19463 30.4132 5.27796 30.5391 5.38367 30.6449C5.48938 30.7506 5.61529 30.8339 5.75391 30.8899C5.89252 30.9459 6.04099 30.9734 6.19046 30.9707C6.33993 30.9681 6.48734 30.9354 6.62389 30.8745C6.76045 30.8137 6.88334 30.726 6.98526 30.6166L11.49 26.1118C13.4463 27.0143 15.6861 27.6035 18.0728 27.6035C21.9586 27.6035 25.4526 26.0435 27.9699 24.111C29.2316 23.1433 30.2661 22.0687 30.9904 21.0237C31.7029 19.9966 32.1734 18.919 32.1734 17.9557C32.1734 16.9924 31.7029 15.9149 30.9904 14.8892C30.2661 13.8428 29.2316 12.7682 27.9699 11.8019C27.5692 11.4932 27.1417 11.1934 26.6935 10.9099L30.7337 6.8682ZM22.7186 14.8863L21.0859 16.516C21.3835 17.1392 21.4806 17.8393 21.3638 18.52C21.247 19.2006 20.9221 19.8284 20.4338 20.3167C19.9454 20.805 19.3177 21.13 18.637 21.2468C17.9564 21.3635 17.2562 21.2664 16.633 20.9688L15.0003 22.6015C16.0707 23.3102 17.3531 23.6271 18.6304 23.4986C19.9076 23.3701 21.1012 22.8041 22.0089 21.8963C22.9167 20.9886 23.4827 19.795 23.6112 18.5178C23.7397 17.2405 23.4228 15.9581 22.7141 14.8877L22.7186 14.8863Z",fill:"black"}),y.jsx("path",{d:"M19.0672 12.4789C19.1283 12.4904 19.1912 12.4869 19.2507 12.4688C19.3101 12.4507 19.3643 12.4185 19.4086 12.375L22.303 9.48068C22.348 9.43643 22.3806 9.38115 22.3975 9.32035C22.4144 9.25956 22.4151 9.19539 22.3995 9.13424C22.3839 9.0731 22.3525 9.01712 22.3085 8.97191C22.2644 8.9267 22.2093 8.89383 22.1486 8.87658C20.8221 8.50272 19.4509 8.31146 18.0728 8.30811C14.1869 8.30811 10.693 9.86808 8.17563 11.8006C6.914 12.7684 5.87946 13.843 5.15365 14.8879C4.4412 15.915 3.97217 16.9926 3.97217 17.9559C3.97217 18.9192 4.44268 19.9968 5.15365 21.0224C5.85996 22.0137 6.69445 22.9071 7.63536 23.6793C7.70577 23.7375 7.79543 23.7671 7.88666 23.7625C7.97788 23.7578 8.06404 23.7191 8.12814 23.654L12.4919 19.2903C12.5354 19.2459 12.5676 19.1917 12.5857 19.1323C12.6038 19.0729 12.6072 19.0099 12.5958 18.9489C12.435 18.0637 12.4911 17.1527 12.7594 16.2939C13.0277 15.4351 13.5002 14.6542 14.1364 14.018C14.7726 13.3818 15.5535 12.9093 16.4123 12.641C17.271 12.3727 18.182 12.3166 19.0672 12.4774V12.4789Z",fill:"black"})]})]}),y.jsx("div",{className:"forgot-wale-ka-dabba",children:y.jsxs("p",{className:"forgot_password",onClick:S,children:["forget password?"," "]})}),y.jsx("div",{className:"loader",children:p?y.jsx("div",{className:"signup-page-btn loaderImg-holder",children:y.jsx("img",{src:K4,alt:"",className:"signup-page-loaderImg"})}):y.jsx("input",{type:"submit",className:"signup-page-btn",value:"Login"})})]})}),y.jsx("button",{className:"login-page-btn-google",onClick:x,children:y.jsxs("div",{className:"google-image-holder",children:[y.jsx("img",{className:"login-page-google-image",src:lB,alt:"NO"}),y.jsx("p",{className:"login-page-google-image-p",children:"Login with Google "})]})}),y.jsx(Rt,{to:"/register",children:y.jsx("div",{className:"signup-texts",children:"Don't have a account? Sign up"})})]})]})]})},Jte="/Images/login-page-main-image.png",Qte=()=>{const[e,t]=z.useState(""),[i,r]=z.useState(null),[n,a]=z.useState(""),[c,l]=z.useState(""),[o,s]=z.useState(""),[u,d]=z.useState(""),[h,p]=z.useState(""),[m,f]=z.useState(""),[g,v]=z.useState(""),[S,x]=z.useState(""),[b,_]=z.useState(""),[w,C]=z.useState(""),[E,A]=z.useState("false"),[T,M]=z.useState("false"),[j,P]=z.useState("false"),[I,k]=z.useState("true"),[R,O]=z.useState(!1),D=()=>{window.location.href=`${_r}`},L=()=>{p("");var U=document.getElementById("form4");U.style.display="flex";var X=document.getElementById("form1");X.style.display="none";var W=document.getElementById("hr1");W.style.border="1px solid #FFBD00";var ie=document.getElementById("hr2");ie.style.border="1px solid  rgba(245, 245, 245, 0.75)";var Q=document.getElementById("hr3");Q.style.border="1px solid  rgba(245, 245, 245, 0.75)";var ae=document.getElementById("c3");ae.style.display="none";var K=document.getElementById("uc3");K.style.display="flex"},B=()=>{var U=document.getElementById("form1");U.style.display="flex";var X=document.getElementById("form4");X.style.display="none";var W=document.getElementById("uc2");W.style.display="flex";var ie=document.getElementById("c2");ie.style.display="none";var Q=document.getElementById("hr1");Q.style.border="1px solid rgba(245, 245, 245, 0.75)";var ae=document.getElementById("hr2");ae.style.border="1px solid rgba(245, 245, 245, 0.75)"},F=()=>{var U=document.getElementById("form1");U.style.display="flex";var X=document.getElementById("form4");X.style.display="none";var W=document.getElementById("hr1");W.style.border="1px solid  rgba(245, 245, 245, 0.75)"},H=async()=>{try{if(o.length<=0){alert("please enter phone number first");return}const X=(await Rv(Nv,Lv)).user;r(X);const W={role:"cogni_user",name:X.displayName,email:X.email,mobile:o,password:X.uid,type:"remote"};if(console.log("started try"),o.length!==10)throw d("phone"),new Error("Contact number should be 10 digits");{p("");const Q=await(await fetch(`${Le}api/session/users/signup/cogni_user`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(W)})).json();console.log(Q),console.log(Q.message);const ae={email:X.email,password:X.uid};try{const K=await fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(ae)});if(K.ok){const te=await K.json();Tl(te.token),window.location.href=`${_r}newSecondaryForm`}else{const te=await K.json();alert(te.message)}}catch(K){console.log(K)}}}catch(U){console.log(U)}},ee=U=>{U.preventDefault(),O(!0);const X={role:"cogni_user",name:n,collageName:m,collageState:g,collageCity:S,branch:b,year:w,mobile:o,email:e.toLowerCase(),password:c,type:"remote"};try{if(console.log("started try"),o.length!==10)throw O(!1),console.log("phone"),B(),d("phone"),new Error("Contact number should be 10 digits");if(n.length==0&&E=="false")throw console.log("username"),O(!1),L(),d("username"),new Error("Username cannot be empty");if(e.length==0&&T=="false")throw console.log("userEmail"),L(),d("userEmail"),O(!1),new Error("Email cannot be empty");if(!e.includes("@")&&T=="false")throw console.log("userEmail"),L(),d("userEmail"),O(!1),new Error("Email must contain a @ symbol");if(c.length==0&&j=="false")throw console.log("pwd"),L(),d("pwd"),O(!1),new Error("Password cannot be empty");p(""),fetch(`${Le}api/session/users/signup/cogni_user`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}).then(W=>W.json()).then(W=>{alert(W.message),window.location.href=`${_r}login`}),console.log("done")}catch(W){p(W.message)}};return y.jsxs(y.Fragment,{children:[y.jsx("section",{className:"login-info-redirect",style:{position:"absolute"},children:y.jsxs("a",{href:"/ca/register",children:["Click",y.jsx("span",{style:{color:"blue"},children:" here"}),"  to signup as a CA"]})}),y.jsxs("div",{className:"signup-page-image-plus-main-container",children:[y.jsx("div",{className:"image-holder",children:y.jsx("img",{className:"robot-image",src:Jte,alt:"robot"})}),y.jsxs("div",{className:"signup-main-container",id:"container",children:[y.jsxs("div",{className:"signup-upper",children:[y.jsxs("svg",{className:"signup-img",xmlns:"http://www.w3.org/2000/svg",width:39,height:38,viewBox:"0 0 39 38",fill:"none",children:[y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.2417 19.6639C24.1165 17.9887 22.2179 17.5978 22.2179 17.5978C22.2179 17.5978 23.4364 18.7425 24.7682 20.5015C26.1 22.2326 27.0918 24.4383 27.0918 24.4383L29.6422 23.6007C29.6138 23.5728 28.0553 21.0878 26.2417 19.6639Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1026 21.3186C20.1026 21.3186 19.3375 22.7705 18.0056 24.5295C16.6738 26.2605 14.8319 27.852 14.8319 27.852L16.3904 30.0019C16.3904 30.0019 18.374 27.8241 19.2525 25.6742C20.2726 23.2172 20.1026 21.3186 20.1026 21.3186Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3608 19.3843C10.2355 18.7423 8.11022 17.542 8.11022 17.542L6.5517 19.6914C6.5517 19.6914 9.30037 20.808 11.6523 20.9196C14.3727 21.0313 16.1579 20.2776 16.1579 20.2776C16.1579 20.2776 14.486 20.0543 12.3608 19.3843Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9308 7.7465L13.4088 6.96472C13.4088 6.96472 13.1821 9.84054 13.8056 12.0463C14.514 14.587 15.8175 16.011 15.8175 16.011C15.8175 16.011 15.5341 14.4195 15.4774 12.2417C15.4491 10.0918 15.9308 7.7465 15.9308 7.7465Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8562 11.5398C20.5326 12.9358 19.4841 14.5273 19.4841 14.5273C19.4841 14.5273 20.986 13.8013 23.1396 13.1592C25.2648 12.517 27.7018 12.3216 27.7018 12.3216L27.7868 9.75286C27.7585 9.72494 24.8681 10.3392 22.8562 11.5398Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0756 11.5688C10.9705 8.38583 11.4522 4.53279 11.4522 4.53279L4.84972 3.27637C4.84972 3.27637 3.88627 10.2565 6.97498 14.0537C10.5738 18.4651 17.1479 19.2469 17.1479 19.2469C17.1479 19.2469 14.0875 17.3483 12.0756 11.5688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.0513 0.679688C29.0513 0.679688 21.9671 1.85235 19.1618 5.87291C15.9314 10.5077 17.1499 16.9015 17.1499 16.9015C17.1499 16.9015 18.085 13.4952 23.1289 9.86555C25.9059 7.88319 29.8164 7.18517 29.8164 7.18517L29.0513 0.679688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.8595 14.3055C25.3622 12.6582 19.5248 15.7015 19.5248 15.7015C19.5248 15.7015 23.1236 15.5619 28.1392 19.1916C30.9162 21.1739 32.7581 24.6361 32.7581 24.6361L38.8505 21.9836C38.8788 22.0115 35.5918 15.7294 30.8595 14.3055Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2562 17.9601C21.2562 17.9601 22.503 21.2547 20.5194 27.0343C19.4426 30.2172 16.6656 32.9813 16.6656 32.9813L21.0578 37.8116C21.0578 37.8116 26.1301 32.8417 26.0734 28.0394C25.9884 22.4274 21.2562 17.9601 21.2562 17.9601Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4923 22.0702C7.06355 22.0144 3.4931 20.2554 3.4931 20.2554L0.149353 25.8953C0.149353 25.8953 6.55348 29.162 11.2291 27.5985C16.6697 25.7836 19.5601 19.9482 19.5601 19.9482C19.5601 19.9482 16.7264 22.154 10.4923 22.0702Z",fill:"#FFBD00"})]}),y.jsx("div",{className:"signup-page-collageName",children:"COGNIZANCE IIT ROORKEE"}),y.jsxs("div",{className:"signup-progressbar2",children:[y.jsx("svg",{className:"circle",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr1"}),y.jsx("svg",{className:"uncolored_circle",id:"uc2",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c2",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr2"}),y.jsx("svg",{className:"uncolored_circle",id:"uc3",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c3",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr3"}),y.jsx("svg",{className:"uncolored_circle",id:"uc4",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c4",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})})]})]}),y.jsxs("form",{onSubmit:ee,children:[y.jsxs("div",{className:"signup-container-form1",id:"form1",children:[y.jsx(Rt,{to:"/",children:y.jsxs("svg",{className:"signup-page-svg",xmlns:"http://www.w3.org/2000/svg",width:29,height:29,viewBox:"0 0 29 29",fill:"none",children:[y.jsx("rect",{x:"0.367684",y:"0.367684",width:"27.944",height:"27.944",rx:"7.63232",stroke:"#D8DADC",strokeWidth:"0.735369"}),y.jsx("path",{d:"M11.0312 14.3364C11.0312 14.4443 11.0508 14.544 11.0898 14.6353C11.1331 14.7267 11.1981 14.8139 11.2848 14.8969L16.3493 19.643C16.4967 19.7842 16.6744 19.8548 16.8824 19.8548C17.0254 19.8548 17.1533 19.8215 17.266 19.7551C17.383 19.6928 17.4762 19.6056 17.5455 19.4935C17.6149 19.3855 17.6496 19.2651 17.6496 19.1323C17.6496 18.9329 17.5694 18.7565 17.409 18.6028L12.8451 14.3364L17.409 10.0699C17.5694 9.91627 17.6496 9.74187 17.6496 9.54672C17.6496 9.40969 17.6149 9.2872 17.5455 9.17924C17.4762 9.07128 17.383 8.98616 17.266 8.92387C17.1533 8.85744 17.0254 8.82422 16.8824 8.82422C16.6744 8.82422 16.4967 8.89273 16.3493 9.02976L11.2848 13.7758C11.1981 13.8589 11.1331 13.9461 11.0898 14.0374C11.0508 14.1288 11.0312 14.2284 11.0312 14.3364Z",fill:"white",fillOpacity:"0.8"})]})}),y.jsx("div",{className:"signup-text",children:"Fill the registration form"}),y.jsx("div",{className:"signup-texts",children:"to help us you know better"}),h&&y.jsx("div",{className:"error-message",children:h}),y.jsx("legend",{className:"signup-legend",children:"Phone Number *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"number",name:"phone",onChange:U=>s(U.target.value)})}),y.jsx("div",{className:"signup-page-btn1",onClick:L,children:"Next"})]}),y.jsxs("div",{className:"signup-container-form4",id:"form4",children:[y.jsxs("svg",{className:"signup-page-svg",xmlns:"http://www.w3.org/2000/svg",width:29,height:29,viewBox:"0 0 29 29",fill:"none",onClick:()=>F(),children:[y.jsx("rect",{x:"0.367684",y:"0.367684",width:"27.944",height:"27.944",rx:"7.63232",stroke:"#D8DADC",strokeWidth:"0.735369"}),y.jsx("path",{d:"M11.0312 14.3364C11.0312 14.4443 11.0508 14.544 11.0898 14.6353C11.1331 14.7267 11.1981 14.8139 11.2848 14.8969L16.3493 19.643C16.4967 19.7842 16.6744 19.8548 16.8824 19.8548C17.0254 19.8548 17.1533 19.8215 17.266 19.7551C17.383 19.6928 17.4762 19.6056 17.5455 19.4935C17.6149 19.3855 17.6496 19.2651 17.6496 19.1323C17.6496 18.9329 17.5694 18.7565 17.409 18.6028L12.8451 14.3364L17.409 10.0699C17.5694 9.91627 17.6496 9.74187 17.6496 9.54672C17.6496 9.40969 17.6149 9.2872 17.5455 9.17924C17.4762 9.07128 17.383 8.98616 17.266 8.92387C17.1533 8.85744 17.0254 8.82422 16.8824 8.82422C16.6744 8.82422 16.4967 8.89273 16.3493 9.02976L11.2848 13.7758C11.1981 13.8589 11.1331 13.9461 11.0898 14.0374C11.0508 14.1288 11.0312 14.2284 11.0312 14.3364Z",fill:"white",fillOpacity:"0.8"})]}),"eye",y.jsx("div",{className:"signup-text",children:"Fill the registration form"}),y.jsx("div",{className:"signup-texts",children:"to help us you know better"}),h&&y.jsx("div",{className:"error-message",children:h}),y.jsx("legend",{className:"signup-legend",children:"Name *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"userName",onChange:U=>a(U.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"User Email *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"email",name:"userEmail",onChange:U=>t(U.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"Password *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"password",name:"pwd",onChange:U=>l(U.target.value)})}),y.jsx("div",{className:"loader",children:R?y.jsx("div",{className:"signup-page-btn loaderImg-holder",children:y.jsx("img",{src:K4,alt:"",className:"signup-page-loaderImg"})}):y.jsx("input",{type:"submit",className:"signup-page-btn",value:"Register"})})]})]}),y.jsxs("div",{className:"bottom-buttons",id:"bottom-buttons",children:[y.jsx("div",{className:"signup-page-exit",children:y.jsx("button",{className:"signup-page-btn1",onClick:D,children:"Exit"})}),y.jsx("button",{className:"login-page-btn-google",onClick:H,children:y.jsxs("div",{className:"google-image-holder",children:[y.jsx("img",{className:"login-page-google-image",src:lB,alt:"NO"}),y.jsx("p",{className:"login-page-google-image-p",children:"Login with Google "})]})})]}),y.jsx(Rt,{to:"/login",children:y.jsx("div",{className:"signup-texts",id:"bottom-texts",children:"Already have an account?Log in"})})]})]})]})},$te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAnCAYAAAB5XdqFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVISURBVHgBzVhbUttIFD3dNlTyFWcFESsY+JuaCYy8g7ACyAqAFWCvALICzApsVmBhp2bmD7MCKyuI/4bBlnrOVbdANrIkbFcmp6pLVr90+va9p29b4QfCwG/MMNsF9CcF866O4eeqYxV+AKb46As5DRzxteGqJzUM3ledI5eorFwhmGBNPOK3XY3ahYLy89o19Puq36nnVUaIuhEOPAMTGqhbbtMoRhRu488RKiLCx3NSaRX1mQIeH5XmzCVKC8j2eHyywJeaGruS/CSCbm4jGBWT3L/imGOUQCPyqhLV+dVqme80UAJryXKSgthatBKWEDXfsZTIQ+JTxpjdF6Pge2XbnYXsWNW+uVtP35yoJYJQw5vUqhck6/EZKKUSmYkQt8pkxAD0eQQxdLCFIMA6RLnWb8sGLPiV/N61BHwvRnyE5RQ7MWrXryE3/90cxIzyZQMyfvUt+6RS+Hn9aT0qhm7WKO5CUnYhz21WIqoKiHLAL+5nqn+hG/VpsS8X9UVjsFc3/RHJnbOMWS1lM0S38DXIEJmDeiY0mids3s33NGd1c9siuQu+SHC28IooX0R9WYO1Bs5zmhr2SESP5SqtVNA7SaggCcbPNTMI+fPOkZPF3MMuTuoDbIpoHfrSMDhMjhVqUOeM9CatFeBJW80H19wmSWHcZbmWBbFvkI79B796WAGFaiJnNU+kPnKEnhHerJuh/DwSeeKpZSSyJWi4AF/IieV5BPO8xx90GfFLb2EaWtiMOPCGmVQPqxJNydZR7y5algEXaAzFqi2SasU4uPsXj4dv8Xf4iP1TWv0Er/NJjntsyvi8Rl02WhIR+l9TiGXraSlfCAlJeZ/BXKcf2cbwkpnRnoE+NHb7q8DbxvZY5sxrLLUoLdYgmYkls3+s6Z8Z605ohb1lVkjHusPgmB/L9fmXiFs1fG1na0otSnRF/1iO6Ucd6uJO1lK0Qj8vQMRl0O40OK4L0/eZJLdkZ6pZWLdm+H3ulCu0qIg0rP6lCFk6LDe0VKKjU/i+QtSooRZkk2CxokF0pczgkK9pQB7KuJydyQNTylkzzYHniMrkD3hAupXuqDtGkpM+nUhZ0iNHuuPGU2MfvXRyqwRxS5uhWPHOkZXga9uFxP0SsqH4uhhgjugMBx3rR6ZHwb/ZQq2XWkn8Dfboa7gi9SN+NBQZEgnilp2Kz74xf03ENy3ROSnru0+dsf2yGllzSck7U1lrcsJxTs+Ru5LcZyupAh8y2piK/pk2g16yINVkKhd/d31TKevAXvAETdHaIq22vHBbx8B/IkodHFeLyHzIkbuFwakj05mqJm+Z8d1ze2JVcYmxIxWy7FnLiySpi8x0E853zaDtpNeeJOrFudchKamcIykaKBYbubz1Ce7YFXf5wnLrnq5teOl0OmRp0y93ZL7s3UxVdOoiXHPiU0qQWEkseE9C/hQHFH2cZDsWXY/LruhaEt7VSZoz6uOxI5n6WceSkuCaxxTRp2Uzld3vtRVxvSOpmbFbUk6P/ahxe7Jl7t4kJOUZilTZS97L5NgF30qo2wmCENYSyUcifoTuIJHm4TkaQ7miRJSst7Z/KlkpSUFyyYsTy708S9SL5PqVROcnS0hI6ZUNTs5xY25gfbEtciO+xkWeGGwWdawJkpNon6RZVIwZSWsvr68puN2WfgcbRMGhkUBuo6telzdGtILMhVSIHayIKmleKZxfdotkLoJpYw1shKjVQFOkg/zLctjBGtgIUQH/mDxUS/5ClLsQ1sQGiUrOqIVsuNDUXnZV+V9hI/9gLLlojP0ufmY4sncSZNgQ/gPsBGkPIQPkjQAAAABJRU5ErkJggg==",Zte="data:image/svg+xml,%3csvg%20width='167'%20height='167'%20viewBox='0%200%20167%20167'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='167'%20height='167'%20rx='10'%20fill='%23DD5877'/%3e%3cpath%20d='M83.914%20113.156C55.797%20113.156%2033%20137.134%2033%20166.712H134.83C134.83%20137.134%20112.035%20113.156%2083.914%20113.156Z'%20fill='%23191009'/%3e%3cpath%20d='M61.516%20117.701L83.916%20166.712L108.039%20119.539L123.016%20122.719L109.368%20137.177L117.345%20139.934L83.916%20166.712L58.657%20146.24L64.903%20139.934L49.54%20124.499L61.516%20117.701Z'%20fill='%23434345'/%3e%3cpath%20d='M64.903%2049.723C64.903%2044.352%2060.551%2040%2055.18%2040C49.809%2040%2045.457%2044.352%2045.457%2049.723C45.457%2055.094%2049.808%2059.447%2055.18%2059.447C60.552%2059.447%2064.903%2055.094%2064.903%2049.723Z'%20fill='%23191009'/%3e%3cpath%20d='M122.221%2049.723C122.221%2044.352%20117.868%2040%20112.497%2040C107.126%2040%20102.774%2044.352%20102.774%2049.723C102.774%2055.094%20107.125%2059.447%20112.497%2059.447C117.868%2059.446%20122.221%2055.094%20122.221%2049.723Z'%20fill='%23191009'/%3e%3cpath%20d='M117.345%2051.342C117.345%2047.77%20114.45%2044.875%20110.879%2044.875C107.307%2044.875%20104.412%2047.769%20104.412%2051.342C104.412%2054.914%20107.307%2057.808%20110.879%2057.808C114.45%2057.808%20117.345%2054.914%20117.345%2051.342Z'%20fill='%233E3D42'/%3e%3cpath%20d='M62.858%2051.342C62.858%2047.77%2059.965%2044.875%2056.392%2044.875C52.82%2044.875%2049.926%2047.769%2049.926%2051.342C49.926%2054.914%2052.82%2057.808%2056.392%2057.808C59.965%2057.808%2062.858%2054.914%2062.858%2051.342Z'%20fill='%233E3D42'/%3e%3cpath%20d='M125.494%2085.5435C125.494%2062.5415%20106.848%2043.8965%2083.846%2043.8965C60.845%2043.8965%2042.199%2062.5425%2042.199%2085.5435C42.199%20108.545%2060.845%20127.191%2083.846%20127.191C106.848%20127.191%20125.494%20108.545%20125.494%2085.5435Z'%20fill='%23FCFCFC'/%3e%3cpath%20d='M81.249%2083.6616C84.192%2076.6326%2077.365%2067.8486%2068.464%2069.4676C59.563%2071.0856%2049.852%2090.3456%2055.516%2096.1716C61.181%20101.998%2077.203%2093.3236%2081.249%2083.6616Z'%20fill='%23191009'/%3e%3cpath%20d='M74.613%2081.875C74.613%2079.85%2072.97%2078.207%2070.945%2078.207C68.92%2078.207%2067.277%2079.85%2067.277%2081.875C67.277%2083.9%2068.92%2085.543%2070.945%2085.543C72.971%2085.543%2074.613%2083.9%2074.613%2081.875Z'%20fill='%234E4741'/%3e%3cpath%20d='M72.733%2081.8749C72.733%2080.8889%2071.932%2080.0889%2070.946%2080.0889C69.96%2080.0889%2069.16%2080.8889%2069.16%2081.8749C69.16%2082.8609%2069.96%2083.6619%2070.946%2083.6619C71.932%2083.6619%2072.733%2082.8609%2072.733%2081.8749Z'%20fill='%23E3E1E2'/%3e%3cpath%20d='M86.327%2083.6616C83.383%2076.6326%2090.211%2067.8486%2099.112%2069.4676C108.013%2071.0856%20117.724%2090.3456%20112.059%2096.1716C106.396%20101.998%2090.373%2093.3236%2086.327%2083.6616Z'%20fill='%23191009'/%3e%3cpath%20d='M92.962%2081.875C92.962%2079.85%2094.605%2078.207%2096.631%2078.207C98.656%2078.207%20100.299%2079.85%20100.299%2081.875C100.299%2083.9%2098.656%2085.543%2096.631%2085.543C94.605%2085.543%2092.962%2083.9%2092.962%2081.875Z'%20fill='%234E4741'/%3e%3cpath%20d='M94.844%2081.8749C94.844%2080.8889%2095.645%2080.0889%2096.631%2080.0889C97.616%2080.0889%2098.417%2080.8889%2098.417%2081.8749C98.417%2082.8609%2097.616%2083.6619%2096.631%2083.6619C95.645%2083.6619%2094.844%2082.8609%2094.844%2081.8749Z'%20fill='%23E3E1E2'/%3e%3cpath%20d='M86.487%2098.7871C89.615%2098.7871%2090.595%20100.802%2088.663%20103.262L87.427%20104.84C85.495%20107.301%2082.334%20107.301%2080.404%20104.84L79.168%20103.262C77.235%20100.802%2078.216%2098.7871%2081.343%2098.7871H86.487Z'%20fill='%23191009'/%3e%3cpath%20d='M74.325%20109.113C74.325%20109.113%2079.7469%20110.812%2083.7929%20106.685C87.3539%20109.517%2089.619%20110.349%2093.504%20108.072C89.538%20112.431%2085.055%20111.078%2083.679%20110.754C80.605%20111.562%2075.135%20111.379%2074.325%20109.113Z'%20fill='%23191009'/%3e%3cpath%20d='M86.6409%20138.557C86.6409%20137.053%2085.4199%20135.833%2083.9159%20135.833C82.4109%20135.833%2081.1899%20137.053%2081.1899%20138.557C81.1899%20140.063%2082.4109%20141.282%2083.9159%20141.282C85.4199%20141.281%2086.6409%20140.062%2086.6409%20138.557Z'%20fill='%23434345'/%3e%3cpath%20d='M86.6409%20147.988C86.6409%20146.483%2085.4199%20145.263%2083.9159%20145.263C82.4109%20145.263%2081.1899%20146.483%2081.1899%20147.988C81.1899%20149.493%2082.4109%20150.713%2083.9159%20150.713C85.4199%20150.713%2086.6409%20149.493%2086.6409%20147.988Z'%20fill='%23434345'/%3e%3c/svg%3e",eie=({setShowEdit:e})=>y.jsx("div",{className:"nav__dash-container",children:y.jsxs("div",{className:"nav__dash-content",children:[y.jsx("span",{className:"nav__dash-links",onClick:()=>e(!1),children:"Home"}),y.jsx("span",{className:"nav__dash-links",onClick:()=>e(!0),children:"Edit Profile"})]})}),tie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAMCAYAAABFohwTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABiSURBVHgBbY1hDYBACIUZMwARjHARiGAEmxnBKtpAE3gN8OGBux/3tm/AeDyIIDPbwQbEBwWPNekEwwFucIKLhoJ1dXLQuPecwpFRw1zTJd9LiLsoye0c947wv2m19G8X71/39k8GELPKfQAAAABJRU5ErkJggg==";function iie({events:e}){const[t,i]=z.useState(null),[r,n]=z.useState(!1),[a,c]=z.useState("");console.log(e),z.useEffect(()=>{},[]);const l=async s=>{s.preventDefault();let u=Date.now().toString(),d=Math.floor(Math.random()*9e3)+1e3,h=a,p=e==null?void 0:e.name,f=new Date().toISOString().slice(0,10).replace(/-/g,""),g=`${h}_${u}_${d}`;u=u.slice(-9);let v=`${p}_${f}`;n(!0);let S=new FormData;S.append("file",t.data),S.append("team",g),S.append("event",v),console.log(v,g),(await fetch(`${Le}api/users/uploadDrive`,{method:"POST",headers:{Authorization:`Token ${tt()}`},body:S})).ok?(alert("Submission completed succesfully."),window.location.reload()):(alert("There was a problem with the submission. Please try later."),window.location.reload())},o=s=>{const u={preview:URL.createObjectURL(s.target.files[0]),data:s.target.files[0]};i(u)};return y.jsx("div",{className:"google-upload_container",children:r?y.jsx("p",{style:{color:"white"},children:"Uploading your file. Please Wait."}):y.jsxs("form",{onSubmit:l,children:[y.jsx("input",{type:"text",placeholder:"Team Leader Name",className:"leader-nameupload",value:a,onChange:s=>c(s.target.value)}),y.jsx("input",{type:"file",name:"file",onChange:o}),y.jsx("button",{type:"submitupload",children:"Submit"})]})})}function rie({visible:e,setVisible:t,events:i}){return console.log("events upload popup - ",i),y.jsx("section",{className:"upload-popup-container",style:{display:`${e?"grid":"none"}`},children:y.jsxs("div",{className:"upload-popup-content",children:[y.jsx(iie,{events:i}),y.jsx("button",{className:"upload-popup-cancel",onClick:()=>t(!1),children:"Cancel"})]})})}const nie=({setShowModal:e,eventDetails:t})=>{const[i,r]=z.useState([]),[n,a]=z.useState(0),[c,l]=z.useState(0),[o,s]=z.useState(0),u=()=>{e(!1)};z.useEffect(()=>{console.log(i)},[i]);const d=(f,g,v)=>{if(f>=n){const S=[...i];S[f]={...S[f],[g]:v},r(S)}};z.useEffect(()=>{fetch(`${Le}api/users/event/${t.events.id}/team/`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(f=>{if(!f.ok)throw new Error(`HTTP error! Status: ${f.status}`);return f.json()}).then(f=>{console.log("Response Data:",f.message,f.team.members),r(f.team.members),a(f.team.members.length),l(f.team.id),f.team.members.map(g=>{g.leader&&s(g.cogniId)})}).catch(f=>{console.error("Fetch Error:",f)})},[]);const h=f=>{f.preventDefault(),r(g=>[...g,{name:"",cogniId:""}])},p=f=>{f<n&&a(g=>g-1),r(g=>g.filter((v,S)=>S!==f))},m=async f=>{f.preventDefault();const g=i.map((x,b)=>b>=n&&x.cogniId.startsWith("cogni20")?{...x,id:Number(x.cogniId.slice(7))}:x),v={TeamId:c,EventId:t.events.id,MembersList:g};if(!g.some(x=>x.cogniId===o)){alert("Team leader cant be removed"),window.location.reload();return}try{const x=await fetch(`${Le}api/users/event/${t.events.id}/team/${c}/edit_member/`,{method:"PUT",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(v)}),b=await x.json();if(x.ok)alert(`${b.message}`),window.location.reload();else throw new Error(b.message||"Something went wrong!")}catch{}};return y.jsx("div",{className:"modal-overlay",children:y.jsxs("div",{className:"modal-content",children:[y.jsx("p",{className:"event-popup-modal-head",children:"Edit Team Members"}),y.jsx("p",{className:"event-popup-modal-context",children:"Update the Cognizance IDs of participating members"}),y.jsxs("form",{className:"cogniId-form",children:[y.jsx("button",{className:"event-popup-modal-close editbtn",onClick:u,children:"X"}),i.map((f,g)=>y.jsxs("div",{children:[y.jsx("label",{className:"editform-label",children:g===0?"Team-Leader":`Member ${g+1}`}),y.jsx("input",{className:"form-input editinput",type:"text",placeholder:`Name - Member ${g+1}`,value:f.name,onChange:v=>d(g,"name",v.target.value),disabled:g===0||g<n}),y.jsx("input",{className:"form-input editinput2",type:"text",placeholder:`Cogni-ID Member ${g+1}`,value:g>=n?""+f.cogniId:f.cogniId,onChange:v=>d(g,"cogniId",v.target.value),disabled:g<n}),y.jsx("button",{style:{display:g===0?"none":"inline-block"},type:"button",className:"edit_team_buttons",onClick:()=>p(g),children:"X"})]},g)),y.jsx("button",{onClick:h,className:"event-popup-modal-submit",style:{marginBottom:"1rem"},children:"Add Member"}),y.jsx("button",{onClick:m,className:"event-popup-modal-submit",children:"Submit"})]})]})})},SP=e=>{var l,o,s;const[t,i]=z.useState({}),[r,n]=z.useState(!1),[a,c]=z.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsx(rie,{visible:r,setVisible:n,events:t}),a&&y.jsx(nie,{setShowModal:c,eventDetails:e}),y.jsx("div",{className:"dashcard__content-wrapper",children:y.jsxs("div",{className:"dashcard__content",children:[y.jsxs("div",{className:"dashcard__text-content",children:[y.jsx("div",{className:"dashcard__text-1",children:y.jsx("p",{children:e.events.name})}),y.jsx("div",{className:"dashcard__text-2",children:y.jsxs("p",{children:["Technology | ",e.events.type]})}),y.jsx("img",{src:tie,className:"morebtn-image"})]}),y.jsx("div",{className:"dashcard__links-content",children:y.jsxs("div",{className:"dashcard__links-container-1",children:[e.events.type!=="workshop"&&e.events.abstract&&y.jsx("p",{style:{cursor:"pointer"},children:y.jsx("span",{className:"dashcard__links",onClick:()=>{n(!0),i(e.events)},children:"Submit abstract"})}),y.jsx("p",{children:y.jsx(Rt,{to:e.events.type==="workshop"?`/workshops/${e.events.id}`:`/events/${e.events.type}/${e.events.CentralId?e.events.CentralId:e.events.DepartmentId}/${e.events.id}`,className:"dashcard__links",children:"View details"})}),e.events.type!=="workshop"&&y.jsx("p",{children:y.jsx("span",{className:"dashcard__links",onClick:()=>c(!0),style:{cursor:"pointer"},children:"Edit Team"})}),e.events.type!=="workshop"&&y.jsx("p",{children:y.jsx("span",{className:"dashcard__links",style:{cursor:"pointer"},children:(o=(l=e.events.workshopPayment)==null?void 0:l[0])!=null&&o.workshopPaymentStatus?"Paid":"Non Paid"})}),e.events.type==="workshop"&&y.jsx("p",{children:y.jsx("a",{href:(s=e==null?void 0:e.events)==null?void 0:s.externalLink,target:"_blank",className:"dashcard__links",children:"Payment Link"})})]})})]})})]})},aie=()=>{const[e,t]=z.useState(""),[i,r]=z.useState(""),[n,a]=z.useState(""),[c,l]=z.useState(),[o,s]=z.useState(),[u,d]=z.useState(),[h,p]=z.useState(""),[m,f]=z.useState("");z.useEffect(()=>{fetch(`${Le}api/users`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(v=>v.json()).then(v=>{t(v.details.name),r(v.details.state),p(v.details.city),a(v.details.college),l(v.details.mobile),s(v.details.year),d(v.details.pincode),f(v.details.branch)}).catch(v=>console.log(v.message))},[]);const g=async v=>{v.preventDefault();try{await fetch(`${Le}api/users/updateuser`,{method:"PUT",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,state:i,college:n,mobile:c,year:o,pincode:u})}),alert("Your details have been updated successfully"),window.location.reload()}catch(S){console.log(S.message)}};return y.jsxs("form",{className:"edit-form-container",onSubmit:g,children:[y.jsxs("div",{className:"edit-form-main",children:[y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"Name"}),y.jsx("input",{type:"text",defaultValue:e,onChange:v=>t(v.target.value)})]}),y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"City"}),y.jsx("input",{type:"text",defaultValue:h,onChange:v=>p(v.target.value)})]}),y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"State"}),y.jsx("input",{type:"text",defaultValue:i,onChange:v=>r(v.target.value)})]}),y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"College"}),y.jsx("input",{type:"text",defaultValue:n,onChange:v=>a(v.target.value)})]}),y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"Mobile"}),y.jsx("input",{type:"number",name:"",id:"",defaultValue:c,onChange:v=>l(v.target.value)})]}),y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"Year"}),y.jsx("input",{type:"text",defaultValue:o,onChange:v=>s(v.target.value)})]}),y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"Pincode"}),y.jsx("input",{type:"number",name:"",id:"",defaultValue:u,onChange:v=>d(v.target.value)})]}),y.jsxs("div",{className:"edit-form-input-label",children:[y.jsx("label",{htmlFor:"",children:"Branch"}),y.jsx("input",{type:"text",name:"",id:"",defaultValue:m,onChange:v=>f(v.target.value)})]})]}),y.jsx("button",{className:"edit-form-btn",children:"Save Changes"})]})},uB=()=>{const[e,t]=z.useState([]),[i,r]=z.useState("Events"),[n,a]=z.useState(!1);return z.useEffect(()=>{fetch(`${Le}api/users/events/registered`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(c=>c.json()).then(c=>{t([...c.events]),console.log(c)}).catch(c=>console.log(c))},[]),y.jsx(y.Fragment,{children:y.jsx("div",{className:"dashtable__conatiner",children:y.jsxs("div",{className:"dashtable__content",children:[y.jsx(eie,{setShowEdit:a}),y.jsx(y.Fragment,{children:n?y.jsx(aie,{}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"dashtable__text",children:[y.jsxs("div",{className:"dashtableone",children:[y.jsx("p",{className:i==="Events"?"filled-btn-profile":"border-btn-profile",onClick:()=>r("Events"),children:"Events"}),y.jsx("p",{className:i==="Workshop"?"filled-btn-profile":"border-btn-profile",onClick:()=>r("Workshop"),children:"Workshop"})]}),y.jsx("div",{className:"paynow",children:y.jsx("a",{href:"https://easebuzz.in/link/BTZLD",target:"_blank",children:"Buy Tickets"})})]}),y.jsx("div",{className:"dashtable__datacard-container-wrapper",children:y.jsx("div",{className:"dashtable__datacard-container",children:i==="Events"?y.jsxs(y.Fragment,{children:[e==null?void 0:e.filter(c=>c.type!=="workshop").map(c=>y.jsx(SP,{events:c})),y.jsx(Rt,{to:"/events",className:"dash-table__links",children:"Add Events"})]}):y.jsxs(y.Fragment,{children:[e==null?void 0:e.filter(c=>c.type==="workshop").map(c=>y.jsx(SP,{events:c})),y.jsx(Rt,{to:"/workshops",className:"dash-table__links",children:"Add Workshops"})]})})})]})})]})})})},X4=({showOnlyName:e})=>{const t=Io(i=>i.userDetails);return z.useEffect(()=>{fetch(`${Le}api/users/centralRegistration`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>console.log(i))},[]),e?y.jsx("span",{children:t.name}):y.jsx("div",{className:"profile__container",children:y.jsxs("div",{className:"profile__container_wrapper",children:[y.jsx("div",{className:"profile__image",children:y.jsx("img",{src:Zte,alt:"profile_image",className:"profile__image-img"})}),y.jsxs("div",{className:"profile__content",children:[y.jsx("p",{children:t.name}),y.jsxs("p",{children:["Cogni ID: ",t.id]})]})]})})},CP=({eventDetails:e,handleModal:t})=>{const[i,r]=z.useState([]),[n,a]=z.useState(!1),c=[...Array(e.teamLimit-1).keys()],l=o=>{o.preventDefault();let s=document.querySelectorAll(".form-input");const u=[];c.forEach(d=>{u.push(s[d].value)}),r(u.join()),a(!0)};return n&&fetch(`${Le}api/users/event/${e.id}/register`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({teamMembers:i})}).then(o=>o.json()).then(o=>{alert(o.message),window.location.reload()}),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mainwebsite__overlay"}),y.jsxs("div",{className:"eventlanding-modal",children:[y.jsx("button",{className:"event-popup-modal-close",onClick:t,children:"X"}),y.jsx("p",{className:"event-popup-modal-head",children:"Complete your registration for the event"}),y.jsx("p",{className:"event-popup-modal-context",children:"by entering the Cognizance IDs of participating members"}),y.jsxs("form",{className:"cogniId-form",onSubmit:l,children:[y.jsxs("p",{children:["Member 1 : ",y.jsx(X4,{showOnlyName:!0})]}),y.jsx("br",{}),c.map(o=>y.jsxs(y.Fragment,{children:[y.jsxs("label",{children:["Member ",o+2]}),y.jsx("input",{className:"form-input",type:"text",placeholder:`Cogni-Id Member-${o+2}`})]})),y.jsx("button",{className:"event-popup-modal-submit",children:"Submit"})]})]})]})};function dB(){return y.jsxs("div",{className:"footerwrapper",children:[y.jsxs("div",{className:"upperfooter",children:[y.jsx("img",{src:"./Images/Client/EventLanding/footerfinal.png",alt:""}),y.jsx("h1",{className:"footerhead1",children:"BOOK YOUR"}),y.jsx("h1",{className:"footerhead2",children:"TICKETS NOW"}),y.jsxs("div",{className:"btns",children:[y.jsx("a",{href:"https://www.instagram.com/cogni_iitr/",target:"_blank",rel:"noopener noreferrer",children:y.jsxs("div",{className:"instagram-button",children:[y.jsx("div",{className:"mainborder"}),y.jsxs("svg",{className:"borders",viewBox:"0 0 189 188",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M9.92293 1H1V10.3285",stroke:"#EEEEEE"}),y.jsx("path",{d:"M9.92293 187.165H1V177.837",stroke:"#EEEEEE"}),y.jsx("path",{d:"M178.647 187.165H187.57V177.837",stroke:"#EEEEEE"}),y.jsx("path",{d:"M178.647 1H187.57V10.3285",stroke:"#EEEEEE"})]}),y.jsx("svg",{className:"instagram-icon",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M29.8785 6.04492C32.3097 6.04492 34.6412 7.01069 36.3603 8.72978C38.0794 10.4489 39.0452 12.7804 39.0452 15.2116V29.8783C39.0452 32.3094 38.0794 34.641 36.3603 36.3601C34.6412 38.0792 32.3097 39.0449 29.8785 39.0449H15.2118C12.7807 39.0449 10.4491 38.0792 8.73002 36.3601C7.01094 34.641 6.04517 32.3094 6.04517 29.8783V15.2116C6.04517 12.7804 7.01094 10.4489 8.73002 8.72978C10.4491 7.01069 12.7807 6.04492 15.2118 6.04492H29.8785ZM22.5452 15.2116C20.6002 15.2116 18.735 15.9842 17.3597 17.3595C15.9844 18.7347 15.2118 20.6 15.2118 22.5449C15.2118 24.4898 15.9844 26.3551 17.3597 27.7304C18.735 29.1056 20.6002 29.8783 22.5452 29.8783C24.4901 29.8783 26.3554 29.1056 27.7306 27.7304C29.1059 26.3551 29.8785 24.4898 29.8785 22.5449C29.8785 20.6 29.1059 18.7347 27.7306 17.3595C26.3554 15.9842 24.4901 15.2116 22.5452 15.2116ZM22.5452 18.8783C23.5176 18.8783 24.4503 19.2646 25.1379 19.9522C25.8255 20.6398 26.2118 21.5725 26.2118 22.5449C26.2118 23.5174 25.8255 24.45 25.1379 25.1376C24.4503 25.8253 23.5176 26.2116 22.5452 26.2116C21.5727 26.2116 20.6401 25.8253 19.9524 25.1376C19.2648 24.45 18.8785 23.5174 18.8785 22.5449C18.8785 21.5725 19.2648 20.6398 19.9524 19.9522C20.6401 19.2646 21.5727 18.8783 22.5452 18.8783ZM30.7952 12.4616C30.3089 12.4616 29.8426 12.6547 29.4988 12.9986C29.155 13.3424 28.9618 13.8087 28.9618 14.2949C28.9618 14.7812 29.155 15.2475 29.4988 15.5913C29.8426 15.9351 30.3089 16.1283 30.7952 16.1283C31.2814 16.1283 31.7477 15.9351 32.0915 15.5913C32.4353 15.2475 32.6285 14.7812 32.6285 14.2949C32.6285 13.8087 32.4353 13.3424 32.0915 12.9986C31.7477 12.6547 31.2814 12.4616 30.7952 12.4616Z",fill:"#EEEEEE"})})]})}),y.jsx("a",{href:"https://www.linkedin.com/company/cognizance-iit-roorkee/posts/?feedView=all",target:"_blank",rel:"noopener noreferrer",children:y.jsxs("div",{className:"instagram-button",children:[y.jsx("div",{className:"mainborder"}),y.jsxs("svg",{className:"borders",viewBox:"0 0 189 188",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M9.92293 1H1V10.3285",stroke:"#EEEEEE"}),y.jsx("path",{d:"M9.92293 187.165H1V177.837",stroke:"#EEEEEE"}),y.jsx("path",{d:"M178.647 187.165H187.57V177.837",stroke:"#EEEEEE"}),y.jsx("path",{d:"M178.647 1H187.57V10.3285",stroke:"#EEEEEE"})]}),y.jsx("svg",{className:"instagram-icon",width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M36.7412 4.47363C37.8063 4.47363 38.8278 4.89673 39.5809 5.64985C40.334 6.40298 40.7571 7.42443 40.7571 8.48951V36.6006C40.7571 37.6657 40.334 38.6871 39.5809 39.4403C38.8278 40.1934 37.8063 40.6165 36.7412 40.6165H8.63013C7.56505 40.6165 6.5436 40.1934 5.79048 39.4403C5.03736 38.6871 4.61426 37.6657 4.61426 36.6006V8.48951C4.61426 7.42443 5.03736 6.40298 5.79048 5.64985C6.5436 4.89673 7.56505 4.47363 8.63013 4.47363H36.7412ZM35.7373 35.5966V24.9546C35.7373 23.2185 35.0476 21.5535 33.82 20.326C32.5924 19.0984 30.9275 18.4087 29.1914 18.4087C27.4847 18.4087 25.4968 19.4528 24.533 21.019V18.7902H18.9308V35.5966H24.533V25.6975C24.533 24.1514 25.7779 22.8864 27.324 22.8864C28.0696 22.8864 28.7846 23.1826 29.3118 23.7098C29.839 24.237 30.1351 24.952 30.1351 25.6975V35.5966H35.7373ZM12.4051 15.6378C13.2997 15.6378 14.1577 15.2824 14.7904 14.6497C15.423 14.0171 15.7784 13.1591 15.7784 12.2644C15.7784 10.397 14.2724 8.87101 12.4051 8.87101C11.5051 8.87101 10.6419 9.22853 10.0055 9.86492C9.36916 10.5013 9.01164 11.3644 9.01164 12.2644C9.01164 14.1318 10.5377 15.6378 12.4051 15.6378ZM15.1961 35.5966V18.7902H9.6341V35.5966H15.1961Z",fill:"white"})})]})}),y.jsx("a",{href:"https://www.threads.net/@cogni_iitr",target:"_blank",rel:"noopener noreferrer",children:y.jsxs("div",{className:"instagram-button",children:[y.jsx("div",{className:"mainborder"}),y.jsxs("svg",{className:"borders",viewBox:"0 0 189 188",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M9.92293 1H1V10.3285",stroke:"#EEEEEE"}),y.jsx("path",{d:"M9.92293 187.165H1V177.837",stroke:"#EEEEEE"}),y.jsx("path",{d:"M178.647 187.165H187.57V177.837",stroke:"#EEEEEE"}),y.jsx("path",{d:"M178.647 1H187.57V10.3285",stroke:"#EEEEEE"})]}),y.jsx("svg",{className:"instagram-icon",width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.4768 40.6165H10.0352C8.48351 40.6165 6.99538 40.0001 5.89818 38.9029C4.80097 37.8057 4.18457 36.3175 4.18457 34.7659V10.3243C4.18457 8.77258 4.80097 7.28445 5.89818 6.18724C6.99538 5.09004 8.48351 4.47363 10.0352 4.47363H34.4768C36.0285 4.47363 37.5166 5.09004 38.6138 6.18724C39.711 7.28445 40.3274 8.77258 40.3274 10.3243V34.7659C40.3274 36.3175 39.711 37.8057 38.6138 38.9029C37.5166 40.0001 36.0285 40.6165 34.4768 40.6165ZM22.7439 15.2803C20.4059 15.2803 18.7163 15.9942 17.4354 17.8239C17.4354 17.8239 18.9557 18.8788 19.412 19.1838L19.4662 19.1228C20.1213 18.3638 20.6838 17.7132 22.7417 17.7132C25.0503 17.7132 25.9629 19.561 25.9629 20.6408C25.3372 20.5143 24.1399 20.4465 23.146 20.4465C20.4918 20.4465 17.1305 21.7296 17.1305 25.2716C17.1305 27.7519 19.4956 29.6449 22.2357 29.6449C26.9388 29.6449 28.0095 26.1277 28.4093 24.0382C28.5155 24.0382 30.5621 25.2038 30.5621 27.6412C30.5621 31.2216 27.054 33.6658 22.3486 33.6658C16.629 33.6658 12.8114 29.9385 12.8114 22.92C12.8114 15.0929 16.2269 11.4153 22.2696 11.4153C25.9222 11.4153 29.9092 12.337 31.8113 18.1198L34.1154 17.5235C31.6577 9.40261 25.1181 8.99149 22.3305 8.99149C16.2947 8.99149 10.3966 12.4386 10.3966 22.536C10.3966 32.6877 16.4867 36.0986 22.3486 36.0986C29.1751 36.0986 32.9475 32.1026 32.9475 27.5012C32.9475 25.3371 31.9129 23.4486 30.0335 22.1859C29.5666 21.8711 29.0561 21.5978 28.5019 21.3659C28.3709 19.4436 27.7994 17.9391 26.7987 16.8864C25.7957 15.836 24.3929 15.2803 22.7439 15.2803ZM23.4691 22.865C20.0129 22.865 19.5679 24.3378 19.5679 25.264C19.5679 26.7526 21.3321 27.2451 22.2764 27.2451C24.0022 27.2451 25.7777 26.7662 26.0578 23.1384C25.1814 22.9418 24.5285 22.865 23.4691 22.865Z",fill:"white"})})]})})]})]}),y.jsxs("div",{className:"mainfooter",children:[y.jsx("p",{className:"copyright",children:"Copyright    Cognizance  2025"}),y.jsx("hr",{className:"horizontal1"}),y.jsxs("nav",{class:"navbar",children:[y.jsx(Rt,{className:"nav-item",to:"/t&c",children:"Terms & Conditions"}),y.jsx(Rt,{className:"nav-item",to:"/privacypolicy",children:"Privacy Policy"}),y.jsx(Rt,{className:"nav-item",to:"/cancel&refund",children:"Refund Policy"})]}),y.jsx("hr",{className:"horizontal1",id:"second"}),y.jsxs("div",{className:"bottomcontainer",children:[y.jsx("h1",{children:"COGNIZANCE 2025"}),y.jsx("p",{children:"Cognizance, the annual technical fest of IIT Roorkee, run by students, is an enthralling kaleidoscope of internally invigorating events. It has something in store for all and brings together renowned experts of various spheres of academic and the corporate industry"})]})]})]})}const oie=()=>{const e=y4(),t=As(),[i,r]=z.useState({}),{type:n,categoryId:a,eventId:c}=e,[l,o]=z.useState(""),[s,u]=z.useState(!1),[d,h]=z.useState(!1),[p,m]=z.useState(!1),[f,g]=z.useState(!1);z.useEffect(()=>{setTimeout(()=>{g(!0)},50)},[]);const v=()=>{g(!1),setTimeout(()=>{t("/events")},800)};z.useEffect(()=>{const _=document.createElement("script");return _.src="https://apply.devfolio.co/v2/sdk.js",_.async=!0,_.defer=!0,document.body.appendChild(_),fetch(`${Le}api/events/${n}/${a}/${c}`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(w=>w.json()).then(w=>{r(w.event)}),fetch(`${Le}api/events/${n}/${a}/events`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(w=>w.json()).then(w=>o(w.events[0].name)),window.scrollTo(0,0),()=>{document.body.removeChild(_)}},[]);const S=()=>{bs()?u(!s):(alert("Please Login to register for the event"),t("/login"))},b=(_=>{const w=document.createElement("div");w.innerHTML=_;const C=w.querySelectorAll("span");let E="";return C.forEach(A=>{E+=A.textContent}),E})(i.description);return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mainwebsite__overlay"}),y.jsxs("div",{className:"mainwebsite__event-popup",children:[s?y.jsx(CP,{eventDetails:i,handleModal:S}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"event-popup-content",children:[y.jsx("div",{onClick:v,style:{position:"absolute",zIndex:"9",cursor:"pointer"},className:"event-close-button",children:"X"}),!d&&!p&&y.jsx("div",{className:"mainwebsite__event-popup-topImage",children:c==="234"?y.jsx("img",{src:"/Images/googleheader.jpeg",alt:"topimage",className:"mainwebsite__event-popup-topImage_image"}):y.jsx("img",{src:i.coverImage,alt:"topimage",className:"mainwebsite__event-popup-topImage_image"})}),y.jsxs("div",{className:"event-name",children:[c!==234&&y.jsx("h1",{className:"mainwebsite_event-popup_topimage-content-text-p1",children:i.name}),y.jsxs("div",{className:"eventdescription",children:[y.jsx("div",{className:!d&&!p?"event-description-left":"event-description-left transparent",onClick:()=>{h(!1),m(!1)},children:"DESCRIPTION"}),y.jsx("div",{className:d&&!p?"event-description-left":"event-description-left transparent",onClick:()=>{h(!0),m(!1)},children:"STAGES AND TIMELINES"}),y.jsx("div",{className:p?"event-description-left":"event-description-left transparent",onClick:()=>{m(!0),h(!1)},children:"CONTACTS"})]})]}),y.jsx("div",{className:d||p?"descriptioncontent Stagescond":"descriptioncontent",children:!d&&!p?y.jsx("p",{dangerouslySetInnerHTML:{__html:b}}):d?y.jsx("p",{dangerouslySetInnerHTML:{__html:i.procedure},className:"Stagescontent",style:{color:"white",marginRight:"1rem",marginLeft:"2rem"}}):y.jsxs("div",{style:{color:"white",marginRight:"1rem",marginLeft:"2rem"},children:[y.jsx("h3",{children:"Contacts Details:-"}),i.contact&&i.contact.length>0?i.contact.map((_,w)=>y.jsxs("p",{children:[y.jsx("strong",{children:_.name}),"     ",_.phoneNo]},w)):y.jsx("p",{children:"No contact details available"})]})}),y.jsxs("div",{className:"priceboxpopup",children:[y.jsxs("div",{children:[y.jsx("h1",{children:"PRIZES WORTH"}),y.jsxs("h2",{children:[y.jsx("span",{children:"RS."})," ",i.prize+"*"]})]}),y.jsx("div",{className:"register popupfirstbtn",style:{cursor:"pointer"},onClick:S,children:"REGISTER"}),y.jsx("a",{className:"register popupfirstbtn secondbtn",href:i.problemStatement,target:"_blank",rel:"noopener noreferrer",children:"PROBLEM STATEMENT"})]})]})}),y.jsx(dB,{})]}),s?y.jsx(CP,{eventDetails:i,handleModal:S}):y.jsxs("div",{className:"popupmobile",children:[y.jsxs("div",{className:"popupnav",children:[y.jsxs("div",{className:"nav__logo-content",children:[y.jsx("img",{src:$te,alt:"logo"}),y.jsxs(Rt,{to:"/",className:"mainlogo",onClick:()=>setPath("/"),children:[y.jsx("p",{className:"logo-text",children:"Cognizance"}),y.jsx("p",{className:"logo-text",children:"'"}),y.jsx("p",{className:"logo-text",children:"25"})]})]}),y.jsx("div",{onClick:v,style:{position:"absolute",zIndex:"9",cursor:"pointer"},className:"event-close-button",children:y.jsx("div",{className:"wrapperclose",children:"X"})})]}),c!=234?y.jsx("h1",{className:"mobilepopupheading",children:i.name}):null,y.jsx("div",{className:"imgwrapper",children:y.jsx("div",{className:"imgpopupmobile",children:c=="234"?y.jsx("img",{src:"/Images/googleheader.jpeg",alt:"topimage",className:"mainwebsite__event-popup-topImage"}):y.jsx("img",{src:i.coverImage,alt:"topimage",className:"mainwebsite__event-popup-topImage"})})}),y.jsx("div",{className:"priceboxpopup mobilepopupprice",children:y.jsxs("div",{children:[y.jsx("h1",{children:"PRICES WORTH"}),y.jsxs("h2",{children:[y.jsx("span",{children:"RS."})," ",i.prize+"*"]})]})}),y.jsxs("div",{className:"eventdescriptionmobile",children:[y.jsx("div",{className:d?"event-description-left transparent leftmobile":"event-description-left leftmobile",onClick:()=>{h(!1)},children:"DESCRIPTION"}),y.jsx("div",{className:d?"event-description-left leftmobile":"event-description-left transparent leftmobile",onClick:()=>{h(!0)},children:"STAGES AND TIMELINES"})]}),y.jsx("div",{className:"desccontentbox",children:y.jsxs("div",{className:d?"descriptioncontentmobile Stagescond":"descriptioncontentmobile",children:[d==!1?y.jsx("p",{dangerouslySetInnerHTML:{__html:b}}):y.jsx("p",{dangerouslySetInnerHTML:{__html:i.procedure},style:{color:"white",marginRight:"1rem",marginLeft:"2rem"},className:"Stagescontentmobile"}),y.jsxs("div",{className:"Stagescontentmobile",style:{color:"white",marginRight:"1rem",marginLeft:"1rem",marginBottom:"1rem"},children:[y.jsx("h3",{children:"Contacts Details:-"}),i.contact&&i.contact.length>0?i.contact.map((_,w)=>y.jsxs("p",{children:[y.jsx("strong",{children:_.name}),"     ",_.phoneNo]},w)):y.jsx("p",{children:"No contact details available"})]})]})}),y.jsxs("div",{className:"mobilepopupbtns",children:[y.jsx("div",{className:"register popupfirstbtn",style:{cursor:"pointer"},onClick:S,children:"REGISTER"}),y.jsx("a",{className:"register popupfirstbtn secondbtn secondmobile",href:i.problemStatement,target:"_blank",rel:"noopener noreferrer",children:"PROBLEM STATEMENT"})]})]})]})},hB=pf({name:"userDetailsSlice",initialState:{email:"",id:"",role:"",gender:"",college:""},reducers:{setUserDetails:(e,t)=>{const i=t.payload;e.id=i.CogniId,e.email=i.email,e.role=i.role,e.name=i.name,e.gender=i.gender,e.college=i.college}}}),{setUserDetails:pB}=hB.actions,sie=hB.reducer;function lie(){const e=z.useRef(null),t=()=>{fetch(`${Le}api/users/checkgender`,{method:"PATCH",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({gender:e.current.value})}),alert("Thank You for the response"),window.location.reload()};return y.jsx("section",{className:"gender-bg",children:y.jsxs("div",{className:"gender-content",children:[y.jsx("label",{children:"Kindly input your gender."}),y.jsx("br",{}),y.jsxs("select",{ref:e,children:[y.jsx("option",{value:"m",children:"Male"}),y.jsx("option",{value:"f",children:"Female"}),y.jsx("option",{value:"o",children:"Other"})]}),y.jsx("br",{}),y.jsx("p",{children:y.jsx("button",{onClick:t,children:"Submit"})})]})})}function fB({details:e}){z.useRef(null);const[t,i]=z.useState(""),r=()=>{const n={college:t};console.log("update college name initiated");try{console.log("hehe"),fetch(`${Le}api/users/updateCollege`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${tt()}`},body:JSON.stringify(n)})}catch(a){console.log(a)}alert("Thank You for the response"),window.location.reload()};return y.jsx("section",{className:"gender-bg",children:y.jsxs("div",{className:"gender-content",children:[y.jsx("label",{children:"Kindly input your college Name."}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"collegeName",value:t,onChange:n=>i(n.target.value)})}),y.jsx("p",{children:y.jsx("button",{onClick:r,children:"Submit"})})]})})}const cie=()=>{const e=Io(c=>c.userDetails),[t,i]=z.useState(null),[r,n]=z.useState(!0),a=zl();return z.useEffect(()=>{e.id?(i(!0),n(!1)):fetch(`${Le}api/users`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(c=>{if(c.status==418)alert("Login failed"),Zc(),window.location.href=`${_r}login`;else return c.ok?c.json():i(!1)}).then(c=>{var l;console.log("data is here - ",(l=c.details)==null?void 0:l.college),a(pB(c.details)),i(!0),n(!1)}).catch(c=>n(!1))},[]),y.jsx(y.Fragment,{children:r?y.jsx(Ts,{}):t?y.jsxs("div",{className:"dashboard__profile__container",children:[((e==null?void 0:e.gender)===null||(e==null?void 0:e.gender)==="")&&y.jsx(lie,{}),((e==null?void 0:e.college)===null||(e==null?void 0:e.college)==="   ")&&y.jsx(fB,{details:e}),y.jsx(X4,{}),y.jsx(uB,{})]}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"signup-page-image-plus-main-container",children:[y.jsx("div",{className:"image-holder",children:y.jsx("img",{className:"robot-image",src:robotImage,alt:"robot"})}),y.jsxs("div",{className:"signup-main-container",id:"container",children:[y.jsxs("div",{className:"signup-upper",children:[y.jsxs("svg",{className:"signup-img",xmlns:"http://www.w3.org/2000/svg",width:39,height:38,viewBox:"0 0 39 38",fill:"none",children:[y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.2417 19.6639C24.1165 17.9887 22.2179 17.5978 22.2179 17.5978C22.2179 17.5978 23.4364 18.7425 24.7682 20.5015C26.1 22.2326 27.0918 24.4383 27.0918 24.4383L29.6422 23.6007C29.6138 23.5728 28.0553 21.0878 26.2417 19.6639Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1026 21.3186C20.1026 21.3186 19.3375 22.7705 18.0056 24.5295C16.6738 26.2605 14.8319 27.852 14.8319 27.852L16.3904 30.0019C16.3904 30.0019 18.374 27.8241 19.2525 25.6742C20.2726 23.2172 20.1026 21.3186 20.1026 21.3186Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3608 19.3843C10.2355 18.7423 8.11022 17.542 8.11022 17.542L6.5517 19.6914C6.5517 19.6914 9.30037 20.808 11.6523 20.9196C14.3727 21.0313 16.1579 20.2776 16.1579 20.2776C16.1579 20.2776 14.486 20.0543 12.3608 19.3843Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9308 7.7465L13.4088 6.96472C13.4088 6.96472 13.1821 9.84054 13.8056 12.0463C14.514 14.587 15.8175 16.011 15.8175 16.011C15.8175 16.011 15.5341 14.4195 15.4774 12.2417C15.4491 10.0918 15.9308 7.7465 15.9308 7.7465Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8562 11.5398C20.5326 12.9358 19.4841 14.5273 19.4841 14.5273C19.4841 14.5273 20.986 13.8013 23.1396 13.1592C25.2648 12.517 27.7018 12.3216 27.7018 12.3216L27.7868 9.75286C27.7585 9.72494 24.8681 10.3392 22.8562 11.5398Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0756 11.5688C10.9705 8.38583 11.4522 4.53279 11.4522 4.53279L4.84972 3.27637C4.84972 3.27637 3.88627 10.2565 6.97498 14.0537C10.5738 18.4651 17.1479 19.2469 17.1479 19.2469C17.1479 19.2469 14.0875 17.3483 12.0756 11.5688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.0513 0.679688C29.0513 0.679688 21.9671 1.85235 19.1618 5.87291C15.9314 10.5077 17.1499 16.9015 17.1499 16.9015C17.1499 16.9015 18.085 13.4952 23.1289 9.86555C25.9059 7.88319 29.8164 7.18517 29.8164 7.18517L29.0513 0.679688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.8595 14.3055C25.3622 12.6582 19.5248 15.7015 19.5248 15.7015C19.5248 15.7015 23.1236 15.5619 28.1392 19.1916C30.9162 21.1739 32.7581 24.6361 32.7581 24.6361L38.8505 21.9836C38.8788 22.0115 35.5918 15.7294 30.8595 14.3055Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2562 17.9601C21.2562 17.9601 22.503 21.2547 20.5194 27.0343C19.4426 30.2172 16.6656 32.9813 16.6656 32.9813L21.0578 37.8116C21.0578 37.8116 26.1301 32.8417 26.0734 28.0394C25.9884 22.4274 21.2562 17.9601 21.2562 17.9601Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4923 22.0702C7.06355 22.0144 3.4931 20.2554 3.4931 20.2554L0.149353 25.8953C0.149353 25.8953 6.55348 29.162 11.2291 27.5985C16.6697 25.7836 19.5601 19.9482 19.5601 19.9482C19.5601 19.9482 16.7264 22.154 10.4923 22.0702Z",fill:"#FFBD00"})]}),y.jsx("div",{className:"signup-page-collageName",children:"COGNIZANCE IIT ROORKEE"}),y.jsxs("div",{className:"signup-progressbar",children:[y.jsx("svg",{className:"circle",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr1"}),y.jsx("svg",{className:"uncolored_circle",id:"uc2",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c2",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr2"}),y.jsx("svg",{className:"uncolored_circle",id:"uc3",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c3",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr3"}),y.jsx("svg",{className:"uncolored_circle",id:"uc4",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c4",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})})]})]}),y.jsxs("form",{onSubmit:handleSubmit,children:[y.jsxs("div",{className:"signup-container-form2",id:"form2",children:[y.jsx("div",{className:"signup-text",children:"College Information"}),y.jsx("div",{className:"signup-texts",children:"to acknowledge the diverse participation from various institutions"}),errMsg&&y.jsx("div",{className:"error-message",children:errMsg}),y.jsx("legend",{className:"signup-legend",children:"College Name *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"collageName",onChange:c=>setCollageName(c.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"College State *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsxs("select",{type:"text",id:"secondary-form-state",className:"Newsignup-page-inputbox",value:collageState,onChange:c=>setCollageState(c.target.value),required:!0,children:["   ",y.jsx("option",{value:"default",selected:!0,children:"Select "}),Object.keys(colleges).map(c=>y.jsx("option",{value:c,children:c}))]})}),y.jsx("legend",{className:"signup-legend",children:"College City *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"collageCity",onChange:c=>setCollageCity(c.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"Enter Branch *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"branch",onChange:c=>setBranch(c.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"Enter Year *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"number",name:"year",onChange:c=>setYear(c.target.value)})}),y.jsx("div",{className:"signup-page-btn1",onClick:showForm3,children:"Next"})]}),y.jsxs("div",{className:"signup-container-form3",id:"form3",children:[y.jsxs("svg",{className:"signup-page-svg",xmlns:"http://www.w3.org/2000/svg",width:29,height:29,viewBox:"0 0 29 29",fill:"none",onClick:()=>back3(),children:[y.jsx("rect",{x:"0.367684",y:"0.367684",width:"27.944",height:"27.944",rx:"7.63232",stroke:"#D8DADC",strokeWidth:"0.735369"}),y.jsx("path",{d:"M11.0312 14.3364C11.0312 14.4443 11.0508 14.544 11.0898 14.6353C11.1331 14.7267 11.1981 14.8139 11.2848 14.8969L16.3493 19.643C16.4967 19.7842 16.6744 19.8548 16.8824 19.8548C17.0254 19.8548 17.1533 19.8215 17.266 19.7551C17.383 19.6928 17.4762 19.6056 17.5455 19.4935C17.6149 19.3855 17.6496 19.2651 17.6496 19.1323C17.6496 18.9329 17.5694 18.7565 17.409 18.6028L12.8451 14.3364L17.409 10.0699C17.5694 9.91627 17.6496 9.74187 17.6496 9.54672C17.6496 9.40969 17.6149 9.2872 17.5455 9.17924C17.4762 9.07128 17.383 8.98616 17.266 8.92387C17.1533 8.85744 17.0254 8.82422 16.8824 8.82422C16.6744 8.82422 16.4967 8.89273 16.3493 9.02976L11.2848 13.7758C11.1981 13.8589 11.1331 13.9461 11.0898 14.0374C11.0508 14.1288 11.0312 14.2284 11.0312 14.3364Z",fill:"white",fillOpacity:"0.8"})]}),y.jsx("div",{className:"signup-text",children:"Referral Code"}),y.jsx("div",{className:"signup-texts",children:"unlock exclusive benefits for yourself"}),errMsg&&y.jsx("div",{className:"error-message",children:errMsg}),y.jsx("legend",{className:"signup-legend2",children:"Referral code (Optional)"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"referal",onChange:c=>setReferalCode(c.target.value())})}),y.jsx("div",{className:"loader",children:loading?y.jsx("div",{className:"signup-page-btn loaderImg-holder",children:y.jsx("img",{src:loaderImage,alt:"",className:"signup-page-loaderImg"})}):y.jsx("input",{type:"submit",className:"signup-page-btn",value:"Submit"})})]})]})]})]})})})};var uie={},F2={},J4={},m_={},g_={exports:{}},v_,EP;function die(){if(EP)return v_;EP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return v_=e,v_}var y_,TP;function hie(){if(TP)return y_;TP=1;var e=die();function t(){}function i(){}return i.resetWarningCache=t,y_=function(){function r(c,l,o,s,u,d){if(d!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function n(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:t};return a.PropTypes=a,a},y_}var AP;function pie(){return AP||(AP=1,g_.exports=hie()()),g_.exports}var MP;function fie(){return MP||(MP=1,function(e){(function(t,i){i(e,z,pie())})(vN,function(t,i,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=m;var n=c(i),a=c(r);function c(S){return S&&S.__esModule?S:{default:S}}var l=Object.assign||function(S){for(var x=1;x<arguments.length;x++){var b=arguments[x];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(S[_]=b[_])}return S};function o(S,x){var b={};for(var _ in S)x.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(S,_)&&(b[_]=S[_]);return b}function s(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}var u=function(){function S(x,b){for(var _=0;_<b.length;_++){var w=b[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,b,_){return b&&S(x.prototype,b),_&&S(x,_),x}}();function d(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function h(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}var p=!1;function m(S){p=S}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){m(!0)}}))}catch{}function f(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return p?S:S.capture}function g(S){if("touches"in S){var x=S.touches[0],b=x.pageX,_=x.pageY;return{x:b,y:_}}var w=S.screenX,C=S.screenY;return{x:w,y:C}}var v=function(S){h(x,S);function x(){var b;s(this,x);for(var _=arguments.length,w=Array(_),C=0;C<_;C++)w[C]=arguments[C];var E=d(this,(b=x.__proto__||Object.getPrototypeOf(x)).call.apply(b,[this].concat(w)));return E._handleSwipeStart=E._handleSwipeStart.bind(E),E._handleSwipeMove=E._handleSwipeMove.bind(E),E._handleSwipeEnd=E._handleSwipeEnd.bind(E),E._onMouseDown=E._onMouseDown.bind(E),E._onMouseMove=E._onMouseMove.bind(E),E._onMouseUp=E._onMouseUp.bind(E),E._setSwiperRef=E._setSwiperRef.bind(E),E}return u(x,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,f({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,f({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(_){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(_))}},{key:"_onMouseMove",value:function(_){this.mouseDown&&this._handleSwipeMove(_)}},{key:"_onMouseUp",value:function(_){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(_)}},{key:"_handleSwipeStart",value:function(_){var w=g(_),C=w.x,E=w.y;this.moveStart={x:C,y:E},this.props.onSwipeStart(_)}},{key:"_handleSwipeMove",value:function(_){if(this.moveStart){var w=g(_),C=w.x,E=w.y,A=C-this.moveStart.x,T=E-this.moveStart.y;this.moving=!0;var M=this.props.onSwipeMove({x:A,y:T},_);M&&_.cancelable&&_.preventDefault(),this.movePosition={deltaX:A,deltaY:T}}}},{key:"_handleSwipeEnd",value:function(_){this.props.onSwipeEnd(_);var w=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-w?this.props.onSwipeLeft(1,_):this.movePosition.deltaX>w&&this.props.onSwipeRight(1,_),this.movePosition.deltaY<-w?this.props.onSwipeUp(1,_):this.movePosition.deltaY>w&&this.props.onSwipeDown(1,_)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(_){this.swiper=_,this.props.innerRef(_)}},{key:"render",value:function(){var _=this.props;_.tagName;var w=_.className,C=_.style,E=_.children;_.allowMouseEvents,_.onSwipeUp,_.onSwipeDown,_.onSwipeLeft,_.onSwipeRight,_.onSwipeStart,_.onSwipeMove,_.onSwipeEnd,_.innerRef,_.tolerance;var A=o(_,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return n.default.createElement(this.props.tagName,l({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:w,style:C},A),E)}}]),x}(i.Component);v.displayName="ReactSwipe",v.propTypes={tagName:a.default.string,className:a.default.string,style:a.default.object,children:a.default.node,allowMouseEvents:a.default.bool,onSwipeUp:a.default.func,onSwipeDown:a.default.func,onSwipeLeft:a.default.func,onSwipeRight:a.default.func,onSwipeStart:a.default.func,onSwipeMove:a.default.func,onSwipeEnd:a.default.func,innerRef:a.default.func,tolerance:a.default.number.isRequired},v.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=v})}(m_)),m_}(function(e){(function(t,i){i(e,fie())})(vN,function(t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(i);function n(a){return a&&a.__esModule?a:{default:a}}t.default=r.default})})(J4);var zv={},mB={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function i(){for(var a="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(a=n(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return i.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var c="";for(var l in a)t.call(a,l)&&a[l]&&(c=n(c,l));return c}function n(a,c){return c?a?a+" "+c:a+c:a}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(mB);var mie=mB.exports;Object.defineProperty(zv,"__esModule",{value:!0});zv.default=void 0;var Gl=gie(mie);function gie(e){return e&&e.__esModule?e:{default:e}}function vie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var yie={ROOT:function(t){return(0,Gl.default)(vie({"carousel-root":!0},t||"",!!t))},CAROUSEL:function(t){return(0,Gl.default)({carousel:!0,"carousel-slider":t})},WRAPPER:function(t,i){return(0,Gl.default)({"thumbs-wrapper":!t,"slider-wrapper":t,"axis-horizontal":i==="horizontal","axis-vertical":i!=="horizontal"})},SLIDER:function(t,i){return(0,Gl.default)({thumbs:!t,slider:t,animated:!i})},ITEM:function(t,i,r){return(0,Gl.default)({thumb:!t,slide:t,selected:i,previous:r})},ARROW_PREV:function(t){return(0,Gl.default)({"control-arrow control-prev":!0,"control-disabled":t})},ARROW_NEXT:function(t){return(0,Gl.default)({"control-arrow control-next":!0,"control-disabled":t})},DOT:function(t){return(0,Gl.default)({dot:!0,selected:t})}};zv.default=yie;var Bv={},U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.outerWidth=void 0;var bie=function(t){var i=t.offsetWidth,r=getComputedStyle(t);return i+=parseInt(r.marginLeft)+parseInt(r.marginRight),i};U2.outerWidth=bie;var gf={};Object.defineProperty(gf,"__esModule",{value:!0});gf.default=void 0;var xie=function(t,i,r){var n=t===0?t:t+i,a=r==="horizontal"?[n,0,0]:[0,n,0],c="translate3d",l="("+a.join(",")+")";return c+l};gf.default=xie;var Fv={};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.default=void 0;var wie=function(){return window};Fv.default=wie;Object.defineProperty(Bv,"__esModule",{value:!0});Bv.default=void 0;var $a=Cie(z),bu=V2(zv),_ie=U2,jP=V2(gf),Sie=V2(J4),I0=V2(Fv);function V2(e){return e&&e.__esModule?e:{default:e}}function gB(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return gB=function(){return e},e}function Cie(e){if(e&&e.__esModule)return e;if(e===null||Qm(e)!=="object"&&typeof e!="function")return{default:e};var t=gB();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,t&&t.set(e,i),i}function Qm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qm=function(i){return typeof i}:Qm=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Qm(e)}function XE(){return XE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},XE.apply(this,arguments)}function Eie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tie(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aie(e,t,i){return t&&Tie(e.prototype,t),e}function Mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},JE(e,t)}function jie(e){var t=Pie();return function(){var r=Ib(e),n;if(t){var a=Ib(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Iie(this,n)}}function Iie(e,t){return t&&(Qm(t)==="object"||typeof t=="function")?t:An(e)}function An(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Ib(e)}function un(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var kie=function(t){return t.hasOwnProperty("key")},Q4=function(e){Mie(i,e);var t=jie(i);function i(r){var n;return Eie(this,i),n=t.call(this,r),un(An(n),"itemsWrapperRef",void 0),un(An(n),"itemsListRef",void 0),un(An(n),"thumbsRef",void 0),un(An(n),"setItemsWrapperRef",function(a){n.itemsWrapperRef=a}),un(An(n),"setItemsListRef",function(a){n.itemsListRef=a}),un(An(n),"setThumbsRef",function(a,c){n.thumbsRef||(n.thumbsRef=[]),n.thumbsRef[c]=a}),un(An(n),"updateSizes",function(){if(!(!n.props.children||!n.itemsWrapperRef||!n.thumbsRef)){var a=$a.Children.count(n.props.children),c=n.itemsWrapperRef.clientWidth,l=n.props.thumbWidth?n.props.thumbWidth:(0,_ie.outerWidth)(n.thumbsRef[0]),o=Math.floor(c/l),s=o<a,u=s?a-o:0;n.setState(function(d,h){return{itemSize:l,visibleItems:o,firstItem:s?n.getFirstItem(h.selectedItem):0,lastPosition:u,showArrows:s}})}}),un(An(n),"handleClickItem",function(a,c,l){if(!kie(l)||l.key==="Enter"){var o=n.props.onSelectItem;typeof o=="function"&&o(a,c)}}),un(An(n),"onSwipeStart",function(){n.setState({swiping:!0})}),un(An(n),"onSwipeEnd",function(){n.setState({swiping:!1})}),un(An(n),"onSwipeMove",function(a){var c=a.x;if(!n.state.itemSize||!n.itemsWrapperRef||!n.state.visibleItems)return!1;var l=0,o=$a.Children.count(n.props.children),s=-(n.state.firstItem*100)/n.state.visibleItems,u=Math.max(o-n.state.visibleItems,0),d=-u*100/n.state.visibleItems;s===l&&c>0&&(c=0),s===d&&c<0&&(c=0);var h=n.itemsWrapperRef.clientWidth,p=s+100/(h/c);return n.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(m){n.itemsListRef.style[m]=(0,jP.default)(p,"%",n.props.axis)}),!0}),un(An(n),"slideRight",function(a){n.moveTo(n.state.firstItem-(typeof a=="number"?a:1))}),un(An(n),"slideLeft",function(a){n.moveTo(n.state.firstItem+(typeof a=="number"?a:1))}),un(An(n),"moveTo",function(a){a=a<0?0:a,a=a>=n.state.lastPosition?n.state.lastPosition:a,n.setState({firstItem:a})}),n.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},n}return Aie(i,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(n){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==n.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,I0.default)().addEventListener("resize",this.updateSizes),(0,I0.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,I0.default)().removeEventListener("resize",this.updateSizes),(0,I0.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(n){var a=n;return n>=this.state.lastPosition&&(a=this.state.lastPosition),n<this.state.firstItem+this.state.visibleItems&&(a=this.state.firstItem),n<this.state.firstItem&&(a=n),a}},{key:"renderItems",value:function(){var n=this;return this.props.children.map(function(a,c){var l=bu.default.ITEM(!1,c===n.state.selectedItem),o={key:c,ref:function(u){return n.setThumbsRef(u,c)},className:l,onClick:n.handleClickItem.bind(n,c,n.props.children[c]),onKeyDown:n.handleClickItem.bind(n,c,n.props.children[c]),"aria-label":"".concat(n.props.labels.item," ").concat(c+1),style:{width:n.props.thumbWidth}};return $a.default.createElement("li",XE({},o,{role:"button",tabIndex:0}),a)})}},{key:"render",value:function(){var n=this;if(!this.props.children)return null;var a=$a.Children.count(this.props.children)>1,c=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,o={},s=-this.state.firstItem*(this.state.itemSize||0),u=(0,jP.default)(s,"px",this.props.axis),d=this.props.transitionTime+"ms";return o={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},$a.default.createElement("div",{className:bu.default.CAROUSEL(!1)},$a.default.createElement("div",{className:bu.default.WRAPPER(!1),ref:this.setItemsWrapperRef},$a.default.createElement("button",{type:"button",className:bu.default.ARROW_PREV(!c),onClick:function(){return n.slideRight()},"aria-label":this.props.labels.leftArrow}),a?$a.default.createElement(Sie.default,{tagName:"ul",className:bu.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:o,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):$a.default.createElement("ul",{className:bu.default.SLIDER(!1,this.state.swiping),ref:function(p){return n.setItemsListRef(p)},style:o},this.renderItems()),$a.default.createElement("button",{type:"button",className:bu.default.ARROW_NEXT(!l),onClick:function(){return n.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),i}($a.Component);Bv.default=Q4;un(Q4,"displayName","Thumbs");un(Q4,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var H2={};Object.defineProperty(H2,"__esModule",{value:!0});H2.default=void 0;var Die=function(){return document};H2.default=Die;var da={};Object.defineProperty(da,"__esModule",{value:!0});da.setPosition=da.getPosition=da.isKeyboardEvent=da.defaultStatusFormatter=da.noop=void 0;var Oie=z,Rie=Nie(gf);function Nie(e){return e&&e.__esModule?e:{default:e}}var Lie=function(){};da.noop=Lie;var zie=function(t,i){return"".concat(t," of ").concat(i)};da.defaultStatusFormatter=zie;var Bie=function(t){return t?t.hasOwnProperty("key"):!1};da.isKeyboardEvent=Bie;var Fie=function(t,i){if(i.infiniteLoop&&++t,t===0)return 0;var r=Oie.Children.count(i.children);if(i.centerMode&&i.axis==="horizontal"){var n=-t*i.centerSlidePercentage,a=r-1;return t&&(t!==a||i.infiniteLoop)?n+=(100-i.centerSlidePercentage)/2:t===a&&(n+=100-i.centerSlidePercentage),n}return-t*100};da.getPosition=Fie;var Uie=function(t,i){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(n){r[n]=(0,Rie.default)(t,"%",i)}),r};da.setPosition=Uie;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.fadeAnimationHandler=ns.slideStopSwipingHandler=ns.slideSwipeAnimationHandler=ns.slideAnimationHandler=void 0;var vB=z,Vie=Hie(gf),as=da;function Hie(e){return e&&e.__esModule?e:{default:e}}function IP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function Bu(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(i),!0).forEach(function(r){Gie(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):IP(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Gie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Wie=function(t,i){var r={},n=i.selectedItem,a=n,c=vB.Children.count(t.children)-1,l=t.infiniteLoop&&(n<0||n>c);if(l)return a<0?t.centerMode&&t.centerSlidePercentage&&t.axis==="horizontal"?r.itemListStyle=(0,as.setPosition)(-(c+2)*t.centerSlidePercentage-(100-t.centerSlidePercentage)/2,t.axis):r.itemListStyle=(0,as.setPosition)(-(c+2)*100,t.axis):a>c&&(r.itemListStyle=(0,as.setPosition)(0,t.axis)),r;var o=(0,as.getPosition)(n,t),s=(0,Vie.default)(o,"%",t.axis),u=t.transitionTime+"ms";return r.itemListStyle={WebkitTransform:s,msTransform:s,OTransform:s,transform:s},i.swiping||(r.itemListStyle=Bu(Bu({},r.itemListStyle),{},{WebkitTransitionDuration:u,MozTransitionDuration:u,OTransitionDuration:u,transitionDuration:u,msTransitionDuration:u})),r};ns.slideAnimationHandler=Wie;var qie=function(t,i,r,n){var a={},c=i.axis==="horizontal",l=vB.Children.count(i.children),o=0,s=(0,as.getPosition)(r.selectedItem,i),u=i.infiniteLoop?(0,as.getPosition)(l-1,i)-100:(0,as.getPosition)(l-1,i),d=c?t.x:t.y,h=d;s===o&&d>0&&(h=0),s===u&&d<0&&(h=0);var p=s+100/(r.itemSize/h),m=Math.abs(d)>i.swipeScrollTolerance;return i.infiniteLoop&&m&&(r.selectedItem===0&&p>-100?p-=l*100:r.selectedItem===l-1&&p<-l*100&&(p+=l*100)),(!i.preventMovementUntilSwipeScrollTolerance||m||r.swipeMovementStarted)&&(r.swipeMovementStarted||n({swipeMovementStarted:!0}),a.itemListStyle=(0,as.setPosition)(p,i.axis)),m&&!r.cancelClick&&n({cancelClick:!0}),a};ns.slideSwipeAnimationHandler=qie;var Yie=function(t,i){var r=(0,as.getPosition)(i.selectedItem,t),n=(0,as.setPosition)(r,t.axis);return{itemListStyle:n}};ns.slideStopSwipingHandler=Yie;var Kie=function(t,i){var r=t.transitionTime+"ms",n="ease-in-out",a={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:n,msTransitionTimingFunction:n,MozTransitionTimingFunction:n,WebkitTransitionTimingFunction:n,OTransitionTimingFunction:n};return i.swiping||(a=Bu(Bu({},a),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:a,selectedStyle:Bu(Bu({},a),{},{opacity:1,position:"relative"}),prevStyle:Bu({},a)}};ns.fadeAnimationHandler=Kie;Object.defineProperty(F2,"__esModule",{value:!0});F2.default=void 0;var ri=Qie(z),Xie=Uv(J4),$s=Uv(zv),Jie=Uv(Bv),P0=Uv(H2),k0=Uv(Fv),Mm=da,Pb=ns;function Uv(e){return e&&e.__esModule?e:{default:e}}function yB(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return yB=function(){return e},e}function Qie(e){if(e&&e.__esModule)return e;if(e===null||$m(e)!=="object"&&typeof e!="function")return{default:e};var t=yB();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,t&&t.set(e,i),i}function $m(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$m=function(i){return typeof i}:$m=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},$m(e)}function QE(){return QE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},QE.apply(this,arguments)}function PP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function Za(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(i),!0).forEach(function(r){Ot(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):PP(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function $ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zie(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ere(e,t,i){return t&&Zie(e.prototype,t),e}function tre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$E(e,t)}function $E(e,t){return $E=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},$E(e,t)}function ire(e){var t=nre();return function(){var r=kb(e),n;if(t){var a=kb(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rre(this,n)}}function rre(e,t){return t&&($m(t)==="object"||typeof t=="function")?t:Lt(e)}function Lt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},kb(e)}function Ot(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $4=function(e){tre(i,e);var t=ire(i);function i(r){var n;$ie(this,i),n=t.call(this,r),Ot(Lt(n),"thumbsRef",void 0),Ot(Lt(n),"carouselWrapperRef",void 0),Ot(Lt(n),"listRef",void 0),Ot(Lt(n),"itemsRef",void 0),Ot(Lt(n),"timer",void 0),Ot(Lt(n),"animationHandler",void 0),Ot(Lt(n),"setThumbsRef",function(c){n.thumbsRef=c}),Ot(Lt(n),"setCarouselWrapperRef",function(c){n.carouselWrapperRef=c}),Ot(Lt(n),"setListRef",function(c){n.listRef=c}),Ot(Lt(n),"setItemsRef",function(c,l){n.itemsRef||(n.itemsRef=[]),n.itemsRef[l]=c}),Ot(Lt(n),"autoPlay",function(){ri.Children.count(n.props.children)<=1||(n.clearAutoPlay(),n.props.autoPlay&&(n.timer=setTimeout(function(){n.increment()},n.props.interval)))}),Ot(Lt(n),"clearAutoPlay",function(){n.timer&&clearTimeout(n.timer)}),Ot(Lt(n),"resetAutoPlay",function(){n.clearAutoPlay(),n.autoPlay()}),Ot(Lt(n),"stopOnHover",function(){n.setState({isMouseEntered:!0},n.clearAutoPlay)}),Ot(Lt(n),"startOnLeave",function(){n.setState({isMouseEntered:!1},n.autoPlay)}),Ot(Lt(n),"isFocusWithinTheCarousel",function(){return n.carouselWrapperRef?!!((0,P0.default)().activeElement===n.carouselWrapperRef||n.carouselWrapperRef.contains((0,P0.default)().activeElement)):!1}),Ot(Lt(n),"navigateWithKeyboard",function(c){if(n.isFocusWithinTheCarousel()){var l=n.props.axis,o=l==="horizontal",s={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},u=o?s.ArrowRight:s.ArrowDown,d=o?s.ArrowLeft:s.ArrowUp;u===c.keyCode?n.increment():d===c.keyCode&&n.decrement()}}),Ot(Lt(n),"updateSizes",function(){if(!(!n.state.initialized||!n.itemsRef||n.itemsRef.length===0)){var c=n.props.axis==="horizontal",l=n.itemsRef[0];if(l){var o=c?l.clientWidth:l.clientHeight;n.setState({itemSize:o}),n.thumbsRef&&n.thumbsRef.updateSizes()}}}),Ot(Lt(n),"setMountState",function(){n.setState({hasMount:!0}),n.updateSizes()}),Ot(Lt(n),"handleClickItem",function(c,l){if(ri.Children.count(n.props.children)!==0){if(n.state.cancelClick){n.setState({cancelClick:!1});return}n.props.onClickItem(c,l),c!==n.state.selectedItem&&n.setState({selectedItem:c})}}),Ot(Lt(n),"handleOnChange",function(c,l){ri.Children.count(n.props.children)<=1||n.props.onChange(c,l)}),Ot(Lt(n),"handleClickThumb",function(c,l){n.props.onClickThumb(c,l),n.moveTo(c)}),Ot(Lt(n),"onSwipeStart",function(c){n.setState({swiping:!0}),n.props.onSwipeStart(c)}),Ot(Lt(n),"onSwipeEnd",function(c){n.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),n.props.onSwipeEnd(c),n.clearAutoPlay(),n.state.autoPlay&&n.autoPlay()}),Ot(Lt(n),"onSwipeMove",function(c,l){n.props.onSwipeMove(l);var o=n.props.swipeAnimationHandler(c,n.props,n.state,n.setState.bind(Lt(n)));return n.setState(Za({},o)),!!Object.keys(o).length}),Ot(Lt(n),"decrement",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;n.moveTo(n.state.selectedItem-(typeof c=="number"?c:1))}),Ot(Lt(n),"increment",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;n.moveTo(n.state.selectedItem+(typeof c=="number"?c:1))}),Ot(Lt(n),"moveTo",function(c){if(typeof c=="number"){var l=ri.Children.count(n.props.children)-1;c<0&&(c=n.props.infiniteLoop?l:0),c>l&&(c=n.props.infiniteLoop?0:l),n.selectItem({selectedItem:c}),n.state.autoPlay&&n.state.isMouseEntered===!1&&n.resetAutoPlay()}}),Ot(Lt(n),"onClickNext",function(){n.increment(1)}),Ot(Lt(n),"onClickPrev",function(){n.decrement(1)}),Ot(Lt(n),"onSwipeForward",function(){n.increment(1),n.props.emulateTouch&&n.setState({cancelClick:!0})}),Ot(Lt(n),"onSwipeBackwards",function(){n.decrement(1),n.props.emulateTouch&&n.setState({cancelClick:!0})}),Ot(Lt(n),"changeItem",function(c){return function(l){(!(0,Mm.isKeyboardEvent)(l)||l.key==="Enter")&&n.moveTo(c)}}),Ot(Lt(n),"selectItem",function(c){n.setState(Za({previousItem:n.state.selectedItem},c),function(){n.setState(n.animationHandler(n.props,n.state))}),n.handleOnChange(c.selectedItem,ri.Children.toArray(n.props.children)[c.selectedItem])}),Ot(Lt(n),"getInitialImage",function(){var c=n.props.selectedItem,l=n.itemsRef&&n.itemsRef[c],o=l&&l.getElementsByTagName("img")||[];return o[0]}),Ot(Lt(n),"getVariableItemHeight",function(c){var l=n.itemsRef&&n.itemsRef[c];if(n.state.hasMount&&l&&l.children.length){var o=l.children[0].getElementsByTagName("img")||[];if(o.length>0){var s=o[0];if(!s.complete){var u=function p(){n.forceUpdate(),s.removeEventListener("load",p)};s.addEventListener("load",u)}}var d=o[0]||l.children[0],h=d.clientHeight;return h>0?h:null}return null});var a={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return n.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&Pb.fadeAnimationHandler||Pb.slideAnimationHandler,n.state=Za(Za({},a),n.animationHandler(r,a)),n}return ere(i,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(n,a){!n.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!n.autoFocus&&this.props.autoFocus&&this.forceFocus(),a.swiping&&!this.state.swiping&&this.setState(Za({},this.props.stopSwipingHandler(this.props,this.state))),(n.selectedItem!==this.props.selectedItem||n.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),n.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var n=this;this.bindEvents(),this.state.autoPlay&&ri.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var a=n.getInitialImage();a&&!a.complete?a.addEventListener("load",n.setMountState):n.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var n=this.carouselWrapperRef;this.props.stopOnHover&&n&&(n.addEventListener("mouseenter",this.stopOnHover),n.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var n=this.carouselWrapperRef;this.props.stopOnHover&&n&&(n.removeEventListener("mouseenter",this.stopOnHover),n.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,k0.default)().addEventListener("resize",this.updateSizes),(0,k0.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,P0.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,k0.default)().removeEventListener("resize",this.updateSizes),(0,k0.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var n=this.getInitialImage();n&&n.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,P0.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var n;(n=this.carouselWrapperRef)===null||n===void 0||n.focus()}},{key:"renderItems",value:function(n){var a=this;return this.props.children?ri.Children.map(this.props.children,function(c,l){var o=l===a.state.selectedItem,s=l===a.state.previousItem,u=o&&a.state.selectedStyle||s&&a.state.prevStyle||a.state.slideStyle||{};a.props.centerMode&&a.props.axis==="horizontal"&&(u=Za(Za({},u),{},{minWidth:a.props.centerSlidePercentage+"%"})),a.state.swiping&&a.state.swipeMovementStarted&&(u=Za(Za({},u),{},{pointerEvents:"none"}));var d={ref:function(p){return a.setItemsRef(p,l)},key:"itemKey"+l+(n?"clone":""),className:$s.default.ITEM(!0,l===a.state.selectedItem,l===a.state.previousItem),onClick:a.handleClickItem.bind(a,l,c),style:u};return ri.default.createElement("li",d,a.props.renderItem(c,{isSelected:l===a.state.selectedItem,isPrevious:l===a.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var n=this,a=this.props,c=a.showIndicators,l=a.labels,o=a.renderIndicator,s=a.children;return c?ri.default.createElement("ul",{className:"control-dots"},ri.Children.map(s,function(u,d){return o&&o(n.changeItem(d),d===n.state.selectedItem,d,l.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?ri.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,ri.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||ri.Children.count(this.props.children)===0?null:ri.default.createElement(Jie.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var n=this;if(!this.props.children||ri.Children.count(this.props.children)===0)return null;var a=this.props.swipeable&&ri.Children.count(this.props.children)>1,c=this.props.axis==="horizontal",l=this.props.showArrows&&ri.Children.count(this.props.children)>1,o=l&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,s=l&&(this.state.selectedItem<ri.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),d=u.shift(),h=u.pop(),p={className:$s.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},m={};if(c){if(p.onSwipeLeft=this.onSwipeForward,p.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var f=this.getVariableItemHeight(this.state.selectedItem);m.height=f||"auto"}}else p.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,p.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,p.style=Za(Za({},p.style),{},{height:this.state.itemSize}),m.height=this.state.itemSize;return ri.default.createElement("div",{"aria-label":this.props.ariaLabel,className:$s.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},ri.default.createElement("div",{className:$s.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,o,this.props.labels.leftArrow),ri.default.createElement("div",{className:$s.default.WRAPPER(!0,this.props.axis),style:m},a?ri.default.createElement(Xie.default,QE({tagName:"ul",innerRef:this.setListRef},p,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&d):ri.default.createElement("ul",{className:$s.default.SLIDER(!0,this.state.swiping),ref:function(v){return n.setListRef(v)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&d)),this.props.renderArrowNext(this.onClickNext,s,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),i}(ri.default.Component);F2.default=$4;Ot($4,"displayName","Carousel");Ot($4,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Mm.noop,onClickThumb:Mm.noop,onChange:Mm.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(t,i,r){return ri.default.createElement("button",{type:"button","aria-label":r,className:$s.default.ARROW_PREV(!i),onClick:t})},renderArrowNext:function(t,i,r){return ri.default.createElement("button",{type:"button","aria-label":r,className:$s.default.ARROW_NEXT(!i),onClick:t})},renderIndicator:function(t,i,r,n){return ri.default.createElement("li",{className:$s.default.DOT(i),onClick:t,onKeyDown:t,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(n," ").concat(r+1)})},renderItem:function(t){return t},renderThumbs:function(t){var i=ri.Children.map(t,function(r){var n=r;if(r.type!=="img"&&(n=ri.Children.toArray(r.props.children).find(function(a){return a.type==="img"})),!!n)return n});return i.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):i},statusFormatter:Mm.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Pb.slideSwipeAnimationHandler,stopSwipingHandler:Pb.slideStopSwipingHandler});var are={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return i.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return r.default}});var t=n(F2),i=are,r=n(Bv);function n(a){return a&&a.__esModule?a:{default:a}}})(uie);const Db="/assets/i1-DQ4uhMI5.png",Ob="/assets/i2-Cx4QaecK.png",Rb="/assets/i3-6Deoh5Ly.png",ZE="/assets/i4-C8z3p3nC.png",Nb="/assets/i5-DDpx3JDq.png",Lb="/assets/i6-DKFkmR1B.png",zb="/assets/i7-BfJVKjBj.png",Bb="/assets/i8-5IIJwmOB.png",e3="/assets/i9-PES3JP8D.png",kP="/assets/i10-Dsdj-qe8.png",ore="/Images/cover_top.svg",sre="/Images/cover_bottom.svg";function lre(){return y.jsx(y.Fragment,{children:y.jsx("div",{className:"performers-container",children:y.jsx("div",{className:"main-container",children:y.jsx("div",{className:"sliider",children:y.jsx("div",{className:"slider-container",children:[{src:e3,name:"OLLY"},{src:Db,name:"Guru Randhawa"},{src:Ob,name:"HARSH GUJRAL"},{src:Rb,name:"KK"},{src:ZE,name:"AMIT TRIVEDI"},{src:Nb,name:"PAPON"},{src:Lb,name:"RAHUL DUA"},{src:zb,name:"SACHIN-JIGAR"},{src:Bb,name:"ZAKIR KHAN"},{src:e3,name:"OLLY"},{src:kP,name:"MOHIT CHAUHAN"},{src:Db,name:"GURU RANDHAWA"},{src:Ob,name:"HARSH GUJRAL"},{src:Rb,name:"KK"},{src:Nb,name:"PAPON"},{src:Lb,name:"RAHUL DUA"},{src:zb,name:"SACHIN-JIGAR"},{src:Bb,name:"ZAKIR KHAN"},{src:kP,name:"MOHIT CHAUHAN"}].map((e,t)=>y.jsxs("div",{className:"sliide",style:{backgroundImage:`url(${e.src})`,borderRadius:"10px",backgroundSize:"100% 100%",backgroundPosition:"center",position:"relative",height:"250px",margin:"1rem"},children:[y.jsx("img",{src:ore,alt:"Cover Top",style:{position:"absolute",top:"-5px"}}),y.jsx("img",{className:"slider-bgImage",src:e.src,alt:e.name,style:{opacity:0}}),y.jsx("img",{src:sre,alt:"Cover Bottom",style:{position:"absolute",bottom:"-5px"}}),y.jsx("div",{className:"name",style:{position:"absolute",bottom:"-35px"},children:e.name.toLowerCase()})]},t))})})})})})}function cre(){return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"performers-containermo",children:[y.jsx("div",{className:"mobileperformers",children:"Past Performers"}),y.jsx("div",{className:"performers-corouselsmo",children:y.jsx("div",{className:"slider-container",children:[{src:Db,name:"Guru Randhawa"},{src:Ob,name:"HARSH GUJRAL"},{src:Rb,name:"KK"},{src:ZE,name:"AMIT TRIVEDI"},{src:Nb,name:"PAPON"},{src:e3,name:"OLLY"},{src:Lb,name:"RAHUL DUA"},{src:zb,name:"SACHIN-JIGAR"},{src:Bb,name:"ZAKIR KHAN"},{src:Db,name:"GURU RANDHAWA"},{src:Ob,name:"HARSH GUJRAL"},{src:Rb,name:"KK"},{src:ZE,name:"AMIT TRIVEDI"},{src:Nb,name:"PAPON"},{src:Lb,name:"RAHUL DUA"},{src:zb,name:"SACHIN-JIGAR"},{src:Bb,name:"ZAKIR KHAN"}].map((e,t)=>y.jsxs("div",{className:"sliide slidemo",children:[y.jsx("img",{className:`img${t%8+1}`,src:e.src,alt:e.name}),y.jsx("div",{className:"name",children:e.name.toLowerCase()})]},t))})})]})})}function ure(){const[e,t]=z.useState(window.innerWidth<790);return z.useEffect(()=>{const i=()=>{t(window.innerWidth<780)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]),y.jsx(y.Fragment,{children:e?y.jsx(cre,{}):y.jsx(lre,{})})}const DP="/assets/EX05-BYCTebRZ.jpg",dre=pf({name:"carousel",initialState:{currentImageIndex:0},reducers:{nextImage:e=>{e.currentImageIndex=(e.currentImageIndex+1)%b_.length},prevImage:e=>{e.currentImageIndex=(e.currentImageIndex-1+b_.length)%b_.length}}}),hre=dre.reducer,pre="/assets/EX02-BGrBSW9T.jpg",fre="/assets/EX03-D8ASWLaX.jpeg",mre="/assets/EX04-C8ebDcSq.jpg",b_=[DP,pre,fre,mre,DP],gre="modulepreload",vre=function(e){return"/"+e},OP={},hu=function(t,i,r){let n=Promise.resolve();return i&&i.length>0&&(document.getElementsByTagName("link"),n=Promise.all(i.map(a=>{if(a=vre(a),a in OP)return;OP[a]=!0;const c=a.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const o=document.createElement("link");if(o.rel=c?"stylesheet":gre,c||(o.as="script",o.crossOrigin=""),o.href=a,document.head.appendChild(o),c)return new Promise((s,u)=>{o.addEventListener("load",s),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})}))),n.then(()=>t()).catch(a=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a})};var yre=Object.create,G2=Object.defineProperty,bre=Object.getOwnPropertyDescriptor,xre=Object.getOwnPropertyNames,wre=Object.getPrototypeOf,_re=Object.prototype.hasOwnProperty,Sre=(e,t,i)=>t in e?G2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Fd=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Cre=(e,t)=>{for(var i in t)G2(e,i,{get:t[i],enumerable:!0})},Ere=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of xre(t))!_re.call(e,n)&&n!==i&&G2(e,n,{get:()=>t[n],enumerable:!(r=bre(t,n))||r.enumerable});return e},pu=(e,t,i)=>(i=e!=null?yre(wre(e)):{},Ere(t||!e||!e.__esModule?G2(i,"default",{value:e,enumerable:!0}):i,e)),$u=(e,t,i)=>(Sre(e,typeof t!="symbol"?t+"":t,i),i),Tre=Fd((e,t)=>{(function(i,r){typeof e=="object"?t.exports=r():typeof define=="function"&&define.amd?define(r):i.Alea=r()})(e,function(){return i.importState=function(n){var a=new i;return a.importState(n),a},i;function i(){return function(n){var a=0,c=0,l=0,o=1;n.length==0&&(n=[+new Date]);var s=r();a=s(" "),c=s(" "),l=s(" ");for(var u=0;u<n.length;u++)a-=s(n[u]),a<0&&(a+=1),c-=s(n[u]),c<0&&(c+=1),l-=s(n[u]),l<0&&(l+=1);s=null;var d=function(){var h=2091639*a+o*23283064365386963e-26;return a=c,c=l,l=h-(o=h|0)};return d.next=d,d.uint32=function(){return d()*4294967296},d.fract53=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.version="Alea 0.9",d.args=n,d.exportState=function(){return[a,c,l,o]},d.importState=function(h){a=+h[0]||0,c=+h[1]||0,l=+h[2]||0,o=+h[3]||0},d}(Array.prototype.slice.call(arguments))}function r(){var n=4022871197,a=function(c){c=c.toString();for(var l=0;l<c.length;l++){n+=c.charCodeAt(l);var o=.02519603282416938*n;n=o>>>0,o-=n,o*=n,n=o>>>0,o-=n,n+=o*4294967296}return(n>>>0)*23283064365386963e-26};return a.version="Mash 0.9",a}})}),bB=Fd((e,t)=>{(function(i,r){typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):r((i=typeof globalThis<"u"?globalThis:i||self).SVDJS={})})(e,function(i){i.SVD=function(r,n,a,c,l){if(n=n===void 0||n,a=a===void 0||a,l=1e-64/(c=c||Math.pow(2,-52)),!r)throw new TypeError("Matrix a is not defined");var o,s,u,d,h,p,m,f,g,v,S,x,b=r[0].length,_=r.length;if(_<b)throw new TypeError("Invalid matrix: m < n");for(var w=[],C=[],E=[],A=n==="f"?_:b,T=v=m=0;T<_;T++)C[T]=new Array(A).fill(0);for(T=0;T<b;T++)E[T]=new Array(b).fill(0);var M,j=new Array(b).fill(0);for(T=0;T<_;T++)for(o=0;o<b;o++)C[T][o]=r[T][o];for(T=0;T<b;T++){for(w[T]=m,g=0,u=T+1,o=T;o<_;o++)g+=Math.pow(C[o][T],2);if(g<l)m=0;else for(f=(p=C[T][T])*(m=p<0?Math.sqrt(g):-Math.sqrt(g))-g,C[T][T]=p-m,o=u;o<b;o++){for(g=0,s=T;s<_;s++)g+=C[s][T]*C[s][o];for(p=g/f,s=T;s<_;s++)C[s][o]=C[s][o]+p*C[s][T]}for(j[T]=m,g=0,o=u;o<b;o++)g+=Math.pow(C[T][o],2);if(g<l)m=0;else{for(f=(p=C[T][T+1])*(m=p<0?Math.sqrt(g):-Math.sqrt(g))-g,C[T][T+1]=p-m,o=u;o<b;o++)w[o]=C[T][o]/f;for(o=u;o<_;o++){for(g=0,s=u;s<b;s++)g+=C[o][s]*C[T][s];for(s=u;s<b;s++)C[o][s]=C[o][s]+g*w[s]}}v<(S=Math.abs(j[T])+Math.abs(w[T]))&&(v=S)}if(a)for(T=b-1;0<=T;T--){if(m!==0){for(f=C[T][T+1]*m,o=u;o<b;o++)E[o][T]=C[T][o]/f;for(o=u;o<b;o++){for(g=0,s=u;s<b;s++)g+=C[T][s]*E[s][o];for(s=u;s<b;s++)E[s][o]=E[s][o]+g*E[s][T]}}for(o=u;o<b;o++)E[T][o]=0,E[o][T]=0;E[T][T]=1,m=w[T],u=T}if(n){if(n==="f")for(T=b;T<_;T++){for(o=b;o<_;o++)C[T][o]=0;C[T][T]=1}for(T=b-1;0<=T;T--){for(u=T+1,m=j[T],o=u;o<A;o++)C[T][o]=0;if(m!==0){for(f=C[T][T]*m,o=u;o<A;o++){for(g=0,s=u;s<_;s++)g+=C[s][T]*C[s][o];for(p=g/f,s=T;s<_;s++)C[s][o]=C[s][o]+p*C[s][T]}for(o=T;o<_;o++)C[o][T]=C[o][T]/m}else for(o=T;o<_;o++)C[o][T]=0;C[T][T]=C[T][T]+1}}for(c*=v,s=b-1;0<=s;s--)for(var P=0;P<50;P++){for(M=!1,u=s;0<=u;u--){if(Math.abs(w[u])<=c){M=!0;break}if(Math.abs(j[u-1])<=c)break}if(!M){for(h=0,d=u-(g=1),T=u;T<s+1&&(p=g*w[T],w[T]=h*w[T],!(Math.abs(p)<=c));T++)if(m=j[T],j[T]=Math.sqrt(p*p+m*m),h=m/(f=j[T]),g=-p/f,n)for(o=0;o<_;o++)S=C[o][d],x=C[o][T],C[o][d]=S*h+x*g,C[o][T]=-S*g+x*h}if(x=j[s],u===s){if(x<0&&(j[s]=-x,a))for(o=0;o<b;o++)E[o][s]=-E[o][s];break}for(v=j[u],p=(((S=j[s-1])-x)*(S+x)+((m=w[s-1])-(f=w[s]))*(m+f))/(2*f*S),m=Math.sqrt(p*p+1),p=((v-x)*(v+x)+f*(S/(p<0?p-m:p+m)-f))/v,T=u+(g=h=1);T<s+1;T++){if(m=w[T],S=j[T],f=g*m,m*=h,x=Math.sqrt(p*p+f*f),p=v*(h=p/(w[T-1]=x))+m*(g=f/x),m=-v*g+m*h,f=S*g,S*=h,a)for(o=0;o<b;o++)v=E[o][T-1],x=E[o][T],E[o][T-1]=v*h+x*g,E[o][T]=-v*g+x*h;if(x=Math.sqrt(p*p+f*f),p=(h=p/(j[T-1]=x))*m+(g=f/x)*S,v=-g*m+h*S,n)for(o=0;o<_;o++)S=C[o][T-1],x=C[o][T],C[o][T-1]=S*h+x*g,C[o][T]=-S*g+x*h}w[u]=0,w[s]=p,j[s]=v}for(T=0;T<b;T++)j[T]<c&&(j[T]=0);return{u:C,q:j,v:E}},i.VERSION="1.1.1",Object.defineProperty(i,"__esModule",{value:!0})})}),Are=Fd((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function i(r){if(r===null||r===!0||r===!1)return NaN;var n=Number(r);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}t.exports=e.default}),Mre=Fd((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function i(r){var n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),r.getTime()-n.getTime()}t.exports=e.default}),jre=Fd((e,t)=>{function i(a,c){function l(){this.constructor=a}l.prototype=c.prototype,a.prototype=new l}function r(a,c,l,o){this.message=a,this.expected=c,this.found=l,this.location=o,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}i(r,Error),r.buildMessage=function(a,c){var l={literal:function(m){return'"'+s(m.text)+'"'},class:function(m){var f="",g;for(g=0;g<m.parts.length;g++)f+=m.parts[g]instanceof Array?u(m.parts[g][0])+"-"+u(m.parts[g][1]):u(m.parts[g]);return"["+(m.inverted?"^":"")+f+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function o(m){return m.charCodeAt(0).toString(16).toUpperCase()}function s(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+o(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+o(f)})}function u(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+o(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+o(f)})}function d(m){return l[m.type](m)}function h(m){var f=new Array(m.length),g,v;for(g=0;g<m.length;g++)f[g]=d(m[g]);if(f.sort(),f.length>0){for(g=1,v=1;g<f.length;g++)f[g-1]!==f[g]&&(f[v]=f[g],v++);f.length=v}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function p(m){return m?'"'+s(m)+'"':"end of input"}return"Expected "+h(a)+" but "+p(c)+" found."};function n(a,c){c=c!==void 0?c:{};var l={},o={svg_path:it},s=it,u=function(V){if(!V)return[];for(var Y=[],oe=0;oe<V.length;oe++)Y=Y.concat.apply(Y,V[oe]);var J=Y[0];return J&&J.code=="m"&&(delete J.relative,J.code="M"),Y},d=function(V,Y){return ks(V,Y)},h=/^[Mm]/,p=Ue(["M","m"],!1,!1),m=function(V,Y,oe){var J=Oo(V,[Y]);return oe&&(J=J.concat(Oo(V=="M"?"L":"l",oe[1]))),J},f=/^[Zz]/,g=Ue(["Z","z"],!1,!1),v=function(){return Oo("Z")},S=/^[Ll]/,x=Ue(["L","l"],!1,!1),b=function(V,Y){return Oo(V,Y)},_=/^[Hh]/,w=Ue(["H","h"],!1,!1),C=function(V,Y){return Oo(V,Y.map(function(oe){return{x:oe}}))},E=/^[Vv]/,A=Ue(["V","v"],!1,!1),T=function(V,Y){return Oo(V,Y.map(function(oe){return{y:oe}}))},M=/^[Cc]/,j=Ue(["C","c"],!1,!1),P=function(V,Y,oe){return{x1:V.x,y1:V.y,x2:Y.x,y2:Y.y,x:oe.x,y:oe.y}},I=/^[Ss]/,k=Ue(["S","s"],!1,!1),R=function(V,Y){return{x2:V.x,y2:V.y,x:Y.x,y:Y.y}},O=/^[Qq]/,D=Ue(["Q","q"],!1,!1),L=function(V,Y){return{x1:V.x,y1:V.y,x:Y.x,y:Y.y}},B=/^[Tt]/,F=Ue(["T","t"],!1,!1),H=/^[Aa]/,ee=Ue(["A","a"],!1,!1),U=function(V,Y,oe,J,le,De){return{rx:V,ry:Y,xAxisRotation:oe,largeArc:J,sweep:le,x:De.x,y:De.y}},X=function(V,Y){return{x:V,y:Y}},W=function(V){return V*1},ie=function(V){return V.join("")*1},Q=/^[01]/,ae=Ue(["0","1"],!1,!1),K=function(V){return V=="1"},te=function(){return""},ne=",",ce=Ye(",",!1),pe=function(V){return V.join("")},ge=".",ue=Ye(".",!1),Me=/^[eE]/,Ae=Ue(["e","E"],!1,!1),je=/^[+\-]/,Ke=Ue(["+","-"],!1,!1),Pe=/^[0-9]/,Z=Ue([["0","9"]],!1,!1),q=function(V){return V.join("")},fe=/^[ \t\n\r]/,Ce=Ue([" ","	",`
`,"\r"],!1,!1),G=0,ke=[{line:1,column:1}],Re=0,Be=[],be;if("startRule"in c){if(!(c.startRule in o))throw new Error(`Can't start parsing from rule "`+c.startRule+'".');s=o[c.startRule]}function Ye(V,Y){return{type:"literal",text:V,ignoreCase:Y}}function Ue(V,Y,oe){return{type:"class",parts:V,inverted:Y,ignoreCase:oe}}function Je(){return{type:"end"}}function nt(V){var Y=ke[V],oe;if(Y)return Y;for(oe=V-1;!ke[oe];)oe--;for(Y=ke[oe],Y={line:Y.line,column:Y.column};oe<V;)a.charCodeAt(oe)===10?(Y.line++,Y.column=1):Y.column++,oe++;return ke[V]=Y,Y}function et(V,Y){var oe=nt(V),J=nt(Y);return{start:{offset:V,line:oe.line,column:oe.column},end:{offset:Y,line:J.line,column:J.column}}}function rt(V){G<Re||(G>Re&&(Re=G,Be=[]),Be.push(V))}function We(V,Y,oe){return new r(r.buildMessage(V,Y),V,Y,oe)}function it(){var V,Y,oe,J,le;for(V=G,Y=[],oe=Dt();oe!==l;)Y.push(oe),oe=Dt();if(Y!==l)if(oe=se(),oe===l&&(oe=null),oe!==l){for(J=[],le=Dt();le!==l;)J.push(le),le=Dt();J!==l?(Y=u(oe),V=Y):(G=V,V=l)}else G=V,V=l;else G=V,V=l;return V}function se(){var V,Y,oe,J,le,De;if(V=G,Y=me(),Y!==l){for(oe=[],J=G,le=[],De=Dt();De!==l;)le.push(De),De=Dt();for(le!==l?(De=me(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;){for(oe.push(J),J=G,le=[],De=Dt();De!==l;)le.push(De),De=Dt();le!==l?(De=me(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l)}oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function me(){var V,Y,oe,J,le,De;if(V=G,Y=He(),Y!==l){for(oe=[],J=G,le=[],De=Dt();De!==l;)le.push(De),De=Dt();for(le!==l?(De=Se(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;){for(oe.push(J),J=G,le=[],De=Dt();De!==l;)le.push(De),De=Dt();le!==l?(De=Se(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l)}oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function Se(){var V;return V=pt(),V===l&&(V=Bt(),V===l&&(V=Tr(),V===l&&(V=yi(),V===l&&(V=Xa(),V===l&&(V=Sw(),V===l&&(V=$(),V===l&&(V=he(),V===l&&(V=$e())))))))),V}function He(){var V,Y,oe,J,le,De,Ds;if(V=G,h.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(p)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=ot(),J!==l?(le=G,De=Tt(),De===l&&(De=null),De!==l?(Ds=Wi(),Ds!==l?(De=[De,Ds],le=De):(G=le,le=l)):(G=le,le=l),le===l&&(le=null),le!==l?(Y=m(Y,J,le),V=Y):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function pt(){var V,Y;return V=G,f.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(g)),Y!==l&&(Y=v()),V=Y,V}function Bt(){var V,Y,oe,J;if(V=G,S.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(x)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=Wi(),J!==l?(Y=b(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function Wi(){var V,Y,oe,J,le,De;if(V=G,Y=ot(),Y!==l){for(oe=[],J=G,le=Tt(),le===l&&(le=null),le!==l?(De=ot(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;)oe.push(J),J=G,le=Tt(),le===l&&(le=null),le!==l?(De=ot(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function Tr(){var V,Y,oe,J;if(V=G,_.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(w)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=Do(),J!==l?(Y=C(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function Do(){var V,Y,oe,J,le,De;if(V=G,Y=It(),Y!==l){for(oe=[],J=G,le=Tt(),le===l&&(le=null),le!==l?(De=It(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;)oe.push(J),J=G,le=Tt(),le===l&&(le=null),le!==l?(De=It(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function yi(){var V,Y,oe,J;if(V=G,E.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(A)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=Do(),J!==l?(Y=T(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function Xa(){var V,Y,oe,J;if(V=G,M.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(j)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=Vn(),J!==l?(Y=b(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function Vn(){var V,Y,oe,J,le,De;if(V=G,Y=Yd(),Y!==l){for(oe=[],J=G,le=Tt(),le===l&&(le=null),le!==l?(De=Yd(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;)oe.push(J),J=G,le=Tt(),le===l&&(le=null),le!==l?(De=Yd(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function Yd(){var V,Y,oe,J,le,De;return V=G,Y=ot(),Y!==l?(oe=Tt(),oe===l&&(oe=null),oe!==l?(J=ot(),J!==l?(le=Tt(),le===l&&(le=null),le!==l?(De=ot(),De!==l?(Y=P(Y,J,De),V=Y):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l),V}function Sw(){var V,Y,oe,J;if(V=G,I.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(k)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=Cw(),J!==l?(Y=b(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function Cw(){var V,Y,oe,J,le,De;if(V=G,Y=Nf(),Y!==l){for(oe=[],J=G,le=Tt(),le===l&&(le=null),le!==l?(De=Nf(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;)oe.push(J),J=G,le=Tt(),le===l&&(le=null),le!==l?(De=Nf(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function Nf(){var V,Y,oe,J;return V=G,Y=ot(),Y!==l?(oe=Tt(),oe===l&&(oe=null),oe!==l?(J=ot(),J!==l?(Y=R(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)):(G=V,V=l),V}function $(){var V,Y,oe,J;if(V=G,O.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(D)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=ve(),J!==l?(Y=b(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function ve(){var V,Y,oe,J,le,De;if(V=G,Y=we(),Y!==l){for(oe=[],J=G,le=Tt(),le===l&&(le=null),le!==l?(De=we(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;)oe.push(J),J=G,le=Tt(),le===l&&(le=null),le!==l?(De=we(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function we(){var V,Y,oe,J;return V=G,Y=ot(),Y!==l?(oe=Tt(),oe===l&&(oe=null),oe!==l?(J=ot(),J!==l?(Y=L(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)):(G=V,V=l),V}function he(){var V,Y,oe,J;if(V=G,B.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(F)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=_e(),J!==l?(Y=b(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function _e(){var V,Y,oe,J,le,De;if(V=G,Y=ot(),Y!==l){for(oe=[],J=G,le=Tt(),le===l&&(le=null),le!==l?(De=ot(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;)oe.push(J),J=G,le=Tt(),le===l&&(le=null),le!==l?(De=ot(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function $e(){var V,Y,oe,J;if(V=G,H.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(ee)),Y!==l){for(oe=[],J=Dt();J!==l;)oe.push(J),J=Dt();oe!==l?(J=bt(),J!==l?(Y=b(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)}else G=V,V=l;return V}function bt(){var V,Y,oe,J,le,De;if(V=G,Y=wt(),Y!==l){for(oe=[],J=G,le=Tt(),le===l&&(le=null),le!==l?(De=wt(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);J!==l;)oe.push(J),J=G,le=Tt(),le===l&&(le=null),le!==l?(De=wt(),De!==l?(le=[le,De],J=le):(G=J,J=l)):(G=J,J=l);oe!==l?(Y=d(Y,oe),V=Y):(G=V,V=l)}else G=V,V=l;return V}function wt(){var V,Y,oe,J,le,De,Ds,Ew,c0,Tw,u0,Aw;return V=G,Y=Jt(),Y!==l?(oe=Tt(),oe===l&&(oe=null),oe!==l?(J=Jt(),J!==l?(le=Tt(),le===l&&(le=null),le!==l?(De=It(),De!==l?(Ds=Tt(),Ds!==l?(Ew=Pt(),Ew!==l?(c0=Tt(),c0===l&&(c0=null),c0!==l?(Tw=Pt(),Tw!==l?(u0=Tt(),u0===l&&(u0=null),u0!==l?(Aw=ot(),Aw!==l?(Y=U(Y,J,De,Ew,Tw,Aw),V=Y):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l)):(G=V,V=l),V}function ot(){var V,Y,oe,J;return V=G,Y=It(),Y!==l?(oe=Tt(),oe===l&&(oe=null),oe!==l?(J=It(),J!==l?(Y=X(Y,J),V=Y):(G=V,V=l)):(G=V,V=l)):(G=V,V=l),V}function Jt(){var V,Y;return V=G,Y=wa(),Y===l&&(Y=Ja()),Y!==l&&(Y=W(Y)),V=Y,V}function It(){var V,Y,oe,J;return V=G,Y=G,oe=Nt(),oe===l&&(oe=null),oe!==l?(J=wa(),J!==l?(oe=[oe,J],Y=oe):(G=Y,Y=l)):(G=Y,Y=l),Y===l&&(Y=G,oe=Nt(),oe===l&&(oe=null),oe!==l?(J=Ja(),J!==l?(oe=[oe,J],Y=oe):(G=Y,Y=l)):(G=Y,Y=l)),Y!==l&&(Y=ie(Y)),V=Y,V}function Pt(){var V,Y;return V=G,Q.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(ae)),Y!==l&&(Y=K(Y)),V=Y,V}function Tt(){var V,Y,oe,J,le;if(V=G,Y=[],oe=Dt(),oe!==l)for(;oe!==l;)Y.push(oe),oe=Dt();else Y=l;if(Y!==l)if(oe=dr(),oe===l&&(oe=null),oe!==l){for(J=[],le=Dt();le!==l;)J.push(le),le=Dt();J!==l?(Y=[Y,oe,J],V=Y):(G=V,V=l)}else G=V,V=l;else G=V,V=l;if(V===l){if(V=G,Y=G,oe=dr(),oe!==l){for(J=[],le=Dt();le!==l;)J.push(le),le=Dt();J!==l?(oe=[oe,J],Y=oe):(G=Y,Y=l)}else G=Y,Y=l;Y!==l&&(Y=te()),V=Y}return V}function dr(){var V;return a.charCodeAt(G)===44?(V=ne,G++):(V=l,rt(ce)),V}function wa(){var V,Y,oe,J;return V=G,Y=G,oe=Ps(),oe!==l?(J=Pi(),J===l&&(J=null),J!==l?(oe=[oe,J],Y=oe):(G=Y,Y=l)):(G=Y,Y=l),Y===l&&(Y=G,oe=Ja(),oe!==l?(J=Pi(),J!==l?(oe=[oe,J],Y=oe):(G=Y,Y=l)):(G=Y,Y=l)),Y!==l&&(Y=pe(Y)),V=Y,V}function Ps(){var V,Y,oe,J,le;return V=G,Y=G,oe=Ja(),oe===l&&(oe=null),oe!==l?(a.charCodeAt(G)===46?(J=ge,G++):(J=l,rt(ue)),J!==l?(le=Ja(),le!==l?(oe=[oe,J,le],Y=oe):(G=Y,Y=l)):(G=Y,Y=l)):(G=Y,Y=l),Y===l&&(Y=G,oe=Ja(),oe!==l?(a.charCodeAt(G)===46?(J=ge,G++):(J=l,rt(ue)),J!==l?(oe=[oe,J],Y=oe):(G=Y,Y=l)):(G=Y,Y=l)),Y!==l&&(Y=pe(Y)),V=Y,V}function Pi(){var V,Y,oe,J,le;return V=G,Y=G,Me.test(a.charAt(G))?(oe=a.charAt(G),G++):(oe=l,rt(Ae)),oe!==l?(J=Nt(),J===l&&(J=null),J!==l?(le=Ja(),le!==l?(oe=[oe,J,le],Y=oe):(G=Y,Y=l)):(G=Y,Y=l)):(G=Y,Y=l),Y!==l&&(Y=pe(Y)),V=Y,V}function Nt(){var V;return je.test(a.charAt(G))?(V=a.charAt(G),G++):(V=l,rt(Ke)),V}function Ja(){var V,Y,oe;if(V=G,Y=[],Pe.test(a.charAt(G))?(oe=a.charAt(G),G++):(oe=l,rt(Z)),oe!==l)for(;oe!==l;)Y.push(oe),Pe.test(a.charAt(G))?(oe=a.charAt(G),G++):(oe=l,rt(Z));else Y=l;return Y!==l&&(Y=q(Y)),V=Y,V}function Dt(){var V,Y;return V=G,fe.test(a.charAt(G))?(Y=a.charAt(G),G++):(Y=l,rt(Ce)),Y!==l&&(Y=te()),V=Y,V}function ks(V,Y){if(!Y)return[V];for(var oe=[V],J=0,le=Y.length;J<le;J++)oe[J+1]=Y[J][1];return oe}var yu={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var Ul in yu)yu[Ul.toUpperCase()]=yu[Ul];function Oo(V,Y){Y||(Y=[{}]);for(var oe=Y.length;oe--;){var J={code:V,command:yu[V]};V==V.toLowerCase()&&(J.relative=!0);for(var le in Y[oe])J[le]=Y[oe][le];Y[oe]=J}return Y}if(be=s(),be!==l&&G===a.length)return be;throw be!==l&&G<a.length&&rt(Je()),We(Be,Re<a.length?a.charAt(Re):null,Re<a.length?et(Re,Re+1):et(Re,Re))}t.exports={SyntaxError:r,parse:n}}),xB=Fd((e,t)=>{var i=jre().parse;i.parseSVG=i,i.makeAbsolute=r,t.exports=i;function r(n){var a,c={x:0,y:0},l={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return n.forEach(function(o){o.command==="moveto"&&(a=o),o.x0=c.x,o.y0=c.y;for(var s in l)s in o&&(o[s]+=o.relative?o[l[s]]:0);"x"in o||(o.x=c.x),"y"in o||(o.y=c.y),o.relative=!1,o.code=o.code.toUpperCase(),o.command=="closepath"&&(o.x=a.x,o.y=a.y),c=o}),n}}),Ire=Fd((e,t)=>{t.exports=function(i,r){for(var n=i.split("."),a=r.split("."),c=0;c<3;c++){var l=Number(n[c]),o=Number(a[c]);if(l>o)return 1;if(o>l)return-1;if(!isNaN(l)&&isNaN(o))return 1;if(isNaN(l)&&!isNaN(o))return-1}return 0}}),vf="149",_a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Pre=0,RP=1,kre=2,Z4=1,Dre=2,jm=3,To=0,Nr=1,vn=2,lr=0,hd=1,NP=2,LP=3,zP=4,Ore=5,Mh=100,Rre=101,Nre=102,BP=103,FP=104,Lre=200,zre=201,Bre=202,Fre=203,wB=204,_B=205,Ure=206,Vre=207,Hre=208,Gre=209,Wre=210,qre=0,Yre=1,Kre=2,t3=3,Xre=4,Jre=5,Qre=6,$re=7,SB=0,Zre=1,ene=2,ps=0,tne=1,ine=2,rne=3,nne=4,ane=5,CB=300,Md=301,jd=302,i3=303,r3=304,Vv=306,dl=1e3,Ei=1001,n3=1002,kt=1003,UP=1004,x_=1005,jt=1006,one=1007,Fp=1008,wn=1009,sne=1010,lne=1011,EB=1012,cne=1013,hl=1014,ni=1015,Il=1016,une=1017,dne=1018,pd=1020,hne=1021,Ii=1023,pne=1024,fne=1025,fd=1026,Id=1027,S1=1028,mne=1029,Fb=1030,gne=1031,TB=1033,w_=33776,__=33777,S_=33778,C_=33779,VP=35840,HP=35841,GP=35842,WP=35843,vne=36196,qP=37492,YP=37496,KP=37808,XP=37809,JP=37810,QP=37811,$P=37812,ZP=37813,ek=37814,tk=37815,ik=37816,rk=37817,nk=37818,ak=37819,ok=37820,sk=37821,E_=36492,yne=36283,lk=36284,ck=36285,uk=36286,AB=2200,MB=2201,eM=2202,Ub=2300,Vb=2301,T_=2302,Yh=2400,Kh=2401,Hb=2402,tM=2500,bne=2501,Ao=3e3,Et=3001,Bl=3200,jB=3201,xne=0,wne=1,Jo="srgb",Gb="srgb-linear",A_=7680,_ne=519,a3=35044,Sne=35048,o3="300 es",s3=1035,an=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let r=i.indexOf(t);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let t=this._listeners[e.type];if(t!==void 0){e.target=this;let i=t.slice(0);for(let r=0,n=i.length;r<n;r++)i[r].call(this,e);e.target=null}}},ln=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],dk=1234567,Zm=Math.PI/180,qg=180/Math.PI;function Ua(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ln[e&255]+ln[e>>8&255]+ln[e>>16&255]+ln[e>>24&255]+"-"+ln[t&255]+ln[t>>8&255]+"-"+ln[t>>16&15|64]+ln[t>>24&255]+"-"+ln[i&63|128]+ln[i>>8&255]+"-"+ln[i>>16&255]+ln[i>>24&255]+ln[r&255]+ln[r>>8&255]+ln[r>>16&255]+ln[r>>24&255]).toLowerCase()}function rr(e,t,i){return Math.max(t,Math.min(i,e))}function iM(e,t){return(e%t+t)%t}function Cne(e,t,i,r,n){return r+(e-t)*(n-r)/(i-t)}function Ene(e,t,i){return e!==t?(i-e)/(t-e):0}function eg(e,t,i){return(1-i)*e+i*t}function Tne(e,t,i,r){return eg(e,t,1-Math.exp(-i*r))}function Ane(e,t=1){return t-Math.abs(iM(e,t*2)-t)}function Mne(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))}function jne(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*e*(e*(e*6-15)+10))}function Ine(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Pne(e,t){return e+Math.random()*(t-e)}function kne(e){return e*(.5-Math.random())}function Dne(e){e!==void 0&&(dk=e);let t=dk+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function One(e){return e*Zm}function Rne(e){return e*qg}function l3(e){return(e&e-1)===0&&e!==0}function IB(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Wb(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Nne(e,t,i,r,n){let a=Math.cos,c=Math.sin,l=a(i/2),o=c(i/2),s=a((t+r)/2),u=c((t+r)/2),d=a((t-r)/2),h=c((t-r)/2),p=a((r-t)/2),m=c((r-t)/2);switch(n){case"XYX":e.set(l*u,o*d,o*h,l*s);break;case"YZY":e.set(o*h,l*u,o*d,l*s);break;case"ZXZ":e.set(o*d,o*h,l*u,l*s);break;case"XZX":e.set(l*u,o*m,o*p,l*s);break;case"YXY":e.set(o*p,l*u,o*m,l*s);break;case"ZYZ":e.set(o*m,o*p,l*u,l*s);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function pl(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function fi(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var Ve=Object.freeze({__proto__:null,DEG2RAD:Zm,RAD2DEG:qg,ceilPowerOfTwo:IB,clamp:rr,damp:Tne,degToRad:One,denormalize:pl,euclideanModulo:iM,floorPowerOfTwo:Wb,generateUUID:Ua,inverseLerp:Ene,isPowerOfTwo:l3,lerp:eg,mapLinear:Cne,normalize:fi,pingpong:Ane,radToDeg:Rne,randFloat:Pne,randFloatSpread:kne,randInt:Ine,seededRandom:Dne,setQuaternionFromProperEuler:Nne,smootherstep:jne,smoothstep:Mne}),re=class{constructor(e=0,t=0){re.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let i=Math.cos(t),r=Math.sin(t),n=this.x-e.x,a=this.y-e.y;return this.x=n*i-a*r+e.x,this.y=n*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},or=class{constructor(){or.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,n,a,c,l,o){let s=this.elements;return s[0]=e,s[1]=r,s[2]=c,s[3]=t,s[4]=n,s[5]=l,s[6]=i,s[7]=a,s[8]=o,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let i=e.elements,r=t.elements,n=this.elements,a=i[0],c=i[3],l=i[6],o=i[1],s=i[4],u=i[7],d=i[2],h=i[5],p=i[8],m=r[0],f=r[3],g=r[6],v=r[1],S=r[4],x=r[7],b=r[2],_=r[5],w=r[8];return n[0]=a*m+c*v+l*b,n[3]=a*f+c*S+l*_,n[6]=a*g+c*x+l*w,n[1]=o*m+s*v+u*b,n[4]=o*f+s*S+u*_,n[7]=o*g+s*x+u*w,n[2]=d*m+h*v+p*b,n[5]=d*f+h*S+p*_,n[8]=d*g+h*x+p*w,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],c=e[5],l=e[6],o=e[7],s=e[8];return t*a*s-t*c*o-i*n*s+i*c*l+r*n*o-r*a*l}invert(){let e=this.elements,t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],c=e[5],l=e[6],o=e[7],s=e[8],u=s*a-c*o,d=c*l-s*n,h=o*n-a*l,p=t*u+i*d+r*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);let m=1/p;return e[0]=u*m,e[1]=(r*o-s*i)*m,e[2]=(c*i-r*a)*m,e[3]=d*m,e[4]=(s*t-r*l)*m,e[5]=(r*n-c*t)*m,e[6]=h*m,e[7]=(i*l-o*t)*m,e[8]=(a*t-i*n)*m,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,n,a,c){let l=Math.cos(n),o=Math.sin(n);return this.set(i*l,i*o,-i*(l*a+o*c)+a+e,-r*o,r*l,-r*(-o*a+l*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(M_.makeScale(e,t)),this}rotate(e){return this.premultiply(M_.makeRotation(-e)),this}translate(e,t){return this.premultiply(M_.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){let i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}},M_=new or;function PB(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var Lne={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function D0(e,t){return new Lne[e](t)}function Yg(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function zne(e,t,i){return new Promise(function(r,n){function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:n();break;case e.TIMEOUT_EXPIRED:setTimeout(a,i);break;default:r()}}setTimeout(a,i)})}function md(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function C1(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}var j_={[Jo]:{[Gb]:md},[Gb]:{[Jo]:C1}},Sn={legacyMode:!0,get workingColorSpace(){return Gb},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,i){if(this.legacyMode||t===i||!t||!i)return e;if(j_[t]&&j_[t][i]!==void 0){let r=j_[t][i];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},kB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hr={r:0,g:0,b:0},eo={h:0,s:0,l:0},O0={h:0,s:0,l:0};function I_(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*6*(2/3-i):e}function R0(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var lt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Jo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Sn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Sn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Sn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Sn.workingColorSpace){if(e=iM(e,1),t=rr(t,0,1),i=rr(i,0,1),t===0)this.r=this.g=this.b=i;else{let n=i<=.5?i*(1+t):i+t-i*t,a=2*i-n;this.r=I_(a,n,e+1/3),this.g=I_(a,n,e),this.b=I_(a,n,e-1/3)}return Sn.toWorkingColorSpace(this,r),this}setStyle(e,t=Jo){function i(n){n!==void 0&&parseFloat(n)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let n,a=r[1],c=r[2];switch(a){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,Sn.toWorkingColorSpace(this,t),i(n[4]),this;if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,Sn.toWorkingColorSpace(this,t),i(n[4]),this;break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c)){let l=parseFloat(n[1])/360,o=parseFloat(n[2])/100,s=parseFloat(n[3])/100;return i(n[4]),this.setHSL(l,o,s,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let n=r[1],a=n.length;if(a===3)return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,Sn.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,Sn.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Jo){let i=kB[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=md(e.r),this.g=md(e.g),this.b=md(e.b),this}copyLinearToSRGB(e){return this.r=C1(e.r),this.g=C1(e.g),this.b=C1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jo){return Sn.fromWorkingColorSpace(R0(this,hr),e),rr(hr.r*255,0,255)<<16^rr(hr.g*255,0,255)<<8^rr(hr.b*255,0,255)<<0}getHexString(e=Jo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Sn.workingColorSpace){Sn.fromWorkingColorSpace(R0(this,hr),t);let i=hr.r,r=hr.g,n=hr.b,a=Math.max(i,r,n),c=Math.min(i,r,n),l,o,s=(c+a)/2;if(c===a)l=0,o=0;else{let u=a-c;switch(o=s<=.5?u/(a+c):u/(2-a-c),a){case i:l=(r-n)/u+(r<n?6:0);break;case r:l=(n-i)/u+2;break;case n:l=(i-r)/u+4;break}l/=6}return e.h=l,e.s=o,e.l=s,e}getRGB(e,t=Sn.workingColorSpace){return Sn.fromWorkingColorSpace(R0(this,hr),t),e.r=hr.r,e.g=hr.g,e.b=hr.b,e}getStyle(e=Jo){return Sn.fromWorkingColorSpace(R0(this,hr),e),e!==Jo?`color(${e} ${hr.r} ${hr.g} ${hr.b})`:`rgb(${hr.r*255|0},${hr.g*255|0},${hr.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(eo),eo.h+=e,eo.s+=t,eo.l+=i,this.setHSL(eo.h,eo.s,eo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(eo),e.getHSL(O0);let i=eg(eo.h,O0.h,t),r=eg(eo.s,O0.s,t),n=eg(eo.l,O0.l,t);return this.setHSL(i,r,n),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};lt.NAMES=kB;var Jd,DB=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Jd===void 0&&(Jd=Yg("canvas")),Jd.width=e.width,Jd.height=e.height;let i=Jd.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Jd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=Yg("canvas");t.width=e.width,t.height=e.height;let i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);let r=i.getImageData(0,0,e.width,e.height),n=r.data;for(let a=0;a<n.length;a++)n[a]=md(n[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){let t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(md(t[i]/255)*255):t[i]=md(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},OB=class{constructor(e=null){this.isSource=!0,this.uuid=Ua(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let n;if(Array.isArray(r)){n=[];for(let a=0,c=r.length;a<c;a++)r[a].isDataTexture?n.push(P_(r[a].image)):n.push(P_(r[a]))}else n=P_(r);i.url=n}return t||(e.images[this.uuid]=i),i}};function P_(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?DB.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Bne=0,Ni=class extends an{constructor(e=Ni.DEFAULT_IMAGE,t=Ni.DEFAULT_MAPPING,i=Ei,r=Ei,n=jt,a=Fp,c=Ii,l=wn,o=Ni.DEFAULT_ANISOTROPY,s=Ao){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Bne++}),this.uuid=Ua(),this.name="",this.source=new OB(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=n,this.minFilter=a,this.anisotropy=o,this.format=c,this.internalFormat=null,this.type=l,this.offset=new re(0,0),this.repeat=new re(1,1),this.center=new re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new or,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=s,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==CB)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case dl:e.x=e.x-Math.floor(e.x);break;case Ei:e.x=e.x<0?0:1;break;case n3:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case dl:e.y=e.y-Math.floor(e.y);break;case Ei:e.y=e.y<0?0:1;break;case n3:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};Ni.DEFAULT_IMAGE=null;Ni.DEFAULT_MAPPING=CB;Ni.DEFAULT_ANISOTROPY=1;var vt=class{constructor(e=0,t=0,i=0,r=1){vt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,i=this.y,r=this.z,n=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*n,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,n,a=e.elements,c=a[0],l=a[4],o=a[8],s=a[1],u=a[5],d=a[9],h=a[2],p=a[6],m=a[10];if(Math.abs(l-s)<.01&&Math.abs(o-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(l+s)<.1&&Math.abs(o+h)<.1&&Math.abs(d+p)<.1&&Math.abs(c+u+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let g=(c+1)/2,v=(u+1)/2,S=(m+1)/2,x=(l+s)/4,b=(o+h)/4,_=(d+p)/4;return g>v&&g>S?g<.01?(i=0,r=.707106781,n=.707106781):(i=Math.sqrt(g),r=x/i,n=b/i):v>S?v<.01?(i=.707106781,r=0,n=.707106781):(r=Math.sqrt(v),i=x/r,n=_/r):S<.01?(i=.707106781,r=.707106781,n=0):(n=Math.sqrt(S),i=b/n,r=_/n),this.set(i,r,n,t),this}let f=Math.sqrt((p-d)*(p-d)+(o-h)*(o-h)+(s-l)*(s-l));return Math.abs(f)<.001&&(f=1),this.x=(p-d)/f,this.y=(o-h)/f,this.z=(s-l)/f,this.w=Math.acos((c+u+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Vt=class extends an{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new vt(0,0,e,t),this.scissorTest=!1,this.viewport=new vt(0,0,e,t);let r={width:e,height:t,depth:1};this.texture=new Ni(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:jt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new OB(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},RB=class extends Ni{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=kt,this.minFilter=kt,this.wrapR=Ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Fne=class extends Ni{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=kt,this.minFilter=kt,this.wrapR=Ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},NB=class extends Vt{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;let n=this.texture;this.texture=[];for(let a=0;a<i;a++)this.texture[a]=n.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,n=this.texture.length;r<n;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},mt=class{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,n,a,c){let l=i[r+0],o=i[r+1],s=i[r+2],u=i[r+3],d=n[a+0],h=n[a+1],p=n[a+2],m=n[a+3];if(c===0){e[t+0]=l,e[t+1]=o,e[t+2]=s,e[t+3]=u;return}if(c===1){e[t+0]=d,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(u!==m||l!==d||o!==h||s!==p){let f=1-c,g=l*d+o*h+s*p+u*m,v=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){let b=Math.sqrt(S),_=Math.atan2(b,g*v);f=Math.sin(f*_)/b,c=Math.sin(c*_)/b}let x=c*v;if(l=l*f+d*x,o=o*f+h*x,s=s*f+p*x,u=u*f+m*x,f===1-c){let b=1/Math.sqrt(l*l+o*o+s*s+u*u);l*=b,o*=b,s*=b,u*=b}}e[t]=l,e[t+1]=o,e[t+2]=s,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,r,n,a){let c=i[r],l=i[r+1],o=i[r+2],s=i[r+3],u=n[a],d=n[a+1],h=n[a+2],p=n[a+3];return e[t]=c*p+s*u+l*h-o*d,e[t+1]=l*p+s*d+o*u-c*h,e[t+2]=o*p+s*h+c*d-l*u,e[t+3]=s*p-c*u-l*d-o*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let i=e._x,r=e._y,n=e._z,a=e._order,c=Math.cos,l=Math.sin,o=c(i/2),s=c(r/2),u=c(n/2),d=l(i/2),h=l(r/2),p=l(n/2);switch(a){case"XYZ":this._x=d*s*u+o*h*p,this._y=o*h*u-d*s*p,this._z=o*s*p+d*h*u,this._w=o*s*u-d*h*p;break;case"YXZ":this._x=d*s*u+o*h*p,this._y=o*h*u-d*s*p,this._z=o*s*p-d*h*u,this._w=o*s*u+d*h*p;break;case"ZXY":this._x=d*s*u-o*h*p,this._y=o*h*u+d*s*p,this._z=o*s*p+d*h*u,this._w=o*s*u-d*h*p;break;case"ZYX":this._x=d*s*u-o*h*p,this._y=o*h*u+d*s*p,this._z=o*s*p-d*h*u,this._w=o*s*u+d*h*p;break;case"YZX":this._x=d*s*u+o*h*p,this._y=o*h*u+d*s*p,this._z=o*s*p-d*h*u,this._w=o*s*u-d*h*p;break;case"XZY":this._x=d*s*u-o*h*p,this._y=o*h*u-d*s*p,this._z=o*s*p+d*h*u,this._w=o*s*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,i=t[0],r=t[4],n=t[8],a=t[1],c=t[5],l=t[9],o=t[2],s=t[6],u=t[10],d=i+c+u;if(d>0){let h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(s-l)*h,this._y=(n-o)*h,this._z=(a-r)*h}else if(i>c&&i>u){let h=2*Math.sqrt(1+i-c-u);this._w=(s-l)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(n+o)/h}else if(c>u){let h=2*Math.sqrt(1+c-i-u);this._w=(n-o)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(l+s)/h}else{let h=2*Math.sqrt(1+u-i-c);this._w=(a-r)/h,this._x=(n+o)/h,this._y=(l+s)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rr(this.dot(e),-1,1)))}rotateTowards(e,t){let i=this.angleTo(e);if(i===0)return this;let r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let i=e._x,r=e._y,n=e._z,a=e._w,c=t._x,l=t._y,o=t._z,s=t._w;return this._x=i*s+a*c+r*o-n*l,this._y=r*s+a*l+n*c-i*o,this._z=n*s+a*o+i*l-r*c,this._w=a*s-i*c-r*l-n*o,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let i=this._x,r=this._y,n=this._z,a=this._w,c=a*e._w+i*e._x+r*e._y+n*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;let l=1-c*c;if(l<=Number.EPSILON){let h=1-t;return this._w=h*a+t*this._w,this._x=h*i+t*this._x,this._y=h*r+t*this._y,this._z=h*n+t*this._z,this.normalize(),this._onChangeCallback(),this}let o=Math.sqrt(l),s=Math.atan2(o,c),u=Math.sin((1-t)*s)/o,d=Math.sin(t*s)/o;return this._w=a*u+this._w*d,this._x=i*u+this._x*d,this._y=r*u+this._y*d,this._z=n*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){let e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),n=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(n),i*Math.cos(n),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},N=class{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(hk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(hk.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6]*r,this.y=n[1]*t+n[4]*i+n[7]*r,this.z=n[2]*t+n[5]*i+n[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,i=this.y,r=this.z,n=e.elements,a=1/(n[3]*t+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*a,this}applyQuaternion(e){let t=this.x,i=this.y,r=this.z,n=e.x,a=e.y,c=e.z,l=e.w,o=l*t+a*r-c*i,s=l*i+c*t-n*r,u=l*r+n*i-a*t,d=-n*t-a*i-c*r;return this.x=o*l+d*-n+s*-c-u*-a,this.y=s*l+d*-a+u*-n-o*-c,this.z=u*l+d*-c+o*-a-s*-n,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[4]*i+n[8]*r,this.y=n[1]*t+n[5]*i+n[9]*r,this.z=n[2]*t+n[6]*i+n[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let i=e.x,r=e.y,n=e.z,a=t.x,c=t.y,l=t.z;return this.x=r*l-n*c,this.y=n*a-i*l,this.z=i*c-r*a,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return k_.copy(this).projectOnVector(e),this.sub(k_)}reflect(e){return this.sub(k_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let i=this.dot(e)/t;return Math.acos(rr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){let r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},k_=new N,hk=new mt,Zi=class{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,c=-1/0;for(let l=0,o=e.length;l<o;l+=3){let s=e[l],u=e[l+1],d=e[l+2];s<t&&(t=s),u<i&&(i=u),d<r&&(r=d),s>n&&(n=s),u>a&&(a=u),d>c&&(c=d)}return this.min.set(t,i,r),this.max.set(n,a,c),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,c=-1/0;for(let l=0,o=e.count;l<o;l++){let s=e.getX(l),u=e.getY(l),d=e.getZ(l);s<t&&(t=s),u<i&&(i=u),d<r&&(r=d),s>n&&(n=s),u>a&&(a=u),d>c&&(c=d)}return this.min.set(t,i,r),this.max.set(n,a,c),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let i=xu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){let n=i.attributes.position;for(let a=0,c=n.count;a<c;a++)xu.fromBufferAttribute(n,a).applyMatrix4(e.matrixWorld),this.expandByPoint(xu)}else i.boundingBox===null&&i.computeBoundingBox(),D_.copy(i.boundingBox),D_.applyMatrix4(e.matrixWorld),this.union(D_);let r=e.children;for(let n=0,a=r.length;n<a;n++)this.expandByObject(r[n],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,xu),xu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wf),N0.subVectors(this.max,Wf),Qd.subVectors(e.a,Wf),$d.subVectors(e.b,Wf),Zd.subVectors(e.c,Wf),Wl.subVectors($d,Qd),ql.subVectors(Zd,$d),wu.subVectors(Qd,Zd);let t=[0,-Wl.z,Wl.y,0,-ql.z,ql.y,0,-wu.z,wu.y,Wl.z,0,-Wl.x,ql.z,0,-ql.x,wu.z,0,-wu.x,-Wl.y,Wl.x,0,-ql.y,ql.x,0,-wu.y,wu.x,0];return!O_(t,Qd,$d,Zd,N0)||(t=[1,0,0,0,1,0,0,0,1],!O_(t,Qd,$d,Zd,N0))?!1:(L0.crossVectors(Wl,ql),t=[L0.x,L0.y,L0.z],O_(t,Qd,$d,Zd,N0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return xu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(xu).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Os[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Os[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Os[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Os[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Os[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Os[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Os[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Os[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Os),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Os=[new N,new N,new N,new N,new N,new N,new N,new N],xu=new N,D_=new Zi,Qd=new N,$d=new N,Zd=new N,Wl=new N,ql=new N,wu=new N,Wf=new N,N0=new N,L0=new N,_u=new N;function O_(e,t,i,r,n){for(let a=0,c=e.length-3;a<=c;a+=3){_u.fromArray(e,a);let l=n.x*Math.abs(_u.x)+n.y*Math.abs(_u.y)+n.z*Math.abs(_u.z),o=t.dot(_u),s=i.dot(_u),u=r.dot(_u);if(Math.max(-Math.max(o,s,u),Math.min(o,s,u))>l)return!1}return!0}var Une=new Zi,qf=new N,R_=new N,aa=class{constructor(t=new N,i=-1){this.center=t,this.radius=i}set(t,i){return this.center.copy(t),this.radius=i,this}setFromPoints(t,i){let r=this.center;i!==void 0?r.copy(i):Une.setFromPoints(t).getCenter(r);let n=0;for(let a=0,c=t.length;a<c;a++)n=Math.max(n,r.distanceToSquared(t[a]));return this.radius=Math.sqrt(n),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){let i=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=i*i}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,i){let r=this.center.distanceToSquared(t);return i.copy(t),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;qf.subVectors(t,this.center);let i=qf.lengthSq();if(i>this.radius*this.radius){let r=Math.sqrt(i),n=(r-this.radius)*.5;this.center.addScaledVector(qf,n/r),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(R_.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(qf.copy(t.center).add(R_)),this.expandByPoint(qf.copy(t.center).sub(R_))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}},Rs=new N,N_=new N,z0=new N,Yl=new N,L_=new N,B0=new N,z_=new N,yf=class{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rs)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Rs.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rs.copy(this.direction).multiplyScalar(t).add(this.origin),Rs.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){N_.copy(e).add(t).multiplyScalar(.5),z0.copy(t).sub(e).normalize(),Yl.copy(this.origin).sub(N_);let n=e.distanceTo(t)*.5,a=-this.direction.dot(z0),c=Yl.dot(this.direction),l=-Yl.dot(z0),o=Yl.lengthSq(),s=Math.abs(1-a*a),u,d,h,p;if(s>0)if(u=a*l-c,d=a*c-l,p=n*s,u>=0)if(d>=-p)if(d<=p){let m=1/s;u*=m,d*=m,h=u*(u+a*d+2*c)+d*(a*u+d+2*l)+o}else d=n,u=Math.max(0,-(a*d+c)),h=-u*u+d*(d+2*l)+o;else d=-n,u=Math.max(0,-(a*d+c)),h=-u*u+d*(d+2*l)+o;else d<=-p?(u=Math.max(0,-(-a*n+c)),d=u>0?-n:Math.min(Math.max(-n,-l),n),h=-u*u+d*(d+2*l)+o):d<=p?(u=0,d=Math.min(Math.max(-n,-l),n),h=d*(d+2*l)+o):(u=Math.max(0,-(a*n+c)),d=u>0?n:Math.min(Math.max(-n,-l),n),h=-u*u+d*(d+2*l)+o);else d=a>0?-n:n,u=Math.max(0,-(a*d+c)),h=-u*u+d*(d+2*l)+o;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(z0).multiplyScalar(d).add(N_),h}intersectSphere(e,t){Rs.subVectors(e.center,this.origin);let i=Rs.dot(this.direction),r=Rs.dot(Rs)-i*i,n=e.radius*e.radius;if(r>n)return null;let a=Math.sqrt(n-r),c=i-a,l=i+a;return c<0&&l<0?null:c<0?this.at(l,t):this.at(c,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){let i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,n,a,c,l,o=1/this.direction.x,s=1/this.direction.y,u=1/this.direction.z,d=this.origin;return o>=0?(i=(e.min.x-d.x)*o,r=(e.max.x-d.x)*o):(i=(e.max.x-d.x)*o,r=(e.min.x-d.x)*o),s>=0?(n=(e.min.y-d.y)*s,a=(e.max.y-d.y)*s):(n=(e.max.y-d.y)*s,a=(e.min.y-d.y)*s),i>a||n>r||((n>i||isNaN(i))&&(i=n),(a<r||isNaN(r))&&(r=a),u>=0?(c=(e.min.z-d.z)*u,l=(e.max.z-d.z)*u):(c=(e.max.z-d.z)*u,l=(e.min.z-d.z)*u),i>l||c>r)||((c>i||i!==i)&&(i=c),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Rs)!==null}intersectTriangle(e,t,i,r,n){L_.subVectors(t,e),B0.subVectors(i,e),z_.crossVectors(L_,B0);let a=this.direction.dot(z_),c;if(a>0){if(r)return null;c=1}else if(a<0)c=-1,a=-a;else return null;Yl.subVectors(this.origin,e);let l=c*this.direction.dot(B0.crossVectors(Yl,B0));if(l<0)return null;let o=c*this.direction.dot(L_.cross(Yl));if(o<0||l+o>a)return null;let s=-c*Yl.dot(z_);return s<0?null:this.at(s/a,n)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Ie=class{constructor(){Ie.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,i,r,n,a,c,l,o,s,u,d,h,p,m,f,g){let v=this.elements;return v[0]=t,v[4]=i,v[8]=r,v[12]=n,v[1]=a,v[5]=c,v[9]=l,v[13]=o,v[2]=s,v[6]=u,v[10]=d,v[14]=h,v[3]=p,v[7]=m,v[11]=f,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ie().fromArray(this.elements)}copy(t){let i=this.elements,r=t.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this}copyPosition(t){let i=this.elements,r=t.elements;return i[12]=r[12],i[13]=r[13],i[14]=r[14],this}setFromMatrix3(t){let i=t.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(t,i,r){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,i,r){return this.set(t.x,i.x,r.x,0,t.y,i.y,r.y,0,t.z,i.z,r.z,0,0,0,0,1),this}extractRotation(t){let i=this.elements,r=t.elements,n=1/eh.setFromMatrixColumn(t,0).length(),a=1/eh.setFromMatrixColumn(t,1).length(),c=1/eh.setFromMatrixColumn(t,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*c,i[9]=r[9]*c,i[10]=r[10]*c,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(t){let i=this.elements,r=t.x,n=t.y,a=t.z,c=Math.cos(r),l=Math.sin(r),o=Math.cos(n),s=Math.sin(n),u=Math.cos(a),d=Math.sin(a);if(t.order==="XYZ"){let h=c*u,p=c*d,m=l*u,f=l*d;i[0]=o*u,i[4]=-o*d,i[8]=s,i[1]=p+m*s,i[5]=h-f*s,i[9]=-l*o,i[2]=f-h*s,i[6]=m+p*s,i[10]=c*o}else if(t.order==="YXZ"){let h=o*u,p=o*d,m=s*u,f=s*d;i[0]=h+f*l,i[4]=m*l-p,i[8]=c*s,i[1]=c*d,i[5]=c*u,i[9]=-l,i[2]=p*l-m,i[6]=f+h*l,i[10]=c*o}else if(t.order==="ZXY"){let h=o*u,p=o*d,m=s*u,f=s*d;i[0]=h-f*l,i[4]=-c*d,i[8]=m+p*l,i[1]=p+m*l,i[5]=c*u,i[9]=f-h*l,i[2]=-c*s,i[6]=l,i[10]=c*o}else if(t.order==="ZYX"){let h=c*u,p=c*d,m=l*u,f=l*d;i[0]=o*u,i[4]=m*s-p,i[8]=h*s+f,i[1]=o*d,i[5]=f*s+h,i[9]=p*s-m,i[2]=-s,i[6]=l*o,i[10]=c*o}else if(t.order==="YZX"){let h=c*o,p=c*s,m=l*o,f=l*s;i[0]=o*u,i[4]=f-h*d,i[8]=m*d+p,i[1]=d,i[5]=c*u,i[9]=-l*u,i[2]=-s*u,i[6]=p*d+m,i[10]=h-f*d}else if(t.order==="XZY"){let h=c*o,p=c*s,m=l*o,f=l*s;i[0]=o*u,i[4]=-d,i[8]=s*u,i[1]=h*d+f,i[5]=c*u,i[9]=p*d-m,i[2]=m*d-p,i[6]=l*u,i[10]=f*d+h}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Vne,t,Hne)}lookAt(t,i,r){let n=this.elements;return sa.subVectors(t,i),sa.lengthSq()===0&&(sa.z=1),sa.normalize(),Kl.crossVectors(r,sa),Kl.lengthSq()===0&&(Math.abs(r.z)===1?sa.x+=1e-4:sa.z+=1e-4,sa.normalize(),Kl.crossVectors(r,sa)),Kl.normalize(),F0.crossVectors(sa,Kl),n[0]=Kl.x,n[4]=F0.x,n[8]=sa.x,n[1]=Kl.y,n[5]=F0.y,n[9]=sa.y,n[2]=Kl.z,n[6]=F0.z,n[10]=sa.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){let r=t.elements,n=i.elements,a=this.elements,c=r[0],l=r[4],o=r[8],s=r[12],u=r[1],d=r[5],h=r[9],p=r[13],m=r[2],f=r[6],g=r[10],v=r[14],S=r[3],x=r[7],b=r[11],_=r[15],w=n[0],C=n[4],E=n[8],A=n[12],T=n[1],M=n[5],j=n[9],P=n[13],I=n[2],k=n[6],R=n[10],O=n[14],D=n[3],L=n[7],B=n[11],F=n[15];return a[0]=c*w+l*T+o*I+s*D,a[4]=c*C+l*M+o*k+s*L,a[8]=c*E+l*j+o*R+s*B,a[12]=c*A+l*P+o*O+s*F,a[1]=u*w+d*T+h*I+p*D,a[5]=u*C+d*M+h*k+p*L,a[9]=u*E+d*j+h*R+p*B,a[13]=u*A+d*P+h*O+p*F,a[2]=m*w+f*T+g*I+v*D,a[6]=m*C+f*M+g*k+v*L,a[10]=m*E+f*j+g*R+v*B,a[14]=m*A+f*P+g*O+v*F,a[3]=S*w+x*T+b*I+_*D,a[7]=S*C+x*M+b*k+_*L,a[11]=S*E+x*j+b*R+_*B,a[15]=S*A+x*P+b*O+_*F,this}multiplyScalar(t){let i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this}determinant(){let t=this.elements,i=t[0],r=t[4],n=t[8],a=t[12],c=t[1],l=t[5],o=t[9],s=t[13],u=t[2],d=t[6],h=t[10],p=t[14],m=t[3],f=t[7],g=t[11],v=t[15];return m*(+a*o*d-n*s*d-a*l*h+r*s*h+n*l*p-r*o*p)+f*(+i*o*p-i*s*h+a*c*h-n*c*p+n*s*u-a*o*u)+g*(+i*s*d-i*l*p-a*c*d+r*c*p+a*l*u-r*s*u)+v*(-n*l*u-i*o*d+i*l*h+n*c*d-r*c*h+r*o*u)}transpose(){let t=this.elements,i;return i=t[1],t[1]=t[4],t[4]=i,i=t[2],t[2]=t[8],t[8]=i,i=t[6],t[6]=t[9],t[9]=i,i=t[3],t[3]=t[12],t[12]=i,i=t[7],t[7]=t[13],t[13]=i,i=t[11],t[11]=t[14],t[14]=i,this}setPosition(t,i,r){let n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=i,n[14]=r),this}invert(){let t=this.elements,i=t[0],r=t[1],n=t[2],a=t[3],c=t[4],l=t[5],o=t[6],s=t[7],u=t[8],d=t[9],h=t[10],p=t[11],m=t[12],f=t[13],g=t[14],v=t[15],S=d*g*s-f*h*s+f*o*p-l*g*p-d*o*v+l*h*v,x=m*h*s-u*g*s-m*o*p+c*g*p+u*o*v-c*h*v,b=u*f*s-m*d*s+m*l*p-c*f*p-u*l*v+c*d*v,_=m*d*o-u*f*o-m*l*h+c*f*h+u*l*g-c*d*g,w=i*S+r*x+n*b+a*_;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let C=1/w;return t[0]=S*C,t[1]=(f*h*a-d*g*a-f*n*p+r*g*p+d*n*v-r*h*v)*C,t[2]=(l*g*a-f*o*a+f*n*s-r*g*s-l*n*v+r*o*v)*C,t[3]=(d*o*a-l*h*a-d*n*s+r*h*s+l*n*p-r*o*p)*C,t[4]=x*C,t[5]=(u*g*a-m*h*a+m*n*p-i*g*p-u*n*v+i*h*v)*C,t[6]=(m*o*a-c*g*a-m*n*s+i*g*s+c*n*v-i*o*v)*C,t[7]=(c*h*a-u*o*a+u*n*s-i*h*s-c*n*p+i*o*p)*C,t[8]=b*C,t[9]=(m*d*a-u*f*a-m*r*p+i*f*p+u*r*v-i*d*v)*C,t[10]=(c*f*a-m*l*a+m*r*s-i*f*s-c*r*v+i*l*v)*C,t[11]=(u*l*a-c*d*a-u*r*s+i*d*s+c*r*p-i*l*p)*C,t[12]=_*C,t[13]=(u*f*n-m*d*n+m*r*h-i*f*h-u*r*g+i*d*g)*C,t[14]=(m*l*n-c*f*n-m*r*o+i*f*o+c*r*g-i*l*g)*C,t[15]=(c*d*n-u*l*n+u*r*o-i*d*o-c*r*h+i*l*h)*C,this}scale(t){let i=this.elements,r=t.x,n=t.y,a=t.z;return i[0]*=r,i[4]*=n,i[8]*=a,i[1]*=r,i[5]*=n,i[9]*=a,i[2]*=r,i[6]*=n,i[10]*=a,i[3]*=r,i[7]*=n,i[11]*=a,this}getMaxScaleOnAxis(){let t=this.elements,i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(i,r,n))}makeTranslation(t,i,r){return this.set(1,0,0,t,0,1,0,i,0,0,1,r,0,0,0,1),this}makeRotationX(t){let i=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1),this}makeRotationY(t){let i=Math.cos(t),r=Math.sin(t);return this.set(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1),this}makeRotationZ(t){let i=Math.cos(t),r=Math.sin(t);return this.set(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,i){let r=Math.cos(i),n=Math.sin(i),a=1-r,c=t.x,l=t.y,o=t.z,s=a*c,u=a*l;return this.set(s*c+r,s*l-n*o,s*o+n*l,0,s*l+n*o,u*l+r,u*o-n*c,0,s*o-n*l,u*o+n*c,a*o*o+r,0,0,0,0,1),this}makeScale(t,i,r){return this.set(t,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,i,r,n,a,c){return this.set(1,r,a,0,t,1,c,0,i,n,1,0,0,0,0,1),this}compose(t,i,r){let n=this.elements,a=i._x,c=i._y,l=i._z,o=i._w,s=a+a,u=c+c,d=l+l,h=a*s,p=a*u,m=a*d,f=c*u,g=c*d,v=l*d,S=o*s,x=o*u,b=o*d,_=r.x,w=r.y,C=r.z;return n[0]=(1-(f+v))*_,n[1]=(p+b)*_,n[2]=(m-x)*_,n[3]=0,n[4]=(p-b)*w,n[5]=(1-(h+v))*w,n[6]=(g+S)*w,n[7]=0,n[8]=(m+x)*C,n[9]=(g-S)*C,n[10]=(1-(h+f))*C,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,i,r){let n=this.elements,a=eh.set(n[0],n[1],n[2]).length(),c=eh.set(n[4],n[5],n[6]).length(),l=eh.set(n[8],n[9],n[10]).length();this.determinant()<0&&(a=-a),t.x=n[12],t.y=n[13],t.z=n[14],to.copy(this);let o=1/a,s=1/c,u=1/l;return to.elements[0]*=o,to.elements[1]*=o,to.elements[2]*=o,to.elements[4]*=s,to.elements[5]*=s,to.elements[6]*=s,to.elements[8]*=u,to.elements[9]*=u,to.elements[10]*=u,i.setFromRotationMatrix(to),r.x=a,r.y=c,r.z=l,this}makePerspective(t,i,r,n,a,c){let l=this.elements,o=2*a/(i-t),s=2*a/(r-n),u=(i+t)/(i-t),d=(r+n)/(r-n),h=-(c+a)/(c-a),p=-2*c*a/(c-a);return l[0]=o,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=s,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,i,r,n,a,c){let l=this.elements,o=1/(i-t),s=1/(r-n),u=1/(c-a),d=(i+t)*o,h=(r+n)*s,p=(c+a)*u;return l[0]=2*o,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*s,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=-2*u,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){let i=this.elements,r=t.elements;for(let n=0;n<16;n++)if(i[n]!==r[n])return!1;return!0}fromArray(t,i=0){for(let r=0;r<16;r++)this.elements[r]=t[r+i];return this}toArray(t=[],i=0){let r=this.elements;return t[i]=r[0],t[i+1]=r[1],t[i+2]=r[2],t[i+3]=r[3],t[i+4]=r[4],t[i+5]=r[5],t[i+6]=r[6],t[i+7]=r[7],t[i+8]=r[8],t[i+9]=r[9],t[i+10]=r[10],t[i+11]=r[11],t[i+12]=r[12],t[i+13]=r[13],t[i+14]=r[14],t[i+15]=r[15],t}},eh=new N,to=new Ie,Vne=new N(0,0,0),Hne=new N(1,1,1),Kl=new N,F0=new N,sa=new N,pk=new Ie,fk=new mt,yr=class{constructor(e=0,t=0,i=0,r=yr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){let r=e.elements,n=r[0],a=r[4],c=r[8],l=r[1],o=r[5],s=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(rr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-s,h),this._z=Math.atan2(-a,n)):(this._x=Math.atan2(d,o),this._z=0);break;case"YXZ":this._x=Math.asin(-rr(s,-1,1)),Math.abs(s)<.9999999?(this._y=Math.atan2(c,h),this._z=Math.atan2(l,o)):(this._y=Math.atan2(-u,n),this._z=0);break;case"ZXY":this._x=Math.asin(rr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._y=0,this._z=Math.atan2(l,n));break;case"ZYX":this._y=Math.asin(-rr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,n)):(this._x=0,this._z=Math.atan2(-a,o));break;case"YZX":this._z=Math.asin(rr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-s,o),this._y=Math.atan2(-u,n)):(this._x=0,this._y=Math.atan2(c,h));break;case"XZY":this._z=Math.asin(-rr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,o),this._y=Math.atan2(c,n)):(this._x=Math.atan2(-s,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return pk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pk,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return fk.setFromEuler(this),this.setFromQuaternion(fk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};yr.DEFAULT_ORDER="XYZ";var rM=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},Gne=0,mk=new N,th=new mt,Ns=new Ie,U0=new N,Yf=new N,Wne=new N,qne=new mt,gk=new N(1,0,0),vk=new N(0,1,0),yk=new N(0,0,1),Yne={type:"added"},bk={type:"removed"},ti=class extends an{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Gne++}),this.uuid=Ua(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ti.DEFAULT_UP.clone();let e=new N,t=new yr,i=new mt,r=new N(1,1,1);function n(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(n),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ie},normalMatrix:{value:new or}}),this.matrix=new Ie,this.matrixWorld=new Ie,this.matrixAutoUpdate=ti.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ti.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new rM,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return th.setFromAxisAngle(e,t),this.quaternion.multiply(th),this}rotateOnWorldAxis(e,t){return th.setFromAxisAngle(e,t),this.quaternion.premultiply(th),this}rotateX(e){return this.rotateOnAxis(gk,e)}rotateY(e){return this.rotateOnAxis(vk,e)}rotateZ(e){return this.rotateOnAxis(yk,e)}translateOnAxis(e,t){return mk.copy(e).applyQuaternion(this.quaternion),this.position.add(mk.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(gk,e)}translateY(e){return this.translateOnAxis(vk,e)}translateZ(e){return this.translateOnAxis(yk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ns.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?U0.copy(e):U0.set(e,t,i);let r=this.parent;this.updateWorldMatrix(!0,!1),Yf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ns.lookAt(Yf,U0,this.up):Ns.lookAt(U0,Yf,this.up),this.quaternion.setFromRotationMatrix(Ns),r&&(Ns.extractRotation(r.matrixWorld),th.setFromRotationMatrix(Ns),this.quaternion.premultiply(th.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Yne)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(bk)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(bk)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ns.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ns.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ns),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){let n=this.children[i].getObjectByProperty(e,t);if(n!==void 0)return n}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,n=this.children.length;r<n;r++){let a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yf,e,Wne),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yf,qne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let i=0,r=t.length;i<r;i++){let n=t[i];(n.matrixWorldAutoUpdate===!0||e===!0)&&n.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let r=this.children;for(let n=0,a=r.length;n<a;n++){let c=r[n];c.matrixWorldAutoUpdate===!0&&c.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function n(c,l){return c[l.uuid]===void 0&&(c[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=n(e.geometries,this.geometry);let c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){let l=c.shapes;if(Array.isArray(l))for(let o=0,s=l.length;o<s;o++){let u=l[o];n(e.shapes,u)}else n(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(n(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let c=[];for(let l=0,o=this.material.length;l<o;l++)c.push(n(e.materials,this.material[l]));r.material=c}else r.material=n(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){let l=this.animations[c];r.animations.push(n(e.animations,l))}}if(t){let c=a(e.geometries),l=a(e.materials),o=a(e.textures),s=a(e.images),u=a(e.shapes),d=a(e.skeletons),h=a(e.animations),p=a(e.nodes);c.length>0&&(i.geometries=c),l.length>0&&(i.materials=l),o.length>0&&(i.textures=o),s.length>0&&(i.images=s),u.length>0&&(i.shapes=u),d.length>0&&(i.skeletons=d),h.length>0&&(i.animations=h),p.length>0&&(i.nodes=p)}return i.object=r,i;function a(c){let l=[];for(let o in c){let s=c[o];delete s.metadata,l.push(s)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){let r=e.children[i];this.add(r.clone())}return this}};ti.DEFAULT_UP=new N(0,1,0);ti.DEFAULT_MATRIX_AUTO_UPDATE=!0;ti.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var io=new N,Ls=new N,B_=new N,zs=new N,ih=new N,rh=new N,xk=new N,F_=new N,U_=new N,V_=new N,Qr=class{constructor(t=new N,i=new N,r=new N){this.a=t,this.b=i,this.c=r}static getNormal(t,i,r,n){n.subVectors(r,i),io.subVectors(t,i),n.cross(io);let a=n.lengthSq();return a>0?n.multiplyScalar(1/Math.sqrt(a)):n.set(0,0,0)}static getBarycoord(t,i,r,n,a){io.subVectors(n,i),Ls.subVectors(r,i),B_.subVectors(t,i);let c=io.dot(io),l=io.dot(Ls),o=io.dot(B_),s=Ls.dot(Ls),u=Ls.dot(B_),d=c*s-l*l;if(d===0)return a.set(-2,-1,-1);let h=1/d,p=(s*o-l*u)*h,m=(c*u-l*o)*h;return a.set(1-p-m,m,p)}static containsPoint(t,i,r,n){return this.getBarycoord(t,i,r,n,zs),zs.x>=0&&zs.y>=0&&zs.x+zs.y<=1}static getUV(t,i,r,n,a,c,l,o){return this.getBarycoord(t,i,r,n,zs),o.set(0,0),o.addScaledVector(a,zs.x),o.addScaledVector(c,zs.y),o.addScaledVector(l,zs.z),o}static isFrontFacing(t,i,r,n){return io.subVectors(r,i),Ls.subVectors(t,i),io.cross(Ls).dot(n)<0}set(t,i,r){return this.a.copy(t),this.b.copy(i),this.c.copy(r),this}setFromPointsAndIndices(t,i,r,n){return this.a.copy(t[i]),this.b.copy(t[r]),this.c.copy(t[n]),this}setFromAttributeAndIndices(t,i,r,n){return this.a.fromBufferAttribute(t,i),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return io.subVectors(this.c,this.b),Ls.subVectors(this.a,this.b),io.cross(Ls).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Qr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,i){return Qr.getBarycoord(t,this.a,this.b,this.c,i)}getUV(t,i,r,n,a){return Qr.getUV(t,this.a,this.b,this.c,i,r,n,a)}containsPoint(t){return Qr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Qr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,i){let r=this.a,n=this.b,a=this.c,c,l;ih.subVectors(n,r),rh.subVectors(a,r),F_.subVectors(t,r);let o=ih.dot(F_),s=rh.dot(F_);if(o<=0&&s<=0)return i.copy(r);U_.subVectors(t,n);let u=ih.dot(U_),d=rh.dot(U_);if(u>=0&&d<=u)return i.copy(n);let h=o*d-u*s;if(h<=0&&o>=0&&u<=0)return c=o/(o-u),i.copy(r).addScaledVector(ih,c);V_.subVectors(t,a);let p=ih.dot(V_),m=rh.dot(V_);if(m>=0&&p<=m)return i.copy(a);let f=p*s-o*m;if(f<=0&&s>=0&&m<=0)return l=s/(s-m),i.copy(r).addScaledVector(rh,l);let g=u*m-p*d;if(g<=0&&d-u>=0&&p-m>=0)return xk.subVectors(a,n),l=(d-u)/(d-u+(p-m)),i.copy(n).addScaledVector(xk,l);let v=1/(g+f+h);return c=f*v,l=h*v,i.copy(r).addScaledVector(ih,c).addScaledVector(rh,l)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},Kne=0,Hv=class extends an{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Kne++}),this.uuid=Ua(),this.name="",this.type="Material",this.blending=hd,this.side=To,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=wB,this.blendDst=_B,this.blendEquation=Mh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=t3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_ne,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=A_,this.stencilZFail=A_,this.stencilZPass=A_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==hd&&(i.blending=this.blending),this.side!==To&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(n){let a=[];for(let c in n){let l=n[c];delete l.metadata,a.push(l)}return a}if(t){let n=r(e.textures),a=r(e.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,i=null;if(t!==null){let r=t.length;i=new Array(r);for(let n=0;n!==r;++n)i[n]=t[n].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},Pl=class extends Hv{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=SB,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},tr=new N,V0=new re,ct=class{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=a3,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,n=this.itemSize;r<n;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)V0.fromBufferAttribute(this,t),V0.applyMatrix3(e),this.setXY(t,V0.x,V0.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)tr.fromBufferAttribute(this,t),tr.applyMatrix3(e),this.setXYZ(t,tr.x,tr.y,tr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)tr.fromBufferAttribute(this,t),tr.applyMatrix4(e),this.setXYZ(t,tr.x,tr.y,tr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)tr.fromBufferAttribute(this,t),tr.applyNormalMatrix(e),this.setXYZ(t,tr.x,tr.y,tr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)tr.fromBufferAttribute(this,t),tr.transformDirection(e),this.setXYZ(t,tr.x,tr.y,tr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=pl(t,this.array)),t}setX(e,t){return this.normalized&&(t=fi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=pl(t,this.array)),t}setY(e,t){return this.normalized&&(t=fi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=pl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=fi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=pl(t,this.array)),t}setW(e,t){return this.normalized&&(t=fi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=fi(t,this.array),i=fi(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=fi(t,this.array),i=fi(i,this.array),r=fi(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,n){return e*=this.itemSize,this.normalized&&(t=fi(t,this.array),i=fi(i,this.array),r=fi(r,this.array),n=fi(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=n,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==a3&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},LB=class extends ct{constructor(e,t,i){super(new Uint16Array(e),t,i)}},gp=class extends ct{constructor(e,t,i){super(new Uint32Array(e),t,i)}},Fe=class extends ct{constructor(e,t,i){super(new Float32Array(e),t,i)}},Xne=0,Sa=new Ie,H_=new ti,nh=new N,la=new Zi,Kf=new Zi,Ar=new N,Qe=class extends an{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Xne++}),this.uuid=Ua(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(PB(e)?gp:LB)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let i=this.attributes.normal;if(i!==void 0){let n=new or().getNormalMatrix(e);i.applyNormalMatrix(n),i.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Sa.makeRotationFromQuaternion(e),this.applyMatrix4(Sa),this}rotateX(e){return Sa.makeRotationX(e),this.applyMatrix4(Sa),this}rotateY(e){return Sa.makeRotationY(e),this.applyMatrix4(Sa),this}rotateZ(e){return Sa.makeRotationZ(e),this.applyMatrix4(Sa),this}translate(e,t,i){return Sa.makeTranslation(e,t,i),this.applyMatrix4(Sa),this}scale(e,t,i){return Sa.makeScale(e,t,i),this.applyMatrix4(Sa),this}lookAt(e){return H_.lookAt(e),H_.updateMatrix(),this.applyMatrix4(H_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(nh).negate(),this.translate(nh.x,nh.y,nh.z),this}setFromPoints(e){let t=[];for(let i=0,r=e.length;i<r;i++){let n=e[i];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new Fe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zi);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){let n=t[i];la.setFromBufferAttribute(n),this.morphTargetsRelative?(Ar.addVectors(this.boundingBox.min,la.min),this.boundingBox.expandByPoint(Ar),Ar.addVectors(this.boundingBox.max,la.max),this.boundingBox.expandByPoint(Ar)):(this.boundingBox.expandByPoint(la.min),this.boundingBox.expandByPoint(la.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new aa);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){let i=this.boundingSphere.center;if(la.setFromBufferAttribute(e),t)for(let n=0,a=t.length;n<a;n++){let c=t[n];Kf.setFromBufferAttribute(c),this.morphTargetsRelative?(Ar.addVectors(la.min,Kf.min),la.expandByPoint(Ar),Ar.addVectors(la.max,Kf.max),la.expandByPoint(Ar)):(la.expandByPoint(Kf.min),la.expandByPoint(Kf.max))}la.getCenter(i);let r=0;for(let n=0,a=e.count;n<a;n++)Ar.fromBufferAttribute(e,n),r=Math.max(r,i.distanceToSquared(Ar));if(t)for(let n=0,a=t.length;n<a;n++){let c=t[n],l=this.morphTargetsRelative;for(let o=0,s=c.count;o<s;o++)Ar.fromBufferAttribute(c,o),l&&(nh.fromBufferAttribute(e,o),Ar.add(nh)),r=Math.max(r,i.distanceToSquared(Ar))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let i=e.array,r=t.position.array,n=t.normal.array,a=t.uv.array,c=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ct(new Float32Array(4*c),4));let l=this.getAttribute("tangent").array,o=[],s=[];for(let A=0;A<c;A++)o[A]=new N,s[A]=new N;let u=new N,d=new N,h=new N,p=new re,m=new re,f=new re,g=new N,v=new N;function S(A,T,M){u.fromArray(r,A*3),d.fromArray(r,T*3),h.fromArray(r,M*3),p.fromArray(a,A*2),m.fromArray(a,T*2),f.fromArray(a,M*2),d.sub(u),h.sub(u),m.sub(p),f.sub(p);let j=1/(m.x*f.y-f.x*m.y);!isFinite(j)||(g.copy(d).multiplyScalar(f.y).addScaledVector(h,-m.y).multiplyScalar(j),v.copy(h).multiplyScalar(m.x).addScaledVector(d,-f.x).multiplyScalar(j),o[A].add(g),o[T].add(g),o[M].add(g),s[A].add(v),s[T].add(v),s[M].add(v))}let x=this.groups;x.length===0&&(x=[{start:0,count:i.length}]);for(let A=0,T=x.length;A<T;++A){let M=x[A],j=M.start,P=M.count;for(let I=j,k=j+P;I<k;I+=3)S(i[I+0],i[I+1],i[I+2])}let b=new N,_=new N,w=new N,C=new N;function E(A){w.fromArray(n,A*3),C.copy(w);let T=o[A];b.copy(T),b.sub(w.multiplyScalar(w.dot(T))).normalize(),_.crossVectors(C,T);let M=_.dot(s[A])<0?-1:1;l[A*4]=b.x,l[A*4+1]=b.y,l[A*4+2]=b.z,l[A*4+3]=M}for(let A=0,T=x.length;A<T;++A){let M=x[A],j=M.start,P=M.count;for(let I=j,k=j+P;I<k;I+=3)E(i[I+0]),E(i[I+1]),E(i[I+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ct(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let d=0,h=i.count;d<h;d++)i.setXYZ(d,0,0,0);let r=new N,n=new N,a=new N,c=new N,l=new N,o=new N,s=new N,u=new N;if(e)for(let d=0,h=e.count;d<h;d+=3){let p=e.getX(d+0),m=e.getX(d+1),f=e.getX(d+2);r.fromBufferAttribute(t,p),n.fromBufferAttribute(t,m),a.fromBufferAttribute(t,f),s.subVectors(a,n),u.subVectors(r,n),s.cross(u),c.fromBufferAttribute(i,p),l.fromBufferAttribute(i,m),o.fromBufferAttribute(i,f),c.add(s),l.add(s),o.add(s),i.setXYZ(p,c.x,c.y,c.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(f,o.x,o.y,o.z)}else for(let d=0,h=t.count;d<h;d+=3)r.fromBufferAttribute(t,d+0),n.fromBufferAttribute(t,d+1),a.fromBufferAttribute(t,d+2),s.subVectors(a,n),u.subVectors(r,n),s.cross(u),i.setXYZ(d+0,s.x,s.y,s.z),i.setXYZ(d+1,s.x,s.y,s.z),i.setXYZ(d+2,s.x,s.y,s.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ar.fromBufferAttribute(e,t),Ar.normalize(),e.setXYZ(t,Ar.x,Ar.y,Ar.z)}toNonIndexed(){function e(c,l){let o=c.array,s=c.itemSize,u=c.normalized,d=new o.constructor(l.length*s),h=0,p=0;for(let m=0,f=l.length;m<f;m++){c.isInterleavedBufferAttribute?h=l[m]*c.data.stride+c.offset:h=l[m]*s;for(let g=0;g<s;g++)d[p++]=o[h++]}return new ct(d,s,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new Qe,i=this.index.array,r=this.attributes;for(let c in r){let l=r[c],o=e(l,i);t.setAttribute(c,o)}let n=this.morphAttributes;for(let c in n){let l=[],o=n[c];for(let s=0,u=o.length;s<u;s++){let d=o[s],h=e(d,i);l.push(h)}t.morphAttributes[c]=l}t.morphTargetsRelative=this.morphTargetsRelative;let a=this.groups;for(let c=0,l=a.length;c<l;c++){let o=a[c];t.addGroup(o.start,o.count,o.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let o in l)l[o]!==void 0&&(e[o]=l[o]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let i=this.attributes;for(let l in i){let o=i[l];e.data.attributes[l]=o.toJSON(e.data)}let r={},n=!1;for(let l in this.morphAttributes){let o=this.morphAttributes[l],s=[];for(let u=0,d=o.length;u<d;u++){let h=o[u];s.push(h.toJSON(e.data))}s.length>0&&(r[l]=s,n=!0)}n&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let c=this.boundingSphere;return c!==null&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let i=e.index;i!==null&&this.setIndex(i.clone(t));let r=e.attributes;for(let o in r){let s=r[o];this.setAttribute(o,s.clone(t))}let n=e.morphAttributes;for(let o in n){let s=[],u=n[o];for(let d=0,h=u.length;d<h;d++)s.push(u[d].clone(t));this.morphAttributes[o]=s}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let o=0,s=a.length;o<s;o++){let u=a[o];this.addGroup(u.start,u.count,u.materialIndex)}let c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},wk=new Ie,ah=new yf,G_=new aa,Xf=new N,Jf=new N,Qf=new N,W_=new N,H0=new N,G0=new re,W0=new re,q0=new re,q_=new N,Y0=new N,gi=class extends ti{constructor(e=new Qe,t=new Pl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,n=i.length;r<n;r++){let a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,t){let i=this.geometry,r=i.attributes.position,n=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);let c=this.morphTargetInfluences;if(n&&c){H0.set(0,0,0);for(let l=0,o=n.length;l<o;l++){let s=c[l],u=n[l];s!==0&&(W_.fromBufferAttribute(u,e),a?H0.addScaledVector(W_,s):H0.addScaledVector(W_.sub(t),s))}t.add(H0)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let i=this.geometry,r=this.material,n=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),G_.copy(i.boundingSphere),G_.applyMatrix4(n),e.ray.intersectsSphere(G_)===!1)||(wk.copy(n).invert(),ah.copy(e.ray).applyMatrix4(wk),i.boundingBox!==null&&ah.intersectsBox(i.boundingBox)===!1))return;let a,c=i.index,l=i.attributes.position,o=i.attributes.uv,s=i.attributes.uv2,u=i.groups,d=i.drawRange;if(c!==null)if(Array.isArray(r))for(let h=0,p=u.length;h<p;h++){let m=u[h],f=r[m.materialIndex],g=Math.max(m.start,d.start),v=Math.min(c.count,Math.min(m.start+m.count,d.start+d.count));for(let S=g,x=v;S<x;S+=3){let b=c.getX(S),_=c.getX(S+1),w=c.getX(S+2);a=K0(this,f,e,ah,o,s,b,_,w),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{let h=Math.max(0,d.start),p=Math.min(c.count,d.start+d.count);for(let m=h,f=p;m<f;m+=3){let g=c.getX(m),v=c.getX(m+1),S=c.getX(m+2);a=K0(this,r,e,ah,o,s,g,v,S),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}else if(l!==void 0)if(Array.isArray(r))for(let h=0,p=u.length;h<p;h++){let m=u[h],f=r[m.materialIndex],g=Math.max(m.start,d.start),v=Math.min(l.count,Math.min(m.start+m.count,d.start+d.count));for(let S=g,x=v;S<x;S+=3){let b=S,_=S+1,w=S+2;a=K0(this,f,e,ah,o,s,b,_,w),a&&(a.faceIndex=Math.floor(S/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{let h=Math.max(0,d.start),p=Math.min(l.count,d.start+d.count);for(let m=h,f=p;m<f;m+=3){let g=m,v=m+1,S=m+2;a=K0(this,r,e,ah,o,s,g,v,S),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}}};function Jne(e,t,i,r,n,a,c,l){let o;if(t.side===Nr?o=r.intersectTriangle(c,a,n,!0,l):o=r.intersectTriangle(n,a,c,t.side===To,l),o===null)return null;Y0.copy(l),Y0.applyMatrix4(e.matrixWorld);let s=i.ray.origin.distanceTo(Y0);return s<i.near||s>i.far?null:{distance:s,point:Y0.clone(),object:e}}function K0(e,t,i,r,n,a,c,l,o){e.getVertexPosition(c,Xf),e.getVertexPosition(l,Jf),e.getVertexPosition(o,Qf);let s=Jne(e,t,i,r,Xf,Jf,Qf,q_);if(s){n&&(G0.fromBufferAttribute(n,c),W0.fromBufferAttribute(n,l),q0.fromBufferAttribute(n,o),s.uv=Qr.getUV(q_,Xf,Jf,Qf,G0,W0,q0,new re)),a&&(G0.fromBufferAttribute(a,c),W0.fromBufferAttribute(a,l),q0.fromBufferAttribute(a,o),s.uv2=Qr.getUV(q_,Xf,Jf,Qf,G0,W0,q0,new re));let u={a:c,b:l,c:o,normal:new N,materialIndex:0};Qr.getNormal(Xf,Jf,Qf,u.normal),s.face=u}return s}var Mo=class extends Qe{constructor(e=1,t=1,i=1,r=1,n=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};let c=this;r=Math.floor(r),n=Math.floor(n),a=Math.floor(a);let l=[],o=[],s=[],u=[],d=0,h=0;p("z","y","x",-1,-1,i,t,e,a,n,0),p("z","y","x",1,-1,i,t,-e,a,n,1),p("x","z","y",1,1,e,i,t,r,a,2),p("x","z","y",1,-1,e,i,-t,r,a,3),p("x","y","z",1,-1,e,t,i,r,n,4),p("x","y","z",-1,-1,e,t,-i,r,n,5),this.setIndex(l),this.setAttribute("position",new Fe(o,3)),this.setAttribute("normal",new Fe(s,3)),this.setAttribute("uv",new Fe(u,2));function p(m,f,g,v,S,x,b,_,w,C,E){let A=x/w,T=b/C,M=x/2,j=b/2,P=_/2,I=w+1,k=C+1,R=0,O=0,D=new N;for(let L=0;L<k;L++){let B=L*T-j;for(let F=0;F<I;F++){let H=F*A-M;D[m]=H*v,D[f]=B*S,D[g]=P,o.push(D.x,D.y,D.z),D[m]=0,D[f]=0,D[g]=_>0?1:-1,s.push(D.x,D.y,D.z),u.push(F/w),u.push(1-L/C),R+=1}}for(let L=0;L<C;L++)for(let B=0;B<w;B++){let F=d+B+I*L,H=d+B+I*(L+1),ee=d+(B+1)+I*(L+1),U=d+(B+1)+I*L;l.push(F,H,U),l.push(H,ee,U),O+=6}c.addGroup(h,O,E),h+=O,d+=R}}static fromJSON(e){return new Mo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Up(e){let t={};for(let i in e){t[i]={};for(let r in e[i]){let n=e[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?t[i][r]=n.clone():Array.isArray(n)?t[i][r]=n.slice():t[i][r]=n}}return t}function Mn(e){let t={};for(let i=0;i<e.length;i++){let r=Up(e[i]);for(let n in r)t[n]=r[n]}return t}function Qne(e){let t=[];for(let i=0;i<e.length;i++)t.push(e[i].clone());return t}function zB(e){return e.getRenderTarget()===null&&e.outputEncoding===Et?Jo:Gb}var bf={clone:Up,merge:Mn},$ne=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Zne=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Ht=class extends Hv{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$ne,this.fragmentShader=Zne,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Up(e.uniforms),this.uniformsGroups=Qne(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let r in this.uniforms){let n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let i={};for(let r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}},fu=class extends ti{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ie,this.projectionMatrix=new Ie,this.projectionMatrixInverse=new Ie}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},mn=class extends fu{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=qg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Zm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return qg*2*Math.atan(Math.tan(Zm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,n,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(Zm*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,n=-.5*r,a=this.view;if(this.view!==null&&this.view.enabled){let l=a.fullWidth,o=a.fullHeight;n+=a.offsetX*r/l,t-=a.offsetY*i/o,r*=a.width/l,i*=a.height/o}let c=this.filmOffset;c!==0&&(n+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},oh=-90,sh=1,eae=class extends ti{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;let r=new mn(oh,sh,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);let n=new mn(oh,sh,e,t);n.layers=this.layers,n.up.set(0,1,0),n.lookAt(-1,0,0),this.add(n);let a=new mn(oh,sh,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);let c=new mn(oh,sh,e,t);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(0,-1,0),this.add(c);let l=new mn(oh,sh,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);let o=new mn(oh,sh,e,t);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(0,0,-1),this.add(o)}update(e,t){this.parent===null&&this.updateMatrixWorld();let i=this.renderTarget,[r,n,a,c,l,o]=this.children,s=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=ps,e.xr.enabled=!1;let h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,n),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,c),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,o),e.setRenderTarget(s),e.toneMapping=u,e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}},nM=class extends Ni{constructor(e,t,i,r,n,a,c,l,o,s){e=e!==void 0?e:[],t=t!==void 0?t:Md,super(e,t,i,r,n,a,c,l,o,s),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},tae=class extends Vt{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new nM(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:jt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Mo(5,5,5),n=new Ht({name:"CubemapFromEquirect",uniforms:Up(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Nr,blending:lr});n.uniforms.tEquirect.value=t;let a=new gi(r,n),c=t.minFilter;return t.minFilter===Fp&&(t.minFilter=jt),new eae(1,10,this).update(e,a),t.minFilter=c,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){let n=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(n)}},Y_=new N,iae=new N,rae=new or,Yn=class{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){let r=Y_.subVectors(i,t).cross(iae.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let i=e.delta(Y_),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let n=-(e.start.dot(this.normal)+this.constant)/r;return n<0||n>1?null:t.copy(i).multiplyScalar(n).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let i=t||rae.getNormalMatrix(e),r=this.coplanarPoint(Y_).applyMatrix4(e),n=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(n),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},lh=new aa,X0=new N,aM=class{constructor(e=new Yn,t=new Yn,i=new Yn,r=new Yn,n=new Yn,a=new Yn){this.planes=[e,t,i,r,n,a]}set(e,t,i,r,n,a){let c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(i),c[3].copy(r),c[4].copy(n),c[5].copy(a),this}copy(e){let t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){let t=this.planes,i=e.elements,r=i[0],n=i[1],a=i[2],c=i[3],l=i[4],o=i[5],s=i[6],u=i[7],d=i[8],h=i[9],p=i[10],m=i[11],f=i[12],g=i[13],v=i[14],S=i[15];return t[0].setComponents(c-r,u-l,m-d,S-f).normalize(),t[1].setComponents(c+r,u+l,m+d,S+f).normalize(),t[2].setComponents(c+n,u+o,m+h,S+g).normalize(),t[3].setComponents(c-n,u-o,m-h,S-g).normalize(),t[4].setComponents(c-a,u-s,m-p,S-v).normalize(),t[5].setComponents(c+a,u+s,m+p,S+v).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),lh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(lh)}intersectsSprite(e){return lh.center.set(0,0,0),lh.radius=.7071067811865476,lh.applyMatrix4(e.matrixWorld),this.intersectsSphere(lh)}intersectsSphere(e){let t=this.planes,i=e.center,r=-e.radius;for(let n=0;n<6;n++)if(t[n].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){let t=this.planes;for(let i=0;i<6;i++){let r=t[i];if(X0.x=r.normal.x>0?e.max.x:e.min.x,X0.y=r.normal.y>0?e.max.y:e.min.y,X0.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(X0)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function BB(){let e=null,t=!1,i=null,r=null;function n(a,c){i(a,c),r=e.requestAnimationFrame(n)}return{start:function(){t!==!0&&i!==null&&(r=e.requestAnimationFrame(n),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(a){i=a},setContext:function(a){e=a}}}function nae(e,t){let i=t.isWebGL2,r=new WeakMap;function n(s,u){let d=s.array,h=s.usage,p=e.createBuffer();e.bindBuffer(u,p),e.bufferData(u,d,h),s.onUploadCallback();let m;if(d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(s.isFloat16BufferAttribute)if(i)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else if(d instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:p,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:s.version}}function a(s,u,d){let h=u.array,p=u.updateRange;e.bindBuffer(d,s),p.count===-1?e.bufferSubData(d,0,h):(i?e.bufferSubData(d,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):e.bufferSubData(d,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function c(s){return s.isInterleavedBufferAttribute&&(s=s.data),r.get(s)}function l(s){s.isInterleavedBufferAttribute&&(s=s.data);let u=r.get(s);u&&(e.deleteBuffer(u.buffer),r.delete(s))}function o(s,u){if(s.isGLBufferAttribute){let h=r.get(s);(!h||h.version<s.version)&&r.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);let d=r.get(s);d===void 0?r.set(s,n(s,u)):d.version<s.version&&(a(d.buffer,s,u),d.version=s.version)}return{get:c,remove:l,update:o}}var _s=class extends Qe{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};let n=e/2,a=t/2,c=Math.floor(i),l=Math.floor(r),o=c+1,s=l+1,u=e/c,d=t/l,h=[],p=[],m=[],f=[];for(let g=0;g<s;g++){let v=g*d-a;for(let S=0;S<o;S++){let x=S*u-n;p.push(x,-v,0),m.push(0,0,1),f.push(S/c),f.push(1-g/l)}}for(let g=0;g<l;g++)for(let v=0;v<c;v++){let S=v+o*g,x=v+o*(g+1),b=v+1+o*(g+1),_=v+1+o*g;h.push(S,x,_),h.push(x,b,_)}this.setIndex(h),this.setAttribute("position",new Fe(p,3)),this.setAttribute("normal",new Fe(m,3)),this.setAttribute("uv",new Fe(f,2))}static fromJSON(e){return new _s(e.width,e.height,e.widthSegments,e.heightSegments)}},aae=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,oae=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sae=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,lae=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,cae=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uae=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dae="vec3 transformed = vec3( position );",hae=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pae=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,fae=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,mae=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,gae=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,vae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,bae=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,xae=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_ae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Sae=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Cae=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Eae=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Tae=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Aae=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Mae=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,jae=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Iae=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Pae="gl_FragColor = linearToOutputTexel( gl_FragColor );",kae=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Dae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Oae=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Rae=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Nae=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Lae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zae=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Bae=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Fae=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Uae=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Vae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Hae=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Gae=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Wae=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qae=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Yae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Kae=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Xae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Jae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Qae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,$ae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Zae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,eoe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,toe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ioe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,roe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,noe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,aoe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ooe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,soe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,loe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,coe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uoe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,doe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hoe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,poe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,foe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,moe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,goe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,voe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,yoe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,boe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,woe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_oe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Soe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Coe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Eoe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Toe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Aoe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Moe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,joe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Ioe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Poe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,koe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Doe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ooe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Roe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Noe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Loe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zoe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Boe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Foe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Uoe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Voe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Hoe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Goe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Woe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,qoe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Yoe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Koe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Xoe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Joe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Qoe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,$oe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Zoe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,ese=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,tse=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,ise=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,rse=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nse=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ase=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ose=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lse=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cse=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,use=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,dse=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hse=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,pse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fse=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mse=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gse=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vse=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yse=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bse=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xse=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wse=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,_se=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sse=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Cse=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Ese=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tse=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ase=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Mse=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jse=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ise=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pse=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dse=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ose=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Rse=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Nse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,At={alphamap_fragment:aae,alphamap_pars_fragment:oae,alphatest_fragment:sae,alphatest_pars_fragment:lae,aomap_fragment:cae,aomap_pars_fragment:uae,begin_vertex:dae,beginnormal_vertex:hae,bsdfs:pae,iridescence_fragment:fae,bumpmap_pars_fragment:mae,clipping_planes_fragment:gae,clipping_planes_pars_fragment:vae,clipping_planes_pars_vertex:yae,clipping_planes_vertex:bae,color_fragment:xae,color_pars_fragment:wae,color_pars_vertex:_ae,color_vertex:Sae,common:Cae,cube_uv_reflection_fragment:Eae,defaultnormal_vertex:Tae,displacementmap_pars_vertex:Aae,displacementmap_vertex:Mae,emissivemap_fragment:jae,emissivemap_pars_fragment:Iae,encodings_fragment:Pae,encodings_pars_fragment:kae,envmap_fragment:Dae,envmap_common_pars_fragment:Oae,envmap_pars_fragment:Rae,envmap_pars_vertex:Nae,envmap_physical_pars_fragment:Kae,envmap_vertex:Lae,fog_vertex:zae,fog_pars_vertex:Bae,fog_fragment:Fae,fog_pars_fragment:Uae,gradientmap_pars_fragment:Vae,lightmap_fragment:Hae,lightmap_pars_fragment:Gae,lights_lambert_fragment:Wae,lights_lambert_pars_fragment:qae,lights_pars_begin:Yae,lights_toon_fragment:Xae,lights_toon_pars_fragment:Jae,lights_phong_fragment:Qae,lights_phong_pars_fragment:$ae,lights_physical_fragment:Zae,lights_physical_pars_fragment:eoe,lights_fragment_begin:toe,lights_fragment_maps:ioe,lights_fragment_end:roe,logdepthbuf_fragment:noe,logdepthbuf_pars_fragment:aoe,logdepthbuf_pars_vertex:ooe,logdepthbuf_vertex:soe,map_fragment:loe,map_pars_fragment:coe,map_particle_fragment:uoe,map_particle_pars_fragment:doe,metalnessmap_fragment:hoe,metalnessmap_pars_fragment:poe,morphcolor_vertex:foe,morphnormal_vertex:moe,morphtarget_pars_vertex:goe,morphtarget_vertex:voe,normal_fragment_begin:yoe,normal_fragment_maps:boe,normal_pars_fragment:xoe,normal_pars_vertex:woe,normal_vertex:_oe,normalmap_pars_fragment:Soe,clearcoat_normal_fragment_begin:Coe,clearcoat_normal_fragment_maps:Eoe,clearcoat_pars_fragment:Toe,iridescence_pars_fragment:Aoe,output_fragment:Moe,packing:joe,premultiplied_alpha_fragment:Ioe,project_vertex:Poe,dithering_fragment:koe,dithering_pars_fragment:Doe,roughnessmap_fragment:Ooe,roughnessmap_pars_fragment:Roe,shadowmap_pars_fragment:Noe,shadowmap_pars_vertex:Loe,shadowmap_vertex:zoe,shadowmask_pars_fragment:Boe,skinbase_vertex:Foe,skinning_pars_vertex:Uoe,skinning_vertex:Voe,skinnormal_vertex:Hoe,specularmap_fragment:Goe,specularmap_pars_fragment:Woe,tonemapping_fragment:qoe,tonemapping_pars_fragment:Yoe,transmission_fragment:Koe,transmission_pars_fragment:Xoe,uv_pars_fragment:Joe,uv_pars_vertex:Qoe,uv_vertex:$oe,uv2_pars_fragment:Zoe,uv2_pars_vertex:ese,uv2_vertex:tse,worldpos_vertex:ise,background_vert:rse,background_frag:nse,backgroundCube_vert:ase,backgroundCube_frag:ose,cube_vert:sse,cube_frag:lse,depth_vert:cse,depth_frag:use,distanceRGBA_vert:dse,distanceRGBA_frag:hse,equirect_vert:pse,equirect_frag:fse,linedashed_vert:mse,linedashed_frag:gse,meshbasic_vert:vse,meshbasic_frag:yse,meshlambert_vert:bse,meshlambert_frag:xse,meshmatcap_vert:wse,meshmatcap_frag:_se,meshnormal_vert:Sse,meshnormal_frag:Cse,meshphong_vert:Ese,meshphong_frag:Tse,meshphysical_vert:Ase,meshphysical_frag:Mse,meshtoon_vert:jse,meshtoon_frag:Ise,points_vert:Pse,points_frag:kse,shadow_vert:Dse,shadow_frag:Ose,sprite_vert:Rse,sprite_frag:Nse},Ne={common:{diffuse:{value:new lt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new or},uv2Transform:{value:new or},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new re(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new or}},sprite:{diffuse:{value:new lt(16777215)},opacity:{value:1},center:{value:new re(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new or}}},$o={basic:{uniforms:Mn([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:Mn([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new lt(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:Mn([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new lt(0)},specular:{value:new lt(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:Mn([Ne.common,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.roughnessmap,Ne.metalnessmap,Ne.fog,Ne.lights,{emissive:{value:new lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:Mn([Ne.common,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.gradientmap,Ne.fog,Ne.lights,{emissive:{value:new lt(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:Mn([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:Mn([Ne.points,Ne.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:Mn([Ne.common,Ne.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:Mn([Ne.common,Ne.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:Mn([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:Mn([Ne.sprite,Ne.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new or},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:Mn([Ne.common,Ne.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:Mn([Ne.lights,Ne.fog,{color:{value:new lt(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};$o.physical={uniforms:Mn([$o.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new re(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new lt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new lt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new lt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};var J0={r:0,b:0,g:0};function Lse(e,t,i,r,n,a,c){let l=new lt(0),o=a===!0?0:1,s,u,d=null,h=0,p=null;function m(g,v){let S=!1,x=v.isScene===!0?v.background:null;x&&x.isTexture&&(x=(v.backgroundBlurriness>0?i:t).get(x));let b=e.xr,_=b.getSession&&b.getSession();_&&_.environmentBlendMode==="additive"&&(x=null),x===null?f(l,o):x&&x.isColor&&(f(x,1),S=!0),(e.autoClear||S)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Vv)?(u===void 0&&(u=new gi(new Mo(1,1,1),new Ht({name:"BackgroundCubeMaterial",uniforms:Up($o.backgroundCube.uniforms),vertexShader:$o.backgroundCube.vertexShader,fragmentShader:$o.backgroundCube.fragmentShader,side:Nr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,C,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=x.encoding!==Et,(d!==x||h!==x.version||p!==e.toneMapping)&&(u.material.needsUpdate=!0,d=x,h=x.version,p=e.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(s===void 0&&(s=new gi(new _s(2,2),new Ht({name:"BackgroundMaterial",uniforms:Up($o.background.uniforms),vertexShader:$o.background.vertexShader,fragmentShader:$o.background.fragmentShader,side:To,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(s)),s.material.uniforms.t2D.value=x,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=x.encoding!==Et,x.matrixAutoUpdate===!0&&x.updateMatrix(),s.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||h!==x.version||p!==e.toneMapping)&&(s.material.needsUpdate=!0,d=x,h=x.version,p=e.toneMapping),s.layers.enableAll(),g.unshift(s,s.geometry,s.material,0,0,null))}function f(g,v){g.getRGB(J0,zB(e)),r.buffers.color.setClear(J0.r,J0.g,J0.b,v,c)}return{getClearColor:function(){return l},setClearColor:function(g,v=1){l.set(g),o=v,f(l,o)},getClearAlpha:function(){return o},setClearAlpha:function(g){o=g,f(l,o)},render:m}}function zse(e,t,i,r){let n=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),c=r.isWebGL2||a!==null,l={},o=g(null),s=o,u=!1;function d(I,k,R,O,D){let L=!1;if(c){let B=f(O,R,k);s!==B&&(s=B,p(s.object)),L=v(I,O,R,D),L&&S(I,O,R,D)}else{let B=k.wireframe===!0;(s.geometry!==O.id||s.program!==R.id||s.wireframe!==B)&&(s.geometry=O.id,s.program=R.id,s.wireframe=B,L=!0)}D!==null&&i.update(D,34963),(L||u)&&(u=!1,E(I,k,R,O),D!==null&&e.bindBuffer(34963,i.get(D).buffer))}function h(){return r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()}function p(I){return r.isWebGL2?e.bindVertexArray(I):a.bindVertexArrayOES(I)}function m(I){return r.isWebGL2?e.deleteVertexArray(I):a.deleteVertexArrayOES(I)}function f(I,k,R){let O=R.wireframe===!0,D=l[I.id];D===void 0&&(D={},l[I.id]=D);let L=D[k.id];L===void 0&&(L={},D[k.id]=L);let B=L[O];return B===void 0&&(B=g(h()),L[O]=B),B}function g(I){let k=[],R=[],O=[];for(let D=0;D<n;D++)k[D]=0,R[D]=0,O[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:R,attributeDivisors:O,object:I,attributes:{},index:null}}function v(I,k,R,O){let D=s.attributes,L=k.attributes,B=0,F=R.getAttributes();for(let H in F)if(F[H].location>=0){let ee=D[H],U=L[H];if(U===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(U=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(U=I.instanceColor)),ee===void 0||ee.attribute!==U||U&&ee.data!==U.data)return!0;B++}return s.attributesNum!==B||s.index!==O}function S(I,k,R,O){let D={},L=k.attributes,B=0,F=R.getAttributes();for(let H in F)if(F[H].location>=0){let ee=L[H];ee===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(ee=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(ee=I.instanceColor));let U={};U.attribute=ee,ee&&ee.data&&(U.data=ee.data),D[H]=U,B++}s.attributes=D,s.attributesNum=B,s.index=O}function x(){let I=s.newAttributes;for(let k=0,R=I.length;k<R;k++)I[k]=0}function b(I){_(I,0)}function _(I,k){let R=s.newAttributes,O=s.enabledAttributes,D=s.attributeDivisors;R[I]=1,O[I]===0&&(e.enableVertexAttribArray(I),O[I]=1),D[I]!==k&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,k),D[I]=k)}function w(){let I=s.newAttributes,k=s.enabledAttributes;for(let R=0,O=k.length;R<O;R++)k[R]!==I[R]&&(e.disableVertexAttribArray(R),k[R]=0)}function C(I,k,R,O,D,L){r.isWebGL2===!0&&(R===5124||R===5125)?e.vertexAttribIPointer(I,k,R,D,L):e.vertexAttribPointer(I,k,R,O,D,L)}function E(I,k,R,O){if(r.isWebGL2===!1&&(I.isInstancedMesh||O.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;x();let D=O.attributes,L=R.getAttributes(),B=k.defaultAttributeValues;for(let F in L){let H=L[F];if(H.location>=0){let ee=D[F];if(ee===void 0&&(F==="instanceMatrix"&&I.instanceMatrix&&(ee=I.instanceMatrix),F==="instanceColor"&&I.instanceColor&&(ee=I.instanceColor)),ee!==void 0){let U=ee.normalized,X=ee.itemSize,W=i.get(ee);if(W===void 0)continue;let ie=W.buffer,Q=W.type,ae=W.bytesPerElement;if(ee.isInterleavedBufferAttribute){let K=ee.data,te=K.stride,ne=ee.offset;if(K.isInstancedInterleavedBuffer){for(let ce=0;ce<H.locationSize;ce++)_(H.location+ce,K.meshPerAttribute);I.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let ce=0;ce<H.locationSize;ce++)b(H.location+ce);e.bindBuffer(34962,ie);for(let ce=0;ce<H.locationSize;ce++)C(H.location+ce,X/H.locationSize,Q,U,te*ae,(ne+X/H.locationSize*ce)*ae)}else{if(ee.isInstancedBufferAttribute){for(let K=0;K<H.locationSize;K++)_(H.location+K,ee.meshPerAttribute);I.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let K=0;K<H.locationSize;K++)b(H.location+K);e.bindBuffer(34962,ie);for(let K=0;K<H.locationSize;K++)C(H.location+K,X/H.locationSize,Q,U,X*ae,X/H.locationSize*K*ae)}}else if(B!==void 0){let U=B[F];if(U!==void 0)switch(U.length){case 2:e.vertexAttrib2fv(H.location,U);break;case 3:e.vertexAttrib3fv(H.location,U);break;case 4:e.vertexAttrib4fv(H.location,U);break;default:e.vertexAttrib1fv(H.location,U)}}}}w()}function A(){j();for(let I in l){let k=l[I];for(let R in k){let O=k[R];for(let D in O)m(O[D].object),delete O[D];delete k[R]}delete l[I]}}function T(I){if(l[I.id]===void 0)return;let k=l[I.id];for(let R in k){let O=k[R];for(let D in O)m(O[D].object),delete O[D];delete k[R]}delete l[I.id]}function M(I){for(let k in l){let R=l[k];if(R[I.id]===void 0)continue;let O=R[I.id];for(let D in O)m(O[D].object),delete O[D];delete R[I.id]}}function j(){P(),u=!0,s!==o&&(s=o,p(s.object))}function P(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:d,reset:j,resetDefaultState:P,dispose:A,releaseStatesOfGeometry:T,releaseStatesOfProgram:M,initAttributes:x,enableAttribute:b,disableUnusedAttributes:w}}function Bse(e,t,i,r){let n=r.isWebGL2,a;function c(s){a=s}function l(s,u){e.drawArrays(a,s,u),i.update(u,a,1)}function o(s,u,d){if(d===0)return;let h,p;if(n)h=e,p="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](a,s,u,d),i.update(u,a,d)}this.setMode=c,this.render=l,this.renderInstances=o}function Fse(e,t,i){let r;function n(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){let C=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(C){if(C==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";C="mediump"}return C==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let c=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,l=i.precision!==void 0?i.precision:"highp",o=a(l);o!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",o,"instead."),l=o);let s=c||t.has("WEBGL_draw_buffers"),u=i.logarithmicDepthBuffer===!0,d=e.getParameter(34930),h=e.getParameter(35660),p=e.getParameter(3379),m=e.getParameter(34076),f=e.getParameter(34921),g=e.getParameter(36347),v=e.getParameter(36348),S=e.getParameter(36349),x=h>0,b=c||t.has("OES_texture_float"),_=x&&b,w=c?e.getParameter(36183):0;return{isWebGL2:c,drawBuffers:s,getMaxAnisotropy:n,getMaxPrecision:a,precision:l,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:m,maxAttributes:f,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:S,vertexTextures:x,floatFragmentTextures:b,floatVertexTextures:_,maxSamples:w}}function Use(e){let t=this,i=null,r=0,n=!1,a=!1,c=new Yn,l=new or,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){let p=d.length!==0||h||r!==0||n;return n=h,r=d.length,p},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,h){i=u(d,h,0)},this.setState=function(d,h,p){let m=d.clippingPlanes,f=d.clipIntersection,g=d.clipShadows,v=e.get(d);if(!n||m===null||m.length===0||a&&!g)a?u(null):s();else{let S=a?0:r,x=S*4,b=v.clippingState||null;o.value=b,b=u(m,h,x,p);for(let _=0;_!==x;++_)b[_]=i[_];v.clippingState=b,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=S}};function s(){o.value!==i&&(o.value=i,o.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(d,h,p,m){let f=d!==null?d.length:0,g=null;if(f!==0){if(g=o.value,m!==!0||g===null){let v=p+f*4,S=h.matrixWorldInverse;l.getNormalMatrix(S),(g===null||g.length<v)&&(g=new Float32Array(v));for(let x=0,b=p;x!==f;++x,b+=4)c.copy(d[x]).applyMatrix4(S,l),c.normal.toArray(g,b),g[b+3]=c.constant}o.value=g,o.needsUpdate=!0}return t.numPlanes=f,t.numIntersection=0,g}}function Vse(e){let t=new WeakMap;function i(c,l){return l===i3?c.mapping=Md:l===r3&&(c.mapping=jd),c}function r(c){if(c&&c.isTexture&&c.isRenderTargetTexture===!1){let l=c.mapping;if(l===i3||l===r3)if(t.has(c)){let o=t.get(c).texture;return i(o,c.mapping)}else{let o=c.image;if(o&&o.height>0){let s=new tae(o.height/2);return s.fromEquirectangularTexture(e,c),t.set(c,s),c.addEventListener("dispose",n),i(s.texture,c.mapping)}else return null}}return c}function n(c){let l=c.target;l.removeEventListener("dispose",n);let o=t.get(l);o!==void 0&&(t.delete(l),o.dispose())}function a(){t=new WeakMap}return{get:r,dispose:a}}var W2=class extends fu{constructor(e=-1,t=1,i=1,r=-1,n=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=n,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,n,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-e,a=i+e,c=r+t,l=r-t;if(this.view!==null&&this.view.enabled){let o=(this.right-this.left)/this.view.fullWidth/this.zoom,s=(this.top-this.bottom)/this.view.fullHeight/this.zoom;n+=o*this.view.offsetX,a=n+o*this.view.width,c-=s*this.view.offsetY,l=c-s*this.view.height}this.projectionMatrix.makeOrthographic(n,a,c,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},Xh=4,_k=[.125,.215,.35,.446,.526,.582],Fu=20,K_=new W2,Sk=new lt,X_=null,Ou=(1+Math.sqrt(5))/2,ch=1/Ou,Ck=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Ou,ch),new N(0,Ou,-ch),new N(ch,0,Ou),new N(-ch,0,Ou),new N(Ou,ch,0),new N(-Ou,ch,0)],Ek=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){X_=this._renderer.getRenderTarget(),this._setSize(256);let n=this._allocateTargets();return n.depthBuffer=!0,this._sceneToCubeUV(e,i,r,n),t>0&&this._blur(n,0,0,t),this._applyPMREM(n),this._cleanup(n),n}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Mk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Ak(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(X_),e.scissorTest=!1,Q0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Md||e.mapping===jd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),X_=this._renderer.getRenderTarget();let i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:jt,minFilter:jt,generateMipmaps:!1,type:Il,format:Ii,encoding:Ao,depthBuffer:!1},r=Tk(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Tk(e,t,i);let{_lodMax:n}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Hse(n)),this._blurMaterial=Gse(n,e,t)}return r}_compileMaterial(e){let t=new gi(this._lodPlanes[0],e);this._renderer.compile(t,K_)}_sceneToCubeUV(e,t,i,r){let n=new mn(90,1,t,i),a=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],l=this._renderer,o=l.autoClear,s=l.toneMapping;l.getClearColor(Sk),l.toneMapping=ps,l.autoClear=!1;let u=new Pl({name:"PMREM.Background",side:Nr,depthWrite:!1,depthTest:!1}),d=new gi(new Mo,u),h=!1,p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,h=!0):(u.color.copy(Sk),h=!0);for(let m=0;m<6;m++){let f=m%3;f===0?(n.up.set(0,a[m],0),n.lookAt(c[m],0,0)):f===1?(n.up.set(0,0,a[m]),n.lookAt(0,c[m],0)):(n.up.set(0,a[m],0),n.lookAt(0,0,c[m]));let g=this._cubeSize;Q0(r,f*g,m>2?g:0,g,g),l.setRenderTarget(r),h&&l.render(d,n),l.render(e,n)}d.geometry.dispose(),d.material.dispose(),l.toneMapping=s,l.autoClear=o,e.background=p}_textureToCubeUV(e,t){let i=this._renderer,r=e.mapping===Md||e.mapping===jd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Mk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Ak());let n=r?this._cubemapMaterial:this._equirectMaterial,a=new gi(this._lodPlanes[0],n),c=n.uniforms;c.envMap.value=e;let l=this._cubeSize;Q0(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,K_)}_applyPMREM(e){let t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){let n=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Ck[(r-1)%Ck.length];this._blur(e,r-1,r,n,a)}t.autoClear=i}_blur(e,t,i,r,n){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",n),this._halfBlur(a,e,i,i,r,"longitudinal",n)}_halfBlur(e,t,i,r,n,a,c){let l=this._renderer,o=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let s=3,u=new gi(this._lodPlanes[r],o),d=o.uniforms,h=this._sizeLods[i]-1,p=isFinite(n)?Math.PI/(2*h):2*Math.PI/(2*Fu-1),m=n/p,f=isFinite(n)?1+Math.floor(s*m):Fu;f>Fu&&console.warn(`sigmaRadians, ${n}, is too large and will clip, as it requested ${f} samples when the maximum is set to ${Fu}`);let g=[],v=0;for(let w=0;w<Fu;++w){let C=w/m,E=Math.exp(-C*C/2);g.push(E),w===0?v+=E:w<f&&(v+=2*E)}for(let w=0;w<g.length;w++)g[w]=g[w]/v;d.envMap.value=e.texture,d.samples.value=f,d.weights.value=g,d.latitudinal.value=a==="latitudinal",c&&(d.poleAxis.value=c);let{_lodMax:S}=this;d.dTheta.value=p,d.mipInt.value=S-i;let x=this._sizeLods[r],b=3*x*(r>S-Xh?r-S+Xh:0),_=4*(this._cubeSize-x);Q0(t,b,_,3*x,2*x),l.setRenderTarget(t),l.render(u,K_)}};function Hse(e){let t=[],i=[],r=[],n=e,a=e-Xh+1+_k.length;for(let c=0;c<a;c++){let l=Math.pow(2,n);i.push(l);let o=1/l;c>e-Xh?o=_k[c-e+Xh-1]:c===0&&(o=0),r.push(o);let s=1/(l-2),u=-s,d=1+s,h=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,m=6,f=3,g=2,v=1,S=new Float32Array(f*m*p),x=new Float32Array(g*m*p),b=new Float32Array(v*m*p);for(let w=0;w<p;w++){let C=w%3*2/3-1,E=w>2?0:-1,A=[C,E,0,C+2/3,E,0,C+2/3,E+1,0,C,E,0,C+2/3,E+1,0,C,E+1,0];S.set(A,f*m*w),x.set(h,g*m*w);let T=[w,w,w,w,w,w];b.set(T,v*m*w)}let _=new Qe;_.setAttribute("position",new ct(S,f)),_.setAttribute("uv",new ct(x,g)),_.setAttribute("faceIndex",new ct(b,v)),t.push(_),n>Xh&&n--}return{lodPlanes:t,sizeLods:i,sigmas:r}}function Tk(e,t,i){let r=new Vt(e,t,i);return r.texture.mapping=Vv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Q0(e,t,i,r,n){e.viewport.set(t,i,r,n),e.scissor.set(t,i,r,n)}function Gse(e,t,i){let r=new Float32Array(Fu),n=new N(0,1,0);return new Ht({name:"SphericalGaussianBlur",defines:{n:Fu,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:oM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:lr,depthTest:!1,depthWrite:!1})}function Ak(){return new Ht({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:lr,depthTest:!1,depthWrite:!1})}function Mk(){return new Ht({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:lr,depthTest:!1,depthWrite:!1})}function oM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Wse(e){let t=new WeakMap,i=null;function r(l){if(l&&l.isTexture){let o=l.mapping,s=o===i3||o===r3,u=o===Md||o===jd;if(s||u)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let d=t.get(l);return i===null&&(i=new Ek(e)),d=s?i.fromEquirectangular(l,d):i.fromCubemap(l,d),t.set(l,d),d.texture}else{if(t.has(l))return t.get(l).texture;{let d=l.image;if(s&&d&&d.height>0||u&&d&&n(d)){i===null&&(i=new Ek(e));let h=s?i.fromEquirectangular(l):i.fromCubemap(l);return t.set(l,h),l.addEventListener("dispose",a),h.texture}else return null}}}return l}function n(l){let o=0,s=6;for(let u=0;u<s;u++)l[u]!==void 0&&o++;return o===s}function a(l){let o=l.target;o.removeEventListener("dispose",a);let s=t.get(o);s!==void 0&&(t.delete(o),s.dispose())}function c(){t=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:r,dispose:c}}function qse(e){let t={};function i(r){if(t[r]!==void 0)return t[r];let n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return t[r]=n,n}return{has:function(r){return i(r)!==null},init:function(r){r.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(r){let n=i(r);return n===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),n}}}function Yse(e,t,i,r){let n={},a=new WeakMap;function c(d){let h=d.target;h.index!==null&&t.remove(h.index);for(let m in h.attributes)t.remove(h.attributes[m]);h.removeEventListener("dispose",c),delete n[h.id];let p=a.get(h);p&&(t.remove(p),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,i.memory.geometries--}function l(d,h){return n[h.id]===!0||(h.addEventListener("dispose",c),n[h.id]=!0,i.memory.geometries++),h}function o(d){let h=d.attributes;for(let m in h)t.update(h[m],34962);let p=d.morphAttributes;for(let m in p){let f=p[m];for(let g=0,v=f.length;g<v;g++)t.update(f[g],34962)}}function s(d){let h=[],p=d.index,m=d.attributes.position,f=0;if(p!==null){let S=p.array;f=p.version;for(let x=0,b=S.length;x<b;x+=3){let _=S[x+0],w=S[x+1],C=S[x+2];h.push(_,w,w,C,C,_)}}else{let S=m.array;f=m.version;for(let x=0,b=S.length/3-1;x<b;x+=3){let _=x+0,w=x+1,C=x+2;h.push(_,w,w,C,C,_)}}let g=new(PB(h)?gp:LB)(h,1);g.version=f;let v=a.get(d);v&&t.remove(v),a.set(d,g)}function u(d){let h=a.get(d);if(h){let p=d.index;p!==null&&h.version<p.version&&s(d)}else s(d);return a.get(d)}return{get:l,update:o,getWireframeAttribute:u}}function Kse(e,t,i,r){let n=r.isWebGL2,a;function c(h){a=h}let l,o;function s(h){l=h.type,o=h.bytesPerElement}function u(h,p){e.drawElements(a,p,l,h*o),i.update(p,a,1)}function d(h,p,m){if(m===0)return;let f,g;if(n)f=e,g="drawElementsInstanced";else if(f=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",f===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[g](a,p,l,h*o,m),i.update(p,a,m)}this.setMode=c,this.setIndex=s,this.render=u,this.renderInstances=d}function Xse(e){let t={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,c,l){switch(i.calls++,c){case 4:i.triangles+=l*(a/3);break;case 1:i.lines+=l*(a/2);break;case 3:i.lines+=l*(a-1);break;case 2:i.lines+=l*a;break;case 0:i.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function n(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:t,render:i,programs:null,autoReset:!0,reset:n,update:r}}function Jse(e,t){return e[0]-t[0]}function Qse(e,t){return Math.abs(t[1])-Math.abs(e[1])}function $se(e,t,i){let r={},n=new Float32Array(8),a=new WeakMap,c=new vt,l=[];for(let s=0;s<8;s++)l[s]=[s,0];function o(s,u,d,h){let p=s.morphTargetInfluences;if(t.isWebGL2===!0){let m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,f=m!==void 0?m.length:0,g=a.get(u);if(g===void 0||g.count!==f){let x=function(){I.dispose(),a.delete(u),u.removeEventListener("dispose",x)};g!==void 0&&g.texture.dispose();let b=u.morphAttributes.position!==void 0,_=u.morphAttributes.normal!==void 0,w=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],A=u.morphAttributes.color||[],T=0;b===!0&&(T=1),_===!0&&(T=2),w===!0&&(T=3);let M=u.attributes.position.count*T,j=1;M>t.maxTextureSize&&(j=Math.ceil(M/t.maxTextureSize),M=t.maxTextureSize);let P=new Float32Array(M*j*4*f),I=new RB(P,M,j,f);I.type=ni,I.needsUpdate=!0;let k=T*4;for(let R=0;R<f;R++){let O=C[R],D=E[R],L=A[R],B=M*j*4*R;for(let F=0;F<O.count;F++){let H=F*k;b===!0&&(c.fromBufferAttribute(O,F),P[B+H+0]=c.x,P[B+H+1]=c.y,P[B+H+2]=c.z,P[B+H+3]=0),_===!0&&(c.fromBufferAttribute(D,F),P[B+H+4]=c.x,P[B+H+5]=c.y,P[B+H+6]=c.z,P[B+H+7]=0),w===!0&&(c.fromBufferAttribute(L,F),P[B+H+8]=c.x,P[B+H+9]=c.y,P[B+H+10]=c.z,P[B+H+11]=L.itemSize===4?c.w:1)}}g={count:f,texture:I,size:new re(M,j)},a.set(u,g),u.addEventListener("dispose",x)}let v=0;for(let x=0;x<p.length;x++)v+=p[x];let S=u.morphTargetsRelative?1:1-v;h.getUniforms().setValue(e,"morphTargetBaseInfluence",S),h.getUniforms().setValue(e,"morphTargetInfluences",p),h.getUniforms().setValue(e,"morphTargetsTexture",g.texture,i),h.getUniforms().setValue(e,"morphTargetsTextureSize",g.size)}else{let m=p===void 0?0:p.length,f=r[u.id];if(f===void 0||f.length!==m){f=[];for(let b=0;b<m;b++)f[b]=[b,0];r[u.id]=f}for(let b=0;b<m;b++){let _=f[b];_[0]=b,_[1]=p[b]}f.sort(Qse);for(let b=0;b<8;b++)b<m&&f[b][1]?(l[b][0]=f[b][0],l[b][1]=f[b][1]):(l[b][0]=Number.MAX_SAFE_INTEGER,l[b][1]=0);l.sort(Jse);let g=u.morphAttributes.position,v=u.morphAttributes.normal,S=0;for(let b=0;b<8;b++){let _=l[b],w=_[0],C=_[1];w!==Number.MAX_SAFE_INTEGER&&C?(g&&u.getAttribute("morphTarget"+b)!==g[w]&&u.setAttribute("morphTarget"+b,g[w]),v&&u.getAttribute("morphNormal"+b)!==v[w]&&u.setAttribute("morphNormal"+b,v[w]),n[b]=C,S+=C):(g&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),v&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),n[b]=0)}let x=u.morphTargetsRelative?1:1-S;h.getUniforms().setValue(e,"morphTargetBaseInfluence",x),h.getUniforms().setValue(e,"morphTargetInfluences",n)}}return{update:o}}function Zse(e,t,i,r){let n=new WeakMap;function a(o){let s=r.render.frame,u=o.geometry,d=t.get(o,u);return n.get(d)!==s&&(t.update(d),n.set(d,s)),o.isInstancedMesh&&(o.hasEventListener("dispose",l)===!1&&o.addEventListener("dispose",l),i.update(o.instanceMatrix,34962),o.instanceColor!==null&&i.update(o.instanceColor,34962)),d}function c(){n=new WeakMap}function l(o){let s=o.target;s.removeEventListener("dispose",l),i.remove(s.instanceMatrix),s.instanceColor!==null&&i.remove(s.instanceColor)}return{update:a,dispose:c}}var FB=new Ni,UB=new RB,VB=new Fne,HB=new nM,jk=[],Ik=[],Pk=new Float32Array(16),kk=new Float32Array(9),Dk=new Float32Array(4);function xf(e,t,i){let r=e[0];if(r==null||r<=0||r>0)return e;let n=t*i,a=jk[n];if(a===void 0&&(a=new Float32Array(n),jk[n]=a),t!==0){r.toArray(a,0);for(let c=1,l=0;c!==t;++c)l+=i,e[c].toArray(a,l)}return a}function Sr(e,t){if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(e[i]!==t[i])return!1;return!0}function Cr(e,t){for(let i=0,r=t.length;i<r;i++)e[i]=t[i]}function q2(e,t){let i=Ik[t];i===void 0&&(i=new Int32Array(t),Ik[t]=i);for(let r=0;r!==t;++r)i[r]=e.allocateTextureUnit();return i}function ele(e,t){let i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function tle(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Sr(i,t))return;e.uniform2fv(this.addr,t),Cr(i,t)}}function ile(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(t.r!==void 0)(i[0]!==t.r||i[1]!==t.g||i[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(Sr(i,t))return;e.uniform3fv(this.addr,t),Cr(i,t)}}function rle(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Sr(i,t))return;e.uniform4fv(this.addr,t),Cr(i,t)}}function nle(e,t){let i=this.cache,r=t.elements;if(r===void 0){if(Sr(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),Cr(i,t)}else{if(Sr(i,r))return;Dk.set(r),e.uniformMatrix2fv(this.addr,!1,Dk),Cr(i,r)}}function ale(e,t){let i=this.cache,r=t.elements;if(r===void 0){if(Sr(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),Cr(i,t)}else{if(Sr(i,r))return;kk.set(r),e.uniformMatrix3fv(this.addr,!1,kk),Cr(i,r)}}function ole(e,t){let i=this.cache,r=t.elements;if(r===void 0){if(Sr(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),Cr(i,t)}else{if(Sr(i,r))return;Pk.set(r),e.uniformMatrix4fv(this.addr,!1,Pk),Cr(i,r)}}function sle(e,t){let i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function lle(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Sr(i,t))return;e.uniform2iv(this.addr,t),Cr(i,t)}}function cle(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(Sr(i,t))return;e.uniform3iv(this.addr,t),Cr(i,t)}}function ule(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Sr(i,t))return;e.uniform4iv(this.addr,t),Cr(i,t)}}function dle(e,t){let i=this.cache;i[0]!==t&&(e.uniform1ui(this.addr,t),i[0]=t)}function hle(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Sr(i,t))return;e.uniform2uiv(this.addr,t),Cr(i,t)}}function ple(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(Sr(i,t))return;e.uniform3uiv(this.addr,t),Cr(i,t)}}function fle(e,t){let i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Sr(i,t))return;e.uniform4uiv(this.addr,t),Cr(i,t)}}function mle(e,t,i){let r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTexture2D(t||FB,n)}function gle(e,t,i){let r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(t||VB,n)}function vle(e,t,i){let r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTextureCube(t||HB,n)}function yle(e,t,i){let r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(e.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(t||UB,n)}function ble(e){switch(e){case 5126:return ele;case 35664:return tle;case 35665:return ile;case 35666:return rle;case 35674:return nle;case 35675:return ale;case 35676:return ole;case 5124:case 35670:return sle;case 35667:case 35671:return lle;case 35668:case 35672:return cle;case 35669:case 35673:return ule;case 5125:return dle;case 36294:return hle;case 36295:return ple;case 36296:return fle;case 35678:case 36198:case 36298:case 36306:case 35682:return mle;case 35679:case 36299:case 36307:return gle;case 35680:case 36300:case 36308:case 36293:return vle;case 36289:case 36303:case 36311:case 36292:return yle}}function xle(e,t){e.uniform1fv(this.addr,t)}function wle(e,t){let i=xf(t,this.size,2);e.uniform2fv(this.addr,i)}function _le(e,t){let i=xf(t,this.size,3);e.uniform3fv(this.addr,i)}function Sle(e,t){let i=xf(t,this.size,4);e.uniform4fv(this.addr,i)}function Cle(e,t){let i=xf(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,i)}function Ele(e,t){let i=xf(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,i)}function Tle(e,t){let i=xf(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,i)}function Ale(e,t){e.uniform1iv(this.addr,t)}function Mle(e,t){e.uniform2iv(this.addr,t)}function jle(e,t){e.uniform3iv(this.addr,t)}function Ile(e,t){e.uniform4iv(this.addr,t)}function Ple(e,t){e.uniform1uiv(this.addr,t)}function kle(e,t){e.uniform2uiv(this.addr,t)}function Dle(e,t){e.uniform3uiv(this.addr,t)}function Ole(e,t){e.uniform4uiv(this.addr,t)}function Rle(e,t,i){let r=this.cache,n=t.length,a=q2(i,n);Sr(r,a)||(e.uniform1iv(this.addr,a),Cr(r,a));for(let c=0;c!==n;++c)i.setTexture2D(t[c]||FB,a[c])}function Nle(e,t,i){let r=this.cache,n=t.length,a=q2(i,n);Sr(r,a)||(e.uniform1iv(this.addr,a),Cr(r,a));for(let c=0;c!==n;++c)i.setTexture3D(t[c]||VB,a[c])}function Lle(e,t,i){let r=this.cache,n=t.length,a=q2(i,n);Sr(r,a)||(e.uniform1iv(this.addr,a),Cr(r,a));for(let c=0;c!==n;++c)i.setTextureCube(t[c]||HB,a[c])}function zle(e,t,i){let r=this.cache,n=t.length,a=q2(i,n);Sr(r,a)||(e.uniform1iv(this.addr,a),Cr(r,a));for(let c=0;c!==n;++c)i.setTexture2DArray(t[c]||UB,a[c])}function Ble(e){switch(e){case 5126:return xle;case 35664:return wle;case 35665:return _le;case 35666:return Sle;case 35674:return Cle;case 35675:return Ele;case 35676:return Tle;case 5124:case 35670:return Ale;case 35667:case 35671:return Mle;case 35668:case 35672:return jle;case 35669:case 35673:return Ile;case 5125:return Ple;case 36294:return kle;case 36295:return Dle;case 36296:return Ole;case 35678:case 36198:case 36298:case 36306:case 35682:return Rle;case 35679:case 36299:case 36307:return Nle;case 35680:case 36300:case 36308:case 36293:return Lle;case 36289:case 36303:case 36311:case 36292:return zle}}var Fle=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=ble(t.type)}},Ule=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Ble(t.type)}},Vle=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){if(t===void 0)return;let r=this.seq;for(let n=0,a=r.length;n!==a;++n){let c=r[n];c.setValue(e,t[c.id],i)}}},J_=/(\w+)(\])?(\[|\.)?/g;function Ok(e,t){e.seq.push(t),e.map[t.id]=t}function Hle(e,t,i){let r=e.name,n=r.length;for(J_.lastIndex=0;;){let a=J_.exec(r),c=J_.lastIndex,l=a[1],o=a[2]==="]",s=a[3];if(o&&(l=l|0),s===void 0||s==="["&&c+2===n){Ok(i,s===void 0?new Fle(l,e,t):new Ule(l,e,t));break}else{let u=i.map[l];u===void 0&&(u=new Vle(l),Ok(i,u)),i=u}}}var E1=class{constructor(e,t){this.seq=[],this.map={};let i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){let n=e.getActiveUniform(t,r),a=e.getUniformLocation(t,n.name);Hle(n,a,this)}}setValue(e,t,i,r){let n=this.map[t];n!==void 0&&n.setValue(e,i,r)}setOptional(e,t,i){let r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let n=0,a=t.length;n!==a;++n){let c=t[n],l=i[c.id];l.needsUpdate!==!1&&c.setValue(e,l.value,r)}}static seqWithValue(e,t){let i=[];for(let r=0,n=e.length;r!==n;++r){let a=e[r];a.id in t&&i.push(a)}return i}};function Rk(e,t,i){let r=e.createShader(t);return e.shaderSource(r,i),e.compileShader(r),r}var Gle=0;function Wle(e,t){let i=e.split(`
`),r=[],n=Math.max(t-6,0),a=Math.min(t+6,i.length);for(let c=n;c<a;c++){let l=c+1;r.push(`${l===t?">":" "} ${l}: ${i[c]}`)}return r.join(`
`)}function qle(e){switch(e){case Ao:return["Linear","( value )"];case Et:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Nk(e,t,i){let r=e.getShaderParameter(t,35713),n=e.getShaderInfoLog(t).trim();if(r&&n==="")return"";let a=/ERROR: 0:(\d+)/.exec(n);if(a){let c=parseInt(a[1]);return i.toUpperCase()+`

`+n+`

`+Wle(e.getShaderSource(t),c)}else return n}function Yle(e,t){let i=qle(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Kle(e,t){let i;switch(t){case tne:i="Linear";break;case ine:i="Reinhard";break;case rne:i="OptimizedCineon";break;case nne:i="ACESFilmic";break;case ane:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Xle(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Im).join(`
`)}function Jle(e){let t=[];for(let i in e){let r=e[i];r!==!1&&t.push("#define "+i+" "+r)}return t.join(`
`)}function Qle(e,t){let i={},r=e.getProgramParameter(t,35721);for(let n=0;n<r;n++){let a=e.getActiveAttrib(t,n),c=a.name,l=1;a.type===35674&&(l=2),a.type===35675&&(l=3),a.type===35676&&(l=4),i[c]={type:a.type,location:e.getAttribLocation(t,c),locationSize:l}}return i}function Im(e){return e!==""}function Lk(e,t){let i=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function zk(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var $le=/^[ \t]*#include +<([\w\d./]+)>/gm;function c3(e){return e.replace($le,Zle)}function Zle(e,t){let i=At[t];if(i===void 0)throw new Error("Can not resolve #include <"+t+">");return c3(i)}var ece=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Bk(e){return e.replace(ece,tce)}function tce(e,t,i,r){let n="";for(let a=parseInt(t);a<parseInt(i);a++)n+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return n}function Fk(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function ice(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Z4?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Dre?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===jm&&(t="SHADOWMAP_TYPE_VSM"),t}function rce(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Md:case jd:t="ENVMAP_TYPE_CUBE";break;case Vv:t="ENVMAP_TYPE_CUBE_UV";break}return t}function nce(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case jd:t="ENVMAP_MODE_REFRACTION";break}return t}function ace(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case SB:t="ENVMAP_BLENDING_MULTIPLY";break;case Zre:t="ENVMAP_BLENDING_MIX";break;case ene:t="ENVMAP_BLENDING_ADD";break}return t}function oce(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let i=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:r,maxMip:i}}function sce(e,t,i,r){let n=e.getContext(),a=i.defines,c=i.vertexShader,l=i.fragmentShader,o=ice(i),s=rce(i),u=nce(i),d=ace(i),h=oce(i),p=i.isWebGL2?"":Xle(i),m=Jle(a),f=n.createProgram(),g,v,S=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(g=[m].filter(Im).join(`
`),g.length>0&&(g+=`
`),v=[p,m].filter(Im).join(`
`),v.length>0&&(v+=`
`)):(g=[Fk(i),"#define SHADER_NAME "+i.shaderName,m,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+u:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+o:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Im).join(`
`),v=[p,Fk(i),"#define SHADER_NAME "+i.shaderName,m,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+s:"",i.envMap?"#define "+u:"",i.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+o:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==ps?"#define TONE_MAPPING":"",i.toneMapping!==ps?At.tonemapping_pars_fragment:"",i.toneMapping!==ps?Kle("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",At.encodings_pars_fragment,Yle("linearToOutputTexel",i.outputEncoding),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(Im).join(`
`)),c=c3(c),c=Lk(c,i),c=zk(c,i),l=c3(l),l=Lk(l,i),l=zk(l,i),c=Bk(c),l=Bk(l),i.isWebGL2&&i.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",i.glslVersion===o3?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===o3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);let x=S+g+c,b=S+v+l,_=Rk(n,35633,x),w=Rk(n,35632,b);if(n.attachShader(f,_),n.attachShader(f,w),i.index0AttributeName!==void 0?n.bindAttribLocation(f,0,i.index0AttributeName):i.morphTargets===!0&&n.bindAttribLocation(f,0,"position"),n.linkProgram(f),e.debug.checkShaderErrors){let A=n.getProgramInfoLog(f).trim(),T=n.getShaderInfoLog(_).trim(),M=n.getShaderInfoLog(w).trim(),j=!0,P=!0;if(n.getProgramParameter(f,35714)===!1){j=!1;let I=Nk(n,_,"vertex"),k=Nk(n,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(f,35715)+`

Program Info Log: `+A+`
`+I+`
`+k)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(T===""||M==="")&&(P=!1);P&&(this.diagnostics={runnable:j,programLog:A,vertexShader:{log:T,prefix:g},fragmentShader:{log:M,prefix:v}})}n.deleteShader(_),n.deleteShader(w);let C;this.getUniforms=function(){return C===void 0&&(C=new E1(n,f)),C};let E;return this.getAttributes=function(){return E===void 0&&(E=Qle(n,f)),E},this.destroy=function(){r.releaseStatesOfProgram(this),n.deleteProgram(f),this.program=void 0},this.name=i.shaderName,this.id=Gle++,this.cacheKey=t,this.usedTimes=1,this.program=f,this.vertexShader=_,this.fragmentShader=w,this}var lce=0,cce=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),n=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(n)===!1&&(a.add(n),n.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){let t=this.shaderCache,i=t.get(e);return i===void 0&&(i=new uce(e),t.set(e,i)),i}},uce=class{constructor(e){this.id=lce++,this.code=e,this.usedTimes=0}};function dce(e,t,i,r,n,a,c){let l=new rM,o=new cce,s=[],u=n.isWebGL2,d=n.logarithmicDepthBuffer,h=n.vertexTextures,p=n.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(E,A,T,M,j){let P=M.fog,I=j.geometry,k=E.isMeshStandardMaterial?M.environment:null,R=(E.isMeshStandardMaterial?i:t).get(E.envMap||k),O=R&&R.mapping===Vv?R.image.height:null,D=m[E.type];E.precision!==null&&(p=n.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));let L=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,B=L!==void 0?L.length:0,F=0;I.morphAttributes.position!==void 0&&(F=1),I.morphAttributes.normal!==void 0&&(F=2),I.morphAttributes.color!==void 0&&(F=3);let H,ee,U,X;if(D){let K=$o[D];H=K.vertexShader,ee=K.fragmentShader}else H=E.vertexShader,ee=E.fragmentShader,o.update(E),U=o.getVertexShaderID(E),X=o.getFragmentShaderID(E);let W=e.getRenderTarget(),ie=E.alphaTest>0,Q=E.clearcoat>0,ae=E.iridescence>0;return{isWebGL2:u,shaderID:D,shaderName:E.type,vertexShader:H,fragmentShader:ee,defines:E.defines,customVertexShaderID:U,customFragmentShaderID:X,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,instancing:j.isInstancedMesh===!0,instancingColor:j.isInstancedMesh===!0&&j.instanceColor!==null,supportsVertexTextures:h,outputEncoding:W===null?e.outputEncoding:W.isXRRenderTarget===!0?W.texture.encoding:Ao,map:!!E.map,matcap:!!E.matcap,envMap:!!R,envMapMode:R&&R.mapping,envMapCubeUVHeight:O,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===wne,tangentSpaceNormalMap:E.normalMapType===xne,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===Et,clearcoat:Q,clearcoatMap:Q&&!!E.clearcoatMap,clearcoatRoughnessMap:Q&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:Q&&!!E.clearcoatNormalMap,iridescence:ae,iridescenceMap:ae&&!!E.iridescenceMap,iridescenceThicknessMap:ae&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===hd,alphaMap:!!E.alphaMap,alphaTest:ie,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!I.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!I.attributes.color&&I.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!P,useFog:E.fog===!0,fogExp2:P&&P.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:d,skinning:j.isSkinnedMesh===!0,morphTargets:I.morphAttributes.position!==void 0,morphNormals:I.morphAttributes.normal!==void 0,morphColors:I.morphAttributes.color!==void 0,morphTargetsCount:B,morphTextureStride:F,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:E.dithering,shadowMapEnabled:e.shadowMap.enabled&&T.length>0,shadowMapType:e.shadowMap.type,toneMapping:E.toneMapped?e.toneMapping:ps,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===vn,flipSided:E.side===Nr,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function g(E){let A=[];if(E.shaderID?A.push(E.shaderID):(A.push(E.customVertexShaderID),A.push(E.customFragmentShaderID)),E.defines!==void 0)for(let T in E.defines)A.push(T),A.push(E.defines[T]);return E.isRawShaderMaterial===!1&&(v(A,E),S(A,E),A.push(e.outputEncoding)),A.push(E.customProgramCacheKey),A.join()}function v(E,A){E.push(A.precision),E.push(A.outputEncoding),E.push(A.envMapMode),E.push(A.envMapCubeUVHeight),E.push(A.combine),E.push(A.vertexUvs),E.push(A.fogExp2),E.push(A.sizeAttenuation),E.push(A.morphTargetsCount),E.push(A.morphAttributeCount),E.push(A.numDirLights),E.push(A.numPointLights),E.push(A.numSpotLights),E.push(A.numSpotLightMaps),E.push(A.numHemiLights),E.push(A.numRectAreaLights),E.push(A.numDirLightShadows),E.push(A.numPointLightShadows),E.push(A.numSpotLightShadows),E.push(A.numSpotLightShadowsWithMaps),E.push(A.shadowMapType),E.push(A.toneMapping),E.push(A.numClippingPlanes),E.push(A.numClipIntersection),E.push(A.depthPacking)}function S(E,A){l.disableAll(),A.isWebGL2&&l.enable(0),A.supportsVertexTextures&&l.enable(1),A.instancing&&l.enable(2),A.instancingColor&&l.enable(3),A.map&&l.enable(4),A.matcap&&l.enable(5),A.envMap&&l.enable(6),A.lightMap&&l.enable(7),A.aoMap&&l.enable(8),A.emissiveMap&&l.enable(9),A.bumpMap&&l.enable(10),A.normalMap&&l.enable(11),A.objectSpaceNormalMap&&l.enable(12),A.tangentSpaceNormalMap&&l.enable(13),A.clearcoat&&l.enable(14),A.clearcoatMap&&l.enable(15),A.clearcoatRoughnessMap&&l.enable(16),A.clearcoatNormalMap&&l.enable(17),A.iridescence&&l.enable(18),A.iridescenceMap&&l.enable(19),A.iridescenceThicknessMap&&l.enable(20),A.displacementMap&&l.enable(21),A.specularMap&&l.enable(22),A.roughnessMap&&l.enable(23),A.metalnessMap&&l.enable(24),A.gradientMap&&l.enable(25),A.alphaMap&&l.enable(26),A.alphaTest&&l.enable(27),A.vertexColors&&l.enable(28),A.vertexAlphas&&l.enable(29),A.vertexUvs&&l.enable(30),A.vertexTangents&&l.enable(31),A.uvsVertexOnly&&l.enable(32),E.push(l.mask),l.disableAll(),A.fog&&l.enable(0),A.useFog&&l.enable(1),A.flatShading&&l.enable(2),A.logarithmicDepthBuffer&&l.enable(3),A.skinning&&l.enable(4),A.morphTargets&&l.enable(5),A.morphNormals&&l.enable(6),A.morphColors&&l.enable(7),A.premultipliedAlpha&&l.enable(8),A.shadowMapEnabled&&l.enable(9),A.physicallyCorrectLights&&l.enable(10),A.doubleSided&&l.enable(11),A.flipSided&&l.enable(12),A.useDepthPacking&&l.enable(13),A.dithering&&l.enable(14),A.specularIntensityMap&&l.enable(15),A.specularColorMap&&l.enable(16),A.transmission&&l.enable(17),A.transmissionMap&&l.enable(18),A.thicknessMap&&l.enable(19),A.sheen&&l.enable(20),A.sheenColorMap&&l.enable(21),A.sheenRoughnessMap&&l.enable(22),A.decodeVideoTexture&&l.enable(23),A.opaque&&l.enable(24),E.push(l.mask)}function x(E){let A=m[E.type],T;if(A){let M=$o[A];T=bf.clone(M.uniforms)}else T=E.uniforms;return T}function b(E,A){let T;for(let M=0,j=s.length;M<j;M++){let P=s[M];if(P.cacheKey===A){T=P,++T.usedTimes;break}}return T===void 0&&(T=new sce(e,A,E,a),s.push(T)),T}function _(E){if(--E.usedTimes===0){let A=s.indexOf(E);s[A]=s[s.length-1],s.pop(),E.destroy()}}function w(E){o.remove(E)}function C(){o.dispose()}return{getParameters:f,getProgramCacheKey:g,getUniforms:x,acquireProgram:b,releaseProgram:_,releaseShaderCache:w,programs:s,dispose:C}}function hce(){let e=new WeakMap;function t(a){let c=e.get(a);return c===void 0&&(c={},e.set(a,c)),c}function i(a){e.delete(a)}function r(a,c,l){e.get(a)[c]=l}function n(){e=new WeakMap}return{get:t,remove:i,update:r,dispose:n}}function pce(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Uk(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Vk(){let e=[],t=0,i=[],r=[],n=[];function a(){t=0,i.length=0,r.length=0,n.length=0}function c(d,h,p,m,f,g){let v=e[t];return v===void 0?(v={id:d.id,object:d,geometry:h,material:p,groupOrder:m,renderOrder:d.renderOrder,z:f,group:g},e[t]=v):(v.id=d.id,v.object=d,v.geometry=h,v.material=p,v.groupOrder=m,v.renderOrder=d.renderOrder,v.z=f,v.group=g),t++,v}function l(d,h,p,m,f,g){let v=c(d,h,p,m,f,g);p.transmission>0?r.push(v):p.transparent===!0?n.push(v):i.push(v)}function o(d,h,p,m,f,g){let v=c(d,h,p,m,f,g);p.transmission>0?r.unshift(v):p.transparent===!0?n.unshift(v):i.unshift(v)}function s(d,h){i.length>1&&i.sort(d||pce),r.length>1&&r.sort(h||Uk),n.length>1&&n.sort(h||Uk)}function u(){for(let d=t,h=e.length;d<h;d++){let p=e[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:i,transmissive:r,transparent:n,init:a,push:l,unshift:o,finish:u,sort:s}}function fce(){let e=new WeakMap;function t(r,n){let a=e.get(r),c;return a===void 0?(c=new Vk,e.set(r,[c])):n>=a.length?(c=new Vk,a.push(c)):c=a[n],c}function i(){e=new WeakMap}return{get:t,dispose:i}}function mce(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={direction:new N,color:new lt};break;case"SpotLight":i={position:new N,direction:new N,color:new lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new N,color:new lt,distance:0,decay:0};break;case"HemisphereLight":i={direction:new N,skyColor:new lt,groundColor:new lt};break;case"RectAreaLight":i={color:new lt,position:new N,halfWidth:new N,halfHeight:new N};break}return e[t.id]=i,i}}}function gce(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re};break;case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=i,i}}}var vce=0;function yce(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function bce(e,t){let i=new mce,r=gce(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)n.probe.push(new N);let a=new N,c=new Ie,l=new Ie;function o(u,d){let h=0,p=0,m=0;for(let M=0;M<9;M++)n.probe[M].set(0,0,0);let f=0,g=0,v=0,S=0,x=0,b=0,_=0,w=0,C=0,E=0;u.sort(yce);let A=d!==!0?Math.PI:1;for(let M=0,j=u.length;M<j;M++){let P=u[M],I=P.color,k=P.intensity,R=P.distance,O=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)h+=I.r*k*A,p+=I.g*k*A,m+=I.b*k*A;else if(P.isLightProbe)for(let D=0;D<9;D++)n.probe[D].addScaledVector(P.sh.coefficients[D],k);else if(P.isDirectionalLight){let D=i.get(P);if(D.color.copy(P.color).multiplyScalar(P.intensity*A),P.castShadow){let L=P.shadow,B=r.get(P);B.shadowBias=L.bias,B.shadowNormalBias=L.normalBias,B.shadowRadius=L.radius,B.shadowMapSize=L.mapSize,n.directionalShadow[f]=B,n.directionalShadowMap[f]=O,n.directionalShadowMatrix[f]=P.shadow.matrix,b++}n.directional[f]=D,f++}else if(P.isSpotLight){let D=i.get(P);D.position.setFromMatrixPosition(P.matrixWorld),D.color.copy(I).multiplyScalar(k*A),D.distance=R,D.coneCos=Math.cos(P.angle),D.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),D.decay=P.decay,n.spot[v]=D;let L=P.shadow;if(P.map&&(n.spotLightMap[C]=P.map,C++,L.updateMatrices(P),P.castShadow&&E++),n.spotLightMatrix[v]=L.matrix,P.castShadow){let B=r.get(P);B.shadowBias=L.bias,B.shadowNormalBias=L.normalBias,B.shadowRadius=L.radius,B.shadowMapSize=L.mapSize,n.spotShadow[v]=B,n.spotShadowMap[v]=O,w++}v++}else if(P.isRectAreaLight){let D=i.get(P);D.color.copy(I).multiplyScalar(k),D.halfWidth.set(P.width*.5,0,0),D.halfHeight.set(0,P.height*.5,0),n.rectArea[S]=D,S++}else if(P.isPointLight){let D=i.get(P);if(D.color.copy(P.color).multiplyScalar(P.intensity*A),D.distance=P.distance,D.decay=P.decay,P.castShadow){let L=P.shadow,B=r.get(P);B.shadowBias=L.bias,B.shadowNormalBias=L.normalBias,B.shadowRadius=L.radius,B.shadowMapSize=L.mapSize,B.shadowCameraNear=L.camera.near,B.shadowCameraFar=L.camera.far,n.pointShadow[g]=B,n.pointShadowMap[g]=O,n.pointShadowMatrix[g]=P.shadow.matrix,_++}n.point[g]=D,g++}else if(P.isHemisphereLight){let D=i.get(P);D.skyColor.copy(P.color).multiplyScalar(k*A),D.groundColor.copy(P.groundColor).multiplyScalar(k*A),n.hemi[x]=D,x++}}S>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ne.LTC_FLOAT_1,n.rectAreaLTC2=Ne.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=Ne.LTC_HALF_1,n.rectAreaLTC2=Ne.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=h,n.ambient[1]=p,n.ambient[2]=m;let T=n.hash;(T.directionalLength!==f||T.pointLength!==g||T.spotLength!==v||T.rectAreaLength!==S||T.hemiLength!==x||T.numDirectionalShadows!==b||T.numPointShadows!==_||T.numSpotShadows!==w||T.numSpotMaps!==C)&&(n.directional.length=f,n.spot.length=v,n.rectArea.length=S,n.point.length=g,n.hemi.length=x,n.directionalShadow.length=b,n.directionalShadowMap.length=b,n.pointShadow.length=_,n.pointShadowMap.length=_,n.spotShadow.length=w,n.spotShadowMap.length=w,n.directionalShadowMatrix.length=b,n.pointShadowMatrix.length=_,n.spotLightMatrix.length=w+C-E,n.spotLightMap.length=C,n.numSpotLightShadowsWithMaps=E,T.directionalLength=f,T.pointLength=g,T.spotLength=v,T.rectAreaLength=S,T.hemiLength=x,T.numDirectionalShadows=b,T.numPointShadows=_,T.numSpotShadows=w,T.numSpotMaps=C,n.version=vce++)}function s(u,d){let h=0,p=0,m=0,f=0,g=0,v=d.matrixWorldInverse;for(let S=0,x=u.length;S<x;S++){let b=u[S];if(b.isDirectionalLight){let _=n.directional[h];_.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(a),_.direction.transformDirection(v),h++}else if(b.isSpotLight){let _=n.spot[m];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),_.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(a),_.direction.transformDirection(v),m++}else if(b.isRectAreaLight){let _=n.rectArea[f];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),l.identity(),c.copy(b.matrixWorld),c.premultiply(v),l.extractRotation(c),_.halfWidth.set(b.width*.5,0,0),_.halfHeight.set(0,b.height*.5,0),_.halfWidth.applyMatrix4(l),_.halfHeight.applyMatrix4(l),f++}else if(b.isPointLight){let _=n.point[p];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),p++}else if(b.isHemisphereLight){let _=n.hemi[g];_.direction.setFromMatrixPosition(b.matrixWorld),_.direction.transformDirection(v),g++}}}return{setup:o,setupView:s,state:n}}function Hk(e,t){let i=new bce(e,t),r=[],n=[];function a(){r.length=0,n.length=0}function c(u){r.push(u)}function l(u){n.push(u)}function o(u){i.setup(r,u)}function s(u){i.setupView(r,u)}return{init:a,state:{lightsArray:r,shadowsArray:n,lights:i},setupLights:o,setupLightsView:s,pushLight:c,pushShadow:l}}function xce(e,t){let i=new WeakMap;function r(a,c=0){let l=i.get(a),o;return l===void 0?(o=new Hk(e,t),i.set(a,[o])):c>=l.length?(o=new Hk(e,t),l.push(o)):o=l[c],o}function n(){i=new WeakMap}return{get:r,dispose:n}}var GB=class extends Hv{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Bl,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},wce=class extends Hv{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new N,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},_ce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Sce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Cce(e,t,i){let r=new aM,n=new re,a=new re,c=new vt,l=new GB({depthPacking:jB}),o=new wce,s={},u=i.maxTextureSize,d={[To]:Nr,[Nr]:To,[vn]:vn},h=new Ht({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new re},radius:{value:4}},vertexShader:_ce,fragmentShader:Sce}),p=h.clone();p.defines.HORIZONTAL_PASS=1;let m=new Qe;m.setAttribute("position",new ct(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let f=new gi(m,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Z4,this.render=function(b,_,w){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||b.length===0)return;let C=e.getRenderTarget(),E=e.getActiveCubeFace(),A=e.getActiveMipmapLevel(),T=e.state;T.setBlending(lr),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);for(let M=0,j=b.length;M<j;M++){let P=b[M],I=P.shadow;if(I===void 0){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(I.autoUpdate===!1&&I.needsUpdate===!1)continue;n.copy(I.mapSize);let k=I.getFrameExtents();if(n.multiply(k),a.copy(I.mapSize),(n.x>u||n.y>u)&&(n.x>u&&(a.x=Math.floor(u/k.x),n.x=a.x*k.x,I.mapSize.x=a.x),n.y>u&&(a.y=Math.floor(u/k.y),n.y=a.y*k.y,I.mapSize.y=a.y)),I.map===null){let O=this.type!==jm?{minFilter:kt,magFilter:kt}:{};I.map=new Vt(n.x,n.y,O),I.map.texture.name=P.name+".shadowMap",I.camera.updateProjectionMatrix()}e.setRenderTarget(I.map),e.clear();let R=I.getViewportCount();for(let O=0;O<R;O++){let D=I.getViewport(O);c.set(a.x*D.x,a.y*D.y,a.x*D.z,a.y*D.w),T.viewport(c),I.updateMatrices(P,O),r=I.getFrustum(),x(_,w,I.camera,P,this.type)}I.isPointLightShadow!==!0&&this.type===jm&&v(I,w),I.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(C,E,A)};function v(b,_){let w=t.update(f);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,p.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Vt(n.x,n.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,e.setRenderTarget(b.mapPass),e.clear(),e.renderBufferDirect(_,null,w,h,f,null),p.uniforms.shadow_pass.value=b.mapPass.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,e.setRenderTarget(b.map),e.clear(),e.renderBufferDirect(_,null,w,p,f,null)}function S(b,_,w,C,E,A){let T=null,M=w.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(M!==void 0)T=M;else if(T=w.isPointLight===!0?o:l,e.localClippingEnabled&&_.clipShadows===!0&&Array.isArray(_.clippingPlanes)&&_.clippingPlanes.length!==0||_.displacementMap&&_.displacementScale!==0||_.alphaMap&&_.alphaTest>0||_.map&&_.alphaTest>0){let j=T.uuid,P=_.uuid,I=s[j];I===void 0&&(I={},s[j]=I);let k=I[P];k===void 0&&(k=T.clone(),I[P]=k),T=k}return T.visible=_.visible,T.wireframe=_.wireframe,A===jm?T.side=_.shadowSide!==null?_.shadowSide:_.side:T.side=_.shadowSide!==null?_.shadowSide:d[_.side],T.alphaMap=_.alphaMap,T.alphaTest=_.alphaTest,T.map=_.map,T.clipShadows=_.clipShadows,T.clippingPlanes=_.clippingPlanes,T.clipIntersection=_.clipIntersection,T.displacementMap=_.displacementMap,T.displacementScale=_.displacementScale,T.displacementBias=_.displacementBias,T.wireframeLinewidth=_.wireframeLinewidth,T.linewidth=_.linewidth,w.isPointLight===!0&&T.isMeshDistanceMaterial===!0&&(T.referencePosition.setFromMatrixPosition(w.matrixWorld),T.nearDistance=C,T.farDistance=E),T}function x(b,_,w,C,E){if(b.visible===!1)return;if(b.layers.test(_.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&E===jm)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,b.matrixWorld);let T=t.update(b),M=b.material;if(Array.isArray(M)){let j=T.groups;for(let P=0,I=j.length;P<I;P++){let k=j[P],R=M[k.materialIndex];if(R&&R.visible){let O=S(b,R,C,w.near,w.far,E);e.renderBufferDirect(w,null,T,O,b,k)}}}else if(M.visible){let j=S(b,M,C,w.near,w.far,E);e.renderBufferDirect(w,null,T,j,b,null)}}let A=b.children;for(let T=0,M=A.length;T<M;T++)x(A[T],_,w,C,E)}}function Ece(e,t,i){let r=i.isWebGL2;function n(){let se=!1,me=new vt,Se=null,He=new vt(0,0,0,0);return{setMask:function(pt){Se!==pt&&!se&&(e.colorMask(pt,pt,pt,pt),Se=pt)},setLocked:function(pt){se=pt},setClear:function(pt,Bt,Wi,Tr,Do){Do===!0&&(pt*=Tr,Bt*=Tr,Wi*=Tr),me.set(pt,Bt,Wi,Tr),He.equals(me)===!1&&(e.clearColor(pt,Bt,Wi,Tr),He.copy(me))},reset:function(){se=!1,Se=null,He.set(-1,0,0,0)}}}function a(){let se=!1,me=null,Se=null,He=null;return{setTest:function(pt){pt?ie(2929):Q(2929)},setMask:function(pt){me!==pt&&!se&&(e.depthMask(pt),me=pt)},setFunc:function(pt){if(Se!==pt){switch(pt){case qre:e.depthFunc(512);break;case Yre:e.depthFunc(519);break;case Kre:e.depthFunc(513);break;case t3:e.depthFunc(515);break;case Xre:e.depthFunc(514);break;case Jre:e.depthFunc(518);break;case Qre:e.depthFunc(516);break;case $re:e.depthFunc(517);break;default:e.depthFunc(515)}Se=pt}},setLocked:function(pt){se=pt},setClear:function(pt){He!==pt&&(e.clearDepth(pt),He=pt)},reset:function(){se=!1,me=null,Se=null,He=null}}}function c(){let se=!1,me=null,Se=null,He=null,pt=null,Bt=null,Wi=null,Tr=null,Do=null;return{setTest:function(yi){se||(yi?ie(2960):Q(2960))},setMask:function(yi){me!==yi&&!se&&(e.stencilMask(yi),me=yi)},setFunc:function(yi,Xa,Vn){(Se!==yi||He!==Xa||pt!==Vn)&&(e.stencilFunc(yi,Xa,Vn),Se=yi,He=Xa,pt=Vn)},setOp:function(yi,Xa,Vn){(Bt!==yi||Wi!==Xa||Tr!==Vn)&&(e.stencilOp(yi,Xa,Vn),Bt=yi,Wi=Xa,Tr=Vn)},setLocked:function(yi){se=yi},setClear:function(yi){Do!==yi&&(e.clearStencil(yi),Do=yi)},reset:function(){se=!1,me=null,Se=null,He=null,pt=null,Bt=null,Wi=null,Tr=null,Do=null}}}let l=new n,o=new a,s=new c,u=new WeakMap,d=new WeakMap,h={},p={},m=new WeakMap,f=[],g=null,v=!1,S=null,x=null,b=null,_=null,w=null,C=null,E=null,A=!1,T=null,M=null,j=null,P=null,I=null,k=e.getParameter(35661),R=!1,O=0,D=e.getParameter(7938);D.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(D)[1]),R=O>=1):D.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),R=O>=2);let L=null,B={},F=e.getParameter(3088),H=e.getParameter(2978),ee=new vt().fromArray(F),U=new vt().fromArray(H);function X(se,me,Se){let He=new Uint8Array(4),pt=e.createTexture();e.bindTexture(se,pt),e.texParameteri(se,10241,9728),e.texParameteri(se,10240,9728);for(let Bt=0;Bt<Se;Bt++)e.texImage2D(me+Bt,0,6408,1,1,0,6408,5121,He);return pt}let W={};W[3553]=X(3553,3553,1),W[34067]=X(34067,34069,6),l.setClear(0,0,0,1),o.setClear(1),s.setClear(0),ie(2929),o.setFunc(t3),ue(!1),Me(RP),ie(2884),pe(lr);function ie(se){h[se]!==!0&&(e.enable(se),h[se]=!0)}function Q(se){h[se]!==!1&&(e.disable(se),h[se]=!1)}function ae(se,me){return p[se]!==me?(e.bindFramebuffer(se,me),p[se]=me,r&&(se===36009&&(p[36160]=me),se===36160&&(p[36009]=me)),!0):!1}function K(se,me){let Se=f,He=!1;if(se)if(Se=m.get(me),Se===void 0&&(Se=[],m.set(me,Se)),se.isWebGLMultipleRenderTargets){let pt=se.texture;if(Se.length!==pt.length||Se[0]!==36064){for(let Bt=0,Wi=pt.length;Bt<Wi;Bt++)Se[Bt]=36064+Bt;Se.length=pt.length,He=!0}}else Se[0]!==36064&&(Se[0]=36064,He=!0);else Se[0]!==1029&&(Se[0]=1029,He=!0);He&&(i.isWebGL2?e.drawBuffers(Se):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Se))}function te(se){return g!==se?(e.useProgram(se),g=se,!0):!1}let ne={[Mh]:32774,[Rre]:32778,[Nre]:32779};if(r)ne[BP]=32775,ne[FP]=32776;else{let se=t.get("EXT_blend_minmax");se!==null&&(ne[BP]=se.MIN_EXT,ne[FP]=se.MAX_EXT)}let ce={[Lre]:0,[zre]:1,[Bre]:768,[wB]:770,[Wre]:776,[Hre]:774,[Ure]:772,[Fre]:769,[_B]:771,[Gre]:775,[Vre]:773};function pe(se,me,Se,He,pt,Bt,Wi,Tr){if(se===lr){v===!0&&(Q(3042),v=!1);return}if(v===!1&&(ie(3042),v=!0),se!==Ore){if(se!==S||Tr!==A){if((x!==Mh||w!==Mh)&&(e.blendEquation(32774),x=Mh,w=Mh),Tr)switch(se){case hd:e.blendFuncSeparate(1,771,1,771);break;case NP:e.blendFunc(1,1);break;case LP:e.blendFuncSeparate(0,769,0,1);break;case zP:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case hd:e.blendFuncSeparate(770,771,1,771);break;case NP:e.blendFunc(770,1);break;case LP:e.blendFuncSeparate(0,769,0,1);break;case zP:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}b=null,_=null,C=null,E=null,S=se,A=Tr}return}pt=pt||me,Bt=Bt||Se,Wi=Wi||He,(me!==x||pt!==w)&&(e.blendEquationSeparate(ne[me],ne[pt]),x=me,w=pt),(Se!==b||He!==_||Bt!==C||Wi!==E)&&(e.blendFuncSeparate(ce[Se],ce[He],ce[Bt],ce[Wi]),b=Se,_=He,C=Bt,E=Wi),S=se,A=!1}function ge(se,me){se.side===vn?Q(2884):ie(2884);let Se=se.side===Nr;me&&(Se=!Se),ue(Se),se.blending===hd&&se.transparent===!1?pe(lr):pe(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.premultipliedAlpha),o.setFunc(se.depthFunc),o.setTest(se.depthTest),o.setMask(se.depthWrite),l.setMask(se.colorWrite);let He=se.stencilWrite;s.setTest(He),He&&(s.setMask(se.stencilWriteMask),s.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),s.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),je(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?ie(32926):Q(32926)}function ue(se){T!==se&&(se?e.frontFace(2304):e.frontFace(2305),T=se)}function Me(se){se!==Pre?(ie(2884),se!==M&&(se===RP?e.cullFace(1029):se===kre?e.cullFace(1028):e.cullFace(1032))):Q(2884),M=se}function Ae(se){se!==j&&(R&&e.lineWidth(se),j=se)}function je(se,me,Se){se?(ie(32823),(P!==me||I!==Se)&&(e.polygonOffset(me,Se),P=me,I=Se)):Q(32823)}function Ke(se){se?ie(3089):Q(3089)}function Pe(se){se===void 0&&(se=33984+k-1),L!==se&&(e.activeTexture(se),L=se)}function Z(se,me,Se){Se===void 0&&(L===null?Se=33984+k-1:Se=L);let He=B[Se];He===void 0&&(He={type:void 0,texture:void 0},B[Se]=He),(He.type!==se||He.texture!==me)&&(L!==Se&&(e.activeTexture(Se),L=Se),e.bindTexture(se,me||W[se]),He.type=se,He.texture=me)}function q(){let se=B[L];se!==void 0&&se.type!==void 0&&(e.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function fe(){try{e.compressedTexImage2D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ce(){try{e.compressedTexImage3D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function G(){try{e.texSubImage2D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ke(){try{e.texSubImage3D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Re(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Be(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function be(){try{e.texStorage2D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ye(){try{e.texStorage3D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ue(){try{e.texImage2D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Je(){try{e.texImage3D.apply(e,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function nt(se){ee.equals(se)===!1&&(e.scissor(se.x,se.y,se.z,se.w),ee.copy(se))}function et(se){U.equals(se)===!1&&(e.viewport(se.x,se.y,se.z,se.w),U.copy(se))}function rt(se,me){let Se=d.get(me);Se===void 0&&(Se=new WeakMap,d.set(me,Se));let He=Se.get(se);He===void 0&&(He=e.getUniformBlockIndex(me,se.name),Se.set(se,He))}function We(se,me){let Se=d.get(me).get(se);u.get(me)!==Se&&(e.uniformBlockBinding(me,Se,se.__bindingPointIndex),u.set(me,Se))}function it(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),r===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},L=null,B={},p={},m=new WeakMap,f=[],g=null,v=!1,S=null,x=null,b=null,_=null,w=null,C=null,E=null,A=!1,T=null,M=null,j=null,P=null,I=null,ee.set(0,0,e.canvas.width,e.canvas.height),U.set(0,0,e.canvas.width,e.canvas.height),l.reset(),o.reset(),s.reset()}return{buffers:{color:l,depth:o,stencil:s},enable:ie,disable:Q,bindFramebuffer:ae,drawBuffers:K,useProgram:te,setBlending:pe,setMaterial:ge,setFlipSided:ue,setCullFace:Me,setLineWidth:Ae,setPolygonOffset:je,setScissorTest:Ke,activeTexture:Pe,bindTexture:Z,unbindTexture:q,compressedTexImage2D:fe,compressedTexImage3D:Ce,texImage2D:Ue,texImage3D:Je,updateUBOMapping:rt,uniformBlockBinding:We,texStorage2D:be,texStorage3D:Ye,texSubImage2D:G,texSubImage3D:ke,compressedTexSubImage2D:Re,compressedTexSubImage3D:Be,scissor:nt,viewport:et,reset:it}}function Tce(e,t,i,r,n,a,c){let l=n.isWebGL2,o=n.maxTextures,s=n.maxCubemapSize,u=n.maxTextureSize,d=n.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,f,g=new WeakMap,v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(Z,q){return v?new OffscreenCanvas(Z,q):Yg("canvas")}function x(Z,q,fe,Ce){let G=1;if((Z.width>Ce||Z.height>Ce)&&(G=Ce/Math.max(Z.width,Z.height)),G<1||q===!0)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){let ke=q?Wb:Math.floor,Re=ke(G*Z.width),Be=ke(G*Z.height);f===void 0&&(f=S(Re,Be));let be=fe?S(Re,Be):f;return be.width=Re,be.height=Be,be.getContext("2d").drawImage(Z,0,0,Re,Be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+Re+"x"+Be+")."),be}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),Z;return Z}function b(Z){return l3(Z.width)&&l3(Z.height)}function _(Z){return l?!1:Z.wrapS!==Ei||Z.wrapT!==Ei||Z.minFilter!==kt&&Z.minFilter!==jt}function w(Z,q){return Z.generateMipmaps&&q&&Z.minFilter!==kt&&Z.minFilter!==jt}function C(Z){e.generateMipmap(Z)}function E(Z,q,fe,Ce,G=!1){if(l===!1)return q;if(Z!==null){if(e[Z]!==void 0)return e[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let ke=q;return q===6403&&(fe===5126&&(ke=33326),fe===5131&&(ke=33325),fe===5121&&(ke=33321)),q===33319&&(fe===5126&&(ke=33328),fe===5131&&(ke=33327),fe===5121&&(ke=33323)),q===6408&&(fe===5126&&(ke=34836),fe===5131&&(ke=34842),fe===5121&&(ke=Ce===Et&&G===!1?35907:32856),fe===32819&&(ke=32854),fe===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&t.get("EXT_color_buffer_float"),ke}function A(Z,q,fe){return w(Z,fe)===!0||Z.isFramebufferTexture&&Z.minFilter!==kt&&Z.minFilter!==jt?Math.log2(Math.max(q.width,q.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?q.mipmaps.length:1}function T(Z){return Z===kt||Z===UP||Z===x_?9728:9729}function M(Z){let q=Z.target;q.removeEventListener("dispose",M),P(q),q.isVideoTexture&&m.delete(q)}function j(Z){let q=Z.target;q.removeEventListener("dispose",j),k(q)}function P(Z){let q=r.get(Z);if(q.__webglInit===void 0)return;let fe=Z.source,Ce=g.get(fe);if(Ce){let G=Ce[q.__cacheKey];G.usedTimes--,G.usedTimes===0&&I(Z),Object.keys(Ce).length===0&&g.delete(fe)}r.remove(Z)}function I(Z){let q=r.get(Z);e.deleteTexture(q.__webglTexture);let fe=Z.source,Ce=g.get(fe);delete Ce[q.__cacheKey],c.memory.textures--}function k(Z){let q=Z.texture,fe=r.get(Z),Ce=r.get(q);if(Ce.__webglTexture!==void 0&&(e.deleteTexture(Ce.__webglTexture),c.memory.textures--),Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let G=0;G<6;G++)e.deleteFramebuffer(fe.__webglFramebuffer[G]),fe.__webglDepthbuffer&&e.deleteRenderbuffer(fe.__webglDepthbuffer[G]);else{if(e.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&e.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&e.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let G=0;G<fe.__webglColorRenderbuffer.length;G++)fe.__webglColorRenderbuffer[G]&&e.deleteRenderbuffer(fe.__webglColorRenderbuffer[G]);fe.__webglDepthRenderbuffer&&e.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(Z.isWebGLMultipleRenderTargets)for(let G=0,ke=q.length;G<ke;G++){let Re=r.get(q[G]);Re.__webglTexture&&(e.deleteTexture(Re.__webglTexture),c.memory.textures--),r.remove(q[G])}r.remove(q),r.remove(Z)}let R=0;function O(){R=0}function D(){let Z=R;return Z>=o&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+o),R+=1,Z}function L(Z){let q=[];return q.push(Z.wrapS),q.push(Z.wrapT),q.push(Z.wrapR||0),q.push(Z.magFilter),q.push(Z.minFilter),q.push(Z.anisotropy),q.push(Z.internalFormat),q.push(Z.format),q.push(Z.type),q.push(Z.generateMipmaps),q.push(Z.premultiplyAlpha),q.push(Z.flipY),q.push(Z.unpackAlignment),q.push(Z.encoding),q.join()}function B(Z,q){let fe=r.get(Z);if(Z.isVideoTexture&&Ke(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&fe.__version!==Z.version){let Ce=Z.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Q(fe,Z,q);return}}i.bindTexture(3553,fe.__webglTexture,33984+q)}function F(Z,q){let fe=r.get(Z);if(Z.version>0&&fe.__version!==Z.version){Q(fe,Z,q);return}i.bindTexture(35866,fe.__webglTexture,33984+q)}function H(Z,q){let fe=r.get(Z);if(Z.version>0&&fe.__version!==Z.version){Q(fe,Z,q);return}i.bindTexture(32879,fe.__webglTexture,33984+q)}function ee(Z,q){let fe=r.get(Z);if(Z.version>0&&fe.__version!==Z.version){ae(fe,Z,q);return}i.bindTexture(34067,fe.__webglTexture,33984+q)}let U={[dl]:10497,[Ei]:33071,[n3]:33648},X={[kt]:9728,[UP]:9984,[x_]:9986,[jt]:9729,[one]:9985,[Fp]:9987};function W(Z,q,fe){if(fe?(e.texParameteri(Z,10242,U[q.wrapS]),e.texParameteri(Z,10243,U[q.wrapT]),(Z===32879||Z===35866)&&e.texParameteri(Z,32882,U[q.wrapR]),e.texParameteri(Z,10240,X[q.magFilter]),e.texParameteri(Z,10241,X[q.minFilter])):(e.texParameteri(Z,10242,33071),e.texParameteri(Z,10243,33071),(Z===32879||Z===35866)&&e.texParameteri(Z,32882,33071),(q.wrapS!==Ei||q.wrapT!==Ei)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(Z,10240,T(q.magFilter)),e.texParameteri(Z,10241,T(q.minFilter)),q.minFilter!==kt&&q.minFilter!==jt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){let Ce=t.get("EXT_texture_filter_anisotropic");if(q.magFilter===kt||q.minFilter!==x_&&q.minFilter!==Fp||q.type===ni&&t.has("OES_texture_float_linear")===!1||l===!1&&q.type===Il&&t.has("OES_texture_half_float_linear")===!1)return;(q.anisotropy>1||r.get(q).__currentAnisotropy)&&(e.texParameterf(Z,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,n.getMaxAnisotropy())),r.get(q).__currentAnisotropy=q.anisotropy)}}function ie(Z,q){let fe=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,q.addEventListener("dispose",M));let Ce=q.source,G=g.get(Ce);G===void 0&&(G={},g.set(Ce,G));let ke=L(q);if(ke!==Z.__cacheKey){G[ke]===void 0&&(G[ke]={texture:e.createTexture(),usedTimes:0},c.memory.textures++,fe=!0),G[ke].usedTimes++;let Re=G[Z.__cacheKey];Re!==void 0&&(G[Z.__cacheKey].usedTimes--,Re.usedTimes===0&&I(q)),Z.__cacheKey=ke,Z.__webglTexture=G[ke].texture}return fe}function Q(Z,q,fe){let Ce=3553;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(Ce=35866),q.isData3DTexture&&(Ce=32879);let G=ie(Z,q),ke=q.source;i.bindTexture(Ce,Z.__webglTexture,33984+fe);let Re=r.get(ke);if(ke.version!==Re.__version||G===!0){i.activeTexture(33984+fe),e.pixelStorei(37440,q.flipY),e.pixelStorei(37441,q.premultiplyAlpha),e.pixelStorei(3317,q.unpackAlignment),e.pixelStorei(37443,0);let Be=_(q)&&b(q.image)===!1,be=x(q.image,Be,!1,u);be=Pe(q,be);let Ye=b(be)||l,Ue=a.convert(q.format,q.encoding),Je=a.convert(q.type),nt=E(q.internalFormat,Ue,Je,q.encoding,q.isVideoTexture);W(Ce,q,Ye);let et,rt=q.mipmaps,We=l&&q.isVideoTexture!==!0,it=Re.__version===void 0||G===!0,se=A(q,be,Ye);if(q.isDepthTexture)nt=6402,l?q.type===ni?nt=36012:q.type===hl?nt=33190:q.type===pd?nt=35056:nt=33189:q.type===ni&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),q.format===fd&&nt===6402&&q.type!==EB&&q.type!==hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),q.type=hl,Je=a.convert(q.type)),q.format===Id&&nt===6402&&(nt=34041,q.type!==pd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),q.type=pd,Je=a.convert(q.type))),it&&(We?i.texStorage2D(3553,1,nt,be.width,be.height):i.texImage2D(3553,0,nt,be.width,be.height,0,Ue,Je,null));else if(q.isDataTexture)if(rt.length>0&&Ye){We&&it&&i.texStorage2D(3553,se,nt,rt[0].width,rt[0].height);for(let me=0,Se=rt.length;me<Se;me++)et=rt[me],We?i.texSubImage2D(3553,me,0,0,et.width,et.height,Ue,Je,et.data):i.texImage2D(3553,me,nt,et.width,et.height,0,Ue,Je,et.data);q.generateMipmaps=!1}else We?(it&&i.texStorage2D(3553,se,nt,be.width,be.height),i.texSubImage2D(3553,0,0,0,be.width,be.height,Ue,Je,be.data)):i.texImage2D(3553,0,nt,be.width,be.height,0,Ue,Je,be.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){We&&it&&i.texStorage3D(35866,se,nt,rt[0].width,rt[0].height,be.depth);for(let me=0,Se=rt.length;me<Se;me++)et=rt[me],q.format!==Ii?Ue!==null?We?i.compressedTexSubImage3D(35866,me,0,0,0,et.width,et.height,be.depth,Ue,et.data,0,0):i.compressedTexImage3D(35866,me,nt,et.width,et.height,be.depth,0,et.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):We?i.texSubImage3D(35866,me,0,0,0,et.width,et.height,be.depth,Ue,Je,et.data):i.texImage3D(35866,me,nt,et.width,et.height,be.depth,0,Ue,Je,et.data)}else{We&&it&&i.texStorage2D(3553,se,nt,rt[0].width,rt[0].height);for(let me=0,Se=rt.length;me<Se;me++)et=rt[me],q.format!==Ii?Ue!==null?We?i.compressedTexSubImage2D(3553,me,0,0,et.width,et.height,Ue,et.data):i.compressedTexImage2D(3553,me,nt,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):We?i.texSubImage2D(3553,me,0,0,et.width,et.height,Ue,Je,et.data):i.texImage2D(3553,me,nt,et.width,et.height,0,Ue,Je,et.data)}else if(q.isDataArrayTexture)We?(it&&i.texStorage3D(35866,se,nt,be.width,be.height,be.depth),i.texSubImage3D(35866,0,0,0,0,be.width,be.height,be.depth,Ue,Je,be.data)):i.texImage3D(35866,0,nt,be.width,be.height,be.depth,0,Ue,Je,be.data);else if(q.isData3DTexture)We?(it&&i.texStorage3D(32879,se,nt,be.width,be.height,be.depth),i.texSubImage3D(32879,0,0,0,0,be.width,be.height,be.depth,Ue,Je,be.data)):i.texImage3D(32879,0,nt,be.width,be.height,be.depth,0,Ue,Je,be.data);else if(q.isFramebufferTexture){if(it)if(We)i.texStorage2D(3553,se,nt,be.width,be.height);else{let me=be.width,Se=be.height;for(let He=0;He<se;He++)i.texImage2D(3553,He,nt,me,Se,0,Ue,Je,null),me>>=1,Se>>=1}}else if(rt.length>0&&Ye){We&&it&&i.texStorage2D(3553,se,nt,rt[0].width,rt[0].height);for(let me=0,Se=rt.length;me<Se;me++)et=rt[me],We?i.texSubImage2D(3553,me,0,0,Ue,Je,et):i.texImage2D(3553,me,nt,Ue,Je,et);q.generateMipmaps=!1}else We?(it&&i.texStorage2D(3553,se,nt,be.width,be.height),i.texSubImage2D(3553,0,0,0,Ue,Je,be)):i.texImage2D(3553,0,nt,Ue,Je,be);w(q,Ye)&&C(Ce),Re.__version=ke.version,q.onUpdate&&q.onUpdate(q)}Z.__version=q.version}function ae(Z,q,fe){if(q.image.length!==6)return;let Ce=ie(Z,q),G=q.source;i.bindTexture(34067,Z.__webglTexture,33984+fe);let ke=r.get(G);if(G.version!==ke.__version||Ce===!0){i.activeTexture(33984+fe),e.pixelStorei(37440,q.flipY),e.pixelStorei(37441,q.premultiplyAlpha),e.pixelStorei(3317,q.unpackAlignment),e.pixelStorei(37443,0);let Re=q.isCompressedTexture||q.image[0].isCompressedTexture,Be=q.image[0]&&q.image[0].isDataTexture,be=[];for(let me=0;me<6;me++)!Re&&!Be?be[me]=x(q.image[me],!1,!0,s):be[me]=Be?q.image[me].image:q.image[me],be[me]=Pe(q,be[me]);let Ye=be[0],Ue=b(Ye)||l,Je=a.convert(q.format,q.encoding),nt=a.convert(q.type),et=E(q.internalFormat,Je,nt,q.encoding),rt=l&&q.isVideoTexture!==!0,We=ke.__version===void 0||Ce===!0,it=A(q,Ye,Ue);W(34067,q,Ue);let se;if(Re){rt&&We&&i.texStorage2D(34067,it,et,Ye.width,Ye.height);for(let me=0;me<6;me++){se=be[me].mipmaps;for(let Se=0;Se<se.length;Se++){let He=se[Se];q.format!==Ii?Je!==null?rt?i.compressedTexSubImage2D(34069+me,Se,0,0,He.width,He.height,Je,He.data):i.compressedTexImage2D(34069+me,Se,et,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?i.texSubImage2D(34069+me,Se,0,0,He.width,He.height,Je,nt,He.data):i.texImage2D(34069+me,Se,et,He.width,He.height,0,Je,nt,He.data)}}}else{se=q.mipmaps,rt&&We&&(se.length>0&&it++,i.texStorage2D(34067,it,et,be[0].width,be[0].height));for(let me=0;me<6;me++)if(Be){rt?i.texSubImage2D(34069+me,0,0,0,be[me].width,be[me].height,Je,nt,be[me].data):i.texImage2D(34069+me,0,et,be[me].width,be[me].height,0,Je,nt,be[me].data);for(let Se=0;Se<se.length;Se++){let He=se[Se].image[me].image;rt?i.texSubImage2D(34069+me,Se+1,0,0,He.width,He.height,Je,nt,He.data):i.texImage2D(34069+me,Se+1,et,He.width,He.height,0,Je,nt,He.data)}}else{rt?i.texSubImage2D(34069+me,0,0,0,Je,nt,be[me]):i.texImage2D(34069+me,0,et,Je,nt,be[me]);for(let Se=0;Se<se.length;Se++){let He=se[Se];rt?i.texSubImage2D(34069+me,Se+1,0,0,Je,nt,He.image[me]):i.texImage2D(34069+me,Se+1,et,Je,nt,He.image[me])}}}w(q,Ue)&&C(34067),ke.__version=G.version,q.onUpdate&&q.onUpdate(q)}Z.__version=q.version}function K(Z,q,fe,Ce,G){let ke=a.convert(fe.format,fe.encoding),Re=a.convert(fe.type),Be=E(fe.internalFormat,ke,Re,fe.encoding);r.get(q).__hasExternalTextures||(G===32879||G===35866?i.texImage3D(G,0,Be,q.width,q.height,q.depth,0,ke,Re,null):i.texImage2D(G,0,Be,q.width,q.height,0,ke,Re,null)),i.bindFramebuffer(36160,Z),je(q)?h.framebufferTexture2DMultisampleEXT(36160,Ce,G,r.get(fe).__webglTexture,0,Ae(q)):(G===3553||G>=34069&&G<=34074)&&e.framebufferTexture2D(36160,Ce,G,r.get(fe).__webglTexture,0),i.bindFramebuffer(36160,null)}function te(Z,q,fe){if(e.bindRenderbuffer(36161,Z),q.depthBuffer&&!q.stencilBuffer){let Ce=33189;if(fe||je(q)){let G=q.depthTexture;G&&G.isDepthTexture&&(G.type===ni?Ce=36012:G.type===hl&&(Ce=33190));let ke=Ae(q);je(q)?h.renderbufferStorageMultisampleEXT(36161,ke,Ce,q.width,q.height):e.renderbufferStorageMultisample(36161,ke,Ce,q.width,q.height)}else e.renderbufferStorage(36161,Ce,q.width,q.height);e.framebufferRenderbuffer(36160,36096,36161,Z)}else if(q.depthBuffer&&q.stencilBuffer){let Ce=Ae(q);fe&&je(q)===!1?e.renderbufferStorageMultisample(36161,Ce,35056,q.width,q.height):je(q)?h.renderbufferStorageMultisampleEXT(36161,Ce,35056,q.width,q.height):e.renderbufferStorage(36161,34041,q.width,q.height),e.framebufferRenderbuffer(36160,33306,36161,Z)}else{let Ce=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let G=0;G<Ce.length;G++){let ke=Ce[G],Re=a.convert(ke.format,ke.encoding),Be=a.convert(ke.type),be=E(ke.internalFormat,Re,Be,ke.encoding),Ye=Ae(q);fe&&je(q)===!1?e.renderbufferStorageMultisample(36161,Ye,be,q.width,q.height):je(q)?h.renderbufferStorageMultisampleEXT(36161,Ye,be,q.width,q.height):e.renderbufferStorage(36161,be,q.width,q.height)}}e.bindRenderbuffer(36161,null)}function ne(Z,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,Z),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),B(q.depthTexture,0);let fe=r.get(q.depthTexture).__webglTexture,Ce=Ae(q);if(q.depthTexture.format===fd)je(q)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,fe,0,Ce):e.framebufferTexture2D(36160,36096,3553,fe,0);else if(q.depthTexture.format===Id)je(q)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,fe,0,Ce):e.framebufferTexture2D(36160,33306,3553,fe,0);else throw new Error("Unknown depthTexture format")}function ce(Z){let q=r.get(Z),fe=Z.isWebGLCubeRenderTarget===!0;if(Z.depthTexture&&!q.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");ne(q.__webglFramebuffer,Z)}else if(fe){q.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)i.bindFramebuffer(36160,q.__webglFramebuffer[Ce]),q.__webglDepthbuffer[Ce]=e.createRenderbuffer(),te(q.__webglDepthbuffer[Ce],Z,!1)}else i.bindFramebuffer(36160,q.__webglFramebuffer),q.__webglDepthbuffer=e.createRenderbuffer(),te(q.__webglDepthbuffer,Z,!1);i.bindFramebuffer(36160,null)}function pe(Z,q,fe){let Ce=r.get(Z);q!==void 0&&K(Ce.__webglFramebuffer,Z,Z.texture,36064,3553),fe!==void 0&&ce(Z)}function ge(Z){let q=Z.texture,fe=r.get(Z),Ce=r.get(q);Z.addEventListener("dispose",j),Z.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=e.createTexture()),Ce.__version=q.version,c.memory.textures++);let G=Z.isWebGLCubeRenderTarget===!0,ke=Z.isWebGLMultipleRenderTargets===!0,Re=b(Z)||l;if(G){fe.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)fe.__webglFramebuffer[Be]=e.createFramebuffer()}else{if(fe.__webglFramebuffer=e.createFramebuffer(),ke)if(n.drawBuffers){let Be=Z.texture;for(let be=0,Ye=Be.length;be<Ye;be++){let Ue=r.get(Be[be]);Ue.__webglTexture===void 0&&(Ue.__webglTexture=e.createTexture(),c.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&Z.samples>0&&je(Z)===!1){let Be=ke?q:[q];fe.__webglMultisampledFramebuffer=e.createFramebuffer(),fe.__webglColorRenderbuffer=[],i.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer);for(let be=0;be<Be.length;be++){let Ye=Be[be];fe.__webglColorRenderbuffer[be]=e.createRenderbuffer(),e.bindRenderbuffer(36161,fe.__webglColorRenderbuffer[be]);let Ue=a.convert(Ye.format,Ye.encoding),Je=a.convert(Ye.type),nt=E(Ye.internalFormat,Ue,Je,Ye.encoding,Z.isXRRenderTarget===!0),et=Ae(Z);e.renderbufferStorageMultisample(36161,et,nt,Z.width,Z.height),e.framebufferRenderbuffer(36160,36064+be,36161,fe.__webglColorRenderbuffer[be])}e.bindRenderbuffer(36161,null),Z.depthBuffer&&(fe.__webglDepthRenderbuffer=e.createRenderbuffer(),te(fe.__webglDepthRenderbuffer,Z,!0)),i.bindFramebuffer(36160,null)}}if(G){i.bindTexture(34067,Ce.__webglTexture),W(34067,q,Re);for(let Be=0;Be<6;Be++)K(fe.__webglFramebuffer[Be],Z,q,36064,34069+Be);w(q,Re)&&C(34067),i.unbindTexture()}else if(ke){let Be=Z.texture;for(let be=0,Ye=Be.length;be<Ye;be++){let Ue=Be[be],Je=r.get(Ue);i.bindTexture(3553,Je.__webglTexture),W(3553,Ue,Re),K(fe.__webglFramebuffer,Z,Ue,36064+be,3553),w(Ue,Re)&&C(3553)}i.unbindTexture()}else{let Be=3553;(Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(l?Be=Z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(Be,Ce.__webglTexture),W(Be,q,Re),K(fe.__webglFramebuffer,Z,q,36064,Be),w(q,Re)&&C(Be),i.unbindTexture()}Z.depthBuffer&&ce(Z)}function ue(Z){let q=b(Z)||l,fe=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let Ce=0,G=fe.length;Ce<G;Ce++){let ke=fe[Ce];if(w(ke,q)){let Re=Z.isWebGLCubeRenderTarget?34067:3553,Be=r.get(ke).__webglTexture;i.bindTexture(Re,Be),C(Re),i.unbindTexture()}}}function Me(Z){if(l&&Z.samples>0&&je(Z)===!1){let q=Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture],fe=Z.width,Ce=Z.height,G=16384,ke=[],Re=Z.stencilBuffer?33306:36096,Be=r.get(Z),be=Z.isWebGLMultipleRenderTargets===!0;if(be)for(let Ye=0;Ye<q.length;Ye++)i.bindFramebuffer(36160,Be.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Ye,36161,null),i.bindFramebuffer(36160,Be.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Ye,3553,null,0);i.bindFramebuffer(36008,Be.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,Be.__webglFramebuffer);for(let Ye=0;Ye<q.length;Ye++){ke.push(36064+Ye),Z.depthBuffer&&ke.push(Re);let Ue=Be.__ignoreDepthValues!==void 0?Be.__ignoreDepthValues:!1;if(Ue===!1&&(Z.depthBuffer&&(G|=256),Z.stencilBuffer&&(G|=1024)),be&&e.framebufferRenderbuffer(36008,36064,36161,Be.__webglColorRenderbuffer[Ye]),Ue===!0&&(e.invalidateFramebuffer(36008,[Re]),e.invalidateFramebuffer(36009,[Re])),be){let Je=r.get(q[Ye]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,Je,0)}e.blitFramebuffer(0,0,fe,Ce,0,0,fe,Ce,G,9728),p&&e.invalidateFramebuffer(36008,ke)}if(i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,null),be)for(let Ye=0;Ye<q.length;Ye++){i.bindFramebuffer(36160,Be.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Ye,36161,Be.__webglColorRenderbuffer[Ye]);let Ue=r.get(q[Ye]).__webglTexture;i.bindFramebuffer(36160,Be.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Ye,3553,Ue,0)}i.bindFramebuffer(36009,Be.__webglMultisampledFramebuffer)}}function Ae(Z){return Math.min(d,Z.samples)}function je(Z){let q=r.get(Z);return l&&Z.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function Ke(Z){let q=c.render.frame;m.get(Z)!==q&&(m.set(Z,q),Z.update())}function Pe(Z,q){let fe=Z.encoding,Ce=Z.format,G=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||Z.format===s3||fe!==Ao&&(fe===Et?l===!1?t.has("EXT_sRGB")===!0&&Ce===Ii?(Z.format=s3,Z.minFilter=jt,Z.generateMipmaps=!1):q=DB.sRGBToLinear(q):(Ce!==Ii||G!==wn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",fe)),q}this.allocateTextureUnit=D,this.resetTextureUnits=O,this.setTexture2D=B,this.setTexture2DArray=F,this.setTexture3D=H,this.setTextureCube=ee,this.rebindTextures=pe,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=ue,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=ce,this.setupFrameBufferTexture=K,this.useMultisampledRTT=je}function Ace(e,t,i){let r=i.isWebGL2;function n(a,c=null){let l;if(a===wn)return 5121;if(a===une)return 32819;if(a===dne)return 32820;if(a===sne)return 5120;if(a===lne)return 5122;if(a===EB)return 5123;if(a===cne)return 5124;if(a===hl)return 5125;if(a===ni)return 5126;if(a===Il)return r?5131:(l=t.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(a===hne)return 6406;if(a===Ii)return 6408;if(a===pne)return 6409;if(a===fne)return 6410;if(a===fd)return 6402;if(a===Id)return 34041;if(a===s3)return l=t.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(a===S1)return 6403;if(a===mne)return 36244;if(a===Fb)return 33319;if(a===gne)return 33320;if(a===TB)return 36249;if(a===w_||a===__||a===S_||a===C_)if(c===Et)if(l=t.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(a===w_)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===__)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===S_)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===C_)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=t.get("WEBGL_compressed_texture_s3tc"),l!==null){if(a===w_)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===__)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===S_)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===C_)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===VP||a===HP||a===GP||a===WP)if(l=t.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(a===VP)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===HP)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===GP)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===WP)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===vne)return l=t.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===qP||a===YP)if(l=t.get("WEBGL_compressed_texture_etc"),l!==null){if(a===qP)return c===Et?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(a===YP)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===KP||a===XP||a===JP||a===QP||a===$P||a===ZP||a===ek||a===tk||a===ik||a===rk||a===nk||a===ak||a===ok||a===sk)if(l=t.get("WEBGL_compressed_texture_astc"),l!==null){if(a===KP)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===XP)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===JP)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===QP)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===$P)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===ZP)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===ek)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===tk)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===ik)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===rk)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===nk)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===ak)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===ok)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===sk)return c===Et?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===E_)if(l=t.get("EXT_texture_compression_bptc"),l!==null){if(a===E_)return c===Et?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===yne||a===lk||a===ck||a===uk)if(l=t.get("EXT_texture_compression_rgtc"),l!==null){if(a===E_)return l.COMPRESSED_RED_RGTC1_EXT;if(a===lk)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===ck)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===uk)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===pd?r?34042:(l=t.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):e[a]!==void 0?e[a]:null}return{convert:n}}var Mce=class extends mn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},fl=class extends ti{constructor(){super(),this.isGroup=!0,this.type="Group"}},jce={type:"move"},Q_=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new fl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new fl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new fl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,n=null,a=null,c=this._targetRay,l=this._grip,o=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(o&&e.hand){a=!0;for(let m of e.hand.values()){let f=t.getJointPose(m,i),g=this._getHandJoint(o,m);f!==null&&(g.matrix.fromArray(f.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=f.radius),g.visible=f!==null}let s=o.joints["index-finger-tip"],u=o.joints["thumb-tip"],d=s.position.distanceTo(u.position),h=.02,p=.005;o.inputState.pinching&&d>h+p?(o.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!o.inputState.pinching&&d<=h-p&&(o.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(n=t.getPose(e.gripSpace,i),n!==null&&(l.matrix.fromArray(n.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),n.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(n.linearVelocity)):l.hasLinearVelocity=!1,n.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(n.angularVelocity)):l.hasAngularVelocity=!1));c!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&n!==null&&(r=n),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(jce)))}return c!==null&&(c.visible=r!==null),l!==null&&(l.visible=n!==null),o!==null&&(o.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let i=new fl;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}},Vp=class extends Ni{constructor(e,t,i,r,n,a,c,l,o,s){if(s=s!==void 0?s:fd,s!==fd&&s!==Id)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&s===fd&&(i=hl),i===void 0&&s===Id&&(i=pd),super(null,r,n,a,c,l,s,i,o),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=c!==void 0?c:kt,this.minFilter=l!==void 0?l:kt,this.flipY=!1,this.generateMipmaps=!1}},Ice=class extends an{constructor(e,t){super();let i=this,r=null,n=1,a=null,c="local-floor",l=1,o=null,s=null,u=null,d=null,h=null,p=null,m=t.getContextAttributes(),f=null,g=null,v=[],S=[],x=new Set,b=new Map,_=new mn;_.layers.enable(1),_.viewport=new vt;let w=new mn;w.layers.enable(2),w.viewport=new vt;let C=[_,w],E=new Mce;E.layers.enable(1),E.layers.enable(2);let A=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let H=v[F];return H===void 0&&(H=new Q_,v[F]=H),H.getTargetRaySpace()},this.getControllerGrip=function(F){let H=v[F];return H===void 0&&(H=new Q_,v[F]=H),H.getGripSpace()},this.getHand=function(F){let H=v[F];return H===void 0&&(H=new Q_,v[F]=H),H.getHandSpace()};function M(F){let H=S.indexOf(F.inputSource);if(H===-1)return;let ee=v[H];ee!==void 0&&ee.dispatchEvent({type:F.type,data:F.inputSource})}function j(){r.removeEventListener("select",M),r.removeEventListener("selectstart",M),r.removeEventListener("selectend",M),r.removeEventListener("squeeze",M),r.removeEventListener("squeezestart",M),r.removeEventListener("squeezeend",M),r.removeEventListener("end",j),r.removeEventListener("inputsourceschange",P);for(let F=0;F<v.length;F++){let H=S[F];H!==null&&(S[F]=null,v[F].disconnect(H))}A=null,T=null,e.setRenderTarget(f),h=null,d=null,u=null,r=null,g=null,B.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){n=F,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){c=F,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o||a},this.setReferenceSpace=function(F){o=F},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(F){if(r=F,r!==null){if(f=e.getRenderTarget(),r.addEventListener("select",M),r.addEventListener("selectstart",M),r.addEventListener("selectend",M),r.addEventListener("squeeze",M),r.addEventListener("squeezestart",M),r.addEventListener("squeezeend",M),r.addEventListener("end",j),r.addEventListener("inputsourceschange",P),m.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let H={antialias:r.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:n};h=new XRWebGLLayer(r,t,H),r.updateRenderState({baseLayer:h}),g=new Vt(h.framebufferWidth,h.framebufferHeight,{format:Ii,type:wn,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let H=null,ee=null,U=null;m.depth&&(U=m.stencil?35056:33190,H=m.stencil?Id:fd,ee=m.stencil?pd:hl);let X={colorFormat:32856,depthFormat:U,scaleFactor:n};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(X),r.updateRenderState({layers:[d]}),g=new Vt(d.textureWidth,d.textureHeight,{format:Ii,type:wn,depthTexture:new Vp(d.textureWidth,d.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});let W=e.properties.get(g);W.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),o=null,a=await r.requestReferenceSpace(c),B.setContext(r),B.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function P(F){for(let H=0;H<F.removed.length;H++){let ee=F.removed[H],U=S.indexOf(ee);U>=0&&(S[U]=null,v[U].disconnect(ee))}for(let H=0;H<F.added.length;H++){let ee=F.added[H],U=S.indexOf(ee);if(U===-1){for(let W=0;W<v.length;W++)if(W>=S.length){S.push(ee),U=W;break}else if(S[W]===null){S[W]=ee,U=W;break}if(U===-1)break}let X=v[U];X&&X.connect(ee)}}let I=new N,k=new N;function R(F,H,ee){I.setFromMatrixPosition(H.matrixWorld),k.setFromMatrixPosition(ee.matrixWorld);let U=I.distanceTo(k),X=H.projectionMatrix.elements,W=ee.projectionMatrix.elements,ie=X[14]/(X[10]-1),Q=X[14]/(X[10]+1),ae=(X[9]+1)/X[5],K=(X[9]-1)/X[5],te=(X[8]-1)/X[0],ne=(W[8]+1)/W[0],ce=ie*te,pe=ie*ne,ge=U/(-te+ne),ue=ge*-te;H.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(ue),F.translateZ(ge),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();let Me=ie+ge,Ae=Q+ge,je=ce-ue,Ke=pe+(U-ue),Pe=ae*Q/Ae*Me,Z=K*Q/Ae*Me;F.projectionMatrix.makePerspective(je,Ke,Pe,Z,Me,Ae)}function O(F,H){H===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(H.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(r===null)return;E.near=w.near=_.near=F.near,E.far=w.far=_.far=F.far,(A!==E.near||T!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),A=E.near,T=E.far);let H=F.parent,ee=E.cameras;O(E,H);for(let X=0;X<ee.length;X++)O(ee[X],H);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),F.matrix.copy(E.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale);let U=F.children;for(let X=0,W=U.length;X<W;X++)U[X].updateMatrixWorld(!0);ee.length===2?R(E,_,w):E.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(F){l=F,d!==null&&(d.fixedFoveation=F),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=F)},this.getPlanes=function(){return x};let D=null;function L(F,H){if(s=H.getViewerPose(o||a),p=H,s!==null){let ee=s.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let U=!1;ee.length!==E.cameras.length&&(E.cameras.length=0,U=!0);for(let X=0;X<ee.length;X++){let W=ee[X],ie=null;if(h!==null)ie=h.getViewport(W);else{let ae=u.getViewSubImage(d,W);ie=ae.viewport,X===0&&(e.setRenderTargetTextures(g,ae.colorTexture,d.ignoreDepthValues?void 0:ae.depthStencilTexture),e.setRenderTarget(g))}let Q=C[X];Q===void 0&&(Q=new mn,Q.layers.enable(X),Q.viewport=new vt,C[X]=Q),Q.matrix.fromArray(W.transform.matrix),Q.projectionMatrix.fromArray(W.projectionMatrix),Q.viewport.set(ie.x,ie.y,ie.width,ie.height),X===0&&E.matrix.copy(Q.matrix),U===!0&&E.cameras.push(Q)}}for(let ee=0;ee<v.length;ee++){let U=S[ee],X=v[ee];U!==null&&X!==void 0&&X.update(U,H,o||a)}if(D&&D(F,H),H.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:H.detectedPlanes});let ee=null;for(let U of x)H.detectedPlanes.has(U)||(ee===null&&(ee=[]),ee.push(U));if(ee!==null)for(let U of ee)x.delete(U),b.delete(U),i.dispatchEvent({type:"planeremoved",data:U});for(let U of H.detectedPlanes)if(!x.has(U))x.add(U),b.set(U,H.lastChangedTime),i.dispatchEvent({type:"planeadded",data:U});else{let X=b.get(U);U.lastChangedTime>X&&(b.set(U,U.lastChangedTime),i.dispatchEvent({type:"planechanged",data:U}))}}p=null}let B=new BB;B.setAnimationLoop(L),this.setAnimationLoop=function(F){D=F},this.dispose=function(){}}};function Pce(e,t){function i(f,g){g.color.getRGB(f.fogColor.value,zB(e)),g.isFog?(f.fogNear.value=g.near,f.fogFar.value=g.far):g.isFogExp2&&(f.fogDensity.value=g.density)}function r(f,g,v,S,x){g.isMeshBasicMaterial||g.isMeshLambertMaterial?n(f,g):g.isMeshToonMaterial?(n(f,g),u(f,g)):g.isMeshPhongMaterial?(n(f,g),s(f,g)):g.isMeshStandardMaterial?(n(f,g),d(f,g),g.isMeshPhysicalMaterial&&h(f,g,x)):g.isMeshMatcapMaterial?(n(f,g),p(f,g)):g.isMeshDepthMaterial?n(f,g):g.isMeshDistanceMaterial?(n(f,g),m(f,g)):g.isMeshNormalMaterial?n(f,g):g.isLineBasicMaterial?(a(f,g),g.isLineDashedMaterial&&c(f,g)):g.isPointsMaterial?l(f,g,v,S):g.isSpriteMaterial?o(f,g):g.isShadowMaterial?(f.color.value.copy(g.color),f.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function n(f,g){f.opacity.value=g.opacity,g.color&&f.diffuse.value.copy(g.color),g.emissive&&f.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.bumpMap&&(f.bumpMap.value=g.bumpMap,f.bumpScale.value=g.bumpScale,g.side===Nr&&(f.bumpScale.value*=-1)),g.displacementMap&&(f.displacementMap.value=g.displacementMap,f.displacementScale.value=g.displacementScale,f.displacementBias.value=g.displacementBias),g.emissiveMap&&(f.emissiveMap.value=g.emissiveMap),g.normalMap&&(f.normalMap.value=g.normalMap,f.normalScale.value.copy(g.normalScale),g.side===Nr&&f.normalScale.value.negate()),g.specularMap&&(f.specularMap.value=g.specularMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let v=t.get(g).envMap;if(v&&(f.envMap.value=v,f.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,f.reflectivity.value=g.reflectivity,f.ior.value=g.ior,f.refractionRatio.value=g.refractionRatio),g.lightMap){f.lightMap.value=g.lightMap;let b=e.physicallyCorrectLights!==!0?Math.PI:1;f.lightMapIntensity.value=g.lightMapIntensity*b}g.aoMap&&(f.aoMap.value=g.aoMap,f.aoMapIntensity.value=g.aoMapIntensity);let S;g.map?S=g.map:g.specularMap?S=g.specularMap:g.displacementMap?S=g.displacementMap:g.normalMap?S=g.normalMap:g.bumpMap?S=g.bumpMap:g.roughnessMap?S=g.roughnessMap:g.metalnessMap?S=g.metalnessMap:g.alphaMap?S=g.alphaMap:g.emissiveMap?S=g.emissiveMap:g.clearcoatMap?S=g.clearcoatMap:g.clearcoatNormalMap?S=g.clearcoatNormalMap:g.clearcoatRoughnessMap?S=g.clearcoatRoughnessMap:g.iridescenceMap?S=g.iridescenceMap:g.iridescenceThicknessMap?S=g.iridescenceThicknessMap:g.specularIntensityMap?S=g.specularIntensityMap:g.specularColorMap?S=g.specularColorMap:g.transmissionMap?S=g.transmissionMap:g.thicknessMap?S=g.thicknessMap:g.sheenColorMap?S=g.sheenColorMap:g.sheenRoughnessMap&&(S=g.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),f.uvTransform.value.copy(S.matrix));let x;g.aoMap?x=g.aoMap:g.lightMap&&(x=g.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),f.uv2Transform.value.copy(x.matrix))}function a(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity}function c(f,g){f.dashSize.value=g.dashSize,f.totalSize.value=g.dashSize+g.gapSize,f.scale.value=g.scale}function l(f,g,v,S){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.size.value=g.size*v,f.scale.value=S*.5,g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let x;g.map?x=g.map:g.alphaMap&&(x=g.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),f.uvTransform.value.copy(x.matrix))}function o(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.rotation.value=g.rotation,g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let v;g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),f.uvTransform.value.copy(v.matrix))}function s(f,g){f.specular.value.copy(g.specular),f.shininess.value=Math.max(g.shininess,1e-4)}function u(f,g){g.gradientMap&&(f.gradientMap.value=g.gradientMap)}function d(f,g){f.roughness.value=g.roughness,f.metalness.value=g.metalness,g.roughnessMap&&(f.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(f.metalnessMap.value=g.metalnessMap),t.get(g).envMap&&(f.envMapIntensity.value=g.envMapIntensity)}function h(f,g,v){f.ior.value=g.ior,g.sheen>0&&(f.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),f.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(f.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(f.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(f.clearcoat.value=g.clearcoat,f.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(f.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(f.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(f.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),f.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===Nr&&f.clearcoatNormalScale.value.negate())),g.iridescence>0&&(f.iridescence.value=g.iridescence,f.iridescenceIOR.value=g.iridescenceIOR,f.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],f.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(f.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(f.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(f.transmission.value=g.transmission,f.transmissionSamplerMap.value=v.texture,f.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(f.transmissionMap.value=g.transmissionMap),f.thickness.value=g.thickness,g.thicknessMap&&(f.thicknessMap.value=g.thicknessMap),f.attenuationDistance.value=g.attenuationDistance,f.attenuationColor.value.copy(g.attenuationColor)),f.specularIntensity.value=g.specularIntensity,f.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(f.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(f.specularColorMap.value=g.specularColorMap)}function p(f,g){g.matcap&&(f.matcap.value=g.matcap)}function m(f,g){f.referencePosition.value.copy(g.referencePosition),f.nearDistance.value=g.nearDistance,f.farDistance.value=g.farDistance}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function kce(e,t,i,r){let n={},a={},c=[],l=i.isWebGL2?e.getParameter(35375):0;function o(S,x){let b=x.program;r.uniformBlockBinding(S,b)}function s(S,x){let b=n[S.id];b===void 0&&(m(S),b=u(S),n[S.id]=b,S.addEventListener("dispose",g));let _=x.program;r.updateUBOMapping(S,_);let w=t.render.frame;a[S.id]!==w&&(h(S),a[S.id]=w)}function u(S){let x=d();S.__bindingPointIndex=x;let b=e.createBuffer(),_=S.__size,w=S.usage;return e.bindBuffer(35345,b),e.bufferData(35345,_,w),e.bindBuffer(35345,null),e.bindBufferBase(35345,x,b),b}function d(){for(let S=0;S<l;S++)if(c.indexOf(S)===-1)return c.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(S){let x=n[S.id],b=S.uniforms,_=S.__cache;e.bindBuffer(35345,x);for(let w=0,C=b.length;w<C;w++){let E=b[w];if(p(E,w,_)===!0){let A=E.__offset,T=Array.isArray(E.value)?E.value:[E.value],M=0;for(let j=0;j<T.length;j++){let P=T[j],I=f(P);typeof P=="number"?(E.__data[0]=P,e.bufferSubData(35345,A+M,E.__data)):P.isMatrix3?(E.__data[0]=P.elements[0],E.__data[1]=P.elements[1],E.__data[2]=P.elements[2],E.__data[3]=P.elements[0],E.__data[4]=P.elements[3],E.__data[5]=P.elements[4],E.__data[6]=P.elements[5],E.__data[7]=P.elements[0],E.__data[8]=P.elements[6],E.__data[9]=P.elements[7],E.__data[10]=P.elements[8],E.__data[11]=P.elements[0]):(P.toArray(E.__data,M),M+=I.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,A,E.__data)}}e.bindBuffer(35345,null)}function p(S,x,b){let _=S.value;if(b[x]===void 0){if(typeof _=="number")b[x]=_;else{let w=Array.isArray(_)?_:[_],C=[];for(let E=0;E<w.length;E++)C.push(w[E].clone());b[x]=C}return!0}else if(typeof _=="number"){if(b[x]!==_)return b[x]=_,!0}else{let w=Array.isArray(b[x])?b[x]:[b[x]],C=Array.isArray(_)?_:[_];for(let E=0;E<w.length;E++){let A=w[E];if(A.equals(C[E])===!1)return A.copy(C[E]),!0}}return!1}function m(S){let x=S.uniforms,b=0,_=16,w=0;for(let C=0,E=x.length;C<E;C++){let A=x[C],T={boundary:0,storage:0},M=Array.isArray(A.value)?A.value:[A.value];for(let j=0,P=M.length;j<P;j++){let I=M[j],k=f(I);T.boundary+=k.boundary,T.storage+=k.storage}if(A.__data=new Float32Array(T.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=b,C>0){w=b%_;let j=_-w;w!==0&&j-T.boundary<0&&(b+=_-w,A.__offset=b)}b+=T.storage}return w=b%_,w>0&&(b+=_-w),S.__size=b,S.__cache={},this}function f(S){let x={boundary:0,storage:0};return typeof S=="number"?(x.boundary=4,x.storage=4):S.isVector2?(x.boundary=8,x.storage=8):S.isVector3||S.isColor?(x.boundary=16,x.storage=12):S.isVector4?(x.boundary=16,x.storage=16):S.isMatrix3?(x.boundary=48,x.storage=48):S.isMatrix4?(x.boundary=64,x.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),x}function g(S){let x=S.target;x.removeEventListener("dispose",g);let b=c.indexOf(x.__bindingPointIndex);c.splice(b,1),e.deleteBuffer(n[x.id]),delete n[x.id],delete a[x.id]}function v(){for(let S in n)e.deleteBuffer(n[S]);c=[],n={},a={}}return{bind:o,update:s,dispose:v}}function Dce(){let e=Yg("canvas");return e.style.display="block",e}function WB(e={}){this.isWebGLRenderer=!0;let t=e.canvas!==void 0?e.canvas:Dce(),i=e.context!==void 0?e.context:null,r=e.depth!==void 0?e.depth:!0,n=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,c=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,o=e.powerPreference!==void 0?e.powerPreference:"default",s=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,u;i!==null?u=i.getContextAttributes().alpha:u=e.alpha!==void 0?e.alpha:!1;let d=null,h=null,p=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ao,this.physicallyCorrectLights=!1,this.toneMapping=ps,this.toneMappingExposure=1;let f=this,g=!1,v=0,S=0,x=null,b=-1,_=null,w=new vt,C=new vt,E=null,A=t.width,T=t.height,M=1,j=null,P=null,I=new vt(0,0,A,T),k=new vt(0,0,A,T),R=!1,O=new aM,D=!1,L=!1,B=null,F=new Ie,H=new re,ee=new N,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function X(){return x===null?M:1}let W=i;function ie($,ve){for(let we=0;we<$.length;we++){let he=$[we],_e=t.getContext(he,ve);if(_e!==null)return _e}return null}try{let $={alpha:!0,depth:r,stencil:n,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:o,failIfMajorPerformanceCaveat:s};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${vf}`),t.addEventListener("webglcontextlost",nt,!1),t.addEventListener("webglcontextrestored",et,!1),t.addEventListener("webglcontextcreationerror",rt,!1),W===null){let ve=["webgl2","webgl","experimental-webgl"];if(f.isWebGL1Renderer===!0&&ve.shift(),W=ie(ve,$),W===null)throw ie(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let Q,ae,K,te,ne,ce,pe,ge,ue,Me,Ae,je,Ke,Pe,Z,q,fe,Ce,G,ke,Re,Be,be,Ye;function Ue(){Q=new qse(W),ae=new Fse(W,Q,e),Q.init(ae),Be=new Ace(W,Q,ae),K=new Ece(W,Q,ae),te=new Xse,ne=new hce,ce=new Tce(W,Q,K,ne,ae,Be,te),pe=new Vse(f),ge=new Wse(f),ue=new nae(W,ae),be=new zse(W,Q,ue,ae),Me=new Yse(W,ue,te,be),Ae=new Zse(W,Me,ue,te),G=new $se(W,ae,ce),q=new Use(ne),je=new dce(f,pe,ge,Q,ae,be,q),Ke=new Pce(f,ne),Pe=new fce,Z=new xce(Q,ae),Ce=new Lse(f,pe,ge,K,Ae,u,c),fe=new Cce(f,Ae,ae),Ye=new kce(W,te,ae,K),ke=new Bse(W,Q,te,ae),Re=new Kse(W,Q,te,ae),te.programs=je.programs,f.capabilities=ae,f.extensions=Q,f.properties=ne,f.renderLists=Pe,f.shadowMap=fe,f.state=K,f.info=te}Ue();let Je=new Ice(f,W);this.xr=Je,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){let $=Q.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){let $=Q.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function($){$!==void 0&&(M=$,this.setSize(A,T,!1))},this.getSize=function($){return $.set(A,T)},this.setSize=function($,ve,we){if(Je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=$,T=ve,t.width=Math.floor($*M),t.height=Math.floor(ve*M),we!==!1&&(t.style.width=$+"px",t.style.height=ve+"px"),this.setViewport(0,0,$,ve)},this.getDrawingBufferSize=function($){return $.set(A*M,T*M).floor()},this.setDrawingBufferSize=function($,ve,we){A=$,T=ve,M=we,t.width=Math.floor($*we),t.height=Math.floor(ve*we),this.setViewport(0,0,$,ve)},this.getCurrentViewport=function($){return $.copy(w)},this.getViewport=function($){return $.copy(I)},this.setViewport=function($,ve,we,he){$.isVector4?I.set($.x,$.y,$.z,$.w):I.set($,ve,we,he),K.viewport(w.copy(I).multiplyScalar(M).floor())},this.getScissor=function($){return $.copy(k)},this.setScissor=function($,ve,we,he){$.isVector4?k.set($.x,$.y,$.z,$.w):k.set($,ve,we,he),K.scissor(C.copy(k).multiplyScalar(M).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function($){K.setScissorTest(R=$)},this.setOpaqueSort=function($){j=$},this.setTransparentSort=function($){P=$},this.getClearColor=function($){return $.copy(Ce.getClearColor())},this.setClearColor=function(){Ce.setClearColor.apply(Ce,arguments)},this.getClearAlpha=function(){return Ce.getClearAlpha()},this.setClearAlpha=function(){Ce.setClearAlpha.apply(Ce,arguments)},this.clear=function($=!0,ve=!0,we=!0){let he=0;$&&(he|=16384),ve&&(he|=256),we&&(he|=1024),W.clear(he)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",nt,!1),t.removeEventListener("webglcontextrestored",et,!1),t.removeEventListener("webglcontextcreationerror",rt,!1),Pe.dispose(),Z.dispose(),ne.dispose(),pe.dispose(),ge.dispose(),Ae.dispose(),be.dispose(),Ye.dispose(),je.dispose(),Je.dispose(),Je.removeEventListener("sessionstart",He),Je.removeEventListener("sessionend",pt),B&&(B.dispose(),B=null),Bt.stop()};function nt($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function et(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;let $=te.autoReset,ve=fe.enabled,we=fe.autoUpdate,he=fe.needsUpdate,_e=fe.type;Ue(),te.autoReset=$,fe.enabled=ve,fe.autoUpdate=we,fe.needsUpdate=he,fe.type=_e}function rt($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function We($){let ve=$.target;ve.removeEventListener("dispose",We),it(ve)}function it($){se($),ne.remove($)}function se($){let ve=ne.get($).programs;ve!==void 0&&(ve.forEach(function(we){je.releaseProgram(we)}),$.isShaderMaterial&&je.releaseShaderCache($))}this.renderBufferDirect=function($,ve,we,he,_e,$e){ve===null&&(ve=U);let bt=_e.isMesh&&_e.matrixWorld.determinant()<0,wt=Sw($,ve,we,he,_e);K.setMaterial(he,bt);let ot=we.index,Jt=1;he.wireframe===!0&&(ot=Me.getWireframeAttribute(we),Jt=2);let It=we.drawRange,Pt=we.attributes.position,Tt=It.start*Jt,dr=(It.start+It.count)*Jt;$e!==null&&(Tt=Math.max(Tt,$e.start*Jt),dr=Math.min(dr,($e.start+$e.count)*Jt)),ot!==null?(Tt=Math.max(Tt,0),dr=Math.min(dr,ot.count)):Pt!=null&&(Tt=Math.max(Tt,0),dr=Math.min(dr,Pt.count));let wa=dr-Tt;if(wa<0||wa===1/0)return;be.setup(_e,he,wt,we,ot);let Ps,Pi=ke;if(ot!==null&&(Ps=ue.get(ot),Pi=Re,Pi.setIndex(Ps)),_e.isMesh)he.wireframe===!0?(K.setLineWidth(he.wireframeLinewidth*X()),Pi.setMode(1)):Pi.setMode(4);else if(_e.isLine){let Nt=he.linewidth;Nt===void 0&&(Nt=1),K.setLineWidth(Nt*X()),_e.isLineSegments?Pi.setMode(1):_e.isLineLoop?Pi.setMode(2):Pi.setMode(3)}else _e.isPoints?Pi.setMode(0):_e.isSprite&&Pi.setMode(4);if(_e.isInstancedMesh)Pi.renderInstances(Tt,wa,_e.count);else if(we.isInstancedBufferGeometry){let Nt=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,Ja=Math.min(we.instanceCount,Nt);Pi.renderInstances(Tt,wa,Ja)}else Pi.render(Tt,wa)},this.compile=function($,ve){function we(he,_e,$e){he.transparent===!0&&he.side===vn&&he.forceSinglePass===!1?(he.side=Nr,he.needsUpdate=!0,Vn(he,_e,$e),he.side=To,he.needsUpdate=!0,Vn(he,_e,$e),he.side=vn):Vn(he,_e,$e)}h=Z.get($),h.init(),m.push(h),$.traverseVisible(function(he){he.isLight&&he.layers.test(ve.layers)&&(h.pushLight(he),he.castShadow&&h.pushShadow(he))}),h.setupLights(f.physicallyCorrectLights),$.traverse(function(he){let _e=he.material;if(_e)if(Array.isArray(_e))for(let $e=0;$e<_e.length;$e++){let bt=_e[$e];we(bt,$,he)}else we(_e,$,he)}),m.pop(),h=null};let me=null;function Se($){me&&me($)}function He(){Bt.stop()}function pt(){Bt.start()}let Bt=new BB;Bt.setAnimationLoop(Se),typeof self<"u"&&Bt.setContext(self),this.setAnimationLoop=function($){me=$,Je.setAnimationLoop($),$===null?Bt.stop():Bt.start()},Je.addEventListener("sessionstart",He),Je.addEventListener("sessionend",pt),this.render=function($,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),Je.enabled===!0&&Je.isPresenting===!0&&(Je.cameraAutoUpdate===!0&&Je.updateCamera(ve),ve=Je.getCamera()),$.isScene===!0&&$.onBeforeRender(f,$,ve,x),h=Z.get($,m.length),h.init(),m.push(h),F.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),O.setFromProjectionMatrix(F),L=this.localClippingEnabled,D=q.init(this.clippingPlanes,L),d=Pe.get($,p.length),d.init(),p.push(d),Wi($,ve,0,f.sortObjects),d.finish(),f.sortObjects===!0&&d.sort(j,P),D===!0&&q.beginShadows();let we=h.state.shadowsArray;if(fe.render(we,$,ve),D===!0&&q.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ce.render(d,$),h.setupLights(f.physicallyCorrectLights),ve.isArrayCamera){let he=ve.cameras;for(let _e=0,$e=he.length;_e<$e;_e++){let bt=he[_e];Tr(d,$,bt,bt.viewport)}}else Tr(d,$,ve);x!==null&&(ce.updateMultisampleRenderTarget(x),ce.updateRenderTargetMipmap(x)),$.isScene===!0&&$.onAfterRender(f,$,ve),be.resetDefaultState(),b=-1,_=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,p.pop(),p.length>0?d=p[p.length-1]:d=null};function Wi($,ve,we,he){if($.visible===!1)return;if($.layers.test(ve.layers)){if($.isGroup)we=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(ve);else if($.isLight)h.pushLight($),$.castShadow&&h.pushShadow($);else if($.isSprite){if(!$.frustumCulled||O.intersectsSprite($)){he&&ee.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);let $e=Ae.update($),bt=$.material;bt.visible&&d.push($,$e,bt,we,ee.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==te.render.frame&&($.skeleton.update(),$.skeleton.frame=te.render.frame),!$.frustumCulled||O.intersectsObject($))){he&&ee.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);let $e=Ae.update($),bt=$.material;if(Array.isArray(bt)){let wt=$e.groups;for(let ot=0,Jt=wt.length;ot<Jt;ot++){let It=wt[ot],Pt=bt[It.materialIndex];Pt&&Pt.visible&&d.push($,$e,Pt,we,ee.z,It)}}else bt.visible&&d.push($,$e,bt,we,ee.z,null)}}let _e=$.children;for(let $e=0,bt=_e.length;$e<bt;$e++)Wi(_e[$e],ve,we,he)}function Tr($,ve,we,he){let _e=$.opaque,$e=$.transmissive,bt=$.transparent;h.setupLightsView(we),D===!0&&q.setGlobalState(f.clippingPlanes,we),$e.length>0&&Do(_e,ve,we),he&&K.viewport(w.copy(he)),_e.length>0&&yi(_e,ve,we),$e.length>0&&yi($e,ve,we),bt.length>0&&yi(bt,ve,we),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function Do($,ve,we){let he=ae.isWebGL2;B===null&&(B=new Vt(1,1,{generateMipmaps:!0,type:Q.has("EXT_color_buffer_half_float")?Il:wn,minFilter:Fp,samples:he&&a===!0?4:0})),f.getDrawingBufferSize(H),he?B.setSize(H.x,H.y):B.setSize(Wb(H.x),Wb(H.y));let _e=f.getRenderTarget();f.setRenderTarget(B),f.clear();let $e=f.toneMapping;f.toneMapping=ps,yi($,ve,we),f.toneMapping=$e,ce.updateMultisampleRenderTarget(B),ce.updateRenderTargetMipmap(B),f.setRenderTarget(_e)}function yi($,ve,we){let he=ve.isScene===!0?ve.overrideMaterial:null;for(let _e=0,$e=$.length;_e<$e;_e++){let bt=$[_e],wt=bt.object,ot=bt.geometry,Jt=he===null?bt.material:he,It=bt.group;wt.layers.test(we.layers)&&Xa(wt,ve,we,ot,Jt,It)}}function Xa($,ve,we,he,_e,$e){$.onBeforeRender(f,ve,we,he,_e,$e),$.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),_e.onBeforeRender(f,ve,we,he,$,$e),_e.transparent===!0&&_e.side===vn&&_e.forceSinglePass===!1?(_e.side=Nr,_e.needsUpdate=!0,f.renderBufferDirect(we,ve,he,_e,$,$e),_e.side=To,_e.needsUpdate=!0,f.renderBufferDirect(we,ve,he,_e,$,$e),_e.side=vn):f.renderBufferDirect(we,ve,he,_e,$,$e),$.onAfterRender(f,ve,we,he,_e,$e)}function Vn($,ve,we){ve.isScene!==!0&&(ve=U);let he=ne.get($),_e=h.state.lights,$e=h.state.shadowsArray,bt=_e.state.version,wt=je.getParameters($,_e.state,$e,ve,we),ot=je.getProgramCacheKey(wt),Jt=he.programs;he.environment=$.isMeshStandardMaterial?ve.environment:null,he.fog=ve.fog,he.envMap=($.isMeshStandardMaterial?ge:pe).get($.envMap||he.environment),Jt===void 0&&($.addEventListener("dispose",We),Jt=new Map,he.programs=Jt);let It=Jt.get(ot);if(It!==void 0){if(he.currentProgram===It&&he.lightsStateVersion===bt)return Yd($,wt),It}else wt.uniforms=je.getUniforms($),$.onBuild(we,wt,f),$.onBeforeCompile(wt,f),It=je.acquireProgram(wt,ot),Jt.set(ot,It),he.uniforms=wt.uniforms;let Pt=he.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(Pt.clippingPlanes=q.uniform),Yd($,wt),he.needsLights=Nf($),he.lightsStateVersion=bt,he.needsLights&&(Pt.ambientLightColor.value=_e.state.ambient,Pt.lightProbe.value=_e.state.probe,Pt.directionalLights.value=_e.state.directional,Pt.directionalLightShadows.value=_e.state.directionalShadow,Pt.spotLights.value=_e.state.spot,Pt.spotLightShadows.value=_e.state.spotShadow,Pt.rectAreaLights.value=_e.state.rectArea,Pt.ltc_1.value=_e.state.rectAreaLTC1,Pt.ltc_2.value=_e.state.rectAreaLTC2,Pt.pointLights.value=_e.state.point,Pt.pointLightShadows.value=_e.state.pointShadow,Pt.hemisphereLights.value=_e.state.hemi,Pt.directionalShadowMap.value=_e.state.directionalShadowMap,Pt.directionalShadowMatrix.value=_e.state.directionalShadowMatrix,Pt.spotShadowMap.value=_e.state.spotShadowMap,Pt.spotLightMatrix.value=_e.state.spotLightMatrix,Pt.spotLightMap.value=_e.state.spotLightMap,Pt.pointShadowMap.value=_e.state.pointShadowMap,Pt.pointShadowMatrix.value=_e.state.pointShadowMatrix);let Tt=It.getUniforms(),dr=E1.seqWithValue(Tt.seq,Pt);return he.currentProgram=It,he.uniformsList=dr,It}function Yd($,ve){let we=ne.get($);we.outputEncoding=ve.outputEncoding,we.instancing=ve.instancing,we.skinning=ve.skinning,we.morphTargets=ve.morphTargets,we.morphNormals=ve.morphNormals,we.morphColors=ve.morphColors,we.morphTargetsCount=ve.morphTargetsCount,we.numClippingPlanes=ve.numClippingPlanes,we.numIntersection=ve.numClipIntersection,we.vertexAlphas=ve.vertexAlphas,we.vertexTangents=ve.vertexTangents,we.toneMapping=ve.toneMapping}function Sw($,ve,we,he,_e){ve.isScene!==!0&&(ve=U),ce.resetTextureUnits();let $e=ve.fog,bt=he.isMeshStandardMaterial?ve.environment:null,wt=x===null?f.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:Ao,ot=(he.isMeshStandardMaterial?ge:pe).get(he.envMap||bt),Jt=he.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,It=!!he.normalMap&&!!we.attributes.tangent,Pt=!!we.morphAttributes.position,Tt=!!we.morphAttributes.normal,dr=!!we.morphAttributes.color,wa=he.toneMapped?f.toneMapping:ps,Ps=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,Pi=Ps!==void 0?Ps.length:0,Nt=ne.get(he),Ja=h.state.lights;if(D===!0&&(L===!0||$!==_)){let J=$===_&&he.id===b;q.setState(he,$,J)}let Dt=!1;he.version===Nt.__version?(Nt.needsLights&&Nt.lightsStateVersion!==Ja.state.version||Nt.outputEncoding!==wt||_e.isInstancedMesh&&Nt.instancing===!1||!_e.isInstancedMesh&&Nt.instancing===!0||_e.isSkinnedMesh&&Nt.skinning===!1||!_e.isSkinnedMesh&&Nt.skinning===!0||Nt.envMap!==ot||he.fog===!0&&Nt.fog!==$e||Nt.numClippingPlanes!==void 0&&(Nt.numClippingPlanes!==q.numPlanes||Nt.numIntersection!==q.numIntersection)||Nt.vertexAlphas!==Jt||Nt.vertexTangents!==It||Nt.morphTargets!==Pt||Nt.morphNormals!==Tt||Nt.morphColors!==dr||Nt.toneMapping!==wa||ae.isWebGL2===!0&&Nt.morphTargetsCount!==Pi)&&(Dt=!0):(Dt=!0,Nt.__version=he.version);let ks=Nt.currentProgram;Dt===!0&&(ks=Vn(he,ve,_e));let yu=!1,Ul=!1,Oo=!1,V=ks.getUniforms(),Y=Nt.uniforms;if(K.useProgram(ks.program)&&(yu=!0,Ul=!0,Oo=!0),he.id!==b&&(b=he.id,Ul=!0),yu||_!==$){if(V.setValue(W,"projectionMatrix",$.projectionMatrix),ae.logarithmicDepthBuffer&&V.setValue(W,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),_!==$&&(_=$,Ul=!0,Oo=!0),he.isShaderMaterial||he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshStandardMaterial||he.envMap){let J=V.map.cameraPosition;J!==void 0&&J.setValue(W,ee.setFromMatrixPosition($.matrixWorld))}(he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshLambertMaterial||he.isMeshBasicMaterial||he.isMeshStandardMaterial||he.isShaderMaterial)&&V.setValue(W,"isOrthographic",$.isOrthographicCamera===!0),(he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshLambertMaterial||he.isMeshBasicMaterial||he.isMeshStandardMaterial||he.isShaderMaterial||he.isShadowMaterial||_e.isSkinnedMesh)&&V.setValue(W,"viewMatrix",$.matrixWorldInverse)}if(_e.isSkinnedMesh){V.setOptional(W,_e,"bindMatrix"),V.setOptional(W,_e,"bindMatrixInverse");let J=_e.skeleton;J&&(ae.floatVertexTextures?(J.boneTexture===null&&J.computeBoneTexture(),V.setValue(W,"boneTexture",J.boneTexture,ce),V.setValue(W,"boneTextureSize",J.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let oe=we.morphAttributes;if((oe.position!==void 0||oe.normal!==void 0||oe.color!==void 0&&ae.isWebGL2===!0)&&G.update(_e,we,he,ks),(Ul||Nt.receiveShadow!==_e.receiveShadow)&&(Nt.receiveShadow=_e.receiveShadow,V.setValue(W,"receiveShadow",_e.receiveShadow)),he.isMeshGouraudMaterial&&he.envMap!==null&&(Y.envMap.value=ot,Y.flipEnvMap.value=ot.isCubeTexture&&ot.isRenderTargetTexture===!1?-1:1),Ul&&(V.setValue(W,"toneMappingExposure",f.toneMappingExposure),Nt.needsLights&&Cw(Y,Oo),$e&&he.fog===!0&&Ke.refreshFogUniforms(Y,$e),Ke.refreshMaterialUniforms(Y,he,M,T,B),E1.upload(W,Nt.uniformsList,Y,ce)),he.isShaderMaterial&&he.uniformsNeedUpdate===!0&&(E1.upload(W,Nt.uniformsList,Y,ce),he.uniformsNeedUpdate=!1),he.isSpriteMaterial&&V.setValue(W,"center",_e.center),V.setValue(W,"modelViewMatrix",_e.modelViewMatrix),V.setValue(W,"normalMatrix",_e.normalMatrix),V.setValue(W,"modelMatrix",_e.matrixWorld),_e.previousModelViewMatrix&&V.setValue(W,"previousModelViewMatrix",_e.previousModelViewMatrix),$.previousProjectionMatrix&&V.setValue(W,"previousProjectionMatrix",$.previousProjectionMatrix),he.isShaderMaterial||he.isRawShaderMaterial){let J=he.uniformsGroups;for(let le=0,De=J.length;le<De;le++)if(ae.isWebGL2){let Ds=J[le];Ye.update(Ds,ks),Ye.bind(Ds,ks)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ks}function Cw($,ve){$.ambientLightColor.needsUpdate=ve,$.lightProbe.needsUpdate=ve,$.directionalLights.needsUpdate=ve,$.directionalLightShadows.needsUpdate=ve,$.pointLights.needsUpdate=ve,$.pointLightShadows.needsUpdate=ve,$.spotLights.needsUpdate=ve,$.spotLightShadows.needsUpdate=ve,$.rectAreaLights.needsUpdate=ve,$.hemisphereLights.needsUpdate=ve}function Nf($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function($,ve,we){ne.get($.texture).__webglTexture=ve,ne.get($.depthTexture).__webglTexture=we;let he=ne.get($);he.__hasExternalTextures=!0,he.__hasExternalTextures&&(he.__autoAllocateDepthBuffer=we===void 0,he.__autoAllocateDepthBuffer||Q.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),he.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,ve){let we=ne.get($);we.__webglFramebuffer=ve,we.__useDefaultFramebuffer=ve===void 0},this.setRenderTarget=function($,ve=0,we=0){x=$,v=ve,S=we;let he=!0,_e=null,$e=!1,bt=!1;if($){let wt=ne.get($);wt.__useDefaultFramebuffer!==void 0?(K.bindFramebuffer(36160,null),he=!1):wt.__webglFramebuffer===void 0?ce.setupRenderTarget($):wt.__hasExternalTextures&&ce.rebindTextures($,ne.get($.texture).__webglTexture,ne.get($.depthTexture).__webglTexture);let ot=$.texture;(ot.isData3DTexture||ot.isDataArrayTexture||ot.isCompressedArrayTexture)&&(bt=!0);let Jt=ne.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(_e=Jt[ve],$e=!0):ae.isWebGL2&&$.samples>0&&ce.useMultisampledRTT($)===!1?_e=ne.get($).__webglMultisampledFramebuffer:_e=Jt,w.copy($.viewport),C.copy($.scissor),E=$.scissorTest}else w.copy(I).multiplyScalar(M).floor(),C.copy(k).multiplyScalar(M).floor(),E=R;if(K.bindFramebuffer(36160,_e)&&ae.drawBuffers&&he&&K.drawBuffers($,_e),K.viewport(w),K.scissor(C),K.setScissorTest(E),$e){let wt=ne.get($.texture);W.framebufferTexture2D(36160,36064,34069+ve,wt.__webglTexture,we)}else if(bt){let wt=ne.get($.texture),ot=ve||0;W.framebufferTextureLayer(36160,36064,wt.__webglTexture,we||0,ot)}b=-1},this.readRenderTargetPixels=function($,ve,we,he,_e,$e,bt){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let wt=ne.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&bt!==void 0&&(wt=wt[bt]),wt){K.bindFramebuffer(36160,wt);try{let ot=$.texture,Jt=ot.format,It=ot.type;if(Jt!==Ii&&Be.convert(Jt)!==W.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Pt=It===Il&&(Q.has("EXT_color_buffer_half_float")||ae.isWebGL2&&Q.has("EXT_color_buffer_float"));if(It!==wn&&Be.convert(It)!==W.getParameter(35738)&&!(It===ni&&(ae.isWebGL2||Q.has("OES_texture_float")||Q.has("WEBGL_color_buffer_float")))&&!Pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=$.width-he&&we>=0&&we<=$.height-_e&&W.readPixels(ve,we,he,_e,Be.convert(Jt),Be.convert(It),$e)}finally{let ot=x!==null?ne.get(x).__webglFramebuffer:null;K.bindFramebuffer(36160,ot)}}},this.readRenderTargetPixelsAsync=async function($,ve,we,he,_e,$e,bt){if(!($&&$.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let wt=ne.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&bt!==void 0&&(wt=wt[bt]),wt){let ot=$.texture,Jt=ot.format,It=ot.type;if(ve>=0&&ve<=$.width-he&&we>=0&&we<=$.height-_e){K.bindFramebuffer(W.FRAMEBUFFER,wt);let Pt=W.createBuffer();W.bindBuffer(W.PIXEL_PACK_BUFFER,Pt),W.bufferData(W.PIXEL_PACK_BUFFER,$e.byteLength,W.STREAM_READ),W.readPixels(ve,we,he,_e,Be.convert(Jt),Be.convert(It),0);let Tt=x!==null?ne.get(x).__webglFramebuffer:null;K.bindFramebuffer(W.FRAMEBUFFER,Tt);let dr=W.fenceSync(W.SYNC_GPU_COMMANDS_COMPLETE,0);return W.flush(),await zne(W,dr,4),W.bindBuffer(W.PIXEL_PACK_BUFFER,Pt),W.getBufferSubData(W.PIXEL_PACK_BUFFER,0,$e),W.deleteBuffer(Pt),W.deleteSync(dr),$e}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function($,ve,we=0){let he=Math.pow(2,-we),_e=Math.floor(ve.image.width*he),$e=Math.floor(ve.image.height*he);ce.setTexture2D(ve,0),W.copyTexSubImage2D(3553,we,0,0,$.x,$.y,_e,$e),K.unbindTexture()},this.copyTextureToTexture=function($,ve,we,he=0){let _e=ve.image.width,$e=ve.image.height,bt=Be.convert(we.format),wt=Be.convert(we.type);ce.setTexture2D(we,0),W.pixelStorei(37440,we.flipY),W.pixelStorei(37441,we.premultiplyAlpha),W.pixelStorei(3317,we.unpackAlignment),ve.isDataTexture?W.texSubImage2D(3553,he,$.x,$.y,_e,$e,bt,wt,ve.image.data):ve.isCompressedTexture?W.compressedTexSubImage2D(3553,he,$.x,$.y,ve.mipmaps[0].width,ve.mipmaps[0].height,bt,ve.mipmaps[0].data):W.texSubImage2D(3553,he,$.x,$.y,bt,wt,ve.image),he===0&&we.generateMipmaps&&W.generateMipmap(3553),K.unbindTexture()},this.copyTextureToTexture3D=function($,ve,we,he,_e=0){if(f.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let $e=$.max.x-$.min.x+1,bt=$.max.y-$.min.y+1,wt=$.max.z-$.min.z+1,ot=Be.convert(he.format),Jt=Be.convert(he.type),It;if(he.isData3DTexture)ce.setTexture3D(he,0),It=32879;else if(he.isDataArrayTexture)ce.setTexture2DArray(he,0),It=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}W.pixelStorei(37440,he.flipY),W.pixelStorei(37441,he.premultiplyAlpha),W.pixelStorei(3317,he.unpackAlignment);let Pt=W.getParameter(3314),Tt=W.getParameter(32878),dr=W.getParameter(3316),wa=W.getParameter(3315),Ps=W.getParameter(32877),Pi=we.isCompressedTexture?we.mipmaps[0]:we.image;W.pixelStorei(3314,Pi.width),W.pixelStorei(32878,Pi.height),W.pixelStorei(3316,$.min.x),W.pixelStorei(3315,$.min.y),W.pixelStorei(32877,$.min.z),we.isDataTexture||we.isData3DTexture?W.texSubImage3D(It,_e,ve.x,ve.y,ve.z,$e,bt,wt,ot,Jt,Pi.data):we.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),W.compressedTexSubImage3D(It,_e,ve.x,ve.y,ve.z,$e,bt,wt,ot,Pi.data)):W.texSubImage3D(It,_e,ve.x,ve.y,ve.z,$e,bt,wt,ot,Jt,Pi),W.pixelStorei(3314,Pt),W.pixelStorei(32878,Tt),W.pixelStorei(3316,dr),W.pixelStorei(3315,wa),W.pixelStorei(32877,Ps),_e===0&&he.generateMipmaps&&W.generateMipmap(It),K.unbindTexture()},this.initRenderTarget=function($){ne.get($).__webglFramebuffer===void 0&&ce.setupRenderTarget($)},this.initTexture=function($){$.isCubeTexture?ce.setTextureCube($,0):$.isData3DTexture?ce.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?ce.setTexture2DArray($,0):ce.setTexture2D($,0),K.unbindTexture()},this.resetState=function(){v=0,S=0,x=null,K.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Oce=class extends WB{};Oce.prototype.isWebGL1Renderer=!0;var qB=class{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new lt(e),this.near=t,this.far=i}clone(){return new qB(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},ra=class extends ti{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,i){return super.copy(t,i),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){let i=super.toJSON(t);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(i.object.backgroundIntensity=this.backgroundIntensity),i}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(t){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=t}},Rce=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=a3,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ua()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,n=this.stride;r<n;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ua()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ua()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},Cn=new N,u3=class{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyMatrix4(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyNormalMatrix(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.transformDirection(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}setX(e,t){return this.normalized&&(t=fi(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=fi(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=fi(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=fi(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=pl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=pl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=pl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=pl(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=fi(t,this.array),i=fi(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=fi(t,this.array),i=fi(i,this.array),r=fi(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=fi(t,this.array),i=fi(i,this.array),r=fi(r,this.array),n=fi(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=n,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let i=0;i<this.count;i++){let r=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[r+n])}return new ct(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new u3(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let i=0;i<this.count;i++){let r=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[r+n])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},YB=class extends ti{constructor(){super(),this.isBone=!0,this.type="Bone"}},Dn=class extends Ni{constructor(t=null,i=1,r=1,n,a,c,l,o,s=kt,u=kt,d,h){super(null,c,l,o,s,u,n,a,d,h),this.isDataTexture=!0,this.image={data:t,width:i,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Gk=new Ie,Nce=new Ie,sM=class{constructor(e=[],t=[]){this.uuid=Ua(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ie)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let i=new Ie;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){let e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let n=0,a=e.length;n<a;n++){let c=e[n]?e[n].matrixWorld:Nce;Gk.multiplyMatrices(c,t[n]),Gk.toArray(i,n*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new sM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=IB(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let i=new Dn(t,e,e,Ii,ni);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){let r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){let n=e.bones[i],a=t[n];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),a=new YB),this.bones.push(a),this.boneInverses.push(new Ie().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,i=this.boneInverses;for(let r=0,n=t.length;r<n;r++){let a=t[r];e.bones.push(a.uuid);let c=i[r];e.boneInverses.push(c.toArray())}return e}},Kg=class extends ct{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},Wk=new Ie,qk=new Ie,$0=[],Lce=new Ie,$f=new gi,zce=class extends gi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Kg(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,Lce)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let i=this.matrixWorld,r=this.count;if($f.geometry=this.geometry,$f.material=this.material,$f.material!==void 0)for(let n=0;n<r;n++){this.getMatrixAt(n,Wk),qk.multiplyMatrices(i,Wk),$f.matrixWorld=qk,$f.raycast(e,$0);for(let a=0,c=$0.length;a<c;a++){let l=$0[a];l.instanceId=n,l.object=this,t.push(l)}$0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Kg(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},mu=class extends Hv{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new lt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},Yk=new N,Kk=new N,Xk=new Ie,$_=new yf,Z0=new aa,qb=class extends ti{constructor(e=new Qe,t=new mu){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,i=[0];for(let r=1,n=t.count;r<n;r++)Yk.fromBufferAttribute(t,r-1),Kk.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Yk.distanceTo(Kk);e.setAttribute("lineDistance",new Fe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let i=this.geometry,r=this.matrixWorld,n=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Z0.copy(i.boundingSphere),Z0.applyMatrix4(r),Z0.radius+=n,e.ray.intersectsSphere(Z0)===!1)return;Xk.copy(r).invert(),$_.copy(e.ray).applyMatrix4(Xk);let c=n/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,o=new N,s=new N,u=new N,d=new N,h=this.isLineSegments?2:1,p=i.index,m=i.attributes.position;if(p!==null){let f=Math.max(0,a.start),g=Math.min(p.count,a.start+a.count);for(let v=f,S=g-1;v<S;v+=h){let x=p.getX(v),b=p.getX(v+1);if(o.fromBufferAttribute(m,x),s.fromBufferAttribute(m,b),$_.distanceSqToSegment(o,s,d,u)>l)continue;d.applyMatrix4(this.matrixWorld);let _=e.ray.origin.distanceTo(d);_<e.near||_>e.far||t.push({distance:_,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{let f=Math.max(0,a.start),g=Math.min(m.count,a.start+a.count);for(let v=f,S=g-1;v<S;v+=h){if(o.fromBufferAttribute(m,v),s.fromBufferAttribute(m,v+1),$_.distanceSqToSegment(o,s,d,u)>l)continue;d.applyMatrix4(this.matrixWorld);let x=e.ray.origin.distanceTo(d);x<e.near||x>e.far||t.push({distance:x,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,n=i.length;r<n;r++){let a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},Jk=new N,Qk=new N,Gv=class extends qb{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,i=[];for(let r=0,n=t.count;r<n;r+=2)Jk.fromBufferAttribute(t,r),Qk.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Jk.distanceTo(Qk);e.setAttribute("lineDistance",new Fe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},Bce=class extends Ni{constructor(e,t,i,r,n,a,c,l,o){super(e,t,i,r,n,a,c,l,o),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:jt,this.magFilter=n!==void 0?n:jt,this.generateMipmaps=!1;let s=this;function u(){s.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},Fce=class extends Ni{constructor(e,t,i,r,n,a,c,l,o){super(e,t,i,r,n,a,c,l,o),this.isCanvasTexture=!0,this.needsUpdate=!0}},Ms=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){let t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){let t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],i,r=this.getPoint(0),n=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),n+=i.distanceTo(r),t.push(n),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let i=this.getLengths(),r=0,n=i.length,a;t?a=t:a=e*i[n-1];let c=0,l=n-1,o;for(;c<=l;)if(r=Math.floor(c+(l-c)/2),o=i[r]-a,o<0)c=r+1;else if(o>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(n-1);let s=i[r],u=i[r+1]-s,d=(a-s)/u;return(r+d)/(n-1)}getTangent(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);let n=this.getPoint(i),a=this.getPoint(r),c=t||(n.isVector2?new re:new N);return c.copy(a).sub(n).normalize(),c}getTangentAt(e,t){let i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){let i=new N,r=[],n=[],a=[],c=new N,l=new Ie;for(let h=0;h<=e;h++){let p=h/e;r[h]=this.getTangentAt(p,new N)}n[0]=new N,a[0]=new N;let o=Number.MAX_VALUE,s=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);s<=o&&(o=s,i.set(1,0,0)),u<=o&&(o=u,i.set(0,1,0)),d<=o&&i.set(0,0,1),c.crossVectors(r[0],i).normalize(),n[0].crossVectors(r[0],c),a[0].crossVectors(r[0],n[0]);for(let h=1;h<=e;h++){if(n[h]=n[h-1].clone(),a[h]=a[h-1].clone(),c.crossVectors(r[h-1],r[h]),c.length()>Number.EPSILON){c.normalize();let p=Math.acos(rr(r[h-1].dot(r[h]),-1,1));n[h].applyMatrix4(l.makeRotationAxis(c,p))}a[h].crossVectors(r[h],n[h])}if(t===!0){let h=Math.acos(rr(n[0].dot(n[e]),-1,1));h/=e,r[0].dot(c.crossVectors(n[0],n[e]))>0&&(h=-h);for(let p=1;p<=e;p++)n[p].applyMatrix4(l.makeRotationAxis(r[p],h*p)),a[p].crossVectors(r[p],n[p])}return{tangents:r,normals:n,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},Y2=class extends Ms{constructor(e=0,t=0,i=1,r=1,n=0,a=Math.PI*2,c=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=n,this.aEndAngle=a,this.aClockwise=c,this.aRotation=l}getPoint(e,t){let i=t||new re,r=Math.PI*2,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<Number.EPSILON;for(;n<0;)n+=r;for(;n>r;)n-=r;n<Number.EPSILON&&(a?n=0:n=r),this.aClockwise===!0&&!a&&(n===r?n=-r:n=n-r);let c=this.aStartAngle+e*n,l=this.aX+this.xRadius*Math.cos(c),o=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){let s=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=l-this.aX,h=o-this.aY;l=d*s-h*u+this.aX,o=d*u+h*s+this.aY}return i.set(l,o)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},Uce=class extends Y2{constructor(e,t,i,r,n,a){super(e,t,i,i,r,n,a),this.isArcCurve=!0,this.type="ArcCurve"}};function lM(){let e=0,t=0,i=0,r=0;function n(a,c,l,o){e=a,t=l,i=-3*a+3*c-2*l-o,r=2*a-2*c+l+o}return{initCatmullRom:function(a,c,l,o,s){n(c,l,s*(l-a),s*(o-c))},initNonuniformCatmullRom:function(a,c,l,o,s,u,d){let h=(c-a)/s-(l-a)/(s+u)+(l-c)/u,p=(l-c)/u-(o-c)/(u+d)+(o-l)/d;h*=u,p*=u,n(c,l,h,p)},calc:function(a){let c=a*a,l=c*a;return e+t*a+i*c+r*l}}}var ey=new N,Z_=new lM,eS=new lM,tS=new lM,Vce=class extends Ms{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){let i=t,r=this.points,n=r.length,a=(n-(this.closed?0:1))*e,c=Math.floor(a),l=a-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/n)+1)*n:l===0&&c===n-1&&(c=n-2,l=1);let o,s;this.closed||c>0?o=r[(c-1)%n]:(ey.subVectors(r[0],r[1]).add(r[0]),o=ey);let u=r[c%n],d=r[(c+1)%n];if(this.closed||c+2<n?s=r[(c+2)%n]:(ey.subVectors(r[n-1],r[n-2]).add(r[n-1]),s=ey),this.curveType==="centripetal"||this.curveType==="chordal"){let h=this.curveType==="chordal"?.5:.25,p=Math.pow(o.distanceToSquared(u),h),m=Math.pow(u.distanceToSquared(d),h),f=Math.pow(d.distanceToSquared(s),h);m<1e-4&&(m=1),p<1e-4&&(p=m),f<1e-4&&(f=m),Z_.initNonuniformCatmullRom(o.x,u.x,d.x,s.x,p,m,f),eS.initNonuniformCatmullRom(o.y,u.y,d.y,s.y,p,m,f),tS.initNonuniformCatmullRom(o.z,u.z,d.z,s.z,p,m,f)}else this.curveType==="catmullrom"&&(Z_.initCatmullRom(o.x,u.x,d.x,s.x,this.tension),eS.initCatmullRom(o.y,u.y,d.y,s.y,this.tension),tS.initCatmullRom(o.z,u.z,d.z,s.z,this.tension));return i.set(Z_.calc(l),eS.calc(l),tS.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){let r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let r=e.points[t];this.points.push(new N().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function $k(e,t,i,r,n){let a=(r-t)*.5,c=(n-i)*.5,l=e*e,o=e*l;return(2*i-2*r+a+c)*o+(-3*i+3*r-2*a-c)*l+a*e+i}function Hce(e,t){let i=1-e;return i*i*t}function Gce(e,t){return 2*(1-e)*e*t}function Wce(e,t){return e*e*t}function tg(e,t,i,r){return Hce(e,t)+Gce(e,i)+Wce(e,r)}function qce(e,t){let i=1-e;return i*i*i*t}function Yce(e,t){let i=1-e;return 3*i*i*e*t}function Kce(e,t){return 3*(1-e)*e*e*t}function Xce(e,t){return e*e*e*t}function ig(e,t,i,r,n){return qce(e,t)+Yce(e,i)+Kce(e,r)+Xce(e,n)}var bo=class extends Ms{constructor(e=new re,t=new re,i=new re,r=new re){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new re){let i=t,r=this.v0,n=this.v1,a=this.v2,c=this.v3;return i.set(ig(e,r.x,n.x,a.x,c.x),ig(e,r.y,n.y,a.y,c.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},T1=class extends Ms{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){let i=t,r=this.v0,n=this.v1,a=this.v2,c=this.v3;return i.set(ig(e,r.x,n.x,a.x,c.x),ig(e,r.y,n.y,a.y,c.y),ig(e,r.z,n.z,a.z,c.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Co=class extends Ms{constructor(e=new re,t=new re){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new re){let i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let i=t||new re;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},KB=class extends Ms{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){let i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},iu=class extends Ms{constructor(e=new re,t=new re,i=new re){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new re){let i=t,r=this.v0,n=this.v1,a=this.v2;return i.set(tg(e,r.x,n.x,a.x),tg(e,r.y,n.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Jce=class extends Ms{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){let i=t,r=this.v0,n=this.v1,a=this.v2;return i.set(tg(e,r.x,n.x,a.x),tg(e,r.y,n.y,a.y),tg(e,r.z,n.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},cM=class extends Ms{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new re){let i=t,r=this.points,n=(r.length-1)*e,a=Math.floor(n),c=n-a,l=r[a===0?a:a-1],o=r[a],s=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return i.set($k(c,l.x,o.x,s.x,u.x),$k(c,l.y,o.y,s.y,u.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let r=e.points[t];this.points.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){let r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){let r=e.points[t];this.points.push(new re().fromArray(r))}return this}},Qce=Object.freeze({__proto__:null,ArcCurve:Uce,CatmullRomCurve3:Vce,CubicBezierCurve:bo,CubicBezierCurve3:T1,EllipseCurve:Y2,LineCurve:Co,LineCurve3:KB,QuadraticBezierCurve:iu,QuadraticBezierCurve3:Jce,SplineCurve:cM}),XB=class extends Ms{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Co(t,e))}getPoint(e,t){let i=e*this.getLength(),r=this.getCurveLengths(),n=0;for(;n<r.length;){if(r[n]>=i){let a=r[n]-i,c=this.curves[n],l=c.getLength(),o=l===0?0:1-a/l;return c.getPointAt(o,t)}n++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],i;for(let r=0,n=this.curves;r<n.length;r++){let a=n[r],c=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(c);for(let o=0;o<l.length;o++){let s=l[o];i&&i.equals(s)||(t.push(s),i=s)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){let r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){let r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){let r=e.curves[t];this.curves.push(new Qce[r.type]().fromJSON(r))}return this}},Yb=class extends XB{constructor(e){super(),this.type="Path",this.currentPoint=new re,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let i=new Co(this.currentPoint.clone(),new re(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){let n=new iu(this.currentPoint.clone(),new re(e,t),new re(i,r));return this.curves.push(n),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,n,a){let c=new bo(this.currentPoint.clone(),new re(e,t),new re(i,r),new re(n,a));return this.curves.push(c),this.currentPoint.set(n,a),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),i=new cM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,n,a){let c=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+c,t+l,i,r,n,a),this}absarc(e,t,i,r,n,a){return this.absellipse(e,t,i,i,r,n,a),this}ellipse(e,t,i,r,n,a,c,l){let o=this.currentPoint.x,s=this.currentPoint.y;return this.absellipse(e+o,t+s,i,r,n,a,c,l),this}absellipse(e,t,i,r,n,a,c,l){let o=new Y2(e,t,i,r,n,a,c,l);if(this.curves.length>0){let u=o.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(o);let s=o.getPoint(1);return this.currentPoint.copy(s),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},JB=class extends Qe{constructor(e=[new re(0,-.5),new re(.5,0),new re(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=rr(r,0,Math.PI*2);let n=[],a=[],c=[],l=[],o=[],s=1/t,u=new N,d=new re,h=new N,p=new N,m=new N,f=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:f=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=g*1,h.y=-f,h.z=g*0,m.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(m.x,m.y,m.z);break;default:f=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=g*1,h.y=-f,h.z=g*0,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),l.push(h.x,h.y,h.z),m.copy(p)}for(let v=0;v<=t;v++){let S=i+v*s*r,x=Math.sin(S),b=Math.cos(S);for(let _=0;_<=e.length-1;_++){u.x=e[_].x*x,u.y=e[_].y,u.z=e[_].x*b,a.push(u.x,u.y,u.z),d.x=v/t,d.y=_/(e.length-1),c.push(d.x,d.y);let w=l[3*_+0]*x,C=l[3*_+1],E=l[3*_+0]*b;o.push(w,C,E)}}for(let v=0;v<t;v++)for(let S=0;S<e.length-1;S++){let x=S+v*e.length,b=x,_=x+e.length,w=x+e.length+1,C=x+1;n.push(b,_,C),n.push(w,C,_)}this.setIndex(n),this.setAttribute("position",new Fe(a,3)),this.setAttribute("uv",new Fe(c,2)),this.setAttribute("normal",new Fe(o,3))}static fromJSON(e){return new JB(e.points,e.segments,e.phiStart,e.phiLength)}},uM=class extends Qe{constructor(e=1,t=1,i=1,r=32,n=1,a=!1,c=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:c,thetaLength:l};let o=this;r=Math.floor(r),n=Math.floor(n);let s=[],u=[],d=[],h=[],p=0,m=[],f=i/2,g=0;v(),a===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(s),this.setAttribute("position",new Fe(u,3)),this.setAttribute("normal",new Fe(d,3)),this.setAttribute("uv",new Fe(h,2));function v(){let x=new N,b=new N,_=0,w=(t-e)/i;for(let C=0;C<=n;C++){let E=[],A=C/n,T=A*(t-e)+e;for(let M=0;M<=r;M++){let j=M/r,P=j*l+c,I=Math.sin(P),k=Math.cos(P);b.x=T*I,b.y=-A*i+f,b.z=T*k,u.push(b.x,b.y,b.z),x.set(I,w,k).normalize(),d.push(x.x,x.y,x.z),h.push(j,1-A),E.push(p++)}m.push(E)}for(let C=0;C<r;C++)for(let E=0;E<n;E++){let A=m[E][C],T=m[E+1][C],M=m[E+1][C+1],j=m[E][C+1];s.push(A,T,j),s.push(T,M,j),_+=6}o.addGroup(g,_,0),g+=_}function S(x){let b=p,_=new re,w=new N,C=0,E=x===!0?e:t,A=x===!0?1:-1;for(let M=1;M<=r;M++)u.push(0,f*A,0),d.push(0,A,0),h.push(.5,.5),p++;let T=p;for(let M=0;M<=r;M++){let j=M/r*l+c,P=Math.cos(j),I=Math.sin(j);w.x=E*I,w.y=f*A,w.z=E*P,u.push(w.x,w.y,w.z),d.push(0,A,0),_.x=P*.5+.5,_.y=I*.5*A+.5,h.push(_.x,_.y),p++}for(let M=0;M<r;M++){let j=b+M,P=T+M;x===!0?s.push(P,P+1,j):s.push(P+1,P,j),C+=3}o.addGroup(g,C,x===!0?1:2),g+=C}}static fromJSON(e){return new uM(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},dM=class extends uM{constructor(e=1,t=1,i=32,r=1,n=!1,a=0,c=Math.PI*2){super(0,e,t,i,r,n,a,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:c}}static fromJSON(e){return new dM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},hM=class extends Qe{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};let n=[],a=[];c(r),o(i),s(),this.setAttribute("position",new Fe(n,3)),this.setAttribute("normal",new Fe(n.slice(),3)),this.setAttribute("uv",new Fe(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function c(v){let S=new N,x=new N,b=new N;for(let _=0;_<t.length;_+=3)h(t[_+0],S),h(t[_+1],x),h(t[_+2],b),l(S,x,b,v)}function l(v,S,x,b){let _=b+1,w=[];for(let C=0;C<=_;C++){w[C]=[];let E=v.clone().lerp(x,C/_),A=S.clone().lerp(x,C/_),T=_-C;for(let M=0;M<=T;M++)M===0&&C===_?w[C][M]=E:w[C][M]=E.clone().lerp(A,M/T)}for(let C=0;C<_;C++)for(let E=0;E<2*(_-C)-1;E++){let A=Math.floor(E/2);E%2===0?(d(w[C][A+1]),d(w[C+1][A]),d(w[C][A])):(d(w[C][A+1]),d(w[C+1][A+1]),d(w[C+1][A]))}}function o(v){let S=new N;for(let x=0;x<n.length;x+=3)S.x=n[x+0],S.y=n[x+1],S.z=n[x+2],S.normalize().multiplyScalar(v),n[x+0]=S.x,n[x+1]=S.y,n[x+2]=S.z}function s(){let v=new N;for(let S=0;S<n.length;S+=3){v.x=n[S+0],v.y=n[S+1],v.z=n[S+2];let x=f(v)/2/Math.PI+.5,b=g(v)/Math.PI+.5;a.push(x,1-b)}p(),u()}function u(){for(let v=0;v<a.length;v+=6){let S=a[v+0],x=a[v+2],b=a[v+4],_=Math.max(S,x,b),w=Math.min(S,x,b);_>.9&&w<.1&&(S<.2&&(a[v+0]+=1),x<.2&&(a[v+2]+=1),b<.2&&(a[v+4]+=1))}}function d(v){n.push(v.x,v.y,v.z)}function h(v,S){let x=v*3;S.x=e[x+0],S.y=e[x+1],S.z=e[x+2]}function p(){let v=new N,S=new N,x=new N,b=new N,_=new re,w=new re,C=new re;for(let E=0,A=0;E<n.length;E+=9,A+=6){v.set(n[E+0],n[E+1],n[E+2]),S.set(n[E+3],n[E+4],n[E+5]),x.set(n[E+6],n[E+7],n[E+8]),_.set(a[A+0],a[A+1]),w.set(a[A+2],a[A+3]),C.set(a[A+4],a[A+5]),b.copy(v).add(S).add(x).divideScalar(3);let T=f(b);m(_,A+0,v,T),m(w,A+2,S,T),m(C,A+4,x,T)}}function m(v,S,x,b){b<0&&v.x===1&&(a[S]=v.x-1),x.x===0&&x.z===0&&(a[S]=b/2/Math.PI+.5)}function f(v){return Math.atan2(v.z,-v.x)}function g(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new hM(e.vertices,e.indices,e.radius,e.details)}},QB=class extends hM{constructor(e=1,t=0){let i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(n,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new QB(e.radius,e.detail)}},Kb=class extends Yb{constructor(e){super(e),this.uuid=Ua(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){let r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){let r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){let r=e.holes[t];this.holes.push(new Yb().fromJSON(r))}return this}},$ce={triangulate:function(e,t,i=2){let r=t&&t.length,n=r?t[0]*i:e.length,a=$B(e,0,n,i,!0),c=[];if(!a||a.next===a.prev)return c;let l,o,s,u,d,h,p;if(r&&(a=rue(e,t,a,i)),e.length>80*i){l=s=e[0],o=u=e[1];for(let m=i;m<n;m+=i)d=e[m],h=e[m+1],d<l&&(l=d),h<o&&(o=h),d>s&&(s=d),h>u&&(u=h);p=Math.max(s-l,u-o),p=p!==0?32767/p:0}return Xg(a,c,i,l,o,p,0),c}};function $B(e,t,i,r,n){let a,c;if(n===fue(e,t,i,r)>0)for(a=t;a<i;a+=r)c=Zk(a,e[a],e[a+1],c);else for(a=i-r;a>=t;a-=r)c=Zk(a,e[a],e[a+1],c);return c&&K2(c,c.next)&&(Qg(c),c=c.next),c}function Pd(e,t){if(!e)return e;t||(t=e);let i=e,r;do if(r=!1,!i.steiner&&(K2(i,i.next)||Di(i.prev,i,i.next)===0)){if(Qg(i),i=t=i.prev,i===i.next)break;r=!0}else i=i.next;while(r||i!==t);return t}function Xg(e,t,i,r,n,a,c){if(!e)return;!c&&a&&lue(e,r,n,a);let l=e,o,s;for(;e.prev!==e.next;){if(o=e.prev,s=e.next,a?eue(e,r,n,a):Zce(e)){t.push(o.i/i|0),t.push(e.i/i|0),t.push(s.i/i|0),Qg(e),e=s.next,l=s.next;continue}if(e=s,e===l){c?c===1?(e=tue(Pd(e),t,i),Xg(e,t,i,r,n,a,2)):c===2&&iue(e,t,i,r,n,a):Xg(Pd(e),t,i,r,n,a,1);break}}}function Zce(e){let t=e.prev,i=e,r=e.next;if(Di(t,i,r)>=0)return!1;let n=t.x,a=i.x,c=r.x,l=t.y,o=i.y,s=r.y,u=n<a?n<c?n:c:a<c?a:c,d=l<o?l<s?l:s:o<s?o:s,h=n>a?n>c?n:c:a>c?a:c,p=l>o?l>s?l:s:o>s?o:s,m=r.next;for(;m!==t;){if(m.x>=u&&m.x<=h&&m.y>=d&&m.y<=p&&Jh(n,l,a,o,c,s,m.x,m.y)&&Di(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function eue(e,t,i,r){let n=e.prev,a=e,c=e.next;if(Di(n,a,c)>=0)return!1;let l=n.x,o=a.x,s=c.x,u=n.y,d=a.y,h=c.y,p=l<o?l<s?l:s:o<s?o:s,m=u<d?u<h?u:h:d<h?d:h,f=l>o?l>s?l:s:o>s?o:s,g=u>d?u>h?u:h:d>h?d:h,v=d3(p,m,t,i,r),S=d3(f,g,t,i,r),x=e.prevZ,b=e.nextZ;for(;x&&x.z>=v&&b&&b.z<=S;){if(x.x>=p&&x.x<=f&&x.y>=m&&x.y<=g&&x!==n&&x!==c&&Jh(l,u,o,d,s,h,x.x,x.y)&&Di(x.prev,x,x.next)>=0||(x=x.prevZ,b.x>=p&&b.x<=f&&b.y>=m&&b.y<=g&&b!==n&&b!==c&&Jh(l,u,o,d,s,h,b.x,b.y)&&Di(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;x&&x.z>=v;){if(x.x>=p&&x.x<=f&&x.y>=m&&x.y<=g&&x!==n&&x!==c&&Jh(l,u,o,d,s,h,x.x,x.y)&&Di(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=S;){if(b.x>=p&&b.x<=f&&b.y>=m&&b.y<=g&&b!==n&&b!==c&&Jh(l,u,o,d,s,h,b.x,b.y)&&Di(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function tue(e,t,i){let r=e;do{let n=r.prev,a=r.next.next;!K2(n,a)&&ZB(n,r,r.next,a)&&Jg(n,a)&&Jg(a,n)&&(t.push(n.i/i|0),t.push(r.i/i|0),t.push(a.i/i|0),Qg(r),Qg(r.next),r=e=a),r=r.next}while(r!==e);return Pd(r)}function iue(e,t,i,r,n,a){let c=e;do{let l=c.next.next;for(;l!==c.prev;){if(c.i!==l.i&&due(c,l)){let o=eF(c,l);c=Pd(c,c.next),o=Pd(o,o.next),Xg(c,t,i,r,n,a,0),Xg(o,t,i,r,n,a,0);return}l=l.next}c=c.next}while(c!==e)}function rue(e,t,i,r){let n=[],a,c,l,o,s;for(a=0,c=t.length;a<c;a++)l=t[a]*r,o=a<c-1?t[a+1]*r:e.length,s=$B(e,l,o,r,!1),s===s.next&&(s.steiner=!0),n.push(uue(s));for(n.sort(nue),a=0;a<n.length;a++)i=aue(n[a],i);return i}function nue(e,t){return e.x-t.x}function aue(e,t){let i=oue(e,t);if(!i)return t;let r=eF(i,e);return Pd(r,r.next),Pd(i,i.next)}function oue(e,t){let i=t,r=-1/0,n,a=e.x,c=e.y;do{if(c<=i.y&&c>=i.next.y&&i.next.y!==i.y){let h=i.x+(c-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(h<=a&&h>r&&(r=h,n=i.x<i.next.x?i:i.next,h===a))return n}i=i.next}while(i!==t);if(!n)return null;let l=n,o=n.x,s=n.y,u=1/0,d;i=n;do a>=i.x&&i.x>=o&&a!==i.x&&Jh(c<s?a:r,c,o,s,c<s?r:a,c,i.x,i.y)&&(d=Math.abs(c-i.y)/(a-i.x),Jg(i,e)&&(d<u||d===u&&(i.x>n.x||i.x===n.x&&sue(n,i)))&&(n=i,u=d)),i=i.next;while(i!==l);return n}function sue(e,t){return Di(e.prev,e,t.prev)<0&&Di(t.next,e,e.next)<0}function lue(e,t,i,r){let n=e;do n.z===0&&(n.z=d3(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,cue(n)}function cue(e){let t,i,r,n,a,c,l,o,s=1;do{for(i=e,e=null,a=null,c=0;i;){for(c++,r=i,l=0,t=0;t<s&&(l++,r=r.nextZ,!!r);t++);for(o=s;l>0||o>0&&r;)l!==0&&(o===0||!r||i.z<=r.z)?(n=i,i=i.nextZ,l--):(n=r,r=r.nextZ,o--),a?a.nextZ=n:e=n,n.prevZ=a,a=n;i=r}a.nextZ=null,s*=2}while(c>1);return e}function d3(e,t,i,r,n){return e=(e-i)*n|0,t=(t-r)*n|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function uue(e){let t=e,i=e;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==e);return i}function Jh(e,t,i,r,n,a,c,l){return(n-c)*(t-l)>=(e-c)*(a-l)&&(e-c)*(r-l)>=(i-c)*(t-l)&&(i-c)*(a-l)>=(n-c)*(r-l)}function due(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!hue(e,t)&&(Jg(e,t)&&Jg(t,e)&&pue(e,t)&&(Di(e.prev,e,t.prev)||Di(e,t.prev,t))||K2(e,t)&&Di(e.prev,e,e.next)>0&&Di(t.prev,t,t.next)>0)}function Di(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function K2(e,t){return e.x===t.x&&e.y===t.y}function ZB(e,t,i,r){let n=iy(Di(e,t,i)),a=iy(Di(e,t,r)),c=iy(Di(i,r,e)),l=iy(Di(i,r,t));return!!(n!==a&&c!==l||n===0&&ty(e,i,t)||a===0&&ty(e,r,t)||c===0&&ty(i,e,r)||l===0&&ty(i,t,r))}function ty(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function iy(e){return e>0?1:e<0?-1:0}function hue(e,t){let i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&ZB(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function Jg(e,t){return Di(e.prev,e,e.next)<0?Di(e,t,e.next)>=0&&Di(e,e.prev,t)>=0:Di(e,t,e.prev)<0||Di(e,e.next,t)<0}function pue(e,t){let i=e,r=!1,n=(e.x+t.x)/2,a=(e.y+t.y)/2;do i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next;while(i!==e);return r}function eF(e,t){let i=new h3(e.i,e.x,e.y),r=new h3(t.i,t.x,t.y),n=e.next,a=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function Zk(e,t,i,r){let n=new h3(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Qg(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function h3(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fue(e,t,i,r){let n=0;for(let a=t,c=i-r;a<i;a+=r)n+=(e[c]-e[a])*(e[a+1]+e[c+1]),c=a;return n}var tF=class{static area(e){let t=e.length,i=0;for(let r=t-1,n=0;n<t;r=n++)i+=e[r].x*e[n].y-e[n].x*e[r].y;return i*.5}static isClockWise(e){return tF.area(e)<0}static triangulateShape(e,t){let i=[],r=[],n=[];eD(e),tD(i,e);let a=e.length;t.forEach(eD);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,tD(i,t[l]);let c=$ce.triangulate(i,r);for(let l=0;l<c.length;l+=3)n.push(c.slice(l,l+3));return n}};function eD(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function tD(e,t){for(let i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}var iF=class extends hM{constructor(e=1,t=0){let i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],n=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,n,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new iF(e.radius,e.detail)}},vp=class extends Qe{constructor(e=1,t=32,i=16,r=0,n=Math.PI*2,a=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:c},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));let l=Math.min(a+c,Math.PI),o=0,s=[],u=new N,d=new N,h=[],p=[],m=[],f=[];for(let g=0;g<=i;g++){let v=[],S=g/i,x=0;g==0&&a==0?x=.5/t:g==i&&l==Math.PI&&(x=-.5/t);for(let b=0;b<=t;b++){let _=b/t;u.x=-e*Math.cos(r+_*n)*Math.sin(a+S*c),u.y=e*Math.cos(a+S*c),u.z=e*Math.sin(r+_*n)*Math.sin(a+S*c),p.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),f.push(_+x,1-S),v.push(o++)}s.push(v)}for(let g=0;g<i;g++)for(let v=0;v<t;v++){let S=s[g][v+1],x=s[g][v],b=s[g+1][v],_=s[g+1][v+1];(g!==0||a>0)&&h.push(S,x,_),(g!==i-1||l<Math.PI)&&h.push(x,b,_)}this.setIndex(h),this.setAttribute("position",new Fe(p,3)),this.setAttribute("normal",new Fe(m,3)),this.setAttribute("uv",new Fe(f,2))}static fromJSON(e){return new vp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},rF=class extends Qe{constructor(e=1,t=.4,i=12,r=48,n=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n},i=Math.floor(i),r=Math.floor(r);let a=[],c=[],l=[],o=[],s=new N,u=new N,d=new N;for(let h=0;h<=i;h++)for(let p=0;p<=r;p++){let m=p/r*n,f=h/i*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(m),u.y=(e+t*Math.cos(f))*Math.sin(m),u.z=t*Math.sin(f),c.push(u.x,u.y,u.z),s.x=e*Math.cos(m),s.y=e*Math.sin(m),d.subVectors(u,s).normalize(),l.push(d.x,d.y,d.z),o.push(p/r),o.push(h/i)}for(let h=1;h<=i;h++)for(let p=1;p<=r;p++){let m=(r+1)*h+p-1,f=(r+1)*(h-1)+p-1,g=(r+1)*(h-1)+p,v=(r+1)*h+p;a.push(m,f,v),a.push(f,g,v)}this.setIndex(a),this.setAttribute("position",new Fe(c,3)),this.setAttribute("normal",new Fe(l,3)),this.setAttribute("uv",new Fe(o,2))}static fromJSON(e){return new rF(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},nF=class extends Qe{constructor(e=1,t=.4,i=64,r=8,n=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:n,q:a},i=Math.floor(i),r=Math.floor(r);let c=[],l=[],o=[],s=[],u=new N,d=new N,h=new N,p=new N,m=new N,f=new N,g=new N;for(let S=0;S<=i;++S){let x=S/i*n*Math.PI*2;v(x,n,a,e,h),v(x+.01,n,a,e,p),f.subVectors(p,h),g.addVectors(p,h),m.crossVectors(f,g),g.crossVectors(m,f),m.normalize(),g.normalize();for(let b=0;b<=r;++b){let _=b/r*Math.PI*2,w=-t*Math.cos(_),C=t*Math.sin(_);u.x=h.x+(w*g.x+C*m.x),u.y=h.y+(w*g.y+C*m.y),u.z=h.z+(w*g.z+C*m.z),l.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),o.push(d.x,d.y,d.z),s.push(S/i),s.push(b/r)}}for(let S=1;S<=i;S++)for(let x=1;x<=r;x++){let b=(r+1)*(S-1)+(x-1),_=(r+1)*S+(x-1),w=(r+1)*S+x,C=(r+1)*(S-1)+x;c.push(b,_,C),c.push(_,w,C)}this.setIndex(c),this.setAttribute("position",new Fe(l,3)),this.setAttribute("normal",new Fe(o,3)),this.setAttribute("uv",new Fe(s,2));function v(S,x,b,_,w){let C=Math.cos(S),E=Math.sin(S),A=b/x*S,T=Math.cos(A);w.x=_*(2+T)*.5*C,w.y=_*(2+T)*E*.5,w.z=_*Math.sin(A)*.5}}static fromJSON(e){return new nF(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},mue=class extends Ht{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}};function Xl(e,t,i){return aF(e)?new e.constructor(e.subarray(t,i!==void 0?i:e.length)):e.slice(t,i)}function ry(e,t,i){return!e||e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)}function aF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gue(e){function t(n,a){return e[n]-e[a]}let i=e.length,r=new Array(i);for(let n=0;n!==i;++n)r[n]=n;return r.sort(t),r}function iD(e,t,i){let r=e.length,n=new e.constructor(r);for(let a=0,c=0;c!==r;++a){let l=i[a]*t;for(let o=0;o!==t;++o)n[c++]=e[l+o]}return n}function oF(e,t,i,r){let n=1,a=e[0];for(;a!==void 0&&a[r]===void 0;)a=e[n++];if(a===void 0)return;let c=a[r];if(c!==void 0)if(Array.isArray(c))do c=a[r],c!==void 0&&(t.push(a.time),i.push.apply(i,c)),a=e[n++];while(a!==void 0);else if(c.toArray!==void 0)do c=a[r],c!==void 0&&(t.push(a.time),c.toArray(i,i.length)),a=e[n++];while(a!==void 0);else do c=a[r],c!==void 0&&(t.push(a.time),i.push(c)),a=e[n++];while(a!==void 0)}var X2=class{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,i=this._cachedIndex,r=t[i],n=t[i-1];e:{t:{let a;i:{r:if(!(e<r)){for(let c=i+2;;){if(r===void 0){if(e<n)break r;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(n=r,r=t[++i],e<r)break t}a=t.length;break i}if(!(e>=n)){let c=t[1];e<c&&(i=2,n=c);for(let l=i-2;;){if(n===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=n,n=t[--i-1],e>=n)break t}a=i,i=0;break i}break e}for(;i<a;){let c=i+a>>>1;e<t[c]?a=c:i=c+1}if(r=t[i],n=t[i-1],n===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=e*r;for(let a=0;a!==r;++a)t[a]=i[n+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},vue=class extends X2{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yh,endingEnd:Yh}}intervalChanged_(e,t,i){let r=this.parameterPositions,n=e-2,a=e+1,c=r[n],l=r[a];if(c===void 0)switch(this.getSettings_().endingStart){case Kh:n=e,c=2*t-i;break;case Hb:n=r.length-2,c=t+r[n]-r[n+1];break;default:n=e,c=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Kh:a=e,l=2*i-t;break;case Hb:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}let o=(i-t)*.5,s=this.valueSize;this._weightPrev=o/(t-c),this._weightNext=o/(l-i),this._offsetPrev=n*s,this._offsetNext=a*s}interpolate_(e,t,i,r){let n=this.resultBuffer,a=this.sampleValues,c=this.valueSize,l=e*c,o=l-c,s=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(i-t)/(r-t),m=p*p,f=m*p,g=-d*f+2*d*m-d*p,v=(1+d)*f+(-1.5-2*d)*m+(-.5+d)*p+1,S=(-1-h)*f+(1.5+h)*m+.5*p,x=h*f-h*m;for(let b=0;b!==c;++b)n[b]=g*a[s+b]+v*a[o+b]+S*a[l+b]+x*a[u+b];return n}},sF=class extends X2{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){let n=this.resultBuffer,a=this.sampleValues,c=this.valueSize,l=e*c,o=l-c,s=(i-t)/(r-t),u=1-s;for(let d=0;d!==c;++d)n[d]=a[o+d]*u+a[l+d]*s;return n}},yue=class extends X2{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}},js=class{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ry(t,this.TimeBufferType),this.values=ry(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:ry(e.times,Array),values:ry(e.values,Array)};let r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new yue(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new sF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vue(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ub:t=this.InterpolantFactoryMethodDiscrete;break;case Vb:t=this.InterpolantFactoryMethodLinear;break;case T_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ub;case this.InterpolantFactoryMethodLinear:return Vb;case this.InterpolantFactoryMethodSmooth:return T_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){let i=this.times,r=i.length,n=0,a=r-1;for(;n!==r&&i[n]<e;)++n;for(;a!==-1&&i[a]>t;)--a;if(++a,n!==0||a!==r){n>=a&&(a=Math.max(a,1),n=a-1);let c=this.getValueSize();this.times=Xl(i,n,a),this.values=Xl(this.values,n*c,a*c)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let i=this.times,r=this.values,n=i.length;n===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let c=0;c!==n;c++){let l=i[c];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,l,a),e=!1;break}a=l}if(r!==void 0&&aF(r))for(let c=0,l=r.length;c!==l;++c){let o=r[c];if(isNaN(o)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,o),e=!1;break}}return e}optimize(){let e=Xl(this.times),t=Xl(this.values),i=this.getValueSize(),r=this.getInterpolation()===T_,n=e.length-1,a=1;for(let c=1;c<n;++c){let l=!1,o=e[c],s=e[c+1];if(o!==s&&(c!==1||o!==e[0]))if(r)l=!0;else{let u=c*i,d=u-i,h=u+i;for(let p=0;p!==i;++p){let m=t[u+p];if(m!==t[d+p]||m!==t[h+p]){l=!0;break}}}if(l){if(c!==a){e[a]=e[c];let u=c*i,d=a*i;for(let h=0;h!==i;++h)t[d+h]=t[u+h]}++a}}if(n>0){e[a]=e[n];for(let c=n*i,l=a*i,o=0;o!==i;++o)t[l+o]=t[c+o];++a}return a!==e.length?(this.times=Xl(e,0,a),this.values=Xl(t,0,a*i)):(this.times=e,this.values=t),this}clone(){let e=Xl(this.times,0),t=Xl(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}};js.prototype.TimeBufferType=Float32Array;js.prototype.ValueBufferType=Float32Array;js.prototype.DefaultInterpolation=Vb;var wf=class extends js{};wf.prototype.ValueTypeName="bool";wf.prototype.ValueBufferType=Array;wf.prototype.DefaultInterpolation=Ub;wf.prototype.InterpolantFactoryMethodLinear=void 0;wf.prototype.InterpolantFactoryMethodSmooth=void 0;var lF=class extends js{};lF.prototype.ValueTypeName="color";var Xb=class extends js{};Xb.prototype.ValueTypeName="number";var bue=class extends X2{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){let n=this.resultBuffer,a=this.sampleValues,c=this.valueSize,l=(i-t)/(r-t),o=e*c;for(let s=o+c;o!==s;o+=4)mt.slerpFlat(n,0,a,o-c,a,o,l);return n}},Wv=class extends js{InterpolantFactoryMethodLinear(e){return new bue(this.times,this.values,this.getValueSize(),e)}};Wv.prototype.ValueTypeName="quaternion";Wv.prototype.DefaultInterpolation=Vb;Wv.prototype.InterpolantFactoryMethodSmooth=void 0;var _f=class extends js{};_f.prototype.ValueTypeName="string";_f.prototype.ValueBufferType=Array;_f.prototype.DefaultInterpolation=Ub;_f.prototype.InterpolantFactoryMethodLinear=void 0;_f.prototype.InterpolantFactoryMethodSmooth=void 0;var Jb=class extends js{};Jb.prototype.ValueTypeName="vector";var p3=class{constructor(e,t=-1,i,r=tM){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ua(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,c=i.length;a!==c;++a)t.push(wue(i[a]).scale(r));let n=new this(e.name,e.duration,t,e.blendMode);return n.uuid=e.uuid,n}static toJSON(e){let t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let n=0,a=i.length;n!==a;++n)t.push(js.toJSON(i[n]));return r}static CreateFromMorphTargetSequence(e,t,i,r){let n=t.length,a=[];for(let c=0;c<n;c++){let l=[],o=[];l.push((c+n-1)%n,c,(c+1)%n),o.push(0,1,0);let s=gue(l);l=iD(l,1,s),o=iD(o,1,s),!r&&l[0]===0&&(l.push(n),o.push(o[0])),a.push(new Xb(".morphTargetInfluences["+t[c].name+"]",l,o).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){let r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){let r={},n=/^([\w-]*?)([\d]+)$/;for(let c=0,l=e.length;c<l;c++){let o=e[c],s=o.name.match(n);if(s&&s.length>1){let u=s[1],d=r[u];d||(r[u]=d=[]),d.push(o)}}let a=[];for(let c in r)a.push(this.CreateFromMorphTargetSequence(c,r[c],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let i=function(s,u,d,h,p){if(d.length!==0){let m=[],f=[];oF(d,m,f,h),m.length!==0&&p.push(new s(u,m,f))}},r=[],n=e.name||"default",a=e.fps||30,c=e.blendMode,l=e.length||-1,o=e.hierarchy||[];for(let s=0;s<o.length;s++){let u=o[s].keys;if(!(!u||u.length===0))if(u[0].morphTargets){let d={},h;for(h=0;h<u.length;h++)if(u[h].morphTargets)for(let p=0;p<u[h].morphTargets.length;p++)d[u[h].morphTargets[p]]=-1;for(let p in d){let m=[],f=[];for(let g=0;g!==u[h].morphTargets.length;++g){let v=u[h];m.push(v.time),f.push(v.morphTarget===p?1:0)}r.push(new Xb(".morphTargetInfluence["+p+"]",m,f))}l=d.length*a}else{let d=".bones["+t[s].name+"]";i(Jb,d+".position",u,"pos",r),i(Wv,d+".quaternion",u,"rot",r),i(Jb,d+".scale",u,"scl",r)}}return r.length===0?null:new this(n,l,r,c)}resetDuration(){let e=this.tracks,t=0;for(let i=0,r=e.length;i!==r;++i){let n=this.tracks[i];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function xue(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xb;case"vector":case"vector2":case"vector3":case"vector4":return Jb;case"color":return lF;case"quaternion":return Wv;case"bool":case"boolean":return wf;case"string":return _f}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function wue(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=xue(e.type);if(e.times===void 0){let i=[],r=[];oF(e.keys,i,r,"value"),e.times=i,e.values=r}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Qb={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},cF=class{constructor(e,t,i){let r=this,n=!1,a=0,c=0,l,o=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(s){c++,n===!1&&r.onStart!==void 0&&r.onStart(s,a,c),n=!0},this.itemEnd=function(s){a++,r.onProgress!==void 0&&r.onProgress(s,a,c),a===c&&(n=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(s){r.onError!==void 0&&r.onError(s)},this.resolveURL=function(s){return l?l(s):s},this.setURLModifier=function(s){return l=s,this},this.addHandler=function(s,u){return o.push(s,u),this},this.removeHandler=function(s){let u=o.indexOf(s);return u!==-1&&o.splice(u,2),this},this.getHandler=function(s){for(let u=0,d=o.length;u<d;u+=2){let h=o[u],p=o[u+1];if(h.global&&(h.lastIndex=0),h.test(s))return p}return null}}},_ue=new cF,qv=class{constructor(e){this.manager=e!==void 0?e:_ue,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let i=this;return new Promise(function(r,n){i.load(e,r,t,n)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Bs={},Sue=class extends Error{constructor(e,t){super(e),this.response=t}},f3=class extends qv{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let n=Qb.get(e);if(n!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(n),this.manager.itemEnd(e)},0),n;if(Bs[e]!==void 0){Bs[e].push({onLoad:t,onProgress:i,onError:r});return}Bs[e]=[],Bs[e].push({onLoad:t,onProgress:i,onError:r});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,l=this.responseType;fetch(a).then(o=>{if(o.status===200||o.status===0){if(o.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||o.body===void 0||o.body.getReader===void 0)return o;let s=Bs[e],u=o.body.getReader(),d=o.headers.get("Content-Length")||o.headers.get("X-File-Size"),h=d?parseInt(d):0,p=h!==0,m=0,f=new ReadableStream({start(g){v();function v(){u.read().then(({done:S,value:x})=>{if(S)g.close();else{m+=x.byteLength;let b=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let _=0,w=s.length;_<w;_++){let C=s[_];C.onProgress&&C.onProgress(b)}g.enqueue(x),v()}})}}});return new Response(f)}else throw new Sue(`fetch for "${o.url}" responded with ${o.status}: ${o.statusText}`,o)}).then(o=>{switch(l){case"arraybuffer":return o.arrayBuffer();case"blob":return o.blob();case"document":return o.text().then(s=>new DOMParser().parseFromString(s,c));case"json":return o.json();default:if(c===void 0)return o.text();{let s=/charset="?([^;"\s]*)"?/i.exec(c),u=s&&s[1]?s[1].toLowerCase():void 0,d=new TextDecoder(u);return o.arrayBuffer().then(h=>d.decode(h))}}}).then(o=>{Qb.add(e,o);let s=Bs[e];delete Bs[e];for(let u=0,d=s.length;u<d;u++){let h=s[u];h.onLoad&&h.onLoad(o)}}).catch(o=>{let s=Bs[e];if(s===void 0)throw this.manager.itemError(e),o;delete Bs[e];for(let u=0,d=s.length;u<d;u++){let h=s[u];h.onError&&h.onError(o)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},Cue=class extends qv{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let n=this,a=Qb.get(e);if(a!==void 0)return n.manager.itemStart(e),setTimeout(function(){t&&t(a),n.manager.itemEnd(e)},0),a;let c=Yg("img");function l(){s(),Qb.add(e,this),t&&t(this),n.manager.itemEnd(e)}function o(u){s(),r&&r(u),n.manager.itemError(e),n.manager.itemEnd(e)}function s(){c.removeEventListener("load",l,!1),c.removeEventListener("error",o,!1)}return c.addEventListener("load",l,!1),c.addEventListener("error",o,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),n.manager.itemStart(e),c.src=e,c}},Eue=class extends qv{constructor(e){super(e)}load(e,t,i,r){let n=new Ni,a=new Cue(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(c){n.image=c,n.needsUpdate=!0,t!==void 0&&t(n)},i,r),n}},Yv=class extends ti{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new lt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},Tue=class extends Yv{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ti.DEFAULT_UP),this.updateMatrix(),this.groundColor=new lt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},iS=new Ie,rD=new N,nD=new N,pM=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new re(512,512),this.map=null,this.mapPass=null,this.matrix=new Ie,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new aM,this._frameExtents=new re(1,1),this._viewportCount=1,this._viewports=[new vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,i=this.matrix;rD.setFromMatrixPosition(e.matrixWorld),t.position.copy(rD),nD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(nD),t.updateMatrixWorld(),iS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iS),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(iS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},Aue=class extends pM{constructor(){super(new mn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,i=qg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,n=e.distance||t.far;(i!==t.fov||r!==t.aspect||n!==t.far)&&(t.fov=i,t.aspect=r,t.far=n,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},Mue=class extends Yv{constructor(e,t,i=0,r=Math.PI/3,n=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ti.DEFAULT_UP),this.updateMatrix(),this.target=new ti,this.distance=i,this.angle=r,this.penumbra=n,this.decay=a,this.map=null,this.shadow=new Aue}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},aD=new Ie,Zf=new N,rS=new N,jue=class extends pM{constructor(){super(new mn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new re(4,2),this._viewportCount=6,this._viewports=[new vt(2,1,1,1),new vt(0,1,1,1),new vt(3,1,1,1),new vt(1,1,1,1),new vt(3,0,1,1),new vt(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){let i=this.camera,r=this.matrix,n=e.distance||i.far;n!==i.far&&(i.far=n,i.updateProjectionMatrix()),Zf.setFromMatrixPosition(e.matrixWorld),i.position.copy(Zf),rS.copy(i.position),rS.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(rS),i.updateMatrixWorld(),r.makeTranslation(-Zf.x,-Zf.y,-Zf.z),aD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aD)}},Iue=class extends Yv{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new jue}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},Pue=class extends pM{constructor(){super(new W2(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},kue=class extends Yv{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ti.DEFAULT_UP),this.updateMatrix(),this.target=new ti,this.shadow=new Pue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},uF=class extends Qe{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},dF=class extends qv{constructor(e){super(e)}load(e,t,i,r){let n=this,a=new f3(n.manager);a.setPath(n.path),a.setRequestHeader(n.requestHeader),a.setWithCredentials(n.withCredentials),a.load(e,function(c){try{t(n.parse(JSON.parse(c)))}catch(l){r?r(l):console.error(l),n.manager.itemError(e)}},i,r)}parse(e){let t={},i={};function r(d,h){if(t[h]!==void 0)return t[h];let p=d.interleavedBuffers[h],m=n(d,p.buffer),f=D0(p.type,m),g=new Rce(f,p.stride);return g.uuid=p.uuid,t[h]=g,g}function n(d,h){if(i[h]!==void 0)return i[h];let p=d.arrayBuffers[h],m=new Uint32Array(p).buffer;return i[h]=m,m}let a=e.isInstancedBufferGeometry?new uF:new Qe,c=e.data.index;if(c!==void 0){let d=D0(c.type,c.array);a.setIndex(new ct(d,1))}let l=e.data.attributes;for(let d in l){let h=l[d],p;if(h.isInterleavedBufferAttribute){let m=r(e.data,h.data);p=new u3(m,h.itemSize,h.offset,h.normalized)}else{let m=D0(h.type,h.array),f=h.isInstancedBufferAttribute?Kg:ct;p=new f(m,h.itemSize,h.normalized)}h.name!==void 0&&(p.name=h.name),h.usage!==void 0&&p.setUsage(h.usage),h.updateRange!==void 0&&(p.updateRange.offset=h.updateRange.offset,p.updateRange.count=h.updateRange.count),a.setAttribute(d,p)}let o=e.data.morphAttributes;if(o)for(let d in o){let h=o[d],p=[];for(let m=0,f=h.length;m<f;m++){let g=h[m],v;if(g.isInterleavedBufferAttribute){let S=r(e.data,g.data);v=new u3(S,g.itemSize,g.offset,g.normalized)}else{let S=D0(g.type,g.array);v=new ct(S,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),p.push(v)}a.morphAttributes[d]=p}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);let s=e.data.groups||e.data.drawcalls||e.data.offsets;if(s!==void 0)for(let d=0,h=s.length;d!==h;++d){let p=s[d];a.addGroup(p.start,p.count,p.materialIndex)}let u=e.data.boundingSphere;if(u!==void 0){let d=new N;u.center!==void 0&&d.fromArray(u.center),a.boundingSphere=new aa(d,u.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}},Due=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=oD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=oD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function oD(){return(typeof performance>"u"?Date:performance).now()}var Oue=class{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,n,a;switch(t){case"quaternion":r=this._slerp,n=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,n=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,n=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=n,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let i=this.buffer,r=this.valueSize,n=e*r+r,a=this.cumulativeWeight;if(a===0){for(let c=0;c!==r;++c)i[n+c]=i[c];a=t}else{a+=t;let c=t/a;this._mixBufferRegion(i,n,0,c,r)}this.cumulativeWeight=a}accumulateAdditive(e){let t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,i=this.buffer,r=e*t+t,n=this.cumulativeWeight,a=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,n<1){let l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-n,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,o=t+t;l!==o;++l)if(i[l]!==i[l+t]){c.setValue(i,r);break}}saveOriginalState(){let e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let n=i,a=r;n!==a;++n)t[n]=t[r+n%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,n){if(r>=.5)for(let a=0;a!==n;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){mt.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,n){let a=this._workIndex*n;mt.multiplyQuaternionsFlat(e,a,e,t,e,i),mt.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,n){let a=1-r;for(let c=0;c!==n;++c){let l=t+c;e[l]=e[l]*a+e[i+c]*r}}_lerpAdditive(e,t,i,r,n){for(let a=0;a!==n;++a){let c=t+a;e[c]=e[c]+e[i+a]*r}}},fM="\\[\\]\\.:\\/",Rue=new RegExp("["+fM+"]","g"),mM="[^"+fM+"]",Nue="[^"+fM.replace("\\.","")+"]",Lue=/((?:WC+[\/:])*)/.source.replace("WC",mM),zue=/(WCOD+)?/.source.replace("WCOD",Nue),Bue=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mM),Fue=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mM),Uue=new RegExp("^"+Lue+zue+Bue+Fue+"$"),Vue=["material","materials","bones","map"],Hue=class{constructor(e,t,i){let r=i||ui.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){let i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},ui=class{constructor(e,t,i){this.path=t,this.parsedPath=i||ui.parseTrackName(t),this.node=ui.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new ui.Composite(e,t,i):new ui(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Rue,"")}static parseTrackName(e){let t=Uue.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){let n=i.nodeName.substring(r+1);Vue.indexOf(n)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){let i=function(n){for(let a=0;a<n.length;a++){let c=n[a];if(c.name===t||c.uuid===t)return c;let l=i(c.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let i=this.resolvedProperty;for(let r=0,n=i.length;r!==n;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,i=t.objectName,r=t.propertyName,n=t.propertyIndex;if(e||(e=ui.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let o=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let s=0;s<e.length;s++)if(e[s].name===o){o=s;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(o!==void 0){if(e[o]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[o]}}let a=e[r];if(a===void 0){let o=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+o+"."+r+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?c=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(n!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[n]!==void 0&&(n=e.morphTargetDictionary[n])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=n}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};ui.Composite=Hue;ui.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ui.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ui.prototype.GetterByBindingType=[ui.prototype._getValue_direct,ui.prototype._getValue_array,ui.prototype._getValue_arrayElement,ui.prototype._getValue_toArray];ui.prototype.SetterByBindingTypeAndVersioning=[[ui.prototype._setValue_direct,ui.prototype._setValue_direct_setNeedsUpdate,ui.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ui.prototype._setValue_array,ui.prototype._setValue_array_setNeedsUpdate,ui.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ui.prototype._setValue_arrayElement,ui.prototype._setValue_arrayElement_setNeedsUpdate,ui.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ui.prototype._setValue_fromArray,ui.prototype._setValue_fromArray_setNeedsUpdate,ui.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Gue=class{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;let n=t.tracks,a=n.length,c=new Array(a),l={endingStart:Yh,endingEnd:Yh};for(let o=0;o!==a;++o){let s=n[o].createInterpolant(null);c[o]=s,s.settings=l}this._interpolantSettings=l,this._interpolants=c,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=MB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){let r=this._clip.duration,n=e._clip.duration,a=n/r,c=r/n;e.warp(1,a,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){let r=this._mixer,n=r.time,a=this.timeScale,c=this._timeScaleInterpolant;c===null&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);let l=c.parameterPositions,o=c.sampleValues;return l[0]=n,l[1]=n+i,o[0]=e/a,o[1]=t/a,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}let n=this._startTime;if(n!==null){let l=(e-n)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);let a=this._updateTime(t),c=this._updateWeight(e);if(c>0){let l=this._interpolants,o=this._propertyBindings;switch(this.blendMode){case bne:for(let s=0,u=l.length;s!==u;++s)l[s].evaluate(a),o[s].accumulateAdditive(c);break;case tM:default:for(let s=0,u=l.length;s!==u;++s)l[s].evaluate(a),o[s].accumulate(r,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let i=this._weightInterpolant;if(i!==null){let r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let i=this._timeScaleInterpolant;if(i!==null){let r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,i=this.loop,r=this.time+e,n=this._loopCount,a=i===eM;if(e===0)return n===-1?r:a&&(n&1)===1?t-r:r;if(i===AB){n===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(n===-1&&(e>=0?(n=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){let c=Math.floor(r/t);r-=t*c,n+=Math.abs(c);let l=this.repetitions-n;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let o=e<0;this._setEndings(o,!o,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=r;if(a&&(n&1)===1)return t-r}return r}_setEndings(e,t,i){let r=this._interpolantSettings;i?(r.endingStart=Kh,r.endingEnd=Kh):(e?r.endingStart=this.zeroSlopeAtStart?Kh:Yh:r.endingStart=Hb,t?r.endingEnd=this.zeroSlopeAtEnd?Kh:Yh:r.endingEnd=Hb)}_scheduleFading(e,t,i){let r=this._mixer,n=r.time,a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);let c=a.parameterPositions,l=a.sampleValues;return c[0]=n,l[0]=t,c[1]=n+e,l[1]=i,this}},Wue=new Float32Array(1),que=class extends an{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let i=e._localRoot||this._root,r=e._clip.tracks,n=r.length,a=e._propertyBindings,c=e._interpolants,l=i.uuid,o=this._bindingsByRootAndName,s=o[l];s===void 0&&(s={},o[l]=s);for(let u=0;u!==n;++u){let d=r[u],h=d.name,p=s[h];if(p!==void 0)++p.referenceCount,a[u]=p;else{if(p=a[u],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}let m=t&&t._propertyBindings[u].binding.parsedPath;p=new Oue(ui.create(i,h,m),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),a[u]=p}c[u].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let i=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,i)}let t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){let n=t[i];n.useCount++===0&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){let n=t[i];--n.useCount===0&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){let r=this._actions,n=this._actionsByClip,a=n[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,n[t]=a;else{let c=a.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){let t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;let n=e._clip.uuid,a=this._actionsByClip,c=a[n],l=c.knownActions,o=l[l.length-1],s=e._byClipCacheIndex;o._byClipCacheIndex=s,l[s]=o,l.pop(),e._byClipCacheIndex=null;let u=c.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],l.length===0&&delete a[n],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){let n=t[i];--n.referenceCount===0&&this._removeInactiveBinding(n)}}_lendAction(e){let t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n}_takeBackAction(e){let t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n}_addInactiveBinding(e,t,i){let r=this._bindingsByRootAndName,n=this._bindings,a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=n.length,n.push(e)}_removeInactiveBinding(e){let t=this._bindings,i=e.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,c=a[r],l=t[t.length-1],o=e._cacheIndex;l._cacheIndex=o,t[o]=l,t.pop(),delete c[n],Object.keys(c).length===0&&delete a[r]}_lendBinding(e){let t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n}_takeBackBinding(e){let t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,n=t[r];e._cacheIndex=r,t[r]=e,n._cacheIndex=i,t[i]=n}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return i===void 0&&(i=new sF(new Float32Array(2),new Float32Array(2),1,Wue),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){let t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,n=t[r];e.__cacheIndex=r,t[r]=e,n.__cacheIndex=i,t[i]=n}clipAction(e,t,i){let r=t||this._root,n=r.uuid,a=typeof e=="string"?p3.findByName(r,e):e,c=a!==null?a.uuid:e,l=this._actionsByClip[c],o=null;if(i===void 0&&(a!==null?i=a.blendMode:i=tM),l!==void 0){let u=l.actionByRoot[n];if(u!==void 0&&u.blendMode===i)return u;o=l.knownActions[0],a===null&&(a=o._clip)}if(a===null)return null;let s=new Gue(this,a,t,i);return this._bindAction(s,o),this._addInactiveAction(s,c,n),s}existingAction(e,t){let i=t||this._root,r=i.uuid,n=typeof e=="string"?p3.findByName(i,e):e,a=n?n.uuid:e,c=this._actionsByClip[a];return c!==void 0&&c.actionByRoot[r]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;let t=this._actions,i=this._nActiveActions,r=this.time+=e,n=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==i;++o)t[o]._update(r,e,n,a);let c=this._bindings,l=this._nActiveBindings;for(let o=0;o!==l;++o)c[o].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,i=e.uuid,r=this._actionsByClip,n=r[i];if(n!==void 0){let a=n.knownActions;for(let c=0,l=a.length;c!==l;++c){let o=a[c];this._deactivateAction(o);let s=o._cacheIndex,u=t[t.length-1];o._cacheIndex=null,o._byClipCacheIndex=null,u._cacheIndex=s,t[s]=u,t.pop(),this._removeInactiveBindingsForAction(o)}delete r[i]}}uncacheRoot(e){let t=e.uuid,i=this._actionsByClip;for(let a in i){let c=i[a].actionByRoot,l=c[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}let r=this._bindingsByRootAndName,n=r[t];if(n!==void 0)for(let a in n){let c=n[a];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){let i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}},Ee=class{constructor(t){this.value=t}clone(){return new Ee(this.value.clone===void 0?this.value:this.value.clone())}},hF=class{constructor(e,t,i=0,r=1/0){this.ray=new yf(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new rM,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return m3(e,this,i,t),i.sort(sD),i}intersectObjects(e,t=!0,i=[]){for(let r=0,n=e.length;r<n;r++)m3(e[r],this,i,t);return i.sort(sD),i}};function sD(e,t){return e.distance-t.distance}function m3(e,t,i,r){if(e.layers.test(t.layers)&&e.raycast(t,i),r===!0){let n=e.children;for(let a=0,c=n.length;a<c;a++)m3(n[a],t,i,!0)}}var lD=class{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(rr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},cD=new re,gM=class{constructor(e=new re(1/0,1/0),t=new re(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let i=cD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return cD.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},uD=new N,ny=new N,Va=class{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){uD.subVectors(e,this.start),ny.subVectors(this.end,this.start);let i=ny.dot(ny),r=ny.dot(uD)/i;return t&&(r=rr(r,0,1)),r}closestPointToPoint(e,t,i){let r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},dD=new N,Yue=class extends ti{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let i=new Qe,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,c=1,l=32;a<l;a++,c++){let o=a/l*Math.PI*2,s=c/l*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.setAttribute("position",new Fe(r,3));let n=new mu({fog:!1,toneMapped:!1});this.cone=new Gv(i,n),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Kue=class extends gi{constructor(e,t,i){let r=new vp(t,4,2),n=new Pl({wireframe:!0,fog:!1,toneMapped:!1});super(r,n),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},hD=new N,ay=new N,pD=new N,Xue=class extends ti{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Qe;r.setAttribute("position",new Fe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let n=new mu({fog:!1,toneMapped:!1});this.lightPlane=new qb(r,n),this.add(this.lightPlane),r=new Qe,r.setAttribute("position",new Fe([0,0,0,0,0,1],3)),this.targetLine=new qb(r,n),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),hD.setFromMatrixPosition(this.light.matrixWorld),ay.setFromMatrixPosition(this.light.target.matrixWorld),pD.subVectors(ay,hD),this.lightPlane.lookAt(ay),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ay),this.targetLine.scale.z=pD.length()}},oy=new N,zi=new fu,$b=class extends Gv{constructor(e){let t=new Qe,i=new mu({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],n=[],a={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(p,m){l(p),l(m)}function l(p){r.push(0,0,0),n.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(r.length/3-1)}t.setAttribute("position",new Fe(r,3)),t.setAttribute("color",new Fe(n,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();let o=new lt(16755200),s=new lt(16711680),u=new lt(43775),d=new lt(16777215),h=new lt(3355443);this.setColors(o,s,u,d,h)}setColors(e,t,i,r,n){let a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,n.r,n.g,n.b),a.setXYZ(41,n.r,n.g,n.b),a.setXYZ(42,n.r,n.g,n.b),a.setXYZ(43,n.r,n.g,n.b),a.setXYZ(44,n.r,n.g,n.b),a.setXYZ(45,n.r,n.g,n.b),a.setXYZ(46,n.r,n.g,n.b),a.setXYZ(47,n.r,n.g,n.b),a.setXYZ(48,n.r,n.g,n.b),a.setXYZ(49,n.r,n.g,n.b),a.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,i=1,r=1;zi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),qi("c",t,e,zi,0,0,-1),qi("t",t,e,zi,0,0,1),qi("n1",t,e,zi,-1,-1,-1),qi("n2",t,e,zi,i,-1,-1),qi("n3",t,e,zi,-1,r,-1),qi("n4",t,e,zi,i,r,-1),qi("f1",t,e,zi,-1,-1,1),qi("f2",t,e,zi,i,-1,1),qi("f3",t,e,zi,-1,r,1),qi("f4",t,e,zi,i,r,1),qi("u1",t,e,zi,i*.7,r*1.1,-1),qi("u2",t,e,zi,-1*.7,r*1.1,-1),qi("u3",t,e,zi,0,r*2,-1),qi("cf1",t,e,zi,-1,0,1),qi("cf2",t,e,zi,i,0,1),qi("cf3",t,e,zi,0,-1,1),qi("cf4",t,e,zi,0,r,1),qi("cn1",t,e,zi,-1,0,-1),qi("cn2",t,e,zi,i,0,-1),qi("cn3",t,e,zi,0,-1,-1),qi("cn4",t,e,zi,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function qi(e,t,i,r,n,a,c){oy.set(n,a,c).unproject(r);let l=t[e];if(l!==void 0){let o=i.getAttribute("position");for(let s=0,u=l.length;s<u;s++)o.setXYZ(l[s],oy.x,oy.y,oy.z)}}var Zb=class extends Gv{constructor(e,t=16776960){let i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],n=new Qe;n.setIndex(new ct(i,1)),n.setAttribute("position",new Fe(r,3)),super(n,new mu({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},Jue=class extends Gv{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Qe;r.setAttribute("position",new Fe(t,3)),r.setAttribute("color",new Fe(i,3));let n=new mu({vertexColors:!0,toneMapped:!1});super(r,n),this.type="AxesHelper"}setColors(e,t,i){let r=new lt,n=this.geometry.attributes.color.array;return r.set(e),r.toArray(n,0),r.toArray(n,3),r.set(t),r.toArray(n,6),r.toArray(n,9),r.set(i),r.toArray(n,12),r.toArray(n,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},al=Que();function Que(){let e=new ArrayBuffer(4),t=new Float32Array(e),i=new Uint32Array(e),r=new Uint32Array(512),n=new Uint32Array(512);for(let o=0;o<256;++o){let s=o-127;s<-27?(r[o]=0,r[o|256]=32768,n[o]=24,n[o|256]=24):s<-14?(r[o]=1024>>-s-14,r[o|256]=1024>>-s-14|32768,n[o]=-s-1,n[o|256]=-s-1):s<=15?(r[o]=s+15<<10,r[o|256]=s+15<<10|32768,n[o]=13,n[o|256]=13):s<128?(r[o]=31744,r[o|256]=64512,n[o]=24,n[o|256]=24):(r[o]=31744,r[o|256]=64512,n[o]=13,n[o|256]=13)}let a=new Uint32Array(2048),c=new Uint32Array(64),l=new Uint32Array(64);for(let o=1;o<1024;++o){let s=o<<13,u=0;for(;!(s&8388608);)s<<=1,u-=8388608;s&=-8388609,u+=947912704,a[o]=s|u}for(let o=1024;o<2048;++o)a[o]=939524096+(o-1024<<13);for(let o=1;o<31;++o)c[o]=o<<23;c[31]=1199570944,c[32]=2147483648;for(let o=33;o<63;++o)c[o]=2147483648+(o-32<<23);c[63]=3347054592;for(let o=1;o<64;++o)o!==32&&(l[o]=1024);return{floatView:t,uint32View:i,baseTable:r,shiftTable:n,mantissaTable:a,exponentTable:c,offsetTable:l}}function $ue(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=rr(e,-65504,65504),al.floatView[0]=e;let t=al.uint32View[0],i=t>>23&511;return al.baseTable[i]+((t&8388607)>>al.shiftTable[i])}function Zue(e){let t=e>>10;return al.uint32View[0]=al.mantissaTable[al.offsetTable[t]+(e&1023)]+al.exponentTable[t],al.floatView[0]}var ede=Object.freeze({__proto__:null,fromHalfFloat:Zue,toHalfFloat:$ue});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=vf);var em=".",vM=Symbol("target"),pF=Symbol("unsubscribe");function g3(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}function tde(e){return(typeof e=="object"?e===null:typeof e!="function")||e instanceof RegExp}var ts=Array.isArray;function yM(e){return typeof e=="symbol"}var ide={after:(e,t)=>ts(e)?e.slice(t.length):t===""?e:e.slice(t.length+1),concat:(e,t)=>ts(e)?(e=[...e],t&&e.push(t),e):t&&t.toString!==void 0?(e!==""&&(e+=em),yM(t)?e+t.toString():e+t):e,initial:e=>{if(ts(e))return e.slice(0,-1);if(e==="")return e;let t=e.lastIndexOf(em);return t===-1?"":e.slice(0,t)},last:e=>{if(ts(e))return e[e.length-1]||"";if(e==="")return e;let t=e.lastIndexOf(em);return t===-1?e:e.slice(t+1)},walk:(e,t)=>{if(ts(e))for(let i of e)t(i);else if(e!==""){let i=0,r=e.indexOf(em);if(r===-1)t(e);else for(;i<e.length;)r===-1&&(r=e.length),t(e.slice(i,r)),i=r+1,r=e.indexOf(em,i)}},get(e,t){return this.walk(t,i=>{e&&(e=e[i])}),e}},Pa=ide;function rde(e){return typeof e=="object"&&typeof e.next=="function"}function nde(e,t,i,r,n){let a=e.next;if(t.name==="entries")e.next=function(){let c=a.call(this);return c.done===!1&&(c.value[0]=n(c.value[0],t,c.value[0],r),c.value[1]=n(c.value[1],t,c.value[0],r)),c};else if(t.name==="values"){let c=i[vM].keys();e.next=function(){let l=a.call(this);return l.done===!1&&(l.value=n(l.value,t,c.next().value,r)),l}}else e.next=function(){let c=a.call(this);return c.done===!1&&(c.value=n(c.value,t,c.value,r)),c};return e}function fD(e,t,i){return e.isUnsubscribed||t.ignoreSymbols&&yM(i)||t.ignoreUnderscores&&i.charAt(0)==="_"||"ignoreKeys"in t&&t.ignoreKeys.includes(i)}var ade=class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),i=t.get(e);return i===void 0&&(i={},t.set(e,i)),i}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let i=this._getProperties(e),r=i[t];return r===void 0&&(r=Reflect.getOwnPropertyDescriptor(e,t),i[t]=r),r}getProxy(e,t,i,r){if(this.isUnsubscribed)return e;let n=e[r],a=n||e;this._pathCache.set(a,t);let c=this._proxyCache.get(a);return c===void 0&&(c=n===void 0?new Proxy(e,i):e,this._proxyCache.set(a,c)),c}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,Pa.get(t,this.getPath(e)))}defineProperty(e,t,i){return Reflect.defineProperty(e,t,i)?(this.isUnsubscribed||(this._getProperties(e)[t]=i),!0):!1}setProperty(e,t,i,r,n){if(!this._equals(n,i)||!(t in e)){let a=this._getOwnPropertyDescriptor(e,t);return a!==void 0&&"set"in a?Reflect.set(e,t,i,r):Reflect.set(e,t,i)}return!0}deleteProperty(e,t,i){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let r=this._getDescriptorCache().get(e);r&&(delete r[t],this._pathCache.delete(i))}return!0}return!1}isSameDescriptor(e,t,i){let r=this._getOwnPropertyDescriptor(t,i);return e!==void 0&&r!==void 0&&Object.is(e.value,r.value)&&(e.writable||!1)===(r.writable||!1)&&(e.enumerable||!1)===(r.enumerable||!1)&&(e.configurable||!1)===(r.configurable||!1)&&e.get===r.get&&e.set===r.set}isGetInvariant(e,t){let i=this._getOwnPropertyDescriptor(e,t);return i!==void 0&&i.configurable!==!0&&i.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};function v3(e){return toString.call(e)==="[object Object]"}function sy(){return!0}function uh(e,t){return e.length!==t.length||e.some((i,r)=>t[r]!==i)}var fF=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),ode=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),mF={push:sy,pop:sy,shift:sy,unshift:sy,copyWithin:uh,reverse:uh,sort:uh,splice:uh,flat:uh,fill:uh},sde=new Set([...fF,...ode,...Object.keys(mF)]);function ly(e,t){if(e.size!==t.size)return!0;for(let i of e)if(!t.has(i))return!0;return!1}var gF=["keys","values","entries"],vF=new Set(["has","toString"]),yF={add:ly,clear:ly,delete:ly,forEach:ly},lde=new Set([...vF,...Object.keys(yF),...gF]);function cy(e,t){if(e.size!==t.size)return!0;let i;for(let[r,n]of e)if(i=t.get(r),i!==n||i===void 0&&!t.has(r))return!0;return!1}var cde=new Set([...vF,"get"]),bF={set:cy,clear:cy,delete:cy,forEach:cy},ude=new Set([...cde,...Object.keys(bF),...gF]),ru=class{constructor(e,t,i,r){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=r,this._changes=r?[]:null,this.clone=t===void 0?e:this._shallowClone(e)}static isHandledMethod(e){return fF.has(e)}_shallowClone(e){let t=e;if(v3(e))t={...e};else if(ts(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(i=>this._shallowClone(i)));else if(e instanceof Map){t=new Map;for(let[i,r]of e.entries())t.set(i,this._shallowClone(r))}return this._clonedCache.add(t),t}preferredThisArg(e,t,i,r){return e?(ts(r)?this._onIsChanged=mF[t]:r instanceof Set?this._onIsChanged=yF[t]:r instanceof Map&&(this._onIsChanged=bF[t]),r):i}update(e,t,i){let r=Pa.after(e,this._path);if(t!=="length"){let n=this.clone;Pa.walk(r,a=>{n&&n[a]&&(this._clonedCache.has(n[a])||(n[a]=this._shallowClone(n[a])),n=n[a])}),this._hasOnValidate&&this._changes.push({path:r,property:t,previous:i}),n&&n[t]&&(n[t]=i)}this._isChanged=!0}undo(e){let t;for(let i=this._changes.length-1;i!==-1;i--)t=this._changes[i],Pa.get(e,t.path)[t.property]=t.previous}isChanged(e){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,e)}},mD=class extends ru{static isHandledMethod(e){return sde.has(e)}},dde=class extends ru{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},gD=class extends ru{static isHandledMethod(t){return lde.has(t)}undo(t){for(let i of this.clone)t.add(i);for(let i of t)this.clone.has(i)||t.delete(i)}},vD=class extends ru{static isHandledMethod(e){return ude.has(e)}undo(e){for(let[t,i]of this.clone.entries())e.set(t,i);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},hde=class extends ru{constructor(e,t,i,r){super(void 0,t,i,r),this._arg1=i[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},pde=class extends ru{constructor(e,t,i,r){super(void 0,t,i,r),this._weakKey=i[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},jh=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return v3(e)||ts(e)||g3(e)}static isHandledMethod(e,t){return v3(e)?ru.isHandledMethod(t):ts(e)?mD.isHandledMethod(t):e instanceof Set?gD.isHandledMethod(t):e instanceof Map?vD.isHandledMethod(t):g3(e)}get isCloning(){return this._stack.length>0}start(e,t,i){let r=ru;ts(e)?r=mD:e instanceof Date?r=dde:e instanceof Set?r=gD:e instanceof Map?r=vD:e instanceof WeakSet?r=hde:e instanceof WeakMap&&(r=pde),this._stack.push(new r(e,t,i,this._hasOnValidate))}update(e,t,i){this._stack[this._stack.length-1].update(e,t,i)}preferredThisArg(e,t,i){let{name:r}=e,n=jh.isHandledMethod(i,r);return this._stack[this._stack.length-1].preferredThisArg(n,r,t,i)}isChanged(e,t,i){return this._stack[this._stack.length-1].isChanged(e,t,i)}undo(e){this._previousClone!==void 0&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},fde={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},bM=(e,t,i={})=>{i={...fde,...i};let r=Symbol("ProxyTarget"),{equals:n,isShallow:a,ignoreDetached:c,details:l}=i,o=new ade(n),s=typeof i.onValidate=="function",u=new jh(s),d=(S,x,b,_,w)=>!s||u.isCloning||i.onValidate(Pa.concat(o.getPath(S),x),b,_,w)===!0,h=(S,x,b,_)=>{!fD(o,i,x)&&!(c&&o.isDetached(S,e))&&p(o.getPath(S),x,b,_)},p=(S,x,b,_,w)=>{u.isCloning?u.update(S,x,_):t(Pa.concat(S,x),b,_,w)},m=S=>S&&(S[r]||S),f=(S,x,b,_)=>tde(S)||b==="constructor"||a&&!jh.isHandledMethod(x,b)||fD(o,i,b)||o.isGetInvariant(x,b)||c&&o.isDetached(x,e)?S:(_===void 0&&(_=o.getPath(x)),o.getProxy(S,Pa.concat(_,b),g,r)),g={get(S,x,b){if(yM(x)){if(x===r||x===vM)return S;if(x===pF&&!o.isUnsubscribed&&o.getPath(S).length===0)return o.unsubscribe(),S}let _=g3(S)?Reflect.get(S,x):Reflect.get(S,x,b);return f(_,S,x)},set(S,x,b,_){b=m(b);let w=S[r]||S,C=w[x];if(n(C,b)&&x in S)return!0;let E=d(S,x,b,C);return E&&o.setProperty(w,x,b,_,C)?(h(S,x,S[x],C),!0):!E},defineProperty(S,x,b){if(!o.isSameDescriptor(b,S,x)){let _=S[x];d(S,x,b.value,_)&&o.defineProperty(S,x,b,_)&&h(S,x,b.value,_)}return!0},deleteProperty(S,x){if(!Reflect.has(S,x))return!0;let b=Reflect.get(S,x),_=d(S,x,void 0,b);return _&&o.deleteProperty(S,x,b)?(h(S,x,void 0,b),!0):!_},apply(S,x,b){let _=x[r]||x;if(o.isUnsubscribed)return Reflect.apply(S,_,b);if((l===!1||l!==!0&&!l.includes(S.name))&&jh.isHandledType(_)){let w=Pa.initial(o.getPath(S)),C=jh.isHandledMethod(_,S.name);u.start(_,w,b);let E=Reflect.apply(S,u.preferredThisArg(S,x,_),C?b.map(M=>m(M)):b),A=u.isChanged(_,n),T=u.stop();if(jh.isHandledType(E)&&C&&(x instanceof Map&&S.name==="get"&&(w=Pa.concat(w,b[0])),E=o.getProxy(E,w,g)),A){let M={name:S.name,args:b,result:E},j=u.isCloning?Pa.initial(w):w,P=u.isCloning?Pa.last(w):"";d(Pa.get(e,j),P,_,T,M)?p(j,P,_,T,M):u.undo(_)}return(x instanceof Map||x instanceof Set)&&rde(E)?nde(E,S,x,w,f):E}return Reflect.apply(S,x,b)}},v=o.getProxy(e,i.pathAsArray?[]:"",g);return t=t.bind(v),s&&(i.onValidate=i.onValidate.bind(v)),v};bM.target=e=>e&&e[vM]||e;bM.unsubscribe=e=>e[pF]||e;var yD=bM,mde=typeof global=="object"&&global&&global.Object===Object&&global,xF=mde,gde=typeof self=="object"&&self&&self.Object===Object&&self,vde=xF||gde||Function("return this")(),Po=vde,yde=Po.Symbol,qa=yde,wF=Object.prototype,bde=wF.hasOwnProperty,xde=wF.toString,tm=qa?qa.toStringTag:void 0;function wde(e){var t=bde.call(e,tm),i=e[tm];try{e[tm]=void 0;var r=!0}catch{}var n=xde.call(e);return r&&(t?e[tm]=i:delete e[tm]),n}var _de=wde,Sde=Object.prototype,Cde=Sde.toString;function Ede(e){return Cde.call(e)}var Tde=Ede,Ade="[object Null]",Mde="[object Undefined]",bD=qa?qa.toStringTag:void 0;function jde(e){return e==null?e===void 0?Mde:Ade:bD&&bD in Object(e)?_de(e):Tde(e)}var Ud=jde;function Ide(e){return e!=null&&typeof e=="object"}var kl=Ide,Pde="[object Symbol]";function kde(e){return typeof e=="symbol"||kl(e)&&Ud(e)==Pde}var Kv=kde;function Dde(e,t){for(var i=-1,r=e==null?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}var _F=Dde,Ode=Array.isArray,Ss=Ode,xD=qa?qa.prototype:void 0,wD=xD?xD.toString:void 0;function SF(e){if(typeof e=="string")return e;if(Ss(e))return _F(e,SF)+"";if(Kv(e))return wD?wD.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rde=SF,Nde=/\s/;function Lde(e){for(var t=e.length;t--&&Nde.test(e.charAt(t)););return t}var zde=Lde,Bde=/^\s+/;function Fde(e){return e&&e.slice(0,zde(e)+1).replace(Bde,"")}var Ude=Fde;function Vde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var jo=Vde,_D=NaN,Hde=/^[-+]0x[0-9a-f]+$/i,Gde=/^0b[01]+$/i,Wde=/^0o[0-7]+$/i,qde=parseInt;function Yde(e){if(typeof e=="number")return e;if(Kv(e))return _D;if(jo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ude(e);var i=Gde.test(e);return i||Wde.test(e)?qde(e.slice(2),i?2:8):Hde.test(e)?_D:+e}var SD=Yde;function Kde(e){return e}var CF=Kde,Xde="[object AsyncFunction]",Jde="[object Function]",Qde="[object GeneratorFunction]",$de="[object Proxy]";function Zde(e){if(!jo(e))return!1;var t=Ud(e);return t==Jde||t==Qde||t==Xde||t==$de}var EF=Zde,ehe=Po["__core-js_shared__"],nS=ehe,CD=function(){var e=/[^.]+$/.exec(nS&&nS.keys&&nS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function the(e){return!!CD&&CD in e}var ihe=the,rhe=Function.prototype,nhe=rhe.toString;function ahe(e){if(e!=null){try{return nhe.call(e)}catch{}try{return e+""}catch{}}return""}var Vd=ahe,ohe=/[\\^$.*+?()[\]{}|]/g,she=/^\[object .+?Constructor\]$/,lhe=Function.prototype,che=Object.prototype,uhe=lhe.toString,dhe=che.hasOwnProperty,hhe=RegExp("^"+uhe.call(dhe).replace(ohe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function phe(e){if(!jo(e)||ihe(e))return!1;var t=EF(e)?hhe:she;return t.test(Vd(e))}var fhe=phe;function mhe(e,t){return e==null?void 0:e[t]}var ghe=mhe;function vhe(e,t){var i=ghe(e,t);return fhe(i)?i:void 0}var Hd=vhe,yhe=Hd(Po,"WeakMap"),y3=yhe,ED=Object.create,bhe=function(){function e(){}return function(t){if(!jo(t))return{};if(ED)return ED(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),xhe=bhe;function whe(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var _he=whe;function She(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}var Che=She,Ehe=800,The=16,Ahe=Date.now;function Mhe(e){var t=0,i=0;return function(){var r=Ahe(),n=The-(r-i);if(i=r,n>0){if(++t>=Ehe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var jhe=Mhe;function Ihe(e){return function(){return e}}var Phe=Ihe,khe=function(){try{var e=Hd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ex=khe,Dhe=ex?function(e,t){return ex(e,"toString",{configurable:!0,enumerable:!1,value:Phe(t),writable:!0})}:CF,Ohe=Dhe,Rhe=jhe(Ohe),Nhe=Rhe;function Lhe(e,t){for(var i=-1,r=e==null?0:e.length;++i<r&&t(e[i],i,e)!==!1;);return e}var zhe=Lhe,Bhe=9007199254740991,Fhe=/^(?:0|[1-9]\d*)$/;function Uhe(e,t){var i=typeof e;return t=t??Bhe,!!t&&(i=="number"||i!="symbol"&&Fhe.test(e))&&e>-1&&e%1==0&&e<t}var xM=Uhe;function Vhe(e,t,i){t=="__proto__"&&ex?ex(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var TF=Vhe;function Hhe(e,t){return e===t||e!==e&&t!==t}var wM=Hhe,Ghe=Object.prototype,Whe=Ghe.hasOwnProperty;function qhe(e,t,i){var r=e[t];(!(Whe.call(e,t)&&wM(r,i))||i===void 0&&!(t in e))&&TF(e,t,i)}var _M=qhe;function Yhe(e,t,i,r){var n=!i;i||(i={});for(var a=-1,c=t.length;++a<c;){var l=t[a],o=r?r(i[l],e[l],l,i,e):void 0;o===void 0&&(o=e[l]),n?TF(i,l,o):_M(i,l,o)}return i}var Xv=Yhe,TD=Math.max;function Khe(e,t,i){return t=TD(t===void 0?e.length-1:t,0),function(){for(var r=arguments,n=-1,a=TD(r.length-t,0),c=Array(a);++n<a;)c[n]=r[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=r[n];return l[t]=i(c),_he(e,this,l)}}var Xhe=Khe,Jhe=9007199254740991;function Qhe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jhe}var SM=Qhe;function $he(e){return e!=null&&SM(e.length)&&!EF(e)}var AF=$he,Zhe=Object.prototype;function epe(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Zhe;return e===i}var CM=epe;function tpe(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}var ipe=tpe,rpe="[object Arguments]";function npe(e){return kl(e)&&Ud(e)==rpe}var AD=npe,MF=Object.prototype,ape=MF.hasOwnProperty,ope=MF.propertyIsEnumerable,spe=AD(function(){return arguments}())?AD:function(e){return kl(e)&&ape.call(e,"callee")&&!ope.call(e,"callee")},EM=spe;function lpe(){return!1}var cpe=lpe,jF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MD=jF&&typeof module=="object"&&module&&!module.nodeType&&module,upe=MD&&MD.exports===jF,jD=upe?Po.Buffer:void 0,dpe=jD?jD.isBuffer:void 0,hpe=dpe||cpe,tx=hpe,ppe="[object Arguments]",fpe="[object Array]",mpe="[object Boolean]",gpe="[object Date]",vpe="[object Error]",ype="[object Function]",bpe="[object Map]",xpe="[object Number]",wpe="[object Object]",_pe="[object RegExp]",Spe="[object Set]",Cpe="[object String]",Epe="[object WeakMap]",Tpe="[object ArrayBuffer]",Ape="[object DataView]",Mpe="[object Float32Array]",jpe="[object Float64Array]",Ipe="[object Int8Array]",Ppe="[object Int16Array]",kpe="[object Int32Array]",Dpe="[object Uint8Array]",Ope="[object Uint8ClampedArray]",Rpe="[object Uint16Array]",Npe="[object Uint32Array]",Ci={};Ci[Mpe]=Ci[jpe]=Ci[Ipe]=Ci[Ppe]=Ci[kpe]=Ci[Dpe]=Ci[Ope]=Ci[Rpe]=Ci[Npe]=!0;Ci[ppe]=Ci[fpe]=Ci[Tpe]=Ci[mpe]=Ci[Ape]=Ci[gpe]=Ci[vpe]=Ci[ype]=Ci[bpe]=Ci[xpe]=Ci[wpe]=Ci[_pe]=Ci[Spe]=Ci[Cpe]=Ci[Epe]=!1;function Lpe(e){return kl(e)&&SM(e.length)&&!!Ci[Ud(e)]}var zpe=Lpe;function Bpe(e){return function(t){return e(t)}}var TM=Bpe,IF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rg=IF&&typeof module=="object"&&module&&!module.nodeType&&module,Fpe=rg&&rg.exports===IF,aS=Fpe&&xF.process,Upe=function(){try{var e=rg&&rg.require&&rg.require("util").types;return e||aS&&aS.binding&&aS.binding("util")}catch{}}(),Hp=Upe,ID=Hp&&Hp.isTypedArray,Vpe=ID?TM(ID):zpe,PF=Vpe,Hpe=Object.prototype,Gpe=Hpe.hasOwnProperty;function Wpe(e,t){var i=Ss(e),r=!i&&EM(e),n=!i&&!r&&tx(e),a=!i&&!r&&!n&&PF(e),c=i||r||n||a,l=c?ipe(e.length,String):[],o=l.length;for(var s in e)(t||Gpe.call(e,s))&&!(c&&(s=="length"||n&&(s=="offset"||s=="parent")||a&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||xM(s,o)))&&l.push(s);return l}var kF=Wpe;function qpe(e,t){return function(i){return e(t(i))}}var DF=qpe,Ype=DF(Object.keys,Object),Kpe=Ype,Xpe=Object.prototype,Jpe=Xpe.hasOwnProperty;function Qpe(e){if(!CM(e))return Kpe(e);var t=[];for(var i in Object(e))Jpe.call(e,i)&&i!="constructor"&&t.push(i);return t}var $pe=Qpe;function Zpe(e){return AF(e)?kF(e):$pe(e)}var AM=Zpe;function efe(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var tfe=efe,ife=Object.prototype,rfe=ife.hasOwnProperty;function nfe(e){if(!jo(e))return tfe(e);var t=CM(e),i=[];for(var r in e)r=="constructor"&&(t||!rfe.call(e,r))||i.push(r);return i}var afe=nfe;function ofe(e){return AF(e)?kF(e,!0):afe(e)}var Zu=ofe,sfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lfe=/^\w*$/;function cfe(e,t){if(Ss(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||Kv(e)?!0:lfe.test(e)||!sfe.test(e)||t!=null&&e in Object(t)}var ufe=cfe,dfe=Hd(Object,"create"),$g=dfe;function hfe(){this.__data__=$g?$g(null):{},this.size=0}var pfe=hfe;function ffe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mfe=ffe,gfe="__lodash_hash_undefined__",vfe=Object.prototype,yfe=vfe.hasOwnProperty;function bfe(e){var t=this.__data__;if($g){var i=t[e];return i===gfe?void 0:i}return yfe.call(t,e)?t[e]:void 0}var xfe=bfe,wfe=Object.prototype,_fe=wfe.hasOwnProperty;function Sfe(e){var t=this.__data__;return $g?t[e]!==void 0:_fe.call(t,e)}var Cfe=Sfe,Efe="__lodash_hash_undefined__";function Tfe(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=$g&&t===void 0?Efe:t,this}var Afe=Tfe;function Sf(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Sf.prototype.clear=pfe;Sf.prototype.delete=mfe;Sf.prototype.get=xfe;Sf.prototype.has=Cfe;Sf.prototype.set=Afe;var PD=Sf;function Mfe(){this.__data__=[],this.size=0}var jfe=Mfe;function Ife(e,t){for(var i=e.length;i--;)if(wM(e[i][0],t))return i;return-1}var J2=Ife,Pfe=Array.prototype,kfe=Pfe.splice;function Dfe(e){var t=this.__data__,i=J2(t,e);if(i<0)return!1;var r=t.length-1;return i==r?t.pop():kfe.call(t,i,1),--this.size,!0}var Ofe=Dfe;function Rfe(e){var t=this.__data__,i=J2(t,e);return i<0?void 0:t[i][1]}var Nfe=Rfe;function Lfe(e){return J2(this.__data__,e)>-1}var zfe=Lfe;function Bfe(e,t){var i=this.__data__,r=J2(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}var Ffe=Bfe;function Cf(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Cf.prototype.clear=jfe;Cf.prototype.delete=Ofe;Cf.prototype.get=Nfe;Cf.prototype.has=zfe;Cf.prototype.set=Ffe;var Q2=Cf,Ufe=Hd(Po,"Map"),Zg=Ufe;function Vfe(){this.size=0,this.__data__={hash:new PD,map:new(Zg||Q2),string:new PD}}var Hfe=Vfe;function Gfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Wfe=Gfe;function qfe(e,t){var i=e.__data__;return Wfe(t)?i[typeof t=="string"?"string":"hash"]:i.map}var $2=qfe;function Yfe(e){var t=$2(this,e).delete(e);return this.size-=t?1:0,t}var Kfe=Yfe;function Xfe(e){return $2(this,e).get(e)}var Jfe=Xfe;function Qfe(e){return $2(this,e).has(e)}var $fe=Qfe;function Zfe(e,t){var i=$2(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}var eme=Zfe;function Ef(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Ef.prototype.clear=Hfe;Ef.prototype.delete=Kfe;Ef.prototype.get=Jfe;Ef.prototype.has=$fe;Ef.prototype.set=eme;var Z2=Ef,tme="Expected a function";function MM(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tme);var i=function(){var r=arguments,n=t?t.apply(this,r):r[0],a=i.cache;if(a.has(n))return a.get(n);var c=e.apply(this,r);return i.cache=a.set(n,c)||a,c};return i.cache=new(MM.Cache||Z2),i}MM.Cache=Z2;var ime=MM,rme=500;function nme(e){var t=ime(e,function(r){return i.size===rme&&i.clear(),r}),i=t.cache;return t}var ame=nme,ome=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sme=/\\(\\)?/g,lme=ame(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ome,function(i,r,n,a){t.push(n?a.replace(sme,"$1"):r||i)}),t}),cme=lme;function ume(e){return e==null?"":Rde(e)}var dme=ume;function hme(e,t){return Ss(e)?e:ufe(e,t)?[e]:cme(dme(e))}var Tf=hme;function pme(e){if(typeof e=="string"||Kv(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ew=pme;function fme(e,t){t=Tf(t,e);for(var i=0,r=t.length;e!=null&&i<r;)e=e[ew(t[i++])];return i&&i==r?e:void 0}var OF=fme;function mme(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}var jM=mme,kD=qa?qa.isConcatSpreadable:void 0;function gme(e){return Ss(e)||EM(e)||!!(kD&&e&&e[kD])}var vme=gme;function RF(e,t,i,r,n){var a=-1,c=e.length;for(i||(i=vme),n||(n=[]);++a<c;){var l=e[a];t>0&&i(l)?t>1?RF(l,t-1,i,r,n):jM(n,l):r||(n[n.length]=l)}return n}var yme=RF;function bme(e){var t=e==null?0:e.length;return t?yme(e,1):[]}var xme=bme;function wme(e){return Nhe(Xhe(e,void 0,xme),e+"")}var NF=wme,_me=DF(Object.getPrototypeOf,Object),IM=_me,Sme="[object Object]",Cme=Function.prototype,Eme=Object.prototype,LF=Cme.toString,Tme=Eme.hasOwnProperty,Ame=LF.call(Object);function Mme(e){if(!kl(e)||Ud(e)!=Sme)return!1;var t=IM(e);if(t===null)return!0;var i=Tme.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&LF.call(i)==Ame}var jme=Mme;function Ime(e,t,i){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),i=i>n?n:i,i<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(n);++r<n;)a[r]=e[r+t];return a}var Pme=Ime;function kme(){this.__data__=new Q2,this.size=0}var Dme=kme;function Ome(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var Rme=Ome;function Nme(e){return this.__data__.get(e)}var Lme=Nme;function zme(e){return this.__data__.has(e)}var Bme=zme,Fme=200;function Ume(e,t){var i=this.__data__;if(i instanceof Q2){var r=i.__data__;if(!Zg||r.length<Fme-1)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new Z2(r)}return i.set(e,t),this.size=i.size,this}var Vme=Ume;function Af(e){var t=this.__data__=new Q2(e);this.size=t.size}Af.prototype.clear=Dme;Af.prototype.delete=Rme;Af.prototype.get=Lme;Af.prototype.has=Bme;Af.prototype.set=Vme;var A1=Af;function Hme(e,t){return e&&Xv(t,AM(t),e)}var Gme=Hme;function Wme(e,t){return e&&Xv(t,Zu(t),e)}var qme=Wme,zF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,DD=zF&&typeof module=="object"&&module&&!module.nodeType&&module,Yme=DD&&DD.exports===zF,OD=Yme?Po.Buffer:void 0,RD=OD?OD.allocUnsafe:void 0;function Kme(e,t){if(t)return e.slice();var i=e.length,r=RD?RD(i):new e.constructor(i);return e.copy(r),r}var Xme=Kme;function Jme(e,t){for(var i=-1,r=e==null?0:e.length,n=0,a=[];++i<r;){var c=e[i];t(c,i,e)&&(a[n++]=c)}return a}var Qme=Jme;function $me(){return[]}var BF=$me,Zme=Object.prototype,ege=Zme.propertyIsEnumerable,ND=Object.getOwnPropertySymbols,tge=ND?function(e){return e==null?[]:(e=Object(e),Qme(ND(e),function(t){return ege.call(e,t)}))}:BF,PM=tge;function ige(e,t){return Xv(e,PM(e),t)}var rge=ige,nge=Object.getOwnPropertySymbols,age=nge?function(e){for(var t=[];e;)jM(t,PM(e)),e=IM(e);return t}:BF,FF=age;function oge(e,t){return Xv(e,FF(e),t)}var sge=oge;function lge(e,t,i){var r=t(e);return Ss(e)?r:jM(r,i(e))}var UF=lge;function cge(e){return UF(e,AM,PM)}var b3=cge;function uge(e){return UF(e,Zu,FF)}var VF=uge,dge=Hd(Po,"DataView"),x3=dge,hge=Hd(Po,"Promise"),w3=hge,pge=Hd(Po,"Set"),_3=pge,LD="[object Map]",fge="[object Object]",zD="[object Promise]",BD="[object Set]",FD="[object WeakMap]",UD="[object DataView]",mge=Vd(x3),gge=Vd(Zg),vge=Vd(w3),yge=Vd(_3),bge=Vd(y3),Ru=Ud;(x3&&Ru(new x3(new ArrayBuffer(1)))!=UD||Zg&&Ru(new Zg)!=LD||w3&&Ru(w3.resolve())!=zD||_3&&Ru(new _3)!=BD||y3&&Ru(new y3)!=FD)&&(Ru=function(e){var t=Ud(e),i=t==fge?e.constructor:void 0,r=i?Vd(i):"";if(r)switch(r){case mge:return UD;case gge:return LD;case vge:return zD;case yge:return BD;case bge:return FD}return t});var ev=Ru,xge=Object.prototype,wge=xge.hasOwnProperty;function _ge(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&wge.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var Sge=_ge,Cge=Po.Uint8Array,ix=Cge;function Ege(e){var t=new e.constructor(e.byteLength);return new ix(t).set(new ix(e)),t}var kM=Ege;function Tge(e,t){var i=t?kM(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var Age=Tge,Mge=/\w*$/;function jge(e){var t=new e.constructor(e.source,Mge.exec(e));return t.lastIndex=e.lastIndex,t}var Ige=jge,VD=qa?qa.prototype:void 0,HD=VD?VD.valueOf:void 0;function Pge(e){return HD?Object(HD.call(e)):{}}var kge=Pge;function Dge(e,t){var i=t?kM(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var Oge=Dge,Rge="[object Boolean]",Nge="[object Date]",Lge="[object Map]",zge="[object Number]",Bge="[object RegExp]",Fge="[object Set]",Uge="[object String]",Vge="[object Symbol]",Hge="[object ArrayBuffer]",Gge="[object DataView]",Wge="[object Float32Array]",qge="[object Float64Array]",Yge="[object Int8Array]",Kge="[object Int16Array]",Xge="[object Int32Array]",Jge="[object Uint8Array]",Qge="[object Uint8ClampedArray]",$ge="[object Uint16Array]",Zge="[object Uint32Array]";function eve(e,t,i){var r=e.constructor;switch(t){case Hge:return kM(e);case Rge:case Nge:return new r(+e);case Gge:return Age(e,i);case Wge:case qge:case Yge:case Kge:case Xge:case Jge:case Qge:case $ge:case Zge:return Oge(e,i);case Lge:return new r;case zge:case Uge:return new r(e);case Bge:return Ige(e);case Fge:return new r;case Vge:return kge(e)}}var tve=eve;function ive(e){return typeof e.constructor=="function"&&!CM(e)?xhe(IM(e)):{}}var rve=ive,nve="[object Map]";function ave(e){return kl(e)&&ev(e)==nve}var ove=ave,GD=Hp&&Hp.isMap,sve=GD?TM(GD):ove,lve=sve,cve="[object Set]";function uve(e){return kl(e)&&ev(e)==cve}var dve=uve,WD=Hp&&Hp.isSet,hve=WD?TM(WD):dve,pve=hve,fve=1,mve=2,gve=4,HF="[object Arguments]",vve="[object Array]",yve="[object Boolean]",bve="[object Date]",xve="[object Error]",GF="[object Function]",wve="[object GeneratorFunction]",_ve="[object Map]",Sve="[object Number]",WF="[object Object]",Cve="[object RegExp]",Eve="[object Set]",Tve="[object String]",Ave="[object Symbol]",Mve="[object WeakMap]",jve="[object ArrayBuffer]",Ive="[object DataView]",Pve="[object Float32Array]",kve="[object Float64Array]",Dve="[object Int8Array]",Ove="[object Int16Array]",Rve="[object Int32Array]",Nve="[object Uint8Array]",Lve="[object Uint8ClampedArray]",zve="[object Uint16Array]",Bve="[object Uint32Array]",bi={};bi[HF]=bi[vve]=bi[jve]=bi[Ive]=bi[yve]=bi[bve]=bi[Pve]=bi[kve]=bi[Dve]=bi[Ove]=bi[Rve]=bi[_ve]=bi[Sve]=bi[WF]=bi[Cve]=bi[Eve]=bi[Tve]=bi[Ave]=bi[Nve]=bi[Lve]=bi[zve]=bi[Bve]=!0;bi[xve]=bi[GF]=bi[Mve]=!1;function M1(e,t,i,r,n,a){var c,l=t&fve,o=t&mve,s=t&gve;if(i&&(c=n?i(e,r,n,a):i(e)),c!==void 0)return c;if(!jo(e))return e;var u=Ss(e);if(u){if(c=Sge(e),!l)return Che(e,c)}else{var d=ev(e),h=d==GF||d==wve;if(tx(e))return Xme(e,l);if(d==WF||d==HF||h&&!n){if(c=o||h?{}:rve(e),!l)return o?sge(e,qme(c,e)):rge(e,Gme(c,e))}else{if(!bi[d])return n?e:{};c=tve(e,d,l)}}a||(a=new A1);var p=a.get(e);if(p)return p;a.set(e,c),pve(e)?e.forEach(function(g){c.add(M1(g,t,i,g,e,a))}):lve(e)&&e.forEach(function(g,v){c.set(v,M1(g,t,i,v,e,a))});var m=s?o?VF:b3:o?Zu:AM,f=u?void 0:m(e);return zhe(f||e,function(g,v){f&&(v=g,g=e[v]),_M(c,v,M1(g,t,i,v,e,a))}),c}var qF=M1,Fve=1,Uve=4;function Vve(e){return qF(e,Fve|Uve)}var tw=Vve,Hve="__lodash_hash_undefined__";function Gve(e){return this.__data__.set(e,Hve),this}var Wve=Gve;function qve(e){return this.__data__.has(e)}var Yve=qve;function rx(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Z2;++t<i;)this.add(e[t])}rx.prototype.add=rx.prototype.push=Wve;rx.prototype.has=Yve;var Kve=rx;function Xve(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}var Jve=Xve;function Qve(e,t){return e.has(t)}var $ve=Qve,Zve=1,e0e=2;function t0e(e,t,i,r,n,a){var c=i&Zve,l=e.length,o=t.length;if(l!=o&&!(c&&o>l))return!1;var s=a.get(e),u=a.get(t);if(s&&u)return s==t&&u==e;var d=-1,h=!0,p=i&e0e?new Kve:void 0;for(a.set(e,t),a.set(t,e);++d<l;){var m=e[d],f=t[d];if(r)var g=c?r(f,m,d,t,e,a):r(m,f,d,e,t,a);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!Jve(t,function(v,S){if(!$ve(p,S)&&(m===v||n(m,v,i,r,a)))return p.push(S)})){h=!1;break}}else if(!(m===f||n(m,f,i,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var YF=t0e;function i0e(e){var t=-1,i=Array(e.size);return e.forEach(function(r,n){i[++t]=[n,r]}),i}var r0e=i0e;function n0e(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i}var a0e=n0e,o0e=1,s0e=2,l0e="[object Boolean]",c0e="[object Date]",u0e="[object Error]",d0e="[object Map]",h0e="[object Number]",p0e="[object RegExp]",f0e="[object Set]",m0e="[object String]",g0e="[object Symbol]",v0e="[object ArrayBuffer]",y0e="[object DataView]",qD=qa?qa.prototype:void 0,oS=qD?qD.valueOf:void 0;function b0e(e,t,i,r,n,a,c){switch(i){case y0e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v0e:return!(e.byteLength!=t.byteLength||!a(new ix(e),new ix(t)));case l0e:case c0e:case h0e:return wM(+e,+t);case u0e:return e.name==t.name&&e.message==t.message;case p0e:case m0e:return e==t+"";case d0e:var l=r0e;case f0e:var o=r&o0e;if(l||(l=a0e),e.size!=t.size&&!o)return!1;var s=c.get(e);if(s)return s==t;r|=s0e,c.set(e,t);var u=YF(l(e),l(t),r,n,a,c);return c.delete(e),u;case g0e:if(oS)return oS.call(e)==oS.call(t)}return!1}var x0e=b0e,w0e=1,_0e=Object.prototype,S0e=_0e.hasOwnProperty;function C0e(e,t,i,r,n,a){var c=i&w0e,l=b3(e),o=l.length,s=b3(t),u=s.length;if(o!=u&&!c)return!1;for(var d=o;d--;){var h=l[d];if(!(c?h in t:S0e.call(t,h)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var f=!0;a.set(e,t),a.set(t,e);for(var g=c;++d<o;){h=l[d];var v=e[h],S=t[h];if(r)var x=c?r(S,v,h,t,e,a):r(v,S,h,e,t,a);if(!(x===void 0?v===S||n(v,S,i,r,a):x)){f=!1;break}g||(g=h=="constructor")}if(f&&!g){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof _=="function"&&_ instanceof _)&&(f=!1)}return a.delete(e),a.delete(t),f}var E0e=C0e,T0e=1,YD="[object Arguments]",KD="[object Array]",uy="[object Object]",A0e=Object.prototype,XD=A0e.hasOwnProperty;function M0e(e,t,i,r,n,a){var c=Ss(e),l=Ss(t),o=c?KD:ev(e),s=l?KD:ev(t);o=o==YD?uy:o,s=s==YD?uy:s;var u=o==uy,d=s==uy,h=o==s;if(h&&tx(e)){if(!tx(t))return!1;c=!0,u=!1}if(h&&!u)return a||(a=new A1),c||PF(e)?YF(e,t,i,r,n,a):x0e(e,t,o,i,r,n,a);if(!(i&T0e)){var p=u&&XD.call(e,"__wrapped__"),m=d&&XD.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,g=m?t.value():t;return a||(a=new A1),n(f,g,i,r,a)}}return h?(a||(a=new A1),E0e(e,t,i,r,n,a)):!1}var j0e=M0e;function KF(e,t,i,r,n){return e===t?!0:e==null||t==null||!kl(e)&&!kl(t)?e!==e&&t!==t:j0e(e,t,i,r,KF,n)}var I0e=KF;function P0e(e,t){return e!=null&&t in Object(e)}var k0e=P0e;function D0e(e,t,i){t=Tf(t,e);for(var r=-1,n=t.length,a=!1;++r<n;){var c=ew(t[r]);if(!(a=e!=null&&i(e,c)))break;e=e[c]}return a||++r!=n?a:(n=e==null?0:e.length,!!n&&SM(n)&&xM(c,n)&&(Ss(e)||EM(e)))}var O0e=D0e;function R0e(e,t){return e!=null&&O0e(e,t,k0e)}var N0e=R0e,L0e=function(){return Po.Date.now()},sS=L0e,z0e="Expected a function",B0e=Math.max,F0e=Math.min;function U0e(e,t,i){var r,n,a,c,l,o,s=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(z0e);t=SD(t)||0,jo(i)&&(u=!!i.leading,d="maxWait"in i,a=d?B0e(SD(i.maxWait)||0,t):a,h="trailing"in i?!!i.trailing:h);function p(w){var C=r,E=n;return r=n=void 0,s=w,c=e.apply(E,C),c}function m(w){return s=w,l=setTimeout(v,t),u?p(w):c}function f(w){var C=w-o,E=w-s,A=t-C;return d?F0e(A,a-E):A}function g(w){var C=w-o,E=w-s;return o===void 0||C>=t||C<0||d&&E>=a}function v(){var w=sS();if(g(w))return S(w);l=setTimeout(v,f(w))}function S(w){return l=void 0,h&&r?p(w):(r=n=void 0,c)}function x(){l!==void 0&&clearTimeout(l),s=0,r=o=n=l=void 0}function b(){return l===void 0?c:S(sS())}function _(){var w=sS(),C=g(w);if(r=arguments,n=this,o=w,C){if(l===void 0)return m(o);if(d)return clearTimeout(l),l=setTimeout(v,t),p(o)}return l===void 0&&(l=setTimeout(v,t)),c}return _.cancel=x,_.flush=b,_}var tv=U0e;function V0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var H0e=V0e;function G0e(e,t){return e>t}var W0e=G0e;function q0e(e,t){return t.length<2?e:OF(e,Pme(t,0,-1))}var Y0e=q0e;function K0e(e,t){return I0e(e,t)}var DM=K0e;function X0e(e,t,i){for(var r=-1,n=e.length;++r<n;){var a=e[r],c=t(a);if(c!=null&&(l===void 0?c===c&&!Kv(c):i(c,l)))var l=c,o=a}return o}var J0e=X0e;function Q0e(e){return e&&e.length?J0e(e,CF,W0e):void 0}var $0e=Q0e;function Z0e(e,t){return t=Tf(t,e),e=Y0e(e,t),e==null||delete e[ew(H0e(t))]}var eye=Z0e;function tye(e){return jme(e)?void 0:e}var iye=tye,rye=1,nye=2,aye=4,oye=NF(function(e,t){var i={};if(e==null)return i;var r=!1;t=_F(t,function(a){return a=Tf(a,e),r||(r=a.length>1),a}),Xv(e,VF(e),i),r&&(i=qF(i,rye|nye|aye,iye));for(var n=t.length;n--;)eye(i,t[n]);return i}),S3=oye;function sye(e,t,i,r){if(!jo(e))return e;t=Tf(t,e);for(var n=-1,a=t.length,c=a-1,l=e;l!=null&&++n<a;){var o=ew(t[n]),s=i;if(o==="__proto__"||o==="constructor"||o==="prototype")return e;if(n!=c){var u=l[o];s=r?r(u,o,l):void 0,s===void 0&&(s=jo(u)?u:xM(t[n+1])?[]:{})}_M(l,o,s),l=l[o]}return e}var lye=sye;function cye(e,t,i){for(var r=-1,n=t.length,a={};++r<n;){var c=t[r],l=OF(e,c);i(l,c)&&lye(a,Tf(c,e),l)}return a}var uye=cye;function dye(e,t){return uye(e,t,function(i,r){return N0e(e,r)})}var hye=dye,pye=NF(function(e,t){return e==null?{}:hye(e,t)}),fs=pye,fye="Expected a function";function mye(e,t,i){var r=!0,n=!0;if(typeof e!="function")throw new TypeError(fye);return jo(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),tv(e,t,{leading:r,maxWait:t,trailing:n})}var gye=mye;function XF(e){for(let t of Object.keys(e))e[t]===void 0&&delete e[t];return e}function Ya(e,t){return Object.setPrototypeOf(e,t),e}var vye=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),yye=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),bye=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||iw&&"ontouchend"in document,xye=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,wye=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,_ye=()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)},Sye=()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]},Cye=()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");return e?(window.localStorage.setItem("desktop-app-version",e),e):window.localStorage.getItem("desktop-app-version")??"0.0.6"},JF=vye();JF&&Cye();var iw=yye(),Jv=bye(),Eye=xye(),pa=wye(),JD=_ye(),Tye=Number(Sye());function QF(e){return Array.isArray(e)?e:[e]}function $F(e,t){let i=0;for(;i<e.length&&i<t.length;){if(e[i]<t[i])return-1;if(e[i]>t[i])return 1;i+=1}return i!==t.length?-1:i!==e.length?1:0}function dy(e){return iw?e.metaKey:e.ctrlKey}function Aye(e){return e.wheelDeltaY===0||e.deltaY===0?iw&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120?!1:e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:e.deltaMode===0:e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:e.deltaMode===0}var ht=[],nx={},Pm={},j1={};function ZF(e){ht.includes(e)||ht.push(e)}function yp(e){delete nx[e.pointerId];for(let t=0;t<ht.length;t++)if(ht[t].pointerId===e.pointerId){ht.splice(t,1);break}}function Mye(){ht.splice(0,ht.length)}function ax(e){if(e.pointerType!=="touch")return;let t=nx[e.pointerId];t===void 0&&(t={x:0,y:0},nx[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function lS(e){let t=e.pointerId===ht[0].pointerId?ht[1]:ht[0];return nx[t.pointerId]}function eU(e){Pm[e.key]=!0,j1[e.key]=j1[e.key]===void 0?1:j1[e.key]+1}function tU(e){if(iw&&Pm.Meta)for(let t in Pm)Pm[t]=!1;else Pm[e.key]=!1;j1={}}function jye(e){e.addEventListener("pointerdown",ZF,!0),e.addEventListener("pointerdown",ax,!0),e.addEventListener("pointermove",ax,!0),e.addEventListener("pointerup",yp,!0),e.addEventListener("pointercancel",yp,!0),e.addEventListener("pointerleave",yp,!0),window.addEventListener("keydown",eU,!0),window.addEventListener("keyup",tU,!0)}function Iye(e){e.removeEventListener("pointerdown",ZF,!0),e.removeEventListener("pointerdown",ax,!0),e.removeEventListener("pointermove",ax,!0),e.removeEventListener("pointerup",yp,!0),e.removeEventListener("pointercancel",yp,!0),e.removeEventListener("pointerleave",yp,!0),window.removeEventListener("keydown",eU,!0),window.removeEventListener("keyup",tU,!0)}var iU,Pye=new Promise(e=>{iU=e}),hy;function kye(){if(hy)return hy;async function e(){let t="https://unpkg.com/@splinetool/navmesh-wasm@1.9.67/build",i=hu(()=>import("./navmesh-BFd9Mv4x.js"),__vite__mapDeps([])),[r,n]=await Promise.all([i,fetch(`${t}/navmesh.wasm`).then(l=>l.arrayBuffer())]),a=r.default,c=await a({wasmBinary:n});iU(c)}return hy=e(),hy}var rU,Dye=new Promise(e=>{rU=e}),py;function Oye(){if(py)return py;async function e(){let t=await hu(()=>import("./physics-BM4kW-A5.js"),__vite__mapDeps([]));await t.init(),rU(t)}return py=e(),py}var st=class{modifyById(e,t){let i=this;if(i[e]===void 0)throw new Error("not expected");{let r={...i,[e]:t};return Object.setPrototypeOf(r,st.prototype),r}}add(e,t){var i;return((i=this.runOp({type:1,id:e,data:t}))==null?void 0:i.data)??this}runOp(e){let t=this;if(e.type===1){let i=t[e.id],r;i===void 0?r={type:2,id:e.id}:r={type:1,id:e.id,data:i};let{id:n,data:a}=e,c={...t,[n]:a};return Object.setPrototypeOf(c,st.prototype),{data:c,actual:e,reverse:r}}else if(e.type===2){let{id:i}=e,r=t[i];if(r===void 0)return null;{let n={...t};return Object.setPrototypeOf(n,st.prototype),delete n[i],{data:n,actual:e,reverse:{type:1,id:i,data:r}}}}return null}};function OM(e){if(e.deepFreeze!==void 0){e.deepFreeze(e);return}let t=Object.getOwnPropertyNames(e);for(let i of t){let r=e[i];r&&typeof r=="object"&&OM(r)}return Object.freeze(e)}function Rye(e,t){let i=0;for(;i<e.length&&i<t.length;){if(e[i]<t[i])return-1;if(e[i]>t[i])return 1;i+=1}return i!==t.length?-1:i!==e.length?1:0}var nU=class extends Error{};function cS(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function Ec(e,t,i){if(e===void 0?t===void 0?(e=0,t=10):e=t-10:t===void 0&&(t=e+10),e>t){let a=e;e=t,t=a}let r=[],n=1/(i+1);for(let a=0;a<i;a++){let c=e+(t-e)*(a+.75+Math.random()*.5)*n;r.push(c)}return r}function RM(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function Nye(){return typeof process<"u"}function aU(e,t){for(let i of e)t(i.id,i.data)!==!0&&aU(i.children,t)}function oU(e,t){if(t(e.id,e.data)!==!0)for(let i of e.children)oU(i,t)}var $r=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$r.prototype)}deepFreeze(){let e=0;for(;e<this.length;)OM(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let i of e.children)this.fillCaches0(i,e.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let i=this.parent(e);if(i===t)return!0;e=i}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(t)e=t;else return e}return e}isDescendantOf(e,t){for(;e;){let i=this.parent(e);if(i===t)return!0;e=i}return!1}data(e){var t;return(t=this.get(e))==null?void 0:t.data}has(e){return this.childrenOf(e)!==void 0}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){var t;return e===null?this:(t=this.get(e))==null?void 0:t.children}traverseFrom(e,t){if(e===null)this.traverse(t);else{let i=this.get(e);i&&oU(i,t)}}traverse(e){aU(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return e===null?this:this.get(e).children}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let i=this.parent(e),r=this.childrenArray(i),n=r.findIndex(c=>c.id===e);if(n<0)throw new Error("not expected");let a=r[n];return r=[...r],r[n]={...a,data:t},this.modifyArrayBy(i,r)}}modifyArrayBy(e,t){let i=e,r=t;for(;i!==null;){let a=r,c=i;if(i=this.parent(i),i===void 0)throw new Error;r=this.childrenArray(i);let l=r.findIndex(o=>o.id===c);if(l<0)throw new Error;r=[...r],r[l]={...r[l],children:a}}Object.setPrototypeOf(r,$r.prototype);let n=r;return n.fillCaches(),n}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(this.get(e)!==void 0)return!0;for(let i of t)if(this.checkDuplicatedIdRec(i))return!0;return!1}addOp(e){let{parent:t,fi:i,id:r,data:n,children:a}=e;if(t!==null&&this.get(t)===void 0||this.checkDuplicatedIdRec(e))return null;{let c=t,l=this.childrenArray(c),o={fi:i,id:r,data:n,children:a};return l=[...l,o],l.sort((s,u)=>s.fi-u.fi),e.localIndex=l.indexOf(o),{data:this.modifyArrayBy(c,l),actual:e,reverse:{type:8,id:r}}}}deleteOp(e){let{id:t}=e;if(this.get(t)===null)return null;{let i=this.parent(t);if(i===void 0)return null;let r=this.childrenArray(i),n=r.findIndex(c=>c.id===t);e.localIndex=n,r=[...r];let a=r.splice(n,1)[0];return{data:this.modifyArrayBy(i,r),actual:e,reverse:{type:7,...a,parent:i}}}}moveOp(e){let{parent:t,fi:i,id:r}=e;if(t!==null&&this.get(t)===void 0)return this.deleteOp({type:8,id:r});if(t!==null){let d=t;for(;d!==null;){if(d===void 0)throw new Error;if(d===r)throw new nU("cyclic tree");d=this.parent(d)}}let n=this.parent(r);if(n===void 0)return null;let a=n,c=this.childrenArray(n),l=c.findIndex(d=>d.id===r);c=[...c];let o=c.splice(l,1)[0],s=this.modifyArrayBy(n,c);n=t,c=s.childrenArray(n);let u=o.fi;return o={...o,fi:i},c=[...c,o],c.sort((d,h)=>d.fi-h.fi),e.localIndex=c.indexOf(o),s=s.modifyArrayBy(n,c),{data:s,actual:e,reverse:{type:9,parent:a,fi:u,id:r}}}previous(e,t){if(t===null){let r=this.childrenArray(e);return r.length===0?null:r[r.length-1].id}let i=null;for(let r of this.childrenArray(e)){if(r.id===t)return i;i=r.id}return null}traverseSortNext(e){let t=this.parent(e);if(t!==void 0){let i=this.childrenArray(t),r=i.findIndex(n=>n.id===e)+1;if(r<i.length)return i[r].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(t!==void 0){let i=this.childrenArray(t),r=i.findIndex(n=>n.id===e)-1;return r>=0?this.traverseSortPrevious(i[r].id):t}}getAllSorted(e){let t=[];for(let i of e){let r=this.getWithSortKey(i.id);r!==void 0&&t.push({...i,...r})}t.sort((i,r)=>Rye(i.sortKey,r.sortKey));for(let i of t)delete i.sortKey;return t}getWithSortKey(e){var t=e;let i=[],r=this.get(t),n=r;if(r!==void 0){for(;t;)i.splice(0,0,r.fi),t=this.parent(t),t!==null&&(r=this.get(t));return{...n,sortKey:i}}}insertBeforeHelper(e,t,i){return this.insertAfterHelper(e,this.previous(e,t),i)}insertAfterHelper(e,t,i){let r=this.childrenArray(e);if(t===null){if(r.length===0)return Ec(0,i,i);{let n=r[0].fi;return Ec(n-i,n,i)}}else{let n=this.get(t);if(n===void 0||this.parent(t)!==e)throw new Error("illegal args");let a=r.find(c=>c.fi>n.fi);if(a===void 0){let c=r[r.length-1].fi;return Ec(c,c+i,i)}else return Ec(n.fi,a.fi,i)}}},ox;(e=>{function t(i,r){if(r.type!==0)return null;if(Array.isArray(i)){let n=r.props,a={},c=[...i],l=!1;if(n)for(let o of Object.keys(n)){let s=parseInt(o);if(isNaN(s))throw new Error("wrong index");a[o]=c[s],c[s]=n[o],l=!0}return l?{data:c,actual:r,reverse:{type:0,props:a}}:null}else{let n=r.props,a={},c={...i},l=!1;if(n)for(let o of Object.keys(n)){a[o]=c[o];let s=n[o];s===void 0?delete c[o]:c[o]=s,l=!0}return l?{data:c,actual:r,reverse:{type:0,props:a}}:null}}e.runOp=t})(ox||(ox={}));var Ze=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ze.prototype)}deepFreeze(){let e=0;for(;e<this.length;)OM(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){var t;return(t=this.get(e))==null?void 0:t.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let i=this,r=i.findIndex(a=>a.id===e);if(r<0)throw new Error("not expected");let n=i[r];return i=[...i],i[r]={...n,data:t},this.modifyArrayBy(i)}}modifyArrayBy(e){Object.setPrototypeOf(e,Ze.prototype);let t=e;return Nye()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:i,data:r}=e,n=this,a={fi:t,id:i,data:r};return n=[...n,a],n.sort((c,l)=>c.fi-l.fi),e.localIndex=n.indexOf(a),{data:this.modifyArrayBy(n),actual:e,reverse:{type:5,id:i}}}deleteOp(e){let{id:t}=e,i=this,r=i.findIndex(a=>a.id===t);if(r===-1)return null;e.localIndex=r,i=[...i];let n=i.splice(r,1)[0];return{data:this.modifyArrayBy(i),actual:e,reverse:{type:4,...n}}}moveOp(e){let{fi:t,id:i}=e,r=this;r=[...r];let n=r.findIndex(l=>l.id===i);if(n===-1)return null;let a=r[n].fi,c={...r[n],fi:t};return r[n]=c,r.sort((l,o)=>l.fi-o.fi),e.localIndex=r.indexOf(c),{data:this.modifyArrayBy(r),actual:e,reverse:{type:6,fi:a,id:i}}}previous(e){if(e===null)return this.length===0?null:this[this.length-1].id;let t=null;for(let i of this){if(i.id===e)return t;t=i.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let i=this;if(e===null){if(i.length===0)return Ec(0,t,t);{let r=i[0].fi;return Ec(r-t,r,t)}}else{let r=this.get(e);if(r===void 0)throw new Error("illegal args");let n=i.find(a=>a.fi>r.fi);if(n===void 0){let a=i[i.length-1].fi;return Ec(a,a+t,t)}else return Ec(r.fi,n.fi,t)}}};function Gp(e){return e&&typeof e=="object"&&e instanceof cr}var cr=class{unusedFunOverridesTable(t){}runOp(t){let i=[],r=this,n=0,a={};for(;n<t.path.length;){if(i.push(r),r=r===void 0?void 0:r[t.path[n]],r!==void 0&&!Gp(r))return null;n+=1}r=r?cS(r):new cr;for(let[o,s]of Object.entries(t.props)){let u=r[o];a[o]=u,s===void 0?delete r[o]:r[o]=s}for(;n>0;){if(Object.keys(r).length===0){let o=i[n-1];o&&(r=cS(o),delete r[t.path[n-1]])}else{let o=i[n-1];if(o){let s=cS(o);s[t.path[n-1]]=r,r=s}else{let s=new cr;s[t.path[n-1]]=r,r=s}}n-=1}let c=Object.setPrototypeOf(r,cr.prototype),l={...t,props:a};return{data:c,actual:t,reverse:l}}},qc;(e=>{function t(n,a){return iv(n,a)??n}e.apply=t;function i(n,a){return LM(n,a)}e.merge=i;function r(n,a){let c=0,l=a.path,o=n;for(;c<l.length&&o!==void 0;){if(o=br.zoomOnce(o,l[c]),o===void 0)return a;if(!Gp(o))return;c+=1}if(o===void 0)return a;if(Gp(o))if(a.type===0){let s={...a.props};for(let u of Object.keys(o))delete s[u];return{...a,props:s}}else if(a.type===1||a.type===4||a.type===7){let s=NM([a],o);return s?(console.log(s),s):a}else return a}e.filterOp=r})(qc||(qc={}));function NM(e,t){if(t===void 0)return;let i=!1,r=e.map(n=>{let a=n.id,c=iv(n.data,t[a]);if(i=i||c!==void 0,c===void 0&&(c=n.data),n.children){let l=NM(n.children,t);return l!==void 0?i=!0:l=n.children,{...n,id:a,data:c,children:l}}else return{...n,id:a,data:c}});if(i)return r}function Lye(e,t){if(t===void 0)return;let i=!1,r=e.map(n=>{let a=n.id,c=iv(n.data,t[a]);return i=i||c!==void 0,c===void 0&&(c=n.data),{...n,id:a,data:c}});if(i)return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}function iv(e,t){if(!Gp(t))return t;if(e instanceof $r){let i=NM(e,t);return i!==void 0&&Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}else{if(e instanceof Ze)return Lye(e,t);if(Array.isArray(e)){let i=!1,r=e.map((n,a)=>{let c=iv(n,t[a]);return i=i||c!==void 0,c===void 0&&(c=n),c});return i?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}else{if(e instanceof cr)return LM(e,t);if(e&&typeof e=="object"){let i={},r=!1;for(let[n,a]of Object.entries(e)){let c=iv(a,t[n]);r=r||c!==void 0,c===void 0&&(c=a),i[n]=c}return r?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}}}}function LM(e,t){if(e===void 0)return t;if(t===void 0)return e;if(!Gp(t))return t;if(!Gp(e))return qc.apply(e,t);let i=new Set;for(let n of Object.keys(e))i.add(n);for(let n of Object.keys(t))i.add(n);let r=new cr;for(let n of i){let a=LM(e===void 0?void 0:e[n],t===void 0?void 0:t[n]);r[n]=a}return r}function zye(e,t){let i={cur:[],result:[],len:0};return e=rv(e,t,i)??e,[e,i.result]}function sx(e,t){return e===null?null:(e.cur[e.len]=t,e.len+=1,e)}function lx(e){e&&(e.len-=1)}function Bye(e){if(e===null)return null;e.result.push(e.cur.slice(0,e.len))}function sU(e,t,i){let r=!1,n=e.map(a=>{let c=a.id,l=t[c];if(l!==void 0&&typeof l=="string"&&(r=!0,c=l,i!==null))throw new Error("not supported");let o=rv(a.data,t,sx(i,c));lx(i),r=r||o!==void 0,o===void 0&&(o=a.data);let s=sU(a.children,t,i);return s!==void 0?r=!0:s=a.children,{...a,id:c,data:o,children:s}});if(r)return n}function Fye(e,t,i){let r=!1,n=e.map(a=>{let c=a.id,l=t[c];if(l!==void 0&&typeof l=="string"&&(r=!0,c=l,i!==null))throw new Error("not supported");let o=rv(a.data,t,sx(i,c));return lx(i),r=r||o!==void 0,o===void 0&&(o=a.data),{...a,id:c,data:o}});if(r)return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}function rv(e,t,i){if(e instanceof $r){let r=sU(e,t,i);return r!==void 0&&Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}else{if(e instanceof Ze)return Fye(e,t,i);if(Array.isArray(e)){let r=!1,n=e.map((a,c)=>{let l=rv(a,t,sx(i,c));return lx(i),r=r||l!==void 0,l===void 0&&(l=a),l});return r?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else if(e&&typeof e=="object"&&!RM(e)){let r={},n=!1;for(let[a,c]of Object.entries(e))if(a!=="name"&&a!=="variableId"){let l=t[a];if(typeof l=="string"){if(i!==null)throw new Error("not supported");n=!0,a=l}let o=rv(c,t,sx(i,a));lx(i),n=n||o!==void 0,o===void 0&&(o=c),r[a]=o}else r[a]=c;return n?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}else if(typeof e=="string"){let r=t[e];return r!==void 0&&Bye(i),r}else return}}var cx;(e=>{function t(i,r){let n=br.zoom(r,i.path);if(typeof n=="object"){let a={};for(let c of Object.keys(i.props))a[c]=n[c];return{...i,props:a}}else return{...i,props:{}}}e.replaceProps=t})(cx||(cx={}));var Or;(e=>{function t(o,s){return{...o,path:o.path.slice(s)}}e.drop=t;function i(o,s){var u;return((u=r(o,s))==null?void 0:u.data)??o}e.applySimple=i;function r(o,s){var h,p;let u=s.path;for(var d=[];;){let m;if(o instanceof cr&&s.type===0&&(m=o.runOp({...s,path:u.slice(d.length)}),m===null&&(m=void 0)),m===void 0&&d.length===u.length&&(o instanceof $r||o instanceof Ze||o instanceof st?m=o.runOp(s):m=ox.runOp(o,s)),m!==void 0)if(m!==null){let v=m.data;for(let S=d.length-1;S>=0;S--){let x=u[S],b=d[S];if(b instanceof $r){if(typeof x=="number")throw new Error("illegal arg");v=b.modifyById(x,v)}else if(b instanceof Ze){if(typeof x=="number")throw new Error("illegal arg");v=b.modifyById(x,v)}else if(b instanceof st){if(typeof x=="number")throw new Error("illegal arg");v=b.modifyById(x,v)}else if(b instanceof cr){let _={...b,[x]:v};v=Object.setPrototypeOf(_,cr.prototype)}else if(typeof b=="object")if(Array.isArray(b)){if(typeof x=="string"&&(x=parseInt(x),isNaN(x)))throw new Error("Invalid path");let _=v;v=[...b],v[x]=_}else v={...b,[x]:v};else return null}return{data:v,actual:{...m.actual,path:u},reverse:{...m.reverse,path:u}}}else return null;let f=u[d.length],g;if(o instanceof $r){if(typeof f=="number")throw new Error("");g=(h=o.get(f))==null?void 0:h.data}else if(o instanceof Ze){if(typeof f=="number")throw new Error("");g=(p=o.get(f))==null?void 0:p.data}else o!==null&&(g=o[f]);if(g!==void 0)d.push(o),o=g;else return null}}e.apply=r;function n(o,s){for(let u=0;u<o.length&&u<s.length;u++)if(o[u]!==s[u])return!0;return!1}e.pathDisjoint=n;function a(o,s){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(o[u]!==s[u])return!1;return!0}e.pathEq=a;function c(o,s){return n(o.path,s.path)}e.commutative=c;function l(o,s){return o.type===0&&s.type===0&&a(o.path,s.path)?Object.keys(o.props).every(u=>s.props[u]!==void 0):!1}e.subsumed=l})(Or||(Or={}));var C3;(e=>{function t(){return[]}e.empty=t;function i(s,u){let d=[];for(let h of s){let[p,...m]=h.path;p===u&&d.push({...h,path:m})}return d}e.removePrefix=i;function r(s,u){return s.map(d=>({...d,path:[u,...d.path]}))}e.addPrefix=r;function n(s,u){return[...s,...u]}e.concat=n;function a(s,u){return[...s.filter(d=>!u.some(h=>Or.subsumed(d,h))),...u]}e.compress=a;function c(s,u){return s.every(d=>u.every(h=>Or.commutative(d,h)))}e.commutative=c;function l(s,u){for(let d of u){let h=o(s,d);h!==null&&(s=h.data)}return s}e.applyAll=l;function o(s,u){var d=s;let h=[],p=[];for(let m of u)try{if(m.type===3||m.type===5&&m.path[m.path.length-1]==="variables"){let f,g,v;if(m.type===3?(f=br.zoom(d,[...m.path,m.id]),v=Or.apply(d,{...m,type:2})):(f=br.zoom(d,[...m.path,m.id,"value"]),v=Or.apply(d,m)),v!==null){d=v.data;let[S,x]=zye(d,{[m.id]:f});d=S;for(let b=0;b<x.length;b++){let _=x[b],w=_.pop();if(typeof w=="number"){let C=[w];for(let A=b+1;A<x.length;A++){let T=x[A],M=T[T.length-1];if(typeof M=="number"&&br.equal(_,T.slice(0,T.length-1)))C.push(M),x.splice(A,1);else break}let E=br.zoom(d,_);g=E.map((A,T)=>C.includes(T)?m.id:A),f=E,w=_.pop()}else{if(w==="alphaOverride"||w==="alpha"){f/=100;let C=f,E=br.zoom(d,_.slice(0,_.length-2)),A=E.layers.map(T=>T.id===_[_.length-1]?{...T,data:{...T.data,[w]:C}}:T);Object.setPrototypeOf(A,Object.getPrototypeOf(E.layers)),E.layers=A}g=m.id}h.push({type:0,path:_,props:{[w]:f}}),p.push({type:0,path:_,props:{[w]:g}})}p.push(v.reverse),h.push(v.actual)}}else{let f=Or.apply(d,m);f!==null&&(h.push(f.actual),d=f.data,p.push(f.reverse))}}catch(f){if(f instanceof nU)return null;throw f}return{data:d,actual:h,reverse:p.reverse()}}e.apply=o})(C3||(C3={}));var lU=Symbol(),Uye=Symbol(),rw=Symbol(),Qv=class{reportOp(e,t,i=[]){let r=this;if(t===null)return;r._current=t.data;let n=i;for(;!(r instanceof uU);){let a=r._path,c=r._current;if(a!==""&&n.splice(0,0,a),r=r._parent,r===null)return;r.update(a,c)}r.push(n,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let i=t[rw];i&&i(),delete this._children[e]}}}},Vye=class extends Qv{constructor(e,t,i){super(),this._parent=e,this._path=t,this._current=i}update(e,t){if(Array.isArray(this._current)){if(typeof e=="string"&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,ox.runOp(this._current,e),e.path)}},Hye=class extends Qv{constructor(e,t,i){super(),this._parent=e,this._path=t,this._current=i}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,st.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},cU={get(e,t){if(t===rw)return()=>{e._parent=null};if(t===lU)return e._current;if(t===Uye)return e;let{_current:i,_children:r}=e;if(t==="push"&&Array.isArray(i))throw new Error("not supported to expand array");let n=r===void 0?void 0:r[t];if(n!==void 0)return n;let a=i[t],c=nw(e,t,a);return c!==a?(r===void 0&&(r={},e._children=r),r[t]=c,c):a},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let i=e._current,r=Reflect.getOwnPropertyDescriptor(i,t);return r&&{writable:!0,configurable:!0,enumerable:r.enumerable,value:i[t]}}},Gye={...cU,set(e,t,i){let r={type:0,props:{[t]:Qi(i)??i}};return e.deleteChildren(t),e.runOp(r),!0},deleteProperty(e,t){let i={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(i),!0}},Wye={...cU,set(e,t,i){return i===void 0?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:i})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}},zM=class extends Qv{constructor(e,t,i){super(),this._children={},this._parent=e,this._path=t,this._current=i,this[rw]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,i)=>{e(t,this.data(t))})}data(e){var c;let{_current:t,_children:i}=this,r=i===void 0?void 0:i[e];if(r!==void 0)return r;let n=(c=t.get(e))==null?void 0:c.data,a=nw(this,e,n);return a!==n?(i===void 0&&(i={},this._children=i),i[e]=a,a):n}add(e,t,i,r,n){this.runOp({type:7,parent:e,fi:t,id:i,data:r,children:n})}move(e,t,i){this.runOp({type:9,parent:e,fi:t,id:i})}insertAfter(e,t,i){let r=this._current.insertAfterHelper(e,t,i.length);for(let n=0;n<i.length;n++){let a=i[n];this.add(e,r[n],a.id,a.data,a.children)}}insertBefore(e,t,i){let r=this._current.insertBeforeHelper(e,t,i.length);for(let n=0;n<i.length;n++){let a=i[n];this.add(e,r[n],a.id,a.data,a.children)}}moveAfter(e,t,i){let r=this._current.insertAfterHelper(e,t,i.length);for(let n=0;n<i.length;n++){let a=i[n];this.move(e,r[n],a)}}moveBefore(e,t,i){let r=this._current.insertBeforeHelper(e,t,i.length);for(let n=0;n<i.length;n++){let a=i[n];this.move(e,r[n],a)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},BM=class extends Qv{constructor(e,t,i){super(),this._children={},this._parent=e,this._path=t,this._current=i,this[rw]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let i=0;i<t;i++){let r=this._current[i].id,n=this._current[i].fi;e(this.data(this._current[i].id),r,n)}}find(e){let t=this.length;for(let i=0;i<t;i++){let r=this._current[i].id;if(e(this.data(r),r))return this.get(r)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){var c;let{_current:t,_children:i}=this,r=i===void 0?void 0:i[e];if(r!==void 0)return r;let n=(c=t.get(e))==null?void 0:c.data,a=nw(this,e,n);return a!==n?(i===void 0&&(i={},this._children=i),i[e]=a,a):n}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,i){this.runOp({type:4,fi:e,id:t,data:i})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let i=this._current.insertAfterHelper(e,t.length);for(let r=0;r<t.length;r++){let n=t[r];this.add(i[r],n.id,n.data)}}insertBefore(e,t){let i=this._current.insertBeforeHelper(e,t.length);for(let r=0;r<t.length;r++){let n=t[r];this.add(i[r],n.id,n.data)}}moveAfter(e,t){let i=this._current.insertAfterHelper(e,t.length);for(let r=0;r<t.length;r++){let n=t[r];this.move(i[r],n)}}moveBefore(e,t){let i=this._current.insertBeforeHelper(e,t.length);for(let r=0;r<t.length;r++){let n=t[r];this.move(i[r],n)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function uS(e,t,i){if(e.length>0){let r=e[e.length-1];if(r.type===0&&t.type===0&&br.equal(r.path,i)){Object.assign(r.props,t.props);return}}e.push({...t,path:i})}var uU=class extends Qv{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(e!=="")throw new Error("");this._current=t}push(e,t,i,r){uS(this.ts,t,e),uS(this.actual,i,e),uS(this.reverse,r,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function nw(e,t,i){return i instanceof $r?new zM(e,t,i):i instanceof Ze?new BM(e,t,i):i instanceof st?new Proxy(new Hye(e,t,i),Wye):i!==null&&typeof i=="object"?RM(i)?i:new Proxy(new Vye(e,t,i),Gye):i}function dU(e){let t=new uU(e);return[nw(t,"",e),t]}function nv(e,t){let[i,r]=dU(e);return t(i),r.result()}function Qi(e){return e instanceof zM||e instanceof BM?e._current:e!==null&&typeof e=="object"?e[lU]:e}var br;(e=>{function t(a,c){if(c.length===a.length)for(var l=0;l<a.length;){if(a[l]!==c[l])return!1;l+=1}else return!1;return!0}e.equal=t;function i(a,c,l){let o=n(l,a);if(o!==void 0&&typeof o=="object"&&o!==null){let s={...c};return Object.keys(o).forEach(u=>{delete s[u]}),s}else return c}e.removeOverridden=i;function r(a,c){if((a instanceof $r||a instanceof zM)&&typeof c=="string"||(a instanceof Ze||a instanceof BM)&&typeof c=="string")return a.data(c);if(typeof c=="number"&&Array.isArray(a)||typeof c=="string"&&typeof a=="object"&&a!==null)return a[c]}e.zoomOnce=r;function n(a,c,l=0){for(;l<c.length&&a!==void 0;)a=r(a,c[l]),l+=1;return a}e.zoom=n})(br||(br={}));function qye(e,t){let i=[];if(t.length===e.length)for(var r=0;r<e.length;){if(t[r]==="*")i.push(e[r]);else if(e[r]!==t[r])return null;r+=1}else return null;return i}function hi(e,t){let i=[];if(t.length<=e.length)for(var r=0;r<t.length;){if(t[r]==="*")i.push(e[r]);else if(e[r]!==t[r])return null;r+=1}else return null;return i}var hU=class{},QD=class extends hU{constructor(e){super(),this.id=e}},$D=class extends hU{constructor(e){super(),this.data=e}},E3;try{E3=new TextDecoder}catch{}var qe,Yc,de=0,Xn={},Qt,Tc,ka=0,is=0,ua,yl,Ln=[],ei,ZD={useRecords:!1,mapsAsObjects:!0},pU=class{},fU=new pU;fU.name="MessagePack 0xC1";var Wp=!1,ux=class{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(qe)return xU(()=>(A3(),this?this.unpack(e,t):ux.prototype.unpack.call(ZD,e,t)));Yc=t>-1?t:e.length,de=0,is=0,Tc=null,ua=null,qe=e;try{ei=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(i){throw qe=null,e instanceof Uint8Array?i:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof ux){if(Xn=this,this.structures)return Qt=this.structures,fy();(!Qt||Qt.length>0)&&(Qt=[])}else Xn=ZD,(!Qt||Qt.length>0)&&(Qt=[]);return fy()}unpackMultiple(e,t){let i,r=0;try{Wp=!0;let n=e.length,a=this?this.unpack(e,n):ow.unpack(e,n);if(t){for(t(a);de<n;)if(r=de,t(fy())===!1)return}else{for(i=[a];de<n;)r=de,i.push(fy());return i}}catch(n){throw n.lastPosition=r,n.values=i,n}finally{Wp=!1,A3()}}_mergeStructures(e,t){e=e||[];for(let i=0,r=e.length;i<r;i++){let n=e[i];n&&(n.isShared=!0,i>=32&&(n.highByte=i-32>>5))}e.sharedLength=e.length;for(let i in t||[])if(i>=0){let r=e[i],n=t[i];n&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[i]=r),e[i]=n)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function fy(){try{if(!Xn.trusted&&!Wp){let t=Qt.sharedLength||0;t<Qt.length&&(Qt.length=t)}let e=Vi();if(de==Yc)Qt.restoreStructures&&e6(),Qt=null,qe=null,yl&&(yl=null);else if(de>Yc){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}else if(!Wp)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw Qt.restoreStructures&&e6(),A3(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function e6(){for(let e in Qt.restoreStructures)Qt[e]=Qt.restoreStructures[e];Qt.restoreStructures=null}function Vi(){let e=qe[de++];if(e<160)if(e<128){if(e<64)return e;{let t=Qt[e&63]||Xn.getStructures&&mU()[e&63];return t?(t.read||(t.read=FM(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Xn.mapsAsObjects){let t={};for(let i=0;i<e;i++)t[vU()]=Vi();return t}else{let t=new Map;for(let i=0;i<e;i++)t.set(Vi(),Vi());return t}else{e-=144;let t=new Array(e);for(let i=0;i<e;i++)t[i]=Vi();return t}else if(e<192){let t=e-160;if(is>=de)return Tc.slice(de-ka,(de+=t)-ka);if(is==0&&Yc<140){let i=t<16?UM(t):gU(t);if(i!=null)return i}return T3(t)}else{let t;switch(e){case 192:return null;case 193:return ua?(t=Vi(),t>0?ua[1].slice(ua.position1,ua.position1+=t):ua[0].slice(ua.position0,ua.position0-=t)):fU;case 194:return!1;case 195:return!0;case 196:return dS(qe[de++]);case 197:return t=ei.getUint16(de),de+=2,dS(t);case 198:return t=ei.getUint32(de),de+=4,dS(t);case 199:return Su(qe[de++]);case 200:return t=ei.getUint16(de),de+=2,Su(t);case 201:return t=ei.getUint32(de),de+=4,Su(t);case 202:if(t=ei.getFloat32(de),Xn.useFloat32>2){let i=VM[(qe[de]&127)<<1|qe[de+1]>>7];return de+=4,(i*t+(t>0?.5:-.5)>>0)/i}return de+=4,t;case 203:return t=ei.getFloat64(de),de+=8,t;case 204:return qe[de++];case 205:return t=ei.getUint16(de),de+=2,t;case 206:return t=ei.getUint32(de),de+=4,t;case 207:return Xn.int64AsNumber?(t=ei.getUint32(de)*4294967296,t+=ei.getUint32(de+4)):t=ei.getBigUint64(de),de+=8,t;case 208:return ei.getInt8(de++);case 209:return t=ei.getInt16(de),de+=2,t;case 210:return t=ei.getInt32(de),de+=4,t;case 211:return Xn.int64AsNumber?(t=ei.getInt32(de)*4294967296,t+=ei.getUint32(de+4)):t=ei.getBigInt64(de),de+=8,t;case 212:if(t=qe[de++],t==114)return a6(qe[de++]&63);{let i=Ln[t];if(i)return i.read?(de++,i.read(Vi())):i.noBuffer?(de++,i()):i(qe.subarray(de,++de));throw new Error("Unknown extension "+t)}case 213:return t=qe[de],t==114?(de++,a6(qe[de++]&63,qe[de++])):Su(2);case 214:return Su(4);case 215:return Su(8);case 216:return Su(16);case 217:return t=qe[de++],is>=de?Tc.slice(de-ka,(de+=t)-ka):Kye(t);case 218:return t=ei.getUint16(de),de+=2,is>=de?Tc.slice(de-ka,(de+=t)-ka):Xye(t);case 219:return t=ei.getUint32(de),de+=4,is>=de?Tc.slice(de-ka,(de+=t)-ka):Jye(t);case 220:return t=ei.getUint16(de),de+=2,i6(t);case 221:return t=ei.getUint32(de),de+=4,i6(t);case 222:return t=ei.getUint16(de),de+=2,r6(t);case 223:return t=ei.getUint32(de),de+=4,r6(t);default:if(e>=224)return e-256;if(e===void 0){let i=new Error("Unexpected end of MessagePack data");throw i.incomplete=!0,i}throw new Error("Unknown MessagePack token "+e)}}}var Yye=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function FM(e,t){function i(){if(i.count++>2){let n=e.read=new Function("r","return function(){return {"+e.map(a=>Yye.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}}")(Vi);return e.highByte===0&&(e.read=t6(t,e.read)),n()}let r={};for(let n=0,a=e.length;n<a;n++){let c=e[n];r[c]=Vi()}return r}return i.count=0,e.highByte===0?t6(t,i):i}var t6=(e,t)=>function(){let i=qe[de++];if(i===0)return t();let r=e<32?-(e+(i<<5)):e+(i<<5),n=Qt[r]||mU()[r];if(!n)throw new Error("Record id is not defined for "+r);return n.read||(n.read=FM(n,e)),n.read()};function mU(){let e=xU(()=>(qe=null,Xn.getStructures()));return Qt=Xn._mergeStructures(e,Qt)}var T3=aw,Kye=aw,Xye=aw,Jye=aw;function aw(e){let t;if(e<16&&(t=UM(e)))return t;if(e>64&&E3)return E3.decode(qe.subarray(de,de+=e));let i=de+e,r=[];for(t="";de<i;){let n=qe[de++];if(!(n&128))r.push(n);else if((n&224)===192){let a=qe[de++]&63;r.push((n&31)<<6|a)}else if((n&240)===224){let a=qe[de++]&63,c=qe[de++]&63;r.push((n&31)<<12|a<<6|c)}else if((n&248)===240){let a=qe[de++]&63,c=qe[de++]&63,l=qe[de++]&63,o=(n&7)<<18|a<<12|c<<6|l;o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o)}else r.push(n);r.length>=4096&&(t+=jr.apply(String,r),r.length=0)}return r.length>0&&(t+=jr.apply(String,r)),t}function i6(e){let t=new Array(e);for(let i=0;i<e;i++)t[i]=Vi();return t}function r6(e){if(Xn.mapsAsObjects){let t={};for(let i=0;i<e;i++)t[vU()]=Vi();return t}else{let t=new Map;for(let i=0;i<e;i++)t.set(Vi(),Vi());return t}}var jr=String.fromCharCode;function gU(e){let t=de,i=new Array(e);for(let r=0;r<e;r++){let n=qe[de++];if((n&128)>0){de=t;return}i[r]=n}return jr.apply(String,i)}function UM(e){if(e<4)if(e<2){if(e===0)return"";{let t=qe[de++];if((t&128)>1){de-=1;return}return jr(t)}}else{let t=qe[de++],i=qe[de++];if((t&128)>0||(i&128)>0){de-=2;return}if(e<3)return jr(t,i);let r=qe[de++];if((r&128)>0){de-=3;return}return jr(t,i,r)}else{let t=qe[de++],i=qe[de++],r=qe[de++],n=qe[de++];if((t&128)>0||(i&128)>0||(r&128)>0||(n&128)>0){de-=4;return}if(e<6){if(e===4)return jr(t,i,r,n);{let a=qe[de++];if((a&128)>0){de-=5;return}return jr(t,i,r,n,a)}}else if(e<8){let a=qe[de++],c=qe[de++];if((a&128)>0||(c&128)>0){de-=6;return}if(e<7)return jr(t,i,r,n,a,c);let l=qe[de++];if((l&128)>0){de-=7;return}return jr(t,i,r,n,a,c,l)}else{let a=qe[de++],c=qe[de++],l=qe[de++],o=qe[de++];if((a&128)>0||(c&128)>0||(l&128)>0||(o&128)>0){de-=8;return}if(e<10){if(e===8)return jr(t,i,r,n,a,c,l,o);{let s=qe[de++];if((s&128)>0){de-=9;return}return jr(t,i,r,n,a,c,l,o,s)}}else if(e<12){let s=qe[de++],u=qe[de++];if((s&128)>0||(u&128)>0){de-=10;return}if(e<11)return jr(t,i,r,n,a,c,l,o,s,u);let d=qe[de++];if((d&128)>0){de-=11;return}return jr(t,i,r,n,a,c,l,o,s,u,d)}else{let s=qe[de++],u=qe[de++],d=qe[de++],h=qe[de++];if((s&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){de-=12;return}if(e<14){if(e===12)return jr(t,i,r,n,a,c,l,o,s,u,d,h);{let p=qe[de++];if((p&128)>0){de-=13;return}return jr(t,i,r,n,a,c,l,o,s,u,d,h,p)}}else{let p=qe[de++],m=qe[de++];if((p&128)>0||(m&128)>0){de-=14;return}if(e<15)return jr(t,i,r,n,a,c,l,o,s,u,d,h,p,m);let f=qe[de++];if((f&128)>0){de-=15;return}return jr(t,i,r,n,a,c,l,o,s,u,d,h,p,m,f)}}}}}function dS(e){return Xn.copyBuffers?Uint8Array.prototype.slice.call(qe,de,de+=e):qe.subarray(de,de+=e)}function Su(e){let t=qe[de++];if(Ln[t])return Ln[t](qe.subarray(de,de+=e));throw new Error("Unknown extension type "+t)}var n6=new Array(4096);function vU(){let e=qe[de++];if(e>=160&&e<192){if(e=e-160,is>=de)return Tc.slice(de-ka,(de+=e)-ka);if(!(is==0&&Yc<180))return T3(e)}else return de--,Vi();let t=(e<<5^(e>1?ei.getUint16(de):e>0?qe[de]:0))&4095,i=n6[t],r=de,n=de+e-3,a,c=0;if(i&&i.bytes==e){for(;r<n;){if(a=ei.getUint32(r),a!=i[c++]){r=1879048192;break}r+=4}for(n+=3;r<n;)if(a=qe[r++],a!=i[c++]){r=1879048192;break}if(r===n)return de=r,i.string;n-=3,r=de}for(i=[],n6[t]=i,i.bytes=e;r<n;)a=ei.getUint32(r),i.push(a),r+=4;for(n+=3;r<n;)a=qe[r++],i.push(a);let l=e<16?UM(e):gU(e);return l!=null?i.string=l:i.string=T3(e)}var a6=(e,t)=>{var i=Vi();let r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,i.highByte=t);let n=Qt[e];return n&&n.isShared&&((Qt.restoreStructures||(Qt.restoreStructures=[]))[e]=n),Qt[e]=i,i.read=FM(i,r),i.read()},yU=typeof self=="object"?self:global;Ln[0]=()=>{};Ln[0].noBuffer=!0;Ln[101]=()=>{let e=Vi();return(yU[e[0]]||Error)(e[1])};Ln[105]=e=>{let t=ei.getUint32(de-4);yl||(yl=new Map);let i=qe[de],r;i>=144&&i<160||i==220||i==221?r=[]:r={};let n={target:r};yl.set(t,n);let a=Vi();return n.used?Object.assign(r,a):(n.target=a,a)};Ln[112]=e=>{let t=ei.getUint32(de-4),i=yl.get(t);return i.used=!0,i.target};Ln[115]=()=>new Set(Vi());var bU=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");Ln[116]=e=>{let t=e[0],i=bU[t];if(!i)throw new Error("Could not find typed array for code "+t);return new yU[i](Uint8Array.prototype.slice.call(e,1).buffer)};Ln[120]=()=>{let e=Vi();return new RegExp(e[0],e[1])};Ln[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],i=de;de+=t-4,ua=[Vi(),Vi()],ua.position0=0,ua.position1=0;let r=de;de=i;try{return Vi()}finally{de=r}};Ln[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function xU(e){let t=Yc,i=de,r=ka,n=is,a=Tc,c=yl,l=ua,o=new Uint8Array(qe.slice(0,Yc)),s=Qt,u=Qt.slice(0,Qt.length),d=Xn,h=Wp,p=e();return Yc=t,de=i,ka=r,is=n,Tc=a,yl=c,ua=l,qe=o,Wp=h,Qt=s,Qt.splice(0,Qt.length,...u),Xn=d,ei=new DataView(qe.buffer,qe.byteOffset,qe.byteLength),p}function A3(){qe=null,yl=null,Qt=null}function Qye(e){e.unpack?Ln[e.type]=e.unpack:Ln[e.type]=e}var VM=new Array(147);for(let e=0;e<256;e++)VM[e]=+("1e"+Math.floor(45.15-e*.30103));var ow=new ux({useRecords:!1});ow.unpack;ow.unpackMultiple;ow.unpack;var $ye=new Float32Array(1);new Uint8Array($ye.buffer,0,4);var I1;try{I1=new TextEncoder}catch{}var dx,HM,sw=typeof Buffer<"u",hS=sw?Buffer.allocUnsafeSlow:Uint8Array,wU=sw?Buffer:Uint8Array,o6=sw?4294967296:2144337920,Te,Yi,ye=0,No,Lo=null,Zye=/[\u0080-\uFFFF]/,im=Symbol("record-id"),_U=class extends ux{constructor(e){super(e),this.offset=0;let t,i,r,n,a,c=0,l=wU.prototype.utf8Write?function(w,C,E){return Te.utf8Write(w,C,E)}:I1&&I1.encodeInto?function(w,C){return I1.encodeInto(w,Te.subarray(C)).written}:!1,o=this;e||(e={});let s=e&&e.sequential,u=e.structures||e.saveStructures,d=e.maxSharedStructures;if(d==null&&(d=u?32:0),d>8160)throw new Error("Maximum maxSharedStructure is 8160");let h=e.maxOwnStructures;h==null&&(h=u?32:64),s&&!e.saveStructures&&(this.structures=[]);let p=d>32||h+d>64,m=d+64,f=d+h+64;if(f>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let g=[],v=0,S=0;this.pack=this.encode=function(w,C){if(Te||(Te=new hS(8192),Yi=new DataView(Te.buffer,0,8192),ye=0),No=Te.length-10,No-ye<2048?(Te=new hS(Te.length),Yi=new DataView(Te.buffer,0,Te.length),No=Te.length-10,ye=0):ye=ye+7&2147483640,t=ye,a=o.structuredClone?new Map:null,o.bundleStrings?(Lo=["",""],Te[ye++]=214,Te[ye++]=98,Lo.position=ye-t,ye+=4):Lo=null,i=o.structures,i){i.uninitialized&&(i=o._mergeStructures(o.getStructures()));let E=i.sharedLength||0;if(E>d)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let A=0;A<E;A++){let T=i[A];if(!T)continue;let M,j=i.transitions;for(let P=0,I=T.length;P<I;P++){let k=T[P];M=j[k],M||(M=j[k]=Object.create(null)),j=M}j[im]=A+64}c=E}s||(i.nextId=E+64)}r&&(r=!1),n=i||[];try{if(x(w),Lo){Yi.setUint32(Lo.position+t,ye-Lo.position-t);let E=Lo;Lo=null,x(E[0]),x(E[1])}if(o.offset=ye,a&&a.idsToInsert){ye+=a.idsToInsert.length*6,ye>No&&_(ye),o.offset=ye;let E=t1e(Te.subarray(t,ye),a.idsToInsert);return a=null,E}return C&i1e?(Te.start=t,Te.end=ye,Te):Te.subarray(t,ye)}finally{if(i){if(S<10&&S++,v>1e4)i.transitions=null,S=0,v=0,g.length>0&&(g=[]);else if(g.length>0&&!s){for(let E=0,A=g.length;E<A;E++)g[E][im]=0;g=[]}if(r&&o.saveStructures){let E=i.sharedLength||d;i.length>E&&(i=i.slice(0,E));let A=Te.subarray(t,ye);return o.saveStructures(i,c)===!1?(o._mergeStructures(o.getStructures()),o.pack(w)):(c=E,A)}}C&r1e&&(ye=t)}};let x=w=>{ye>No&&(Te=_(ye));var C=typeof w,E;if(C==="string"){let A=w.length;if(Lo&&A>=8&&A<4096){let j=Zye.test(w);Lo[j?0:1]+=w,Te[ye++]=193,x(j?-A:A);return}let T;A<32?T=1:A<256?T=2:A<65536?T=3:T=5;let M=A*3;if(ye+M>No&&(Te=_(ye+M)),A<64||!l){let j,P,I,k=ye+T;for(j=0;j<A;j++)P=w.charCodeAt(j),P<128?Te[k++]=P:P<2048?(Te[k++]=P>>6|192,Te[k++]=P&63|128):(P&64512)===55296&&((I=w.charCodeAt(j+1))&64512)===56320?(P=65536+((P&1023)<<10)+(I&1023),j++,Te[k++]=P>>18|240,Te[k++]=P>>12&63|128,Te[k++]=P>>6&63|128,Te[k++]=P&63|128):(Te[k++]=P>>12|224,Te[k++]=P>>6&63|128,Te[k++]=P&63|128);E=k-ye-T}else E=l(w,ye+T,M);E<32?Te[ye++]=160|E:E<256?(T<2&&Te.copyWithin(ye+2,ye+1,ye+1+E),Te[ye++]=217,Te[ye++]=E):E<65536?(T<3&&Te.copyWithin(ye+3,ye+2,ye+2+E),Te[ye++]=218,Te[ye++]=E>>8,Te[ye++]=E&255):(T<5&&Te.copyWithin(ye+5,ye+3,ye+3+E),Te[ye++]=219,Yi.setUint32(ye,E),ye+=4),ye+=E}else if(C==="number")if(w>>>0===w)w<64?Te[ye++]=w:w<256?(Te[ye++]=204,Te[ye++]=w):w<65536?(Te[ye++]=205,Te[ye++]=w>>8,Te[ye++]=w&255):(Te[ye++]=206,Yi.setUint32(ye,w),ye+=4);else if(w>>0===w)w>=-32?Te[ye++]=256+w:w>=-128?(Te[ye++]=208,Te[ye++]=w+256):w>=-32768?(Te[ye++]=209,Yi.setInt16(ye,w),ye+=2):(Te[ye++]=210,Yi.setInt32(ye,w),ye+=4);else{let A;if((A=this.useFloat32)>0&&w<4294967296&&w>=-2147483648){Te[ye++]=202,Yi.setFloat32(ye,w);let T;if(A<4||(T=w*VM[(Te[ye]&127)<<1|Te[ye+1]>>7])>>0===T){ye+=4;return}else ye--}Te[ye++]=203,Yi.setFloat64(ye,w),ye+=8}else if(C==="object")if(!w)Te[ye++]=192;else{if(a){let T=a.get(w);if(T){if(!T.id){let M=a.idsToInsert||(a.idsToInsert=[]);T.id=M.push(T)}Te[ye++]=214,Te[ye++]=112,Yi.setUint32(ye,T.id),ye+=4;return}else a.set(w,{offset:ye-t})}let A=w.constructor;if(A===Object)b(w,!0);else if(A===Array){E=w.length,E<16?Te[ye++]=144|E:E<65536?(Te[ye++]=220,Te[ye++]=E>>8,Te[ye++]=E&255):(Te[ye++]=221,Yi.setUint32(ye,E),ye+=4);for(let T=0;T<E;T++)x(w[T])}else if(A===Map){E=w.size,E<16?Te[ye++]=128|E:E<65536?(Te[ye++]=222,Te[ye++]=E>>8,Te[ye++]=E&255):(Te[ye++]=223,Yi.setUint32(ye,E),ye+=4);for(let[T,M]of w)x(T),x(M)}else{for(let T=0,M=dx.length;T<M;T++){let j=HM[T];if(w instanceof j){let P=dx[T];if(P.write){P.type&&(Te[ye++]=212,Te[ye++]=P.type,Te[ye++]=0),x(P.write.call(this,w));return}let I=Te,k=Yi,R=ye;Te=null;let O;try{O=P.pack.call(this,w,D=>(Te=I,I=null,ye+=D,ye>No&&_(ye),{target:Te,targetView:Yi,position:ye-D}),x)}finally{I&&(Te=I,Yi=k,ye=R,No=Te.length-10)}O&&(O.length+ye>No&&_(O.length+ye),ye=e1e(O,Te,ye,P.type));return}}b(w,!w.hasOwnProperty)}}else if(C==="boolean")Te[ye++]=w?195:194;else if(C==="bigint"){if(w<BigInt(1)<<BigInt(63)&&w>=-(BigInt(1)<<BigInt(63)))Te[ye++]=211,Yi.setBigInt64(ye,w);else if(w<BigInt(1)<<BigInt(64)&&w>0)Te[ye++]=207,Yi.setBigUint64(ye,w);else if(this.largeBigIntToFloat)Te[ye++]=203,Yi.setFloat64(ye,Number(w));else throw new RangeError(w+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");ye+=8}else if(C==="undefined")this.encodeUndefinedAsNil?Te[ye++]=192:(Te[ye++]=212,Te[ye++]=0,Te[ye++]=0);else if(C==="function")x(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+C)},b=this.useRecords===!1?this.variableMapSize?w=>{let C=Object.keys(w),E=C.length;E<16?Te[ye++]=128|E:E<65536?(Te[ye++]=222,Te[ye++]=E>>8,Te[ye++]=E&255):(Te[ye++]=223,Yi.setUint32(ye,E),ye+=4);let A;for(let T=0;T<E;T++)x(A=C[T]),x(w[A])}:(w,C)=>{Te[ye++]=222;let E=ye-t;ye+=2;let A=0;for(let T in w)(C||w.hasOwnProperty(T))&&(x(T),x(w[T]),A++);Te[E+++t]=A>>8,Te[E+t]=A&255}:w=>{let C=Object.keys(w),E,A=n.transitions||(n.transitions=Object.create(null)),T=0;for(let j=0,P=C.length;j<P;j++){let I=C[j];E=A[I],E||(E=A[I]=Object.create(null),T++),A=E}let M=A[im];if(M)M>=96&&p?(Te[ye++]=((M-=96)&31)+96,Te[ye++]=M>>5):Te[ye++]=M;else{M=n.nextId,M||(M=64),M<m&&this.shouldShareStructure&&!this.shouldShareStructure(C)?(M=n.nextOwnId,M<f||(M=m),n.nextOwnId=M+1):(M>=f&&(M=m),n.nextId=M+1);let j=C.highByte=M>=96&&p?M-96>>5:-1;A[im]=M,n[M-64]=C,M<m?(C.isShared=!0,n.sharedLength=M-63,r=!0,j>=0?(Te[ye++]=(M&31)+96,Te[ye++]=j):Te[ye++]=M):(j>=0?(Te[ye++]=213,Te[ye++]=114,Te[ye++]=(M&31)+96,Te[ye++]=j):(Te[ye++]=212,Te[ye++]=114,Te[ye++]=M),T&&(v+=S*T),g.length>=h&&(g.shift()[im]=0),g.push(A),x(C))}for(let j=0,P=C.length;j<P;j++)x(w[C[j]])},_=w=>{let C;if(w>16777216){if(w-t>o6)throw new Error("Packed buffer would be larger than maximum buffer size");C=Math.min(o6,Math.round(Math.max((w-t)*(w>67108864?1.25:2),4194304)/4096)*4096)}else C=(Math.max(w-t<<2,Te.length-1)>>12)+1<<12;let E=new hS(C);return Yi=new DataView(E.buffer,0,C),Te.copy?Te.copy(E,0,t,w):E.set(Te.slice(t,w)),ye-=t,t=0,No=E.length-10,Te=E}}useBuffer(e){Te=e,Yi=new DataView(Te.buffer,Te.byteOffset,Te.byteLength),ye=0}};HM=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,pU];dx=[{pack(e,t,i){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:n,targetView:a,position:c}=t(6);n[c++]=214,n[c++]=255,a.setUint32(c,r)}else if(r>0&&r<17179869184){let{target:n,targetView:a,position:c}=t(10);n[c++]=215,n[c++]=255,a.setUint32(c,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),a.setUint32(c+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),i(this.onInvalidDate());let{target:n,targetView:a,position:c}=t(3);n[c++]=212,n[c++]=255,n[c++]=255}else{let{target:n,targetView:a,position:c}=t(15);n[c++]=199,n[c++]=12,n[c++]=255,a.setUint32(c,e.getMilliseconds()*1e6),a.setBigInt64(c+4,BigInt(Math.floor(r)))}}},{pack(e,t,i){let r=Array.from(e),{target:n,position:a}=t(this.structuredClone?3:0);this.structuredClone&&(n[a++]=212,n[a++]=115,n[a++]=0),i(r)}},{pack(e,t,i){let{target:r,position:n}=t(this.structuredClone?3:0);this.structuredClone&&(r[n++]=212,r[n++]=101,r[n++]=0),i([e.name,e.message])}},{pack(e,t,i){let{target:r,position:n}=t(this.structuredClone?3:0);this.structuredClone&&(r[n++]=212,r[n++]=120,r[n++]=0),i([e.source,e.flags])}},{pack(e,t){this.structuredClone?s6(e,16,t):l6(sw?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let i=e.constructor;i!==wU&&this.structuredClone?s6(e,bU.indexOf(i.name),t):l6(e,t)}},{pack(e,t){let{target:i,position:r}=t(1);i[r]=193}}];function s6(e,t,i,r){let n=e.byteLength;if(n+1<256){var{target:a,position:c}=i(4+n);a[c++]=199,a[c++]=n+1}else if(n+1<65536){var{target:a,position:c}=i(5+n);a[c++]=200,a[c++]=n+1>>8,a[c++]=n+1&255}else{var{target:a,position:c,targetView:l}=i(7+n);a[c++]=201,l.setUint32(c,n+1),c+=4}a[c++]=116,a[c++]=t,a.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),c)}function l6(e,t){let i=e.byteLength;var r,n;if(i<256){var{target:r,position:n}=t(i+2);r[n++]=196,r[n++]=i}else if(i<65536){var{target:r,position:n}=t(i+3);r[n++]=197,r[n++]=i>>8,r[n++]=i&255}else{var{target:r,position:n,targetView:a}=t(i+5);r[n++]=198,a.setUint32(n,i),n+=4}r.set(e,n)}function e1e(e,t,i,r){let n=e.length;switch(n){case 1:t[i++]=212;break;case 2:t[i++]=213;break;case 4:t[i++]=214;break;case 8:t[i++]=215;break;case 16:t[i++]=216;break;default:n<256?(t[i++]=199,t[i++]=n):n<65536?(t[i++]=200,t[i++]=n>>8,t[i++]=n&255):(t[i++]=201,t[i++]=n>>24,t[i++]=n>>16&255,t[i++]=n>>8&255,t[i++]=n&255)}return t[i++]=r,t.set(e,i),i+=n,i}function t1e(e,t){let i,r=t.length*6,n=e.length-r;for(t.sort((a,c)=>a.offset>c.offset?1:-1);i=t.pop();){let a=i.offset,c=i.id;e.copyWithin(a+r,a,n),r-=6;let l=a+r;e[l++]=214,e[l++]=105,e[l++]=c>>24,e[l++]=c>>16&255,e[l++]=c>>8&255,e[l++]=c&255,n=a}return e}function Mf(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");HM.unshift(e.Class),dx.unshift(e)}Qye(e)}var SU=new _U({useRecords:!1});SU.pack;SU.pack;var i1e=512,r1e=1024,c6=new _U({structuredClone:!0});Mf({Class:st.prototype.constructor,type:1,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,st.prototype),e}});Mf({Class:Ze.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,Ze.prototype),e}});Mf({Class:$r.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,$r.prototype),e}});Mf({Class:QD.prototype.constructor,type:4,write(e){return e.id},read(e){return new QD(e)}});Mf({Class:$D.prototype.constructor,type:5,write(e){return e.data},read(e){return new $D(e)}});Mf({Class:cr.prototype.constructor,type:6,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,cr.prototype),e}});function n1e(e){var t=0;if(e.length===0)return t;for(let i=0;i<e.length;i++){let r=e[i];t=(t<<5)-t+r,t=t&t}return t}function M3(e){if(RM(e))return e;if(Array.isArray(e))return e.map(M3);if(typeof e=="object"&&e!==null){let t={};for(let i of Object.keys(e).sort())t[i]=M3(e[i]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}else return e}var j3;(e=>{function t(n){return c6.pack(n)}e.serialize=t;function i(n){return c6.unpack(n)}e.deserialize=i;function r(n){return n1e(t(M3(n))).toString()}e.checksum=r})(j3||(j3={}));var u6;(e=>{function t(r){return r.type==="Conditional"?r.condition.type==="Distance"?"Distance":"StateChange":r.type}e.toEventUIType=t;function i(r){return r==="Distance"||r==="StateChange"?"Conditional":r}e.fromEventUIType=i})(u6||(u6={}));function d6(e){return e==="MouseDown"||e==="MouseUp"||e==="KeyDown"||e==="KeyUp"||e==="Collision"||e==="Trigger"}var cn={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Particles","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseHover:["Transition","Animation","Particles","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Start:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Conditional:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MousePress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyPress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],GameControl:["Transition","Animation","Audio","Particles","Create","Conditional"],Collision:["Transition","Animation","Audio","Particles","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Trigger:["Transition","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Resize:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],VariableChange:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],API:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],WEBHOOK:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],AIAssistantListener:["SetVariable"],AIAssistantTrigger:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"]},h6;(e=>{function t(r){return r.type==="MouseDown"||r.type==="MouseUp"||r.type==="MousePress"||r.type==="KeyDown"||r.type==="KeyUp"||r.type==="KeyPress"}e.is=t;function i(r){return r==="MouseDown"||r==="MouseUp"||r==="MousePress"?{type:r,mode:"Object",disabled:!1,actions:new Ze}:{type:r,disabled:!1,key:void 0,actions:new Ze}}e.defaultData=i})(h6||(h6={}));var hx;(e=>{function t(i){return{type:"Property",value:[i??null,"position","x"]}}e.propertyDefaultData=t,e.valueDefaultData={type:"Literal",value:0}})(hx||(hx={}));var I3;(e=>{function t(n){return{type:"Comparison",operator:"==",lOperand:hx.propertyDefaultData(n),rOperand:{...hx.valueDefaultData}}}e.comparisonDefaultData=t;function i(n){return{type:"Distance",toObject:n??null,fromObject:n??null,distance:200}}e.distanceDefaultData=i;function r(n,a){return{type:"State",object:n??null,state:a??null}}e.stateDefaultData=r})(I3||(I3={}));var p6;(e=>{function t(i){return i.find(r=>r==="ifActions"||r==="elseActions")!==void 0}e.isConditionalSubActions=t})(p6||(p6={}));var f6;(e=>{function t(r){return r.type==="Conditional"}e.is=t;function i(r){return{type:"Conditional",disabled:!1,inActions:new Ze,outActions:new Ze,condition:I3.distanceDefaultData(r)}}e.defaultData=i})(f6||(f6={}));var m6;(e=>e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new Ze,drop:new Ze}})(m6||(m6={}));var P3;(e=>e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new Ze})(P3||(P3={}));var k3;(e=>e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5})(k3||(k3={}));var g6;(e=>{function t(r){return r.type==="MouseHover"}e.is=t;function i(){return{type:"MouseHover",disabled:!1,actions:new Ze}}e.defaultData=i})(g6||(g6={}));var v6;(e=>{function t(r){return r.type==="Scroll"}e.is=t;function i(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new Ze}}e.defaultData=i})(v6||(v6={}));var y6;(e=>{function t(r){return r.type==="Start"}e.is=t;function i(){return{type:"Start",disabled:!1,actions:new Ze}}e.defaultData=i})(y6||(y6={}));var b6;(e=>{function t(r){return r.type==="Collision"}e.is=t;function i(){return{type:"Collision",disabled:!1,target:"character",actions:new Ze}}e.defaultData=i})(b6||(b6={}));var x6;(e=>{function t(r){return r.type==="Trigger"}e.is=t;function i(r,n){return{type:"Trigger",disabled:!1,target:"all",triggeringObjects:[],actions:new Ze,triggerZone:"box",position:n.toArray(),rotation:[0,0,0],size:r.toArray(),radius:r.length()/2,helperVisible:!0}}e.defaultData=i})(x6||(x6={}));var D3;(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]};function t(c){return c.type==="Resize"}e.is=t;function i(c){return typeof c=="string"?c:"custom"}e.sizeToDevice=i;function r(c){return typeof c=="string"?[...e.defaultSizes[c]]:[...c]}e.deviceToSize=r;function n(){let c={size:"mobile",operator:"<",actions:new Ze},l={size:"tablet",operator:"<",actions:new Ze},o={size:[...e.defaultSizes.custom],operator:"<>",actions:new Ze},s=new Ze;return s.push({id:Ve.generateUUID(),fi:0,data:c},{id:Ve.generateUUID(),fi:1,data:l},{id:Ve.generateUUID(),fi:2,data:o}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:s}}e.defaultData=n;function a(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new Ze}}e.defaultBreakpointData=a})(D3||(D3={}));var O3;(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]};function t(r){return r.type==="VariableChange"}e.is=t;function i(){return{disabled:!1,type:"VariableChange",actions:new Ze,variableId:"",objectId:null,property:"Position X"}}e.defaultData=i})(O3||(O3={}));var w6;(e=>{function t(r){return r.type==="API"}e.is=t;function i(){return{disabled:!1,type:"API",successActions:new Ze,errorActions:new Ze,userAPIId:""}}e.defaultData=i})(w6||(w6={}));var _6;(e=>{function t(r){return r.type==="WEBHOOK"}e.is=t;function i(){return{disabled:!1,type:"WEBHOOK",actions:new Ze,userWebhookId:""}}e.defaultData=i})(_6||(_6={}));var S6;(e=>{function t(r){return r.type==="AIAssistantListener"}e.is=t;function i(){return{disabled:!1,type:"AIAssistantListener",actions:new Ze,analysis:"average",analysisRange:[0,71],analysisSingle:0}}e.defaultData=i})(S6||(S6={}));var C6;(e=>{function t(r){return r.type==="AIAssistantTrigger"}e.is=t;function i(){return{disabled:!1,description:"",type:"AIAssistantTrigger",actions:new Ze}}e.defaultData=i})(C6||(C6={}));var jf="personal camera",ng="a218fcc3-276b-49b9-b485-49037fd14f5f",a1e=2960946,va=5526619,ml;(e=>{function t(m,f){return m[0]===f[0]&&m[1]===f[1]}e.isEqual=t;function i(m,f,g){return[m[0]+(f[0]-m[0])*g,m[1]+(f[1]-m[1])*g]}e.lerp=i;function r(m,f){return[m[0]+f[0],m[1]+f[1]]}e.add=r;function n(m,f){return[m[0]-f[0],m[1]-f[1]]}e.sub=n;function a(m,f){return[m[0]*f[0],m[1]*f[1]]}e.multiply=a;function c(m,f){return[m[0]/f[0],m[1]/f[1]]}e.divide=c;function l(m,f){return Math.pow(f[0]-m[0],2)+Math.pow(f[1]-m[1],2)}e.distanceSquared=l;function o(m,f){return Math.sqrt(l(m,f))}e.distance=o;function s(m,f){return m[0]*f[0]+m[1]*f[1]}e.dot=s;function u(m,f){return[m[0]*f,m[1]*f]}e.scalarMultiply=u;function d(m,f,g){let v=e.sub(f,m),S=e.sub(g,m),x=e.dot(v,S)/e.dot(v,v),b=e.scalarMultiply(v,x);return e.add(m,b)}e.projectionOnto=d;function h(m,f,g){return o(m,d(m,f,g))}e.projectionOntoDistance=h;function p(m,f){return[(m[0]+f[0])*.5,(m[1]+f[1])*.5]}e.center=p})(ml||(ml={}));var gd;(e=>{function t(o,s){return o[0]===s[0]&&o[1]===s[1]&&o[2]===s[2]}e.isEqual=t;function i(o,s){return[o[0]+s[0],o[1]+s[1],o[2]+s[2]]}e.add=i;function r(o,s){return[o[0]-s[0],o[1]-s[1],o[2]-s[2]]}e.sub=r;function n(o,s){return[o[0]/s[0],o[1]/s[1],o[2]/s[2]]}e.div=n;function a(o,s){return[o[0]*s[0],o[1]*s[1],o[2]*s[2]]}e.mul=a;function c(o,s){return Math.hypot(o[0]-s[0],o[1]-s[1],o[2]-s[2])}e.dist=c;function l(o,s,u){return[o[0]+(s[0]-o[0])*u,o[1]+(s[1]-o[1])*u,o[2]+(s[2]-o[2])*u]}e.lerp=l})(gd||(gd={}));var px;(e=>{function t(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]}e.isEqual=t;function i(r,n,a){return[r[0]+(n[0]-r[0])*a,r[1]+(n[1]-r[1])*a,r[2]+(n[2]-r[2])*a,r[3]+(n[3]-r[3])*a]}e.lerp=i})(px||(px={}));var E6;(e=>{let t=180/Math.PI,i=Math.PI/180;function r(l){return typeof l=="number"?l*t:l}function n(l){return typeof l=="number"?l*i:l}function a(l){return[r(l[0]),r(l[1]),r(l[2])]}e.radToDeg=a;function c(l){return[n(l[0]),n(l[1]),n(l[2])]}e.degToRad=c})(E6||(E6={}));var qp;(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function t(n,a){for(let c=0;c<16;c++)if(n[c]!==a[c])return!1;return!0}e.isEqual=t;function i(n){return n??e.identity}e.simplify=i;function r(n,a){let c=a.slice(0);for(var l=0,o=a.length;l<o;l+=3){let s=n[3]*a[l]+n[7]*a[l+1]+n[11]*a[l+2]+n[15];c[l]=(n[0]*a[l]+n[4]*a[l+1]+n[8]*a[l+2]+n[12])/s,c[l+1]=(n[1]*a[l]+n[5]*a[l+1]+n[9]*a[l+2]+n[13])/s,c[l+2]=(n[2]*a[l]+n[6]*a[l+1]+n[10]*a[l+2]+n[14])/s}return c}e.applyMatrix4=r})(qp||(qp={}));var Jr;(e=>{function t(s){return typeof s=="object"&&typeof s.r=="number"&&typeof s.g=="number"&&typeof s.b=="number"}e.isRGB=t,e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0};function i(s){return{r:Math.round(s.r*255),g:Math.round(s.g*255),b:Math.round(s.b*255),a:1}}e.toRgb255a1=i;function r(s){return{r:s.r,g:s.g,b:s.b}}e.clone=r;function n(s){return s=Math.floor(s),{r:(s>>16&255)/255,g:(s>>8&255)/255,b:(s&255)/255}}e.fromHex=n;function a(s){return Math.round(s.r*255)*65536+Math.round(s.g*255)*256+Math.round(s.b*255)}e.toHex=a;function c(s,u){return s.r===u.r&&s.g===u.g&&s.b===u.b}e.equals=c;function l(s,u){return s.r.toFixed(2)===u.r.toFixed(2)&&s.g.toFixed(2)===u.g.toFixed(2)&&s.b.toFixed(2)===u.b.toFixed(2)}e.equalsFixed=l;function o(s,u,d){return{r:s.r+(u.r-s.r)*d,g:s.g+(u.g-s.g)*d,b:s.b+(u.b-s.b)*d}}e.lerp=o})(Jr||(Jr={}));var oi;(e=>{e.white={...Jr.white,a:1},e.transparent={...Jr.white,a:0};function t(o){return{r:o[0],g:o[1],b:o[2],a:o[3]}}e.from0to1=t;function i(o,s){return{...Jr.fromHex(o),a:s}}e.fromHexAndA=i;function r(o){return{r:Math.round(o.r*255),g:Math.round(o.g*255),b:Math.round(o.b*255),a:o.a}}e.toRgb255a1=r;function n(o,s){return Jr.equals(o,s)&&o.a===s.a}e.equals=n;function a(o,s){return Jr.equalsFixed(o,s)&&o.a.toFixed(2)===s.a.toFixed(2)}e.equalsFixed=a;function c(o,s,u){return{r:o.r+(s.r-o.r)*u,g:o.g+(s.g-o.g)*u,b:o.b+(s.b-o.b)*u,a:o.a+(s.a-o.a)*u}}e.lerp=c;function l({r:o,g:s,b:u,a:d}=e.white){return`rgba(${o*255}, ${s*255}, ${u*255}, ${d})`}e.toStyle=l})(oi||(oi={}));var R3;(e=>e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(R3||(R3={}));var T6;(e=>e.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(T6||(T6={}));var A6;(e=>e.defaultData={control1:[.5,0],control2:[.5,1]})(A6||(A6={}));var cc;(e=>(e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]))(cc||(cc={}));function M6(e){return typeof e=="string"&&e.length===36?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e):!1}var kd;(e=>{e.all=["PerspectiveCamera","OrthographicCamera"];function t(i){return e.all.includes(i)}e.is=t})(kd||(kd={}));var Yp;(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset};function t(i){var r,n;return i.type==="PerspectiveCamera"?((r=i.perspective)==null?void 0:r.zoom)??1:((n=i.orthographic)==null?void 0:n.zoom)??1}e.getZoom=t})(Yp||(Yp={}));var Ac;(e=>{function t(r,n=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:Math.max(r[0],r[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[r[0]+r[0]*n,0,0]},grid:{count:[2,2,2],size:r.map(a=>a*(1+n)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}}e.defaultData=t;function i(r,n){let a={...r};if(CU.forEach(c=>{Object.assign(a,{[c]:n[c]??r[c]})}),a.radial={...r.radial},n.radial){let c=r.radial,l=n.radial;EU.forEach(o=>{Object.assign(a.radial,{[o]:l[o]??c[o]})})}if(a.linear={...r.linear},n.linear){let c=r.linear,l=n.linear;TU.forEach(o=>{Object.assign(a.linear,{[o]:l[o]??c[o]})})}if(a.grid={...r.grid},n.grid){let c=r.grid,l=n.grid;AU.forEach(o=>{Object.assign(a.grid,{[o]:l[o]??c[o]})})}if(a.toObject={...r.toObject},n.toObject){let c=r.toObject,l=n.toObject;MU.forEach(o=>{Object.assign(a.toObject,{[o]:l[o]??c[o]})})}if(a.randomnessObject={...r.randomnessObject},n.randomnessObject){let c=r.randomnessObject,l=n.randomnessObject;jU.forEach(o=>{Object.assign(a.randomnessObject,{[o]:l[o]??c[o]})})}return a}e.merge=i})(Ac||(Ac={}));var N3;(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];function i(r,n){let a=[];r.count!==void 0&&a.push({type:0,path:n,props:{count:r.count}});for(let c of t){let l=r[c];l&&Object.keys(l).length>0&&a.push({type:0,path:[...n,c],props:l})}return a}e.toOps=i})(N3||(N3={}));var CU=["count"],EU=["radius","start","end","position","scale","rotation"],TU=["position","scale","rotation"],AU=["count","size"],MU=["count","position","scale","rotation"],jU=["strength","scale","rotation","position","movement","seed","freqScale"],L3;(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function t(i){return e.all.includes(i)}e.is=t})(L3||(L3={}));var z3;(e=>{function t(r){return i(r)}e.defaultData=t;function i(r){if(r==="PointLight")return{type:r,color:oi.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if(r==="SpotLight")return{type:r,color:oi.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if(r==="DirectionalLight")return{type:r,color:oi.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(z3||(z3={}));var fx;(e=>(e.defaultShapeData={type:"PlaneEmitterShape",size:[100,100,100]},e.defaultCollisionData={colliderEntityId:null,collisionBounce:.75},e.defaultData={renderMaterial:{type:"particleMaterial",color:{r:1,g:.2,b:.545,a:1},color2:{r:.945,g:.714,b:.184,a:1},coloring:"gradient",ease:"linearFadeOut",easeSize:"linearFadeOut",transparent:!0,size:[40,40],texture:"pt_default_particle",spriteRotation:[0,0]},birthRatePerSec:50,gravity:1,noiseStrength:0,noiseScale:0,noiseSeed:1,noiseType:"curl",randomRotation:0,randomScale:.2,randomMass:.5,rootObjectType:"instancedMesh",life:1,direction:[0,0,0],directionMode:"axis",speed:10,shape:e.defaultShapeData,autoPlay:!0,emitTimeDelay:0,emitTimeCycle:"infinity",emitTimeDuration:1,...e.defaultCollisionData}))(fx||(fx={}));var Kp;(e=>e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]})(Kp||(Kp={}));var B3;(e=>{e.defaultData={castShadow:!0,receiveShadow:!0};function t(i,r){return i.castShadow===r.castShadow&&i.receiveShadow===r.receiveShadow}e.equals=t})(B3||(B3={}));var F3;(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0};function t(i,r){return i.flatShading===r.flatShading&&i.side===r.side&&i.wireframe===r.wireframe}e.equals=t})(F3||(F3={}));var U3;(e=>e.defaultData={...F3.defaultData,...B3.defaultData})(U3||(U3={}));var j6;(e=>{function t(i,r){var a,c;let n=[];if("material"in i){let l=typeof i.material=="string"?r.materials[i.material]??((a=r.lib.materials[i.material])==null?void 0:a.asset):i.material;l&&n.push(l)}else if("materials"in i)for(let l of i.materials){let o=typeof l=="string"?r.materials[l]??((c=r.lib.materials[l])==null?void 0:c.asset):l;o&&n.push(o)}return n}e.getMaterialData=t})(j6||(j6={}));var mx;(e=>(e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7))(mx||(mx={}));var I6;(e=>{function t(i){return i==="texture"||i==="video"||i==="color"||i==="depth"||i==="normal"||i==="gradient"||i==="noise"||i==="fresnel"||i==="rainbow"||i==="toon"||i==="outline"||i==="particle"||i==="transmission"||i==="matcap"||i==="displace"||i==="pattern"||i==="light"}e.is=t})(I6||(I6={}));function o1e(e){return e.type!=="displace"}var P6;(e=>{function t(i){return i==="phong"||i==="toon"||i==="lambert"||i==="physical"}e.is=t})(P6||(P6={}));var IU=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],s1e=["wrapping","image","video","name","minFilter","magFilter"],Ir;(e=>{function t(a,c){let{texture:l,...o}=c;if(Object.assign(a,o),l){let s=a.texture;s&&Object.assign(s,l)}}e.patch=t;function i(a,c){return a==="light"&&c?r(c):n(a)}e.defaultData=i;function r(a){let c={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(a){case"phong":return{...c,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...c,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...c,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...c,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}function n(a){let c={alpha:1,mode:0,isMask:!1,visible:!0};switch(a){case"texture":return{...c,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"video":return{...c,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:mx.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"color":return{...c,type:"color",color:Jr.fromHex(va)};case"depth":return{...c,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...c,type:"normal",cnormal:[1,1,1]};case"gradient":return{...c,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...c,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...Jr.fromHex(6710886),a:1},colorB:{...Jr.fromHex(6710886),a:1},colorC:{...Jr.fromHex(16777215),a:1},colorD:{...Jr.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...c,type:"fresnel",color:oi.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...c,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...c,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:oi.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...c,type:"outline",outlineColor:oi.fromHexAndA(0,1),contourColor:oi.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...c,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006}};case"transmission":return{...c,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...c,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...Jr.fromHex(0),a:1},colorB:{...Jr.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}})(Ir||(Ir={}));var Rr;(e=>{function t(u){return!u.layers.some(d=>d.data.type==="texture"&&d.data.projection!==0||d.data.type==="depth"&&!d.data.isWorldSpace||d.data.type==="noise"||d.data.type==="displace")}e.isMergable=t;function i(u){let d="";return u.layers.forEach(h=>{Object.entries(h.data).forEach(([p,m])=>{d+=`${p}${m}`,Array.isArray(m)?m.forEach(f=>d+=`${f}`):typeof m=="object"?Object.values(m).forEach(f=>{typeof f=="number"?d+=`${f.toFixed(4)}`:d+=`${f}`}):d+=`${m}`})}),d}e.getHash=i;function r(){return{layers:new Ze}}e.defaultEmptyData=r;function n(u="layer1",d="layer2"){return c("phong",u,d)}e.defaultData=n;function a(u,d){return{...u,name:d}}e.withName=a;function c(u,d="layer1",h="layer2"){let p=new Ze;return p.push({fi:0,data:Ir.defaultData("light",u),id:d}),p.push({fi:1,data:Ir.defaultData("color"),id:h}),{layers:p}}e.defaultTwoLayerData=c;function l(u){let d=Ir.defaultData("texture");u&&Object.assign(d.texture,{image:u});let h=new Ze;return h.push({fi:0,data:d,id:"layer1"}),h.push({fi:1,data:{...Ir.defaultData("transmission"),alpha:1},id:"layer2"}),h.push({fi:2,data:{...Ir.defaultData("light","lambert"),alpha:0},id:"layer3"}),{layers:h}}e.defaultUIObjectMaterial=l;function o(u,d="phong",h="layer1",p="layer2"){let m=Ir.defaultData("texture");Object.assign(m.texture,{image:u});let f=new Ze;return f.push({fi:0,data:m,id:h}),f.push({fi:1,data:Ir.defaultData("light",d),id:p}),{layers:f}}e.defaultTwoLayerTextureData=o;function s(u,d="phong",h="layer1",p="layer2"){let m=Ir.defaultData("video");Object.assign(m.texture,{video:u});let f=new Ze;return f.push({fi:0,data:m,id:h}),f.push({fi:1,data:Ir.defaultData("light",d),id:p}),{layers:f}}e.defaultTwoLayerVideoTextureData=s})(Rr||(Rr={}));var gx;(e=>{function t(){return{points:new Ze,roundness:0,shapeHoles:[],isClosed:!1}}e.defaultData=t})(gx||(gx={}));var vx;(e=>{function t(){return{points:new Ze,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}e.defaultData=t})(vx||(vx={}));var PU={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0},V3;(e=>{function t(i,r){let n={...i};return DU.forEach(a=>{Object.assign(n,{[a]:r[a]??i[a]})}),n}e.merge=t})(V3||(V3={}));var kU={shape:PU,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},DU=["depth","offset","angle","twist","startScale","endScale"],yx;(e=>{function t(r){return r==="PolygonGeometry"||r==="RectangleGeometry"||r==="StarGeometry"||r==="TriangleGeometry"||r==="EllipseGeometry"||r==="UIGeometry"}e.is2DParametricMesh=t;function i(r){return r==="PolygonGeometry"||r==="PolygonGeometry"||r==="RectangleGeometry"||r==="StarGeometry"||r==="TriangleGeometry"||r==="EllipseGeometry"||r==="PathGeometry"||r==="VectorGeometry"||r==="ConeGeometry"||r==="CubeGeometry"||r==="CylinderGeometry"||r==="DodecahedronGeometry"||r==="HelixGeometry"||r==="IcosahedronGeometry"||r==="LatheGeometry"||r==="PyramidGeometry"||r==="SphereGeometry"||r==="PlaneGeometry"||r==="BackdropGeometry"||r==="TorusGeometry"||r==="TorusKnotGeometry"||r==="BooleanGeometry"||r==="TextGeometry"||r==="InputGeometry"}e.isParametricMesh=i})(yx||(yx={}));var H3;(e=>{function t(i,r){let n={...i};return Object.assign(n,r),n.type==="PathGeometry"&&"extrusion"in r&&r.extrusion&&(n.extrusion={...i.extrusion},Object.assign(n.extrusion,V3.merge(n.extrusion,r.extrusion))),n}e.merge=t})(H3||(H3={}));var vc;(e=>{function t(i){if(i==="RectangleGeometry")return{width:320,height:320,type:i,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(i==="UIGeometry")return{type:i,frame:"",cornerRadius:[0,0,0,0],cornerType:0,width:1,height:1};if(i==="PathGeometry")return{type:i,width:1,height:1,depth:1,path:vx.defaultData(),extrusion:kU};if(i==="VectorGeometry")return{width:1,height:1,type:i,subdivisions:12,shape:gx.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(i==="BooleanGeometry")return{type:i,operation:2,width:0,height:0,depth:0,phongAngle:35};if(i==="ShapeBlendGeometry")return{type:i,width:0,height:0,depth:0,resolutionLevel:6,blendRange:100,useChildrenColors:!1};if(i==="TextGeometry")return{type:i,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",editable:!1,extrudeBevelSize:0,extrudeBevelSegments:1};if(i==="InputGeometry")return{...e.defaultData("TextGeometry"),type:i,editable:!0};if(i==="SphereGeometry")return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}e.defaultData=t})(vc||(vc={}));var pS=["width","height","depth"],G3;(e=>e.defaultData={enabled:!1,useBackgroundColor:!1,color:Jr.white,near:.1,far:2e3})(G3||(G3={}));var bx;(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focusDistance:100,focalLength:20,bokehScale:5},noise:{...t,blendFunction:16}}})(bx||(bx={}));var W3;(e=>e.defaultData={softShadowQuality:"low"})(W3||(W3={}));var q3;(e=>e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75})(q3||(q3={}));var Y3;(e=>e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}})(Y3||(Y3={}));var Xp;(e=>e.defaultData={usePhysics:!1,gravity:-10})(Xp||(Xp={}));var K3;(e=>e.defaultData={playCamera:jf,gameControlObject:null})(K3||(K3={}));var X3;(e=>e.defaultData={backgroundColor:oi.fromHexAndA(a1e,1),postprocessing:bx.defaultData,fog:G3.defaultData,globalPhysics:Xp.defaultData,ambient:q3.defaultData,ao:Y3.defaultData,shadow:W3.defaultData,publish:K3.defaultData})(X3||(X3={}));var J3;(e=>e.defaultData={colliderType:"box",size:[100,100,100],colliderHelperVisible:!0,forceType:"collider",forceRange:"global",forceIntensity:.5,forceDambing:.95})(J3||(J3={}));var k6;(e=>{function t(r){return r==="Component"||r==="Instance"}e.isComponentRelated=t;function i(r){return r==="Empty"||r==="Instance"}e.isEmptyOrComponent=i})(k6||(k6={}));var Jp;(e=>{e.identity={...R3.identity,hiddenMatrix:qp.identity};function t(n){return{position:n.position,rotation:n.rotation,scale:n.scale,hiddenMatrix:n.hiddenMatrix}}e.fromObject=t;function i(n,a){return{position:(a==null?void 0:a.position)||n.position,rotation:(a==null?void 0:a.rotation)||n.rotation,scale:(a==null?void 0:a.scale)||n.scale,hiddenMatrix:(a==null?void 0:a.hiddenMatrix)||n.hiddenMatrix}}e.merge=i;function r(n,a){return XF({position:gd.isEqual(n.position,a.position)?void 0:a.position,rotation:gd.isEqual(n.rotation,a.rotation)?void 0:a.rotation,scale:gd.isEqual(n.scale,a.scale)?null:a.scale,hiddenMatrix:qp.isEqual(n.hiddenMatrix,a.hiddenMatrix)?void 0:a.hiddenMatrix})}e.diff=r})(Jp||(Jp={}));var xr;(e=>e.defaultData={states:new Ze,events:new Ze,visible:!0,raycastLock:!1,physics:Kp.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...Jp.identity,cloner:null})(xr||(xr={}));var Q3;(e=>e.defaultData={type:"Empty",...xr.defaultData})(Q3||(Q3={}));var D6;(e=>e.defaultData={type:"ParticleCollider",...J3.defaultData,...xr.defaultData})(D6||(D6={}));var O6;(e=>e.defaultData={type:"Component",...xr.defaultData})(O6||(O6={}));var R6;(e=>e.defaultData={type:"Particle",...xr.defaultData,...fx.defaultData})(R6||(R6={}));var yc;(e=>e.defaultData={type:"Mesh",...xr.defaultData,...U3.defaultData})(yc||(yc={}));var av;(e=>e.defaultData={...xr.defaultData,...Jp.identity,position:[0,0,Yp.DefaultTargetOffset],...Yp.defaultData})(av||(av={}));var $3;(e=>{function t(i){return{...xr.defaultData,...z3.defaultData(i)}}e.defaultData=t,e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})($3||($3={}));var xx;(e=>{function t(r,n,a=0){for(;a<n.length;){let c=r?r[n[a]]:void 0;if(n.length===a+1)return c;if(c)r=c.descendants,a+=1;else return}}e.resolveWithDes=t;function i(r,n,a=0){let c=t(r,n,a);if(c){let l=Object.keys(c);if(l.length===1&&l[0]==="descendants")return}return c}e.resolve=i})(xx||(xx={}));var Mc;(e=>{e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"];function t(r,n){return{...xr.defaultData,...n,component:r,overrides:new cr,physics:void 0,events:void 0,type:"Instance"}}e.ofComponent=t;function i(r){let n=Jp.fromObject(r.data);return t(r.id,n)}e.fromComponentData=i})(Mc||(Mc={}));var Qp;(e=>{e.defaultData={type:"Page",...xr.defaultData,physics:{...Kp.defaultData,fusedBody:!1},...X3.defaultData,camera:av.defaultData};function t(i){return i.uiScene!==void 0}e.isUIPage=t})(Qp||(Qp={}));var Z3;(e=>(e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:qp.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:Kp.defaultData,states:new Ze,events:new Ze,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},...Yp.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...xr.defaultData,...yc.defaultData,geometry:vc.defaultData("RectangleGeometry"),material:Rr.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...xr.defaultData,...yc.defaultData,geometry:vc.defaultData("BooleanGeometry"),material:Rr.defaultTwoLayerData("phong","layer1","layer2")},e.defaultShapeBlendObject={name:"Shape Blend",...xr.defaultData,...yc.defaultData,geometry:vc.defaultData("ShapeBlendGeometry"),material:Rr.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...xr.defaultData,...yc.defaultData,geometry:vc.defaultData("TextGeometry"),material:Rr.defaultTwoLayerData("phong","layer1","layer2")},e.defaultInputObject={name:"Input",...xr.defaultData,...yc.defaultData,geometry:vc.defaultData("InputGeometry"),material:Rr.defaultTwoLayerData("phong","layer1","layer2")}))(Z3||(Z3={}));var ed;(e=>{function t(a,c){let l={name:c};return a.type==="Mesh"?(l.geometry={},"material"in a&&(l.material={layers:new cr}),"materials"in a&&(l.materials=a.materials.map(o=>({layers:new cr})))):kd.is(a.type)&&(l.perspective={},l.orthographic={}),l}e.newEmpty=t;function i(a,c){if(c===void 0)return a;let l={...a};return"material"in l&&"material"in c&&c.material&&(l.material=nv(l.material,o=>{if(typeof o!="string")for(let[s,u]of Object.entries(c.material.layers)){let d=o.layers.data(s);d&&Ir.patch(d,u)}}).data),l.materials&&c.materials&&(l.materials=nv(l.materials,o=>{var s,u;for(let d=0;d<l.materials.length;d++){let h=c.materials[d];if(typeof h!="string")for(let[p,m]of Object.entries(h.layers)){let f=(u=(s=o[d])==null?void 0:s.layers)==null?void 0:u.data(p);f&&Ir.patch(f,m)}}}).data),l}function r(a,c){let l,o=[],s={orthographic:0,perspective:0,geometry:0};function u(d,h){for(let[p,m]of Object.entries(h.layers)){let{texture:f,...g}=m;if(f!==void 0&&Object.keys(f).length>0){let v={path:[...d,"layers",p,"texture"],props:f,type:0};o.push(v)}if(Object.keys(g).length>0){let v={path:[...d,"layers",p],props:g,type:0};o.push(v)}}}for(let[d,h]of Object.entries(c))if(d!=="name")if(d==="cloner")o.push(...N3.toOps(h,["cloner"]));else if(d==="pathSnapping")o.push({path:[d],props:{slide:h.slide,offset:h.offset},type:0});else if(d==="material")u(["material"],h);else if(d==="materials")for(let[p,m]of Object.entries(h))u(["materials",p],m);else if(s[d]===0){if(d==="geometry"&&h.extrusion!==void 0){let p={path:[d,"extrusion"],props:h.extrusion,type:0};o.push(p),h={...h},delete h.extrusion}if(Object.keys(h).length>0){let p={path:[d],props:h,type:0};o.push(p)}}else l===void 0&&(l={path:[],props:{},type:0},o.push(l)),l.props[d]=h;return o}e.toOps=r;function n(a,c){var o,s,u,d,h,p;if(c===void 0)return a;let l={...a};if(Object.assign(l,Jp.merge(l,c)),Object.assign(l,{pathSnapping:Object.assign({},l.pathSnapping,{slide:((o=c.pathSnapping)==null?void 0:o.slide)??((s=l.pathSnapping)==null?void 0:s.slide)??0,offset:((u=c.pathSnapping)==null?void 0:u.offset)??((d=l.pathSnapping)==null?void 0:d.offset)??0})}),kd.is(a.type)){l.orthographic={...l.orthographic},l.perspective={...l.perspective};let m=c;((h=m.orthographic)==null?void 0:h.zoom)!==void 0&&(l.orthographic.zoom=m.orthographic.zoom),((p=m.perspective)==null?void 0:p.zoom)!==void 0&&(l.perspective.zoom=m.perspective.zoom),m.isUpVectorFlipped!==void 0&&(l.isUpVectorFlipped=m.isUpVectorFlipped),m.targetOffset!==void 0&&(l.targetOffset=m.targetOffset)}else if(a.type==="Mesh")"geometry"in c&&Object.assign(l,{geometry:H3.merge(l.geometry,c.geometry)}),(c.material||c.materials)&&(l=i(l,c)),l.cloner&&"cloner"in c&&Object.assign(l,{cloner:Ac.merge(l.cloner,c.cloner)});else if(a.type==="Empty")l.cloner&&"cloner"in c&&Object.assign(l,{cloner:Ac.merge(l.cloner,c.cloner)});else if(L3.is(a.type)){let m=c;m.intensity!==void 0&&(l.intensity=m.intensity),m.color!==void 0&&(typeof m.color=="string"?l.color=m.color:l.color=Jr.clone(m.color))}return l}e.patch=n})(ed||(ed={}));var wx;(e=>e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0})(wx||(wx={}));var jc;(e=>e.defaultData={orbitControls:wx.defaultData,playPage:ng,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,i)=>{let r=0,n=0;return i<5?n=-30:i<10&&(n=30),i===0||i===10||i===5?r=30:(i===4||i===11||i===9)&&(r=-30),[120,[r,n],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1,imageQuality:70}},stopRaycast:!0,hdTransmission:!1})(jc||(jc={}));var eT;(e=>e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""})(eT||(eT={}));var tT;(e=>e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0})(tT||(tT={}));var td;(e=>(e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...eT.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:tT.defaultData}),e.generateSeed=()=>Math.round(Math.random()*1e5)))(td||(td={}));var ov;(e=>{function t(r){return r.find(n=>n.data.type==="Page"&&n.data.globalPhysics.usePhysics)!==void 0}e.physicsEnabled=t;function i(r,n,a){r.scene.objects.traverseFrom(n,(c,l)=>{var o;if(l.type==="Instance"){let s=(o=Cx.getComponentData(r,l.component))==null?void 0:o.data;s&&a(c,l,s.events)}else a(c,l,l.events)})}e.traverseModuleInstances=i})(ov||(ov={}));var id;(e=>{e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",e.defaultLight={fi:-1,data:$3.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]};function t(n=!0,a=[]){let c=[],l=Z3.defaultMeshObject;n&&(c.push({...e.defaultLight}),c.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:l,children:[]})),c.push(...a);let o=new $r;return o.push({fi:1,id:ng,data:{...Qp.defaultData,name:"Scene 1"},children:c}),o}e.createDefaultObjectTreeWithPage=t,e.defaultData={objects:t(),publish:jc.defaultData,styles:td.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new $r,publish:jc.defaultData,styles:td.defaultData()}},e.emptyDataWithPage=function(n=!0){return{objects:t(n),publish:jc.defaultData,styles:td.defaultData()}},e.emptyData=function(){return{objects:new $r,publish:{...jc.defaultData},styles:td.defaultData()}};function i(n){return{...e.defaultData,objects:Ya(n,$r.prototype)}}e.withObjs=i;function r(n,a){return i([{id:n,data:a,children:[],fi:0}])}e.withObj=r})(id||(id={}));var ag;(e=>e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}})(ag||(ag={}));var iT;(e=>(e.defaultData=t=>({url:t,name:"New Webhook",parametersSchemas:new Ze}),e.defaultParameterValueByType=t=>t==="number"?0:t==="boolean"?!1:""))(iT||(iT={}));var N6;(e=>e.defaultData=(t,i="GET")=>({url:t,method:i,name:"New API",headers:new Ze,queries:new Ze,autoStart:!0}))(N6||(N6={}));var Zr;(e=>{function t(c){return c.textValue!==void 0}e.isTextValue=t;function i(c){return typeof c=="number"}e.isNumber=i;function r(c){return typeof c=="boolean"}e.isBoolean=r;function n(c){return t(c)?"string":r(c)?"boolean":"number"}e.typeOfVariable=n;function a(c){return e.isTextValue(c)?Array.isArray(c.textValue)?c.textValue.map(l=>l.toString().padStart(c.padding??2,"0")).join(c.deliminator??":")+(c.suffix!==void 0?" "+c.suffix:""):c.textValue.toString():e.isBoolean(c)?c?"True":"False":e.isNumber(c)?parseFloat(c.toFixed(3)).toString():c.toString()}e.getDisplayedValue=a})(Zr||(Zr={}));var rT;(e=>e.all=["images","videos","colors","audios","particles","fonts","materials","variables"])(rT||(rT={}));var L6;(e=>e.all=[...rT.all,"components"])(L6||(L6={}));var z6;(e=>{function t(){return{images:new st,videos:new st,colors:new st,audios:new st,particles:new st,fonts:new st,materials:new st,components:new st,variables:new st,userAPIs:new st,userWebhooks:new st}}e.defaultData=t})(z6||(z6={}));var Dl;(e=>{function t(){return{images:new st,videos:new st,colors:new st,audios:new st,particles:new st,fonts:new st,materials:new st,components:new st,variables:new st,userAPIs:new st,userWebhooks:new st}}e.defaultData=t})(Dl||(Dl={}));var Da;(e=>{function t(){let c={};return c["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},Ya(c,st.prototype)}e.defaultColors=t;function i(){return Ya({},st.prototype)}e.defaultImages=i;function r(){return{catelogs:new st,materials:new st,images:new st,videos:new st,colors:new st,audios:new st,particles:new st,fonts:new st,variables:new Ze,userAPIs:new st,userWebhooks:new st,lib:Dl.defaultData()}}e.emptyData=r;function n(c){switch(c){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let l=[0,0,0];return{name:"Time",value:{textValue:l,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:l,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",c)}}e.defaultVariables=n;function a(c,l){if(l.format==="HH:mm:ss"){let o=Math.floor(c/3600),s=Math.floor((c-o*3600)/60),u=Math.round(c-o*3600-s*60);return{textValue:[o,s,u]}}else if(l.format==="mm:ss"){let o=Math.floor(c/60),s=Math.round(c-o*60);return{textValue:[o,s]}}else return l.format==="number"?c=Math.round(c):c=Math.round(c*1e3)/1e3,c}e.getFormattedTimerTime=a})(Da||(Da={}));var _x;(e=>e.list=["idle","move","jump","run"])(_x||(_x={}));var Sx;(e=>(e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX",""],["rotPosY",""],["rotNegX",""],["rotNegY",""],["jump","Space"],["run",""],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new Ze,move:new Ze,jump:new Ze,run:new Ze},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:oi.fromHexAndA(3728051,1)}}))(Sx||(Sx={}));function B6(e){e.layers.forEach(t=>{if(t.type==="depth"&&t.colorA!==void 0){let i=t.colorA,r=t.colorB,n=[[i.r,i.g,i.b,i.a],[r.r,r.g,r.b,r.a]],a=[0,1];for(let l=2;l<10;l++)n.push(n[1]),a.push(1);let c={...fs(Qi(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,t.near),far:Math.max(0,t.far),colors:n,steps:a,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(t,c)}else if(t.type==="depth"&&t.gradientType===1&&(t.near<0||t.far<0)){let i={...Qi(t),near:Math.max(t.near,0),far:Math.max(t.far,0)};Object.assign(t,i)}})}function bc(e,t){Object.values(e.shared.materials).forEach(i=>t(i))}function xc(e,t){e.scene.objects.traverse((i,r)=>{"materials"in r?r.materials.forEach((n,a)=>{n===void 0&&(r.materials[a]=Rr.defaultData(),n=r.materials[a]),typeof n!="string"&&t(n)}):"material"in r?typeof r.material!="string"&&(r.material===void 0&&(r.material=Rr.defaultData()),t(r.material)):r.type==="Mesh"&&(r.material===void 0&&(r.material=Rr.defaultData()),t(r.material)),"overrides"in r&&Object.values(r.overrides).forEach(n=>{n.material&&typeof n.material!="string"&&Object.getPrototypeOf(n.material)!==cr.prototype&&t(n.material)})})}function l1e(e){Object.assign(e.scene.publish,{orbitControls:{...wx.defaultData,...Qi(e.scene.publish.orbitControls)}})}function c1e(e){Object.assign(e.scene.publish.settings,{video:{...jc.defaultData.settings.video,...Qi(e.scene.publish.settings.video)}})}function u1e(e){function t(i){if(i.layers){for(let r of Object.values(i.layers))if(r){for(let[n,a]of Object.entries(r))if((IU.includes(n)||typeof a=="boolean")&&delete r[n],n==="texture")for(let[c,l]of Object.entries(a))(s1e.includes(c)||typeof l=="boolean")&&delete a[c]}}}e.scene.objects.traverse((i,r)=>{r.states.forEach(n=>{let a=n;a.material?t(a.material):a.materials&&a.materials.forEach(c=>{t(c)})})})}function d1e(e){e.scene.publish.withBackground=!0}function h1e(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}function p1e(e){e.scene.objects.traverse((t,i)=>{let r=i.cloner;r&&(r.radial.scale=r.radial.scale.map(n=>n+1),r.linear.scale=r.linear.scale.map(n=>n+1))})}function f1e(e){e.scene.objects.traverse((t,i)=>{let r=i.geometry;r&&(r.type==="DodecahedronGeometry"||r.type==="IcosahedronGeometry")&&(r.detail=Math.round(r.detail))})}function m1e(e){e.scene.objects.traverse((t,i)=>{let r=e.scene.objects.unproxy().parent(t);if(r){let n=Qi(e.scene.objects.data(r));n&&n.type==="Mesh"&&n.geometry.type==="BooleanGeometry"&&i.type==="Mesh"&&(i.visible=Qi(i).booleanExclude!==!0)}})}function g1e(e){e.scene.objects.traverse((t,i)=>{if(i.type==="Mesh"){let r=i;i.geometry.type==="NonParametricGeometry"?r.material!==void 0&&delete r.material:r.materials!==void 0&&delete r.materials}})}function v1e(e){function t(r){Object.setPrototypeOf(r,cr.prototype),r.texture&&Object.setPrototypeOf(r.texture,cr.prototype)}function i(r){Object.setPrototypeOf(r,cr.prototype);for(let n in r)t(r[n])}e.scene.objects.traverse((r,n)=>{n.states.forEach(a=>{let c=a;if(c.material){let l=Qi(c.material).layers;i(l),c.material.layers=l}if(c.materials)for(let l=0;l<c.materials.length;l++){let o=c.materials[l],s=Qi(o).layers;i(s),o.layers=s}})})}function F6(e){e.layers===void 0&&Object.assign(e,Rr.defaultTwoLayerData("lambert"))}function fS(e){!e.layers||e.layers.forEach(t=>{if(t.type==="depth"&&t.colors.length===10){let i=[...t.colors];i.push(t.colors[9]);let r=[...t.steps];r.push(t.steps[9]);let n={...Qi(t),colors:i,steps:r};Object.assign(t,n)}})}function y1e(e){e.scene.objects.traverse((t,i)=>{i.type==="Mesh"&&(i.geometry.type==="BooleanGeometry"||i.geometry.type==="SubdivGeometry")&&(i.geometry.phongAngle=35)})}function U6(e){e.scene.objects.traverse((t,i)=>{"materials"in i?i.materials.forEach(r=>{typeof r!="string"&&fS(r)}):"material"in i&&typeof i.material!="string"&&fS(i.material)}),Object.values(e.shared.materials).forEach(t=>fS(t))}function b1e(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,i)=>{(i.type==="DirectionalLight"||i.type==="SpotLight")&&(i.shadowResolution=1024,i.shadowRadius=1,i.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}function x1e(e){e.shared.audios=Ya({},st.prototype)}function w1e(e){e.shared.videos=Ya({},st.prototype)}function _1e(e){let t=e.shared.materials;Object.entries(t).forEach(([i,r])=>{if(!r.layers){let n={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(t,{[i]:n})}})}function S1e(e){Object.entries(Qi(e.shared.images)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(Qi(e.shared.audios)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}function C1e(e){e.scene.publish.settings.web.preload=!1}function V6(e){e.layers&&e.layers.forEach(t=>{t.type==="depth"&&t.num!==void 0&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function H6(e){e.layers&&e.layers.forEach(t=>{o1e(t)&&t.isMask===void 0&&(t.isMask=!1),(t.type==="texture"||t.type==="video")&&t.blending===void 0&&(t.blending=0),(t.type==="noise"||t.type==="displace"&&t.displacementType==="noise")&&(t.voronoiStyle===void 0&&(t.voronoiStyle=0),t.highCut===void 0&&(t.highCut=1),t.lowCut===void 0&&(t.lowCut=0),t.smoothness===void 0&&(t.smoothness=.3),t.seed===void 0&&(t.seed=0),t.quality===void 0&&(t.quality=1))})}function E1e(e){e.shared.fonts=Ya({},st.prototype)}function T1e(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function A1e(e){let t=[];e.scene.objects.traverse((i,r)=>{let n=r;if(n.type==="TextFrame"){let a=Rr.defaultTwoLayerData("phong"),c=typeof n.color=="string"?e.shared.colors[n.color]:n.color;a.layers[1].data.color={r:c.r,g:c.g,b:c.b},a.layers[1].data.alpha=n.alpha;let l=T1e(n.font);e.shared.fonts[l]===void 0&&(e.shared.fonts[l]={name:l});let o={name:n.name,...xr.defaultData,...yc.defaultData,flatShading:!1,wireframe:!1,geometry:{...vc.defaultData("TextGeometry"),width:n.width,height:n.height,font:l,depth:0,horizontalAlign:n.horizontalAlign,verticalAlign:n.verticalAlign,fontSize:n.fontSize*1.40625,lineHeight:n.lineHeight/1.40625,letterSpacing:n.letterSpacing-1,text:n.text,textTransform:n.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:a,states:Qi(n.states),events:Qi(n.events),visible:n.visible,raycastLock:n.raycastLock,position:n.position,rotation:n.rotation,scale:n.scale,hiddenMatrix:n.hiddenMatrix},s=Qi(e.scene.objects).parent(i);e.scene.objects.insertAfter(s??null,i,[{id:i+"new",data:o,children:[]}]),t.push(i)}}),t.forEach(i=>{e.scene.objects.delete(i)})}function M1e(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((i,r)=>{r.events.forEach(n=>{if(t[Number(n.type)])if(Object.assign(n,{type:t[Number(n.type)]}),n.type==="Audio"&&"audioEvent"in n&&(Object.assign(n,{playAudio:n.audioEvent}),delete n.audioEvent),n.type==="GameControl")Object.assign(n,{gameActions:{idle:new Ze,move:new Ze,jump:new Ze}});else{let a=new Ze;Object.assign(n,{actions:a}),(n.type==="MouseDown"||n.type==="MouseUp"||n.type==="KeyDown"||n.type==="KeyUp")&&"url"in n&&a.push({fi:0,id:Ve.generateUUID(),data:{type:"Link",url:n.url,delay:0}}),"targets"in n&&(n.targets.forEach((c,l,o)=>{let s={state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4},u={easing:c.easing,duration:c.duration};c.easing===6?Object.assign(u,fs(c,"mass","stiffness","damping","velocity")):c.easing===5&&Object.assign(u,{control1:{...c.control1},control2:{...c.control2}});let d={repeat:c.repeat?-1:0,delay:c.delay,delayDirection:c.delayDirection,direction:c.cycle&&c.rewind?"pingpong-rewind":c.cycle?"pingpong":"normal"},h={state:c.state,...d,...u},p={allowSlerp:!0,type:"Transition",object:c.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new Ze({fi:0,id:Ve.generateUUID(),data:s},{fi:1,id:Ve.generateUUID(),data:h})};a.push({fi:o,id:l,data:p})}),delete n.targets)}})})}function j1e(e){e.scene.objects.traverse((t,i)=>{function r(n,a){var o;let c=new Ze,l=[];if(i.events.forEach((s,u,d)=>{if(s.type==="Audio"&&s.trigger===a){let h;l.push(u),s.interaction==="play"?h={...fs(s,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in s?s.after:void 0,toggle:"after"in s?s.toggle:void 0,type:"Audio"}:(s.interaction==="pause"||s.interaction==="stop")&&(h={...fs(s,"interaction","delay","object","playAudio"),type:"Audio"}),h&&c.push({fi:d,id:u,data:h})}}),l.forEach(s=>i.events.delete(s)),c.length){let s=(o=i.events.find(u=>u.type===n))==null?void 0:o.data;s?"actions"in s&&s.actions.insertBefore(null,c):i.events.insertBefore(null,[{id:Ve.generateUUID(),data:{type:n,actions:c}}])}}r("Start","start"),r("MouseDown","mouseDown"),r("MouseUp","mouseUp"),r("KeyDown","keyDown"),r("KeyUp","keyUp")})}function G6(e){var i;let t=(i=e.layers.find(r=>r.type==="light"))==null?void 0:i.data;if((t==null?void 0:t.category)==="basic"){let r=Ir.defaultData("light","phong"),n=t;Object.assign(n,r),n.visible=!1}}function W6(e){bc(e,G6),xc(e,G6)}function I1e(e){e.scene.objects.traverse((t,i)=>{i.type==="Mesh"&&i.geometry.type==="SubdivGeometry"&&(i.geometry.scaleBaked||(i.geometry.scaleBaked=[1,1,1]))})}function P1e(e){e.scene.objects.traverse((t,i)=>{(i.type==="Empty"||i.type==="Mesh")&&i.cloner&&!i.cloner.randomnessObject&&!i.cloner.toObject&&!i.cloner.randomness&&(i.cloner={...i.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}function k1e(e){e.scene.objects.traverse((t,i)=>{i.type==="Mesh"&&i.geometry.type==="NonParametricGeometry"&&!("material"in i)&&!("materials"in i)&&(i.material=Rr.defaultTwoLayerData("phong"))})}function D1e(e){e.scene.publish.orbitControls.autoZoom===void 0&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,i)=>{(i.type==="OrthographicCamera"||i.type==="PerspectiveCamera")&&(i.orthographic.autoZoom===void 0&&(i.orthographic.autoZoom=!1),i.orthographic.autoZoomFrustumSize===void 0&&(i.orthographic.autoZoomFrustumSize=790))})}function O1e(e){e.scene.objects.traverse((t,i)=>{i.pathSnapping===void 0&&(i.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),i.pathSnapping.offset===void 0&&(i.pathSnapping.offset=0)})}function R1e(e){e.scene.publish.mouseEventTarget===void 0&&(e.scene.publish.mouseEventTarget="canvas"),e.scene.publish.settings.web.hint===void 0&&(e.scene.publish.settings.web.hint=!1)}function N1e(e){let{video:t}=e.scene.publish.settings;t.format==="gif"&&t.fps>48&&(t.fps=15)}function L1e(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(r=>{r.type==="GameControl"&&(r.resetYPosition=Math.abs(r.resetYPosition-i.position[1]))})})}function z1e(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((i,r)=>{t&&r.physics===null?r.collision=!1:r.collision="visibility"})}function B1e(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(r=>{r.type==="GameControl"&&(r.navmesh=Sx.defaultDataThirdPerson.navmesh)})})}function F1e(e){e.scene.styles||(e.scene.styles=td.defaultData())}function q6(e){e.layers.forEach(t=>{t.type==="light"&&t.category!=="toon"&&t.occlusion===void 0&&(t.occlusion=!0)})}function U1e(e){e.scene.environment.ambientLight.occlusion===void 0&&(e.scene.environment.ambientLight.occlusion=!1),e.scene.environment.ambientLight.aoFullRes===void 0&&(e.scene.environment.ambientLight.aoFullRes=!1),e.scene.environment.ambientLight.radius===void 0&&(e.scene.environment.ambientLight.radius=256),e.scene.environment.ambientLight.bias===void 0&&(e.scene.environment.ambientLight.bias=.5),e.scene.environment.ambientLight.aoColor===void 0&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),xc(e,q6),bc(e,q6)}function V1e(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(r=>{r.type==="GameControl"&&Object.assign(r.gameActions,{run:new Ze})})})}function H1e(e){e.scene.objects.traverse((t,i)=>{i.events.forEach(r=>{r.type==="GameControl"&&(r.keyAssignments=[...r.keyAssignments,["run",""],["none","Ctrl"]])})})}function Y6(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.bumpMapIntensity===void 0&&(t.bumpMapIntensity=5)})}function G1e(e,t){if(t<1&&(xc(e,B6),bc(e,B6),e.schema=1),t<2&&(l1e(e),e.schema=2),t<3&&(u1e(e),e.schema=3),t<4&&(d1e(e),e.schema=4),t<5&&(h1e(e),e.schema=5),t<6&&(p1e(e),e.schema=6),t<7&&(f1e(e),e.schema=7),t<8&&(e.schema=8),t<9&&(U6(e),e.schema=9),t<10&&(y1e(e),e.schema=10),t<11&&(b1e(e),e.schema=11),t<12&&(U6(e),e.schema=12),t<13&&(x1e(e),e.schema=13),t<14&&(_1e(e),e.schema=14),t<15&&(S1e(e),e.schema=15),t<16&&(C1e(e),e.schema=16),t<17&&(xc(e,V6),bc(e,V6),e.schema=17),t<18&&(xc(e,F6),bc(e,F6),e.schema=18),t<19&&(c1e(e),e.schema=19),t<20&&(E1e(e),A1e(e),e.schema=20),t<21&&(M1e(e),j1e(e),e.schema=21),t<22&&(W6(e),e.schema=22),t<23&&(I1e(e),e.schema=23),t<24&&(P1e(e),e.schema=24),(t<25||e.shared.videos===void 0)&&(w1e(e),t<25&&(e.schema=25)),t<26&&(m1e(e),e.schema=26),t<27&&(g1e(e),e.schema=27),t<28&&(W6(e),e.schema=28),t<29&&(v1e(e),e.schema=29),t<30&&(k1e(e),e.schema=30),t<31&&(D1e(e),e.schema=31),t<33&&(O1e(e),e.schema=33),t<34&&(R1e(e),e.schema=34),t<35&&(N1e(e),e.schema=35),t<36&&(L1e(e),e.schema=36),t<37&&(z1e(e),e.schema=37),t<38&&(xc(e,H6),bc(e,H6),e.schema=38),t<39&&(B1e(e),e.schema=39),t<40&&(F1e(e),e.schema=40),t<41&&(U1e(e),e.schema=41),t<42&&(V1e(e),e.schema=42),t<43&&(H1e(e),e.schema=43),t<99){xc(e,Y6),bc(e,Y6),e.scene.publish.playCamera===null&&(e.scene.publish.playCamera=jf);let i=Qi(e.scene.objects),r=e.scene.objects;e.scene.publish.playPage=ng,r.insertBefore(null,null,[{id:ng,data:{...Qp.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:fs(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:fs(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...Xp.defaultData,...fs(e.scene.environment,"usePhysics","gravity")},camera:Qi(e.scene.ownerCamera)??Qp.defaultData.camera,name:"Scene"},children:[]}]);for(let c of i)c.id!==id.TRASH_CAN_ID&&r.move(ng,c.fi,c.id);let n=0,a=0;e.shared.penumbraSize&&e.scene.objects.traverse((c,l)=>{l.type==="DirectionalLight"?(l.penumbraSize=e.shared.penumbraSize[Math.min(n,2)],n+=1):l.type==="SpotLight"&&(l.penumbraSize=e.shared.penumbraSize[3+Math.min(a,1)],a+=1),(l.physics===void 0||l.physics===null)&&l.type!=="Instance"&&(l.physics={},Object.assign(l.physics,Kp.defaultData)),l.physics!==void 0&&l.physics!==null&&(l.physics.enabled=l.collision??"visibility",delete l.collision)}),e.schema=99}}function K6(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.alphaOverride===void 0&&(t.alphaOverride=1)})}function W1e(e){e.scene.objects.traverse((t,i)=>{let r=i.geometry;r&&r.type==="PathGeometry"&&(r.extrusion.capType="flat",r.extrusion.bevel=50,r.extrusion.bevelSides=6,r.extrusion.shape.type==="Custom"&&(r.extrusion.shape.shapeQuality="low"))})}function q1e(e){var t;Array.isArray(Qi(e.events))&&((t=e.events)==null||t.forEach(i=>{"disabled"in i||(i.disabled=!1),(i.type==="MouseDown"||i.type==="MouseUp"||i.type==="MousePress")&&(i.mode=i.mode||"Object")}))}var Ih=180/Math.PI;function X6(e){e.rotation=e.rotation.slice(0,3).map(t=>t*Ih)}function OU(e){var i,r;X6(e),e.type==="Page"&&X6(e.camera),(i=e.states)==null||i.forEach(n=>{n.rotation===void 0||n.rotation===null||(n.rotation=n.rotation.slice(0,3).map(a=>a*Ih))});let t=e.geometry;t&&t.type==="SphereGeometry"&&(t.thetaLength=(t.thetaLength??180)*Ih),t&&t.type==="TorusGeometry"&&(t.arc=t.arc*Ih),t&&t.type==="PathGeometry"&&(t.extrusion.angle*=Ih,t.extrusion.twist*=Ih),e.type==="Mesh"&&e.geometry.type==="TextGeometry"&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(Qi(e.events))&&((r=e.events)==null||r.forEach(n=>{(n.type==="MouseDown"||n.type==="MouseUp"||n.type==="MousePress"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="KeyPress"||n.type==="Collision"||n.type==="Trigger")&&(n.runMode=n.toggle?"Toggle":"Repeat")}))}function Y1e(e){e.shared.variables=Ya({},st.prototype)}function K1e(e){let t=Qi(e.shared.variables);e.shared.variables=Ya(Object.entries(t??{}).map(([i,r],n)=>({fi:n,id:i,data:r})),Ze.prototype)}var Zs=115;function RU(e,t){t(e.data);for(let i of e.children)RU(i,t)}function X1e(e){let t=e.schema??104;t!==Zs&&t<105&&(RU(e.asset,OU),e.schema=105)}function J1e(e){e.shared.particles=Ya({},st.prototype),e.shared.lib&&(e.shared.lib.particles=Dl.defaultData().particles)}function Q1e(e){e.scene.objects.traverse((t,i)=>{i.type==="Particle"&&typeof i.renderMaterial.size=="number"&&Object.assign(i.renderMaterial,{size:[i.renderMaterial.size,i.renderMaterial.size]})})}function $1e(e){e.scene.objects.traverse((t,i)=>{i.type==="Page"&&(i.postprocessing.depthOfField.focusDistance=100,i.postprocessing.depthOfField.focalLength=20,i.postprocessing.depthOfField.bokehScale=5)})}function Z1e(e){e.scene.objects.traverse((t,i)=>{var r;Array.isArray(Qi(i.events))!==!1&&((r=i.events)==null||r.forEach(n=>{var c,l,o,s,u,d,h,p,m,f,g;let a=n.runMode;n.type==="MouseDown"||n.type==="MouseUp"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="Collision"||n.type==="Trigger"?(c=n.actions)==null||c.forEach(v=>{v.type==="Transition"&&(v.runMode=a??"Repeat"),(v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode=a==="Toggle"?"Toggle":"Normal")}):n.type==="MouseHover"||n.type==="MousePress"||n.type==="KeyPress"?(l=n.actions)==null||l.forEach(v=>{(v.type==="Transition"||v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode="Toggle")}):n.type==="GameControl"?(delete n.actions,Object.keys(n.gameActions).forEach(v=>{var S;(S=n.gameActions[v])==null||S.forEach(x=>{x.type==="Transition"&&(x.runMode="Repeat"),x.type==="Animation"&&(x.runMode="Normal")})})):n.type==="DragDrop"?(delete n.actions,(s=(o=n.dragDropActions)==null?void 0:o.drag)==null||s.forEach(v=>{(v.type==="Transition"||v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode="Toggle")}),(d=(u=n.dragDropActions)==null?void 0:u.drop)==null||d.forEach(v=>{(v.type==="Transition"||v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode="Toggle")})):n.type==="Resize"?(delete n.actions,(h=n.breakpoints)==null||h.forEach(v=>{var S;(S=v.actions)==null||S.forEach(x=>{(x.type==="Transition"||x.type==="Animation"||x.type==="SwitchCamera")&&(x.runMode="Toggle")})})):n.type==="Start"?(p=n.actions)==null||p.forEach(v=>{v.type==="Transition"&&(v.runMode="Once"),(v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode="Normal")}):n.type==="VariableChange"||n.type==="Scroll"?(m=n.actions)==null||m.forEach(v=>{v.type==="Transition"&&(v.runMode="Repeat"),(v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode="Normal")}):n.type==="Conditional"&&(delete n.actions,(f=n.inActions)==null||f.forEach(v=>{v.type==="Transition"&&(v.runMode="Repeat"),(v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode="Normal")}),(g=n.outActions)==null||g.forEach(v=>{v.type==="Transition"&&(v.runMode="Repeat"),(v.type==="Animation"||v.type==="SwitchCamera")&&(v.runMode="Normal")}))}))})}function ebe(e){e.shared.userAPIs=Ya({},st.prototype),e.shared.userWebhooks=Ya({},st.prototype),e.shared.lib&&(e.shared.lib.userAPIs=Dl.defaultData().userAPIs,e.shared.lib.userWebhooks=Dl.defaultData().userWebhooks)}function NU(e){let t=e.schema??0;if(t!==Zs){console.warn("updating from ",t,"to ",Zs),G1e(e,t),t<100&&(e.scene.publish.joystickSizeAndXYOffset===void 0&&(e.scene.publish.joystickSizeAndXYOffset=jc.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(xc(e,K6),bc(e,K6),e.schema=101),t<102&&(W1e(e),e.schema=102),t<104&&(e.shared.catelogs=new st,e.shared.lib=Dl.defaultData(),e.schema=104),t<105&&(Y1e(e),e.scene.objects.traverse((i,r)=>{OU(r)}),e.schema=105);for(let i of Object.values(e.shared.lib.components))X1e(i);t<106&&(K1e(e),e.schema=106),t<107&&(e.shared.lib.variables=Dl.defaultData().variables,e.schema=107),t<109&&(J1e(e),e.schema=109),t<110&&(Q1e(e),e.schema=110),t<111&&(e.scene.objects.traverse((i,r)=>{q1e(r)}),e.schema=111),t<112&&($1e(e),e.schema=112),t<113&&(Z1e(e),e.schema=113),t<114&&(e.scene.publish.settings.web.imageQuality===void 0&&(e.scene.publish.settings.web.imageQuality=70),e.schema=114),t<115&&(ebe(e),e.schema=115)}}var Cx;(e=>{e.defaultData={schema:Zs,scene:id.defaultData,frames:new st().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",ag.defaultData),shared:{...Da.emptyData(),colors:Da.defaultColors()}},e.emptyDataForImports=function(){let a=id.emptyDataWithPage();return{schema:Zs,scene:a,frames:new st().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",ag.defaultData),shared:{...Da.emptyData(),colors:Da.defaultColors(),images:Da.defaultImages()}}},e.emptyData=function(){return{schema:Zs,scene:id.emptyDataWithPage(),frames:new st().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",ag.defaultData),shared:Da.emptyData()}},e.clipboard2dData=function(){return{schema:Zs,scene:id.emptyData(),frames:new st,shared:Da.emptyData()}},e.collabHelper={...C3,updateSchema(a){return(a.schema??0)<Zs?nv(a,NU):(a.schema??0)-Zs}};function t(a){let c=e.collabHelper.updateSchema(a);return typeof c=="number"?c===0?a:null:c.data}e.updateSchemaDirectly=t;function i(a){return{...a,shared:{...a.shared,lib:Dl.defaultData()}}}e.withoutLib=i;function r(a,c){let l=a.scene.objects.get(c);if(l&&l.data.type==="Component")return l;{let o=a.shared.lib.components[c];if(o)return o.asset}}e.getComponentData=r;function n(a){let c=Object.values(a.shared.userAPIs);for(let l of c){let o=l.headers;for(let s of o)if(s.data.key.toLowerCase()==="authorization"&&s.data.value!=="")return!0}return!1}e.hasSensitiveData=n})(Cx||(Cx={}));var nT;(e=>e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"})(nT||(nT={}));var J6;(e=>{function t(i){return!0}e.is=t})(J6||(J6={}));var Ex;(e=>{e.defaultData={position:[0,0],scale:[1,1],rotation:0,shear:[0,0]};function t(r,n){return{position:(n==null?void 0:n.position)??r.position,rotation:(n==null?void 0:n.rotation)??r.rotation,scale:(n==null?void 0:n.scale)??r.scale,shear:(n==null?void 0:n.shear)??r.shear}}e.merge=t;function i(r,n){return XF({position:ml.isEqual(r.position,n.position)?void 0:n.position,rotation:r.rotation===n.rotation?void 0:n.rotation,scale:ml.isEqual(r.scale,n.scale)?void 0:n.scale,shear:r.shear&&n.shear&&ml.isEqual(r.shear,n.shear)?void 0:n.shear})}e.diff=i})(Ex||(Ex={}));var aT;(e=>e.defaultData={horizontalConstraint:0,verticalConstraint:0})(aT||(aT={}));var Q6;(e=>e.defaultData={direction:"row",wrap:"unwrap",align:"top-left",gap:10,rowGap:10,autoGap:!1,autoRowGap:!1,leftPadding:8,rightPadding:8,topPadding:8,bottomPadding:8})(Q6||(Q6={}));var Tx;(e=>e.defaultData={opacity:1,fill:{color:oi.fromHexAndA(va,1),enabled:!0},stroke:{color:oi.from0to1([0,0,0,1]),thickness:1,enabled:!1,mode:"inside"},layerBlur:{radius:2,enabled:!1},backgroundBlur:{radius:2,enabled:!1},dropShadow:{offset:[10,10],blurRadius:10,color:oi.from0to1([0,0,0,1]),enabled:!1,spread:0},innerShadow:{offset:[10,10],blurRadius:10,color:oi.from0to1([0,0,0,1]),enabled:!1,spread:0}})(Tx||(Tx={}));var rd;(e=>{function t(c,l){return{name:l}}e.newEmpty=t;function i(c,l){if(l===void 0)return c;let o={...c},s=["width","height","cornerRadius"];for(let u of s)u in o&&u in l&&l[u]!==void 0&&Object.assign(o,{[u]:l[u]});return o}function r(c,l){if(l===void 0)return c;let o={...c};return"fill"in o&&"fill"in l&&l.fill!==void 0&&Object.assign(o,{fill:{...o.fill,...l.fill}}),"stroke"in o&&"stroke"in l&&l.stroke!==void 0&&Object.assign(o,{stroke:{...o.stroke,...l.stroke}}),"layerBlur"in o&&"layerBlur"in l&&l.layerBlur!==void 0&&Object.assign(o,{layerBlur:{...o.layerBlur,...l.layerBlur}}),"backgroundBlur"in o&&"backgroundBlur"in l&&l.backgroundBlur!==void 0&&Object.assign(o,{backgroundBlur:{...o.backgroundBlur,...l.backgroundBlur}}),"dropShadow"in o&&"dropShadow"in l&&l.dropShadow!==void 0&&Object.assign(o,{dropShadow:{...o.dropShadow,...l.dropShadow}}),"innerShadow"in o&&"innerShadow"in l&&l.innerShadow!==void 0&&Object.assign(o,{innerShadow:{...o.innerShadow,...l.innerShadow}}),o}function n(c,l){if(l===void 0)return c;let o={...c};return Object.assign(o,Ex.merge(o,l)),o=i(o,l),o=r(o,l),o}e.patch=n;function a(c,l){let o,s=[];for(let[u,d]of Object.entries(l))u!=="name"&&(o===void 0&&(o={path:[],props:{},type:0},s.push(o)),o.props[u]=d);return s}e.toOps=a})(rd||(rd={}));var sv;(e=>e.defaultData={...Ex.defaultData,...aT.defaultData,states:new Ze,events:new Ze,visible:!0,raycastLock:!1})(sv||(sv={}));var $p;(e=>e.defaultData={...sv.defaultData,...Tx.defaultData})($p||($p={}));var Ax;(e=>e.defaultData={cornerRadius:[0,0,0,0]})(Ax||(Ax={}));var oT;(e=>e.defaultData={...$p.defaultData,type:"ellipse2d",width:100,height:100,name:"Ellipse"})(oT||(oT={}));var lv;(e=>e.defaultData={...$p.defaultData,...Ax.defaultData,type:"rectangle2d",width:100,height:100,name:"Rectangle"})(lv||(lv={}));var sT;(e=>e.defaultData={...$p.defaultData,type:"text2d",width:100,height:100,fontSize:12,lineHeight:1.2,letterSpacing:0,text:{textValue:"Hello world"},horizontalAlign:1,verticalAlign:1,textTransform:1,font:"Roboto_regular",name:"Text"})(sT||(sT={}));var lT;(e=>e.defaultData={...$p.defaultData,type:"path2d",path:"",name:"Path"})(lT||(lT={}));var $6;(e=>{function t(i){return i.type==="ellipse2d"||i.type==="rectangle2d"||i.type==="text2d"||i.type==="vector2d"||i.type==="path2d"}e.is=t})($6||($6={}));var Mx;(e=>e.defaultData={...sv.defaultData,name:"Group",type:"group2d"})(Mx||(Mx={}));var cT;(e=>e.defaultData=()=>({...sv.defaultData,...Ax.defaultData,...Tx.defaultData,name:"Frame",type:"frame2d",clipped:!0,width:200,height:200,fill:{color:oi.fromHexAndA(4737101,1),enabled:!0},stroke:{color:oi.fromHexAndA(0,1),thickness:1,enabled:!1,mode:"inside"},backgroundBlur:{radius:2,enabled:!1},layerBlur:{radius:2,enabled:!1}}))(cT||(cT={}));var vd;(e=>{function t(c){switch(c){case"rectangle2d":return{...lv.defaultData};case"ellipse2d":return{...oT.defaultData};case"text2d":return{...sT.defaultData};case"vector2d":return{...lv.defaultData};case"path2d":return{...lT.defaultData};case"frame2d":return{...cT.defaultData()};case"group2d":return{...Mx.defaultData}}}e.defaultData=t;function i(c){return"width"in c&&"height"in c?[typeof c.width=="number"?c.width*.5:0,typeof c.height=="number"?c.height*.5:0]:[0,0]}e.getPivot=i;function r(c){return c.type==="rectangle2d"||c.type==="ellipse2d"||c.type==="text2d"||c.type==="frame2d"}e.isResizeable=r;function n(c){return c.type==="frame2d"&&c.autoLayout!==void 0}e.isAutoLayoutable=n;function a(c){return c.type==="rectangle2d"||c.type==="frame2d"}e.hasCorners=a})(vd||(vd={}));var uT;(e=>(e.defaultData={name:"UI",type:"scene2d",objects:new $r},e.emptyData=function(){return{type:"scene2d",objects:new $r}}))(uT||(uT={}));function nd(e,t=!1){let i=e[0].index!==null,r=new Set(Object.keys(e[0].attributes)),n=new Set(Object.keys(e[0].morphAttributes)),a={},c={},l=e[0].morphTargetsRelative,o=new Qe,s=0;for(let u=0;u<e.length;++u){let d=e[u],h=0;if(i!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let p in d.attributes){if(!r.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;a[p]===void 0&&(a[p]=[]),a[p].push(d.attributes[p]),h++}if(h!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(l!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let p in d.morphAttributes){if(!n.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;c[p]===void 0&&(c[p]=[]),c[p].push(d.morphAttributes[p])}if(t){let p;if(i)p=d.index.count;else if(d.attributes.position!==void 0)p=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;o.addGroup(s,p,u),s+=p}}if(i){let u=0,d=[];for(let h=0;h<e.length;++h){let p=e[h].index;for(let m=0;m<p.count;++m)d.push(p.getX(m)+u);u+=e[h].attributes.position.count}o.setIndex(d)}for(let u in a){let d=Z6(a[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;o.setAttribute(u,d)}for(let u in c){let d=c[u][0].length;if(d===0)break;o.morphAttributes=o.morphAttributes||{},o.morphAttributes[u]=[];for(let h=0;h<d;++h){let p=[];for(let f=0;f<c[u].length;++f)p.push(c[u][f][h]);let m=Z6(p);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;o.morphAttributes[u].push(m)}}return o}function Z6(e){let t,i,r,n=0;for(let l=0;l<e.length;++l){let o=e[l];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(t===void 0&&(t=o.array.constructor),t!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(i===void 0&&(i=o.itemSize),i!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=o.normalized),r!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;n+=o.array.length}let a=new t(n),c=0;for(let l=0;l<e.length;++l)a.set(e[l].array,c),c+=e[l].array.length;return new ct(a,i,r)}var tbe=Math.pow(2,-24),my=class{constructor(){}};function rs(e,t,i){return i.min.x=t[e],i.min.y=t[e+1],i.min.z=t[e+2],i.max.x=t[e+3],i.max.y=t[e+4],i.max.z=t[e+5],i}function e8(e){let t=-1,i=-1/0;for(let r=0;r<3;r++){let n=e[r+3]-e[r];n>i&&(i=n,t=r)}return t}function t8(e,t){t.set(e)}function i8(e,t,i){let r,n;for(let a=0;a<3;a++){let c=a+3;r=e[a],n=t[a],i[a]=r<n?r:n,r=e[c],n=t[c],i[c]=r>n?r:n}}function gy(e,t,i){for(let r=0;r<3;r++){let n=t[e+2*r],a=t[e+2*r+1],c=n-a,l=n+a;c<i[r]&&(i[r]=c),l>i[r+3]&&(i[r+3]=l)}}function rm(e){let t=e[3]-e[0],i=e[4]-e[1],r=e[5]-e[2];return 2*(t*i+i*r+r*t)}function ibe(e,t){if(!e.index){let i=e.attributes.position.count,r=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,n;i>65535?n=new Uint32Array(new r(4*i)):n=new Uint16Array(new r(2*i)),e.setIndex(new ct(n,1));for(let a=0;a<i;a++)n[a]=a}}function rbe(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],i=new Set;for(let n of e.groups)i.add(n.start),i.add(n.start+n.count);let r=Array.from(i.values()).sort((n,a)=>n-a);for(let n=0;n<r.length-1;n++){let a=r[n],c=r[n+1];t.push({offset:a/3,count:(c-a)/3})}return t}function mS(e,t,i,r,n=null){let a=1/0,c=1/0,l=1/0,o=-1/0,s=-1/0,u=-1/0,d=1/0,h=1/0,p=1/0,m=-1/0,f=-1/0,g=-1/0,v=n!==null;for(let S=t*6,x=(t+i)*6;S<x;S+=6){let b=e[S+0],_=e[S+1],w=b-_,C=b+_;w<a&&(a=w),C>o&&(o=C),v&&b<d&&(d=b),v&&b>m&&(m=b);let E=e[S+2],A=e[S+3],T=E-A,M=E+A;T<c&&(c=T),M>s&&(s=M),v&&E<h&&(h=E),v&&E>f&&(f=E);let j=e[S+4],P=e[S+5],I=j-P,k=j+P;I<l&&(l=I),k>u&&(u=k),v&&j<p&&(p=j),v&&j>g&&(g=j)}r[0]=a,r[1]=c,r[2]=l,r[3]=o,r[4]=s,r[5]=u,v&&(n[0]=d,n[1]=h,n[2]=p,n[3]=m,n[4]=f,n[5]=g)}function nbe(e,t,i,r){let n=1/0,a=1/0,c=1/0,l=-1/0,o=-1/0,s=-1/0;for(let u=t*6,d=(t+i)*6;u<d;u+=6){let h=e[u+0];h<n&&(n=h),h>l&&(l=h);let p=e[u+2];p<a&&(a=p),p>o&&(o=p);let m=e[u+4];m<c&&(c=m),m>s&&(s=m)}r[0]=n,r[1]=a,r[2]=c,r[3]=l,r[4]=o,r[5]=s}function abe(e,t,i,r,n){let a=i,c=i+r-1,l=n.pos,o=n.axis*2;for(;;){for(;a<=c&&t[a*6+o]<l;)a++;for(;a<=c&&t[c*6+o]>=l;)c--;if(a<c){for(let s=0;s<3;s++){let u=e[a*3+s];e[a*3+s]=e[c*3+s],e[c*3+s]=u;let d=t[a*6+s*2+0];t[a*6+s*2+0]=t[c*6+s*2+0],t[c*6+s*2+0]=d;let h=t[a*6+s*2+1];t[a*6+s*2+1]=t[c*6+s*2+1],t[c*6+s*2+1]=h}a++,c--}else return a}}var Ws=32,obe=(e,t)=>e.candidate-t.candidate,Jl=new Array(Ws).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),vy=new Float32Array(6);function sbe(e,t,i,r,n,a){let c=-1,l=0;if(a===0)c=e8(t),c!==-1&&(l=(t[c]+t[c+3])/2);else if(a===1)c=e8(e),c!==-1&&(l=lbe(i,r,n,c));else if(a===2){let o=rm(e),s=1.25*n,u=r*6,d=(r+n)*6;for(let h=0;h<3;h++){let p=t[h],m=(t[h+3]-p)/Ws;if(n<Ws/4){let f=[...Jl];f.length=n;let g=0;for(let S=u;S<d;S+=6,g++){let x=f[g];x.candidate=i[S+2*h],x.count=0;let{bounds:b,leftCacheBounds:_,rightCacheBounds:w}=x;for(let C=0;C<3;C++)w[C]=1/0,w[C+3]=-1/0,_[C]=1/0,_[C+3]=-1/0,b[C]=1/0,b[C+3]=-1/0;gy(S,i,b)}f.sort(obe);let v=n;for(let S=0;S<v;S++){let x=f[S];for(;S+1<v&&f[S+1].candidate===x.candidate;)f.splice(S+1,1),v--}for(let S=u;S<d;S+=6){let x=i[S+2*h];for(let b=0;b<v;b++){let _=f[b];x>=_.candidate?gy(S,i,_.rightCacheBounds):(gy(S,i,_.leftCacheBounds),_.count++)}}for(let S=0;S<v;S++){let x=f[S],b=x.count,_=n-x.count,w=x.leftCacheBounds,C=x.rightCacheBounds,E=0;b!==0&&(E=rm(w)/o);let A=0;_!==0&&(A=rm(C)/o);let T=1+1.25*(E*b+A*_);T<s&&(c=h,s=T,l=x.candidate)}}else{for(let v=0;v<Ws;v++){let S=Jl[v];S.count=0,S.candidate=p+m+v*m;let x=S.bounds;for(let b=0;b<3;b++)x[b]=1/0,x[b+3]=-1/0}for(let v=u;v<d;v+=6){let S=~~((i[v+2*h]-p)/m);S>=Ws&&(S=Ws-1);let x=Jl[S];x.count++,gy(v,i,x.bounds)}let f=Jl[Ws-1];t8(f.bounds,f.rightCacheBounds);for(let v=Ws-2;v>=0;v--){let S=Jl[v],x=Jl[v+1];i8(S.bounds,x.rightCacheBounds,S.rightCacheBounds)}let g=0;for(let v=0;v<Ws-1;v++){let S=Jl[v],x=S.count,b=S.bounds,_=Jl[v+1].rightCacheBounds;x!==0&&(g===0?t8(b,vy):i8(b,vy,vy)),g+=x;let w=0,C=0;g!==0&&(w=rm(vy)/o);let E=n-g;E!==0&&(C=rm(_)/o);let A=1+1.25*(w*g+C*E);A<s&&(c=h,s=A,l=S.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${a} used.`);return{axis:c,pos:l}}function lbe(e,t,i,r){let n=0;for(let a=t,c=t+i;a<c;a++)n+=e[a*6+r*2];return n/i}function cbe(e,t){let i=e.attributes.position,r=e.index.array,n=r.length/3,a=new Float32Array(n*6),c=i.normalized,l=i.array,o=i.offset||0,s=3;i.isInterleavedBufferAttribute&&(s=i.data.stride);let u=["getX","getY","getZ"];for(let d=0;d<n;d++){let h=d*3,p=d*6,m,f,g;c?(m=r[h+0],f=r[h+1],g=r[h+2]):(m=r[h+0]*s+o,f=r[h+1]*s+o,g=r[h+2]*s+o);for(let v=0;v<3;v++){let S,x,b;c?(S=i[u[v]](m),x=i[u[v]](f),b=i[u[v]](g)):(S=l[m+v],x=l[f+v],b=l[g+v]);let _=S;x<_&&(_=x),b<_&&(_=b);let w=S;x>w&&(w=x),b>w&&(w=b);let C=(w-_)/2,E=v*2;a[p+E+0]=_+C,a[p+E+1]=C+(Math.abs(_)+C)*tbe,_<t[v]&&(t[v]=_),w>t[v+3]&&(t[v+3]=w)}}return a}function ube(e,t){function i(v){h&&h(v/p)}function r(v,S,x,b=null,_=0){if(!m&&_>=o&&(m=!0,s&&(console.warn(`MeshBVH: Max depth of ${o} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),x<=u||_>=o)return i(S+x),v.offset=S,v.count=x,v;let w=sbe(v.boundingData,b,c,S,x,d);if(w.axis===-1)return i(S+x),v.offset=S,v.count=x,v;let C=abe(l,c,S,x,w);if(C===S||C===S+x)i(S+x),v.offset=S,v.count=x;else{v.splitAxis=w.axis;let E=new my,A=S,T=C-S;v.left=E,E.boundingData=new Float32Array(6),mS(c,A,T,E.boundingData,a),r(E,A,T,a,_+1);let M=new my,j=C,P=x-T;v.right=M,M.boundingData=new Float32Array(6),mS(c,j,P,M.boundingData,a),r(M,j,P,a,_+1)}return v}ibe(e,t);let n=new Float32Array(6),a=new Float32Array(6),c=cbe(e,n),l=e.index.array,o=t.maxDepth,s=t.verbose,u=t.maxLeafTris,d=t.strategy,h=t.onProgress,p=e.index.count/3,m=!1,f=[],g=rbe(e);if(g.length===1){let v=g[0],S=new my;S.boundingData=n,nbe(c,v.offset,v.count,a),r(S,v.offset,v.count,a),f.push(S)}else for(let v of g){let S=new my;S.boundingData=new Float32Array(6),mS(c,v.offset,v.count,S.boundingData,a),r(S,v.offset,v.count,a),f.push(S)}return f}function dbe(e,t){let i=ube(e,t),r,n,a,c=[],l=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let u=0;u<i.length;u++){let d=i[u],h=o(d),p=new l(32*h);r=new Float32Array(p),n=new Uint32Array(p),a=new Uint16Array(p),s(0,d),c.push(p)}return c;function o(u){return u.count?1:1+o(u.left)+o(u.right)}function s(u,d){let h=u/4,p=u/2,m=!!d.count,f=d.boundingData;for(let g=0;g<6;g++)r[h+g]=f[g];if(m){let g=d.offset,v=d.count;return n[h+6]=g,a[p+14]=v,a[p+15]=65535,u+32}else{let g=d.left,v=d.right,S=d.splitAxis,x;if(x=s(u+32,g),x/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return n[h+6]=x/4,x=s(x,v),n[h+7]=S,x}}}var Ol=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let i=1/0,r=-1/0;for(let n=0,a=e.length;n<a;n++){let c=e[n][t];i=c<i?c:i,r=c>r?c:r}this.min=i,this.max=r}setFromPoints(e,t){let i=1/0,r=-1/0;for(let n=0,a=t.length;n<a;n++){let c=t[n],l=e.dot(c);i=l<i?l:i,r=l>r?l:r}this.min=i,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}};Ol.prototype.setFromBox=function(){let e=new N;return function(t,i){let r=i.min,n=i.max,a=1/0,c=-1/0;for(let l=0;l<=1;l++)for(let o=0;o<=1;o++)for(let s=0;s<=1;s++){e.x=r.x*l+n.x*(1-l),e.y=r.y*o+n.y*(1-o),e.z=r.z*s+n.z*(1-s);let u=t.dot(e);a=Math.min(u,a),c=Math.max(u,c)}this.min=a,this.max=c}}();var hbe=function(){let e=new N,t=new N,i=new N;return function(r,n,a){let c=r.start,l=e,o=n.start,s=t;i.subVectors(c,o),e.subVectors(r.end,r.start),t.subVectors(n.end,n.start);let u=i.dot(s),d=s.dot(l),h=s.dot(s),p=i.dot(l),m=l.dot(l)*h-d*d,f,g;m!==0?f=(u*d-p*h)/m:f=0,g=(u+f*d)/h,a.x=f,a.y=g}}(),GM=function(){let e=new re,t=new N,i=new N;return function(r,n,a,c){hbe(r,n,e);let l=e.x,o=e.y;if(l>=0&&l<=1&&o>=0&&o<=1){r.at(l,a),n.at(o,c);return}else if(l>=0&&l<=1){o<0?n.at(0,c):n.at(1,c),r.closestPointToPoint(c,!0,a);return}else if(o>=0&&o<=1){l<0?r.at(0,a):r.at(1,a),n.closestPointToPoint(a,!0,c);return}else{let s;l<0?s=r.start:s=r.end;let u;o<0?u=n.start:u=n.end;let d=t,h=i;if(r.closestPointToPoint(u,!0,t),n.closestPointToPoint(s,!0,i),d.distanceToSquared(u)<=h.distanceToSquared(s)){a.copy(d),c.copy(u);return}else{a.copy(s),c.copy(h);return}}}}(),pbe=function(){let e=new N,t=new N,i=new Yn,r=new Va;return function(n,a){let{radius:c,center:l}=n,{a:o,b:s,c:u}=a;if(r.start=o,r.end=s,r.closestPointToPoint(l,!0,e).distanceTo(l)<=c||(r.start=o,r.end=u,r.closestPointToPoint(l,!0,e).distanceTo(l)<=c)||(r.start=s,r.end=u,r.closestPointToPoint(l,!0,e).distanceTo(l)<=c))return!0;let d=a.getPlane(i);if(Math.abs(d.distanceToPoint(l))<=c){let h=d.projectPoint(l,t);if(a.containsPoint(h))return!0}return!1}}(),fbe=1e-15;function dh(e){return Math.abs(e)<fbe}var Rl=class extends Qr{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new N),this.satBounds=new Array(4).fill().map(()=>new Ol),this.points=[this.a,this.b,this.c],this.sphere=new aa,this.plane=new Yn,this.needsUpdate=!0}intersectsSphere(e){return pbe(e,this)}update(){let e=this.a,t=this.b,i=this.c,r=this.points,n=this.satAxes,a=this.satBounds,c=n[0],l=a[0];this.getNormal(c),l.setFromPoints(c,r);let o=n[1],s=a[1];o.subVectors(e,t),s.setFromPoints(o,r);let u=n[2],d=a[2];u.subVectors(t,i),d.setFromPoints(u,r);let h=n[3],p=a[3];h.subVectors(i,e),p.setFromPoints(h,r),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(c,e),this.needsUpdate=!1}};Rl.prototype.closestPointToSegment=function(){let e=new N,t=new N,i=new Va;return function(r,n=null,a=null){let{start:c,end:l}=r,o=this.points,s,u=1/0;for(let d=0;d<3;d++){let h=(d+1)%3;i.start.copy(o[d]),i.end.copy(o[h]),GM(i,r,e,t),s=e.distanceToSquared(t),s<u&&(u=s,n&&n.copy(e),a&&a.copy(t))}return this.closestPointToPoint(c,e),s=c.distanceToSquared(e),s<u&&(u=s,n&&n.copy(e),a&&a.copy(c)),this.closestPointToPoint(l,e),s=l.distanceToSquared(e),s<u&&(u=s,n&&n.copy(e),a&&a.copy(l)),Math.sqrt(u)}}();Rl.prototype.intersectsTriangle=function(){let e=new Rl,t=new Array(3),i=new Array(3),r=new Ol,n=new Ol,a=new N,c=new N,l=new N,o=new N,s=new Va,u=new Va,d=new Va;return function(h,p=null,m=!1){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(e.copy(h),e.update(),h=e);let f=this.plane,g=h.plane;if(Math.abs(f.normal.dot(g.normal))>1-1e-10){let v=this.satBounds,S=this.satAxes;i[0]=h.a,i[1]=h.b,i[2]=h.c;for(let _=0;_<4;_++){let w=v[_],C=S[_];if(r.setFromPoints(C,i),w.isSeparated(r))return!1}let x=h.satBounds,b=h.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let _=0;_<4;_++){let w=x[_],C=b[_];if(r.setFromPoints(C,t),w.isSeparated(r))return!1}for(let _=0;_<4;_++){let w=S[_];for(let C=0;C<4;C++){let E=b[C];if(a.crossVectors(w,E),r.setFromPoints(a,t),n.setFromPoints(a,i),r.isSeparated(n))return!1}}return p&&(m||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),p.start.set(0,0,0),p.end.set(0,0,0)),!0}else{let v=this.points,S=!1,x=0;for(let P=0;P<3;P++){let I=v[P],k=v[(P+1)%3];s.start.copy(I),s.end.copy(k),s.delta(c);let R=S?u.start:u.end,O=dh(g.distanceToPoint(I));if(dh(g.normal.dot(c))&&O){u.copy(s),x=2;break}if((g.intersectLine(s,R)||O)&&!dh(R.distanceTo(k))){if(x++,S)break;S=!0}}if(x===1&&h.containsPoint(u.end))return p&&(p.start.copy(u.end),p.end.copy(u.end)),!0;if(x!==2)return!1;let b=h.points,_=!1,w=0;for(let P=0;P<3;P++){let I=b[P],k=b[(P+1)%3];s.start.copy(I),s.end.copy(k),s.delta(l);let R=_?d.start:d.end,O=dh(f.distanceToPoint(I));if(dh(f.normal.dot(l))&&O){d.copy(s),w=2;break}if((f.intersectLine(s,R)||O)&&!dh(R.distanceTo(k))){if(w++,_)break;_=!0}}if(w===1&&this.containsPoint(d.end))return p&&(p.start.copy(d.end),p.end.copy(d.end)),!0;if(w!==2)return!1;if(u.delta(c),d.delta(l),c.dot(l)<0){let P=d.start;d.start=d.end,d.end=P}let C=u.start.dot(c),E=u.end.dot(c),A=d.start.dot(c),T=d.end.dot(c),M=E<A,j=C<T;return C!==T&&A!==E&&M===j?!1:(p&&(o.subVectors(u.start,d.start),o.dot(c)>0?p.start.copy(u.start):p.start.copy(d.start),o.subVectors(u.end,d.end),o.dot(c)<0?p.end.copy(u.end):p.end.copy(d.end)),!0)}}}();Rl.prototype.distanceToPoint=function(){let e=new N;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Rl.prototype.distanceToTriangle=function(){let e=new N,t=new N,i=["a","b","c"],r=new Va,n=new Va;return function(a,c=null,l=null){let o=c||l?r:null;if(this.intersectsTriangle(a,o))return(c||l)&&(c&&o.getCenter(c),l&&o.getCenter(l)),0;let s=1/0;for(let u=0;u<3;u++){let d,h=i[u],p=a[h];this.closestPointToPoint(p,e),d=p.distanceToSquared(e),d<s&&(s=d,c&&c.copy(e),l&&l.copy(p));let m=this[h];a.closestPointToPoint(m,e),d=m.distanceToSquared(e),d<s&&(s=d,c&&c.copy(m),l&&l.copy(e))}for(let u=0;u<3;u++){let d=i[u],h=i[(u+1)%3];r.set(this[d],this[h]);for(let p=0;p<3;p++){let m=i[p],f=i[(p+1)%3];n.set(a[m],a[f]),GM(r,n,e,t);let g=e.distanceToSquared(t);g<s&&(s=g,c&&c.copy(e),l&&l.copy(t))}}return Math.sqrt(s)}}();var Cs=class{constructor(e,t,i){this.isOrientedBox=!0,this.min=new N,this.max=new N,this.matrix=new Ie,this.invMatrix=new Ie,this.points=new Array(8).fill().map(()=>new N),this.satAxes=new Array(3).fill().map(()=>new N),this.satBounds=new Array(3).fill().map(()=>new Ol),this.alignedSatBounds=new Array(3).fill().map(()=>new Ol),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),i&&this.matrix.copy(i)}set(e,t,i){this.min.copy(e),this.max.copy(t),this.matrix.copy(i),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};Cs.prototype.update=function(){return function(){let e=this.matrix,t=this.min,i=this.max,r=this.points;for(let o=0;o<=1;o++)for(let s=0;s<=1;s++)for(let u=0;u<=1;u++){let d=1*o|2*s|4*u,h=r[d];h.x=o?i.x:t.x,h.y=s?i.y:t.y,h.z=u?i.z:t.z,h.applyMatrix4(e)}let n=this.satBounds,a=this.satAxes,c=r[0];for(let o=0;o<3;o++){let s=a[o],u=n[o],d=1<<o,h=r[d];s.subVectors(c,h),u.setFromPoints(s,r)}let l=this.alignedSatBounds;l[0].setFromPointsField(r,"x"),l[1].setFromPointsField(r,"y"),l[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();Cs.prototype.intersectsBox=function(){let e=new Ol;return function(t){this.needsUpdate&&this.update();let i=t.min,r=t.max,n=this.satBounds,a=this.satAxes,c=this.alignedSatBounds;if(e.min=i.x,e.max=r.x,c[0].isSeparated(e)||(e.min=i.y,e.max=r.y,c[1].isSeparated(e))||(e.min=i.z,e.max=r.z,c[2].isSeparated(e)))return!1;for(let l=0;l<3;l++){let o=a[l],s=n[l];if(e.setFromBox(o,t),s.isSeparated(e))return!1}return!0}}();Cs.prototype.intersectsTriangle=function(){let e=new Rl,t=new Array(3),i=new Ol,r=new Ol,n=new N;return function(a){this.needsUpdate&&this.update(),a.isExtendedTriangle?a.needsUpdate&&a.update():(e.copy(a),e.update(),a=e);let c=this.satBounds,l=this.satAxes;t[0]=a.a,t[1]=a.b,t[2]=a.c;for(let d=0;d<3;d++){let h=c[d],p=l[d];if(i.setFromPoints(p,t),h.isSeparated(i))return!1}let o=a.satBounds,s=a.satAxes,u=this.points;for(let d=0;d<3;d++){let h=o[d],p=s[d];if(i.setFromPoints(p,u),h.isSeparated(i))return!1}for(let d=0;d<3;d++){let h=l[d];for(let p=0;p<4;p++){let m=s[p];if(n.crossVectors(h,m),i.setFromPoints(n,t),r.setFromPoints(n,u),i.isSeparated(r))return!1}}return!0}}();Cs.prototype.closestPointToPoint=function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}();Cs.prototype.distanceToPoint=function(){let e=new N;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Cs.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new Va),i=new Array(12).fill().map(()=>new Va),r=new N,n=new N;return function(a,c=0,l=null,o=null){if(this.needsUpdate&&this.update(),this.intersectsBox(a))return(l||o)&&(a.getCenter(n),this.closestPointToPoint(n,r),a.closestPointToPoint(r,n),l&&l.copy(r),o&&o.copy(n)),0;let s=c*c,u=a.min,d=a.max,h=this.points,p=1/0;for(let f=0;f<8;f++){let g=h[f];n.copy(g).clamp(u,d);let v=g.distanceToSquared(n);if(v<p&&(p=v,l&&l.copy(g),o&&o.copy(n),v<s))return Math.sqrt(v)}let m=0;for(let f=0;f<3;f++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){let S=(f+1)%3,x=(f+2)%3,b=g<<S|v<<x,_=1<<f|g<<S|v<<x,w=h[b],C=h[_];t[m].set(w,C);let E=e[f],A=e[S],T=e[x],M=i[m],j=M.start,P=M.end;j[E]=u[E],j[A]=g?u[A]:d[A],j[T]=v?u[T]:d[A],P[E]=d[E],P[A]=g?u[A]:d[A],P[T]=v?u[T]:d[A],m++}for(let f=0;f<=1;f++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){n.x=f?d.x:u.x,n.y=g?d.y:u.y,n.z=v?d.z:u.z,this.closestPointToPoint(n,r);let S=n.distanceToSquared(r);if(S<p&&(p=S,l&&l.copy(r),o&&o.copy(n),S<s))return Math.sqrt(S)}for(let f=0;f<12;f++){let g=t[f];for(let v=0;v<12;v++){let S=i[v];GM(g,S,r,n);let x=r.distanceToSquared(n);if(x<p&&(p=x,l&&l.copy(r),o&&o.copy(n),x<s))return Math.sqrt(x)}}return Math.sqrt(p)}}();var hh=new N,ph=new N,fh=new N,yy=new re,by=new re,xy=new re,r8=new N,n8=new N,a8=new N,wy=new N;function mbe(e,t,i,r,n,a){let c;return a===Nr?c=e.intersectTriangle(r,i,t,!0,n):c=e.intersectTriangle(t,i,r,a!==vn,n),c===null?null:{distance:e.origin.distanceTo(n),point:n.clone()}}function gbe(e,t,i,r,n,a,c,l,o){hh.fromBufferAttribute(t,a),ph.fromBufferAttribute(t,c),fh.fromBufferAttribute(t,l);let s=mbe(e,hh,ph,fh,wy,o);if(s){r&&(yy.fromBufferAttribute(r,a),by.fromBufferAttribute(r,c),xy.fromBufferAttribute(r,l),s.uv=Qr.getInterpolation(wy,hh,ph,fh,yy,by,xy,new re)),n&&(yy.fromBufferAttribute(n,a),by.fromBufferAttribute(n,c),xy.fromBufferAttribute(n,l),s.uv1=Qr.getInterpolation(wy,hh,ph,fh,yy,by,xy,new re)),i&&(r8.fromBufferAttribute(i,a),n8.fromBufferAttribute(i,c),a8.fromBufferAttribute(i,l),s.normal=Qr.getInterpolation(wy,hh,ph,fh,r8,n8,a8,new N),s.normal.dot(e.direction)>0&&s.normal.multiplyScalar(-1));let u={a,b:c,c:l,normal:new N,materialIndex:0};Qr.getNormal(hh,ph,fh,u.normal),s.face=u,s.faceIndex=a}return s}function LU(e,t,i,r,n){let a=r*3,c=e.index.getX(a),l=e.index.getX(a+1),o=e.index.getX(a+2),{position:s,normal:u,uv:d,uv1:h}=e.attributes,p=gbe(i,s,u,d,h,c,l,o,t);return p?(p.faceIndex=r,n&&n.push(p),p):null}function vbe(e,t,i,r,n,a){for(let c=r,l=r+n;c<l;c++)LU(e,t,i,c,a)}function ybe(e,t,i,r,n){let a=1/0,c=null;for(let l=r,o=r+n;l<o;l++){let s=LU(e,t,i,l);s&&s.distance<a&&(c=s,a=s.distance)}return c}function Zo(e,t,i,r){let n=e.a,a=e.b,c=e.c,l=t,o=t+1,s=t+2;i&&(l=i.getX(t),o=i.getX(t+1),s=i.getX(t+2)),n.x=r.getX(l),n.y=r.getY(l),n.z=r.getZ(l),a.x=r.getX(o),a.y=r.getY(o),a.z=r.getZ(o),c.x=r.getX(s),c.y=r.getY(s),c.z=r.getZ(s)}function o8(e,t,i,r,n,a,c){let l=i.index,o=i.attributes.position;for(let s=e,u=t+e;s<u;s++)if(Zo(c,s*3,l,o),c.needsUpdate=!0,r(c,s,n,a))return!0;return!1}var zU=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function wc(e,t){return t[e+15]===65535}function bp(e,t){return t[e+6]}function cv(e,t){return t[e+14]}function uv(e){return e+8}function dv(e,t){return t[e+6]}function bbe(e,t){return t[e+7]}var Qh=new Zi,jx=new N,xbe=["x","y","z"];function dT(e,t,i,r,n){let a=e*2,c=If,l=Kc,o=Xc;if(wc(a,l)){let s=bp(e,o),u=cv(a,l);vbe(t,i,r,s,u,n)}else{let s=uv(e);Ix(s,c,r,jx)&&dT(s,t,i,r,n);let u=dv(e,o);Ix(u,c,r,jx)&&dT(u,t,i,r,n)}}function hT(e,t,i,r){let n=e*2,a=If,c=Kc,l=Xc;if(wc(n,c)){let o=bp(e,l),s=cv(n,c);return ybe(t,i,r,o,s)}else{let o=bbe(e,l),s=xbe[o],u=r.direction[s]>=0,d,h;u?(d=uv(e),h=dv(e,l)):(d=dv(e,l),h=uv(e));let p=Ix(d,a,r,jx)?hT(d,t,i,r):null;if(p){let f=p.point[s];if(u?f<=a[h+o]:f>=a[h+o+3])return p}let m=Ix(h,a,r,jx)?hT(h,t,i,r):null;return p&&m?p.distance<=m.distance?p:m:p||m||null}}var wbe=function(){let e,t,i=[],r=new zU(()=>new Zi);return function(...a){e=r.getPrimitive(),t=r.getPrimitive(),i.push(e,t);let c=n(...a);r.releasePrimitive(e),r.releasePrimitive(t),i.pop(),i.pop();let l=i.length;return l>0&&(t=i[l-1],e=i[l-2]),c};function n(a,c,l,o,s=null,u=0,d=0){function h(S){let x=S*2,b=Kc,_=Xc;for(;!wc(x,b);)S=uv(S),x=S*2;return bp(S,_)}function p(S){let x=S*2,b=Kc,_=Xc;for(;!wc(x,b);)S=dv(S,_),x=S*2;return bp(S,_)+cv(x,b)}let m=a*2,f=If,g=Kc,v=Xc;if(wc(m,g)){let S=bp(a,v),x=cv(m,g);return rs(a,f,e),o(S,x,!1,d,u+a,e)}else{let S=uv(a),x=dv(a,v),b=S,_=x,w,C,E,A;if(s&&(E=e,A=t,rs(b,f,E),rs(_,f,A),w=s(E),C=s(A),C<w)){b=x,_=S;let R=w;w=C,C=R,E=A}E||(E=e,rs(b,f,E));let T=wc(b*2,g),M=l(E,T,w,d+1,u+b),j;if(M===2){let R=h(b),O=p(b)-R;j=o(R,O,!0,d+1,u+b,E)}else j=M&&n(b,c,l,o,s,u,d+1);if(j)return!0;A=t,rs(_,f,A);let P=wc(_*2,g),I=l(A,P,C,d+1,u+_),k;if(I===2){let R=h(_),O=p(_)-R;k=o(R,O,!0,d+1,u+_,A)}else k=I&&n(_,c,l,o,s,u,d+1);return!!k}}}(),_be=function(){let e=new Rl,t=new Rl,i=new Ie,r=new Cs,n=new Cs;return function a(c,l,o,s,u=null){let d=c*2,h=If,p=Kc,m=Xc;if(u===null&&(o.boundingBox||o.computeBoundingBox(),r.set(o.boundingBox.min,o.boundingBox.max,s),u=r),wc(d,p)){let f=l,g=f.index,v=f.attributes.position,S=o.index,x=o.attributes.position,b=bp(c,m),_=cv(d,p);if(i.copy(s).invert(),o.boundsTree)return rs(c,h,n),n.matrix.copy(i),n.needsUpdate=!0,o.boundsTree.shapecast({intersectsBounds:w=>n.intersectsBox(w),intersectsTriangle:w=>{w.a.applyMatrix4(s),w.b.applyMatrix4(s),w.c.applyMatrix4(s),w.needsUpdate=!0;for(let C=b*3,E=(_+b)*3;C<E;C+=3)if(Zo(t,C,g,v),t.needsUpdate=!0,w.intersectsTriangle(t))return!0;return!1}});for(let w=b*3,C=_+b*3;w<C;w+=3){Zo(e,w,g,v),e.a.applyMatrix4(i),e.b.applyMatrix4(i),e.c.applyMatrix4(i),e.needsUpdate=!0;for(let E=0,A=S.count;E<A;E+=3)if(Zo(t,E,S,x),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let f=c+8,g=m[c+6];return rs(f,h,Qh),!!(u.intersectsBox(Qh)&&a(f,l,o,s,u)||(rs(g,h,Qh),u.intersectsBox(Qh)&&a(g,l,o,s,u)))}}}();function Ix(e,t,i,r){return rs(e,t,Qh),i.intersectBox(Qh,r)}var pT=[],P1,If,Kc,Xc;function km(e){P1&&pT.push(P1),P1=e,If=new Float32Array(e),Kc=new Uint16Array(e),Xc=new Uint32Array(e)}function _y(){P1=null,If=null,Kc=null,Xc=null,pT.length&&km(pT.pop())}var gS=Symbol("skip tree generation"),vS=new Zi,yS=new Zi,mh=new Ie,Cu=new Cs,nm=new Cs,am=new N,Sy=new N,Sbe=new N,Cbe=new N,Ebe=new N,s8=new Zi,zo=new zU(()=>new Rl),og=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),og.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};let i=e.geometry,r=e._roots,n=i.getIndex(),a;return t.cloneBuffers?a={roots:r.map(c=>c.slice()),index:n.array.slice()}:a={roots:r,index:n.array},a}static deserialize(e,t,i={}){if(typeof i=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),og.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});i={setIndex:!0,...i};let{index:r,roots:n}=e,a=new og(t,{...i,[gS]:!0});if(a._roots=n,i.setIndex){let c=t.getIndex();if(c===null){let l=new ct(e.index,1,!1);t.setIndex(l)}else c.array!==r&&(c.array.set(r),c.needsUpdate=!0)}return a}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[gS]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[gS]||(this._roots=dbe(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Zi))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t=this.geometry,i=t.index.array,r=t.attributes.position,n,a,c,l,o=0,s=this._roots;for(let d=0,h=s.length;d<h;d++)n=s[d],a=new Uint32Array(n),c=new Uint16Array(n),l=new Float32Array(n),u(0,o),o+=n.byteLength;function u(d,h,p=!1){let m=d*2;if(c[m+15]===65535){let f=a[d+6],g=c[m+14],v=1/0,S=1/0,x=1/0,b=-1/0,_=-1/0,w=-1/0;for(let C=3*f,E=3*(f+g);C<E;C++){let A=i[C],T=r.getX(A),M=r.getY(A),j=r.getZ(A);T<v&&(v=T),T>b&&(b=T),M<S&&(S=M),M>_&&(_=M),j<x&&(x=j),j>w&&(w=j)}return l[d+0]!==v||l[d+1]!==S||l[d+2]!==x||l[d+3]!==b||l[d+4]!==_||l[d+5]!==w?(l[d+0]=v,l[d+1]=S,l[d+2]=x,l[d+3]=b,l[d+4]=_,l[d+5]=w,!0):!1}else{let f=d+8,g=a[d+6],v=f+h,S=g+h,x=p,b=!1,_=!1;e?x||(b=e.has(v),_=e.has(S),x=!b&&!_):(b=!0,_=!0);let w=x||b,C=x||_,E=!1;w&&(E=u(f,h,x));let A=!1;C&&(A=u(g,h,x));let T=E||A;if(T)for(let M=0;M<3;M++){let j=f+M,P=g+M,I=l[j],k=l[j+3],R=l[P],O=l[P+3];l[d+M]=I<R?I:R,l[d+M+3]=k>O?k:O}return T}}}traverse(e,t=0){let i=this._roots[t],r=new Uint32Array(i),n=new Uint16Array(i);a(0);function a(c,l=0){let o=c*2,s=n[o+15]===65535;if(s){let u=r[c+6],d=n[o+14];e(l,s,new Float32Array(i,c*4,6),u,d)}else{let u=c+8,d=r[c+6],h=r[c+7];e(l,s,new Float32Array(i,c*4,6),h)||(a(u,l+1),a(d,l+1))}}}raycast(e,t=To){let i=this._roots,r=this.geometry,n=[],a=t.isMaterial,c=Array.isArray(t),l=r.groups,o=a?t.side:t;for(let s=0,u=i.length;s<u;s++){let d=c?t[l[s].materialIndex].side:o,h=n.length;if(km(i[s]),dT(0,r,d,e,n),_y(),c){let p=l[s].materialIndex;for(let m=h,f=n.length;m<f;m++)n[m].face.materialIndex=p}}return n}raycastFirst(e,t=To){let i=this._roots,r=this.geometry,n=t.isMaterial,a=Array.isArray(t),c=null,l=r.groups,o=n?t.side:t;for(let s=0,u=i.length;s<u;s++){let d=a?t[l[s].materialIndex].side:o;km(i[s]);let h=hT(0,r,d,e);_y(),h!=null&&(c==null||h.distance<c.distance)&&(c=h,a&&(h.face.materialIndex=l[s].materialIndex))}return c}intersectsGeometry(e,t){let i=this.geometry,r=!1;for(let n of this._roots)if(km(n),r=_be(0,i,e,t),_y(),r)break;return r}shapecast(e,t,i){let r=this.geometry;if(e instanceof Function){if(t){let d=t;t=(h,p,m,f)=>{let g=p*3;return d(h,g,g+1,g+2,m,f)}}e={boundsTraverseOrder:i,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let n=zo.getPrimitive(),{boundsTraverseOrder:a,intersectsBounds:c,intersectsRange:l,intersectsTriangle:o}=e;if(l&&o){let d=l;l=(h,p,m,f,g)=>d(h,p,m,f,g)?!0:o8(h,p,r,o,m,f,n)}else l||(o?l=(d,h,p,m)=>o8(d,h,r,o,p,m,n):l=(d,h,p)=>p);let s=!1,u=0;for(let d of this._roots){if(km(d),s=wbe(0,r,c,l,a,u),_y(),s)break;u+=d.byteLength}return zo.releasePrimitive(n),s}bvhcast(e,t,i){let{intersectsRanges:r,intersectsTriangles:n}=i,a=this.geometry.index,c=this.geometry.attributes.position,l=e.geometry.index,o=e.geometry.attributes.position;mh.copy(t).invert();let s=zo.getPrimitive(),u=zo.getPrimitive();if(n){let h=function(p,m,f,g,v,S,x,b){for(let _=f,w=f+g;_<w;_++){Zo(u,_*3,l,o),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let C=p,E=p+m;C<E;C++)if(Zo(s,C*3,a,c),s.needsUpdate=!0,n(s,u,C,_,v,S,x,b))return!0}return!1};if(r){let p=r;r=function(m,f,g,v,S,x,b,_){return p(m,f,g,v,S,x,b,_)?!0:h(m,f,g,v,S,x,b,_)}}else r=h}e.getBoundingBox(yS),yS.applyMatrix4(t);let d=this.shapecast({intersectsBounds:h=>yS.intersectsBox(h),intersectsRange:(h,p,m,f,g,v)=>(vS.copy(v),vS.applyMatrix4(mh),e.shapecast({intersectsBounds:S=>vS.intersectsBox(S),intersectsRange:(S,x,b,_,w)=>r(h,p,S,x,f,g,_,w)}))});return zo.releasePrimitive(s),zo.releasePrimitive(u),d}intersectsBox(e,t){return Cu.set(e.min,e.max,t),Cu.needsUpdate=!0,this.shapecast({intersectsBounds:i=>Cu.intersectsBox(i),intersectsTriangle:i=>Cu.intersectsTriangle(i)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,i={},r={},n=0,a=1/0){e.boundingBox||e.computeBoundingBox(),Cu.set(e.boundingBox.min,e.boundingBox.max,t),Cu.needsUpdate=!0;let c=this.geometry,l=c.attributes.position,o=c.index,s=e.attributes.position,u=e.index,d=zo.getPrimitive(),h=zo.getPrimitive(),p=Sy,m=Sbe,f=null,g=null;r&&(f=Cbe,g=Ebe);let v=1/0,S=null,x=null;return mh.copy(t).invert(),nm.matrix.copy(mh),this.shapecast({boundsTraverseOrder:b=>Cu.distanceToBox(b),intersectsBounds:(b,_,w)=>w<v&&w<a?(_&&(nm.min.copy(b.min),nm.max.copy(b.max),nm.needsUpdate=!0),!0):!1,intersectsRange:(b,_)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:w=>nm.distanceToBox(w),intersectsBounds:(w,C,E)=>E<v&&E<a,intersectsRange:(w,C)=>{for(let E=w*3,A=(w+C)*3;E<A;E+=3){Zo(h,E,u,s),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let T=b*3,M=(b+_)*3;T<M;T+=3){Zo(d,T,o,l),d.needsUpdate=!0;let j=d.distanceToTriangle(h,p,f);if(j<v&&(m.copy(p),g&&g.copy(f),v=j,S=T/3,x=E/3),j<n)return!0}}}});{let w=u?u.count:s.count;for(let C=0,E=w;C<E;C+=3){Zo(h,C,u,s),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let A=b*3,T=(b+_)*3;A<T;A+=3){Zo(d,A,o,l),d.needsUpdate=!0;let M=d.distanceToTriangle(h,p,f);if(M<v&&(m.copy(p),g&&g.copy(f),v=M,S=A/3,x=C/3),M<n)return!0}}}}}),zo.releasePrimitive(d),zo.releasePrimitive(h),v===1/0?null:(i.point?i.point.copy(m):i.point=m.clone(),i.distance=v,i.faceIndex=S,r&&(r.point?r.point.copy(g):r.point=g.clone(),r.point.applyMatrix4(mh),m.applyMatrix4(mh),r.distance=m.sub(r.point).length(),r.faceIndex=x),i)}closestPointToPoint(e,t={},i=0,r=1/0){let n=i*i,a=r*r,c=1/0,l=null;if(this.shapecast({boundsTraverseOrder:s=>(am.copy(e).clamp(s.min,s.max),am.distanceToSquared(e)),intersectsBounds:(s,u,d)=>d<c&&d<a,intersectsTriangle:(s,u)=>{s.closestPointToPoint(e,am);let d=e.distanceToSquared(am);return d<c&&(Sy.copy(am),c=d,l=u),d<n}}),c===1/0)return null;let o=Math.sqrt(c);return t.point?t.point.copy(Sy):t.point=Sy.clone(),t.distance=o,t.faceIndex=l,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{rs(0,new Float32Array(t),s8),e.union(s8)}),e}},fT=pu(Tre()),Tbe=.5*(Math.sqrt(3)-1),om=(3-Math.sqrt(3))/6,Abe=1/3,Bo=1/6,sg=e=>Math.floor(e)|0,l8=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),bS=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function Mbe(e=Math.random){let t=BU(e),i=new Float64Array(t).map(n=>l8[n%12*2]),r=new Float64Array(t).map(n=>l8[n%12*2+1]);return function(n,a){let c=0,l=0,o=0,s=(n+a)*Tbe,u=sg(n+s),d=sg(a+s),h=(u+d)*om,p=u-h,m=d-h,f=n-p,g=a-m,v,S;f>g?(v=1,S=0):(v=0,S=1);let x=f-v+om,b=g-S+om,_=f-1+2*om,w=g-1+2*om,C=u&255,E=d&255,A=.5-f*f-g*g;if(A>=0){let j=C+t[E],P=i[j],I=r[j];A*=A,c=A*A*(P*f+I*g)}let T=.5-x*x-b*b;if(T>=0){let j=C+v+t[E+S],P=i[j],I=r[j];T*=T,l=T*T*(P*x+I*b)}let M=.5-_*_-w*w;if(M>=0){let j=C+1+t[E+1],P=i[j],I=r[j];M*=M,o=M*M*(P*_+I*w)}return 70*(c+l+o)}}function jbe(e=Math.random){let t=BU(e),i=new Float64Array(t).map(a=>bS[a%12*3]),r=new Float64Array(t).map(a=>bS[a%12*3+1]),n=new Float64Array(t).map(a=>bS[a%12*3+2]);return function(a,c,l){let o,s,u,d,h=(a+c+l)*Abe,p=sg(a+h),m=sg(c+h),f=sg(l+h),g=(p+m+f)*Bo,v=p-g,S=m-g,x=f-g,b=a-v,_=c-S,w=l-x,C,E,A,T,M,j;b>=_?_>=w?(C=1,E=0,A=0,T=1,M=1,j=0):b>=w?(C=1,E=0,A=0,T=1,M=0,j=1):(C=0,E=0,A=1,T=1,M=0,j=1):_<w?(C=0,E=0,A=1,T=0,M=1,j=1):b<w?(C=0,E=1,A=0,T=0,M=1,j=1):(C=0,E=1,A=0,T=1,M=1,j=0);let P=b-C+Bo,I=_-E+Bo,k=w-A+Bo,R=b-T+2*Bo,O=_-M+2*Bo,D=w-j+2*Bo,L=b-1+3*Bo,B=_-1+3*Bo,F=w-1+3*Bo,H=p&255,ee=m&255,U=f&255,X=.6-b*b-_*_-w*w;if(X<0)o=0;else{let ae=H+t[ee+t[U]];X*=X,o=X*X*(i[ae]*b+r[ae]*_+n[ae]*w)}let W=.6-P*P-I*I-k*k;if(W<0)s=0;else{let ae=H+C+t[ee+E+t[U+A]];W*=W,s=W*W*(i[ae]*P+r[ae]*I+n[ae]*k)}let ie=.6-R*R-O*O-D*D;if(ie<0)u=0;else{let ae=H+T+t[ee+M+t[U+j]];ie*=ie,u=ie*ie*(i[ae]*R+r[ae]*O+n[ae]*D)}let Q=.6-L*L-B*B-F*F;if(Q<0)d=0;else{let ae=H+1+t[ee+1+t[U+1]];Q*=Q,d=Q*Q*(i[ae]*L+r[ae]*B+n[ae]*F)}return 32*(o+s+u+d)}}function BU(e){let t=new Uint8Array(512);for(let i=0;i<512/2;i++)t[i]=i;for(let i=0;i<512/2-1;i++){let r=i+~~(e()*(256-i)),n=t[i];t[i]=t[r],t[r]=n}for(let i=256;i<512;i++)t[i]=t[i-256];return t}var ro=new Qr,Ibe=class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let r=0;r<e.count;r+=3){let n=1;ro.a.fromBufferAttribute(e,r),ro.b.fromBufferAttribute(e,r+1),ro.c.fromBufferAttribute(e,r+2),n*=ro.getArea(),t[r/3]=n}this.distribution=new Float32Array(e.count/3);let i=0;for(let r=0;r<t.length;r++)i+=t[r],this.distribution[r]=i;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let i=this.distribution[this.distribution.length-1],r=this.binarySearch(this.randomFunction()*i);return this.sampleFace(r,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,i=0,r=t.length-1,n=-1;for(;i<=r;){let a=Math.ceil((i+r)/2);if(a===0||t[a-1]<=e&&t[a]>e){n=a;break}else e<t[a]?r=a-1:i=a+1}return n}sampleFace(e,t,i){let r=this.randomFunction(),n=this.randomFunction();return r+n>1&&(r=1-r,n=1-n),ro.a.fromBufferAttribute(this.positionAttribute,e*3),ro.b.fromBufferAttribute(this.positionAttribute,e*3+1),ro.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(ro.a,r).addScaledVector(ro.b,n).addScaledVector(ro.c,1-(r+n)),ro.getNormal(i),this}},Pbe=pu(bB()),kbe=new Ie,Dbe=new Ie,Obe=new Ie,Dd;(e=>{function t(i){return i&&i.__isSPEObject}e.is=t})(Dd||(Dd={}));var WM=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Ie,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Ie,this.matrixWorldRigid=new Ie,this.shearScale=new Ie,this.shearScaleInv=new Ie}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof ti&&(t=t.uuid);let i=this;for(;i.parent;){if(i.parent.uuid===t)return!0;i=i.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let i of this.children)i.updateMatrixWorld(t)}updateWorldMatrix(t,i){let r=this.parent;if(t&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),i)for(let n of this.children)n.updateWorldMatrix(!1,!0)}traverseChildren(t,i=0){for(let r of this.children)Dd.is(r)&&r.traverseObject(t,i+1)}traverseObject(t,i=0){if(t(this,i)!==!0)for(let r of this.children)Dd.is(r)&&r.traverseObject(t,i+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,i=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:r,v:n,q:a}=(0,Pbe.SVD)(i),c=kbe.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),l=Dbe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),o=Obe.copy(l).transpose();this.shearScale.makeScale(a[0],a[1],a[2]).multiply(o).premultiply(l),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(c,o).copyPosition(this.matrixWorld),a.every(s=>Math.abs(a[0]-s)<.01)?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(t,i){this.updateWorldMatrix(!0,!1);let r=new Ie().copy(this.matrixWorld).invert();return t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),r.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Ie?t.hiddenMatrix.premultiply(r):t.applyMatrix4(r),t.updateWorldMatrix(!1,!1),this.add(t),i!==void 0&&(this.children.pop(),this.children.splice(i,0,t)),this}copy(t,i=!1){return super.copy(t,i),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,i,r,n,a,c){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},Rbe=class extends WM(ti){},Nbe=e=>e.type==="Mesh",en=class extends Rbe{constructor(t){super(),this.object=t,this.matrixAutoUpdate=!1,this.hasNonUniformScale=t.hasNonUniformScale}raycast(t,i){}expand(){let t=0,i=this.object.entityChildren(t);for(;i;){let r=this.children[t];(r==null?void 0:r.object)!==i&&(r&&this.remove(r),r=new en(i),this.add(r),this.children.splice(t,0,this.children.pop()),r.matrixWorldNeedsUpdate=!0,r.matrixAutoUpdate=!1,r.matrix=i.matrix,r.hiddenMatrix=i.hiddenMatrix),r.expand(),t+=1,i=this.object.entityChildren(t)}for(;this.children.length>t;)this.remove(this.children[t])}get visible(){var t;return this.playModeVisible!==void 0?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&((t=this.object.dataPatched.cloner)==null?void 0:t.hideBase)===!0}set visible(t){}get castShadow(){return this.object.castShadow}set castShadow(t){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(t){}get isMesh(){return Nbe(this.object)}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(t){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},Uu=new N,Vu=new N,xp=new Ie,FU=[new N(-1,1,1),new N(-1,-1,1),new N(1,-1,1),new N(1,1,1),new N(-1,1,-1),new N(-1,-1,-1),new N(1,-1,-1),new N(1,1,-1)],Lbe=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],zbe=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],c8=(e,t,i)=>{e.updateEntityBoxSize(Uu,Vu),xp.copy(t).multiply(e.matrixWorld),Vu.x===0&&Vu.y===0&&Vu.z===0?i.push(new N(Uu.x,Uu.y,Uu.z).applyMatrix4(xp)):FU.forEach(r=>{i.push(r.clone().multiply(Vu).add(Uu).applyMatrix4(xp))})},u8=class extends Zi{constructor(){super(...arguments),this.matrix=new Ie,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let i=new Ie().copy(e.matrixWorld).invert();return this.expandByObjectSize(e,i,t)}expandByObjectSize(e,t,i=!1){let r=[];return i===!0?e.traverseEntity(n=>{if(n.visible||n.cloner&&n.data.visible){if(!("geometry"in n)){r.push(new N);return}c8(n,t,r)}}):c8(e,t,r),this.setFromPoints(r)}getCenter(e){return e=super.getCenter(e),e.applyMatrix4(this.matrix),e}getPositionToCenter(e){return e=super.getCenter(e),e.applyMatrix4(xp.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(Vu).multiplyScalar(.5),this.getCenter(Uu),xp.copy(this.matrix).setPosition(Uu),this.vertices=FU.map(e=>e.clone().multiply(Vu).applyMatrix4(xp))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=Lbe.map(([e,t])=>new Va(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new N))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=zbe.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},Ic={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},Bbe=class extends XB{constructor(){super()}getPoints(e=12){let t=[],i,r=this.getCurveLengths(),n=r[r.length-1]/r.length;for(let a=0,c=this.curves;a<c.length;a++){let l=c[a],o=a===0?r[a]:r[a]-r[a-1],s=Math.ceil(e*o/n),u=l.getPoints(s);for(let d=0;d<u.length;d++){let h=u[d];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},mT=.001;function gT(e,t,i){return t.clone().sub(e).cross(t.clone().sub(i)).length()<=mT}function xS(e,t){let i=new N(...e.position),r=new N(...e.controlNext.position),n=new N(...t.controlPrevious.position),a=new N(...t.position);return gT(i,r,a)&&gT(i,n,a)}function UU(e){let t=e.points.map(u=>new N(...u.data.position)),i=[e.points[0]],r=new N(...i[0].data.position);for(let u=0;u<e.points.length-1;u++)gT(r,t[u],t[u+1])||(i.push(e.points[u]),r=t[u]);i.push(e.points[e.points.length-1]);let n=e.isClosed,a=i.length-(n?0:1),c=i.length,l=[];for(let u=0;u<c;u++){let d=i[u].data,h=new N(...d.position),p=new N(...d.controlPrevious.position),m=new N(...d.controlNext.position),f={position:h,baseRoundness:d.roundness,controlPrevious:p,controlNext:m};if(d.roundness===0||!e.isClosed&&(u===0||u===c-1)){l[u]={...f,removedLength:0};continue}let g=n&&u==0?c-1:u-1,v=n&&u==c-1?0:u+1,S=i[g].data,x=i[v].data,b=new N(...S.position),_=new N(...x.position),w=b.clone().sub(h).normalize(),C=_.clone().sub(h).normalize();Object.assign(f,{prevDir:w,nextDir:C});let E=xS(S,d),A=xS(d,x);if(!E||!A)l[u]={...f,removedLength:0};else{let T=w.clone().add(C).normalize(),M=T.clone().cross(w).length()/w.dot(T);l[u]={...f,tan:M,removedLength:d.roundness/M}}}for(let u=0;u<a;u++){let d=u,h=n&&u===c-1?0:u+1,p=l[d],m=l[h];if(p.removedLength!==0||m.removedLength!==0){let f=p.position.distanceTo(m.position);p.removedLength=Math.min(p.removedLength,f/2),m.removedLength=Math.min(m.removedLength,f/2)}}let o=[];for(let u=0;u<a;u++){let d=u,h=n&&u===c-1?0:u+1,p=l[d],m=l[h],f=null;if(!xS(i[d].data,i[h].data))p.position.distanceTo(m.position)>mT&&(f=new T1(p.position,p.controlNext,m.controlPrevious,m.position));else{let g=p.position.clone(),v=m.position.clone();(p.removedLength!==0||m.removedLength!==0)&&(p.nextDir&&g.add(p.nextDir.clone().setLength(p.removedLength)),m.prevDir&&v.add(m.prevDir.clone().setLength(m.removedLength))),g.distanceTo(v)>mT&&(f=new T1(g,g.clone().lerp(v,.3),v.clone().lerp(g,.3),v))}o[2*u+1]=f}for(let u=0;u<c;u++){let d=l[u];if(d.removedLength===0){o[2*u]=null;continue}let h=d.position,p=d.prevDir.clone().multiplyScalar(d.removedLength).add(h),m=d.nextDir.clone().multiplyScalar(d.removedLength).add(h),f=d.tan*d.removedLength,g=d.prevDir.clone().add(d.nextDir).normalize(),v=p.clone().lerp(m,.5),S=p.distanceTo(m)/2,x=g.clone().multiplyScalar(Math.sqrt(Math.pow(f,2)-Math.pow(S,2))).add(v),b=g.clone().multiplyScalar(-f).add(x),_=h.distanceTo(b)/h.distanceTo(v),w=d.prevDir.clone().multiplyScalar(_*h.distanceTo(p)).add(h),C=w.clone().lerp(b,2),E=p.clone().lerp(w,4/3),A=m.clone().lerp(C,4/3);o[2*u]=new T1(p,E,A,m)}let s=new Bbe;return o.forEach(u=>{u&&s.add(u)}),s}var Ut;(e=>{function t(i){return i&&i.__isEntity}e.is=t})(Ut||(Ut={}));var el=e=>Ut.is(e),Fbe={type:"completeState",isfromEntity:!0},Ube=["x","y","z"],wS=new N,Vbe=new N().set(0,1,0),qM=e=>class extends WM(e){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new u8,this._recursiveBBox=new u8,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let i=this.children[t];if(Ut.is(i))return i}entityChildrenCount(){let t=this.children.length;for(;t--;)if(Ut.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return typeof this.identity=="string"}get isVirtualEntity(){return typeof this.identity!="string"}get isInstanceRoot(){return this.isConcreteEntity&&this.data.type==="Instance"}nearestInstanceSelfOrParent(){let t=this;for(;t.data.type!=="Instance";){let i=t.parent;if(Ut.is(i))t=i;else return}return t}forInstancesRec(t){this.instances.forEach(i=>{i.disposed||t(i),i.forInstancesRec(t)})}super_Entity(t,i){typeof t=="string"&&(this.uuid=t),this.identity=t,this.data=i,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,i,r=!1){if(!(this.data.states.length===0&&!r)){for(let n of this.data.states)ed.toOps(this.data,n.data).forEach(a=>{let c=cx.replaceProps(a,this.data);this.dataPatched=this.data,this.updateByPatchedOp(c,this.data,i)});if(t!==null){let n=this.data.states.data(t);n&&(this.dataPatched=ed.patch(this.data,n),ed.toOps(this.data,n).forEach(a=>{this.updateByPatchedOp(a,this.dataPatched,i)}))}r&&this.updateTransformState(this.dataPatched,i),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,i){t.setScalar(0),i.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{el(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let i;return this.traverseEntity(r=>{r.uuid===t&&(i=r)}),i}traverseSortNextHelper(){let t=this.parent;if(t){let i=t.children,r=i.indexOf(this)+1;if(Ut.is(i[r]))return i[r];if(Ut.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&Ut.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let i=this;for(;t>0&&i!==null;)i=i.parent,t-=1;return i}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let i=this.parent;for(;i;){if(t===i)return!0;i=i.parent}return!1}countToAccestor(t){let i=0,r=this;for(;r!==t;){if(r===null)return-1;r=r.parent,i+=1}return i}forEachEntity(t){for(let i of this.children)el(i)&&t(i)}traverseEntityAncestors(t){this.traverseAncestors(i=>{Ut.is(i)&&t(i)})}traverseConcreteEntity(t,i=0){if(t(this,i)!==!0)for(let r of this.children)el(r)&&r.isConcreteEntity&&r.traverseEntity(t,i+1)}traverseEntity(t,i=0){if(t(this,i)!==!0)for(let r of this.children)el(r)&&r.traverseEntity(t,i+1)}traverseVisibleEntity(t){t(this);for(let i of this.children)el(i)&&i.visible&&i.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,i=!1){return super.copy(t,i),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>el(t))}isAncestorOf(t){if(this.uuid===t)return!1;let i=!1;return this.traverseEntity(r=>{r.uuid===t&&(i=!0)}),i}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let i={position:this.position.toArray(),rotation:[this.rotation.x*Ve.RAD2DEG,this.rotation.y*Ve.RAD2DEG,this.rotation.z*Ve.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return S3(i,t)}getTransformValues(t,i,r){return i[t].map((n,a)=>(r==null?void 0:r.shared.getVariable(n,[this.uuid,t,Ube[a]]))??n)}updateTransformState(t,i){let r=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,i)),r=!0),t.rotation&&(wS.fromArray(this.getTransformValues("rotation",t,i)).multiplyScalar(Ve.DEG2RAD),this.rotation.setFromVector3(wS),r=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,i)),r=!0),t.hiddenMatrix!==void 0&&(r=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??qp.identity)),r&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(n=>{n.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&t.hiddenMatrix!==void 0&&this.updateWorldMatrix(!1,!0),r}onVariableUpdate(t=!1){if(t){this.resetBBoxNeedsUpdate();return}this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(i=>{i.invalidateClonerTransform(this)})}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)Ut.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{Ut.is(t)&&t.disposeRecursively()})}toState(t=[]){let i={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return S3(i,t)}updateByObjUpdateOp(t,i){t!==void 0&&this.updateByOp({type:0,props:t,path:[]},{...this.data,...t},i,!1)}updateByOp(t,i,r,n){let a=this.data;this.data=i;let c=t,l=hi(t.path,["states","*"]);if(l!==null){if(t.type===0){let[o]=l;if((this==null?void 0:this.stateSelection)===o){let s={...t.props};if(delete s.name,Object.values(t.props).some(u=>u===void 0)){let u=this.data;if(u!==void 0){let d=br.zoom(u,t.path.slice(2));if(d)for(let h in t.props)t.props[h]===void 0&&h in d&&(s[h]=d[h])}}c={...t,props:s,path:t.path.slice(2)}}}}else if(t.type===0){let o=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(o!==void 0){if(t.props.name!==void 0&&o.name){let{name:u,...d}=o;o=d}if(t.props.material!==void 0&&"material"in o){let{material:u,...d}=o;o=d}let s=br.removeOverridden(t.path,t.props,o);c={...t,props:s}}}if(this.updateByPatchedOpBase(c,ed.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),r),hi(t.path,["overrides"])){let o=[],s=[...t.path];for(o.push(s[1]),s.splice(0,2);s.length>0&&s[0]==="descendants";)o.push(s[1]),s.splice(0,2);if(o[o.length-1]===void 0){if(t.type===0)for(let u of Object.keys(t.props)){o[o.length-1]=u;let d=r.scene.findInstance([this.uuid,...o]);d&&(d.overrideData=t.props[u],d.updateState(qc.apply(d.component.data,d.overrideData),r))}}else{let u=r.scene.findInstance([this.uuid,...o]);if(u){let d=br.zoom(u.component.data,s);if(t={...t,path:s},t.type===0){let h=t.props;if(d)for(let[p,m]of Object.entries(t.props))m===void 0&&(h===t.props&&(h={...t.props}),h[p]=d[p]);t={...t,props:h}}u.overrideData=xx.resolve(i.overrides,o),u.updateByOp(t,Or.applySimple(u.data,t),r,!1)}}}else if(this.instances.length>0){let o;if(t.path.length===0&&t.type===0){let s;for(let u of Mc.rootOverrideProps)u in t.props&&(s===void 0&&(s={}),s[u]=t.props[u]);s&&(o={...t,props:s})}else for(let s of Mc.rootOverrideProps)if(hi(t.path,[s])){o=t;break}o!==void 0&&this.instances.forEach(s=>{if(s.isInstanceRoot){let u=qc.filterOp(s.overrideData,o);u&&s.updateByOp(u,Or.applySimple(s.data,u),r,!0)}}),this.instances.forEach(s=>{if(!s.isInstanceRoot){let u=qc.filterOp(s.overrideData,t);if(u){let d;a===s.data&&t===u?d=i:d=Or.applySimple(s.data,u),s.updateByOp(u,d,r,!0)}}})}}updateByPatchedOpBase(t,i,r){if(this.dataPatched=i,t.path.length===0&&t.type===0)t.props.type!==void 0&&!kd.is(t.props.type)&&Ic.changeEntityProptotype(this,i,r);else if(t.path.length===1&&t.path[0]==="geometry"&&t.type===0&&"type"in t.props){Ic.changeEntityProptotype(this,i,r);for(let n of this.children)Ut.is(n)&&n.updateVisible(r.scene)}this.updateByPatchedOp(t,i,r)}updateByPatchedOp(t,i,r){var n;if(t.path.length===0&&t.type===0?this.updateState(t.props,r):t.type===0&&("resolutionLevel"in t.props||"useChildrenColors"in t.props)&&this.updateState(i,r),t.path[0]==="morphTargetInfluences"&&t.type===0){let a=(n=i.morphTargetInfluences.get(t.path[1]))==null?void 0:n.data.name;a&&this.updateMorphInfluences(a,r.shared.getVariable(t.props.value,[this.uuid,"morphTargetInfluences",a]))}if(hi(t.path,["pathSnapping"])!==null&&this.updatePathSnapping(i.pathSnapping),hi(t.path,["cloner"])!==null){let a=Or.drop(t,1);a.path.length===0&&a.type===0&&a.props.disabled===!0?this.setFromClonerState(null,r):this.cloner?this.cloner.updateState(i.cloner,r.scene):(this.setFromClonerState(i.cloner,r),this.expandCloner(r.scene)),this.updateVisible(r.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){var m,f,g,v,S;let i=((m=this._updatedPathSnapping)==null?void 0:m.pathId)??this.dataPatched.pathSnapping.pathId,r=((f=this._updatedPathSnapping)==null?void 0:f.slide)??this.dataPatched.pathSnapping.slide??0,n=((g=this._updatedPathSnapping)==null?void 0:g.offset)??this.dataPatched.pathSnapping.offset??0,a=((v=this._updatedPathSnapping)==null?void 0:v.orientation)??this.dataPatched.pathSnapping.orientation;if(i===null)return;let c=t.find(i);if(!c||this._needApplyPathSnapping===!1)return;this._needApplyPathSnapping=!1;let l=c.data;if(l.geometry.path.points.length<=1)return;let o=UU(l.geometry.path),s=(r+n)%1;r+n===1&&s===0&&(s=1);let u=null;try{u=o.curves.length?o.getPointAt(s):null}catch{}if(u===null)return;let d=this.parent?(S=this.parent)==null?void 0:S.matrixWorld:new Ie;c.updateMatrixWorld();let h=new Ie().multiplyMatrices(d.clone().invert(),c.matrixWorld);u.applyMatrix4(h);let p={position:u.toArray(),rotation:l.rotation};if(a==="tangential"){let x=new Ie().extractRotation(c.matrixWorld),b=o.getTangentAt(s).applyMatrix4(x).add(u),_=new Ie().lookAt(u,b,Vbe),w=wS.setFromEuler(new yr().setFromRotationMatrix(_)).multiplyScalar(Ve.RAD2DEG);p={...p,rotation:w.toArray()}}this.updateTransformState(p),this.traverseEntity(x=>{x._cameraType&&x.dispatchEvent(Fbe)})}updateVisible(t){var r;if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||((r=this.dataPatched.cloner)==null?void 0:r.hideBase)!==!0),!t)return;let i=!1;this.traverseEntity(n=>{if(n.data.type==="Splat")return i=!0,!0}),i&&t.reloadSplats()}updateState_Entity(t,i){t.name!==void 0&&(this.name=t.name),t.raycastLock!==void 0&&(this.raycastLock=t.raycastLock),t.visible!==void 0&&(this.updateVisible(i==null?void 0:i.scene),this.resetBBoxNeedsUpdate()),i&&"cloner"in t&&t.cloner!==void 0&&(this.setFromClonerState(t.cloner,i),this.updateVisible(i.scene)),this.updateTransformState(t,i)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof Ic.Cloner&&t.parameters.type==="toObject")}setFromClonerState(t,i){this.disposed||(t===null||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):this.cloner===void 0?(this.cloner=new Ic.Cloner(this,t),i.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,i.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}requestRender(){this.dispatchEvent({type:"requestRender"})}},VU=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var o,s;let i=(o=e.parameters)==null?void 0:o.radiusTop,r=(s=e.parameters)==null?void 0:s.radiusBottom,n=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);n.thetaLength=Ve.clamp(n.thetaLength,0,360);let a=n.width/2,c=n.radiusTop??a,l=n.radiusBottom??a;if(c===l?(c=a,l=a):c>l?(c=a,l=l*a/c):(c=c*a/l,l=a),n.shapeBlendNode){c=i??a,l=r??a;let u=Math.max(c,l)*2;n.width=u,n.depth=u}return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),radiusTop:c,radiusBottom:l})}}static build(e){let{width:t,depth:i,height:r,radialSegments:n,heightSegments:a,openEnded:c,thetaStart:l,thetaLength:o,radiusTop:s,radiusBottom:u,cornerRadius:d,cornerSegments:h,hollow:p}=e.parameters,m;return o===0?(m=new Qe,m.setAttribute("position",new Fe([],3))):d||p?m=new HU(s,u,r,n,a,c,l,o*Math.PI/180,d,d,h,p):m=new uM(s,u,r,n,a,c,l,o*Math.PI/180),m.scale(1,1,i/t),Object.assign(m,{userData:{...e,type:"CylinderGeometry"}})}};function Ql(e,t,i){i.x=e.x*t.x,i.y=e.y,i.z=e.x*t.y}function d8(e){return new re(e.y,-e.x)}var HU=class extends Qe{constructor(e,t,i,r,n,a,c,l,o,s,u,d,h=!1){super(),this.type="RoundedCylinderBufferGeometry",e=e!==void 0?e:1,t=t!==void 0?t:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=a!==void 0?a:!1,c=c!==void 0?c:0,l=l!==void 0?l:Math.PI*2,a&&(o=0,s=0);let p=[],m=[],f=[],g=[],v=0,S=i/2,x=new N,b=new N;h&&e==0&&(e=o),h&&t==0&&(t=s);let _=new re(e,S),w=new re(t,-S),C=null,E=null,A=null,T=null,M=_.clone().sub(w),j=0,P=0,I=0;d>0&&(j=Math.min(e,t)*(1-d),P=e-j,I=t-j);let k=_.clone();k.x-=j;let R=Math.PI-M.angle(),O=M.angle(),D=Math.tan(O/2),L=Math.tan(R/2),B=D+L,F=d?B:L,H=d?B:D;if(o=Math.min(o,(e-P)/F,M.length()/B),s=Math.min(s,(t-I)/H,M.length()/B),o>0){let Q=o/D;C=_.clone().sub(new re(Q,o)),d&&(A=C.clone(),A.x-=j-B*o),_.sub(M.clone().setLength(Q))}if(s>0){let Q=s/L;E=w.clone().sub(new re(Q,-s)),w.add(M.clone().setLength(Q)),d&&(T=E.clone(),T.x-=j-B*s,k.sub(M.clone().setLength(Q)))}M=_.clone().sub(w);let ee=M.length()<.5,U=[];for(let Q=0;Q<=r;Q++){let ae=[],K=Q/r,te=K*l+c,ne=new re(Math.sin(te),Math.cos(te));T&&E?(X(ae,K,ne,R,s,T,-1,!0),X(ae,K,ne,O,s,E,-1,!1)):E?(W(ae,ne,E.x,0,-1),X(ae,K,ne,O,s,E,-1,!1)):a||W(ae,ne,t,I,-1);let ce=d8(M).normalize();if(Ql(ce,ne,x),!ee)for(let pe=0;pe<=n;pe++){let ge=pe/n,ue=M.clone().multiplyScalar(ge).add(w);Ql(ue,ne,b),m.push(b.x,b.y,b.z),f.push(x.x,x.y,x.z),g.push(K,.5+b.y/i),ae.push(v++)}if(A&&C?(X(ae,K,ne,R,o,C,1,!1),X(ae,K,ne,O,o,A,1,!0)):C?(X(ae,K,ne,R,o,C,1,!1),W(ae,ne,C.x,0,1)):a||W(ae,ne,e,P,1),d&&!ee){let pe=d8(M).multiplyScalar(-1).normalize();Ql(pe,ne,x);for(let ge=0;ge<=n;ge++){let ue=ge/n,Me=M.clone().multiplyScalar(-ue).add(k);Ql(Me,ne,b),m.push(b.x,b.y,b.z),f.push(x.x,x.y,x.z),g.push(K,.5+b.y/i),ae.push(v++)}}d&&!a&&ae.push(ae[0]),U.push(ae)}for(let Q=0;Q<U.length-1;Q++)for(let ae=0;ae<U[0].length-1;ae++){if(a&&d&&ae==n)continue;let K=U[Q][ae],te=U[Q+1][ae],ne=U[Q+1][ae+1],ce=U[Q][ae+1],pe=m[ne*3+0],ge=m[ne*3+2];p.push(K,te,ce),(pe!=0||ge!=0)&&p.push(te,ne,ce)}l<Math.PI*2&&(ie(-1,U[0],c),ie(1,U[U.length-1],c+l)),this.setIndex(p),this.setAttribute("position",new Fe(m,3)),this.setAttribute("normal",new Fe(f,3)),this.setAttribute("uv",new Fe(g,2));function X(Q,ae,K,te,ne,ce,pe,ge){for(let ue=0;ue<u+1;ue++){let Me=ue/u,Ae=pe<0?Me:1-Me;ge&&(Ae-=1),Ae*=te;let je=new re(Math.sin(Ae),Math.cos(Ae)*pe),Ke=je.clone().multiplyScalar(ne).add(ce);Ql(Ke,K,b),m.push(b.x,b.y,b.z),Ql(je,K,x),f.push(x.x,x.y,x.z),g.push(ae,.5+b.y/i),Q.push(v++)}}function W(Q,ae,K,te,ne){let ce=new N,pe=new re,ge=[K,te];ne<0&&ge.reverse();for(let ue of ge)pe.set(ue,S*ne),Ql(pe,ae,ce),m.push(ce.x,ce.y,ce.z),f.push(0,ne,0),g.push(.5,.5),Q.push(v++)}function ie(Q,ae,K){let te=new re(Math.sin(K),Math.cos(K)),ne=new re(-Math.cos(K),Math.sin(K)),ce=new N,pe=Q<0?(Me,Ae,je)=>p.push(Me,Ae,je):(Me,Ae,je)=>p.push(Me,je,Ae),ge=new re((e+t+P+I)/4,0);Ql(ge,te,ce),m.push(ce.x,ce.y,ce.z),f.push(ne.x,0,ne.y),g.push(.5,.5);let ue=v++;for(let Me of ae){let Ae=m.slice(Me*3,Me*3+3);m.push(...Ae),f.push(ne.x,0,ne.y);let je=g.slice(Me*2,Me*2+2);g.push(...je),v++}for(let Me=ue+1;Me<v-1;Me++)pe(ue,Me,Me+1);pe(ue,v-1,ue+1)}}},Hbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return i.thetaLength=Ve.clamp(i.thetaLength,0,360),{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{width:t,depth:i,height:r,radialSegments:n,heightSegments:a,openEnded:c,thetaStart:l,thetaLength:o,cornerRadiusTop:s,cornerRadiusBottom:u,cornerSegments:d}=e.parameters,h;return o===0?(h=new Qe,h.setAttribute("position",new Fe([],3))):s>0||u>0||o<360?h=new HU(0,t/2,r,n,a,c,l,o*Math.PI/180,s,u,d,0,!0):h=new dM(t/2,r,n,a,c),h.scale(1,1,i/t),Object.assign(h,{userData:{...e,type:"ConeGeometry"}})}},Gbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{width:t,height:i,depth:r,widthSegments:n,heightSegments:a,depthSegments:c,cornerRadius:l,cornerSegments:o}=e.parameters,s;return l===0?s=new Mo(t,i,r,n,a,c):s=new Wbe(t,i,r,n,a,c,l,o),Object.assign(s,{userData:{...e,type:"CubeGeometry"}})}},_S=Math.PI/2,Wbe=class extends Qe{constructor(e=1,t=1,i=1,r=1,n=1,a=1,c=0,l=4){super(),this.type="BoxGeometry",r=Math.floor(r),n=Math.floor(n),a=Math.floor(a),l=Math.floor(l),c=Math.min(c,e/2,t/2,i/2);let o=[],s=[],u=[],d=[],h=0;p("z","y","x",-1,-1,i,t,e,a,n),p("z","y","x",1,-1,i,t,-e,a,n),p("x","z","y",1,1,e,i,t,r,a),p("x","z","y",1,-1,e,i,-t,r,a),p("x","y","z",1,-1,e,t,i,r,n),p("x","y","z",-1,-1,e,t,-i,r,n),c>0&&(m("z","y","x",-1,-1,1,i,t,e,a),m("z","y","x",1,-1,-1,i,t,e,a),m("z","y","x",-1,1,-1,i,t,e,a),m("z","y","x",1,1,1,i,t,e,a),m("x","y","z",-1,-1,-1,e,t,i,r),m("x","y","z",1,-1,1,e,t,i,r),m("x","y","z",-1,1,1,e,t,i,r),m("x","y","z",1,1,-1,e,t,i,r),m("y","x","z",-1,-1,1,t,e,i,n),m("y","x","z",1,-1,-1,t,e,i,n),m("y","x","z",1,1,1,t,e,i,n),m("y","x","z",-1,1,-1,t,e,i,n),f(1,1,1),f(-1,1,1),f(1,-1,1),f(-1,-1,1),f(1,1,-1),f(-1,1,-1),f(1,-1,-1),f(-1,-1,-1)),this.setIndex(o),this.setAttribute("position",new Fe(s,3)),this.setAttribute("normal",new Fe(u,3)),this.setAttribute("uv",new Fe(d,2));function p(g,v,S,x,b,_,w,C,E,A){let T=(_-2*c)/E,M=(w-2*c)/A,j=_/2-c,P=w/2-c,I=C/2,k=E+1,R=A+1,O=0,D=new N;for(let L=0;L<R;L++){let B=L*M-P;for(let F=0;F<k;F++){let H=F*T-j;D[g]=H*x,D[v]=B*b,D[S]=I,s.push(D.x,D.y,D.z),D[g]=0,D[v]=0,D[S]=C>0?1:-1,u.push(D.x,D.y,D.z),d.push(F/E),d.push(1-L/A),O+=1}}for(let L=0;L<A;L++)for(let B=0;B<E;B++){let F=h+B+k*L,H=h+B+k*(L+1),ee=h+(B+1)+k*(L+1),U=h+(B+1)+k*L;o.push(F,H,U),o.push(H,ee,U)}h+=O}function m(g,v,S,x,b,_,w,C,E,A){let T=(w-2*c)/A,M=w/2-c,j=C/2-c,P=E/2,I=A+1,k=0,R=new N,O=new N;for(let D=0;D<l+1;D++){let L=D/l*_S,B=Math.sin(L)*c,F=(1-Math.cos(L))*c,H=Math.sin(L),ee=Math.cos(L);R[v]=(j+B)*b,R[S]=(P-F)*_,O[g]=0,O[v]=H*Math.sign(R[v]),O[S]=ee*Math.sign(R[S]);for(let U=0;U<I;U++){let X=U*T-M;R[g]=X*x,s.push(R.x,R.y,R.z),u.push(O.x,O.y,O.z),d.push(U/A),d.push(0),k+=1}}for(let D=0;D<l;D++)for(let L=0;L<A;L++){let B=h+L+I*D,F=h+L+I*(D+1),H=h+(L+1)+I*(D+1),ee=h+(L+1)+I*D;o.push(B,F,ee),o.push(F,H,ee)}h+=k}function f(g,v,S){let x=new N,b=new N(e/2,t/2,i/2);b.subScalar(c);let _=[],w=g*v*S>0?(E,A,T)=>o.push(E,A,T):(E,A,T)=>o.push(E,T,A);for(let E=0;E<=l;E++){let A=[],T=_S*(1-E/l),M=Math.cos(T),j=Math.sin(T),P=0;for(let I=0;I<=E;I++){let k=Math.cos(P),R=Math.sin(P);x.x=M*k,x.y=j,x.z=M*R;let O=b.clone().addScaledVector(x,c);s.push(g*O.x,v*O.y,S*O.z),u.push(g*x.x,v*x.y,S*x.z),d.push(0,0),A.push(h++),P+=_S/E}_.push(A)}let C=_.length-1;for(let E=0;E<C;E++){let A=_[E],T=_[E+1],M=A.length-1;w(A[0],T[1],T[0]);for(let j=1;j<=M;j++)w(A[j-1],A[j],T[j]),w(A[j],T[j+1],T[j])}}}},YM=class extends Qe{constructor(e=[],t=[],i="",r=1,n=.2,a=4){super(),this.type="PolyhedronGeometryRound";let c=[],l=[],o=[];s(),u(),this.setAttribute("position",new Fe(c,3)),this.setAttribute("normal",new Fe(o,3)),this.setAttribute("uv",new Fe(l,2));return;function s(){var O;n=Math.min(1-1e-5,n),n==0&&(a=0);let d={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[i],h=new N,p=h.clone(),m=new Qr,f=n*r,g=r-f,v=a+1,S=new N,x=(D,L)=>S.subVectors(D,L).normalize(),b=(D,L)=>Array(D).fill(void 0).map(L),_=b(e.length/3,(D,L)=>new N().fromArray(e,L*3).setLength(r)),w=[],C=1e6;for(let D=0;D<_.length;D++){let L=_[D],B=[],F,H,ee,U=1e10,X=-1;for(;(X=t.indexOf(D,X+1))!=-1;){let ae=X-X%3;F=t[ae+(X+1)%3],H=t[ae+(X+2)%3],ee=L.distanceToSquared(_[F]),U=Math.min(U,ee),B.push([F,H,ee])}U+=1e-6;let W=[],ie=0,Q=B.length;for(let ae=0;ae<Q;ae++){[F,H,ee]=B[ie];let K=((O=w[F])==null?void 0:O.includes(D))==!0;ee<=U&&W.push(F+ +K*C),ie=B.findIndex(te=>te[0]==H)}w.push(W)}let E=[];{let D=0,L=0,B,F,H=d==3;for(let ee=0;ee<=a;ee++){B=ee*(ee+1)/2,F=(ee+1)*(ee+2)/2;for(let U=0;U<a-ee;U++)[D,L]=[B+U+ee+2,F+U+ee+3],E.push(B,F,...H?[L,B]:[D,F],L,D),[B,F]=[D,L];E.push(B,F,B+a+2)}}let A=h.clone(),T=h.clone(),M=h.clone(),j=h.clone(),P=h.clone(),I=[],k=b(_.length,()=>b(d,()=>h.clone()));for(let D=0;D<_.length;D++){h.copy(_[D]).normalize(),A.copy(h).multiplyScalar(g);let L=w[D];for(let W=0;W<L.length;W++){let ie=L[W],Q=L[(W+1)%d];m.setFromPointsAndIndices(_,D,ie%C,Q%C),m.b.sub(m.a).setLength(1e10).add(m.a),m.c.sub(m.a).setLength(1e10).add(m.a),m.closestPointToPoint(A,k[D][W])}let B=[],F=[],H=[],ee=new N;a==0&&[...k[D]].reduce((W,ie)=>W.add(ie),ee).multiplyScalar(1/d);for(let W=0;W<d;W++){let ie=[],Q=(W-1+d)%d,ae=k[D][Q],K=k[D][W];h.copy(ae).sub(A),p.copy(K).sub(A);let te=A.angleTo(h),ne=h.angleTo(p),ce=Math.cos(te)*f;a==0?T.copy(ee):T.copy(A).setLength(g+ce),F.push(ce);let pe=[T,ae,K];for(let ge=0;ge<2;ge++){let ue=pe[ge],Me=pe[ge+1];j.subVectors(ue,A),P.subVectors(Me,A),M.crossVectors(j,P).normalize();for(let Ae=0;Ae<v;Ae++){let je=[te,ne][ge]*Ae/v;h.copy(j).applyAxisAngle(M,je).add(A),B.push(h.clone()),ge&&(x(h,A),ie.push([Ae==0?ue:h.clone(),S.clone()]))}ge&&(x(Me,A),ie.push([Me,S.clone()]))}H.push(ie)}I.push(H);let U=2*v,X=2;for(let W=0;W<d;W++){let ie=U*W,Q=U*((W+1)%d),ae=[B[ie]];for(let te=1;te<v;te++){j=B[ie+te],P=B[Q+te],ae.push(j);for(let ne=1,ce=te-X+1;ne<=ce;ne++)h.lerpVectors(j,P,ne/(ce+1)),h.sub(A).setLength(F[W]).add(A),ae.push(h.clone());ae.push(P)}for(let te=0;te<v;te++)ae.push(B[te+v+ie]);ae.push(B[Q+v]);let K=E.map(te=>ae[te]);c.push(...K.map(te=>[te.x,te.y,te.z]).flat()),o.push(...K.map(te=>(x(te,A),[S.x,S.y,S.z])).flat())}}let R=[];for(let D=0;D<w.length;D++)for(let L=0;L<d;L++){let B=w[D][L];if(B<C){let F=w[B].findIndex(U=>U%C==D),H=I[D][L],ee=I[B][F];for(let U=0;U<v;U++){let X=H[U],W=ee[v-U],ie=H[U+1],Q=ee[v-(U+1)];[X,W,ie,ie,W,Q].forEach(ae=>{c.push(ae[0].x,ae[0].y,ae[0].z),o.push(ae[1].x,ae[1].y,ae[1].z)})}R.push(H[0][0],ee[v][0],H[v][0],ee[0][0])}}for(;R.length;){let D,L,B,F;[D,L]=R.splice(0,2);let H=[D];for(;D!=L;)H.push(L),B=R.indexOf(L),F=B%2,L=R.splice(B-F,2)[1-F];S.subVectors(H[0],H[1]).cross(h.subVectors(H[0],H[2])).normalize();let ee=S.dot(H[0])<0;ee&&S.negate();for(let U=1;U<=H.length-2;U++)[H[U+ +ee],H[U+1-+ee],H[0]].forEach(X=>{c.push(X.x,X.y,X.z),o.push(S.x,S.y,S.z)})}}function u(){let d=new N;for(let w=0;w<c.length;w+=3){d.x=c[w+0],d.y=c[w+1],d.z=c[w+2];let C=b(d)/2/Math.PI+.5,E=_(d)/Math.PI+.5;l.push(C,1-E)}let h=new N,p=new N,m=new N,f=new N,g=new re,v=new re,S=new re,x=(w,C,E,A)=>{A<0&&w.x===1&&(l[C]=w.x-1),E.x===0&&E.z===0&&(l[C]=A/2/Math.PI+.5)};for(let w=0,C=0;w<c.length;w+=9,C+=6){h.set(c[w+0],c[w+1],c[w+2]),p.set(c[w+3],c[w+4],c[w+5]),m.set(c[w+6],c[w+7],c[w+8]),g.set(l[C+0],l[C+1]),v.set(l[C+2],l[C+3]),S.set(l[C+4],l[C+5]),f.copy(h).add(p).add(m).divideScalar(3);let E=b(f);x(g,C+0,h,E),x(v,C+2,p,E),x(S,C+4,m,E)}for(let w=0;w<l.length;w+=6){let C=l[w+0],E=l[w+2],A=l[w+4],T=Math.max(C,E,A),M=Math.min(C,E,A);T>.9&&M<.1&&(C<.2&&(l[w+0]+=1),E<.2&&(l[w+2]+=1),A<.2&&(l[w+4]+=1))}function b(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}}static fromJSON(e){return new YM(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},qbe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{width:t,height:i,depth:r,detail:n,corner:a,cornerSides:c}=e.parameters,l=n===0&&a!==0?new GU(t*.5,a,c):new QB(t*.5,n);return l.scale(1,i/t,r/t),Object.assign(l,{userData:{...e,type:"DodecahedronGeometry"}})}},GU=class extends YM{constructor(e=1,t=.2,i=4){let r=(1+Math.sqrt(5))/2,n=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],l="DodecahedronGeometry";super(a,c,l,e,t,i),this.type=l}static fromJSON(e){return new GU(e.radius,e.corner,e.cornerSides)}},sm=1e-12,KM=class{constructor(e){this.position=new re,this.startPosition=new re,this.uuid=Ve.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new KM(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},vT=class extends KM{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new vT(this.parent).copy(this)}},wp=class extends KM{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new vT(this),new vT(this))}static create(e,t){let i=new wp(e,new re(...t.position));return i.controls[0].position.set(...t.controlPrevious.position),i.controls[1].position.set(...t.controlNext.position),i.roundness=t.roundness,i.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,i}getOppositeControl(e){let t=this.controls.indexOf(e);return t===0?this.controls[1]:t===1?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let i=0,r=this.controls.length;i<r;i++){let n=this.controls[i];this.position.distanceTo(n.position)<=t?n.position.copy(this.position):n.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new wp(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){var i,r;let e=(i=this.curveBefore)==null?void 0:i.getTangentAt(1),t=(r=this.curveAfter)==null?void 0:r.getTangentAt(0);return[e,t]}computeNormals(e=new re,t=new re){let[i,r]=this.computeTangents();return i&&r&&(h8(i,e),h8(r,t)),[e,t]}computeTangent(e=new re){let[t,i]=this.computeTangents();return t&&i&&e.copy(t).add(i).normalize(),e}computeNormal(e=new re){let[t,i]=this.computeNormals();return e.copy(t).add(i).normalize(),e}};function h8(e,t=new re){let i=e.length();return t.set(-e.y/i,e.x/i)}var XM=e=>e,Pf=new re,lw=new re,Ybe=new re,Kbe=new re,Xbe=new re,Jbe=new re,WU=new N,qU=new N;function Qbe(e){let t=new re;t.addVectors(e.v0,Pf.subVectors(e.v1,e.v0).multiplyScalar(2/3));let i=new re;return i.addVectors(e.v2,lw.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new bo(e.v0,t,i,e.v2)}function Dm(e,t,i=Number.EPSILON){return Math.abs(e-t)<i}function $be(e,t,i=Number.EPSILON){return e.distanceTo(t)<i}function Zbe(e,t,i=Number.EPSILON){return e.distanceTo(t)<i}function YU(e,t,i){let r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),n=Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)),a=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));return Math.acos((n*n+r*r-a*a)/(2*n*r))}function exe(e,t,i){return f8(e,t)&&f8(t,i)&&yT(e.position,t.position,i.position)}function yT(e,t,i){return Pf.copy(t).sub(e).cross(lw.copy(i).sub(e))===0}function txe(e,t,i,r,n){let a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),c=(e.y+t.y)/2,l=(e.x+t.x)/2,o=Math.sqrt(Math.pow(i,2)-Math.pow(a/2,2))*(e.y-t.y)/a,s=Math.sqrt(Math.pow(i,2)-Math.pow(a/2,2))*(t.x-e.x)/a;return r.set(l+o,c+s),n.set(l-o,c-s),[r,n]}function ixe(e,t,i){let r=e.distanceTo(i),n=t.distanceTo(i);return r<n?t:e}function rxe(e,t,i,r,n,a){let c=t.x-e.x,l=t.y-e.y,o=i.x-e.x,s=i.y-e.y,u=Math.sqrt((c+o)*(c+o)+(l+s)*(l+s)),d;return YU(t,e,i)>Math.PI&&(u*=-1),Dm(s,l)?d=(l+s)*(r/u-.5)*8/3/(c-o):d=(c+o)*(r/u-.5)*8/3/(s-l),n.set(t.x-d*l,t.y+d*c),a.set(i.x+d*s,i.y-d*o),[n,a]}function p8(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function f8(e,t){return yT(e.position,e.controls[1].position,t.position)&&yT(e.position,t.controls[0].position,t.position)}function nxe(e,t,i,r,n=.5){let a=Pf.subVectors(t,e).multiplyScalar(n).add(e),c=lw.subVectors(i,t).multiplyScalar(n).add(t),l=Ybe.subVectors(r,i).multiplyScalar(n).add(i),o=a,s=Kbe.subVectors(c,a).multiplyScalar(n).add(a),u=Xbe.subVectors(l,c).multiplyScalar(n).add(c),d=l,h=Jbe.subVectors(u,s).multiplyScalar(n).add(s);return[e.x,e.y,o.x,o.y,s.x,s.y,h.x,h.y,u.x,u.y,d.x,d.y,r.x,r.y]}function axe(e,t,i=12,r=!0){let n=qU.set(0,0,0),a,c=0;for(let l=0;l<t.length;l++){let o=XM(t[l]),s=Pf,u=yd(o,i);for(let d=0;d<=u;d++)if(o instanceof bo||o instanceof iu||o instanceof Co){if(o.getPoint(d/u,s),n.set(s.x,s.y,0),a!==void 0&&Zbe(a,n))continue;a===void 0&&(a=WU),a.copy(n),e.setXYZ(c,n.x,n.y,n.z),c++}}return r&&c>1&&!(e.getX(c-1)===e.getX(0)&&e.getY(c-1)===e.getY(0)&&e.getZ(c-1)===e.getZ(0))&&(e.setXYZ(c,e.getX(0),e.getY(0),e.getZ(0)),c++),e}function oxe(e,t,i,r=12,n=!0){let a=qU.set(0,0,0),c=0,l=[];for(let o=0;o<t.length;o++){if(i[o]===!1)continue;let s,u=XM(t[o]),d=Pf,h=yd(u,r);l.push(h);for(let p=0;p<=h;p++)if(u instanceof bo||u instanceof iu||u instanceof Co){if(u.getPoint(p/h,d),a.set(d.x,d.y,0),s==null?void 0:s.equals(a))continue;s===void 0?s=WU:(e.setXYZ(c,s.x,s.y,s.z),c++,e.setXYZ(c,a.x,a.y,a.z),c++),s.copy(a)}}return n&&c>1&&!(e.getX(c-1)===e.getX(0)&&e.getY(c-1)===e.getY(0)&&e.getZ(c-1)===e.getZ(0))&&(e.setXYZ(c,e.getX(0),e.getY(0),e.getZ(0)),c++),l}function m8(e,t=12,i=!1){let r=[];for(let n=0,a=e.length;n<a;n++){let c=e[n],l=0;if(i&&c.roundedCurveCorner!==void 0){let o=yd(c.roundedCurveCorner,t)*.5;n>0&&(r[n-1]+=o),l+=o}c.curveAfter!==void 0&&(l+=yd(c.curveAfter,t)),r.push(l)}return e.length>0&&i&&e[0].roundedCurveCorner!==void 0&&(r[e.length-1]+=yd(e[0].roundedCurveCorner,t)*.5),r}function yd(e,t=12){return e&&e instanceof Y2?t*2:e&&(e instanceof Co||e instanceof KB)?1:e&&e instanceof cM?t*e.points.length:t}function sxe(e,t,i=12,r=!0){let n,a=0;for(let c=0;c<t.length;c++){let l=XM(t[c]),o=yd(l,i),s=Pf;for(let u=0;u<=o;u++)if(l instanceof bo||l instanceof iu||l instanceof Co){if(l.getPoint(u/o,s),n!==void 0&&$be(n,s,sm))continue;n===void 0&&(n=lw),n.copy(s),e.push(s.x,s.y),a++}}return Dm(e[0],e[e.length-2],sm)&&Dm(e[1],e[e.length-1],sm)&&(e.pop(),e.pop()),r&&a>1&&!(Dm(e[a-1],e[1],sm)&&Dm(e[a-2],e[0],sm))&&(e.push(e[0],e[1]),a++),e}var SS=new re,lxe=new re,cxe=new re,uxe=new re,dxe=new re,hxe=new re,Hi=class extends Kb{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Yn(new N(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=Ve.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,i){let r=new Hi;return r.isClosed=e.isClosed,r.points=e.points.map(n=>wp.create(n.id,n.data)),typeof e.roundness=="number"&&(r.roundness=e.roundness),r.shapeHoles=e.shapeHoles.map(n=>Hi.createFromState(n)),t!==void 0&&i!==void 0&&r.applySize(t,i),r.update(),r}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,i=this.points.length;t<i;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,i=this.points.findIndex(r=>r.uuid===e);if(i<0){let r=t;for(let n=0,a=this.shapeHoles.length;n<a;n++){let c=this.shapeHoles[n],l=c.points.length,o=c.getPointIndexById(e);if(o<0)r+=l;else return o+r}}return i}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let i=0,r=this.shapeHoles.length;i<r;i++){let n=this.shapeHoles[i],a=e-t;if(a<=n.points.length-1)return n.points[a];t+=n.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let i=0,r=this.shapeHoles.length;i<r;i++){let n=this.shapeHoles[i],a=n.points.indexOf(e);if(a>=0)return t+a;t+=n.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){e===0&&(e=.001),t===0&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let i=SS.set(e,t);for(let r=0,n=this.points.length;r<n;r++){let a=this.points[r];a.position.multiply(i),a.controls[0].position.multiply(i),a.controls[1].position.multiply(i)}for(let r=0,n=this.shapeHoles.length;r<n;r++)this.shapeHoles[r].applyScale(e,t);this._update()}createPoint(e,t=0,i=Ve.generateUUID()){let r;e instanceof re?r=e:r=new re(e,t);let n=new wp(i,r);return n.roundness=this.roundness,n}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,i=this.points.length;t<i;t++){let r=this.points[t];if(r.uuid===e)return r}for(let t=0,i=this.shapeHoles.length;t<i;t++){let r=this.shapeHoles[t].getPointByUuid(e);if(r)return r}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(i=>i.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,i=!1){this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t);let r=i?this.roundedCurveDivisions:this.curveDivisions;return axe(e,i?this.roundedCurves:this.curves,t,this.autoClose),r.reduce((n,a)=>n+a,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=m8(this.points,e,!1),this.roundedCurveDivisions=m8(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,i=12){return oxe(e,this.curves,t,i,this.autoClose).reduce((r,n)=>r+n,0)*2}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t),sxe(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let i=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let r=t?this.roundedCurveDivisions:this.curveDivisions,n=0;t&&this.points[0].roundedCurveCorner!==void 0&&(n=yd(this.points[0].roundedCurveCorner,this.subdivision)*.5);let a=e-n;a<0&&(a+=r.reduce((c,l)=>c+l,0));for(let c=0,l=r.length;c<l;c++){let o=r[c];if(a<i+o)return[c,(a-i+1)/o];i+=o}return[0,1]}getCurveT(e,t,i){let r=this.points[e],n=this.points[e>=this.points.length-1?0:e+1],a=this.curveDivisions,c=a[e];if(p8(r,n)){let o=r.position.distanceTo(n.position);return r.position.distanceTo(SS.set(i.x,i.y))/o}let l=0;for(let o=0;o<e;o++)l+=a[o];return(t-l)/c}dispose(){}_applyCurveForPoint(e,t){p8(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let i=this.curves[this.curves.length-1];e.curveBefore=i,t.curveAfter=i;let r=i.clone();e.roundedCurveBefore=r,t.roundedCurveAfter=r,e.roundedCurveCorner=void 0,this.roundedCurves.push(r)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,i=this.points.length;t<i;t++){let r=this.points[t];if(t===0)this.moveTo(r.position.x,r.position.y);else{let n=this.points[t-1];this._applyCurveForPoint(r,n)}}let e=this.getLastPoint();if(e!=null&&e.curveAfter&&(e.curveAfter=void 0),this.isClosed){let t=this.points[0],i=this.points[this.points.length-1];this._applyCurveForPoint(t,i)}if(this.points.length>2){let t=0;for(let i=0,r=this.points.length;i<r;i++){let n=this.points[i],a=this.points[i-1]??this.points[this.points.length-1],c=this.points[i+1]??this.points[0],l=n.roundness,o=a&&c&&exe(a,n,c);if(!n.controlsMoved()&&l>0&&!o){let s=n.curveBefore,u=n.curveAfter;if(s===void 0||u===void 0)continue;let d=n.roundedCurveBefore,h=n.roundedCurveAfter,p=s.getLength(),m=u.getLength(),f=Math.min(l,p*.499),g=Math.min(l,m*.499),v=Math.min(f,g),S=1-v/p,x=v/m,b=s.getPointAt(S,SS),_=u.getPointAt(x,lxe);this._subSplitCurve(s,d,S,b,void 0),this._subSplitCurve(u,h,x,void 0,_);let w;if(this.useCubicForRoundedCorners){let C=YU(b,n.position,_)/2,E=Math.tan(C)*b.distanceTo(n.position),[A,T]=txe(b,_,E,cxe,uxe),M=ixe(A,T,n.position),[j,P]=rxe(M,b,_,E,dxe,hxe);w=new bo(b.clone(),j.clone(),P.clone(),_.clone())}else w=new iu(b.clone(),n.position.clone(),_.clone());n.roundedCurveCorner=w,this.roundedCurves.splice(i+t,0,w),t++}}}}_subSplitCurve(e,t,i,r,n){if(e instanceof Co)r!==void 0&&t.v2.copy(r),n!==void 0&&t.v1.copy(n);else{let a=e,c=t,l=a.getUtoTmapping(i,0),o=nxe(a.v0,a.v1,a.v2,a.v3,l);return r!==void 0&&(c.v0.set(o[0],o[1]),c.v1.set(o[2],o[3]),c.v2.set(o[4],o[5]),c.v3.set(o[6],o[7])),n!==void 0&&(c.v0.set(o[6],o[7]),c.v1.set(o[8],o[9]),c.v2.set(o[10],o[11]),c.v3.set(o[12],o[13])),c}return t}clone(){let e=new Hi(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){var i;this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let r=0;r<t;r++){let n=r*7,a=e.points[n+0],c=e.points[n+1],l=e.points[n+2],o=e.points[n+3],s=e.points[n+4],u=e.points[n+5],d=e.points[n+6],h=new wp(Ve.generateUUID(),new re(a,c));h.controls[0].position.set(l,o),h.controls[1].position.set(s,u),h.roundness=d,this.points.push(h)}return this.shapeHoles=(i=e.shapeHoles)!=null&&i.length?e.shapeHoles.map(r=>{let n=new Hi;return n.fromJSON(r),n}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let i=(n,a)=>{a instanceof bo&&a.v3.equals(n.position)&&n.controls[0].position.copy(a.v2)},r=n=>{let a=[],c,l;for(c=0,l=n.length;c<l;c++)n[c]instanceof iu&&(n[c]=Qbe(n[c]));for(c=0,l=n.length;c<l;c++){let u=n[c],d=c>0?n[c-1]:null,h;u instanceof bo?(h=this.createPoint(u.v0),h.controls[1].position.copy(u.v1)):u instanceof Co&&(h=this.createPoint(u.v1)),h!==void 0&&(d!==null&&i(h,d),a.push(h))}let o=n[n.length-1],s=!1;return o instanceof bo?o.v3.equals(a[0].position)&&(a[0].controls[0].position.copy(o.v2),s=!0):o instanceof Co&&o.v2.equals(a[0].position)&&(s=!0),this.isClosed=s,a};return this.points=r(e.curves),e instanceof Kb&&(this.shapeHoles=e.holes.map(n=>{let a=new Hi;return a.fromShape(n),a})),this.update(),this}updatePoint(e,t){let i=this.getPointByUuid(e);i&&(t.position!==void 0&&i.position.fromArray(t.position),t.roundness!==void 0&&(i.roundness=t.roundness),t.areControlsDirectionsMirrored!==void 0&&(i.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){var r;let i=(r=this.getPointByUuid(e))==null?void 0:r.controls[0];i&&(t.position&&i.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){var r;let i=(r=this.getPointByUuid(e))==null?void 0:r.controls[1];i&&(t.position&&i.position.fromArray(t.position),this.needsUpdate=!0)}},KU=Math.PI*2;function CS({x:e,y:t},i,r,n,a){return{x:e*i+n,y:t*r+a}}function pxe(e,t){let i=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=Math.cos(e),n=Math.sin(e),a=Math.cos(e+t),c=Math.sin(e+t);return[{x:r-n*i,y:n+r*i},{x:a+c*i,y:c-a*i},{x:a,y:c}]}function g8(e,t,i,r){let n=e*r-t*i<0?-1:1,a=Math.min(1,Math.max(-1,e*i+t*r));return n*Math.acos(a)}function fxe(e,t,i,r,n,a,c,l,o,s){let u=Math.pow(n,2),d=Math.pow(a,2),h=Math.pow(c,2),p=Math.pow(l,2),m=u*d-u*p-d*h;m<0&&(m=0),m/=u*p+d*h,m=Math.sqrt(m)*(o===s?-1:1);let f=m*n/a*l,g=m*-a/n*c,v=f+(e+i)/2,S=g+(t+r)/2,x=(c-f)/n,b=(l-g)/a,_=(-c-f)/n,w=(-l-g)/a,C=g8(1,0,x,b),E=g8(x,b,_,w);return E<0&&(E+=KU),{centerx:v,centery:S,ang1:C,ang2:E}}function mxe({px:e,py:t,cx:i,cy:r,rx:n,ry:a,largeArcFlag:c,sweepFlag:l}){let o=[];if(n===0||a===0)return[];let s=(e-i)/2,u=(t-r)/2;if(s===0&&u===0)return[];n=Math.abs(n),a=Math.abs(a);let d=Math.pow(s,2)/Math.pow(n,2)+Math.pow(u,2)/Math.pow(a,2);d>1&&(n*=Math.sqrt(d),a*=Math.sqrt(d));let h=fxe(e,t,i,r,n,a,s,u,c,l),{ang1:p,ang2:m}=h,{centerx:f,centery:g}=h,v=Math.abs(m)/(KU/4);Math.abs(1-v)<1e-7&&(v=1);let S=Math.max(Math.ceil(v),1);m/=S;for(let x=0;x<S;x++)o.push(pxe(p,m)),p+=m;return o.map(x=>{let{x:b,y:_}=CS(x[0],n,a,f,g),{x:w,y:C}=CS(x[1],n,a,f,g),{x:E,y:A}=CS(x[2],n,a,f,g);return{x1:b,y1:_,x2:w,y2:C,x:E,y:A}})}var ai;(function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(ai||(ai={}));var ar;(function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})(ar||(ar={}));function ft(e,t){if(!e)throw t||"Assertion Failed!"}var at=function(){function e(){}return e.vertEq=function(t,i){return t.s===i.s&&t.t===i.t},e.vertLeq=function(t,i){return t.s<i.s||t.s===i.s&&t.t<=i.t},e.transLeq=function(t,i){return t.t<i.t||t.t===i.t&&t.s<=i.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,i){return Math.abs(t.s-i.s)+Math.abs(t.t-i.t)},e.edgeEval=function(t,i,r){ft(e.vertLeq(t,i)&&e.vertLeq(i,r));var n=i.s-t.s,a=r.s-i.s;return n+a>0?n<a?i.t-t.t+(t.t-r.t)*(n/(n+a)):i.t-r.t+(r.t-t.t)*(a/(n+a)):0},e.edgeSign=function(t,i,r){ft(e.vertLeq(t,i)&&e.vertLeq(i,r));var n=i.s-t.s,a=r.s-i.s;return n+a>0?(i.t-r.t)*n+(i.t-t.t)*a:0},e.transEval=function(t,i,r){ft(e.transLeq(t,i)&&e.transLeq(i,r));var n=i.t-t.t,a=r.t-i.t;return n+a>0?n<a?i.s-t.s+(t.s-r.s)*(n/(n+a)):i.s-r.s+(r.s-t.s)*(a/(n+a)):0},e.transSign=function(t,i,r){ft(e.transLeq(t,i)&&e.transLeq(i,r));var n=i.t-t.t,a=r.t-i.t;return n+a>0?(i.s-r.s)*n+(i.s-t.s)*a:0},e.vertCCW=function(t,i,r){return t.s*(i.t-r.t)+i.s*(r.t-t.t)+r.s*(t.t-i.t)>=0},e.interpolate=function(t,i,r,n){return t=t<0?0:t,r=r<0?0:r,t<=r?r===0?(i+n)/2:i+(n-i)*(t/(t+r)):n+(i-n)*(r/(t+r))},e.intersect=function(t,i,r,n,a){var c,l,o;e.vertLeq(t,i)||(o=t,t=i,i=o),e.vertLeq(r,n)||(o=r,r=n,n=o),e.vertLeq(t,r)||(o=t,t=r,r=o,o=i,i=n,n=o),e.vertLeq(r,i)?e.vertLeq(i,n)?(c=e.edgeEval(t,r,i),l=e.edgeEval(r,i,n),c+l<0&&(c=-c,l=-l),a.s=e.interpolate(c,r.s,l,i.s)):(c=e.edgeSign(t,r,i),l=-e.edgeSign(t,n,i),c+l<0&&(c=-c,l=-l),a.s=e.interpolate(c,r.s,l,n.s)):a.s=(r.s+i.s)/2,e.transLeq(t,i)||(o=t,t=i,i=o),e.transLeq(r,n)||(o=r,r=n,n=o),e.transLeq(t,r)||(o=t,t=r,r=o,o=i,i=n,n=o),e.transLeq(r,i)?e.transLeq(i,n)?(c=e.transEval(t,r,i),l=e.transEval(r,i,n),c+l<0&&(c=-c,l=-l),a.t=e.interpolate(c,r.t,l,i.t)):(c=e.transSign(t,r,i),l=-e.transSign(t,n,i),c+l<0&&(c=-c,l=-l),a.t=e.interpolate(c,r.t,l,n.t)):a.t=(r.t+i.t)/2},e}(),lm=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return e}(),Cy=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),Ph=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return e}(),v8=function(){function e(){var t=new Ph,i=new lm,r=new Cy(0),n=new Cy(1);t.next=t.prev=t,t.anEdge=null,i.next=i.prev=i,r.next=r,r.Sym=n,n.next=n,n.Sym=r,this.vHead=t,this.fHead=i,this.eHead=r,this.eHeadSym=n}return e.prototype.makeEdge_=function(t){var i=new Cy(0),r=new Cy(1);t.Sym.side<t.side&&(t=t.Sym);var n=t.Sym.next;return r.next=n,n.Sym.next=i,i.next=t,t.Sym.next=r,i.Sym=r,i.Onext=i,i.Lnext=r,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,r.Sym=i,r.Onext=r,r.Lnext=i,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,i},e.prototype.splice_=function(t,i){var r=t.Onext,n=i.Onext;r.Sym.Lnext=i,n.Sym.Lnext=t,t.Onext=n,i.Onext=r},e.prototype.makeVertex_=function(t,i,r){var n=t;ft(n,"Vertex can't be null!");var a=r.prev;n.prev=a,a.next=n,n.next=r,r.prev=n,n.anEdge=i;var c=i;do c.Org=n,c=c.Onext;while(c!==i)},e.prototype.makeFace_=function(t,i,r){var n=t;ft(n,"Face can't be null");var a=r.prev;n.prev=a,a.next=n,n.next=r,r.prev=n,n.anEdge=i,n.trail=null,n.marked=!1,n.inside=r.inside;var c=i;do c.Lface=n,c=c.Lnext;while(c!==i)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var i=t.next,r=t.Sym.next;i.Sym.next=r,r.Sym.next=i},e.prototype.killVertex_=function(t,i){var r=t.anEdge,n=r;do n.Org=i,n=n.Onext;while(n!==r);var a=t.prev,c=t.next;c.prev=a,a.next=c},e.prototype.killFace_=function(t,i){var r=t.anEdge,n=r;do n.Lface=i,n=n.Lnext;while(n!==r);var a=t.prev,c=t.next;c.prev=a,a.next=c},e.prototype.makeEdge=function(){var t=new Ph,i=new Ph,r=new lm,n=this.makeEdge_(this.eHead);return this.makeVertex_(t,n,this.vHead),this.makeVertex_(i,n.Sym,this.vHead),this.makeFace_(r,n,this.fHead),n},e.prototype.splice=function(t,i){var r=!1,n=!1;if(t!==i){if(i.Org!==t.Org&&(n=!0,this.killVertex_(i.Org,t.Org)),i.Lface!==t.Lface&&(r=!0,this.killFace_(i.Lface,t.Lface)),this.splice_(i,t),!n){var a=new Ph;this.makeVertex_(a,i,t.Org),t.Org.anEdge=t}if(!r){var c=new lm;this.makeFace_(c,i,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var i=t.Sym,r=!1;if(t.Lface!==t.Rface&&(r=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!r){var n=new lm;this.makeFace_(n,t,t.Lface)}i.Onext===i?(this.killVertex_(i.Org,null),this.killFace_(i.Lface,null)):(t.Lface.anEdge=i.Oprev,i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var i=this.makeEdge_(t),r=i.Sym;this.splice_(i,t.Lnext),i.Org=t.Dst;var n=new Ph;return this.makeVertex_(n,r,i.Org),i.Lface=r.Lface=t.Lface,i},e.prototype.splitEdge=function(t){var i=this.addEdgeVertex(t),r=i.Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,r),t.Dst=r.Org,r.Dst.anEdge=r.Sym,r.Rface=t.Rface,r.winding=t.winding,r.Sym.winding=t.Sym.winding,r.idx=t.idx,r.Sym.idx=t.Sym.idx,r},e.prototype.connect=function(t,i){var r=!1,n=this.makeEdge_(t),a=n.Sym;if(i.Lface!==t.Lface&&(r=!0,this.killFace_(i.Lface,t.Lface)),this.splice_(n,t.Lnext),this.splice_(a,i),n.Org=t.Dst,a.Org=i.Org,n.Lface=a.Lface=t.Lface,t.Lface.anEdge=a,!r){var c=new lm;this.makeFace_(c,n,t.Lface)}return n},e.prototype.zapFace=function(t){var i=t.anEdge,r,n,a,c,l;n=i.Lnext;do r=n,n=r.Lnext,r.Lface=null,r.Rface===null&&(r.Onext===r?this.killVertex_(r.Org,null):(r.Org.anEdge=r.Onext,this.splice_(r,r.Oprev)),a=r.Sym,a.Onext===a?this.killVertex_(a.Org,null):(a.Org.anEdge=a.Onext,this.splice_(a,a.Oprev)),this.killEdge_(r));while(r!=i);c=t.prev,l=t.next,l.prev=c,c.next=l},e.prototype.countFaceVerts_=function(t){var i=t.anEdge,r=0;do r++,i=i.Lnext;while(i!==t.anEdge);return r},e.prototype.mergeConvexFaces=function(t){var i,r,n,a,c,l,o;for(i=this.fHead.next;i!==this.fHead;i=i.next)if(i.inside)for(r=i.anEdge,c=r.Org;n=r.Lnext,a=r.Sym,a&&a.Lface&&a.Lface.inside&&(l=this.countFaceVerts_(i),o=this.countFaceVerts_(a.Lface),l+o-2<=t&&at.vertCCW(r.Lprev.Org,r.Org,a.Lnext.Lnext.Org)&&at.vertCCW(a.Lprev.Org,a.Org,r.Lnext.Lnext.Org)&&(n=a.Lnext,this.delete(a),r=null,a=null)),!(r&&r.Lnext.Org===c);)r=n;return!0},e.prototype.check=function(){var t=this.fHead,i=this.vHead,r=this.eHead,n,a,c,l,o,s;for(a=t,a=t;(n=a.next)!==t;a=n){ft(n.prev===a),o=n.anEdge;do ft(o.Sym!==o),ft(o.Sym.Sym===o),ft(o.Lnext.Onext.Sym===o),ft(o.Onext.Sym.Lnext===o),ft(o.Lface===n),o=o.Lnext;while(o!==n.anEdge)}for(ft(n.prev===a&&n.anEdge===null),l=i,l=i;(c=l.next)!==i;l=c){ft(c.prev===l),o=c.anEdge;do ft(o.Sym!==o),ft(o.Sym.Sym===o),ft(o.Lnext.Onext.Sym===o),ft(o.Onext.Sym.Lnext===o),ft(o.Org===c),o=o.Onext;while(o!==c.anEdge)}for(ft(c.prev===l&&c.anEdge===null),s=r,s=r;(o=s.next)!==r;s=o)ft(o.Sym.next===s.Sym),ft(o.Sym!==o),ft(o.Sym.Sym===o),ft(o.Org!==null),ft(o.Dst!==null),ft(o.Lnext.Onext.Sym===o),ft(o.Onext.Sym.Lnext===o);ft(o.Sym.next===s.Sym&&o.Sym===this.eHeadSym&&o.Sym.Sym===o&&o.Org===null&&o.Dst===null&&o.Lface===null&&o.Rface===null)},e}(),y8=function(){function e(){this.handle=null}return e}(),b8=function(){function e(){this.key=null,this.node=0}return e}(),gxe=function(){function e(t,i){this.leq=i,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var r=0;r<t+1;r++)this.nodes[r]=new y8,this.handles[r]=new b8;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var i=this.nodes,r=this.handles,n,a,c;for(n=i[t].handle;;){if(c=t<<1,c<this.size&&this.leq(r[i[c+1].handle].key,r[i[c].handle].key)&&++c,ft(c<=this.max),a=i[c].handle,c>this.size||this.leq(r[n].key,r[a].key)){i[t].handle=n,r[n].node=t;break}i[t].handle=a,r[a].node=t,t=c}},e.prototype.floatUp_=function(t){var i=this.nodes,r=this.handles,n,a,c;for(n=i[t].handle;;){if(c=t>>1,a=i[c].handle,c===0||this.leq(r[a].key,r[n].key)){i[t].handle=n,r[n].node=t;break}i[t].handle=a,r[a].node=t,t=c}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var i,r;if(i=++this.size,i*2>this.max){this.max*=2;var n,a;for(a=this.nodes.length,this.nodes.length=this.max+1,n=a;n<this.nodes.length;n++)this.nodes[n]=new y8;for(a=this.handles.length,this.handles.length=this.max+1,n=a;n<this.handles.length;n++)this.handles[n]=new b8}return this.freeList===0?r=i:(r=this.freeList,this.freeList=this.handles[r].node),this.nodes[i].handle=r,this.handles[r].node=i,this.handles[r].key=t,this.initialized&&this.floatUp_(i),r},e.prototype.extractMin=function(){var t=this.nodes,i=this.handles,r=t[1].handle,n=i[r].key;return this.size>0&&(t[1].handle=t[this.size].handle,i[t[1].handle].node=1,i[r].key=null,i[r].node=this.freeList,this.freeList=r,--this.size,this.size>0&&this.floatDown_(1)),n},e.prototype.delete=function(t){var i=this.nodes,r=this.handles,n;ft(t>=1&&t<=this.max&&r[t].key!==null),n=r[t].node,i[n].handle=i[this.size].handle,r[i[n].handle].node=n,--this.size,n<=this.size&&(n<=1||this.leq(r[i[n>>1].handle].key,r[i[n].handle].key)?this.floatDown_(n):this.floatUp_(n)),r[t].key=null,r[t].node=this.freeList,this.freeList=t},e}(),ES=function(){function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return e}(),x8=function(){function e(){this.key=null,this.next=null,this.prev=null}return e}(),vxe=function(){function e(t,i){this.frame=t,this.leq=i,this.head=new x8,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var i=this.head;do i=i.next;while(i.key!==null&&!this.leq(this.frame,t,i.key));return i},e.prototype.insertBefore=function(t,i){do t=t.prev;while(t.key!==null&&!this.leq(this.frame,t.key,i));var r=new x8;return r.key=i,r.next=t.next,t.next.prev=r,r.prev=t,t.next=r,r},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),yxe=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,i){t.winding+=i.winding,t.Sym.winding+=i.Sym.winding},e.edgeLeq=function(t,i,r){var n=t.event,a=i.eUp,c=r.eUp;if(a.Dst===n)return c.Dst===n?at.vertLeq(a.Org,c.Org)?at.edgeSign(c.Dst,a.Org,c.Org)<=0:at.edgeSign(a.Dst,c.Org,a.Org)>=0:at.edgeSign(c.Dst,n,c.Org)<=0;if(c.Dst===n)return at.edgeSign(a.Dst,n,a.Org)>=0;var l=at.edgeEval(a.Dst,n,a.Org),o=at.edgeEval(c.Dst,n,c.Org);return l>=o},e.deleteRegion=function(t,i){i.fixUpperEdge&&ft(i.eUp.winding===0),i.eUp.activeRegion=null,t.dict.delete(i.nodeUp)},e.fixUpperEdge=function(t,i,r){ft(i.fixUpperEdge),t.mesh.delete(i.eUp),i.fixUpperEdge=!1,i.eUp=r,r.activeRegion=i},e.topLeftRegion=function(t,i){var r=i.eUp.Org,n;do i=e.regionAbove(i);while(i.eUp.Org===r);if(i.fixUpperEdge){if(n=t.mesh.connect(e.regionBelow(i).eUp.Sym,i.eUp.Lnext),n===null)return null;e.fixUpperEdge(t,i,n),i=e.regionAbove(i)}return i},e.topRightRegion=function(t){var i=t.eUp.Dst;do t=e.regionAbove(t);while(t.eUp.Dst===i);return t},e.addRegionBelow=function(t,i,r){var n=new ES;return n.eUp=r,n.nodeUp=t.dict.insertBefore(i.nodeUp,n),n.fixUpperEdge=!1,n.sentinel=!1,n.dirty=!1,r.activeRegion=n,n},e.isWindingInside=function(t,i){switch(t.windingRule){case ai.ODD:return(i&1)!==0;case ai.NONZERO:return i!==0;case ai.POSITIVE:return i>0;case ai.NEGATIVE:return i<0;case ai.ABS_GEQ_TWO:return i>=2||i<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,i){i.windingNumber=e.regionAbove(i).windingNumber+i.eUp.winding,i.inside=e.isWindingInside(t,i.windingNumber)},e.finishRegion=function(t,i){var r=i.eUp,n=r.Lface;n.inside=i.inside,n.anEdge=r,e.deleteRegion(t,i)},e.finishLeftRegions=function(t,i,r){for(var n,a=null,c=i,l=i.eUp;c!==r;){if(c.fixUpperEdge=!1,a=e.regionBelow(c),n=a.eUp,n.Org!=l.Org){if(!a.fixUpperEdge){e.finishRegion(t,c);break}n=t.mesh.connect(l.Lprev,n.Sym),e.fixUpperEdge(t,a,n)}l.Onext!==n&&(t.mesh.splice(n.Oprev,n),t.mesh.splice(l,n)),e.finishRegion(t,c),l=a.eUp,c=a}return l},e.addRightEdges=function(t,i,r,n,a,c){var l,o,s,u,d=!0;s=r;do ft(at.vertLeq(s.Org,s.Dst)),e.addRegionBelow(t,i,s.Sym),s=s.Onext;while(s!==n);for(a===null&&(a=e.regionBelow(i).eUp.Rprev),o=i,u=a;l=e.regionBelow(o),s=l.eUp.Sym,s.Org===u.Org;)s.Onext!==u&&(t.mesh.splice(s.Oprev,s),t.mesh.splice(u.Oprev,s)),l.windingNumber=o.windingNumber-s.winding,l.inside=e.isWindingInside(t,l.windingNumber),o.dirty=!0,!d&&e.checkForRightSplice(t,o)&&(e.addWinding(s,u),e.deleteRegion(t,o),t.mesh.delete(u)),d=!1,o=l,u=s;o.dirty=!0,ft(o.windingNumber-s.winding===l.windingNumber),c&&e.walkDirtyRegions(t,o)},e.spliceMergeVertices=function(t,i,r){t.mesh.splice(i,r)},e.vertexWeights=function(t,i,r){var n=at.vertL1dist(i,t),a=at.vertL1dist(r,t),c=.5*a/(n+a),l=.5*n/(n+a);t.coords[0]+=c*i.coords[0]+l*r.coords[0],t.coords[1]+=c*i.coords[1]+l*r.coords[1],t.coords[2]+=c*i.coords[2]+l*r.coords[2]},e.getIntersectData=function(t,i,r,n,a,c){i.coords[0]=i.coords[1]=i.coords[2]=0,i.idx=-1,e.vertexWeights(i,r,n),e.vertexWeights(i,a,c)},e.checkForRightSplice=function(t,i){var r=e.regionBelow(i),n=i.eUp,a=r.eUp;if(at.vertLeq(n.Org,a.Org)){if(at.edgeSign(a.Dst,n.Org,a.Org)>0)return!1;at.vertEq(n.Org,a.Org)?n.Org!==a.Org&&(t.pq.delete(n.Org.pqHandle),e.spliceMergeVertices(t,a.Oprev,n)):(t.mesh.splitEdge(a.Sym),t.mesh.splice(n,a.Oprev),i.dirty=r.dirty=!0)}else{if(at.edgeSign(n.Dst,a.Org,n.Org)<0)return!1;e.regionAbove(i).dirty=i.dirty=!0,t.mesh.splitEdge(n.Sym),t.mesh.splice(a.Oprev,n)}return!0},e.checkForLeftSplice=function(t,i){var r=e.regionBelow(i),n=i.eUp,a=r.eUp,c;if(ft(!at.vertEq(n.Dst,a.Dst)),at.vertLeq(n.Dst,a.Dst)){if(at.edgeSign(n.Dst,a.Dst,n.Org)<0)return!1;e.regionAbove(i).dirty=i.dirty=!0,c=t.mesh.splitEdge(n),t.mesh.splice(a.Sym,c),c.Lface.inside=i.inside}else{if(at.edgeSign(a.Dst,n.Dst,a.Org)>0)return!1;i.dirty=r.dirty=!0,c=t.mesh.splitEdge(a),t.mesh.splice(n.Lnext,a.Sym),c.Rface.inside=i.inside}return!0},e.checkForIntersect=function(t,i){var r=e.regionBelow(i),n=i.eUp,a=r.eUp,c=n.Org,l=a.Org,o=n.Dst,s=a.Dst,u,d,h=new Ph,p,m;if(ft(!at.vertEq(s,o)),ft(at.edgeSign(o,t.event,c)<=0),ft(at.edgeSign(s,t.event,l)>=0),ft(c!==t.event&&l!==t.event),ft(!i.fixUpperEdge&&!r.fixUpperEdge),c===l||(u=Math.min(c.t,o.t),d=Math.max(l.t,s.t),u>d))return!1;if(at.vertLeq(c,l)){if(at.edgeSign(s,c,l)>0)return!1}else if(at.edgeSign(o,l,c)<0)return!1;return e.debugEvent(t),at.intersect(o,c,s,l,h),ft(Math.min(c.t,o.t)<=h.t),ft(h.t<=Math.max(l.t,s.t)),ft(Math.min(s.s,o.s)<=h.s),ft(h.s<=Math.max(l.s,c.s)),at.vertLeq(h,t.event)&&(h.s=t.event.s,h.t=t.event.t),p=at.vertLeq(c,l)?c:l,at.vertLeq(p,h)&&(h.s=p.s,h.t=p.t),at.vertEq(h,c)||at.vertEq(h,l)?(e.checkForRightSplice(t,i),!1):!at.vertEq(o,t.event)&&at.edgeSign(o,t.event,h)>=0||!at.vertEq(s,t.event)&&at.edgeSign(s,t.event,h)<=0?s===t.event?(t.mesh.splitEdge(n.Sym),t.mesh.splice(a.Sym,n),i=e.topLeftRegion(t,i),n=e.regionBelow(i).eUp,e.finishLeftRegions(t,e.regionBelow(i),r),e.addRightEdges(t,i,n.Oprev,n,n,!0),!0):o===t.event?(t.mesh.splitEdge(a.Sym),t.mesh.splice(n.Lnext,a.Oprev),r=i,i=e.topRightRegion(i),m=e.regionBelow(i).eUp.Rprev,r.eUp=a.Oprev,a=e.finishLeftRegions(t,r,null),e.addRightEdges(t,i,a.Onext,n.Rprev,m,!0),!0):(at.edgeSign(o,t.event,h)>=0&&(e.regionAbove(i).dirty=i.dirty=!0,t.mesh.splitEdge(n.Sym),n.Org.s=t.event.s,n.Org.t=t.event.t),at.edgeSign(s,t.event,h)<=0&&(i.dirty=r.dirty=!0,t.mesh.splitEdge(a.Sym),a.Org.s=t.event.s,a.Org.t=t.event.t),!1):(t.mesh.splitEdge(n.Sym),t.mesh.splitEdge(a.Sym),t.mesh.splice(a.Oprev,n),n.Org.s=h.s,n.Org.t=h.t,n.Org.pqHandle=t.pq.insert(n.Org),e.getIntersectData(t,n.Org,c,o,l,s),e.regionAbove(i).dirty=i.dirty=r.dirty=!0,!1)},e.walkDirtyRegions=function(t,i){for(var r=e.regionBelow(i),n,a;;){for(;r.dirty;)i=r,r=e.regionBelow(r);if(!i.dirty&&(r=i,i=e.regionAbove(i),i===null||!i.dirty))return;if(i.dirty=!1,n=i.eUp,a=r.eUp,n.Dst!==a.Dst&&e.checkForLeftSplice(t,i)&&(r.fixUpperEdge?(e.deleteRegion(t,r),t.mesh.delete(a),r=e.regionBelow(i),a=r.eUp):i.fixUpperEdge&&(e.deleteRegion(t,i),t.mesh.delete(n),i=e.regionAbove(r),n=i.eUp)),n.Org!==a.Org)if(n.Dst!==a.Dst&&!i.fixUpperEdge&&!r.fixUpperEdge&&(n.Dst===t.event||a.Dst===t.event)){if(e.checkForIntersect(t,i))return}else e.checkForRightSplice(t,i);n.Org===a.Org&&n.Dst===a.Dst&&(e.addWinding(a,n),e.deleteRegion(t,i),t.mesh.delete(n),i=e.regionAbove(r))}},e.connectRightVertex=function(t,i,r){var n,a=r.Onext,c=e.regionBelow(i),l=i.eUp,o=c.eUp,s=!1;if(l.Dst!==o.Dst&&e.checkForIntersect(t,i),at.vertEq(l.Org,t.event)&&(t.mesh.splice(a.Oprev,l),i=e.topLeftRegion(t,i),a=e.regionBelow(i).eUp,e.finishLeftRegions(t,e.regionBelow(i),c),s=!0),at.vertEq(o.Org,t.event)&&(t.mesh.splice(r,o.Oprev),r=e.finishLeftRegions(t,c,null),s=!0),s){e.addRightEdges(t,i,r.Onext,a,a,!0);return}at.vertLeq(o.Org,l.Org)?n=o.Oprev:n=l,n=t.mesh.connect(r.Lprev,n),e.addRightEdges(t,i,n,n.Onext,n.Onext,!1),n.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,i)},e.connectLeftDegenerate=function(t,i,r){var n,a,c,l,o;if(n=i.eUp,at.vertEq(n.Org,r)){ft(!1),e.spliceMergeVertices(t,n,r.anEdge);return}if(!at.vertEq(n.Dst,r)){t.mesh.splitEdge(n.Sym),i.fixUpperEdge&&(t.mesh.delete(n.Onext),i.fixUpperEdge=!1),t.mesh.splice(r.anEdge,n),e.sweepEvent(t,r);return}ft(!1),i=e.topRightRegion(i),o=e.regionBelow(i),c=o.eUp.Sym,a=l=c.Onext,o.fixUpperEdge&&(ft(a!==c),e.deleteRegion(t,o),t.mesh.delete(c),c=a.Oprev),t.mesh.splice(r.anEdge,c),at.edgeGoesLeft(a)||(a=null),e.addRightEdges(t,i,c.Onext,l,a,!0)},e.connectLeftVertex=function(t,i){var r,n,a,c,l,o,s=new ES;if(s.eUp=i.anEdge.Sym,r=t.dict.search(s).key,n=e.regionBelow(r),!!n){if(c=r.eUp,l=n.eUp,at.edgeSign(c.Dst,i,c.Org)===0){e.connectLeftDegenerate(t,r,i);return}if(a=at.vertLeq(l.Dst,c.Dst)?r:n,r.inside||a.fixUpperEdge){if(a===r)o=t.mesh.connect(i.anEdge.Sym,c.Lnext);else{var u=t.mesh.connect(l.Dnext,i.anEdge);o=u.Sym}a.fixUpperEdge?e.fixUpperEdge(t,a,o):e.computeWinding(t,e.addRegionBelow(t,r,o)),e.sweepEvent(t,i)}else e.addRightEdges(t,r,i.anEdge,i.anEdge,null,!0)}},e.sweepEvent=function(t,i){t.event=i,e.debugEvent(t);for(var r=i.anEdge;r.activeRegion===null;)if(r=r.Onext,r===i.anEdge){e.connectLeftVertex(t,i);return}var n=e.topLeftRegion(t,r.activeRegion);ft(n!==null);var a=e.regionBelow(n),c=a.eUp,l=e.finishLeftRegions(t,a,null);l.Onext===c?e.connectRightVertex(t,n,l):e.addRightEdges(t,n,l.Onext,c,c,!0)},e.addSentinel=function(t,i,r,n){var a=new ES,c=t.mesh.makeEdge();c.Org.s=r,c.Org.t=n,c.Dst.s=i,c.Dst.t=n,t.event=c.Dst,a.eUp=c,a.windingNumber=0,a.inside=!1,a.fixUpperEdge=!1,a.sentinel=!0,a.dirty=!1,a.nodeUp=t.dict.insert(a)},e.initEdgeDict=function(t){t.dict=new vxe(t,e.edgeLeq);var i=t.bmax[0]-t.bmin[0],r=t.bmax[1]-t.bmin[1],n=t.bmin[0]-i,a=t.bmax[0]+i,c=t.bmin[1]-r,l=t.bmax[1]+r;e.addSentinel(t,n,a,c),e.addSentinel(t,n,a,l)},e.doneEdgeDict=function(t){for(var i,r=0;(i=t.dict.min().key)!==null;)i.sentinel||(ft(i.fixUpperEdge),ft(++r===1)),ft(i.windingNumber===0),e.deleteRegion(t,i)},e.removeDegenerateEdges=function(t){var i,r,n,a=t.mesh.eHead;for(i=a.next;i!==a;i=r)r=i.next,n=i.Lnext,at.vertEq(i.Org,i.Dst)&&i.Lnext.Lnext!==i&&(e.spliceMergeVertices(t,n,i),t.mesh.delete(i),i=n,n=i.Lnext),n.Lnext===i&&(n!==i&&((n===r||n===r.Sym)&&(r=r.next),t.mesh.delete(n)),(i===r||i===r.Sym)&&(r=r.next),t.mesh.delete(i))},e.initPriorityQ=function(t){var i,r,n,a=0;for(n=t.mesh.vHead,r=n.next;r!==n;r=r.next)a++;for(a+=8,i=t.pq=new gxe(a,at.vertLeq),n=t.mesh.vHead,r=n.next;r!==n;r=r.next)r.pqHandle=i.insert(r);return r!==n?!1:(i.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,i){var r,n,a;for(r=i.fHead.next;r!==i.fHead;r=n)n=r.next,a=r.anEdge,ft(a.Lnext!==a),a.Lnext.Lnext===a&&(e.addWinding(a.Onext,a),t.mesh.delete(a));return!0},e.computeInterior=function(t,i){i===void 0&&(i=!0);var r,n;if(e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);(r=t.pq.extractMin())!==null;){for(;n=t.pq.min(),!(n===null||!at.vertEq(n,r));)n=t.pq.extractMin(),e.spliceMergeVertices(t,r.anEdge,n.anEdge);e.sweepEvent(t,r)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),e.removeDegenerateFaces(t,t.mesh)?(i&&t.mesh.check(),!0):!1},e}(),bxe=function(){function e(){this.mesh=new v8,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=ai.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]},e.prototype.normalize_=function(t){var i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!i)throw"Zero-size vector!";i=Math.sqrt(i),t[0]/=i,t[1]/=i,t[2]/=i},e.prototype.longAxis_=function(t){var i=0;return Math.abs(t[1])>Math.abs(t[0])&&(i=1),Math.abs(t[2])>Math.abs(t[i])&&(i=2),i},e.prototype.computeNormal_=function(t){var i,r,n,a,c,l,o=[0,0,0],s=[0,0,0],u=[0,0,0],d=[0,0,0],h=[0,0,0],p=[null,null,null],m=[null,null,null],f=this.mesh.vHead;i=f.next;for(var g=0;g<3;++g)a=i.coords[g],s[g]=a,m[g]=i,o[g]=a,p[g]=i;for(i=f.next;i!==f;i=i.next)for(var v=0;v<3;++v)a=i.coords[v],a<s[v]&&(s[v]=a,m[v]=i),a>o[v]&&(o[v]=a,p[v]=i);var S=0;if(o[1]-s[1]>o[0]-s[0]&&(S=1),o[2]-s[2]>o[S]-s[S]&&(S=2),s[S]>=o[S]){t[0]=0,t[1]=0,t[2]=1;return}for(l=0,r=m[S],n=p[S],u[0]=r.coords[0]-n.coords[0],u[1]=r.coords[1]-n.coords[1],u[2]=r.coords[2]-n.coords[2],i=f.next;i!==f;i=i.next)d[0]=i.coords[0]-n.coords[0],d[1]=i.coords[1]-n.coords[1],d[2]=i.coords[2]-n.coords[2],h[0]=u[1]*d[2]-u[2]*d[1],h[1]=u[2]*d[0]-u[0]*d[2],h[2]=u[0]*d[1]-u[1]*d[0],c=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],c>l&&(l=c,t[0]=h[0],t[1]=h[1],t[2]=h[2]);l<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(u)]=1)},e.prototype.checkOrientation_=function(){for(var t=this.mesh.fHead,i,r=this.mesh.vHead,n,a=0,c=t.next;c!==t;c=c.next)if(n=c.anEdge,!(n.winding<=0))do a+=(n.Org.s-n.Dst.s)*(n.Org.t+n.Dst.t),n=n.Lnext;while(n!==c.anEdge);if(a<0){for(i=r.next;i!==r;i=i.next)i.t=-i.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var t=this.mesh.vHead,i=[0,0,0],r,n,a=!1;i[0]=this.normal[0],i[1]=this.normal[1],i[2]=this.normal[2],!i[0]&&!i[1]&&!i[2]&&(this.computeNormal_(i),a=!0),r=this.sUnit,n=this.tUnit;var c=this.longAxis_(i);r[c]=0,r[(c+1)%3]=1,r[(c+2)%3]=0,n[c]=0,n[(c+1)%3]=0,n[(c+2)%3]=i[c]>0?1:-1;for(var l=t.next;l!==t;l=l.next)l.s=this.dot_(l.coords,r),l.t=this.dot_(l.coords,n);a&&this.checkOrientation_();for(var o=!0,s=t.next;s!==t;s=s.next)o?(this.bmin[0]=this.bmax[0]=s.s,this.bmin[1]=this.bmax[1]=s.t,o=!1):(s.s<this.bmin[0]&&(this.bmin[0]=s.s),s.s>this.bmax[0]&&(this.bmax[0]=s.s),s.t<this.bmin[1]&&(this.bmin[1]=s.t),s.t>this.bmax[1]&&(this.bmax[1]=s.t))},e.prototype.addWinding_=function(t,i){t.winding+=i.winding,t.Sym.winding+=i.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,i){var r,n;if(r=i.anEdge,!(r.Lnext!==r&&r.Lnext.Lnext!==r))throw"Mono region invalid";for(;at.vertLeq(r.Dst,r.Org);r=r.Lprev);for(;at.vertLeq(r.Org,r.Dst);r=r.Lnext);n=r.Lprev;for(var a=void 0;r.Lnext!==n;)if(at.vertLeq(r.Dst,n.Org)){for(;n.Lnext!==r&&(at.edgeGoesLeft(n.Lnext)||at.edgeSign(n.Org,n.Dst,n.Lnext.Dst)<=0);)a=t.connect(n.Lnext,n),n=a.Sym;n=n.Lprev}else{for(;n.Lnext!==r&&(at.edgeGoesRight(r.Lprev)||at.edgeSign(r.Dst,r.Org,r.Lprev.Org)>=0);)a=t.connect(r,r.Lprev),r=a.Sym;r=r.Lnext}if(n.Lnext===r)throw"Mono region invalid";for(;n.Lnext.Lnext!==r;)a=t.connect(n.Lnext,n),n=a.Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var i,r=t.fHead.next;r!==t.fHead;r=i)if(i=r.next,r.inside&&!this.tessellateMonoRegion_(t,r))return!1;return!0},e.prototype.discardExterior_=function(t){for(var i,r=t.fHead.next;r!==t.fHead;r=i)i=r.next,r.inside||t.zapFace(r)},e.prototype.setWindingNumber_=function(t,i,r){for(var n,a=t.eHead.next;a!==t.eHead;a=n)n=a.next,a.Rface.inside!==a.Lface.inside?a.winding=a.Lface.inside?i:-i:r?t.delete(a):a.winding=0},e.prototype.getNeighbourFace_=function(t){return!t.Rface||!t.Rface.inside?-1:t.Rface.n},e.prototype.outputPolymesh_=function(t,i,r,n){var a,c=0,l=0,o;r>3&&t.mergeConvexFaces(r);for(var s=t.vHead.next;s!==t.vHead;s=s.next)s.n=-1;for(var u=t.fHead.next;u!==t.fHead;u=u.next)if(u.n=-1,!!u.inside){a=u.anEdge,o=0;do{var s=a.Org;s.n===-1&&(s.n=l,l++),o++,a=a.Lnext}while(a!==u.anEdge);if(o>r)throw"Face vertex greater that support polygon";u.n=c,++c}this.elementCount=c,i===ar.CONNECTED_POLYGONS&&(c*=2),this.elements=[],this.elements.length=c*r,this.vertexCount=l,this.vertices=[],this.vertices.length=l*n,this.vertexIndices=[],this.vertexIndices.length=l;for(var s=t.vHead.next;s!==t.vHead;s=s.next)if(s.n!==-1){var d=s.n*n;this.vertices[d+0]=s.coords[0],this.vertices[d+1]=s.coords[1],n>2&&(this.vertices[d+2]=s.coords[2]),this.vertexIndices[s.n]=s.idx}for(var h=0,u=t.fHead.next;u!==t.fHead;u=u.next)if(u.inside){a=u.anEdge,o=0;do{var s=a.Org;this.elements[h++]=s.n,o++,a=a.Lnext}while(a!==u.anEdge);for(var p=o;p<r;++p)this.elements[h++]=-1;if(i===ar.CONNECTED_POLYGONS){a=u.anEdge;do this.elements[h++]=this.getNeighbourFace_(a),a=a.Lnext;while(a!==u.anEdge);for(var m=o;m<r;++m)this.elements[h++]=-1}}},e.prototype.outputContours_=function(t,i){var r,n,a=0,c=0;this.vertexCount=0,this.elementCount=0;for(var l=t.fHead.next;l!==t.fHead;l=l.next)if(l.inside){n=r=l.anEdge;do this.vertexCount++,r=r.Lnext;while(r!==n);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*i,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var o=0,s=0,u=0;a=0;for(var l=t.fHead.next;l!==t.fHead;l=l.next)if(l.inside){c=0,n=r=l.anEdge;do this.vertices[o++]=r.Org.coords[0],this.vertices[o++]=r.Org.coords[1],i>2&&(this.vertices[o++]=r.Org.coords[2]),this.vertexIndices[s++]=this.vertexIdCallback?this.vertexIdCallback(r):r.Org.idx,c++,r=r.Lnext;while(r!==n);this.elements[u++]=a,this.elements[u++]=c,a+=c}},e.prototype.addContour=function(t,i){this.mesh===null&&(this.mesh=new v8),t<2&&(t=2),t>3&&(t=3);for(var r=null,n=0;n<i.length;n+=t)r===null?(r=this.mesh.makeEdge(),this.mesh.splice(r,r.Sym)):(this.mesh.splitEdge(r),r=r.Lnext),r.Org.coords[0]=i[n+0],r.Org.coords[1]=i[n+1],t>2?r.Org.coords[2]=i[n+2]:r.Org.coords[2]=0,r.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(r),r.winding=1,r.Sym.winding=-1},e.prototype.tesselate=function(t,i,r,n,a,c){if(t===void 0&&(t=ai.ODD),i===void 0&&(i=ar.POLYGONS),c===void 0&&(c=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,a&&(this.normal[0]=a[0],this.normal[1]=a[1],this.normal[2]=a[2]),this.windingRule=t,n<2&&(n=2),n>3&&(n=3),!this.mesh)return!1;this.projectPolygon_(),yxe.computeInterior(this,c);var l=this.mesh;return i===ar.BOUNDARY_CONTOURS?this.setWindingNumber_(l,1,!0):this.tessellateInterior_(l),c&&l.check(),i===ar.BOUNDARY_CONTOURS?this.outputContours_(l,n):this.outputPolymesh_(l,i,r,n),!0},e}();function Pc(e){var t=e.windingRule,i=t===void 0?ai.ODD:t,r=e.elementType,n=r===void 0?ar.POLYGONS:r,a=e.polySize,c=a===void 0?3:a,l=e.vertexSize,o=l===void 0?2:l,s=e.normal,u=s===void 0?[0,0,1]:s,d=e.contours,h=d===void 0?[]:d,p=e.strict,m=p===void 0?!0:p,f=e.debug,g=f===void 0?!1:f;if(!h&&m)throw new Error("Contours can't be empty");if(h){var v=new bxe;e.edgeCreateCallback&&(v.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(v.vertexIdCallback=e.vertexIdCallback);for(var S=0;S<h.length;S++)v.addContour(o||2,h[S]);return v.tesselate(i,n,c,o,u,m),{vertices:v.vertices,vertexIndices:v.vertexIndices,vertexCount:v.vertexCount,elements:v.elements,elementCount:v.elementCount,mesh:g?v.mesh:void 0}}}ai.ODD;ai.NONZERO;ai.POSITIVE;ai.NEGATIVE;ai.ABS_GEQ_TWO;ar.POLYGONS;ar.CONNECTED_POLYGONS;ar.BOUNDARY_CONTOURS;var bT=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let i=e*bT.eSize;this.buffer=new ArrayBuffer(i);let r=Float32Array.BYTES_PER_ELEMENT,n=0;this.positions=new Float32Array(this.buffer,n*r,3*e),n+=3*e,this.normals=new Float32Array(this.buffer,n*r,3*e),n+=3*e,this.uvs=new Float32Array(this.buffer,n*r,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity}  ${e}`);let i=e*bT.eSize,r=new ArrayBuffer(i),n=Float32Array.BYTES_PER_ELEMENT,a=0,c=new Float32Array(r,a*n,3*e);a+=3*e;let l=new Float32Array(r,a*n,3*e);a+=3*e;let o=new Float32Array(r,a*n,2*e);t?(c.set(this.positions.subarray(0,this.size*3)),l.set(this.normals.subarray(0,this.size*3)),o.set(this.uvs.subarray(0,this.size*2))):(c.set(this.positions),l.set(this.normals),o.set(this.uvs)),this.buffer=r,this.positions=c,this.normals=l,this.uvs=o,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let r=this.capacity;for(;t>r;)r*=2;this.realloc(r)}let i=this.size;return this.size=t,i}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity}  ${this.size}`),this.realloc(this.size,!0)}},XU=bT;XU.eSize=8*Float32Array.BYTES_PER_ELEMENT;var xxe=class{constructor(e=[],t=(i,r)=>i<r?-1:i>r?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;let e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){let{data:t,compare:i}=this,r=t[e];for(;e>0;){let n=e-1>>1,a=t[n];if(i(r,a)>=0)break;t[e]=a,e=n}t[e]=r}_down(e){let{data:t,compare:i}=this,r=this.length>>1,n=t[e];for(;e<r;){let a=(e<<1)+1,c=a+1;if(c<this.length&&i(t[c],t[a])<0&&(a=c),i(t[a],n)>=0)break;t[e]=t[a],e=a}t[e]=n}};function wxe(e,t,i=1,r=!1){let n=1/0,a=1/0,c=-1/0,l=-1/0;for(let[S,x]of e[0])S<n&&(n=S),x<a&&(a=x),S>c&&(c=S),x>l&&(l=x);let o=c-n,s=l-a,u=Math.max(i,Math.min(o,s));if(u===i){let S=[n,a];return S.distance=0,S.distance}let d=new xxe([],(S,x)=>x.max-S.max),h=Sxe(e),p=new Px(n+o/2,a+s/2,0,e);p.d>h.d&&(h=p);let m=2;function f(S,x,b){let _=new Px(S,x,b,e);if(m++,_.max>h.d+i&&d.push(_),_.d>h.d&&(h=_,r&&console.log(`found best ${Math.round(1e4*_.d)/1e4} after ${m} probes`),h.d>t))return t}let g=u/2;for(let S=n;S<c;S+=u)for(let x=a;x<l;x+=u)f(S+g,x+g,g);for(;d.length;){let{max:S,x,y:b,h:_}=d.pop();if(S-h.d<=i)break;g=_/2,f(x-g,b-g,g),f(x+g,b-g,g),f(x-g,b+g,g),f(x+g,b+g,g)}r&&console.log(`num probes: ${m}
best distance: ${h.d}`);let v=[h.x,h.y];return v.distance=h.d,v.distance}function Px(e,t,i,r){this.x=e,this.y=t,this.h=i,this.d=_xe(e,t,r),this.max=this.d+this.h*Math.SQRT2}function _xe(e,t,i){let r=!1,n=1/0;for(let a of i)for(let c=0,l=a.length,o=l-1;c<l;o=c++){let s=a[c],u=a[o];s[1]>t!=u[1]>t&&e<(u[0]-s[0])*(t-s[1])/(u[1]-s[1])+s[0]&&(r=!r),n=Math.min(n,Cxe(e,t,s,u))}return n===0?0:(r?1:-1)*Math.sqrt(n)}function Sxe(e){let t=0,i=0,r=0,n=e[0];for(let c=0,l=n.length,o=l-1;c<l;o=c++){let s=n[c],u=n[o],d=s[0]*u[1]-u[0]*s[1];i+=(s[0]+u[0])*d,r+=(s[1]+u[1])*d,t+=d*3}let a=new Px(i/t,r/t,0,e);return t===0||a.d<0?new Px(n[0][0],n[0][1],0,e):a}function Cxe(e,t,i,r){let n=i[0],a=i[1],c=r[0]-n,l=r[1]-a;if(c!==0||l!==0){let o=((e-n)*c+(t-a)*l)/(c*c+l*l);o>1?(n=r[0],a=r[1]):o>0&&(n+=c*o,a+=l*o)}return c=e-n,l=t-a,c*c+l*l}var JM={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},JU={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},QU={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},TS=(e,t)=>([i,r])=>(r<i&&(r+=t),(e>=i?e:e+t)<=r),QM=class extends Qe{constructor(e,t,i=0,r=12,n=3,a=ai.ODD,c=!1){super(),this.forPathBevel=c,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=r,this._bevelSegmentsInput=n;let l=this._shape.extractShapePointsToFlatArray([],r),o=this._shape.shapeHoles.map(A=>{let T=A.extractShapePointsToFlatArray([],r),M=[];for(let j=T.length-1;j>=1;j-=2){let P=T[j-1],I=T[j-0];M.push(P,I)}return M}),s=[],u=[];for(let A=0;A<l.length;A+=2)u.push([l[A],l[A+1]]);s.push(u);for(let A=0;A<o.length;A++){let T=o[A],M=[];for(let j=0;j<T.length;j+=2)M.push([T[j],T[j+1]]);s.push(M)}let d;e.isText?d=new gM().setFromPoints(e.points.map(A=>A.position)).getSize(new re).length()*.1:s[0].length===0?d=i:i>0?d=wxe(s,i):d=1e-5,i<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(i,d,t/2),this._bevelSegments=Math.floor(n));let h;try{h=Pc({windingRule:a,elementType:ar.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[l]})}catch{h=JM}let p;try{p=Pc({windingRule:ai.ODD,elementType:ar.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...o]})}catch{p=JU}if(!h)throw new Error("error generating geometry");let m=h.elementCount;if(p){h.elementCount+=p.elementCount;for(let A=0;A<p.elements.length;A++){let T=p.elements[A],M=A%2===0?h.vertexCount:0;h.elements.push(T+M)}for(let A=0;A<p.vertexIndices.length;A++){let T=p.vertexIndices[A],M=h.vertexCount;h.vertexIndices.push(T+M)}for(let A=0;A<p.vertices.length;A++){let T=p.vertices[A];h.vertices.push(T)}}let f=1/0,g=-1/0,v=1/0,S=-1/0;for(let A=0,T=h.vertexCount;A<T;A++){let M=A*2,j=h.vertices[M+0],P=h.vertices[M+1];j<f&&(f=j),j>g&&(g=j),P<v&&(v=P),P>S&&(S=P)}this._minX=f,this._minY=v,this._width=g-f,this._height=S-v,this._buffer=new XU(this._computeBufferEstimatedSize(h));let x=[],b=[];for(let A=h.elementCount-1;A>=0;A--){let T=A>=m,M=A*2,j=h.elements[M+0],P=h.elements[M+1],I=j+P,k={start:j,count:P,normals:[],continuous:[],concave:[]},R=j,O=I-1,D=j+1,L=this._shape.roundedCurves.length;do{let U=R-j,X=h.vertices[O*2+0],W=h.vertices[O*2+1],ie=h.vertices[R*2+0],Q=h.vertices[R*2+1],ae=h.vertices[D*2+0],K=h.vertices[D*2+1],te=ie-X,ne=Q-W,ce=Math.sqrt(te*te+ne*ne);te/=ce,ne/=ce;let pe=ie-ae,ge=Q-K,ue=Math.sqrt(pe*pe+ge*ge);pe/=ue,ge/=ue,k.normals[U*2+0]=-ge,k.normals[U*2+1]=pe,k.concave[U]=te*ge-ne*pe>0;let Me=h.vertexIndices[R];if(Array.isArray(Me))k.continuous[U]=!1;else{let[Ae,je]=this._shape.getCurveIndexFromVertexId(Me-1,!0);if(je>0&&je<1)k.continuous[U]=!0;else{let Ke=je===1?Ae+1:Ae-1;Ke=(Ke+L)%L;let Pe=je===1?0:1,Z=this._shape.roundedCurves[Ae].getTangent(je),q=this._shape.roundedCurves[Ke].getTangent(Pe);k.continuous[U]=Z.dot(q)>.95}}T&&(k.normals[U*2+0]*=-1,k.normals[U*2+1]*=-1),[O,R,D]=[R,D,D+1],D>=I&&(D-=P)}while(D!==j+1);let B=[];B.push({bevelI:0,angle:0,size:0,boundary:{vertices:h.vertices.slice(j*2,I*2),vertexCount:P,vertexIndices:new Array(P).fill(!0).map((U,X)=>[X,X]),elements:[0,P],elementCount:1,mesh:null},reverseMap:[],insetPoints:h.vertices.slice(j*2,I*2)});let F=0;for(let U=1;U<=this._bevelSegments;U++){let X=U/this._bevelSegments*Math.PI/2,W=(1-Math.cos(X))*this._bevel,ie=[],Q=[],ae=0;for(let te=0;te<P;te++){let ne=te*2,ce=(te-1+P)%P*2,pe=h.vertices[k.start*2+ne+0],ge=h.vertices[k.start*2+ne+1],ue=-k.normals[ce+0]*W,Me=-k.normals[ce+1]*W,Ae=-k.normals[ne+0]*W,je=-k.normals[ne+1]*W;if(k.concave[te]||!k.concave[te]&&T){let Ke=Math.atan2(Me,ue),Pe=Math.atan2(je,Ae);Pe>Ke&&(Pe-=Math.PI*2);let Z=Pe-Ke;if(k.continuous[te]||T){let q=Ke+Z/2,fe=Math.cos(q)*W,Ce=Math.sin(q)*W;ie[2*ae+0]=pe+fe*(T?-1:1),ie[2*ae+1]=ge+Ce*(T?-1:1),Q[ae]=te,ae++}else{let q=Math.max(1,Math.floor(r/4*Math.abs(Z)/Math.PI));for(let fe=0;fe<=q;fe++){let Ce=Ke+Z*(fe/q),G=Math.cos(Ce)*W,ke=Math.sin(Ce)*W;ie[2*ae+0]=pe+G,ie[2*ae+1]=ge+ke,Q[ae]=te,ae++}}}else ie[2*ae+0]=pe+ue,ie[2*ae+1]=ge+Me,Q[ae]=te,ae++,ie[2*ae+0]=pe,ie[2*ae+1]=ge,Q[ae]=te,ae++,ie[2*ae+0]=pe+Ae,ie[2*ae+1]=ge+je,Q[ae]=te,ae++}let K=Pc({windingRule:ai.POSITIVE,elementType:ar.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[ie],edgeCreateCallback:te=>{let ne=te.Org.idx,ce=Q[ne],pe=Q[(ne+1)%Q.length];te.idx=[ce,pe],te.Sym.idx=[pe,ce]},vertexIdCallback:te=>{let ne=te.Lprev.idx;return[ne?ne[1]:0,te.idx?te.idx[0]:0]}});if(!K)throw console.log("Error"),new Error(`error generating bevel geometry for ${U}'th loop`);if(!K.vertexCount){let te=(U-1)/this._bevelSegments*Math.PI/2;F=(1-Math.sin(te))*this._bevel;break}for(let te=0;te<K.vertexIndices.length;te++){let[ne,ce]=K.vertexIndices[te];if(ne===ce)continue;let pe=ce;ce<ne&&(pe+=P);for(let ge=ne;ge<pe;ge++){let ue=ge%P,Me=(ge+1)%P;if(!k.continuous[ue]||!k.continuous[Me]){K.vertexIndices[te]=[ne,ue],K.vertexIndices.splice(te+1,0,[Me,ce]),K.vertices.splice((te+1)*2,0,K.vertices[te*2],K.vertices[te*2+1]);break}}}B.push({bevelI:U,angle:X,size:W,boundary:K,reverseMap:Q,insetPoints:ie})}let H=(U,X,W)=>{let ie=0,Q=U.boundary.vertexIndices.length;for(;ie<Q&&W(U.boundary.vertexIndices[X]);)X=(X+1)%Q,ie++;return ie},ee=x.length;for(let U=1;U<B.length;U++){let X=B[U-1],W=B[U],ie=X.boundary.vertexIndices.length,Q=W.boundary.vertexIndices.length;if(!ie||!Q)break;let ae=k.concave.length,K=0,te=TS(K,P);for(;!X.boundary.vertexIndices.filter(te).length||!W.boundary.vertexIndices.filter(te).length;)K++,te=TS(K,P);let ne=X.boundary.vertexIndices.findIndex(te),ce=W.boundary.vertexIndices.findIndex(te);do ne=(ne+1)%ie;while(te(X.boundary.vertexIndices[ne]));do ce=(ce+1)%Q;while(te(W.boundary.vertexIndices[ce]));K=(K+1)%P;let pe=K,ge=0,ue=this._buildBevelVert(k,X,(ne-1+ie)%ie,void 0,ge),Me=this._buildBevelVert(k,W,(ce-1+Q)%Q,void 0,ge),Ae=ue,je=Me,Ke,Pe,Z=!1;do{ge=(K||ae)/ae,te=TS(K,P);let q=H(X,ne,te),fe=H(W,ce,te),Ce=Z;if(Z=!1,q&&!fe){for(let G=0;G<q;G++)Ke=this._buildBevelVert(k,X,(ne+G)%ie,G/(q-1),ge),x.push(Ae.topN,Ke.topP,je.topN),c===!1&&x.push(Ke.bottomP,Ae.bottomN,je.bottomN),Ae=Ke;Z=!0}else if(!q&&fe)for(let G=0;G<fe;G++)Pe=this._buildBevelVert(k,W,(ce+G)%Q,G/(fe-1),ge),x.push(je.topN,Ae.topP,Pe.topP),c===!1&&x.push(Ae.bottomP,je.bottomN,Pe.bottomP),je=Pe;else if(q&&fe)if(Ke=this._buildBevelVert(k,X,ne,0,ge),Pe=this._buildBevelVert(k,W,ce,0,ge),Ce?(x.push(Ae.topN,Pe.topP,je.topN),x.push(Ae.topN,Ke.topP,Pe.topP),c===!1&&(x.push(Pe.bottomP,Ae.bottomN,je.bottomN),x.push(Pe.bottomP,Ke.bottomP,Ae.bottomN))):(x.push(je.topN,Ae.topN,Ke.topP),x.push(je.topN,Ke.topP,Pe.topP),c===!1&&(x.push(Ke.bottomP,Ae.bottomN,je.bottomN),x.push(Ke.bottomP,je.bottomN,Pe.bottomP))),Ae=Ke,je=Pe,q===fe)for(let G=1;G<q;G++)Ke=this._buildBevelVert(k,X,(ne+G)%ie,G/(q-1),ge),Pe=this._buildBevelVert(k,W,(ce+G)%Q,G/(fe-1),ge),x.push(Ae.topN,Ke.topP,je.topN),x.push(je.topN,Ke.topP,Pe.topP),c===!1&&(x.push(Ke.bottomP,Ae.bottomN,je.bottomN),x.push(Ke.bottomP,je.bottomN,Pe.bottomP)),Ae=Ke,je=Pe;else if(q>fe){let G=q/fe,ke=0;for(let Re=1;Re<q;Re++)Ke=this._buildBevelVert(k,X,(ne+Re)%ie,Re/(q-1),ge),x.push(Ae.topN,Ke.topP,je.topN),c===!1&&x.push(Ke.bottomP,Ae.bottomN,je.bottomN),Ae=Ke,Re>(ke+1)*G&&(ke++,Pe=this._buildBevelVert(k,W,(ce+ke)%Q,ke/(fe-1),ge),x.push(je.topN,Ke.topP,Pe.topP),c===!1&&x.push(Ke.bottomP,je.bottomN,Pe.bottomP),je=Pe)}else{let G=fe/q,ke=0;for(let Re=1;Re<fe;Re++)Pe=this._buildBevelVert(k,W,(ce+Re)%Q,Re/(fe-1),ge),x.push(je.topN,Ke.topP,Pe.topP),c===!1&&x.push(Ke.bottomP,je.bottomN,Pe.bottomP),je=Pe,Re>(ke+1)*G&&(ke++,Ke=this._buildBevelVert(k,X,(ne+ke)%ie,ke/(q-1),ge),x.push(Ae.topN,Ke.topP,je.topN),c===!1&&x.push(Ke.bottomP,Ae.bottomN,je.bottomN),Ae=Ke)}ne=(ne+q)%ie,ce=(ce+fe)%Q,K=(K+1)%ae}while(K!==pe)}if(c===!1&&this._depth>this._bevel*2&&this._buildWall(B,k,x),T){let U=[];for(let X=x.length-1;X>=ee+2;X-=3){let W=x[X-2],ie=x[X-1],Q=x[X-0];U.push(Q,ie,W)}x.splice(ee,x.length-ee,...U)}if(T){let U=[];for(let X=B[B.length-1].boundary.vertices.length-1;X>=1;X-=2){let W=B[B.length-1].boundary.vertices[X-1],ie=B[B.length-1].boundary.vertices[X-0];U.push(W,ie)}b.push(U)}if(!T){let U=B[B.length-1],X;try{X=Pc({windingRule:B.length>1?ai.POSITIVE:ai.ODD,elementType:ar.POLYGONS,vertexSize:2,strict:!0,contours:[U.insetPoints,...b]})}catch{X=QU}if(!X)throw new Error("Error generating geometry for surface");o.length===0&&this._bevel<d&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let W=0;W<X.elementCount*3;W+=3){let ie=this._buildSurfaceVert(X,X.elements[W+0],F),Q=this._buildSurfaceVert(X,X.elements[W+1],F),ae=this._buildSurfaceVert(X,X.elements[W+2],F);x.push(ie.top,Q.top,ae.top),c===!1&&x.push(ae.bottom,Q.bottom,ie.bottom)}}this.vertexCache={}}this._buffer.shrink();let _=new ct(Uint32Array.from(x),1),w=new ct(this._buffer.positions,3),C=new ct(this._buffer.normals,3),E=new ct(this._buffer.uvs,2);w.needsUpdate=!0,C.needsUpdate=!0,E.needsUpdate=!0,_.needsUpdate=!0,this.setAttribute("position",w),this.setAttribute("normal",C),this.setAttribute("uv",E),this.setIndex(_)}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,i){let r=e[0];for(let n=0,a=r.boundary.vertexCount;n<a;n++){let c=this._buildBevelVert(t,r,n),l=this._buildBevelVert(t,r,(n+1)%a);i.push(l.topP,c.topN,c.bottomN),i.push(l.topP,c.bottomN,l.bottomP)}}_buildSurfaceVert(e,t,i){let r=t.toString();if(r in this.vertexCache)return this.vertexCache[r];let n=e.vertices[t*2+0],a=e.vertices[t*2+1],c=(n-this._minX)/this._width,l=(a-this._minY)/this._height;this.forPathBevel&&(l=1);let o=this._buffer.get(this.forPathBevel?1:2),s=o*3,u=o*2,d={top:o+0,bottom:o+1};return this._buffer.positions[s+0]=n,this._buffer.positions[s+1]=a,this._buffer.positions[s+2]=this.forPathBevel?this._bevel:this._depth-i,this._buffer.normals[s+0]=0,this._buffer.normals[s+1]=0,this._buffer.normals[s+2]=1,this._buffer.uvs[u+0]=c,this._buffer.uvs[u+1]=l,this.forPathBevel===!1&&(this._buffer.positions[s+3]=n,this._buffer.positions[s+4]=a,this._buffer.positions[s+5]=i,this._buffer.normals[s+3]=0,this._buffer.normals[s+4]=0,this._buffer.normals[s+5]=-1,this._buffer.uvs[u+2]=c,this._buffer.uvs[u+3]=l),this.vertexCache[r]=d,d}_buildBevelVert(e,t,i,r=1,n){let a=`${t.bevelI}:${i}`;if(a in this.vertexCache&&n!==0&&n!==1&&(!n||n===this.vertexCache[a].pathBevelUCoord))return this.vertexCache[a];let[c,l]=t.boundary.vertexIndices[i],o,s,u,d;c!==l?(s=c,o=l,d=!1,u=e.continuous[s]&&e.continuous[o]):(o=c,s=(o-1+e.count)%e.count,d=e.concave[o]&&t.bevelI>0,u=e.continuous[o]||d);let h=Math.cos(t.angle),p=Math.sin(t.angle),m=i*2,f=o*2,g=s*2,v=t.boundary.vertices[m+0],S=t.boundary.vertices[m+1],x=(1-p)*this._bevel,b=(v-this._minX)/this._width,_=(S-this._minY)/this._height;this.forPathBevel&&(n!==void 0&&(b=n),_=1);let w=e.normals[f+0],C=e.normals[f+1],E=e.normals[g+0],A=e.normals[g+1];if(d){let I=E-w,k=A-C;w=w+I*(1-r),C=C+k*(1-r);let R=Math.sqrt(w*w+C*C);w/=R,C/=R}let T=this.forPathBevel?this._buffer.get(u?1:2):this._buffer.get(u?2:4),M=T*3,j=T*2,P={i,fi:o,topP:T+0,topN:T+0,bottomP:T+1,bottomN:T+1,pathBevelUCoord:n};return this._buffer.positions[M+0]=v,this._buffer.positions[M+1]=S,this._buffer.positions[M+2]=(this.forPathBevel?this._bevel:this._depth)-x,this._buffer.normals[M+0]=w*h,this._buffer.normals[M+1]=C*h,this._buffer.normals[M+2]=p,this._buffer.uvs[j+0]=b,this._buffer.uvs[j+1]=_,this.forPathBevel===!1&&(this._buffer.positions[M+3]=v,this._buffer.positions[M+4]=S,this._buffer.positions[M+5]=x,this._buffer.normals[M+3]=w*h,this._buffer.normals[M+4]=C*h,this._buffer.normals[M+5]=-p,this._buffer.uvs[j+2]=_,this._buffer.uvs[j+3]=b),u||(this.forPathBevel?(T+=1,M+=3,j+=2):(T+=2,M+=6,j+=4),P.topP=T+0,P.bottomP=T+1,this._buffer.positions[M+0]=v,this._buffer.positions[M+1]=S,this._buffer.positions[M+2]=(this.forPathBevel?this._bevel:this._depth)-x,this._buffer.normals[M+0]=E*h,this._buffer.normals[M+1]=A*h,this._buffer.normals[M+2]=p,this._buffer.uvs[j+0]=b,this._buffer.uvs[j+1]=_,this.forPathBevel===!1&&(this._buffer.positions[M+3]=v,this._buffer.positions[M+4]=S,this._buffer.positions[M+5]=x,this._buffer.normals[M+3]=E*h,this._buffer.normals[M+4]=A*h,this._buffer.normals[M+5]=-p,this._buffer.uvs[j+2]=_,this._buffer.uvs[j+3]=b)),this.vertexCache[a]=P,P}clone(){let e=new QM(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=tw(this.userData),e}},$U=class extends Qe{constructor(e,t=12,i={}){super(),this.type="ShapeGeometry",this.windingRule=ai.ODD,this.elementType=ar.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:ai.ODD,elementType:ar.POLYGONS,polySize:3,vertexSize:2,strict:!0},i);let r=this._shape.extractShapePointsToFlatArray([],this._curveSegments),n=this._shape.shapeHoles.map(h=>h.extractShapePointsToFlatArray([],this._curveSegments)),a,c=!0,l=!0,o,s;for(let h=0,p=r.length/2;h<p;h++){let m=h*2,f=r[m+0],g=r[m+1];if(o!==void 0&&f!==o&&(c=!1),s!==void 0&&g!==s&&(l=!1),o=f,s=g,!c&&!l)break}if(!c&&!l)try{a=Pc({contours:[r,...n],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{a=JM}let u=(a==null?void 0:a.vertexCount)??1,d=(a==null?void 0:a.elementCount)??1;if(this._positionAttribute=new ct(new Float32Array(u*3),3),this._normalAttribute=new ct(new Float32Array(u*3),3),this._uvAttribute=new ct(new Float32Array(u*2),2),this._indexAttribute=new ct(new Uint32Array(d*3),1),a){let h=1/0,p=-1/0,m=1/0,f=-1/0;for(let S=0,x=u;S<x;S++){let b=S*2,_=a.vertices[b+0],w=a.vertices[b+1];_<h&&(h=_),_>p&&(p=_),w<m&&(m=w),w>f&&(f=w)}let g=p-h,v=f-m;for(let S=0,x=u;S<x;S++){let b=S*2,_=a.vertices[b+0],w=a.vertices[b+1],C=(_-h)/g,E=(w-m)/v;this._positionAttribute.setXYZ(S,_,w,0),this._normalAttribute.setXYZ(S,0,0,1),this._uvAttribute.setXY(S,C,E)}for(let S=0,x=d;S<x;S++){let b=S*3,_=a.elements[b+0],w=a.elements[b+1],C=a.elements[b+2];this._indexAttribute.setX(b+0,_),this._indexAttribute.setX(b+1,w),this._indexAttribute.setX(b+2,C)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,((a==null?void 0:a.elementCount)??1)*3)}clone(){let e=new $U(this._shape,this._curveSegments);return e.userData=tw(this.userData),e}},ZU=class extends QM{constructor(e,t,i=0,r=12,n=3,a=ai.ODD){super(e,t,i,r,n,a),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,i){let r=e[0];for(let n=0,a=r.boundary.vertexCount;n<a;n++){let c=this._buildBevelVert(t,r,n),l=this._buildBevelVert(t,r,(n+1)%a);i.push(l.topP,c.topN,c.bottomN),i.push(l.topP,c.bottomN,l.bottomP)}}clone(){let e=new ZU(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=tw(this.userData),e}},Gd=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var s,u;let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:ai.ODD},e.parameters),r=Math.abs(i.width),n=Math.abs(i.height??i.width),a=Math.abs(i.depth??0),c=e.shape??(t==null?void 0:t.shape),l=(c==null?void 0:c.roundness)??i.roundness;c!==void 0&&(c instanceof Hi?(c.width!==r||c.height!==n)&&c.applySize(r,n):c=new Hi(r,n).fromJSON(c),((s=e.parameters)==null?void 0:s.roundness)!==void 0&&((u=e.parameters)==null?void 0:u.roundness)>0&&c.update());let o=c??new Hi(r,n);return{parameters:Object.assign(i,{width:r,height:n,depth:a,roundness:l}),shape:o}}static build(e){let{depth:t,extrudeBevelSize:i,extrudeBevelSegments:r,subdivisions:n,roundness:a,windingRule:c}=e.parameters;e.shape.roundness=a;let l;return t<=0?l=new $U(e.shape,n,{windingRule:c}):l=new ZU(e.shape,t,i,n,r,c),Object.assign(l,{userData:{...e,type:"VectorGeometry"}})}},eV=Math.PI*2,$M=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return i.angle=Ve.clamp(i.angle,0,360),{shape:e.shape&&e.shape instanceof Hi?e.shape:new Hi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??0)})}}static build(e){let{width:t,height:i,spikes:r,angle:n,innerRadius:a,depth:c,extrudeBevelSize:l,extrudeBevelSegments:o}=e.parameters,s=e.shape,u=t*.5,d=i*.5,h=Exe(s,u,d,n*Math.PI/180,r,a);s.isClosed=!0,s.update();let p;return n===0?(p=new Qe,p.setAttribute("position",new Fe([],3))):p=Gd.create({shape:s,parameters:{subdivisions:h,depth:c,extrudeBevelSize:l,extrudeBevelSegments:o}}),Object.assign(p,{userData:{...e,type:"EllipseGeometry"}})}};function Exe(e,t,i,r,n,a){if(r>=eV)return n>30||n%4===0?(Axe(e,t,i,a),Math.round(n/4)):w8(e,r,n,t,i,a);r=Math.max(r,.001);let c={x:0,y:i},l=r+Math.PI*.5,o={x:Math.cos(l)*t,y:Math.sin(l)*i},s=mxe({px:c.x,py:c.y,cx:o.x,cy:o.y,rx:t,ry:i,largeArcFlag:r>Math.PI,sweepFlag:!0});return n>30||n%s.length===0?Txe(e,c.x,c.y,s,n,t,i,a):w8(e,r,n,t,i,a)}function Txe(e,t,i,r,n,a,c,l){let o=Math.round(n/r.length);e.addPoint(_p(t,i));for(let s=0,u=r.length;s<u;s++){let d=r[s],h=e.points[s],p=_p(d.x,d.y);h.controls[1].position.set(d.x1,d.y1),p.controls[0].position.set(d.x2,d.y2),e.addPoint(p)}return l>0?tV(e,a,c,l):e.addPoint(_p(0,0)),o}function w8(e,t,i,r,n,a){let c=-t/i;for(let l=0;l<=i;l++){let o=c*l,s=Math.sin(o)*r,u=Math.cos(o)*n;e.addPoint(_p(s,u))}return t<eV?a>0?tV(e,r,n,a):e.addPoint(_p(0,0)):(e.removePoint(e.points[e.points.length-1]),a>0&&iV(e,r,n,a)),1}function Axe(e,t,i,r=0,n=0,a=0){let c=.5522847498,l=t*c,o=i*c;e.addPoint(Ey(n-t,a,n-t,a-o,n-t,a+o)),e.addPoint(Ey(n,a+i,n-l,a+i,n+l,a+i)),e.addPoint(Ey(n+t,a,n+t,a+o,n+t,a-o)),e.addPoint(Ey(n,a-i,n+l,a-i,n-l,a-i)),r>0&&iV(e,t,i,r)}function _p(e,t){return new wp(Ve.generateUUID(),new re(e,t))}function Ey(e,t,i,r,n,a){let c=_p(e,t);return c.controls[0].position.set(i,r),c.controls[1].position.set(n,a),c}function tV(e,t,i,r){rV(e,t,i,r).forEach(n=>e.addPoint(n))}function iV(e,t,i,r){let n=rV(e,t,i,r),a=new Hi;n.forEach(c=>a.addPoint(c)),a.isClosed=!0,e.shapeHoles.push(a)}function rV(e,t,i,r){let n=r*t/100,a=n*(Math.abs(i)/Math.abs(t)),c=new re(n/t,a/i),l=e.points.map(o=>{let s=o.clone();return s.uuid=Ve.generateUUID(),s}).reverse();return l.forEach(o=>{o.position.multiply(c);let s=o.controls[0].position.clone().multiply(c),u=o.controls[1].position.clone().multiply(c);o.controls[0].position.copy(u),o.controls[1].position.copy(s)}),l}var Mxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),r=Math.abs(i.width),n=Math.abs(i.height??r),a=Math.abs(i.depth??r),c=Math.abs(Math.min(r,a))/2;return{parameters:Object.assign(i,{width:r,height:n,depth:a,radius:c,segments:Math.round(i.segments),pathSegments:Math.round(i.pathSegments),cornerSegments:Math.round(i.cornerSegments)})}}static build(e){let{width:t,height:i,depth:r,radius:n,revolutions:a,segments:c,pathRadius:l,pathType:o,pathSegments:s,cornerRadius:u,cornerSegments:d}=e.parameters,h=new nV(!1,t,i,r,n,a,c,l,o,s,u,d);return Object.assign(h,{userData:{...e,type:"HelixGeometry"}})}},AS=new gp([0,0,0],1),nV=class extends Qe{constructor(e=!0,t=1,i=1,r=1,n=1,a=1,c=1,l=1,o=1,s=1,u=1,d=1){if(super(),a===0)return;let h=e&&a===1;h&&(d=0),u>100&&(u=100),u===0&&(d=0);let p=()=>new N,m=new N,f=p(),g=p(),v=p(),S,x,b,_,w,C,E,A,T=p(),M=p(),j=p(),P=p(),I=p(),k=p(),R=p(),O=p(),D=i-2*l+.001,L=D/a,B=Math.ceil(c*a),F=B+1,H=D/B,ee=-D/2,U=s+1,X=2*Math.PI/s,W=Math.PI/2/d,ie=.01,Q=Math.min((1-u/100)*l,l-ie),ae=l-Q,K=0,te=2,ne=d*te+te,ce=U*ne/te,pe=ce+U*F,ge=Math.max(0,U*(F+ne)),[ue,Me,Ae]=[3,3,2].map(be=>Array(ge*be).fill(0)),je=[],Ke=n-l;function Pe(be,Ye){let Ue=Math.PI/2;C=Ye*H,A=2*Math.PI*(C%L)/L+Ue,C+=ee,E=Math.sin(A)*Ke,w=Math.cos(A)*Ke,e?be.set(w,E,C):be.set(w,C,E)}Pe(m,-1e-10),Pe(f,0),T.copy(m),Pe(m,1);let Z=m.distanceTo(f),q=h?0:ae+Q,fe=Z*B+2*q,Ce=Q,G=fe-q;for(let be=0;be<=B;be++){Pe(g,be),O.subVectors(g,T).normalize(),T.copy(g),k.copy(g).setComponent(+e+1,0).normalize(),R.crossVectors(O,k).normalize();let Ye=be===0,Ue=be===B,Je=Ye?3*Math.PI/2:W,nt=Ye?Ce:G,et=Ye?U:pe,rt=Ye?0:ge-U,We=O.clone().multiplyScalar(Ye?-ae:ae).add(g),it=O.clone().multiplyScalar(Ye?-1:1).normalize();for(let se=0;se<U;se++){let me=se*X;if(M.addVectors(m.copy(k).multiplyScalar(l*Math.cos(me)),f.copy(R).multiplyScalar(l*Math.sin(me))),j.copy(M).normalize(),Ye||Ue){h||(K=rt+se,[0,1,2].forEach(Se=>{ue[K*3+Se]=We.getComponent(Se),Me[K*3+Se]=it.getComponent(Se)}),Ae[K*2]=+Ue,Ae[K*2+1]=se/s),f.copy(j).multiplyScalar(Q),v.addVectors(g,f);for(let Se=0;Se<d;Se++){let He=Se*W+Je;P.addVectors(m.copy(O).multiplyScalar(ae*Math.sin(He)),f.copy(j).multiplyScalar(ae*Math.cos(He))),I.copy(P).normalize(),f.addVectors(v,P),P.normalize(),K=et+Se*U+se,[0,1,2].forEach(Bt=>{ue[K*3+Bt]=f.getComponent(Bt),Me[K*3+Bt]=I.getComponent(Bt)});let pt=+Ye+Math.sin(He);Ae[K*2]=(nt+ae*pt)/fe,Ae[K*2+1]=se/s}}f.addVectors(g,M),K=ce+be*U+se,[0,1,2].forEach(Se=>{ue[K*3+Se]=f.getComponent(Se),Me[K*3+Se]=j.getComponent(Se)}),Ae[K*2]=(q+be*Z)/fe,Ae[K*2+1]=se/s}}let ke=F+2*d+te,[Re,Be]=[+h,ke-1];for(let be=Re;be<=Be-1;be++){let Ye=h&&be===Be-1;for(let Ue=0;Ue<U-1;Ue++)S=be*U+Ue,x=S+1,b=(Ye?Ue:S)+U,_=(Ye?Ue+1:x)+U,be===0?je.push(x,_,b):be===ke-2?je.push(S,x,b):je.push(S,x,b,x,_,b)}this.setIndex(je),this.setAttribute("position",new Fe(ue,3)),this.setAttribute("normal",new Fe(Me,3)),this.setAttribute("uv",new Fe(Ae,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let e=this.userData.parameters,t=Math.ceil(e.tubularSegments),i=e.radialSegments+1,r=Array.from(this.getIndex().array),n,a,c,l,o=6*(t-1)*e.radialSegments,s=t,u=s===t;for(let d=0;d<e.radialSegments;d++)n=s*i+d,a=n+1,c=(u?d:n)+i,l=(u?d+1:a)+i,r[o++]=n,r[o++]=a,r[o++]=c,r[o++]=a,r[o++]=l,r[o++]=c;return r.length=o,AS.array=r,AS.count=r.length,AS}},jxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{width:t,height:i,depth:r,detail:n,corner:a,cornerSides:c}=e.parameters,l=n===0&&a!==0?new aV(t*.5,a,c):new iF(t*.5,n);return l.scale(1,i/t,r/t),Object.assign(l,{userData:{...e,type:"IcosahedronGeometry"}})}},aV=class extends YM{constructor(e=1,t=.2,i=4){let r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],c="IcosahedronGeometry";super(n,a,c,e,t,i),this.type=c}static fromJSON(e){return new aV(e.radius,e.corner,e.cornerSides)}},Ixe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var r;(((r=e.parameters)==null?void 0:r.points)??[]).forEach(n=>{Array.isArray(n)&&(n.x=n[0],n.y=n[1])});let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{points:t,segments:i,verticalSegments:r}=e.parameters,n=new Kb;n.moveTo(t[0].x,t[0].y),n.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let a=new JB(n.extractPoints(r).shape,i);return a.rotateZ(Math.PI),Object.assign(a,{userData:{...e,type:"LatheGeometry"}})}},Fo=new Ie,MS=new ti,Ty=new N,kx=class extends an{constructor(){super(),this.uuid=Ve.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=new or().getNormalMatrix(e);for(let i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(e);for(let i=0,r=this.faces.length;i<r;i++){let n=this.faces[i];n.normal.applyMatrix3(t).normalize();for(let a=0,c=n.vertexNormals.length;a<c;a++)n.vertexNormals[a].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return Fo.makeRotationX(e),this.applyMatrix4(Fo),this}rotateY(e){return Fo.makeRotationY(e),this.applyMatrix4(Fo),this}rotateZ(e){return Fo.makeRotationZ(e),this.applyMatrix4(Fo),this}translate(e,t,i){return Fo.makeTranslation(e,t,i),this.applyMatrix4(Fo),this}scale(e,t,i){return Fo.makeScale(e,t,i),this.applyMatrix4(Fo),this}lookAt(e){return MS.lookAt(e),MS.updateMatrix(),this.applyMatrix4(MS.matrix),this}fromBufferGeometry(e){let t=this,i=e.index!==null?e.index:void 0,r=e.attributes;if(r.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let n=r.position,a=r.normal,c=r.color,l=r.uv,o=r.uv2;o!==void 0&&(this.faceVertexUvs[1]=[]);for(let d=0;d<n.count;d++)t.vertices.push(new N().fromBufferAttribute(n,d)),c!==void 0&&t.colors.push(new lt().fromBufferAttribute(c,d));function s(d,h,p,m){let f=c===void 0?[]:[t.colors[d].clone(),t.colors[h].clone(),t.colors[p].clone()],g=a===void 0?[]:[new N().fromBufferAttribute(a,d),new N().fromBufferAttribute(a,h),new N().fromBufferAttribute(a,p)],v=new xT(d,h,p,g,f,m);t.faces.push(v),l!==void 0&&t.faceVertexUvs[0].push([new re().fromBufferAttribute(l,d),new re().fromBufferAttribute(l,h),new re().fromBufferAttribute(l,p)]),o!==void 0&&t.faceVertexUvs[1].push([new re().fromBufferAttribute(o,d),new re().fromBufferAttribute(o,h),new re().fromBufferAttribute(o,p)])}let u=e.groups;if(u.length>0)for(let d=0;d<u.length;d++){let h=u[d],p=h.start,m=h.count;for(let f=p,g=p+m;f<g;f+=3)i!==void 0?s(i.getX(f),i.getX(f+1),i.getX(f+2),h.materialIndex):s(f,f+1,f+2,h.materialIndex)}else if(i!==void 0)for(let d=0;d<i.count;d+=3)s(i.getX(d),i.getX(d+1),i.getX(d+2));else for(let d=0;d<n.count;d+=3)s(d,d+1,d+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ty).negate(),this.translate(Ty.x,Ty.y,Ty.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,i=t===0?1:1/t,r=new Ie;return r.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix4(r),this}computeFaceNormals(){let e=new N,t=new N;for(let i=0,r=this.faces.length;i<r;i++){let n=this.faces[i],a=this.vertices[n.a],c=this.vertices[n.b],l=this.vertices[n.c];e.subVectors(l,c),t.subVectors(a,c),e.cross(t),e.normalize(),n.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let i=0,r=this.vertices.length;i<r;i++)t[i]=new N;if(e){let i=new N,r=new N;for(let n=0,a=this.faces.length;n<a;n++){let c=this.faces[n],l=this.vertices[c.a],o=this.vertices[c.b],s=this.vertices[c.c];i.subVectors(s,o),r.subVectors(l,o),i.cross(r),t[c.a].add(i),t[c.b].add(i),t[c.c].add(i)}}else{this.computeFaceNormals();for(let i=0,r=this.faces.length;i<r;i++){let n=this.faces[i];t[n.a].add(n.normal),t[n.b].add(n.normal),t[n.c].add(n.normal)}}for(let i=0,r=this.vertices.length;i<r;i++)t[i].normalize();for(let i=0,r=this.faces.length;i<r;i++){let n=this.faces[i],a=n.vertexNormals;a.length===3?(a[0].copy(t[n.a]),a[1].copy(t[n.b]),a[2].copy(t[n.c])):(a[0]=t[n.a].clone(),a[1]=t[n.b].clone(),a[2]=t[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let i=this.faces[e],r=i.vertexNormals;r.length===3?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,i=this.faces.length;t<i;t++){let r=this.faces[t];r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]);for(let n=0,a=r.vertexNormals.length;n<a;n++)r.__originalVertexNormals[n]?r.__originalVertexNormals[n].copy(r.vertexNormals[n]):r.__originalVertexNormals[n]=r.vertexNormals[n].clone()}let e=new kx;e.faces=this.faces;for(let t=0,i=this.morphTargets.length;t<i;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let n=this.morphNormals[t].faceNormals,a=this.morphNormals[t].vertexNormals;for(let c=0,l=this.faces.length;c<l;c++){let o=new N,s={a:new N,b:new N,c:new N};n.push(o),a.push(s)}}let r=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let n=0,a=this.faces.length;n<a;n++){let c=this.faces[n],l=r.faceNormals[n],o=r.vertexNormals[n];l.copy(c.normal),o.a.copy(c.vertexNormals[0]),o.b.copy(c.vertexNormals[1]),o.c.copy(c.vertexNormals[2])}}for(let t=0,i=this.faces.length;t<i;t++){let r=this.faces[t];r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zi),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new aa),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,i=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let r,n=this.vertices.length,a=this.vertices,c=e.vertices,l=this.faces,o=e.faces,s=this.colors,u=e.colors;t!==void 0&&(r=new or().getNormalMatrix(t));for(let d=0,h=c.length;d<h;d++){let p=c[d].clone();t!==void 0&&p.applyMatrix4(t),a.push(p)}for(let d=0,h=u.length;d<h;d++)s.push(u[d].clone());for(let d=0,h=o.length;d<h;d++){let p=o[d],m,f,g=p.vertexNormals,v=p.vertexColors,S=new xT(p.a+n,p.b+n,p.c+n);S.normal.copy(p.normal),r!==void 0&&S.normal.applyMatrix3(r).normalize();for(let x=0,b=g.length;x<b;x++)m=g[x].clone(),r!==void 0&&m.applyMatrix3(r).normalize(),S.vertexNormals.push(m);S.color.copy(p.color);for(let x=0,b=v.length;x<b;x++)f=v[x],S.vertexColors.push(f.clone());S.materialIndex=p.materialIndex+i,l.push(S)}for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let p=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,f=p.length;m<f;m++){let g=p[m],v=[];for(let S=0,x=g.length;S<x;S++)v.push(g[S].clone());this.faceVertexUvs[d].push(v)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){let t={},i=[],r=[],n=Math.pow(10,e);for(let l=0,o=this.vertices.length;l<o;l++){let s=this.vertices[l],u=Math.round(s.x*n)+"_"+Math.round(s.y*n)+"_"+Math.round(s.z*n);t[u]===void 0?(t[u]=l,i.push(this.vertices[l]),r[l]=i.length-1):r[l]=r[t[u]]}let a=[];for(let l=0,o=this.faces.length;l<o;l++){let s=this.faces[l];s.a=r[s.a],s.b=r[s.b],s.c=r[s.c];let u=[s.a,s.b,s.c];for(let d=0;d<3;d++)if(u[d]===u[(d+1)%3]){a.push(l);break}}for(let l=a.length-1;l>=0;l--){let o=a[l];this.faces.splice(o,1);for(let s=0,u=this.faceVertexUvs.length;s<u;s++)this.faceVertexUvs[s].splice(o,1)}let c=this.vertices.length-i.length;return this.vertices=i,c}setFromPoints(e){this.vertices=[];for(let t=0,i=e.length;t<i;t++){let r=e[t];this.vertices.push(new N(r.x,r.y,r.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let l=0;l<t;l++)e[l]._id=l;function i(l,o){return l.materialIndex-o.materialIndex}e.sort(i);let r=this.faceVertexUvs[0],n=this.faceVertexUvs[1],a,c;r&&r.length===t&&(a=[]),n&&n.length===t&&(c=[]);for(let l=0;l<t;l++){let o=e[l]._id;a&&a.push(r[o]),c&&c.push(n[o])}a&&(this.faceVertexUvs[0]=a),c&&(this.faceVertexUvs[1]=c)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){let p=this.parameters;for(let m in p)p[m]!==void 0&&(e[m]=p[m]);return e}let t=[];for(let p=0;p<this.vertices.length;p++){let m=this.vertices[p];t.push(m.x,m.y,m.z)}let i=[],r=[],n={},a=[],c={},l=[],o={};for(let p=0;p<this.faces.length;p++){let m=this.faces[p],f=!0,g=!1,v=this.faceVertexUvs[0][p]!==void 0,S=m.normal.length()>0,x=m.vertexNormals.length>0,b=m.color.r!==1||m.color.g!==1||m.color.b!==1,_=m.vertexColors.length>0,w=0;if(w=s(w,0,0),w=s(w,1,f),w=s(w,2,g),w=s(w,3,v),w=s(w,4,S),w=s(w,5,x),w=s(w,6,b),w=s(w,7,_),i.push(w),i.push(m.a,m.b,m.c),i.push(m.materialIndex),v){let C=this.faceVertexUvs[0][p];i.push(h(C[0]),h(C[1]),h(C[2]))}if(S&&i.push(u(m.normal)),x){let C=m.vertexNormals;i.push(u(C[0]),u(C[1]),u(C[2]))}if(b&&i.push(d(m.color)),_){let C=m.vertexColors;i.push(d(C[0]),d(C[1]),d(C[2]))}}function s(p,m,f){return f?p|1<<m:p&~(1<<m)}function u(p){let m=p.x.toString()+p.y.toString()+p.z.toString();return n[m]!==void 0||(n[m]=r.length/3,r.push(p.x,p.y,p.z)),n[m]}function d(p){let m=p.r.toString()+p.g.toString()+p.b.toString();return c[m]!==void 0||(c[m]=a.length,a.push(p.getHex())),c[m]}function h(p){let m=p.x.toString()+p.y.toString();return o[m]!==void 0||(o[m]=l.length/2,l.push(p.x,p.y)),o[m]}return e.data={},e.data.vertices=t,e.data.normals=r,a.length>0&&(e.data.colors=a),l.length>0&&(e.data.uvs=[l]),e.data.faces=i,e}clone(){return new kx().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let d=0,h=t.length;d<h;d++)this.vertices.push(t[d].clone());let i=e.colors;for(let d=0,h=i.length;d<h;d++)this.colors.push(i[d].clone());let r=e.faces;for(let d=0,h=r.length;d<h;d++)this.faces.push(r[d].clone());for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let p=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,f=p.length;m<f;m++){let g=p[m],v=[];for(let S=0,x=g.length;S<x;S++){let b=g[S];v.push(b.clone())}this.faceVertexUvs[d].push(v)}}let n=e.morphTargets;for(let d=0,h=n.length;d<h;d++){let p={};if(p.name=n[d].name,n[d].vertices!==void 0){p.vertices=[];for(let m=0,f=n[d].vertices.length;m<f;m++)p.vertices.push(n[d].vertices[m].clone())}if(n[d].normals!==void 0){p.normals=[];for(let m=0,f=n[d].normals.length;m<f;m++)p.normals.push(n[d].normals[m].clone())}this.morphTargets.push(p)}let a=e.morphNormals;for(let d=0,h=a.length;d<h;d++){let p={};if(a[d].vertexNormals!==void 0){p.vertexNormals=[];for(let m=0,f=a[d].vertexNormals.length;m<f;m++){let g=a[d].vertexNormals[m],v={};v.a=g.a.clone(),v.b=g.b.clone(),v.c=g.c.clone(),p.vertexNormals.push(v)}}if(a[d].faceNormals!==void 0){p.faceNormals=[];for(let m=0,f=a[d].faceNormals.length;m<f;m++)p.faceNormals.push(a[d].faceNormals[m].clone())}this.morphNormals.push(p)}let c=e.skinWeights;for(let d=0,h=c.length;d<h;d++)this.skinWeights.push(c[d].clone());let l=e.skinIndices;for(let d=0,h=l.length;d<h;d++)this.skinIndices.push(l[d].clone());let o=e.lineDistances;for(let d=0,h=o.length;d<h;d++)this.lineDistances.push(o[d]);let s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());let u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=new Pxe().fromGeometry(this),t=new Qe,i=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",Ay.call(new ct(i,3),e.vertices)),e.normals.length>0){let r=new Float32Array(e.normals.length*3);t.setAttribute("normal",Ay.call(new ct(r,3),e.normals))}if(e.colors.length>0){let r=new Float32Array(e.colors.length*3);t.setAttribute("color",_8.call(new ct(r,3),e.colors))}if(e.uvs.length>0){let r=new Float32Array(e.uvs.length*2);t.setAttribute("uv",S8.call(new ct(r,2),e.uvs))}if(e.uvs2.length>0){let r=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",S8.call(new ct(r,2),e.uvs2))}t.groups=e.groups;for(let r in e.morphTargets){let n=[],a=e.morphTargets[r];for(let c=0,l=a.length;c<l;c++){let o=a[c],s=new Fe(o.data.length*3,3);s.name=o.name,n.push(Ay.call(s,o.data))}t.morphAttributes[r]=n}if(e.skinIndices.length>0){let r=new Fe(e.skinIndices.length*4,4);t.setAttribute("skinIndex",C8.call(r,e.skinIndices))}if(e.skinWeights.length>0){let r=new Fe(e.skinWeights.length*4,4);t.setAttribute("skinWeight",C8.call(r,e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new Qe,i=e.geometry;if(e.isPoints||e.isLine){let r=new Fe(i.vertices.length*3,3),n=new Fe(i.colors.length*3,3);if(t.setAttribute("position",Ay.call(r,i.vertices)),t.setAttribute("color",_8.call(n,i.colors)),i.lineDistances&&i.lineDistances.length===i.vertices.length){let a=new Fe(i.lineDistances.length,1);t.setAttribute("lineDistance",kxe.call(a,i.lineDistances))}i.boundingSphere!==null&&(t.boundingSphere=i.boundingSphere.clone()),i.boundingBox!==null&&(t.boundingBox=i.boundingBox.clone())}else e.isMesh&&(t=i.toBufferGeometry());return t}};kx.prototype.isGeometry=!0;var Pxe=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t=[],i,r,n,a=e.faces;for(r=0;r<a.length;r++){let c=a[r];c.materialIndex!==n&&(n=c.materialIndex,i!==void 0&&(i.count=r*3-i.start,t.push(i)),i={start:r*3,materialIndex:n})}i!==void 0&&(i.count=r*3-i.start,t.push(i)),this.groups=t}fromGeometry(e){let t=e.faces,i=e.vertices,r=e.faceVertexUvs,n=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,c=e.morphTargets,l=c.length,o;if(l>0){o=[];for(let g=0;g<l;g++)o[g]={name:c[g].name,data:[]};this.morphTargets.position=o}let s=e.morphNormals,u=s.length,d;if(u>0){d=[];for(let g=0;g<u;g++)d[g]={name:s[g].name,data:[]};this.morphTargets.normal=d}let h=e.skinIndices,p=e.skinWeights,m=h.length===i.length,f=p.length===i.length;i.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){let v=t[g];this.vertices.push(i[v.a],i[v.b],i[v.c]);let S=v.vertexNormals;if(S.length===3)this.normals.push(S[0],S[1],S[2]);else{let b=v.normal;this.normals.push(b,b,b)}let x=v.vertexColors;if(x.length===3)this.colors.push(x[0],x[1],x[2]);else{let b=v.color;this.colors.push(b,b,b)}if(n===!0){let b=r[0][g];b!==void 0?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new re,new re,new re))}if(a===!0){let b=r[1][g];b!==void 0?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new re,new re,new re))}for(let b=0;b<l;b++){let _=c[b].vertices;o[b].data.push(_[v.a],_[v.b],_[v.c])}for(let b=0;b<u;b++){let _=s[b].vertexNormals[g];d[b].data.push(_.a,_.b,_.c)}m&&this.skinIndices.push(h[v.a],h[v.b],h[v.c]),f&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}},xT=class{constructor(e,t,i,r,n,a=0){this.a=e,this.b=t,this.c=i,this.normal=r&&r.isVector3?r:new N,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new lt,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=a}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function kxe(e){return this.array.set(e),this}function _8(e){let t=this.array,i=0;for(let r=0,n=e.length;r<n;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new lt),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this}function S8(e){let t=this.array,i=0;for(let r=0,n=e.length;r<n;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new re),t[i++]=a.x,t[i++]=a.y}return this}function Ay(e){let t=this.array,i=0;for(let r=0,n=e.length;r<n;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new N),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this}function C8(e){let t=this.array,i=0;for(let r=0,n=e.length;r<n;r++){let a=e[r];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new vt),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z,t[i++]=a.w}return this}var Dxe=["a","b","c"];function Oxe(e,t){switch(t){case"c":return e.c;case"b":return e.b;case"a":default:return e.a}}function jS(e,t,i){let r=Math.min(e,t),n=Math.max(e,t),a=r+"_"+n;return i.get(a)}function IS(e,t,i,r,n,a){let c=Math.min(e,t),l=Math.max(e,t),o=c+"_"+l,s;if(r.has(o))s=r.get(o);else{let u=i[c],d=i[l];s={a:u,b:d,newEdge:null,faces:[]},r.set(o,s)}s.faces.push(n),a[e].edges.push(s),a[t].edges.push(s)}function Rxe(e,t,i,r){let n,a,c;for(n=0,a=e.length;n<a;n++)i[n]={edges:[]};for(n=0,a=t.length;n<a;n++)c=t[n],IS(c.a,c.b,e,r,c,i),IS(c.b,c.c,e,r,c,i),IS(c.c,c.a,e,r,c,i)}function My(e,t,i,r,n){e.push(new xT(t,i,r,void 0,void 0,n))}function gh(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function jy(e,t,i,r){e.push([t.clone(),i.clone(),r.clone()])}var Nxe=class{constructor(e=1){this.subdivisions=e}modify(e){e instanceof Qe?e=new kx().fromBufferGeometry(e):e=e.clone(),e.mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t=new N,i,r,n,a,c,l=e.vertices,o=e.faces,s=e.faceVertexUvs[0],u=s!==void 0&&s.length>0,d=[],h=new Map;Rxe(l,o,d,h);let p=[],m,f,g,v,S,x,b;for(let ie of Array.from(h.keys())){for(f=h.get(ie),g=new N,S=3/8,x=1/8,b=f.faces.length,b!=2&&(S=.5,x=0,b!=1),g.addVectors(f.a,f.b).multiplyScalar(S),t.set(0,0,0),a=0;a<b;a++){for(v=f.faces[a],c=0;c<3&&(m=l[Oxe(v,Dxe[c])],!(m!==f.a&&m!==f.b));c++);m&&t.add(m)}t.multiplyScalar(x),g.add(t),f.newEdge=p.length,p.push(g)}let _,w,C,E,A,T,M,j=[];for(r=0,n=l.length;r<n;r++){for(T=l[r],A=d[r].edges,i=A.length,i==3?_=3/16:i>3&&(_=3/(8*i)),w=1-i*Number(_),C=_,i<=2&&(i==2?(w=3/4,C=1/8):i==1||i==0),M=T.clone().multiplyScalar(w),t.set(0,0,0),a=0;a<i;a++)E=A[a],m=E.a!==T?E.a:E.b,t.add(m);t.multiplyScalar(Number(C)),M.add(t),j.push(M)}let P=j.concat(p),I=j.length,k,R,O,D=[],L=[],B,F,H,ee,U=new re,X=new re,W=new re;for(r=0,n=o.length;r<n;r++)v=o[r],k=Number(jS(v.a,v.b,h).newEdge)+I,R=Number(jS(v.b,v.c,h).newEdge)+I,O=Number(jS(v.c,v.a,h).newEdge)+I,My(D,k,R,O,v.materialIndex),My(D,v.a,k,O,v.materialIndex),My(D,v.b,R,k,v.materialIndex),My(D,v.c,O,R,v.materialIndex),u&&(B=s[r],F=B[0],H=B[1],ee=B[2],U.set(gh(F.x,H.x),gh(F.y,H.y)),X.set(gh(H.x,ee.x),gh(H.y,ee.y)),W.set(gh(F.x,ee.x),gh(F.y,ee.y)),jy(L,U,X,W),jy(L,F,U,W),jy(L,H,X,U),jy(L,ee,W,X));e.vertices=P,e.faces=D,u&&(e.faceVertexUvs[0]=L)}},pr=new N,Lxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=e.geometry??(t==null?void 0:t.geometry)??new Qe().copy(new Mo(100,100,100)),r;t===void 0?(i.computeBoundingBox(),i.boundingBox.getSize(pr),r={width:pr.x,height:pr.y,depth:pr.z,subdivisions:0}):r=t.parameters;let n={...r,...e.parameters};return{parameters:{width:Math.abs(n.width),height:Math.abs(n.height),depth:Math.abs(n.depth),subdivisions:Math.abs(n.subdivisions)},geometry:i}}static build(e){let{width:t,height:i,depth:r,subdivisions:n}=e.parameters,a=e.geometry??new Qe().copy(new Mo(100,100,100)),c=a.userData.parameters;c===void 0?(a.computeBoundingBox(),a.boundingBox.getSize(pr)):pr.set(c.width,c.height,c.depth),(t!==pr.x||i!==pr.y||r!==pr.z)&&a.scale(pr.x===0?1:t/pr.x,pr.y===0?1:i/pr.y,pr.z===0?1:r/pr.z);let l=a.originalGeometry;try{n>0?(l===void 0||(c==null?void 0:c.subdivisions)!==n)&&(l===void 0&&(l=a),a=new Nxe(n).modify(l).toBufferGeometry()):(l!==void 0&&(a=l),l=void 0,a.getAttribute("normal")===void 0&&a.computeVertexNormals())}catch{l!==void 0&&(a=l),l=void 0,a.getAttribute("normal")===void 0&&a.computeVertexNormals()}return l!==void 0&&Object.assign(a,{originalGeometry:l}),delete e.geometry,Object.assign(a,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,i){new dF(i).load(e,r=>{let n=this.normalizeInputs({geometry:r});r.boundingBox.getSize(pr);let a=100/pr.x;Object.assign(n.parameters,{width:100,height:pr.y*a,depth:pr.z*a}),t(this.build(n))})}},oV=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof Hi?e.shape:new Hi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??0)})}}static build(e){let{width:t,height:i,spikes:r,cornerRadius:n,depth:a,extrudeBevelSize:c,extrudeBevelSegments:l}=e.parameters,o=e.shape,s=t*.5,u=i*.5,d=0,h=0,p=2*Math.PI/r;for(let f=0;f<r;f++){let g=p*f,v=d+Math.sin(g)*s,S=h+Math.cos(g)*u;o.addPoint(o.createPoint(v,S))}o.isClosed=!0;for(let f=0,g=o.points.length;f<g;f++)o.points[f].roundness=n;o.roundness=n,o.update();let m=Gd.create({shape:o,parameters:{roundness:n,depth:a,extrudeBevelSize:c,extrudeBevelSegments:l}});return Object.assign(m,{userData:{...e,type:"PolygonGeometry"}})}},zxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{width:t,height:i,depth:r,radialSegments:n,heightSegments:a,openEnded:c,cornerRadius:l,cornerSegments:o}=e.parameters,s=new Fxe(t*.5,i,n,a,c,l,o);return s.scale(1,1,r/t),Object.assign(s,{userData:{...e,type:"PyramidGeometry"}})}};function cm(e,t,i){i.x=e.x*t.x,i.y=e.y,i.z=e.x*t.y}function PS(e,t,i,r,n,a){let c=t.clone().sub(e),l=i.clone().sub(e),o=c.angleTo(l);if(c.normalize(),l.normalize(),r===n){let s=c.add(l).normalize();a.copy(e).addScaledVector(s,r/Math.sin(o/2))}else{let s=c.angleTo(l);a.copy(e),a.addScaledVector(c,n/Math.sin(s)),a.addScaledVector(l,r/Math.sin(s))}}function Bxe(e,t,i){let r=e.clone().sub(t),n=i.clone().sub(t);return r.projectOnVector(n),r.add(t)}var Fxe=class extends Qe{constructor(e=.5,t=1,i=4,r=1,n=!1,a=0,c=4){super(),i=Math.floor(Math.max(3,i)),r=Math.floor(r),c=Math.floor(c);let l=[],o=[],s=[],u=[],d=0,h=t/2,p=Math.PI/i,m=e*Math.cos(Math.PI/i),f=2*Math.PI/i,g=(i-2)*Math.PI/i,v=Math.PI-g,S=new N(0,-h,0),x=new N(0,h,0),b=new re(e,-h),_=new re(m,-h),w=new re(0,x.y).sub(_),C=new re(0,x.y).sub(b),E=new re(w.y,-w.x).normalize(),A=new re(C.y,-C.x).normalize(),T=e*Math.cos(Math.PI/i)*Math.tan((Math.PI-w.angle())/2)-1e-8;a=Math.min(a,T);let M;{let O=new N(E.x,E.y,0),D=new N(Math.cos(f)*O.x,O.y,Math.sin(f)*O.x);M=O.angleTo(D)}let j=a/Math.tan((Math.PI-w.angle())/2),P=a/Math.tan((Math.PI-M)/2),I=new N;if(!n){o.push(S.x,S.y,S.z),s.push(0,-1,0),u.push(0,0);let O=d++,D=[],L=b.clone(),B=j/Math.cos(Math.PI/i);L.x-=B;for(let F=0;F<i;F++){let H=F/i*Math.PI*2+p,ee=new re(Math.sin(H),Math.cos(H));cm(L,ee,I),o.push(I.x,I.y,I.z),s.push(0,-1,0),u.push(0,0),D.push(d++)}for(let F=0;F<D.length;F++)l.push(D[F],O,D[(F+1)%D.length])}{let O=new N,D=new N,L=new N,B=new N,F=new N,H=new N;for(let ee=0;ee<i;ee++){let U=ee/i*Math.PI*2+p,X=(ee+.5)/i*Math.PI*2+p,W=(ee+1)/i*Math.PI*2+p,ie=new re(Math.sin(U),Math.cos(U)),Q=new re(Math.sin(X),Math.cos(X)),ae=new re(Math.sin(W),Math.cos(W));cm(b,ie,D),cm(b,ae,L),cm(E,Q,O),PS(x,D,L,P,P,B),o.push(B.x,B.y,B.z),PS(D,x,L,P,j,F),o.push(F.x,F.y,F.z),PS(L,D,x,j,P,H),o.push(H.x,H.y,H.z),s.push(O.x,O.y,O.z),s.push(O.x,O.y,O.z),s.push(O.x,O.y,O.z),u.push(0,0),u.push(0,0),u.push(0,0);let K=d++,te=d++,ne=d++;if(l.push(K,te,ne),a>0){{let ge=D.clone().add(L).multiplyScalar(.5),ue=x.clone().sub(ge).normalize(),Me=S.clone().sub(ge).normalize().add(ue).normalize().multiplyScalar(-1),Ae=H.clone().sub(F);k(ge,Ae,Me,w.angle())}let ce,pe;{let ge=new N;cm(A,ae,ge);let ue=H.clone().add(B).multiplyScalar(.5);ue=Bxe(ue,L,x);let Me=H.clone().sub(B);[ce,pe]=k(ue,Me,ge,M,B.y)}{let ge=ce,ue=ge.clone().setY(0).normalize(),Me=new N(0,-1,0),Ae=ue.clone().cross(Me);R(ge,ue,Me,Ae)}{let ge=w.angle(),ue=Math.PI-ge,Me=x.clone();Me.y-=a/Math.sin(ge-Math.PI/2);let Ae=new N,je=[];for(let Pe=0;Pe<c;Pe++){let Z=[],q=Math.PI/2-ue*Pe/c,fe=Math.cos(q),Ce=Math.sin(q),G=X;for(let ke=0;ke<=Pe;ke++){let Re=Math.cos(G),Be=Math.sin(G);O.x=fe*Be,O.y=Ce,O.z=fe*Re,Ae.copy(Me).addScaledVector(O,a),o.push(Ae.x,Ae.y,Ae.z),s.push(O.x,O.y,O.z),u.push(0,0),Z.push(d++),G+=Math.PI*2/Pe/i}je.push(Z)}pe.reverse(),je.push(pe);let Ke=je.length-1;for(let Pe=0;Pe<Ke;Pe++){let Z=je[Pe],q=je[Pe+1],fe=Z.length-1;l.push(q[1],Z[0],q[0]);for(let Ce=1;Ce<=fe;Ce++)l.push(Z[Ce],Z[Ce-1],q[Ce]),l.push(q[Ce+1],Z[Ce],q[Ce])}}}}}this.setIndex(l),this.setAttribute("position",new Fe(o,3)),this.setAttribute("normal",new Fe(s,3)),this.setAttribute("uv",new Fe(u,2));function k(O,D,L,B,F){let H=-B/2,ee=(Math.PI-B)/2,U=D.clone().normalize().cross(L);O.addScaledVector(L,-a/Math.sin(ee));let X=new N,W=new N,ie=1,Q=d,ae=[];for(let K=0;K<=c;K++){let te=H+K/c*B;W.set(0,0,0),W.addScaledVector(U,Math.sin(te)),W.addScaledVector(L,Math.cos(te));for(let ne=0;ne<=ie;ne++){let ce=ne/ie-.5;if(X.copy(O),X.addScaledVector(D,ce),X.addScaledVector(W,a),F!=null){let pe=Math.max(0,X.y-F);X.addScaledVector(D,-pe/D.y)}o.push(X.x,X.y,X.z),s.push(W.x,W.y,W.z),u.push(0,0),ne===0&&ae.push(d),d++}}for(let K=0;K<c;K++)for(let te=0;te<ie;te++){let ne=Q+te+(ie+1)*K,ce=ne+(ie+1),pe=ce+1,ge=ne+1;l.push(ne,ce,ge),l.push(ce,pe,ge)}return[O.clone().addScaledVector(D,.5),ae]}function R(O,D,L,B){let F=Math.PI/2,H=C.angle()-F,ee=[],U=new N,X=new N;for(let ie=0;ie<=c;ie++){let Q=[],ae=ie/c;for(let K=0;K<=ie;K++){let te=((ie?K/ie:0)-.5)*v,ne=Math.cos(te),ce=Math.sin(te),pe=Math.atan(Math.tan(H)*ne),ge=(F+pe)*ae,ue=Math.cos(ge),Me=Math.sin(ge);U.set(0,0,0),U.addScaledVector(D,Me*ne),U.addScaledVector(L,ue),U.addScaledVector(B,Me*ce),X.copy(O).addScaledVector(U,a),o.push(X.x,X.y,X.z),s.push(U.x,U.y,U.z),u.push(0,0),Q.push(d++)}ee.push(Q)}let W=ee.length-1;for(let ie=0;ie<W;ie++){let Q=ee[ie],ae=ee[ie+1],K=Q.length-1;l.push(Q[0],ae[1],ae[0]);for(let te=1;te<=K;te++)l.push(Q[te-1],Q[te],ae[te]),l.push(Q[te],ae[te+1],ae[te])}}}},ZM=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),r=Object.assign((t==null?void 0:t.ui)??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof Hi?e.shape:new Hi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??0)}),ui:r}}static build(e){let t=e.shape,{width:i,height:r,cornerRadius:n,cornerType:a,depth:c,extrudeBevelSize:l,extrudeBevelSegments:o}=e.parameters,s={x:i*.5,y:r*.5},u={x:-s.x,y:-s.y},d={x:s.x,y:s.y};function h(b,_,w){return _>i&&w>r?Math.min(b*i/_,b*r/w):_>i?b*i/_:w>r?b*r/w:b}let p=[];p[0]=n[0]===0?0:h(n[0],n[0]+n[3],n[0]+n[1]),p[1]=n[1]===0?0:h(n[1],n[1]+n[2],n[1]+n[0]),p[2]=n[2]===0?0:h(n[2],n[2]+n[1],n[2]+n[3]),p[3]=n[3]===0?0:h(n[3],n[3]+n[0],n[3]+n[2]);let m=u.x,f=d.x,g=d.y,v=u.y;t.addPoint(t.createPoint(m,g)),t.addPoint(t.createPoint(f,g)),t.addPoint(t.createPoint(f,v)),t.addPoint(t.createPoint(m,v)),t.isClosed=!0;let S=!0;for(let b=0,_=t.points.length;b<_;b++)t.points[b].roundness=p[b],b>0&&p[b]!==p[b-1]&&(S=!1);S&&(t.roundness=p[0]),t.useCubicForRoundedCorners=a!==1,t.update();let x=Gd.create({shape:t,parameters:{depth:c,extrudeBevelSize:l,extrudeBevelSegments:o}});return Object.assign(x,{userData:{...e,type:"RectangleGeometry"}})}},Uxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return i.thetaLength=Ve.clamp(i.thetaLength,0,180),{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{width:t=100,height:i=t,depth:r=t,widthSegments:n=64,heightSegments:a=64,phiStart:c,phiLength:l,thetaStart:o,thetaLength:s}=e.parameters,u;return s===0?(u=new Qe,u.setAttribute("position",new Fe([],3))):u=new vp(.5*t,n,a,c,l,o,s*Ve.DEG2RAD),u.scale(1,i/t,r/t),Object.assign(u,{userData:{...e,type:"SphereGeometry"}})}},Vxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:0})}}static build(e){let{width:t=100,height:i=t,widthSegments:r=8,heightSegments:n=8}=e.parameters,a=new _s(t,i,r,n);return a.scale(1,1,1),Object.assign(a,{userData:{...e,type:"PlaneGeometry"}})}},Hxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width)})}}static build(e){let{width:t,height:i,depth:r,angle:n,cornerRadius:a,cornerSegments:c}=e.parameters,l=new Gxe(t,i,r,n,a,c);return Object.assign(l,{userData:{...e,type:"BackdropGeometry"}})}},Gxe=class extends Qe{constructor(e=1,t=1,i=1,r=90,n=10,a=24){super(),this.type="BackdropGeometry";let c=[],l=[],o=[],s=.001;n==0&&(a=1),a=Math.max(1,Math.floor(a)),n=Math.min(n,100),r=Math.min(180-s,r),r*=Math.PI/180;let u=[],d=Math.PI/2,h=(ie=0,Q=0,ae=0)=>new N(ie,Q,ae),p=h(),m=h(),[f,g,v]=[t/2,e/2,i/2],S=-g,x=+g,[b,_,w]=[h(S,-f,+v),h(S,-f,-v),h(S,+f,-v)],C=(ie,Q=!1)=>Math.sin(ie-Math.PI/(1+ +Q)),E=(ie,Q=!1)=>Math.cos(ie-Math.PI/(1+ +Q));w.y=Math.sin(r)*t-f;let A=Math.cos(r)*t-v,T=b.z-s;r<=d?(w.z=Math.min(A,T),w.z==T&&(w.y-=(A-T)/Math.tan(d-r))):_.z=Math.min(_.z-A-v,b.z-s),p.subVectors(b,_),m.subVectors(w,_);let M=Math.min(p.length(),m.length())*n/100,j=M*Math.tan(r/2),P=M/Math.cos(r/2),I=p.clone().normalize().add(m.normalize()).setLength(P).add(_);p.set(0,C(r,!0),E(r,!0)),u.push([w,p.clone()]);let k=(Math.PI-r)/a;for(let ie=0;ie<=a;ie++){let Q=d+r+ie*k;p.set(0,Math.sin(Q)*j,Math.cos(Q)*j),p.add(I),m.set(0,C(Q),E(Q)),u.push([p.clone(),m.clone()])}u.push([b,h(0,1,0)]);let R=Math.sin(k/2)*j*2,O=u.length-1,D=u[0][0].distanceTo(u[1][0]),L=u[O-1][0].distanceTo(u[O][0]),B=D+R*a+L;u[0].push(1);for(let ie=0;ie<=a;ie++)u[ie+1].push(1-(D+ie*R)/B);u[O].push(0);let[F,H,ee]=u[0],U,X,W;for(let ie=1;ie<u.length;ie++)[U,X,W]=u[ie],c.push(S,F.y,F.z,S,U.y,U.z,x,F.y,F.z,x,F.y,F.z,S,U.y,U.z,x,U.y,U.z),l.push(0,H.y,H.z,0,X.y,X.z,0,H.y,H.z,0,H.y,H.z,0,X.y,X.z,0,X.y,X.z),o.push(0,ee,0,W,1,ee,1,ee,0,W,1,W),[F,H,ee]=[U,X,W];this.setAttribute("position",new Fe(c,3)),this.setAttribute("normal",new Fe(l,3)),this.setAttribute("uv",new Fe(o,2))}},sV=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof Hi?e.shape:new Hi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??0)})}}static build(e){let{width:t,height:i,innerRadiusPercent:r,spikes:n,cornerRadius:a,angle:c,depth:l,extrudeBevelSize:o,extrudeBevelSegments:s}=e.parameters,u=e.shape,d=t*.5,h=i*.5,p=0,m=0,f=c*Math.PI/360/n,g=Math.PI/2*3*-1,v=d*r/100,S=h*r/100;if(n===3&&r===50){f=2*Math.PI/n;for(let b=0;b<n;b++){let _=f*b,w=p+Math.sin(_)*d,C=m+Math.cos(_)*h;u.addPoint(u.createPoint(w,C))}}else for(let b=0;b<n;b++){let _=p+Math.cos(g)*d,w=m+Math.sin(g)*h;u.addPoint(u.createPoint(_,w)),g+=f,_=p+Math.cos(g)*v,w=m+Math.sin(g)*S,u.addPoint(u.createPoint(_,w)),g+=f}u.isClosed=!0;for(let b=0,_=u.points.length;b<_;b++)u.points[b].roundness=a;u.roundness=a,u.update();let x=Gd.create({shape:u,parameters:{roundness:a,depth:l,extrudeBevelSize:o,extrudeBevelSegments:s}});return Object.assign(x,{userData:{...e,type:"StarGeometry"}})}},Wxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??0)})}}static build(e){let{width:t,height:i}=e.parameters,r=new _s(t,i);return Object.assign(r,{userData:{...e,type:"TextFrameGeometry"}})}},qxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),r=Math.abs(i.width),n=Math.abs(i.height??i.width);i.shapeBlendNode&&(n=r);let a=Math.round(Math.abs(i.depth??i.width*.25));return{parameters:Object.assign(i,{width:r,height:n,depth:a})}}static build(e){let{width:t,height:i,depth:r,radialSegments:n,tubularSegments:a,arc:c,cornerRadius:l,cornerSegments:o}=e.parameters,s=Yxe(t,i,r,t*.5,c,a,0,0,n,l,o);return s.scale(1,i/t,1),Object.assign(s,{userData:{...e,type:"TorusGeometry"}})}};function Yxe(e,t,i,r,n,a,c,l,o,s,u){[t,i]=[i,t],c=t/2;let d=Ve.clamp(n/360,0,1);if(d===0){let h=new Qe;return h.setAttribute("position",new Fe([],3)),h}return d===1&&(s=0),new nV(!0,e,t,i,r,d,a,c,l,o,s,u)}var Kxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width),depth:Math.abs(i.depth??i.width),tube:i.tube??i.width*.125})}}static build(e){let{width:t,tube:i,tubularSegments:r,radialSegments:n,p:a,q:c}=e.parameters,l=t*.5;l!==i&&(l-=i);let o=new nF(l,i,r,n,a,c);return Object.assign(o,{userData:{...e,type:"TorusKnotGeometry"}})}},Xxe=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof Hi?e.shape:new Hi,parameters:Object.assign(i,{width:Math.abs(i.width),height:Math.abs(i.height??i.width*(i.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(i.depth??0)})}}static build(e){let{width:t=100,height:i,cornerRadius:r,depth:n,extrudeBevelSize:a,extrudeBevelSegments:c,isRect:l}=e.parameters,o=e.shape,s=t*.5,u=i*.5;l?(o.addPoint(o.createPoint(-s,u)),o.addPoint(o.createPoint(s,-u)),o.addPoint(o.createPoint(-s,-u))):(o.addPoint(o.createPoint(0,u)),o.addPoint(o.createPoint(s,-u)),o.addPoint(o.createPoint(-s,-u))),o.isClosed=!0;for(let h=0,p=o.points.length;h<p;h++)o.points[h].roundness=r;o.roundness=r,o.update();let d=Gd.create({shape:o,parameters:{roundness:r,depth:n,extrudeBevelSize:a,extrudeBevelSegments:c}});return Object.assign(d,{userData:{...e,type:"TriangleGeometry"}})}};function Jxe(e,t){let i=2*Math.PI;return(e%i+i)%i===(t%i+i)%i}function Qxe(e){return/^(rgba)?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(e.toLowerCase())}function $xe(e,t,i){let r,n,a,c=Math.floor(e*6),l=e*6-c,o=i*(1-t),s=i*(1-l*t),u=i*(1-(1-l)*t);switch(c%6){case 0:r=i,n=u,a=o;break;case 1:r=s,n=i,a=o;break;case 2:r=o,n=i,a=u;break;case 3:r=o,n=s,a=i;break;case 4:r=u,n=o,a=i;break;case 5:default:r=i,n=o,a=s;break}return{r:r*255,g:n*255,b:a*255}}function Zxe(e,t,i){e/=255,t/=255,i/=255;let r=Math.max(e,t,i),n=Math.min(e,t,i),a=r,c=r-n,l=r==0?0:c/r,o;if(r==n)o=0;else{switch(r){case e:o=(t-i)/c+(t<i?6:0);break;case t:o=(i-e)/c+2;break;case i:default:o=(e-t)/c+4;break}o/=6}return{h:o,s:l,v:a}}function e2e(e){return e=Math.floor(e),{r:e>>16&255,g:e>>8&255,b:e&255}}function t2e(e,t,i){return(e<<16)+(t<<8)+i}function i2e(e,t,i){return e=Math.round(e),t=Math.round(t),i=Math.round(i),"#"+[e,t,i].map(r=>r.toString(16).padStart(2,"0")).join("").toUpperCase()}function r2e(e){let t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(r,n,a,c)=>String(n+n+a+a+c+c));let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}var n2e={parseRgba:Qxe,hsvToRgb:$xe,rgbToHsv:Zxe,hexToRgb:e2e,rgbToHex:t2e,rgbToHexString:i2e,hexStringToRgb:r2e},a2e=class{add(e,t,i){if(typeof arguments[0]!="string")for(let r in arguments[0])this.add(r,arguments[0][r],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(r){this[r]=this[r]||[],t&&this[r][i?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(i){i.call(t&&t.context?t.context:t,t)})}},o2e=class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if(typeof t!="object"||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}},xe=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+xe.version}static addUnaryOp(t){return xe.max_unop_len=Math.max(t.length,xe.max_unop_len),xe.unary_ops[t]=1,xe}static addBinaryOp(t,i,r){return xe.max_binop_len=Math.max(t.length,xe.max_binop_len),xe.binary_ops[t]=i,r?xe.right_associative.add(t):xe.right_associative.delete(t),xe}static addIdentifierChar(t){return xe.additional_identifier_chars.add(t),xe}static addLiteral(t,i){return xe.literals[t]=i,xe}static removeUnaryOp(t){return delete xe.unary_ops[t],t.length===xe.max_unop_len&&(xe.max_unop_len=xe.getMaxKeyLen(xe.unary_ops)),xe}static removeAllUnaryOps(){return xe.unary_ops={},xe.max_unop_len=0,xe}static removeIdentifierChar(t){return xe.additional_identifier_chars.delete(t),xe}static removeBinaryOp(t){return delete xe.binary_ops[t],t.length===xe.max_binop_len&&(xe.max_binop_len=xe.getMaxKeyLen(xe.binary_ops)),xe.right_associative.delete(t),xe}static removeAllBinaryOps(){return xe.binary_ops={},xe.max_binop_len=0,xe}static removeLiteral(t){return delete xe.literals[t],xe}static removeAllLiterals(){return xe.literals={},xe}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(t){this.expr=t,this.index=0}static parse(t){return new xe(t).parse()}static getMaxKeyLen(t){return Math.max(0,...Object.keys(t).map(i=>i.length))}static isDecimalDigit(t){return t>=48&&t<=57}static binaryPrecedence(t){return xe.binary_ops[t]||0}static isIdentifierStart(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!xe.binary_ops[String.fromCharCode(t)]||xe.additional_identifier_chars.has(String.fromCharCode(t))}static isIdentifierPart(t){return xe.isIdentifierStart(t)||xe.isDecimalDigit(t)}throwError(t){let i=new Error(t+" at character "+this.index);throw i.index=this.index,i.description=t,i}runHook(t,i){if(xe.hooks[t]){let r={context:this,node:i};return xe.hooks.run(t,r),r.node}return i}searchHook(t){if(xe.hooks[t]){let i={context:this};return xe.hooks[t].find(function(r){return r.call(i.context,i),i.node}),i.node}}gobbleSpaces(){let t=this.code;for(;t===xe.SPACE_CODE||t===xe.TAB_CODE||t===xe.LF_CODE||t===xe.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let t=this.gobbleExpressions(),i=t.length===1?t[0]:{type:xe.COMPOUND,body:t};return this.runHook("after-all",i)}gobbleExpressions(t){let i=[],r,n;for(;this.index<this.expr.length;)if(r=this.code,r===xe.SEMCOL_CODE||r===xe.COMMA_CODE)this.index++;else if(n=this.gobbleExpression())i.push(n);else if(this.index<this.expr.length){if(r===t)break;this.throwError('Unexpected "'+this.char+'"')}return i}gobbleExpression(){let t=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",t)}gobbleBinaryOp(){this.gobbleSpaces();let t=this.expr.substr(this.index,xe.max_binop_len),i=t.length;for(;i>0;){if(xe.binary_ops.hasOwnProperty(t)&&(!xe.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!xe.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=i,t;t=t.substr(0,--i)}return!1}gobbleBinaryExpression(){let t,i,r,n,a,c,l,o,s;if(c=this.gobbleToken(),!c||(i=this.gobbleBinaryOp(),!i))return c;for(a={value:i,prec:xe.binaryPrecedence(i),right_a:xe.right_associative.has(i)},l=this.gobbleToken(),l||this.throwError("Expected expression after "+i),n=[c,a,l];i=this.gobbleBinaryOp();){if(r=xe.binaryPrecedence(i),r===0){this.index-=i.length;break}a={value:i,prec:r,right_a:xe.right_associative.has(i)},s=i;let u=d=>a.right_a&&d.right_a?r>d.prec:r<=d.prec;for(;n.length>2&&u(n[n.length-2]);)l=n.pop(),i=n.pop().value,c=n.pop(),t={type:xe.BINARY_EXP,operator:i,left:c,right:l},n.push(t);t=this.gobbleToken(),t||this.throwError("Expected expression after "+s),n.push(a,t)}for(o=n.length-1,t=n[o];o>1;)t={type:xe.BINARY_EXP,operator:n[o-1].value,left:n[o-2],right:t},o-=2;return t}gobbleToken(){let t,i,r,n;if(this.gobbleSpaces(),n=this.searchHook("gobble-token"),n)return this.runHook("after-token",n);if(t=this.code,xe.isDecimalDigit(t)||t===xe.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===xe.SQUOTE_CODE||t===xe.DQUOTE_CODE)n=this.gobbleStringLiteral();else if(t===xe.OBRACK_CODE)n=this.gobbleArray();else{for(i=this.expr.substr(this.index,xe.max_unop_len),r=i.length;r>0;){if(xe.unary_ops.hasOwnProperty(i)&&(!xe.isIdentifierStart(this.code)||this.index+i.length<this.expr.length&&!xe.isIdentifierPart(this.expr.charCodeAt(this.index+i.length)))){this.index+=r;let a=this.gobbleToken();return a||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:xe.UNARY_EXP,operator:i,argument:a,prefix:!0})}i=i.substr(0,--r)}xe.isIdentifierStart(t)?(n=this.gobbleIdentifier(),xe.literals.hasOwnProperty(n.name)?n={type:xe.LITERAL,value:xe.literals[n.name],raw:n.name}:n.name===xe.this_str&&(n={type:xe.THIS_EXP})):t===xe.OPAREN_CODE&&(n=this.gobbleGroup())}return n?(n=this.gobbleTokenProperty(n),this.runHook("after-token",n)):this.runHook("after-token",!1)}gobbleTokenProperty(t){this.gobbleSpaces();let i=this.code;for(;i===xe.PERIOD_CODE||i===xe.OBRACK_CODE||i===xe.OPAREN_CODE||i===xe.QUMARK_CODE;){let r;if(i===xe.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==xe.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),i=this.code}this.index++,i===xe.OBRACK_CODE?(t={type:xe.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()},this.gobbleSpaces(),i=this.code,i!==xe.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):i===xe.OPAREN_CODE?t={type:xe.CALL_EXP,arguments:this.gobbleArguments(xe.CPAREN_CODE),callee:t}:(i===xe.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),t={type:xe.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),r&&(t.optional=!0),this.gobbleSpaces(),i=this.code}return t}gobbleNumericLiteral(){let t="",i,r;for(;xe.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(this.code===xe.PERIOD_CODE)for(t+=this.expr.charAt(this.index++);xe.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(i=this.char,i==="e"||i==="E"){for(t+=this.expr.charAt(this.index++),i=this.char,(i==="+"||i==="-")&&(t+=this.expr.charAt(this.index++));xe.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);xe.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+t+this.char+")")}return r=this.code,xe.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+t+this.char+")"):(r===xe.PERIOD_CODE||t.length===1&&t.charCodeAt(0)===xe.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:xe.LITERAL,value:parseFloat(t),raw:t}}gobbleStringLiteral(){let t="",i=this.index,r=this.expr.charAt(this.index++),n=!1;for(;this.index<this.expr.length;){let a=this.expr.charAt(this.index++);if(a===r){n=!0;break}else if(a==="\\")switch(a=this.expr.charAt(this.index++),a){case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=a}else t+=a}return n||this.throwError('Unclosed quote after "'+t+'"'),{type:xe.LITERAL,value:t,raw:this.expr.substring(i,this.index)}}gobbleIdentifier(){let t=this.code,i=this.index;for(xe.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,xe.isIdentifierPart(t));)this.index++;return{type:xe.IDENTIFIER,name:this.expr.slice(i,this.index)}}gobbleArguments(t){let i=[],r=!1,n=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let a=this.code;if(a===t){r=!0,this.index++,t===xe.CPAREN_CODE&&n&&n>=i.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}else if(a===xe.COMMA_CODE){if(this.index++,n++,n!==i.length){if(t===xe.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===xe.CBRACK_CODE)for(let c=i.length;c<n;c++)i.push(null)}}else if(i.length!==n&&n!==0)this.throwError("Expected comma");else{let c=this.gobbleExpression();(!c||c.type===xe.COMPOUND)&&this.throwError("Expected comma"),i.push(c)}}return r||this.throwError("Expected "+String.fromCharCode(t)),i}gobbleGroup(){this.index++;let t=this.gobbleExpressions(xe.CPAREN_CODE);if(this.code===xe.CPAREN_CODE)return this.index++,t.length===1?t[0]:t.length?{type:xe.SEQUENCE_EXP,expressions:t}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:xe.ARRAY_EXP,elements:this.gobbleArguments(xe.CBRACK_CODE)}}},s2e=new a2e;Object.assign(xe,{hooks:s2e,plugins:new o2e(xe),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});xe.max_unop_len=xe.getMaxKeyLen(xe.unary_ops);xe.max_binop_len=xe.getMaxKeyLen(xe.binary_ops);var Zp=e=>new xe(e).parse(),l2e=Object.getOwnPropertyNames(xe);l2e.forEach(e=>{Zp[e]===void 0&&e!=="prototype"&&(Zp[e]=xe[e])});Zp.Jsep=xe;var c2e="ConditionalExpression",u2e={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let i=t.node,r=this.gobbleExpression();if(r||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let n=this.gobbleExpression();if(n||this.throwError("Expected expression"),t.node={type:c2e,test:i,consequent:r,alternate:n},i.operator&&e.binary_ops[i.operator]<=.9){let a=i;for(;a.right.operator&&e.binary_ops[a.right.operator]<=.9;)a=a.right;t.node.test=a.right,a.right=t.node,t.node=i}}else this.throwError("Expected :")}})}};Zp.plugins.register(u2e);function cw(e){return{all:e=e||new Map,on:function(t,i){var r=e.get(t);r?r.push(i):e.set(t,[i])},off:function(t,i){var r=e.get(t);r&&(i?r.splice(r.indexOf(i)>>>0,1):e.set(t,[]))},emit:function(t,i){var r=e.get(t);r&&r.slice().map(function(n){n(i)}),(r=e.get("*"))&&r.slice().map(function(n){n(t,i)})}}}var lV=class{constructor(e,t,i){var r;this.id=e,this.userAPI=t,this.result=void 0,this.error="null",this.isPrefetched=!1,this.isLoading=!1,this.isLoaded=!1,this.prefetchPromise=new Promise(n=>n()),this.emitter=cw(),this._innerCallUserAPI=async n=>{var a,c,l;this.emitter.emit("start",{userAPIId:this.id}),this.isLoading=!0,this.isLoading=!1;try{this.result=await m2e(this.userAPI,n),this.error="null",this.emitter.emit("success",{userAPIId:this.id})}catch(o){let s=((l=(c=(a=o.message)==null?void 0:a.split("_:_"))==null?void 0:c[0])==null?void 0:l.replace("status:",""))??"null";this.error=s,this.result=null,this.emitter.emit("error",{userAPIId:this.id})}this.isLoading=!1,this.isPrefetched=!0,this.isLoaded=!0},((r=t==null?void 0:t.integration)==null?void 0:r.type)==="OpenAI"?this.result={content:""}:t.method==="GET"&&t.url!==""&&(this.prefetchPromise=this.prefetch(i)),this._debouncedCallUserAPI=this._innerCallUserAPI,this._updateDebouncedCallUserAPI(),this._debouncedPrefetch=tv(this.prefetch,1e3,{trailing:!0})}_updateDebouncedCallUserAPI(){this._debouncedCallUserAPI=this.userAPI.debounce!==void 0&&this.userAPI.debounce>0?tv(this._innerCallUserAPI,this.userAPI.debounce,{leading:!0,trailing:!0}):this._innerCallUserAPI}async prefetch(e){await this.callUserAPI(e)}async callUserAPI(e){await this._debouncedCallUserAPI(e)}update(e,t,i=!0){this.userAPI=e,this._updateDebouncedCallUserAPI(),this.userAPI.url!==""&&this.userAPI.method==="GET"&&i&&this._debouncedPrefetch(t)}retrieveValue(e){if(this.result)try{return br.zoom(this.result,e)}catch(t){console.error(t)}}retrieveZoomedKeyValues(e){if(this.result){let t=e&&e.length?br.zoom(this.result,e):this.result;if(f2e(t))return Object.entries(t);if(p2e(t))return t.map((i,r)=>[r.toString(),i]);throw h2e(t)?new Error("This path points to a value, use retrieveValue() instead. "+(e==null?void 0:e.join("."))):new Error("Path error"+(e==null?void 0:e.join(".")))}}dispose(){}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}get autostart(){return this.userAPI.autoStart}};function d2e(e){let t=new Headers;return e.headers.forEach(i=>{i.data.key!==""&&t.append(i.data.key,i.data.value)}),t}function h2e(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null}function p2e(e){return Array.isArray(e)}function f2e(e){return typeof e=="object"&&e!==null}async function m2e(e,t,i=new AbortController){var o,s,u,d;let r,n=e.url,a=((o=e.proxy)==null?void 0:o.enabled)??!1,c;if(((s=e.integration)==null?void 0:s.type)==="OpenAI"){let h=Om(e.integration.prompt===""?[]:JSON.parse(e.integration.prompt),t),p=e.integration.behavior===""?[]:Om(JSON.parse(e.integration.behavior),t);c=`{
		"model": "${e.integration.model}",
		"messages": [${e.integration.useBehavior?`
		{
			"role": "system",
			"content": "${p}"
		},`:""}
		{
			"role": "user",
			"content": "${h}"
		}
		]
	}`}if(a){n=`https://apis.spline.design/file/${e.proxy.fileId}/external-api/request?uuidexternalapi=${e.proxy.proxyId}`;let h;c!==void 0?h=c:e.method==="POST"&&e.body&&(h=Om(JSON.parse(e.body),t)),h!==void 0&&(n+=`&data=${encodeURIComponent(h.replace(/(\r\n|\n|\r|\t)/gm,""))}`)}else((u=e.integration)==null?void 0:u.type)==="OpenAI"?r=c:e.method==="POST"&&e.body&&(r=Om(JSON.parse(e.body),t));let l=await fetch(n,{method:a?"GET":e.method,headers:a?void 0:d2e(e),signal:i.signal,body:r});if(!l.ok)throw new Error("status:"+l.status+"_:_"+l.statusText);if(((d=e.integration)==null?void 0:d.type)==="OpenAI"){let h=await l.json();return a&&(h=h.response),{content:h.choices[0].message.content}}else{let h=await l.json();return a&&(h=h.response),h}}var cV=(e,t)=>{if(typeof e=="string"){let i=t.getVariable(e);if(i)return cV(i,t)}return Zr.isBoolean(e)?Zr.getDisplayedValue(e).toLowerCase():Zr.getDisplayedValue(e)},Om=(e,t)=>e.map((i,r)=>{if("text"in i)return i.text;if("type"in i){if(i.type==="paragraph")return(r>0?`
`:"")+Om(i.children,t);if(i.type==="variable"){let n=t.getVariable(i.variableId);if(n!==void 0)return cV(n,t)}}return""}).join(""),g2e=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],v2e=["0","1","2","3","4","5","6","7","8","9","."],y2e=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function b2e(e){return typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e))}Zp.addBinaryOp("^",11,!0);function uV(e,t,i="number"){let r="";for(let c=0;c<e.length;c++){let l=e[c];if("objType"in l&&l.objType==="api"){let o=JSON.parse(l.id),s=o[0],u=t.getUserAPI(s);if(u!==void 0&&u instanceof lV){let d=u.retrieveValue(o.slice(1));d!==void 0&&(r+=d)}continue}if("objType"in l&&l.objType==="webhook"){let o=JSON.parse(l.id),[s,u]=o,d=t.getUserWebhook(s);if(d!==void 0){let h=d.getParameterValue(u);h!==void 0&&(r+=h)}continue}if("objType"in l&&l.objType==="aiAssistant"){let o=t.openAIRealtime;if("objId"in l&&l.objId!==void 0){let s;if(t.scene.data.objects.traverse((u,d)=>{var p;let h=(p=d.events)==null?void 0:p.find(m=>m.id===l.objId);h&&(s=h)}),s!==void 0&&s.data.type==="AIAssistantListener"){let u=o==null?void 0:o.computeAnalysisForListenerEvent(s.data);if(u!==void 0){r+=u;continue}}}r+=(o==null?void 0:o.voice)??0;continue}if("id"in l){let o=e[c-1];if(c>0&&"id"in o){console.error("Two variables in a row",e);return}let s=t.getVariable(l.id),u=Zr.getDisplayedValue(s);i==="number"&&Zr.isTextValue(s)&&Array.isArray(s.textValue)&&s.textValue.length===1?u=parseFloat(u).toString():i==="boolean"&&Zr.isBoolean(s)?u=s?"true":"false":i==="boolean"&&Zr.isTextValue(s)&&!Array.isArray(s.textValue)&&(u='"'+u+'"'),r+=u;continue}else if(i==="string"){l.name!=='"'&&(l.name!=="+"||l.escaped)&&(r+=l.name),l.name==="+"&&!l.escaped&&r[r.length-1]==="\\"&&(r=r.slice(0,-1)+l.name);continue}if(l.name==="and"){r+="&&";continue}if(l.name==="or"){r+="||";continue}if(l.name==="True"){r+="true";continue}if(l.name==="False"){r+="false";continue}if(i==="boolean"&&!b2e(l.name)&&!v2e.includes(l.name)&&!g2e.includes(l.name)&&!y2e.includes(l.name.replace(/\($/g,""))){r+='"'+l.name+'"';continue}r+=l.name}if(i==="string")return r;if(e.length===0){if(i==="number")return 0;if(i==="boolean")return!1}let n;try{n=Zp(r)}catch(c){console.error(r,c);return}let a;try{a=Yt(n)}catch(c){console.error(r,n,c)}return a}function Yt(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return+(Yt(e.left)===Yt(e.right));case"!=":return+(Yt(e.left)!==Yt(e.right));case">":return+(Yt(e.left)>Yt(e.right));case">=":return+(Yt(e.left)>=Yt(e.right));case"<":return+(Yt(e.left)<Yt(e.right));case"<=":return+(Yt(e.left)<=Yt(e.right));case"+":return Yt(e.left)+Yt(e.right);case"-":return Yt(e.left)-Yt(e.right);case"*":return Yt(e.left)*Yt(e.right);case"/":return Yt(e.left)/Yt(e.right);case"%":return Yt(e.left)%Yt(e.right);case"&&":return Yt(e.left)&&Yt(e.right);case"||":return Yt(e.left)||Yt(e.right);case"^":return Math.pow(Yt(e.left),Yt(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-Yt(e.argument);case"!":return+!Yt(e.argument);default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if(e.callee.type==="Identifier"){if(e.callee.name==="random"){let t=0,i=1;if(e.arguments.length>=1)try{t=Yt(e.arguments[0])}catch(r){console.warn(r)}if(e.arguments.length>=2)try{i=Yt(e.arguments[1])}catch(r){console.warn(r)}return t=Math.min(i,t),i=Math.max(i,t),t+Math.random()*(i-t)}return Math[e.callee.name].apply(null,e.arguments.map(Yt))}else throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}var x2e=new Ie,w2e=new Ie;function _2e(e,t,i){let r=[new N,new N,new N],n=[new N,new N,new N];return e.extractBasis(r[0],r[1],r[2]),t.extractBasis(n[0],n[1],n[2]),r.forEach((a,c)=>{let l=n[c],o=Ve.lerp(a.length(),l.length(),i);a.lerp(l,i).setLength(o)}),new Ie().makeBasis(r[0],r[1],r[2])}var S2e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i=Object.assign({},(t==null?void 0:t.parameters)??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),r=Math.abs(i.width),n=Math.abs(i.height??i.width),a=Math.abs(i.depth??0),c=(t==null?void 0:t.shapeData)??$M.create({parameters:PU}).userData.shape;return{path:e.path??vx.defaultData(),parameters:Object.assign(i,{width:r,height:n,depth:a,extrusion:{...kU,...i.extrusion}}),shapeData:c}}static build(e){if(e.path.points.length>=2){let t=new C2e(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}else return Object.assign(new Qe,{userData:{...e,type:"PathGeometry"}})}},C2e=class extends Qe{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&this.inputs.parameters.extrusion.depth===1}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&e.depth===1)||!Jxe(e.twist,0)||e.startScale!==e.endScale}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:i,offset:r}=this.inputs.parameters.extrusion;i=Math.max(0,Math.min(i,1)),r=Math.max(0,Math.min(r,1));let n=this.inputs.path.isClosed?e.length:e.length-1,a=Math.floor(r*n),c=this.inputs.path.isClosed?Math.ceil((i+r)*n):Math.ceil(Math.min(1,i+r)*n),l=Math.min(Math.max(2,c-a+1),n+2),o=[],s=[];for(let O=0;O<l;O++){let D=this.inputs.path.isClosed?(O+a)%e.length:Math.min(O+a,e.length-1);o.push(e[D].clone()),s.push(t[D].clone())}let u=(O,D,L)=>{o[O]=o[O].clone().lerp(o[D],L),s[O]=_2e(s[O],s[D],L)},d=0,h=r*n%1;(!this.inputs.path.isClosed||i<=1)&&(h||r===0)&&(d=h,u(0,1,d));let p=0,m=(r+i)*n%1;if((this.inputs.path.isClosed&&i<=1||!this.inputs.path.isClosed&&r+i<1)&&m&&(p=m,u(o.length-1,o.length-2,1-p)),i===0){let O=o.length-1;o[O].copy(o[0]),s[O].copy(s[0])}this._applyPathModifiers(s,d,p);let{bevel:f,bevelSides:g}=this.inputs.parameters.extrusion,v=f>0?this.inputs.parameters.extrusion.capType:"flat",S=5;this.inputs.parameters.extrusion.shape.type==="Custom"&&(S=this.inputs.parameters.extrusion.shape.shapeQuality==="low"?5:12);let{regions:x,infos:b,vertices:_}=this._computeShapePoints(S),w=0,C;v==="round"&&(C=new QM(this.inputs.shapeData,2*f,f,S,g,void 0,!0),w=C.getAttribute("position").count);let E=0,A=0;b.sort((O,D)=>O.start-D.start),b.forEach(O=>{O.verticesStart=E,O.verticesCount=O.continuous.reduce((D,L,B)=>D+(B===0||!L?2:1),0),A+=O.verticesCount,E=A});let T=A*l,M,j=0;if(this._isOpenEnded()&&v==="flat"){try{M=Pc({windingRule:ai.ODD,elementType:ar.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:x})}catch{M=QU}j=M.vertexCount}let P=T+2*j+w*2,I=T+2*j,k={positions:new Float32Array(P*3),normals:new Float32Array(P*3),uvs:new Float32Array(P*2)},R=[];if(b.forEach(O=>{this._extrudeRegion(O,_,s,o,k,R,this._isGeometryClosed()&&!this._isOpenEnded())}),M&&(this._closeEnd(M,T,R,k,s[0],o[0],!1),this._closeEnd(M,T+j,R,k,s[s.length-1],o[o.length-1],!0)),C){k.positions.set(C.getAttribute("position").array,I*3),k.normals.set(C.getAttribute("normal").array,I*3),k.uvs.set(C.getAttribute("uv").array,I*2);for(let B=I;B<I+w;B++)k.uvs[B*2+1]=1e-4;let O=R.length;R.push(...C.getIndex().array.map(B=>B+I)),I+=w,k.positions.set(C.getAttribute("position").array,I*3),k.normals.set(C.getAttribute("normal").array,I*3),k.uvs.set(C.getAttribute("uv").array,I*2);let D=R.length;R.push(...C.getIndex().array.map(B=>B+I)),this.setAttribute("position",new ct(k.positions,3)),this.setAttribute("normal",new ct(k.normals,3)),this.setAttribute("uv",new ct(k.uvs,2)),this.setIndex(R);let L=x2e;L.copy(s[s.length-1]).setPosition(o[o.length-1]),this.applyMatrix4OnRange(L,I,P),L.copy(s[0]).setPosition(o[0]).multiply(w2e.makeScale(1,1,-1)),this.applyMatrix4OnRange(L,I-w,I),this.reverseIndicesOnRange(O,D)}else this.setAttribute("position",new ct(k.positions,3)),this.setAttribute("normal",new ct(k.normals,3)),this.setAttribute("uv",new ct(k.uvs,2)),this.setIndex(R)}_extractPathPoints(){let e=UU(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(i=>{t[t.length-1].distanceToSquared(i)>.001&&t.push(i)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],i=e.length,r=this.inputs.path.isClosed,n=new N,a=new N,c=new N,l=new N,o=new N(0,1,0);for(let m=0;m<i;m++){let f=e[m],g;m===0?g=r?e[e.length-2]:f.clone().multiplyScalar(2).sub(e[1]):g=e[m-1];let v;m===i-1?v=r?e[1]:f.clone().multiplyScalar(2).sub(e[m-1]):v=e[m+1];let S=f.clone().sub(g).normalize(),x=v.clone().sub(f).normalize(),b=S.clone().add(x).normalize();c.copy(b),m===0&&(b.equals(o)||b.clone().negate().equals(o))&&o.set(0,0,1);let _=o.clone().cross(b).normalize(),w=b.clone().cross(_).normalize();o.copy(w),l.copy(_),m===0&&(n.copy(w),a.copy(b));let C=new Ie().makeBasis(_,w,b);t.push(C)}let s=r?a:c,u=r?n:new N(0,1,0),d=s.clone().cross(l).normalize(),h=Math.acos(u.dot(d));if(isNaN(h))return t;let p=u.clone().cross(d);s.dot(p)>0&&(h*=-1);for(let m=1;m<t.length;m++){let f=new Ie().makeRotationZ(h*m/t.length);t[m].multiply(f)}return t}_applyPathModifiers(e,t,i){let r=e.length,{angle:n,twist:a,startScale:c,endScale:l}=this.inputs.parameters.extrusion,o=new Ie,s=new Ie;return e.forEach((u,d)=>{let h=d===0?0:d===r-1?1:(d-t)/(r-(i===0?0:1)-(t+(1-i)));o.makeRotationZ(Ve.lerp(n,n+a,h)*Ve.DEG2RAD);let p=Ve.lerp(c,l,h);s.makeScale(p,p,p),u.multiply(o).multiply(s)}),e}_computeShapePoints(e=12,t=ai.ODD){let i=this.inputs.shapeData,r=i.extractShapePointsToFlatArray([],e),n=i.shapeHoles.map(s=>{let u=s.extractShapePointsToFlatArray([],e),d=[];for(let h=u.length-1;h>=1;h-=2){let p=u[h-1],m=u[h-0];d.push(p,m)}return d}),a;try{a=Pc({windingRule:t,elementType:ar.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[r]})}catch{a=JM}let c;try{c=Pc({windingRule:ai.ODD,elementType:ar.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...n]})}catch{c=JU}if(!a)throw new Error("error generating geometry");let l=a.elementCount;if(c){a.elementCount+=c.elementCount;for(let s=0;s<c.elements.length;s++){let u=c.elements[s],d=s%2===0?a.vertexCount:0;a.elements.push(u+d)}for(let s=0;s<c.vertexIndices.length;s++){let u=c.vertexIndices[s],d=a.vertexCount;a.vertexIndices.push(u+d)}for(let s=0;s<c.vertices.length;s++){let u=c.vertices[s];a.vertices.push(u)}}for(let s=0,u=a.vertexCount;s<u;s++){let d=s*2;a.vertices[d+0],a.vertices[d+1]}let o=[];for(let s=a.elementCount-1;s>=0;s--){let u=s>=l,d=s*2,h=a.elements[d+0],p=a.elements[d+1],m=h+p,f={start:h,count:p,normals:[],isHole:u,continuous:[],verticesStart:0,verticesCount:0};o.push(f);let g=h,v=m-1,S=h+1,x=i.roundedCurves.length;do{let b=g-h;a.vertices[v*2+0],a.vertices[v*2+1];let _=a.vertices[g*2+0],w=a.vertices[g*2+1],C=a.vertices[S*2+0],E=a.vertices[S*2+1],A=_-C,T=w-E,M=Math.sqrt(A*A+T*T);A/=M,T/=M,f.normals[b*2+0]=-T,f.normals[b*2+1]=A;let j=a.vertexIndices[g];if(Array.isArray(j))f.continuous[b]=!1;else{let[P,I]=i.getCurveIndexFromVertexId(j-1,!0);if(I>0&&I<1)f.continuous[b]=!0;else{let k=I===1?P+1:P-1;k=(k+x)%x;let R=I===1?0:1,O=i.roundedCurves[P].getTangent(I),D=i.roundedCurves[k].getTangent(R);f.continuous[b]=O.dot(D)>.95}}u&&(f.normals[b*2+0]*=-1,f.normals[b*2+1]*=-1),[v,g,S]=[g,S,S+1],S>=m&&(S-=p)}while(S!==h+1)}return{regions:[r,...n],infos:o,vertices:a.vertices}}_insertVertex(e,t,i,r,n){let a=t*2,c=t*3;e.positions[c+0]=i.x,e.positions[c+1]=i.y,e.positions[c+2]=i.z,e.normals[c+0]=r.x,e.normals[c+1]=r.y,e.normals[c+2]=r.z,e.uvs[a+0]=n.x,e.uvs[a+1]=n.y}_extrudeRegion(e,t,i,r,n,a,c){let l=new N,o=new N,s=new N,u=new N,d=new re;i.forEach((p,m)=>{let f=r[m],g=e.verticesStart*i.length+e.verticesCount*m;for(let v=0;v<e.count;v++){let S=(e.start+v)*2;if(l.set(t[S+0],t[S+1],0),s.copy(l).applyMatrix4(p).add(f),e.continuous[v])u.set(e.normals[v*2+0],e.normals[v*2+1],0);else{let x=v===0?(e.start+e.count-1)*2:S-2;o.set(t[x+0],t[x+1],0),u.copy(l).sub(o),u.set(-u.y,u.x,0),e.isHole||u.negate()}if(u.applyMatrix4(p).normalize(),d.set(v===0?1:v/e.count,m/(i.length-1)),this._insertVertex(n,g,s,u,d),g++,!e.continuous[v]||v===0){if(v===0)u.set(e.normals[v*2+0],e.normals[v*2+1],0),d.set(0,m/(i.length-1));else{let x=v===e.count-1?e.start*2:S+2;o.set(t[x+0],t[x+1],0),u.copy(o).sub(l),u.set(-u.y,u.x,0),e.isHole||u.negate()}u.applyMatrix4(p).normalize(),this._insertVertex(n,g,s,u,d),g++}}});let h=i.length-1;for(let p=0;p<h;p++){let m=e.verticesStart*i.length+e.verticesCount*p,f=e.verticesStart*i.length+e.verticesCount*(p+1),g=0;for(let v=0;v<e.count;v++){(!e.continuous[v]||v===0)&&g++;let S=v===e.count-1?0:g+1,x=m+g,b=m+S,_=f+S,w=f+g;e.isHole?a.push(x,_,b,x,w,_):a.push(x,b,_,x,_,w),g++}}}_closeEnd(e,t,i,r,n,a,c){let l=e.vertexCount,o=new N(0,0,c?-1:1).applyMatrix4(n),s=new N,u=new re;for(let h=0;h<l;h++){let p=2*h;s.set(e.vertices[p+0],e.vertices[p+1],0).applyMatrix4(n).add(a),this._insertVertex(r,t+h,s,o,u)}let d=e.elements;for(let h=0;h<e.elementCount;h++){let p=3*h,m=d[p+0]+t,f=d[p+(c?1:2)]+t,g=d[p+(c?2:1)]+t;i.push(m,f,g)}}applyMatrix4OnRange(e,t,i){let r=e.elements,n=new or().getNormalMatrix(e).elements,a,c,l,o,s=this.attributes.position,u=this.attributes.normal;if(!s||!u)return;let d=s.array,h=u.array,p=s.itemSize;for(let m=t*p,f=i*p;m<f;m+=p){if(m===t)debugger;a=d[m+0],c=d[m+1],l=d[m+2],o=1/(r[3]*a+r[7]*c+r[11]*l+r[15]),d[m+0]=(r[0]*a+r[4]*c+r[8]*l+r[12])*o,d[m+1]=(r[1]*a+r[5]*c+r[9]*l+r[13])*o,d[m+2]=(r[2]*a+r[6]*c+r[10]*l+r[14])*o,a=h[m+0],c=h[m+1],l=h[m+2],h[m+0]=n[0]*a+n[3]*c+n[6]*l,h[m+1]=n[1]*a+n[4]*c+n[7]*l,h[m+2]=n[2]*a+n[5]*c+n[8]*l}s.needsUpdate=!0,u.needsUpdate=!0}reverseIndicesOnRange(e,t){let i=this.index;if(i){for(let r=e;r<t;r+=3){let n=i.getX(r),a=i.getX(r+1),c=i.getX(r+2);i.setXYZ(r,c,a,n)}i.needsUpdate=!0}}};function dV(){let e=new Qe;return e.setAttribute("position",new ct(new Float32Array([]),3)),e.setIndex(new ct(new Uint16Array([]),1)),e}var E2e=dV().attributes,T2e=12,A2e=1,wT=class extends Qe{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,E2e),this.userData={parameters:e,type:"TextGeometry"};let i=t.getFont(e.font);i!=null&&i.isLoaded?(this.font=i,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t==null||t.requestRender()})}async updateFont(e,t){let i=t.getFont(e);i&&(this.font=i,await i.loadingPromise)}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!(t!=null&&t.isLoaded)){console.warn("Cannot update text because its font is not loaded");return}let{width:i,height:r,depth:n,extrudeBevelSize:a,extrudeBevelSegments:c,text:l,textTransform:o}=e,s=Zr.getDisplayedValue(l),u=o===2?s.toUpperCase():o===3?s.toLowerCase():s,d=M2e(e,t,u),{shapes:h,charWidths:p,charCoords:m}=t.generateShapes(d,e),f=(typeof i=="number"?i:1)*.5,g=(typeof r=="number"?r:1)*.5,v=h.map(b=>new Hi().fromShape(b,!0));this.vectorShapes=v;let S=v.map(b=>Gd.create({shape:b,parameters:{depth:n,extrudeBevelSegments:c,extrudeBevelSize:a,windingRule:n<=0?ai.NONZERO:ai.ODD,subdivisions:this.isLowResolution&&n>0?A2e:T2e}})),x=S.length?nd(S):dV();x.translate(-f,g,0),this.dispose(),this.wrappedText=d,this.charCoords=m,this.charWidths=p,this.deleteAttribute("extrudeNormal"),Object.entries(x.attributes).forEach(([b,_])=>{this.setAttribute(b,_)}),this.setIndex(x.index),this.computeBoundingSphere()}clone(){let e=Ya(new Qe,wT.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,i])=>{this.setAttribute(t,i)}),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}async setText(e){this.font&&await this.font.loadingPromise,await this.update({...this.userData.parameters,text:{textValue:e}})}get text(){return this.userData.parameters.text??""}};function M2e(e,t,i){let r=[""],n="";for(let a of i)n+=a,a===" "||a===`
`?(r[r.length-1]+=n,n="",a===`
`&&r.push("")):t.getTextWidth(r[r.length-1]+n,e)>e.width&&(r[r.length-1].length&&r.push(""),t.getTextWidth(r[r.length-1]+n,e)>e.width&&(n.length===1?(r[r.length-1]+=n,n=""):(r[r.length-1]+=n.slice(0,-1),n=n[n.length-1],r.push(""))));return r[r.length-1]+=n,r}var hV,pV=new Promise(e=>{hV=e}),E8=!1,Iy;function j2e(){if(E8)return;if(Iy)return Iy;async function e(){let t="https://unpkg.com/@splinetool/modelling-wasm@1.9.67/build",i=hu(()=>import("./process-DV7UApZm.js"),__vite__mapDeps([])),[r,n]=await Promise.all([i,fetch(`${t}/process.wasm`).then(l=>l.arrayBuffer())]),a=r.default,c=await a({wasmBinary:n});hV(c),E8=!0}return Iy=e(),Iy}var I2e=["font"];function hv(e,t,i,r){var s,u;let n,a,c;e.type==="PathGeometry"?(a=JSON.parse(JSON.stringify(e)),c=[[],["extrusion"]]):(a={...e},c=[[]]);for(let d of c){let h=a;for(let p of d)h=h[p];for(n in h){let p=h[n];M6(p)&&!I2e.includes(n)&&(h[n]=t.getVariable(p,[r.uuid,"geometry",...d,n]),M6(h[n])&&(h[n]=1))}}let l={parameters:a,type:a.type};if(a.type==="PathGeometry")l.path=a.path;else if(a.type==="VectorGeometry"){let d=Hi.createFromState(a.shape,a.width,a.height);l.shape=d}else if(a.type==="NonParametricGeometry"){if(a.data.groups&&((s=a.data.groups)==null||s.forEach(d=>d.materialIndex=Math.max(d.materialIndex??0,0))),l.geometry=new dF().parse(a),l.geometry.groups.length===0){let d=l.geometry;d.addGroup(0,Math.max(((u=d.getIndex())==null?void 0:u.count)??0,d.getAttribute("position").count),0)}}else if(a.type==="SubdivGeometry"){let d=new In(a,i);return d.data=e,d}else{if(a.type==="TextGeometry")return new wT(a,t);if(a.type==="InputGeometry")return new wT(a,t);if(a.type==="UIGeometry")return ZM.create({parameters:{width:a.width,height:a.height,cornerRadius:a.cornerRadius,cornerType:a.cornerType}})}let o;try{o=I8(l)}catch(d){console.error(d)}if(!o){let d=Hi.createFromState(gx.defaultData(),100,100);l.shape=d,o=I8(l)}return o}var P2e=new Ie;function _T(e,t,i,r){let n=e.position.array,a=e.normal.array,c=P2e.makeScale(t,i,r).invert().elements,l,o,s;for(var u=0,d=n.length;u<d;u+=3)n[u]*=t,n[u+1]*=i,n[u+2]*=r,l=a[u],o=a[u+1],s=a[u+2],a[u]=c[0]*l+c[4]*o+c[8]*s,a[u+1]=c[1]*l+c[5]*o+c[9]*s,a[u+2]=c[2]*l+c[6]*o+c[10]*s;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var Py=new Zi,vh=new N,ut;pV.then(e=>{ut=e});var T8=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),A8=new Uint32Array([0,1,2,3]),M8=new Uint8Array([4]),In=class extends Qe{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let i=this.data.scaleBaked,r=gd.div(t,i);this.subdividedGeometry&&_T(this.subdividedGeometry.attributes,...r),this.originalGeometry&&_T(this.originalGeometry.attributes,...r),this.data=e;let n=this.userData.parameters;this.userData.parameters={width:n.width*r[0],height:n.height*r[1],depth:n.depth*r[2]},this.originalGeometry.boundingSphere.center.multiply(vh.fromArray(r));let a=vh.set(n.width,n.height,n.depth).length();this.originalGeometry.boundingSphere.radius=a/2}ensureSubdivPointer(){return this.subdivPointer===0&&this.rebuild(),this.subdivPointer}rebuild(){let e,t,i;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:i}=In.build(this.data,void 0,!this.flatShading,void 0))}catch{e=new Mo(100,100,100),i=0}this.subdivPointer=i,this.originalGeometry=e,this.subdividedGeometry=t??void 0;let r=this.subdividedGeometry??this.originalGeometry;Object.assign(this,r),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(In.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new aa,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,i=e.boundingSphere.center;Py.setFromBufferAttribute(t),Py.getCenter(i),e.boundingSphere.radius=i.distanceTo(Py.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Py.getSize(vh);let r={width:vh.x,height:vh.y,depth:vh.z};return this.userData.parameters=r,r}static build(e,t,i,r){let n,a,c,l=(e==null?void 0:e.phongAngle)??35;i===!1&&(l=-1),t&&(ut.free_bvh(t),ut.free_subdivision_surface(t));try{n=In.allocate(e,r)}catch(o){console.error(o,e),n=In.allocate({positionWASM:T8,indexWASM:A8,verticesPerFaceWASM:M8},r)}if(ut.set_destination_refinement_level(n,0),a=In.buildLevel(n,!0,l),e.subdivisions>0)try{ut.set_destination_refinement_level(n,e.subdivisions),c=In.buildLevel(n,!1,l)}catch{try{ut.set_destination_refinement_level(n,e.subdivisions-1),c=In.buildLevel(n,!1,l)}catch{c=null}}else c=null;return{subdivPointer:n,originalGeometry:a,subdividedGeometry:c}}static primitiveToQuads(e,t,i){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),e.type==="DodecahedronGeometry"&&(e.detail=0);let r=e.shape!==void 0||e.path!==void 0?t.geometry:hv(e,i,!1),n;e.type==="TorusGeometry"&&e.arc===Math.PI*2?n=r.getClosedTorusIndicesForBooleanOrSubdiv():n=r.getIndex();let a,c,l,o;({positions:a,triIndices:o}=uw(r.getAttribute("position"),n));let s;if(e.type==="CylinderGeometry"&&e.cornerRadius===0&&e.hollow===0&&e.openEnded===!1){let u=e.radialSegments*e.heightSegments*3*2,d=u+e.radialSegments*3;s=[u,d]}return{indices:c,verticesPerFace:l}=fV(a,o,r,s),{positions:a,indices:c,verticesPerFace:l}}static allocate(e,t){var x;let i,r,n,a=[],c=[];e.positionWASM&&e.positionWASM.length>0?(i=e.positionWASM,r=e.indexWASM,n=e.verticesPerFaceWASM):(i=T8,r=A8,n=M8);let l=i.length,o=r.length,s=n.length,u=i.length+a.length+c.length,d=r.length+n.length,h=u*Float32Array.BYTES_PER_ELEMENT+d*Uint32Array.BYTES_PER_ELEMENT,p=u*Float32Array.BYTES_PER_ELEMENT,m=ut._malloc(h),f=new Float32Array(ut.HEAPF32.buffer,m,u),g=new Uint32Array(ut.HEAPU32.buffer,m+p,d);f.set(i,0),f.set(a,i.length),f.set(c,i.length+a.length),g.set(r,0),g.set(n,r.length);let v;(x=e==null?void 0:e.scaleBaked)!=null&&x.some(b=>b!==1)&&(v=new Ie().makeScale(...e.scaleBaked)),t&&(v?v.premultiply(t):v=t);let S=v?ut.alloc_subdivision_surface2(m,l,m+p,o,m+p+r.length*Uint32Array.BYTES_PER_ELEMENT,s,v.elements):ut.alloc_subdivision_surface(m,l,m+p,o,m+p+r.length*Uint32Array.BYTES_PER_ELEMENT,s);return ut._free(m),S}static buildLevel(e,t,i,r,n){let a=n?ut.get_mesh_data2(e,t?ut.Level.CONTROL:ut.Level.REFINED,i,n.elements):ut.get_mesh_data(e,t?ut.Level.CONTROL:ut.Level.REFINED,i),c=8,l=ut.HEAPU32.subarray(a>>2,(a>>2)+c),o=l.subarray(4,8),s=0,u=ut.HEAPU32[l[s]>>2],d=ut.HEAPF32.subarray(u>>2,(u>>2)+o[s]);s++;let h=ut.HEAPU32[l[s]>>2],p=ut.HEAPF32.subarray(h>>2,(h>>2)+o[s]);s++;let m=ut.HEAPU32[l[s]>>2],f=ut.HEAPU32.subarray(m>>2,(m>>2)+o[s]);s++;let g=ut.HEAPU32[l[s]>>2],v=ut.HEAPU32.subarray(g>>2,(g>>2)+o[s]);if(s++,r===void 0){let S=new Qe;if(S.setIndex(new gp(v,1)),S.setAttribute("position",new Fe(d,3)),S.setAttribute("normal",new Fe(p,3)),t){S.setAttribute("faceMap",new gp(f,1));let x=new Float32Array(p.length/3*4).fill(0);S.setAttribute("color",new ct(x,4))}return ut.free_mesh_data(a),S.userData.type="SubdivGeometry",S}r.getAttribute("position").copyArray(d),r.getAttribute("normal").copyArray(p),r.attributes.position.needsUpdate=!0,r.attributes.normal.needsUpdate=!0,ut.free_mesh_data(a)}static freeSubdivPointer(e){ut.free_bvh(e),ut.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,i){let r=ut.get_wireframe_data_for_base_level(e),n=4,a=ut.HEAPU32.subarray(r>>2,(r>>2)+n),c=a.subarray(2,4),l=0,o=ut.HEAPU32[a[l]>>2],s=ut.HEAPF32.subarray(o>>2,(o>>2)+c[l]);l++;let u=ut.HEAPU32[a[l]>>2],d=ut.HEAPU32.subarray(u>>2,(u>>2)+c[l]);if(t===void 0){let h=new Qe;h.setAttribute("position",new Fe(s,3));let p=new Float32Array(s.length);for(let m=0,f=s.length;m<f;)p[m++]=i.r,p[m++]=i.g,p[m++]=i.b;return h.setAttribute("color",new ct(p,3)),h.setIndex(new gp(d,1)),ut.free_wireframe_data_for_base_level(r),h}t.getAttribute("position").copyArray(s),t.attributes.position.needsUpdate=!0,ut.free_wireframe_data_for_base_level(r)}static updateCollabMesh(e,t,i){let r=t===0;r||ut.set_destination_refinement_level(e,t);let n=i?ut.get_topological_data2(e,r?ut.Level.CONTROL:ut.Level.REFINED,i.elements):ut.get_topological_data(e,r?ut.Level.CONTROL:ut.Level.REFINED),a=6,c=ut.HEAPU32.subarray(n>>2,(n>>2)+a),l=c.subarray(3,6),o=0,s=ut.HEAPU32[c[o]>>2],u=new Float32Array(ut.HEAPF32.subarray(s>>2,(s>>2)+l[o]));o++;let d=ut.HEAPU32[c[o]>>2],h=new Uint32Array(ut.HEAPU32.subarray(d>>2,(d>>2)+l[o]));o++;let p=ut.HEAPU32[c[o]>>2],m=new Uint8Array(ut.HEAPU32.subarray(p>>2,(p>>2)+l[o]));return ut.free_topological_data(n),{positions:u,indices:h,verticesPerFace:m}}},j8=["getX","getY","getZ"];function uw(e,t){let i={},r=t?t.count:e.count,n=0,a=[],c=[],l=1e4;for(let s=0;s<r;s++){let u=t?t.getX(s):s,d="";for(let h=0;h<3;h++)d+=`${~~(e[j8[h]](u)*l)},`;if(d in i)a.push(i[d]);else{for(let h=0;h<3;h++)c.push(e[j8[h]](u));i[d]=n,a.push(n),n++}}let o=[];for(let s=0;s<a.length;s+=3)a[s]===a[s+1]||a[s]===a[s+2]||a[s+1]===a[s+2]||o.push(a[s],a[s+1],a[s+2]);return{positions:c,triIndices:o}}var ky=new N,kS=new N,DS=new N,OS=new N;function fV(e,t,i,r){let n=[],a=[];if(i.userData.shape!==void 0&&i.userData.parameters.depth===0&&i.userData.shape.shapeHoles.length===0){let o=i.userData.shape.extractShapePointsToFlatArray([]),s=i.userData.parameters.spikes;if(i.userData.type==="EllipseGeometry"&&s<=24&&s%4===0&&i.userData.parameters.angle>=360){let h=o.length/2/s;o=o.filter((p,m)=>Math.floor(m/2)%h===0)}let u=0;for(let h=0;h<o.length;h+=2)u+=(o[h]-o[(h===0?o.length:h)-2])*(o[h+1]+o[(h===0?o.length:h)-1]);e.length=0;let d=0;if(u<0)for(let h=0;h<o.length;h+=2)e.push(o[h],o[h+1],0),n.push(d++);else for(let h=o.length-2;h>=0;h-=2)e.push(o[h],o[h+1],0),n.push(d++);return a.push(d),{indices:n,verticesPerFace:a}}let c=new Float32Array([i.userData.parameters.depth])[0],l=0;for(;l<t.length;){if(i.useNgonForTopBottomFaceDuringBake){let o=0;if((e[t[l]*3+2]===c||e[t[l]*3+2]===0)&&o++,(e[t[l+1]*3+2]===c||e[t[l+1]*3+2]===0)&&o++,(e[t[l+2]*3+2]===c||e[t[l+2]*3+2]===0)&&o++,o===3)break}if(t[l+1]===t[l+3]&&t[l+2]===t[l+5]||t[l+0]===t[l+3]&&t[l+2]===t[l+4]){ky.set(e[t[l]*3],e[t[l]*3+1],e[t[l]*3+2]),kS.set(e[t[l+1]*3],e[t[l+1]*3+1],e[t[l+1]*3+2]),DS.set(e[t[l+4]*3],e[t[l+4]*3+1],e[t[l+4]*3+2]),OS.set(e[t[l+5]*3],e[t[l+5]*3+1],e[t[l+5]*3+2]),kS.sub(ky).normalize(),DS.sub(ky).normalize(),OS.sub(ky).normalize();let o=kS.cross(DS).dot(OS);Math.abs(o)>.005||r&&r.some((s,u)=>u%2===1?!1:l>=r[u]&&l<r[u+1])?(n.push(t[l],t[l+1],t[l+2]),a.push(3),l+=3):(n.push(t[l],t[l+1],t[l+4],t[l+5]),a.push(4),l+=6)}else n.push(t[l],t[l+1],t[l+2]),a.push(3),l+=3}if(i.useNgonForTopBottomFaceDuringBake){let o=[],s=[],u=0;for(let d=0,h=0;d<e.length;d+=3,h++)e[d+2]===0&&(o.push(h),u++),e[d+2]===c&&s.push(h);if(i.userData.parameters.extrudeBevelSize===0){let d=s[0];s[0]=s[1],s[1]=d}o.reverse(),n.push(...o,...s),a.push(u,u)}return{indices:n,verticesPerFace:a}}var Xs={};Cre(Xs,{calcBoolean:()=>N2e,calcBooleanTopological:()=>R2e,freeMeshSet:()=>F2e,getMeshSet:()=>L2e,hasOpenEdges:()=>z2e,transformMeshSet:()=>B2e});var mV,k2e=new Promise(e=>{mV=e}),Dy;function D2e(){if(Dy)return Dy;async function e(){let t="https://unpkg.com/@splinetool/boolean-wasm@1.9.67/build",i=hu(()=>import("./boolean-DSjzd_Xe.js"),__vite__mapDeps([])),[r,n]=await Promise.all([i,fetch(`${t}/boolean.wasm`).then(l=>l.arrayBuffer())]),a=r.default,c=await a({wasmBinary:n});mV(c)}return Dy=e(),Dy}var Ft,Sp;k2e.then(e=>Ft=e);function O2e(e,t,i){let r,n;e.userData.parameters.type==="TorusGeometry"&&e.userData.parameters.arc===Math.PI*2?n=e.getClosedTorusIndicesForBooleanOrSubdiv():n=e.getIndex();let{positions:a,triIndices:c}=uw(e.getAttribute("position"),n),l;if(t&&i){let{indices:o,verticesPerFace:s}=fV(a,c,e);l=s.length,r=[];for(let u=0,d=0;u<l;u++){r.push(s[u]);for(let h=0;h<s[u];h++)r.push(o[d++])}}else{let o=c.length;r=Array(o+o/3),l=0;for(let s=0,u=0;u<r.length;)r[u++]=3,l++,r[u++]=c[s++],r[u++]=c[s++],r[u++]=c[s++]}return{positions:a,faceIndices:r,nFaces:l}}function gV(e){let t=e.length,i=t*Uint32Array.BYTES_PER_ELEMENT,r=t*Float32Array.BYTES_PER_ELEMENT,n=Number.isInteger(e[0])?i:r,a=Ft._malloc(n);return(Number.isInteger(e[0])?new Uint32Array(Ft.HEAPU32.buffer,a,t):new Float32Array(Ft.HEAPF32.buffer,a,t)).set(e,0),a}function vV(e){switch(e){case 0:return Ft.OP.UNION;case 1:return Ft.OP.INTERSECTION;case 2:return Ft.OP.A_MINUS_B;default:throw new Error("Unknown boolean operation "+e)}}function R2e(e,t){Sp===void 0&&(Sp=Ft.init_csg());let i=gV(e),r=Ft.csg_calc_topological(Sp,i,e.length,vV(t));Ft._free(i);let n=6,a=Ft.HEAPU32.subarray(r>>2,(r>>2)+n),c=a.subarray(3,6),l=0,o=Ft.HEAPU32[a[l]>>2],s=new Float32Array(Ft.HEAPF32.subarray(o>>2,(o>>2)+c[l]));l++;let u=Ft.HEAPU32[a[l]>>2],d=new Uint32Array(Ft.HEAPU32.subarray(u>>2,(u>>2)+c[l]));l++;let h=Ft.HEAPU32[a[l]>>2],p=new Uint8Array(Ft.HEAPU32.subarray(h>>2,(h>>2)+c[l]));return Ft.free_mesh_data(r),{positions:s,indices:d,verticesPerFace:p}}function N2e(e,t,i,r){Sp===void 0&&(Sp=Ft.init_csg());let n=gV(e),a=Ft.csg_calc(Sp,n,e.length,r,vV(t));Ft._free(n);let c=5,l=Ft.HEAPU32.subarray(a>>2,(a>>2)+c),o=l.subarray(2,5),s=0,u=Ft.HEAPU32[l[s]>>2],d=Ft.HEAPF32.subarray(u>>2,(u>>2)+o[s]);s++;let h=Ft.HEAPU32[l[s]>>2],p=Ft.HEAPF32.subarray(h>>2,(h>>2)+o[s]);s++;let m=o[s];i.setAttribute("position",new Fe(d,3)),i.setAttribute("normal",new Fe(p,3));let f=Ft.HEAPF32.subarray((a>>2)+5,(a>>2)+5+6);return i.boundingSphere===null&&(i.boundingSphere=new aa),i.boundingSphere.center.set(f[0],f[1],f[2]),i.boundingSphere.radius=(f[3]**2+f[4]**2+f[5]**2)**.5,i.userData.parameters={width:f[3]*2,height:f[4]*2,depth:f[5]*2},Ft.free_mesh_data(a),m}function L2e(e,t,i){if(Ft===void 0)return-1;let r,n,a;if(t&&e.userData.positions!==void 0){let g=e.userData;a=g.verticesPerFace.length,r=g.positions,n=Array(g.verticesPerFace.reduce((v,S)=>v+S,0)+a);for(let v=0,S=0,x=0;v<g.verticesPerFace.length;v++){n[x++]=g.verticesPerFace[v];for(let b=0;b<g.verticesPerFace[v];b++)n[x++]=g.indices[S++]}}else({positions:r,faceIndices:n,nFaces:a}=O2e(e,t,i));let c=r.length,l=n.length,o=r.length,s=n.length,u=o*Float32Array.BYTES_PER_ELEMENT+s*Uint32Array.BYTES_PER_ELEMENT,d=o*Float32Array.BYTES_PER_ELEMENT,h=Ft._malloc(u),p=new Float32Array(Ft.HEAPF32.buffer,h,o),m=new Uint32Array(Ft.HEAPU32.buffer,h+d,s);p.set(r,0),m.set(n,0);let f=Ft.get_csg_mesh(h,c,h+d,l,a);return Ft._free(h),f}function z2e(e){return Ft.has_open_edges(e)}function B2e(e,t){Ft.transform_csg_mesh(e,t.elements)}function F2e(e){Ft.free_csg_mesh(e)}var U2e={ConeGeometry:Hbe,CubeGeometry:Gbe,CylinderGeometry:VU,DodecahedronGeometry:qbe,EllipseGeometry:$M,HelixGeometry:Mxe,IcosahedronGeometry:jxe,LatheGeometry:Ixe,NonParametricGeometry:Lxe,PolygonGeometry:oV,PyramidGeometry:zxe,RectangleGeometry:ZM,SphereGeometry:Uxe,PlaneGeometry:Vxe,BackdropGeometry:Hxe,StarGeometry:sV,TextFrameGeometry:Wxe,TorusGeometry:qxe,TorusKnotGeometry:Kxe,TriangleGeometry:Xxe,PathGeometry:S2e,VectorGeometry:Gd},I8=e=>U2e[e.type].create(e);function yh(e){return e!==null&&"booleanOp"in e}var yV=class extends qM(gi){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Ie}updateVisible(e){super.updateVisible(e),this.visible=!yh(this.parent)&&this.visible,yh(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(Xs.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),yh(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof yV&&(e.freeBooleanPointer(),yh(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let i=super.updateTransformState(e,t);return i&&yh(this.parent)&&this.invalidateDownstreamBooleanData(!0),i}onVariableUpdate(e=!1){super.onVariableUpdate(e),yh(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},Oy=new Zi;function ej(e,t=0,i=e.count,r,n){let a=1/0,c=1/0,l=1/0,o=-1/0,s=-1/0,u=-1/0;for(let d=t;d<i;d++){let h=e.getX(d),p=e.getY(d),m=e.getZ(d);h<a&&(a=h),p<c&&(c=p),m<l&&(l=m),h>o&&(o=h),p>s&&(s=p),m>u&&(u=m)}Oy.min.set(a,c,l),Oy.max.set(o,s,u),Oy.getCenter(r),Oy.getSize(n).multiplyScalar(.5)}var V2e=new Qe,H2e=new Pl,zn=class extends yV{constructor(t,i){super(V2e,H2e),this.super_Entity(t,i)}updateState(t,i){this.updateState_Entity(t,i)}updateEntityBoxSize(t,i){let r=this.geometry.getAttribute("position");r!==void 0?ej(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,t,i):super.updateEntityBoxSize(t,i)}},uc=class{constructor(e){if(this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},uc.uuidContext===null)throw new Error("plz startContext");uc.uuidContext===uc.globalContext?this.uuid="_gid"+uc.uuidContext.nodeContextUuid++:this.uuid="_uid"+uc.uuidContext.nodeContextUuid++,this.type=e,this.name=""}static startContext(e){this.uuidContext===null||this.uuidContext===uc.globalContext?this.uuidContext=e:console.error("Can't start context twice")}static endContext(e){this.uuidContext!==e&&console.error("Can't end context twice"),this.uuidContext=null}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,i){return i=i??{},this.analyze(e,i),this.flow(e,t,i)}flow(e,t,i){i=i??{},e.addFlow(i.slot,i.cache,i.context);let r={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),r}build(e,t,i){t=t??this.getType(e,t);let r=e.getNodeData(i??this);return e.analyzing&&this.appendDepsNode(e,r,t),e.nodes.indexOf(this)===-1&&e.nodes.push(this),this.updateFrame!==void 0&&e.updaters.indexOf(this)===-1&&e.updaters.push(this),this.generate(e,t,i)}updateFrame(e){}generateReadonly(e,t,i,r,n,a){return""}generate(e,t,i,r,n){return""}parse(e,t,i,r){}appendDepsNode(e,t,i){t.deps=(t.deps||0)+1;let r=e.getTypeLength(i);(r>(t.outputMax||0)||this.getType(e,i))&&(t.outputMax=r,t.output=i)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return t==="sampler2D"||t==="samplerCube"?t:this.type}},vr=uc;vr.globalContext={nodeContextUuid:0},vr.uuidContext=uc.globalContext;var P8=class{constructor(e){e=e??{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},G2e=class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,i){i=i!==void 0?i:!0,this.keywords[e]={callback:t,cache:i}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return this.nodes[e]!==void 0}containsKeyword(e){return this.keywords[e]!==void 0}},Jn=new G2e,ci=class extends vr{constructor(e,t){super(e),this.scope="",t=t??{},this.shared=t.shared!==void 0?t.shared:!0,this.unique=t.unique!==void 0?t.unique:!1}build(e,t,i,r){if(t=t??this.getType(e),this.getShared(e,t)){let n=this.getUnique(e,t);n&&this.uuid===void 0&&(this.uuid=Ve.generateUUID()),i=e.getUUID(i??this.getUUID(),!n);let a=e.getNodeData(i),c=a.output||this.getType(e);if(e.analyzing)return(a.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,a,t),this.generate(e,t,i)):super.build(e,t,i);if(n)return a.name=a.name||super.build(e,t,i),a.name;if(!this.getLabel()&&(!this.getShared(e,c)||e.context.ignoreCache||a.deps===1))return super.build(e,t,i);i=this.getUUID(!1);let l=this.getTemp(e,i);if(l)return e.format(l,c,t);{l=super.generate(e,t,i,a.output,r);let o=this.generate(e,c,i);return e.addNodeCode(l+" = "+o+";"),e.format(l,c,t)}}return super.build(e,t,i)}getShared(e,t){return t!=="sampler2D"&&t!=="samplerCube"&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return typeof this.scope=="string"&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let i=e.getVars()[t];return i?i.name:void 0}generate(e,t,i,r,n){return this.getShared(e,t)||console.error("TempNode is not shared"),i=i??this.uuid,e.getTempVar(i,r??this.getType(e),n,this.getLabel()).name}},oa=class extends ci{constructor(e,t){t=t??{},t.shared=t.shared!==void 0?t.shared:!1,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,i,r,n,a){i=e.getUUID(i??this.getUUID()),r=r??this.getType(e);let c=e.getNodeData(i);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(e,t,i,r,n,a):e.isShader("vertex")?(c.vertex||(c.vertex=e.createVertexUniform(r,this,n,a,this.getLabel())),e.format(c.vertex.name,r,t)):(c.fragment||(c.fragment=e.createFragmentUniform(r,this,n,a,this.getLabel())),e.format(c.fragment.name,r,t))}},Yr=class extends oa{constructor(t=0,i){super("v2"),this.nodeType="Vector2",this.value=t instanceof re?t:new re(t,i)}get x(){return this.value.x}set x(t){this.value.x=t}get y(){return this.value.y}set y(t){this.value.y=t}generateReadonly(t,i,r,n,a,c){return t.format("vec2("+this.value.x+", "+this.value.y+")",n,i)}},Ia=class extends oa{constructor(e=0,t,i){super("v3"),this.nodeType="Vector3",this.value=e instanceof N?e:new N(e,t,i)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,i,r,n,a){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",r,t)}},rn=class extends lt{constructor(e,t,i,r){super(e,t,i),this.isColorA=!0,this.a=r}setRGBA(e,t,i,r){super.setRGB(e,t,i),this.a=r}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}equals(e){return super.equals(e)&&this.a===e.a}setStyle(e,t="srgb"){let i;if(e==="transparent")return this.setRGBA(0,0,0,0),this;if(i=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a=n==="rgba"?parseFloat(r[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a=n==="hsla"?parseFloat(r[4]):1,super.setStyle(e,t);break}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},Js=class extends oa{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof rn?e:new rn(e.r,e.g,e.b,e.a)}generateReadonly(e,t,i,r,n,a){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",r,t)}},W2e=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,k8=/[a-z_0-9]+/gi,ze=class extends ci{constructor(e,t,i,r,n){super(n),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=n===void 0,this.isInterface=!1,this.parse(e,t,i,r)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,i,r,n){let a,c=0,l=this.src;if(this.includes)for(let s=0;s<this.includes.length;s++)e.include(this.includes[s],this);for(let s in this.extensions)e.extensions[s]=!0;let o=[];for(;a=k8.exec(this.src);)o.push(a);for(let s=0;s<o.length;s++){let u=o[s],d=u[0],h=this.isMethod?!this.getInputByName(d):!0,p=d;if(this.keywords[d]||this.useKeywords&&h&&Jn.containsKeyword(d)){let m=this.keywords[d];if(!m){let f=Jn.getKeywordData(d);f.cache&&(m=e.keywords[d]),m=m||Jn.getKeyword(d,e),f.cache&&(e.keywords[d]=m)}p=m.build(e)}d!==p&&l[u.index+c-1]!=="."&&(l=l.substring(0,u.index+c)+p+l.substring(u.index+d.length+c),c+=p.length-d.length),this.getIncludeByName(p)===void 0&&Jn.contains(p)&&e.include(Jn.get(p))}return t==="source"?l:this.isMethod?(this.isInterface||e.include(this,void 0,l),this.name):e.format("( "+l+" )",this.getType(e),t)}parse(e,t,i,r){if(this.src=e||"",this.includes=t??[],this.extensions=i??{},this.keywords=r??{},this.isMethod){let n=W2e.exec(this.src);if(this.inputs=[],n&&n.length==4){this.type=n[1],this.name=n[2];let a=n[3].match(k8);if(a){let c=0;for(;c<a.length;){let l=a[c++],o;l==="in"||l==="out"||l==="inout"?o=a[c++]:(o=l,l="");let s=a[c++];this.inputs.push({name:s,type:o,qualifier:l})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},q2e=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,bV=class extends ci{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||bV.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,i,r,n){this.src=e||"";let a,c,l="",o=q2e.exec(e);this.useDefine=n??this.src.charAt(0)==="#",o&&o.length>1?(c=o[1],a=o[2],l=o[3]):(a=this.src,c="f"),this.name=a,this.type=c,this.value=l}build(e,t){if(t==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,i,r,n){return e.format(this.name,this.getType(e),t)}},Zt=bV;Zt.PI="PI",Zt.PI2="PI2",Zt.RECIPROCAL_PI="RECIPROCAL_PI",Zt.RECIPROCAL_PI2="RECIPROCAL_PI2",Zt.LOG2="LOG2",Zt.EPSILON="EPSILON";var Y2e=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),K2e=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),xV=class extends ci{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,i,r,n){return t==="source"?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=Y2e.exec(e);if(t){let i=t[2],r;for(;r=K2e.exec(i);)this.inputs.push({type:r[1],name:r[2]});this.name=t[1]}else this.name="";this.type=this.name}},tj=class extends ci{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let i=this.index>0?this.index+1:"",r=e.isShader("vertex")?"uv"+i:"vUv"+i;return e.format(r,this.getType(e),t)}};Jn.addKeyword("uv",function(){return new tj});Jn.addKeyword("uv2",function(){return new tj(1)});var kh=class extends ci{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??kh.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case Ao:return["Linear"];case Et:return["sRGB"];default:return[]}}generate(e,t){var c;let i=this.input.build(e,"v4"),r=this.getType(e),n=kh.Nodes[this.method],a=e.include(n);if(a===kh.LINEAR_TO_LINEAR)return e.format(i,r,t);if(((c=n.inputs)==null?void 0:c.length)===2){let l=this.factor.build(e,"f");return e.format(a+"( "+i+", "+l+" )",r,t)}else return e.format(a+"( "+i+" )",r,t)}fromEncoding(e){let t=kh.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=kh.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},os=kh;os.Nodes={LinearToLinear:new ze(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new ze(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new ze(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},os.LINEAR_TO_LINEAR="LinearToLinear",os.SRGB_TO_LINEAR="sRGBToLinear",os.LINEAR_TO_SRGB="LinearTosRGB";var xi=class extends ze{constructor(e="",t,i,r,n){super(e,n,r,i,t),this.nodeType="Expression"}},ol=class extends oa{constructor(e=new Ni,t,i,r){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new tj,this.bias=i,this.project=r!==void 0?r:!1}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if(t==="sampler2D")return this.getTexture(e,t);let i=this.getTexture(e,t),r=this.uv.build(e,this.project?"v4":"v2"),n=this.bias?this.bias.build(e,"f"):void 0;n===void 0&&e.context.bias&&(n=e.context.bias.setTexture(this).build(e,"f"));let a,c;this.project?a="texture2DProj":a=n?"tex2DBias":"tex2D",n?c=a+"( "+i+", "+r+", "+n+" )":c=a+"( "+i+", "+r+" )";let l={include:e.isShader("vertex"),ignoreCache:!0},o=this.getType(e);return e.addContext(l),this.colorSpace=this.colorSpace??new os(new xi("",o)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(c),c=this.colorSpace.build(e,o),e.removeContext(),e.format(c,o,t)}},Ge=class extends oa{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,i,r,n,a){return e.format(this.value+(this.value%1?"":".0"),r,t)}},D8=class extends ci{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,i,r,n){r=this.getType(e);let a=this.value,c=a.build(e,t)+"( ",l=[];if(a.inputs){for(let o=0;o<a.inputs.length;o++){let s=a.inputs[o],u=this.inputs[o]||this.inputs[s.name];l.push(u.build(e,e.getTypeByFormat(s.type)))}c+=l.join(", ")+" )"}return e.format(c,r,t)}},wV=class extends ci{constructor(e,t,i=wV.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=i}getType(e){let t=this.a.getType(e),i=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(i)>e.getTypeLength(t)?i:t}generate(e,t){let i=this.getType(e);this.type=i;let r=this.a.build(e,i),n=this.b.build(e,i);return e.format("( "+r+" "+this.op+" "+n+" )",i,t)}},Wn=wV;Wn.ADD="+",Wn.SUB="-",Wn.MUL="*",Wn.DIV="/";var ii=class extends ci{constructor(e,t=ii.ABS,i,r){super(),this.nodeType="Math",this.a=e,typeof t!="string"?this.b=t:r=t,typeof i!="string"?this.c=i:r=i,this.method=r,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case ii.MIX:case ii.CLAMP:case ii.REFRACT:case ii.SMOOTHSTEP:case ii.FACEFORWARD:return 3;case ii.MIN:case ii.MAX:case ii.MOD:case ii.STEP:case ii.REFLECT:case ii.DISTANCE:case ii.DOT:case ii.CROSS:case ii.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),i=this.b?e.getTypeLength(this.b.getType(e)):0,r=this.c?e.getTypeLength(this.c.getType(e)):0;return t>i&&t>r?this.a.getType(e):i>r?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case ii.LENGTH:case ii.DISTANCE:case ii.DOT:return"f";case ii.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let i,r,n,a=this.a?e.getTypeLength(this.a.getType(e)):0,c=this.b?e.getTypeLength(this.b.getType(e)):0,l=this.c?e.getTypeLength(this.c.getType(e)):0,o=this.getInputType(e),s=this.getType(e);switch(this.type=s,this.method){case ii.NEGATE:return e.format("( -"+this.a.build(e,o)+" )",o,t);case ii.INVERT:return e.format("( 1.0 - "+this.a.build(e,o)+" )",o,t);case ii.CROSS:i=this.a.build(e,"v3"),r=this.b.build(e,"v3");break;case ii.STEP:i=this.a.build(e,a===1?"f":o),r=this.b.build(e,o);break;case ii.MIN:case ii.MAX:case ii.MOD:i=this.a.build(e,o),r=this.b.build(e,c===1?"f":o);break;case ii.REFRACT:i=this.a.build(e,o),r=this.b.build(e,o),n=this.c.build(e,"f");break;case ii.MIX:i=this.a.build(e,o),r=this.b.build(e,o),n=this.c.build(e,l===1?"f":o);break;default:i=this.a.build(e,o),this.b&&(r=this.b.build(e,o)),this.c&&(n=this.c.build(e,o));break}let u=[];u.push(i),r&&u.push(r),n&&u.push(n);let d=this.getNumInputs(e);if(u.length!==d)throw Error(`Arguments not match used in "${this.method}". Require ${d}, currently ${u.length}.`);return e.format(this.method+"( "+u.join(", ")+" )",s,t)}},St=ii;St.RAD="radians",St.DEG="degrees",St.EXP="exp",St.EXP2="exp2",St.LOG="log",St.LOG2="log2",St.SQRT="sqrt",St.INV_SQRT="inversesqrt",St.FLOOR="floor",St.CEIL="ceil",St.NORMALIZE="normalize",St.FRACT="fract",St.SATURATE="saturate",St.SIN="sin",St.COS="cos",St.TAN="tan",St.ASIN="asin",St.ACOS="acos",St.ARCTAN="atan",St.ABS="abs",St.SIGN="sign",St.LENGTH="length",St.NEGATE="negate",St.INVERT="invert",St.MIN="min",St.MAX="max",St.MOD="mod",St.STEP="step",St.REFLECT="reflect",St.DISTANCE="distance",St.DOT="dot",St.CROSS="cross",St.POW="pow",St.MIX="mix",St.CLAMP="clamp",St.REFRACT="refract",St.SMOOTHSTEP="smoothstep",St.FACEFORWARD="faceforward";var Rm=class extends ci{constructor(e,t,i){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=i}bilinearCubeUV(e,t,i,r){let n=new D8(Rm.Nodes.bilinearCubeUV,[t,i,r]);this.colorSpaceTL=this.colorSpaceTL??new os(new xi("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(n.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new os(new xi("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(n.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new os(new xi("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(n.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new os(new xi("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(n.build(e)+".br");let a={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(a),this.colorSpaceTLExp=new xi(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new xi(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new xi(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new xi(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let c=new xi("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return c.keywords.cubeUV_TL=this.colorSpaceTLExp,c.keywords.cubeUV_TR=this.colorSpaceTRExp,c.keywords.cubeUV_BL=this.colorSpaceBLExp,c.keywords.cubeUV_BR=this.colorSpaceBRExp,c.keywords.cubeUV=n,c}generate(e,t){if(e.isShader("fragment")){let i=this.uv,r=this.bias||e.context.roughness,n=new D8(Rm.Nodes.roughnessToMip,[r]),a=new St(n,Rm.Nodes.m0,Rm.Nodes.cubeUV_maxMipLevel,St.CLAMP),c=new St(a,St.FLOOR),l=new St(a,St.FRACT),o=this.bilinearCubeUV(e,this.value,i,c),s=this.bilinearCubeUV(e,this.value,i,new Wn(c,new Ge(1).setReadonly(!0),Wn.ADD)),u=new St(o,s,l,St.MIX);return e.format(u.build(e),"v4",t)}else return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},ST=Rm;ST.Nodes=function(){let e=new xV(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),t=new Zt("float cubeUV_maxMipLevel 8.0",!0),i=new Zt("float cubeUV_minMipLevel 4.0",!0),r=new Zt("float cubeUV_maxTileSize 256.0",!0),n=new Zt("float cubeUV_minTileSize 16.0",!0),a=new ze(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);a.useKeywords=!1;let c=new ze(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);c.useKeywords=!1;let l=new ze(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[e,a,c,t,i,r,n]);l.useKeywords=!1;let o=new Zt("float r0 1.0",!0),s=new Zt("float v0 0.339",!0),u=new Zt("float m0 -2.0",!0),d=new Zt("float r1 0.8",!0),h=new Zt("float v1 0.276",!0),p=new Zt("float m1 -1.0",!0),m=new Zt("float r4 0.4",!0),f=new Zt("float v4 0.046",!0),g=new Zt("float m4 2.0",!0),v=new Zt("float r5 0.305",!0),S=new Zt("float v5 0.016",!0),x=new Zt("float m5 3.0",!0),b=new Zt("float r6 0.21",!0),_=new Zt("float v6 0.0038",!0),w=new Zt("float m6 4.0",!0),C=[o,s,u,d,h,p,m,f,g,v,S,x,b,_,w],E=new ze(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,C);return{bilinearCubeUV:l,roughnessToMip:E,m0:u,cubeUV_maxMipLevel:t}}();var Dh=class extends ci{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??Dh.VIEW}getShared(){return this.scope===Dh.WORLD}build(e,t,i,r){let n=e.context[this.scope+"Normal"];return n?n.build(e,t,i,r):super.build(e,t,i)}generate(e,t,i,r,n){let a;switch(this.scope){case Dh.VIEW:e.isShader("vertex")?a="transformedNormal":a="geometryNormal";break;case Dh.LOCAL:e.isShader("vertex")?a="objectNormal":(e.requires.normal=!0,a="vObjectNormal");break;case Dh.WORLD:e.isShader("vertex")?a="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,a="vWNormal");break}return e.format(a,this.getType(e),t)}},$n=Dh;$n.LOCAL="local",$n.WORLD="world",$n.VIEW="view",$n.NORMAL="normal";Jn.addKeyword("viewNormal",function(){return new $n($n.VIEW)});Jn.addKeyword("localNormal",function(){return new $n($n.NORMAL)});Jn.addKeyword("worldNormal",function(){return new $n($n.WORLD)});var qs=class extends ci{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??qs.LOCAL}getType(){switch(this.scope){case qs.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case qs.LOCAL:case qs.WORLD:return!1}return!0}generate(e,t,i,r,n){let a;switch(this.scope){case qs.LOCAL:e.isShader("vertex")?a="transformed":(e.requires.position=!0,a="vPosition");break;case qs.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,a="vWPosition";break;case qs.VIEW:a=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case qs.PROJECTION:a=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return e.format(a,this.getType(),t)}},xo=qs;xo.LOCAL="local",xo.WORLD="world",xo.VIEW="view",xo.PROJECTION="projection";Jn.addKeyword("position",function(){return new xo});Jn.addKeyword("worldPosition",function(){return new xo(xo.WORLD)});Jn.addKeyword("viewPosition",function(){return new xo(xo.VIEW)});var Ko=class extends ci{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??Ko.CUBE}getUnique(e){return!e.context.viewNormal}getType(){switch(this.scope){case Ko.SPHERE:return"v2"}return this.type}generate(e,t){let i=this.getUnique(e);if(e.isShader("fragment")){let r;switch(this.scope){case Ko.VECTOR:{let n=new $n($n.VIEW),a=e.context.roughness,c=n.build(e,"v3"),l=new xo(xo.VIEW).build(e,"v3"),o=a?a.build(e,"f"):void 0,s=`reflect( -normalize( ${l} ), ${c} )`;o&&(s=`normalize( mix( ${s}, ${c}, ${o} * ${o} ) )`);let u=`inverseTransformDirection( ${s}, viewMatrix )`;i?(e.addNodeCode(`vec3 reflectVec = ${u};`),r="reflectVec"):r=u;break}case Ko.CUBE:{let n=new Ko(Ko.VECTOR).build(e,"v3"),a="vec3( -"+n+".x, "+n+".yz )";i?(e.addNodeCode(`vec3 reflectCubeVec = ${a};`),r="reflectCubeVec"):r=a;break}case Ko.SPHERE:{let n="normalize( ( viewMatrix * vec4( "+new Ko(Ko.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";i?(e.addNodeCode(`vec2 reflectSphereVec = ${n};`),r="reflectSphereVec"):r=n;break}}return e.format(r,this.getType(),t)}else return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},Cp=Ko;Cp.CUBE="cube",Cp.SPHERE="sphere",Cp.VECTOR="vector";var X2e=class extends ci{constructor(e=new ol,t,i){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new ST(this.value,t??new Cp(Cp.VECTOR),i),this.irradianceNode=new ST(this.value,new $n($n.WORLD),new Ge(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),(e.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},J2e=class extends oa{constructor(e=new nM,t,i){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new Cp,this.bias=i}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){var o;if(t==="samplerCube")return this.getTexture(e,t);let i=this.getTexture(e,t),r=(o=this.uv)==null?void 0:o.build(e,"v3"),n=this.bias?this.bias.build(e,"f"):void 0;n===void 0&&e.context.bias&&(n=e.context.bias.setTexture(this).build(e,"f"));let a;n?a="texCubeBias( "+i+", "+r+", "+n+" )":a="texCube( "+i+", "+r+" )";let c={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(c),this.colorSpace=this.colorSpace??new os(new xi("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(a),a=this.colorSpace.build(e,l),e.removeContext(),e.format(a,l,t)}},Q2e=`
uniform int frameIndex;
uniform vec2 resolution;
uniform mat4 previousModelViewMatrix;
uniform mat4 previousProjectionMatrix;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;
`,$2e=`
layout(location = 1) out vec4 gVelocity;

uniform int frameIndex;
uniform vec2 resolution;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;

const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}

// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso
float getNoiseInterleavedGradient(vec2 screenPos) {
    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);
    return fract(magic.z * fract(dot(screenPos, magic.xy)));
}

`,Z2e=`
// TODO: This could be generated CPU side and passed to the shader every frame
const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

// TODO: Pass correct view size
vec2 offset = haltonSequence[frameIndex];
offset.x /= resolution.x;
offset.y /= resolution.y;

vec4 currentPosition = gl_Position;
vec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);

// We want to calculate the velocity with unjittered positions
// so that things that are not moving get a velocity = 0
vCurrentPosition = currentPosition;
vPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);
#ifdef OUTLINE_COMPENSATION
vPreviousPosition.xy += OUTLINE_COMPENSATION;
#endif
gl_Position = currentPositionJittered;

`,ewe=`
vec2 oldPos = vPreviousPosition.xy;
    oldPos /= vPreviousPosition.w;
    oldPos.xy = (oldPos.xy+1.)/2.0;

vec2 newPos = vCurrentPosition.xy;
    newPos /= vCurrentPosition.w;
    newPos.xy = (newPos.xy+1.)/2.0;

vec2 velocity = (newPos - oldPos);

// Discard fully transparent pixels 
if (gl_FragColor.a <= 0.0) discard;

gVelocity = vec4(velocity, 0.0, 1.0);
`,twe=`
layout(location = 1) out vec4 gVelocity;
`,iwe=`
    // Discard fully transparent pixels 
    if (gl_FragColor.a <= 0.0) discard;

    gVelocity = vec4(0.0, 0.0, 0.0, 1.0);
`,O8=["x","y","z","w"],rwe=["float","vec2","vec3","vec4"],nwe={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},awe={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},_V=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,i){return t.deps.length-i.deps.length}return function(t,i){let r=this.getIncludes(t,i);if(!r)return"";let n="";r=r.sort(e);for(let a=0;a<r.length;a++)r[a].src&&(n+=r[a].src+`
`);return n}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode(Q2e),this.addFragmentParsCode($2e),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let i=0;i<this.requires.uv.length;i++)if(this.requires.uv[i]){let r=i>0?i+1:"";this.addVaryCode("varying vec2 vUv"+r+";"),i>0&&this.addVertexParsCode("attribute vec2 uv"+r+";"),this.addVertexFinalCode("vUv"+r+" = uv"+r+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode(`
				#ifndef SHAPEBLEND 
					vObjectNormal = normal;
				#else
					vObjectNormal = objectNormal;
				#endif
			`)),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode(Z2e),this.addFragmentFinalCode(ewe)),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,i){return this.addSlot(e).addCache(t).addContext(i)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){this.fragmentVariables[e]===void 0&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){this.fragmentParsVariables[e]===void 0&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){this.vertexParsVariables[e]===void 0&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+`
`}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+`
`}clearNodeCode(e){e=e??this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+`
`}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+`
`}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return this.caches.indexOf(e)!==-1}isSlot(e){return this.slots.indexOf(e)!==-1}define(e,t){this.defines[e]=t===void 0?1:t}require(e){this.requires[e]=!0}isDefined(e){return this.defines[e]!==void 0}getVar(e,t,i,r="varying",n="V",a=""){let c=this.getVars(r),l=c[e];if(!l){let o=c.length;l={name:i||"node"+n+o+(a?"_"+a:""),type:t},c.push(l),c[e]=l}return l}getTempVar(e,t,i,r){return this.getVar(e,t,i,this.shader,"T",r)}getAttribute(e,t){if(!this.attributes[e]){let i=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(i.name+" = "+e+";"),this.attributes[e]={varying:i,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join(`
`)}getVarListCode(e,t){t=t??"";let i="";for(let r=0,n=e.length;r<n;++r){let a=e[r],c=a.type,l=a.name,o=a.size,s=this.getFormatByType(c);if(s===void 0)throw new Error("Node pars "+s+" not found.");s.includes("[]")?i+=t+" "+s.substring(0,s.length-2)+" "+l+`[${o}];
`:i+=t+" "+s+" "+l+`;
`}return i}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof vr?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,i,r,n,a){if(t.includes("[]")){let c=this.inputs.arrayUniforms,l=c.list.length,o=new P8({type:t,size:i.size,name:r||"nodeUA"+l+(a?"_"+a:""),node:i,needsUpdate:n});return c.list.push(o),c[e].push(o),c[e][o.name]=o,this.uniforms[o.name]=o,o}else{let c=this.inputs.uniforms,l=c.list.length,o=new P8({type:t,name:r||"nodeU"+l+(a?"_"+a:""),node:i,needsUpdate:n});return c.list.push(o),c[e].push(o),c[e][o.name]=o,this.uniforms[o.name]=o,o}}createVertexUniform(e,t,i,r,n){return this.createUniform("vertex",e,t,i,r,n)}createFragmentUniform(e,t,i,r,n){return this.createUniform("fragment",e,t,i,r,n)}include(e,t,i){var a;let r;if(e=typeof e=="string"?Jn.get(e):e,this.context.include===!1)return e.name;e instanceof ze?r=this.includes.functions:e instanceof Zt?r=this.includes.consts:e instanceof xV&&(r=this.includes.structs);let n=r[this.shader]=r[this.shader]||[];if(e){let c=n[e.name];if(c||(c=n[e.name]={node:e,deps:[]},n.push(c),c.src=e.build(this,"source")),e instanceof ze&&t&&n[t.name]&&n[t.name].deps.indexOf(e)===-1&&(n[t.name].deps.push(e),(a=e.includes)==null?void 0:a.length)){let l=0;do this.include(e.includes[l++],t);while(l<e.includes.length)}return i&&(c.src=i),e.name}else throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return rwe[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return e==="f"?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return e===1?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let i=e[t];if(i!=null&&i.isNode)return i}}resolve(...e){for(let t=0;t<arguments.length;t++){let i=e[t];if(i!==void 0){if(i.isNode)return i;if(i.isTexture)switch(i.mapping){case Md:case jd:return new J2e(i);case Vv:return new X2e(new ol(i));default:return new ol(i)}else{if(i.isVector2)return new Yr(i);if(i.isVector3)return new Ia(i);if(i.isVector4)return new Js(i)}}}}format(e,t,i){switch(this.colorToVector(i+" <- "+t)){case"f <- v2":return e+".x";case"f <- v3":return e+".x";case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":return e+".xy";case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":return"int( "+e+".x )";case"i <- v3":return"int( "+e+".x )";case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return nwe[e]||e}getFormatByType(e){return awe[e]||e}getUUID(e,t){return t=t!==void 0?t:!0,t&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return O8[e]}getIndexByElement(e){return O8.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=Ao,t===Ao&&this.context.gamma&&(t=Et),t}},Gi=class extends oa{constructor(e=0,t,i,r){super("c"),this.nodeType="Color",this.value=e instanceof rn?e:new rn(e||0,t,i,r)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,i,r,n,a){i=e.getUUID(i??this.getUUID()),r=r??this.getType(e);let c=e.getNodeData(i),l=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let o=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${o};`)}return l?this.generateReadonly(e,t,i,r,n,a):e.isShader("vertex")?(c.vertex||(c.vertex=e.createVertexUniform(r,this,n,a,this.getLabel())),e.format(c.vertex.name,r,t)):(c.fragment||(c.fragment=e.createFragmentUniform(r,this,n,a,this.getLabel())),e.format(c.fragment.name,r,t))}generateReadonly(e,t,i,r,n,a){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",r,t)}},di=class extends oa{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,i,r,n,a){return e.format(this.value.toString(),r,t)}},Pn=class extends oa{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,i,r){return e.format(this.value?"true":"false",r,t)}},Nu=class extends oa{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:typeof t=="number"?new Array(e).fill(t):new Array(e).fill(0)}},ij=class extends oa{},owe=class extends ij{constructor(e){super("v3"),this.image=e,this._value=new N}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},CT=class extends ij{constructor(e,t,i=1008,r=1006){super("t"),this.image=e,this.wrap=t,this.minFilter=i,this.magFilter=r}get value(){return this.image.getTexture(this.wrap,this.minFilter,this.magFilter)}},SV=class extends oa{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new or}generateReadonly(e,t,i,r,n,a){return e.format("mat3("+this.value.elements.join(", ")+")",r,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},Es=class extends oa{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new Ie}generateReadonly(e,t,i,r,n,a){return e.format("mat4("+this.value.elements.join(", ")+")",r,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function R8(e,t,i,r=0){e.setUvTransform(i[0],i[1],t[0],t[1],0,0,0).premultiply(new or().makeRotation(r*Ve.DEG2RAD))}var swe=class extends SV{constructor(e,t,i=0){super(new or),this.repeat=e,this.offset=t,this.rotation=i,R8(this.value,e,t,i)}updateMatrix(){R8(this.value,this.repeat,this.offset,this.rotation)}},Lu=class extends oa{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof vt?new Array(e).fill(t):new Array(e).fill(new vt(0))}},N8=class extends ci{constructor(e,t,i,r){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=i,this.mode=r}generate(e,t){if(e.isShader("fragment")){let i=[];return i.push(this.a.build(e,"c")),i.push(this.b.build(e,"c")),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),e.format("spe_blend("+i.join(",")+")",this.getType(e),t)}else return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},CV=class extends ci{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let i=e.include(CV.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let r=[];return r.push(this.color.build(e,"v3")),r.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},ET=CV;ET.Nodes=function(){return{customColor:new ze(`vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color;
			}`)}}();var EV=class extends ci{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let i=e.include(EV.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let r=[];return r.push(this.cnormal.build(e,"v3")),r.push("normal"),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},TV=EV;TV.Nodes=function(){return{customNormal:new ze(`vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return normal;
			}`)}}();var Nm=class extends ci{constructor(e,t,i,r,n,a,c,l,o,s,u,d){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=i,this.projection=r,this.axis=n,this.side=a,this.size=c,this.blending=l,this.mat=o,this.isMask=d,this.alpha=s,this.mode=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let i=`g${this.uuid.toString().replace(/-/g,"")}`,r;switch(this.projection.value){case 3:r=e.include(Nm.Nodes.cylindrical);break;case 2:r=e.include(Nm.Nodes.spherical);break;case 1:let a=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],c=["zy","xz","xy"][this.axis.value],l=new ze(`
		vec3 ${i}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 projected = (1. + (position.${c})) / 2.;
				vec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, ${a}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`);r=e.include(l);break;case 4:r=e.include(Nm.Nodes.triplanar);break;default:r=e.include(Nm.Nodes.uv);break}e.addFragmentVariable(this.calpha,"float");let n=[];if(n.push("normal"),n.push(this.texture.generate(e,"t")),n.push(this.textureSize.build(e,"v2")),n.push(this.crop.build(e,"f")),n.push(this.mat.build(e,"mat3")),n.push(this.size.build(e,"v2")),n.push(this.blending.build(e,"f")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),this.projection.value===4){let a=`${i}_writeUvs`,c=a+"0",l=a+"1",o=a+"2",s=`${i}_triplanarWeights`;e.addFragmentVariable(c,"vec2"),e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(o,"vec2"),e.addFragmentVariable(s,"vec3"),n.push(c),n.push(l),n.push(o),n.push(s)}else{let a=`${i}_writeUvs`;e.addFragmentVariable(a,"vec2"),n.push(a)}return e.format(r+"("+n.join(",")+")",this.getType(e),t)}},rj=Nm;rj.Nodes=function(){let e=new ze(`
vec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),t=new ze(`
vec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),i=new ze(`vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`),r=new ze(`vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {
				vec3 p = position;
				vec2 uv0 = (1.0 + p.xy) / 2.0;     
				vec2 uv1 = (1.0 + p.zy) / 2.0;		
				vec2 uv2 = (1.0 + p.xz) / 2.0;		
	
				uv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;

				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));

				// Write out all sets of UVs that we generated
				writeUvs0 = uv0;
				writeUvs1 = uv1;
				writeUvs2 = uv2;
				writeWeights = weights;

				// Derivatives for LOD
				vec2 df0 = fwidth(uv0);
				vec2 df1 = fwidth(uv1);
				vec2 df2 = fwidth(uv2);
				if (df0.x > 0.5) df0.x = 0.0;
				if (df1.x > 0.5) df1.x = 0.0;
				if (df2.x > 0.5) df2.x = 0.0;

				#ifdef GL_EXT_shader_texture_lod
                	vec4 tmp = 
						texture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						texture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						texture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#else
                	vec4 tmp = 
						textureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						textureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						textureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;

				// Apply cropping across all 3 planes
				if ( crop > 0.5 ) {
					if ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;//n * 0.5 + 0.5;
			}			
			`);return{cylindrical:e,spherical:t,uv:i,triplanar:r}}();var Lm=class extends ci{constructor(e,t,i,r,n,a,c,l,o,s,u,d){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=i,this.far=r,this.isVector=n,this.isWorldSpace=a,this.origin=c,this.direction=l,this.colors=o,this.steps=s,this.isMask=d,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let i=`g${this.uuid.toString().replace(/-/g,"")}`,r=new ze(`vec3 ${i}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${i}_MAX_COLORS], float steps[${i}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${i}_IS_VECTOR
                   #ifdef ${i}_LINEAR
                       #ifdef ${i}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${i}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${i}_SMOOTH
				for ( int i = 1; i < ${i}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${i}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a * mask;
               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
			   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
			   
               return color.rgb;
			}`,[Lm.Nodes.vectorLinearWorldSpaceDepth,Lm.Nodes.vectorLinearObjectSpaceDepth,Lm.Nodes.vectorSphericalObjectSpaceDepth,Lm.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${i}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${i}_SMOOTH`),this.isVector.value>.5&&e.define(`${i}_IS_VECTOR`),this.gradientType.value===0&&e.define(`${i}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${i}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let n=e.include(r),a=[];return a.push(this.near.build(e,"f")),a.push(this.far.build(e,"f")),a.push(this.origin.build(e,"v3")),a.push(this.direction.build(e,"v3")),a.push(this.colors.build(e,"v4[]")),a.push(this.steps.build(e,"f[]")),a.push(this.isMask.build(e,"b")),a.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),a.push(this.alpha.build(e,"f")),a.push(this.calpha),e.format(n+"("+a.join(",")+")",this.getType(e),t)}else return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},AV=Lm;AV.Nodes=function(){let e=new ze(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),t=new ze(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),i=new ze(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),r=new ze(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:e,vectorLinearObjectSpaceDepth:t,vectorSphericalWorldSpaceDepth:i,vectorSphericalObjectSpaceDepth:r}}();var lwe=class extends ci{constructor(e,t,i,r,n,a,c,l){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=i,this.intensity=r,this.factor=n,this.isMask=l,this.alpha=a,this.mode=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let i=new ze(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {
					float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

					float lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return color;
				}`),r=e.include(i),n=[];return n.push(this.color.build(e,"c")),n.push(this.bias.build(e,"f")),n.push(this.scale.build(e,"f")),n.push(this.intensity.build(e,"f")),n.push(this.factor.build(e,"f")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},MV=class extends ci{constructor(e,t,i,r,n,a,c,l,o){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=i,this.steps=r,this.offset=n,this.morph=a,this.angle=c,this.isMask=o,this.alpha=l,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(MV.Nodes.gradient),r=[];return r.push(this.gradientType.build(e,"i")),r.push(this.smooth.build(e,"b")),r.push(this.colors.build(e,"v4[]")),r.push(this.steps.build(e,"f[]")),r.push(this.offset.build(e,"v2")),r.push(this.morph.build(e,"v2")),r.push(this.angle.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},jV=MV;jV.Nodes=function(){return{gradient:new ze(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
				
				return color.xyz;
			}`)}}();var IV=class extends ci{constructor(e,t,i,r,n){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=r,this.alpha=t,this.mode=i,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`,this.rotation=n}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let i=e.include(IV.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let r=[];return r.push(this.texture.generate(e,"t")),r.push("normal"),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),r.push(this.rotation.build(e,"f")),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},PV=IV;PV.Nodes=function(){return{matcap:new ze(`vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha, float rotation) {
					vec3 viewDir = normalize( vViewPosition );
					vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
					vec3 y = cross( viewDir, x );
					vec2 uv = vec2( dot( x, normal ), dot( y, normal ) );
					uv = mat2( cos(rotation), sin(rotation), -sin(rotation), cos(rotation) ) * uv;
					uv = uv * 0.495 + 0.5;
					vec4 matcapColor = texture2D( matcapTex, uv );

					float lalpha = alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
					
					return matcapColor.rgb;
            	}`)}}();var Kn=function(){let e=new ze(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),t=new ze(`float simplexFast(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 mediump vec3 x = p - s + dot(s, vec3(G3));
			 mediump vec3 hs = s;
			 
			 mediump vec3 e = step(vec3(0.0), x - x.yzx);
			 mediump vec3 i1 = e*(1.0 - e.zxy);
			 mediump vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 mediump vec3 x1 = x - i1 + G3;
			 mediump vec3 x2 = x - i2 + 2.0*G3;
			 mediump vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 mediump vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(hs), x);
			 d.y = dot(random3(hs + i1), x1);
			 d.z = dot(random3(hs + i2), x2);
			 d.w = dot(random3(hs + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);t.keywords.F3=new Zt("float F3 0.3333333"),t.keywords.G3=new Zt("float G3 0.1666667");let i=new ze(`float simplexPrecise(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);i.keywords.F3=new Zt("float F3 0.3333333"),i.keywords.G3=new Zt("float G3 0.1666667");let r=new ze(`float simplexFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplexFast(m * rot1)
				 + 0.2666667 * simplexFast(2.0 * m * rot2)
				 + 0.1333333 * simplexFast(4.0 * m * rot3)
				 + 0.0666667 * simplexFast(8.0 * m);
		}`,[t]),n=new ze("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),a=new ze("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),c=new ze(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[n,a]),l=new ze("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),o=new ze("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[l]),s=new ze(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[o]),u=new ze(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[s]);u.keywords.NUM_OCTAVES=new Zt("int NUM_OCTAVES 5");let d=new ze("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),h=new ze(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[n,a,d]),p=new ze(`float hashwithoutsine13(vec3 p3)
		{
			p3  = fract(p3 * .1031);
			p3 += dot(p3, p3.yzx + 33.33);
			return fract((p3.x + p3.y) * p3.z);
		}`),m=new ze(`vec3 hashwithoutsine33(vec3 p3)
		{
			p3 = fract(p3 * vec3(.1031, .1030, .0973));
			p3 += dot(p3, p3.yxz+33.33);
			return fract((p3.xxy + p3.yxx)*p3.zyx);
		}`),f=new ze(`float metric(in vec3 p)
		{
			// L2 
			return length(p);

			// Chebyshev 
			// vec3 a = abs(p);
			// return max(a.x, max(a.y, a.z));
		}`),g=new ze(`float smin( float a, float b, float k )
		{
			float h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);
			float correction = k * h * (1.0 - h);
			return mix(b, a, h) - correction;
		}`),v=new ze(`float smax( float a, float b, float k )
		{
			float h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);
			float correction = k * h * (1.0 - h);
			return mix(a, b, h) + correction;
		}`),S=new ze(`float remap(float value, float input_min, float input_max, float output_min, float output_max) {
			// Compute width of each interval
			float input_width = input_max - input_min;
			float output_width = output_max - output_min;
		
			// Convert input range into a 0-1 range 
			float scaled = (value - input_min) / input_width;
		
			// Convert the 0-1 range into a value in output range
			return output_min + (scaled * output_width);
		}`),x=new ze(`float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) 
		{
			// Integer and fractional parts of this point's coordinates
			ivec3 p = ivec3(floor(x));
			vec3 f = fract(x);

			// Different variables that we will use to construct noise:
			//
			// f1: distance to the closest feature point
			// f2: distance to the second closest feature point
			// e: distance to the closest edge (cell boundary)
			//
			// We also compute "smooth" versions of all of the above quantites, essentially
			// replacing "hard" minimums with "smooth" minimums (described by IQ)
			float f1_smooth = 8.0;
			float f1 = 8.0;
			float f2_smooth = 8.0;
			float f2 = 8.0;
			float e_smooth = 8.0;
			float e = 8.0;

			// Variables stored from closest cell
			ivec3 mb;
			vec3 mr; 

			int steps = quality;
			
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				ivec3 b = ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d = length(r);
				
				f1_smooth = smin(d, f1_smooth, smoothness);

				// Store un-smoothed distances too 
				if (d < f1) 
				{
					f2 = f1;
					f1 = d;

					mb = ivec3(x, y, z);
					mr = r;
				} 
				else if (d < f2) 
				{
					f2 = d;
				}
			}	
			
			// Second pass for edge distance  
			// skip for styles don't need
			if (style != 0 &&  style != 5 && style != 7)
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				// Start search at the cell that contains the closest point to "x" (found in 1st pass)
				ivec3 b = mb + ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d1 = dot(0.5 * (mr + r), (r - mr)); 				// IQ normalizes "r - mr" but that breaks things for the smooth version?
				float d2 = dot(0.5 * (mr + r), normalize(r - mr));

				e_smooth = smin(d1, e_smooth, smoothness);

				e = min(e, d2);

				// Also compute a smooth version of F2 in this pass
				{
					ivec3 b = ivec3(x, y, z);
					if (b != mb) 
					{
						vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
						float d = length(r);

						f2_smooth = smin(d, f2_smooth, smoothness);
					}
				}
			}

			// Different visualization modes 
			if (style == 0) 
			{
				return f1_smooth;
			}
			if (style == 1) 
			{
				return f2_smooth;
			}
			if (style == 2) 
			{
				return f2_smooth - f1_smooth;
				
				// "Pebbles" also cool
				//return step(0.2, f2_smooth - f1_smooth);
			}
			if (style == 3) 
			{
				// This one is really good for rock / stone effects
				float a = f1; 
				float b = f2;
				float k = 3.0;
				float h = max(k - abs(a - b), 0.0) / k;
				float final = min(a, b) - h * h * k * (1.0 / 4.0);
				return final;
			}
			if (style == 4) 
			{
				// Some random adjustments to make this style stand out more 
				return exp(5.0 * e_smooth);
			}
			if (style == 5) 
			{
				return pow(f1_smooth, 3.0);
			}
			if (style == 6) 
			{				
				const float eps = 0.0125;

				// Thicker lines as the user increases the smoothness slider
				float thickness = smoothness * 0.25 + eps;

				// Blurrier lines as the user increases the smoothness slider
				float blur = pow(smoothness, 3.0) * 0.25 + eps;

				return smoothstep(
					thickness - thickness * blur, 
					thickness + thickness * blur, 
					e
				);
			}
			if (style == 7) 
			{
				return hashwithoutsine13(vec3(p + mb) + seed);
			}
		}
	`,[p,m,f,g,v,S]);return{simplexFast:t,simplexPrecise:i,simplexFractal:r,simplexAshima:c,fbm:u,perlin:h,voronoi:x}}(),kV=class extends ci{constructor(e,t,i,r,n,a,c,l,o,s,u,d,h,p,m,f,g,v,S){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=i,this.fA=r,this.fB=n,this.distortion=a,this.colorA=c,this.colorB=l,this.colorC=o,this.colorD=s,this.noiseType=d,this.voronoiStyle=p,this.highCut=m,this.lowCut=f,this.smoothness=g,this.seed=v,this.quality=S,this.isMask=h,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,i,r,n){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let a=["simplexFast","simplexFractal","simplexAshima","fbm","perlin","voronoi"][this.noiseType.value],c=a=="voronoi"?`
		float v = ${a}(st + move, voronoiStyle, smoothness, seed, quality);

		// Apply clipping to colors
		v = remap(v, lowCut, highCut, 0.0, 1.0);
		v = smax(v, 0.0, smoothness * 0.25);
		v = smin(v, 1.0, smoothness * 0.25);

		// Note that the voronoi mode only uses colors "A" and "C" from the UI 
		vec4 color = mix(colorA, colorC, v); 
		`:`
		vec3 q = vec3(${a}(st),
					   ${a}(st + vec3(1.0)),
					   ${a}(st + vec3(1.0)));
		vec3 r = vec3(${a}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
					  ${a}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
					  ${a}(st * q));
		float f = ${a}(st + r);
		vec4 color;
		color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
		color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
		color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));
		`,l=new ze(`vec3 ${a}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) 
			{
                // Prevent scale of zero 
				scale = max(abs(scale), 0.001);

				vec3 st = position / size;
				st /= scale;

				${c}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return clamp(color, 0.0, 1.0).rgb;
			}`,[Kn.simplexFast,Kn.simplexFractal,Kn.simplexAshima,Kn.fbm,Kn.perlin,Kn.voronoi]),o=e.include(l),s=[];return s.push(this.scale.build(e,"f")),s.push(this.size.build(e,"v3")),s.push(this.move.build(e,"f")),s.push(this.fA.build(e,"v2")),s.push(this.fB.build(e,"v2")),s.push(this.distortion.build(e,"v2")),s.push(this.colorA.build(e,"v4")),s.push(this.colorB.build(e,"v4")),s.push(this.colorC.build(e,"v4")),s.push(this.colorD.build(e,"v4")),s.push(this.voronoiStyle.build(e,"i")),s.push(this.highCut.build(e,"f")),s.push(this.lowCut.build(e,"f")),s.push(this.smoothness.build(e,"f")),s.push(this.seed.build(e,"f")),s.push(this.quality.build(e,"i")),s.push(this.isMask.build(e,"b")),s.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),s.push(this.alpha.build(e,"f")),s.push(this.calpha),e.format(o+"("+s.join(",")+")",this.getType(e),t)}};kV.numOctaves=5;var DV=class extends ci{constructor(e,t,i,r,n,a,c,l,o,s,u,d,h,p,m,f){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=i,this.contourWidth=r,this.contourThreshold=n,this.outlineThreshold=a,this.contourFrequency=c,this.outlineSmoothing=l,this.contourDirection=o,this.positionalLines=s,this.compensation=u,this.resolution=d,this.normalMap=h,this.depthMap=p,this.pixelRatio=m,this.alpha=f,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let i=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${i}_offset`),this.firstTime){let r=this.outlineWidth.build(e,"f"),n=this.resolution.build(e,"v2"),a=this.compensation.build(e,"b"),c=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(r,"uniform float"),e.addVertexParsVariable(n,"uniform vec2"),e.addVertexParsVariable(a,"uniform bool"),e.addVertexParsVariable(c,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`
                vID = randomColor.r;
                vec2 ${i}_offset = vec2(0.0);
                if (${a}) {
                    vec4 ${i}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${i}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    ${i}_offset = normalize(${i}_clipNormal.xy) / ${n} * (${r} / 2.0) * ${i}_clipPosition.w * 2.0 * ${c};
                    ${i}_clipPosition.xy += ${i}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${i}_clipPosition;
                }
            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(DV.Nodes.outline),n=[];return n.push(this.outlineColor.build(e,"c")),n.push(this.contourColor.build(e,"c")),n.push(this.outlineWidth.build(e,"f")),n.push(this.contourWidth.build(e,"f")),n.push(this.contourThreshold.build(e,"f")),n.push(this.outlineThreshold.build(e,"f")),n.push(this.contourFrequency.build(e,"f")),n.push(this.outlineSmoothing.build(e,"f")),n.push(this.contourDirection.build(e,"v3")),n.push(this.positionalLines.build(e,"b")),n.push(this.resolution.build(e,"v2")),n.push(this.normalMap.getTexture(e,"t")),n.push(this.depthMap.getTexture(e,"t")),n.push(this.pixelRatio.build(e,"f")),n.push(this.compensation.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),this.firstTime=!this.firstTime,e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},OV=DV;OV.Nodes=function(){let e=new ze(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    vec2 texelSize = (vec2(1.0) / resolution);
    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);
	uvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);
	uvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);
	uvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);
	uvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);
	uvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);
	uvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);
  	vec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new ze(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                //resultAlpha = 1.0;
                //result = vec3(sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha * mask;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				 
                 return result;
             }`,[e])}}();var Ys=class extends ci{constructor(e,t,i,r,n,a,c,l,o,s,u,d,h,p,m,f,g,v){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=i,this.blending=r,this.offset=n,this.colorA=a,this.colorB=c,this.frequency=l,this.size=o,this.variation=s,this.smoothness=u,this.zigzag=d,this.rotation=h,this.vertical=p,this.horizontal=m,this.sides=f,this.isMask=v,this.alpha=g,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float");let i;switch(this.style.value){case 0:i="circle";break;case 1:i="ring";break;case 2:i="polygon";break;case 3:i="xcross";break;case 4:i="diamond";break;case 5:i="checkerboard";break;case 6:i="line";break;case 7:i="wave";break;default:i="circle";break}let r=`g${this.uuid.toString().replace(/-/g,"")}`,n=new ze(`float hashwithoutsine12(vec2 p)
				{
					vec3 p3 = fract(vec3(p.xyx) * .1031);
					p3 += dot(p3, p3.yzx + 33.33);
					return fract((p3.x + p3.y) * p3.z);
				}`),a=new ze(`vec2 rotate_uv(in vec2 uv, float a, bool repeat) 
				{
					const float mid = 0.5;
					float radians = a * (PI / 180.0);
					vec2 rotated = vec2(
						cos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,
						cos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid
					);
					return repeat ? fract(rotated): rotated;
				}`),c="";if(this.projection.value===4){let u=this.style.value===2?`${i}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d=this.style.value===2?`${i}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,h=this.style.value===2?`${i}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`;c=`
				vec3 p = position;
				float factor = 0.0125;
				vec2 uv0 = fract(p.xy * factor);
				vec2 uv1 = fract(p.zy * factor);
				vec2 uv2 = fract(p.xz * factor);
				
				uv0 = rotate_uv(uv0 + offset, rotation, true);
				uv1 = rotate_uv(uv1 + offset, rotation, true);
				uv2 = rotate_uv(uv2 + offset, rotation, true);
	
				float d0 = ${u};
				float d1 = ${d};
				float d2 = ${h};
				
				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));
				d0 *= weights.z;
				d1 *= weights.x;
				d2 *= weights.y;
				float draw = d0 + d1 + d2;
	
				vec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;
				`}else{let u=this.style.value===2?`${i}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${i}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d="";this.axis.value===0?d=`float radius = length(p);
					float theta = atan(p.y, p.z);
					float phi = acos(p.x / radius);`:this.axis.value===1?d=`float radius = length(p);
					float theta = atan(p.x, p.z);
					float phi = acos(p.y / radius);`:(this.axis.value,d=`float radius = length(p);
					float theta = atan(p.y, p.x);
					float phi = acos(p.z / radius);`);let h="";switch(this.projection.value){case 0:h="custom_uv = vUv.st;";break;case 1:break;case 2:h=`
							vec3 p = position;
							${d}
							custom_uv = vec2(theta, phi);
							custom_uv /= PI;
							`;break}c=`
				vec2 custom_uv;
				${h}
	
				custom_uv += offset;
				custom_uv = fract(custom_uv);
				custom_uv = rotate_uv(custom_uv, rotation, true);
	
				float draw = ${u};
				`}let l=new ze(`vec3 ${r}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {
					const float TWO_PI = PI * 2.0;
					float smoothness_remapped = pow(smoothness, 5.0);	

					${c}

					// Construct final output color
					vec4 color = mix(colorA, colorB, draw);
					color.a = clamp(color.a, 0.0, 1.0);

					// Apply cuts
					color.a *= 
						step(vertical.x, custom_uv.y) * 
						step(custom_uv.y, vertical.y);
					color.a *= 
						step(horizontal.x, abs(custom_uv.x)) * 
						step(abs(custom_uv.x), horizontal.y);

					// Accumulate alpha 
					float lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return clamp(color, 0.0, 1.0).rgb;
				}`,[a,n,Ys.DrawFunctions.circle,Ys.DrawFunctions.ring,Ys.DrawFunctions.polygon,Ys.DrawFunctions.cross,Ys.DrawFunctions.diamond,Ys.DrawFunctions.checkerboard,Ys.DrawFunctions.line,Ys.DrawFunctions.wave]),o=e.include(l),s=[];return s.push("normal"),s.push(this.blending.build(e,"f")),s.push(this.style.build(e,"i")),s.push(this.offset.build(e,"v2")),s.push(this.colorA.build(e,"v4")),s.push(this.colorB.build(e,"v4")),s.push(this.frequency.build(e,"v2")),s.push(this.size.build(e,"f")),s.push(this.variation.build(e,"f")),s.push(this.smoothness.build(e,"f")),s.push(this.zigzag.build(e,"f")),s.push(this.rotation.build(e,"f")),s.push(this.vertical.build(e,"v2")),s.push(this.horizontal.build(e,"v2")),s.push(this.sides.build(e,"i")),s.push(this.isMask.build(e,"b")),s.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),s.push(this.alpha.build(e,"f")),s.push(this.calpha),e.format(o+"("+s.join(",")+")",this.getType(e),t)}else return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},RV=Ys;RV.DrawFunctions=function(){let e=new ze(`float hashwithoutsine12(vec2 p) {
				vec3 p3 = fract(vec3(p.xyx) * 0.1031);
				p3 += dot(p3, p3.yzx + 33.33);
				return fract((p3.x + p3.y) * p3.z);
			}`),t=new ze(`vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {
                // Create tiles in UV-space
                uv *= frequency;

                // Integer coords
                vec2 i = floor(uv);

                // Offset every other row based on zigzag param, then compute fractional coords
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = fract(uv);

				// Rotate the tile itself:
				// const float mid = 0.5;
				// f = vec2(
				// 	cos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,
				// 	cos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid
				// );
				// f = fract(f);

                f = f * 2.0 - 1.0;

				// Recompute integer coords after shifting - then, random value per tile 
				i = floor(uv);
				float rand = (hashwithoutsine12(i) * 5.0 + 1.0);
				float jitter = mix(1.0, rand, variation);
				f *= jitter;

                return f;
            }`,[e]),i=new ze(`float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(
                    -smoothness, 
                     smoothness, 
                     length(f) - size
                );
            }`,[t]),r=new ze(`float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);

				float d = length(f);
                const float inner_width = 0.5;

                float outer = smoothstep(-smoothness, smoothness, d - size);
                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);
				return outer + (1.0 - inner);   
            }`,[t]),n=new ze(`float sdf_ngon(in vec2 p, in float r, in int n) {
                float an = (PI * 2.0) / float(n);
                float he = r * tan(0.5 * an);
                
                // Rotate to first sector
                p = -p.yx; 
                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);
                vec2  cs = vec2(cos(bn), sin(bn));
                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;
            
                // Side of polygon
                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);
            }
            
            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));
            }`,[t]),a=new ze(`float sdf_cross(in vec2 p, in vec2 b, float r ) {
                p = abs(p); 
				p = (p.y > p.x) ? p.yx : p.xy;
                vec2  q = p - b;
                float k = max(q.y, q.x);
                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);
                return sign(k) * length(max(w, 0.0)) + r;
            }
            
            // Avoid namespace conflicts 
            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));
            }`,[t]),c=new ze(`float ndot(vec2 a, vec2 b) { 
                return a.x*b.x - a.y*b.y; 
            }
            
            float sdf_diamond(in vec2 p, in vec2 b) {
                p = abs(p);
                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);
                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));
                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);
            }

            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
	            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));
            }`,[t]),l=new ze(`float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                uv *= frequency;
                vec2 i = floor(uv);

                float offset = mod(i.y, 2.0);

                uv.x += offset + zigzag * offset;
                float x = floor(uv.x);
                
                return mod(x, 2.0);
            }`),o=new ze(`float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);
				
				// Different approach for variation param here
				float row = floor(uv * frequency).y;
				float rand = hashwithoutsine12(vec2(row));
				float s = mix(size, size * rand, variation);

				return smoothstep(
					s - smoothness, 
					s + smoothness, 
					abs(f.y)
				);
            }`,[t]),s=new ze(`// Uses bisection 
            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {
                // Convert all data to a primitive cosine wave
                p = c * (p - vec2(d, a));
                
                const float TWO_PI = PI * 2.0;

                // Reduce to principal half cycle
                p.x = mod(p.x, TWO_PI); 
                if (p.x > PI) {
                    p.x = TWO_PI - p.x;
                }
            
                // Find zero of derivative (minimize distance)
                float xa = 0.0;
                float xb = TWO_PI;

                // 24 bit precision
                for (int i = 0; i < 24; i++) {
                    float x = 0.5 * (xa + xb);
                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));
                    if (y < 0.0) xa = x; 
                    else xb = x;
                }
                float x = 0.5 * (xa + xb);
                
                // Compute distance    
                vec2 q = vec2(x, b * c * cos(x));
                return length(p - q) / c;
            }

            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                float repeat = frequency.x;
                uv *= repeat;
                vec2 i = floor(uv);
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = vec2(uv.x, fract(uv.y));

                // Generalized cosine: y(x) = a + b * cos(cx + d)
                const float amplitude = 0.125;
                float wave_frequency = frequency.y * 0.1;
                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);

				// Different approach for variation param here
				float rand = hashwithoutsine12(vec2(i.y));
				float s = mix(size, size * rand, variation);

                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);
            }`);return{tileAndCenter:t,circle:i,ring:r,polygon:n,cross:a,diamond:c,checkerboard:l,line:o,wave:s}}();var NV=class extends ci{constructor(e,t,i,r,n,a,c,l){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=i,this.noiseStrength=r,this.noiseScale=n,this.offset=a,this.isMask=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(NV.Nodes.rainbow),r=[];return r.push(this.filmThickness.build(e,"f")),r.push(this.movement.build(e,"f")),r.push(this.wavelengths.build(e,"v3")),r.push(this.noiseStrength.build(e,"f")),r.push(this.noiseScale.build(e,"f")),r.push(this.offset.build(e,"v3")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},LV=NV;LV.Nodes=function(){let e=new ze(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
				float f = 0.0;
				
				if (noiseStrength != 0.0) {
					vec3 st = position / noiseScale;
					float noise = simplexFast(1.6 * st + vec3(1.8, 1.5, 1.9) * simplexFast(st) + vec3(1.7, 9.2, 1.0));
					f = noise * noiseStrength;
				}

				vec3 waves = wavelengths * vec3(1.0, 0.8, 0.6) + 1.0;
				float angle = dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal));

				mediump vec3 color = cos((((filmThickness + f) / waves) * angle) + movement);
				return .5 + .5 * color;
			 }`,[Kn.simplexFast]);return{rainbow:new ze(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {
				mediump vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

				float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);

				float lalpha = alpha * rainbowContribution * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return res;
			 }`,[e])}}();var zV=class extends ci{constructor(e,t,i,r,n,a,c,l,o,s){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=i,this.source=r,this.isWorldSpace=n,this.noiseStrength=a,this.noiseScale=c,this.shadowColor=l,this.offset=o,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let i=e.include(zV.Nodes.toon),r=[];return r.push(this.positioning.build(e,"i")),r.push(this.colors.build(e,"v4[]")),r.push(this.steps.build(e,"f[]")),r.push(this.source.build(e,"v3")),r.push(this.isWorldSpace.build(e,"b")),r.push(this.noiseStrength.build(e,"f")),r.push(this.noiseScale.build(e,"f")),r.push(this.shadowColor.build(e,"v4")),r.push(this.offset.build(e,"v3")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},BV=zV;BV.Nodes=function(){let e=new ze(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),t=new ze(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),i=new ze(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[t]),r=new ze(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),n=new ze(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[r]);return{toon:new ze(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotLightCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplexFast(st),
					// 	simplexFast(st + vec3(111.1, 143.89, 217.19)),
					// 	simplexFast(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[Kn.simplexFast,e,i,n])}}();var cwe=function(){return{textureBicubic:new ze(`float w0( float a ) {
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
        }
    
        float w1( float a ) {
            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
        }
    
        float w2( float a ){
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
        }
    
        float w3( float a ) {
            return ( 1.0 / 6.0 ) * ( a * a * a );
        }
    
        // g0 and g1 are the two amplitude functions
        float g0( float a ) {
            return w0( a ) + w1( a );
        }
    
        float g1( float a ) {
            return w2( a ) + w3( a );
        }
    
        // h0 and h1 are the two offset functions
        float h0( float a ) {
            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
        }
    
        float h1( float a ) {
            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
        }
    
        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
            uv = uv * texelSize.zw + 0.5;
    
            vec2 iuv = floor( uv );
            vec2 fuv = fract( uv );
    
            float g0x = g0( fuv.x );
            float g1x = g1( fuv.x );
            float h0x = h0( fuv.x );
            float h1x = h1( fuv.x );
            float h0y = h0( fuv.y );
            float h1y = h1( fuv.y );
    
            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
    
            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + 
                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
        }

        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
            vec2 fLodSizeInv = 1.0 / fLodSize;
            vec2 cLodSizeInv = 1.0 / cLodSize;
            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
            return mix( fSample, cSample, fract( lod ) );
        }`)}}();function uwe(e,t){return e>=t?new re(t/e,1):new re(1,e/t)}var FV=class extends ci{constructor(e,t,i,r,n,a,c,l){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=i,this.transmissionSamplerSize=r,this.transmissionSamplerMap=n,this.transmissionDepthMap=a,this.aspectRatio=c,this.alpha=l,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,dt.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let i=e.include(FV.Nodes.transmission),r=[];return r.push(this.thickness.build(e,"f")),r.push(this.ior.build(e,"f")),r.push(this.roughness.build(e,"f")),r.push(this.transmissionSamplerSize.build(e,"v2")),r.push(this.transmissionSamplerMap.getTexture(e,"t")),r.push(this.transmissionDepthMap.getTexture(e,"t")),r.push(this.aspectRatio.build(e,"v2")),r.push("normal"),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},UV=FV;UV.Nodes=function(){let e=new ze(`vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

				// Special case for blur == 0.0
				if (lod == 0.0) {
					#ifdef TEXTURE_LOD_EXT
					return texture2DLodEXT( sp, U, 0.0).rgb;
					#else
					return textureLod( sp, U, 0.0).rgb;
					#endif
				}
				
				vec2 texelSize = vec2(1.0) / resolution;
                vec2 halton = haltonSequence[frameIndex];
                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
                float temporalAngle  = temporalOffset * PI2;
				vec3 res = vec3(0.0);
                vec2 uv = vec2(0.0);
                vec2 offset = vec2(0.0);
                vec2 vogelSample = vec2(0.0);
                for (int i = 0; i < NUM_SAMPLES; i++) {
                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;
                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20
                    uv = U + offset;
                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    res += textureLod(sp, uv, lod).rgb;
                }
                return res / float(NUM_SAMPLES);
            }`),t=new ze(`vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        
				// Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );

		        // The thickness is specified in local space
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),i=new ze(`float applyIorToRoughness( float roughness, float ior ) {
				// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
				// an IOR of 1.5 results in the default amount of microfacet refraction.
				return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
			}`),r=new ze(`vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
				// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see
				// also the code in convertTransmission.ts, which runs during export
				#ifdef IS_THREEJS_EXPORT
					float lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);
					return textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;
				#else
					float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					float lod = applyIorToRoughness(roughness, ior);
					return blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
				#endif
			}`,[cwe.textureBicubic,i,e]),n=new ze(`vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;

				// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
				vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;

				vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
				vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
				unrefractedCoords += 1.0;
				unrefractedCoords /= 2.0;

				// Sample framebuffer to get pixel the refracted ray hits.
				return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    		}`,[r,t]);return{transmission:new ze(`vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return transmission;
            }`,[n])}}();var TT=(e=>(e.NOISE="noise",e.MAP="map",e))(TT||{}),VV=class extends ci{constructor(e,t,i,r,n,a,c,l,o,s,u){super("v3"),this.displacementTypeIndex=new di(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,Object.values(TT)[this.displacementTypeIndex.value]==="map"&&(this.mat=new SV(this.movementOrTexture.value.matrix)),this.cropOrOffset=i,this.scale=s,this.noiseFunctionIndex=u,this.voronoiStyle=r,this.smoothness=n,this.seed=a,this.highCut=c,this.lowCut=l,this.quality=o}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let i,r=[];switch(r.push("displaced_position"),r.push("displaced_normal"),Object.values(TT)[this.displacementTypeIndex.value]){case"map":{i=e.include(VV.Nodes.map),r.push(this.movementOrTexture.getTexture(e,"t")),r.push("uv"),r.push(this.cropOrOffset.build(e,"f")),this.mat&&r.push(this.mat.build(e,"mat3"));break}case"noise":{let n=["simplexPrecise","simplexFractal","simplexAshima","fbm","perlin","voronoi"][this.noiseFunctionIndex.value],a=new ze(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),c=n=="voronoi"?`
					float v = ${n}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);
					v = remap(v, lowCut, highCut, 0.0, 1.0);
					v = smax(v, 0.0, smoothness * 0.25);
					v = smin(v, 1.0, smoothness * 0.25);

					return p + n * v * intensity;
					`:`
					return p + n * ${n}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
					`,l=new ze(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {
							${c}
						}`,[Kn.simplexPrecise,Kn.simplexFractal,Kn.simplexAshima,Kn.fbm,Kn.perlin,Kn.voronoi]),o=new ze(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[l,a]);i=e.include(o),r.push(this.scale.build(e,"f")),r.push(this.cropOrOffset.build(e,"v3")),r.push(this.movementOrTexture.build(e,"f")),r.push(this.voronoiStyle.build(e,"i")),r.push(this.smoothness.build(e,"f")),r.push(this.seed.build(e,"f")),r.push(this.highCut.build(e,"f")),r.push(this.lowCut.build(e,"f")),r.push(this.quality.build(e,"i"));break}}return r.push(this.intensity.build(e,"f")),r.push("displaced_normal"),e.format(i+"("+r.join(",")+")",this.getType(e),t)}else return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},HV=VV;HV.Nodes=function(){let e=new ze(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),t=new ze(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new ze(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[e,t])}}();var dt={normalRenderTarget:new ol,normalRenderTargetDepth:new ol,transmissionRenderTarget:new ol,aspectRatio:new Yr,transmissionSize:new Yr(2048,2048),transmissionRenderTargetDepth:new ol,aoRenderTarget:new ol,aoEnabled:new Pn,pixelRatioNode:new Ge(1),resolution:new Yr,penumbraSize:new Nu(5,.5),frameIndex:new di(0),transmissionLod:new di(2)};for(let e of Object.values(dt))e.isRenderGlobal=!0;var GV={skiaWasmUrl:"https://unpkg.com/@splinetool/ui-wasm@1.9.67/build/ui.wasm"},nj=class extends vr{constructor(){super("basic"),this.nodeType="Basic",this.color=new Gi(va),this.shadingAlpha=new Ge(1),this.shadingBlend=new di(0),this.previousModelViewMatrix=new Es,this.previouseProjectionMatrix=new Es}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({resolution:dt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(bf.merge([Ne.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>"].join(`
`));let r=["#include <beginnormal_vertex>","#include <morphnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];i&&r.push(i.code,i.result?"displaced_position = "+i.result+";":""),r.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),r.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join(`
`)}else{this.color===void 0&&(this.color=new Gi(va)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let i=this.color.flow(e,"c",{slot:"color"}),r=this.alpha?this.alpha.flow(e,"f"):void 0,n=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=r!==void 0,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let c=["#include <normal_fragment_begin>",i.code];r&&c.push(r.code,"#ifdef ALPHATEST"," if ( "+r.result+" <= ALPHATEST ) discard;","#endif"),a?c.push(a.code,`vec3 outgoingLight = ${i.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`):c.push(`vec3 finalColor = ${i.result};`);let l="1.0";this.mask&&(this.mask.analyze(e),l=`luminance(${this.mask.flow(e,"v3").result})`),r?c.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${r.result} * ${l} );`):c.push("gl_FragColor = vec4("+i.result+", 1.0 );"),n&&c.push(`gl_FragColor.a *= ${n.result};`),c.push("#include <fog_fragment>","#include <dithering_fragment>"),t=c.join(`
`)}return t}},dwe=class extends vr{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new Gi(va),this.emissive=new Gi(0),this.emissiveIntensity=new Ge(1),this.previousModelViewMatrix=new Es,this.previouseProjectionMatrix=new Es,this.shadingAlpha=new Ge(1),this.shadingBlend=new di(0),this.occlusion=new Pn(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({resolution:dt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(bf.merge([Ne.fog,Ne.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let r=["#include <beginnormal_vertex>","#include <morphnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];i&&r.push(i.code,i.result?"displaced_position = "+i.result+";":""),r.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
				`),r.push(`
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join(`
`)}else{e.mergeUniform({penumbraSize:dt.penumbraSize}),e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({aoMap:dt.aoRenderTarget}),e.mergeUniform({aoEnabled:dt.aoEnabled}),this.color===void 0&&(this.color=new Gi(va)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),r=this.emissive.flow(e,"c",{slot:"emissive"}),n=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),a=this.occlusion.flow(e,"b",{slot:"occlusion"}),c=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,s=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=s!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];d.push(i.code,"vec3 diffuseColor = "+i.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),s&&d.push(s.code,"#ifdef ALPHATEST","if ( "+s.result+" <= ALPHATEST ) discard;","#endif"),d.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),r&&d.push(r.code,"reflectedLight.directDiffuse += "+r.result+" * "+n.result+";"),d.push("vec3 ao = aoEnabled && "+a.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${c.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${c.result} * ${h}, ${l.result} );

					outgoingLight *= ao;
				}
				`),o&&d.push(o.code,`outgoingLight = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`),s?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${s.result} );`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},ef=function(){let e=new ze(`vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {

            // Gradient of UVs w.r.t. X coordinate (in screen-space)
            vec2 dSTdx = dFdx(bumpMapUv);

            // Gradient of UVs w.r.t. Y coordinate (in screen-space)
            vec2 dSTdy = dFdy(bumpMapUv);
            
            // Forward differencing
            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);
            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;
            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;
            
            return vec2( dBx, dBy );
        }`),t=new ze(`vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
            vec3 vSigmaX = dFdx( surf_pos.xyz );
            vec3 vSigmaY = dFdy( surf_pos.xyz );
            vec3 vN = surf_norm; // normalized
            
            vN = normalize(vN);

            vec3 R1 = cross( vSigmaY, vN );
            vec3 R2 = cross( vN, vSigmaX );

            R1 = normalize(R1);
            R2 = normalize(R2);
    
            float fDet = dot( vSigmaX, R1 ) * faceDirection;
    
            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
            return normalize( abs( fDet ) * vN - vGrad );
        }`);return{dHdxy:e,perturbNormalArb:t}}(),hwe=class extends vr{constructor(){super("phong"),this.nodeType="Phong",this.color=new Gi(va),this.specular=new Gi(1118481),this.shininess=new Ge(30),this.previousModelViewMatrix=new Es,this.previouseProjectionMatrix=new Es,this.shadingAlpha=new Ge(1),this.shadingBlend=new di(0),this.occlusion=new Pn(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({resolution:dt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(bf.merge([Ne.fog,Ne.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let r=["#include <beginnormal_vertex>","#include <morphnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];i&&r.push(i.code,i.result?"displaced_position = "+i.result+";":""),r.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join(`
`)}else{e.mergeUniform({penumbraSize:dt.penumbraSize}),e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({aoMap:dt.aoRenderTarget}),e.mergeUniform({aoEnabled:dt.aoEnabled}),this.color===void 0&&(this.color=new Gi(va)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let i=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.specular.flow(e,"c"),a=this.shininess.flow(e,"f"),c=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,s=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=s!==void 0,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];if(this.bumpMap){e.include(ef.dHdxy),e.include(ef.perturbNormalArb);let p=this.bumpMap.texture.flow(e,"t"),m=this.bumpMap.flow(e,"v3"),f=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",g="";this.bumpMap.projection.value===4?g=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${p.result}, uv0, ${f});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${p.result}, uv1, ${f});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${p.result}, uv2, ${f});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:g=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${p.result}, bumpMapCachedUv, ${f});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${m.result};
					${g}
					`)}d.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",n.code,"	vec3 specular = "+n.result+";",a.code,"	float shininess = max( 0.0001, "+a.result+" );","	float specularStrength = 1.0;"),s&&d.push(s.code,"#ifdef ALPHATEST","if ( "+s.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled && "+i.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${c.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${c.result} * ${h}, ${l.result} );
					
					outgoingLight *= ao;
				}
				`),o&&d.push(o.code,`outgoingLight = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`),s?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${s.result});`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},pwe=class extends vr{constructor(){super("standard"),this.nodeType="Standard",this.color=new Gi(va),this.roughness=new Ge(.3),this.metalness=new Ge(0),this.reflectivity=new Ge(.5),this.previousModelViewMatrix=new Es,this.previouseProjectionMatrix=new Es,this.shadingAlpha=new Ge(1),this.shadingBlend=new di(0),this.occlusion=new Pn(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({resolution:dt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(bf.merge([Ne.fog,Ne.lights])),Ne.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let r=["#include <beginnormal_vertex>","#include <morphnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];i&&r.push(i.code,i.result?"displaced_position = "+i.result+";":""),r.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join(`
`)}else{e.mergeUniform({penumbraSize:dt.penumbraSize}),e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({aoMap:dt.aoRenderTarget}),e.mergeUniform({aoEnabled:dt.aoEnabled});let i={gamma:!0};this.color===void 0&&(this.color=new Gi(va)),this.color.analyze(e,{slot:"color",context:i}),this.roughness.analyze(e),this.metalness.analyze(e);let r=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let n=this.color.flow(e,"c",{slot:"color",context:i}),a=this.roughness.flow(e,"f"),c=this.metalness.flow(e,"f"),l=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,u=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,h=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=u!==void 0,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let p=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(ef.dHdxy),e.include(ef.perturbNormalArb);let f=this.bumpMap.texture.flow(e,"t"),g=this.bumpMap.flow(e,"v3"),v=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",S="";this.bumpMap.projection.value===4?S=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${f.result}, uv0, ${v});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${f.result}, uv1, ${v});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${f.result}, uv2, ${v});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:S=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${f.result}, bumpMapCachedUv, ${v});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,p.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};
					${S}
					`)}if(p.push(n.code,"	vec3 diffuseColor = "+n.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",c.code,"	float metalnessFactor = "+c.result+";"),this.roughnessMap){let f=this.roughnessMap.texture.flow(e,"t"),g=this.roughnessMap.flow(e,"v3"),v="";this.roughnessMap.projection.value===4?v=`
					float roughnessChange = 1.0;
					{
						vec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						float r0 = luminance(texture(${f.result}, uv0).rgb) * roughnessScale;
						float r1 = luminance(texture(${f.result}, uv1).rgb) * roughnessScale;
						float r2 = luminance(texture(${f.result}, uv2).rgb) * roughnessScale;

						roughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);
					}
					float roughnessFactor = roughnessChange * ${a.result};
					`:v=`
					vec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;

					vec4 vals = texture(${f.result},  roughnessMapCachedUv);
					float roughnessFactor = luminance(vals.rgb) * ${a.result};
					`,p.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};

					const float roughnessScale = 1.0;

					${v}
				`)}else p.push(a.code,"	float roughnessFactor = "+a.result+";");u&&p.push(u.code,"#ifdef ALPHATEST","	if ( "+u.result+" <= ALPHATEST ) discard;","#endif"),p.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),p.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),h?p.push(h.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+h.result+" ) ), diffuseColor, metalnessFactor );"):p.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),p.push("#include <lights_fragment_begin>"),p.push("#include <lights_fragment_end>"),p.push("vec3 ao = aoEnabled && "+r.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let m="1.0";this.mask&&(this.mask.analyze(e),m=`luminance(${this.mask.flow(e,"v3").result})`),p.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${l.result} * ${m} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${l.result} * ${m}, ${o.result} );
					
					outgoingLight *= ao;
				}
				`),s&&p.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),u?p.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${u.result} );`):p.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&p.push(`gl_FragColor.a *= ${d.result};`),p.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=p.join(`
`)}return t}},fwe=class extends vr{constructor(){super("toon"),this.nodeType="Toon",this.color=new Gi(va),this.specular=new Gi(1118481),this.shininess=new Ge(30),this.previousModelViewMatrix=new Es,this.previouseProjectionMatrix=new Es,this.shadingAlpha=new Ge(1),this.shadingBlend=new di(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let i=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({resolution:dt.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(bf.merge([Ne.fog,Ne.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let r=["#include <beginnormal_vertex>","#include <morphnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];i&&r.push(i.code,i.result?"displaced_position = "+i.result+";":""),r.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join(`
`)}else{e.mergeUniform({penumbraSize:dt.penumbraSize}),e.mergeUniform({frameIndex:dt.frameIndex}),e.mergeUniform({aoMap:dt.aoRenderTarget}),e.mergeUniform({aoEnabled:dt.aoEnabled}),this.color===void 0&&(this.color=new Gi(va)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),r=this.specular.flow(e,"c"),n=this.shininess.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),c=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,o=this.alpha?this.alpha.flow(e,"f"):void 0,s=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=o!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let u=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];if(this.bumpMap){e.include(ef.dHdxy),e.include(ef.perturbNormalArb);let h=this.bumpMap.texture.flow(e,"t"),p=this.bumpMap.flow(e,"v3"),m=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",f="";this.bumpMap.projection.value===4?f=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${h.result}, uv0, ${m});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${h.result}, uv1, ${m});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${h.result}, uv2, ${m});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:f=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${h.result}, bumpMapCachedUv, ${m});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${p.result};
					${f}
					`)}u.push(i.code,"	vec3 diffuseColor = "+i.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",r.code,"	vec3 specular = "+r.result+";",n.code,"	float shininess = max( 0.0001, "+n.result+" );","	float specularStrength = 1.0;"),o&&u.push(o.code,"#ifdef ALPHATEST","if ( "+o.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${d} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${d}, ${c.result} );
				}
				`),l&&u.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),o?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${o.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),s&&u.push(`gl_FragColor.a *= ${s.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},mwe=class{constructor(e=1e3*10){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){var t;return(t=this.cache.get(e))==null?void 0:t.data}load(e){let t=Date.now(),i=this.cache.get(e);return i===void 0?(i={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,i)):(i.time=t,i.prev.next=i.next,i.next.prev=i.prev),i.prev=this.tail.prev,i.next=this.tail,this.tail.prev.next=i,this.tail.prev=i,this.scheduleCleanup(),i.data}},gwe=class extends mwe{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},RS;function vwe(e){return typeof e=="string"?e:(RS||(RS=new gwe),RS.load(e))}var ywe=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount,this.refCount-=1,this.refCount===0&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},bwe=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return t===void 0&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},WV=class extends ywe{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isBuffer=!1,this._cache={1e3:{},1001:{},1002:{}},this.isVideo=e.type==="video",this.isBuffer=e.isWebGLRenderTarget===!0,this.loadPromise=this.updateSrc(this.isBuffer?e:e.data)}async updateSrc(e){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let t=()=>{this.loaded=!0;for(let r of Object.values(this._cache))for(let n of Object.values(r))for(let a of Object.values(n))a&&(a.image=this.img,a.needsUpdate=!0);this.shared.requestRender()};if(this.isBuffer)this.img=e,this.loaded=!0;else if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,typeof e!="string"){var i=new FileReader;i.readAsDataURL(new Blob([e],{type:"video/mp4"}));let r;await new Promise(n=>{i.onloadend=a=>{var c;r=(c=a.target)==null?void 0:c.result,n(null)}}),this.img.src=r}else this.img.src=e;this.img.onloadeddata=()=>{t()}}else this.img=new Image,this.img.src=vwe(e),this.img.onload=t,await new Promise(r=>{this.img.onload=()=>{t(),r(null)}})}getTexture(e,t=1008,i=1006){var n,a;let r=(a=(n=this._cache[e])==null?void 0:n[t])==null?void 0:a[i];if(r)return r;{let c;return this.isBuffer?c=this.img.texture:this.isVideo?c=new Bce(this.img,void 0,e,e):c=new Ni(this.img,void 0,e,e,i,t),this.loaded&&(c.needsUpdate=!0),this._cache[e]===void 0&&(this._cache[e]={}),this._cache[e][t]===void 0&&(this._cache[e][t]={}),this._cache[e][t][i]=c,c}}setNeedsUpdate(e){for(let t of Object.values(this._cache))for(let i of Object.values(t))for(let r of Object.values(i))r&&(r.needsUpdate=e)}disposeTextures(){for(let[e,t]of Object.entries(this._cache))for(let[i,r]of Object.entries(t))for(let[n,a]of Object.entries(r))a==null||a.dispose(),this._cache[e]!==void 0&&this._cache[e][i]!==void 0&&(this._cache[e][i][n]=void 0)}dispose(){super.dispose(),this.disposeTextures()}},_c=class extends WV{};function xwe(e,t){var i=Cwe(t);return i.formatToParts?_we(i,e):Swe(i,e)}var wwe={year:0,month:1,day:2,hour:3,minute:4,second:5};function _we(e,t){try{for(var i=e.formatToParts(t),r=[],n=0;n<i.length;n++){var a=wwe[i[n].type];a>=0&&(r[a]=parseInt(i[n].value,10))}return r}catch(c){if(c instanceof RangeError)return[NaN];throw c}}function Swe(e,t){var i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var NS={};function Cwe(e){if(!NS[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";NS[e]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return NS[e]}function qV(e,t,i,r,n,a,c){var l=new Date(0);return l.setUTCFullYear(e,t,i),l.setUTCHours(r,n,a,c),l}var L8=36e5,Ewe=6e4,LS={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function YV(e,t,i){var r,n;if(!e||(r=LS.timezoneZ.exec(e),r))return 0;var a;if(r=LS.timezoneHH.exec(e),r)return a=parseInt(r[1],10),z8(a)?-(a*L8):NaN;if(r=LS.timezoneHHMM.exec(e),r){a=parseInt(r[1],10);var c=parseInt(r[2],10);return z8(a,c)?(n=Math.abs(a)*L8+c*Ewe,a>0?-n:n):NaN}if(Mwe(e)){t=new Date(t||Date.now());var l=i?t:Twe(t),o=AT(l,e),s=i?o:Awe(t,o,e);return-s}return NaN}function Twe(e){return qV(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function AT(e,t){var i=xwe(e,t),r=qV(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),n=e.getTime(),a=n%1e3;return n-=a>=0?a:1e3+a,r-n}function Awe(e,t,i){var r=e.getTime(),n=r-t,a=AT(new Date(n),i);if(t===a)return t;n-=a-t;var c=AT(new Date(n),i);return a===c?a:Math.max(a,c)}function z8(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var B8={};function Mwe(e){if(B8[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),B8[e]=!0,!0}catch{return!1}}var jwe=pu(Are(),1),F8=pu(Mre(),1),Iwe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Pwe=Iwe,zS=36e5,U8=6e4,kwe=2,kn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Pwe};function Dwe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var i={},r=i.additionalDigits==null?kwe:(0,jwe.default)(i.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=Owe(e),a=Rwe(n.date,r),c=a.year,l=a.restDateString,o=Nwe(l,c);if(isNaN(o))return new Date(NaN);if(o){var s=o.getTime(),u=0,d;if(n.time&&(u=Lwe(n.time),isNaN(u)))return new Date(NaN);if(n.timeZone||i.timeZone){if(d=YV(n.timeZone||i.timeZone,new Date(s+u)),isNaN(d))return new Date(NaN)}else d=(0,F8.default)(new Date(s+u)),d=(0,F8.default)(new Date(s+u+d));return new Date(s+u+d)}else return new Date(NaN)}function Owe(e){var t={},i=kn.dateTimePattern.exec(e),r;if(i?(t.date=i[1],r=i[3]):(i=kn.datePattern.exec(e),i?(t.date=i[1],r=i[2]):(t.date=null,r=e)),r){var n=kn.timeZone.exec(r);n?(t.time=r.replace(n[1],""),t.timeZone=n[1].trim()):t.time=r}return t}function Rwe(e,t){var i=kn.YYY[t],r=kn.YYYYY[t],n;if(n=kn.YYYY.exec(e)||r.exec(e),n){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=kn.YY.exec(e)||i.exec(e),n){var c=n[1];return{year:parseInt(c,10)*100,restDateString:e.slice(c.length)}}return{year:null}}function Nwe(e,t){if(t===null)return null;var i,r,n,a;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(i=kn.MM.exec(e),i)return r=new Date(0),n=parseInt(i[1],10)-1,H8(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(i=kn.DDD.exec(e),i){r=new Date(0);var c=parseInt(i[1],10);return Fwe(t,c)?(r.setUTCFullYear(t,0,c),r):new Date(NaN)}if(i=kn.MMDD.exec(e),i){r=new Date(0),n=parseInt(i[1],10)-1;var l=parseInt(i[2],10);return H8(t,n,l)?(r.setUTCFullYear(t,n,l),r):new Date(NaN)}if(i=kn.Www.exec(e),i)return a=parseInt(i[1],10)-1,G8(t,a)?V8(t,a):new Date(NaN);if(i=kn.WwwD.exec(e),i){a=parseInt(i[1],10)-1;var o=parseInt(i[2],10)-1;return G8(t,a,o)?V8(t,a,o):new Date(NaN)}return null}function Lwe(e){var t,i,r;if(t=kn.HH.exec(e),t)return i=parseFloat(t[1].replace(",",".")),BS(i)?i%24*zS:NaN;if(t=kn.HHMM.exec(e),t)return i=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),BS(i,r)?i%24*zS+r*U8:NaN;if(t=kn.HHMMSS.exec(e),t){i=parseInt(t[1],10),r=parseInt(t[2],10);var n=parseFloat(t[3].replace(",","."));return BS(i,r,n)?i%24*zS+r*U8+n*1e3:NaN}return null}function V8(e,t,i){t=t||0,i=i||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var n=r.getUTCDay()||7,a=t*7+i+1-n;return r.setUTCDate(r.getUTCDate()+a),r}var zwe=[31,28,31,30,31,30,31,31,30,31,30,31],Bwe=[31,29,31,30,31,30,31,31,30,31,30,31];function KV(e){return e%400===0||e%4===0&&e%100!==0}function H8(e,t,i){if(t<0||t>11)return!1;if(i!=null){if(i<1)return!1;var r=KV(e);if(r&&i>Bwe[t]||!r&&i>zwe[t])return!1}return!0}function Fwe(e,t){if(t<1)return!1;var i=KV(e);return!(i&&t>366||!i&&t>365)}function G8(e,t,i){return!(t<0||t>52||i!=null&&(i<0||i>6))}function BS(e,t,i){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||i!=null&&(i<0||i>=60))}function Uwe(e,t,i){var r=Dwe(e,i),n=YV(t,r,!0),a=new Date(r.getTime()-n),c=new Date(0);return c.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),c.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),c}function On(e,t){return t.color(e)}function W8(e=new Date,t){let i=t.format,r=e.getSeconds(),n=e;t&&t.timeZone!==null&&(n=Uwe(new Date,t.timeZone));let a=n.getHours(),c=n.getMinutes(),l;t.format12h24h==="12ampm"&&(l=a>=12?"PM":"AM");let o=a;t.format12h24h!=="24"&&(o=a%12,o===0&&(o=12));let s,u;switch(i){case"HH:mm:ss":s=[o,c,r];break;case"HH:mm":s=[o,c];break;case"HH":s=[o],l=void 0;break;case"mm":s=[c],l=void 0;break;case"ss":s=[r],l=void 0;break;case"year":u=n.getFullYear();break;case"month":u=n.getMonth()+1;break;case"dayOfYear":u=Math.floor((n.getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":u=n.getDate();break;case"secondOfDay":u=a*60*60+c*60+r;break;default:console.error("Unknown time format",i),u=0;break}return s!==void 0?{textValue:s,suffix:l}:u}function Vwe(e,t){switch(e.type){case"fresnel":return Wwe(e,t);case"gradient":return qwe(e,t);case"depth":return Ywe(e,t);case"normal":return Kwe(e,t);case"noise":return Xwe(e,t);case"rainbow":return Jwe(e,t);case"toon":return Qwe(e,t);case"outline":return $we(e,t);case"transmission":return Zwe(e,t);case"color":return Gwe(e,t);case"pattern":return e_e(e,t)}}function Hwe(e){return{type:e.type}}function ko(e,t){let{alpha:i,mode:r,isMask:n}=e,a=typeof i=="string"?(Number(t.getVariable(i))??100)/100:i;return{...Hwe(e),alpha:a,mode:r,isMask:n}}function Gwe(e,t){return{...ko(e,t),color:On(e.color,t)}}function Wwe(e,t){let{bias:i,scale:r,intensity:n,factor:a,color:c}=e;return{...ko(e,t),color:On(c,t),bias:i,scale:r,intensity:n,factor:a}}function qwe(e,t){let{gradientType:i,smooth:r,colors:n,steps:a,angle:c,offset:l,morph:o}=e;return{...ko(e,t),gradientType:i,smooth:r,colors:n.map(s=>new vt(s[0],s[1],s[2],s[3])),num:n.length,steps:a,offset:new re(...l),morph:new re(...o),angle:c}}function Ywe(e,t){let{gradientType:i,near:r,far:n,isVector:a,isWorldSpace:c,origin:l,direction:o,colors:s,steps:u,smooth:d}=e;return{...ko(e,t),gradientType:i,near:r,far:n,isVector:a,isWorldSpace:c,origin:new N(...l),direction:o?new N(...o):new N(1,0,0),colors:s.map(h=>h!==void 0?new vt(h[0],h[1],h[2],h[3]):new vt(0,0,0,0)),steps:u.slice(0,s.length),smooth:d}}function Kwe(e,t){let{cnormal:i}=e;return{...ko(e,t),cnormal:new N(i[0],i[1],i[2])}}function Xwe(e,t){return{...ko(e,t),scale:e.scale,move:e.move,fA:new re(...e.fA),fB:new re(...e.fB),size:new N(...e.size),distortion:new re(...e.distortion),colorA:On(e.colorA,t),colorB:On(e.colorB,t),colorC:On(e.colorC,t),colorD:On(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}function Jwe(e,t){return{...ko(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new N(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new N(...e.offset)}}function Qwe(e,t){return{...ko(e,t),positioning:e.positioning,colors:e.colors.map(i=>new vt(i[0],i[1],i[2],i[3])),num:e.colors.length,steps:e.steps,source:new N(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:On(e.shadowColor,t),offset:new N(...e.offset)}}function $we(e,t){return{...ko(e,t),outlineColor:On(e.outlineColor,t),contourColor:On(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new N(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}function Zwe(e,t){return{...ko(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}function e_e(e,t){return{...ko(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new re(...e.offset),colorA:On(e.colorA,t),colorB:On(e.colorB,t),frequency:new re(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new re(...e.vertical),horizontal:new re(...e.horizontal),sides:e.sides}}var Dx=class extends rn{},t_e={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},i_e={depth:["colors"]};function r_e(e,t,i){var a,c;if(t==="isMask")return!0;let r=t_e[e.type],n=i_e[e.type];if(n!==void 0){let l=e.color;if(n.includes(t)){let o=(c=(a=l[t])==null?void 0:a.value)==null?void 0:c.length;if(o!==void 0&&o!==i.length)return!0}}return r!==void 0?r.includes(t):!1}function XV(e,t,i){let r=i.uniforms[`f${i.id}_texture`];if(!r)return!1;let n=!1,a=e;if("image"in a){let c=a.image,l=t.image(c),o=r;o.image instanceof _c||o.image.deref(),o.image=l}if("video"in a){let c=a.video,l=t.video(c),o=r;o.image instanceof _c||o.image.deref(),o.image=l}if("wrapping"in a){let c=r;c.wrap=a.wrapping}if("minFilter"in a){let c=r;c.minFilter=a.minFilter}if("magFilter"in a){let c=r;c.magFilter=a.magFilter}if("rotation"in a&&i.uniforms[`f${i.id}_rotation`])return i.uniforms[`f${i.id}_rotation`].value=(a.rotation??0)*Ve.DEG2RAD,n;if("repeat"in a||"offset"in a||"rotation"in a){let c="mat",l=i.uniforms[`f${i.id}_${c}`];"repeat"in a&&(l.repeat=a.repeat),"offset"in a&&(l.offset=a.offset),"rotation"in a&&(l.rotation=a.rotation??0),l.updateMatrix()}return n}function n_e(e,t,i,r){let n=!1;for(let[a,c]of Object.entries(e)){if(a==="bumpMap"||a==="roughnessMap"){n=!0;continue}if(!a||c===void 0)continue;if(QV(a,i,r,t)){a==="visible"&&i.type==="light"&&(n=!0);continue}i.visible=r.visible;let l=i.uniforms[`f${i.id}_${a}`];if(l&&!(l instanceof ij))switch(n=n||r_e(i,a,c),l.constructor){case Gi:if(typeof c=="string"){let o=t.getColor(c);o&&(l.value=o);break}else{let o=c;l.value instanceof Dx?l.value=new rn(o.r,o.g,o.b,o.a):l.setRGBA(o);break}case Js:if(typeof c=="string"){let o=t.getColor(c);o&&(l.value=o);break}else{let o=c;l.value instanceof Dx?l.value=new rn(o.r,o.g,o.b,o.a):l.value.setRGBA(o.r,o.g,o.b,o.a);break}case Yr:{let o=c;l.value.setX(o[0]),l.value.setY(o[1]);break}case Ia:{let o=c;l.value.setX(o[0]),l.value.setY(o[1]),l.value.setZ(o[2]);break}case ol:{XV(c,t,i);break}case Lu:{l.value=c.map(o=>new vt(...o));break}default:{l.value=c;break}}}return n}var Od=(e,t,i)=>Math.max(0,Math.min(1,Number(t.getVariable(typeof e=="number"?e*100:e,i)??100)/100))??1,$v=class{constructor(e,t,i,r,n){this.id=e,this.uuid=t,this.data=i,this.uniforms={};for(let a in r)this.uniforms[`f${this.id}_${a}`]=r[a];for(let a in i)QV(a,this,i,n)}get type(){return this.data.type}static create(e,t,i,r){if(i.type==="light")return Qo.createLightLayer(e,t,i,r);if(i.type==="texture"||i.type==="video"){let n=i.type==="texture"?r.uiBuffer(i.texture.image)??r.image(i.texture.image):r.video(i.texture.video),a=new CT(n,i.texture.wrapping,i.texture.minFilter??1008,i.texture.magFilter??1006),c=new owe(n),l=new swe(i.texture.repeat,i.texture.offset,i.texture.rotation??0),o=new Ge(i.crop?1:0),s=new di(i.projection??0),u=new di(["x","y","z"].indexOf(i.axis)??0),d=new di(i.side??0),h=new Yr(i.size?new re(i.size[0],i.size[1]):new re(100,100)),p=new Ge(i.blending??0),m=new Ge(Od(i.alpha,r)),f=new di(i.mode??0),g=new Pn(i.isMask??!1),v=new rj(a,c,o,s,u,d,h,p,l,m,f,g),S=new xi(v.calpha,"f");return new Bi(e,t,i,{texture:a,textureSize:c,crop:o,projection:s,axis:u,side:d,size:h,blending:p,mat:l,alpha:m,mode:f,isMask:g},v,f,S,g,r)}else if(i.type==="matcap"){let n=r.image(i.texture.image),a=new CT(n,i.texture.wrapping,i.texture.minFilter??1008,i.texture.magFilter??1006),c=new Ge(Od(i.alpha,r)),l=new di(i.mode??0),o=new Pn(i.isMask??!1),s=new Ge((i.texture.rotation??0)*Ve.DEG2RAD),u=new PV(a,c,l,o,s),d=new xi(u.calpha,"f");return new Bi(e,t,i,{texture:a,alpha:c,mode:l,isMask:o,rotation:s},u,l,d,o,r)}else if(i.type==="displace")if(i.displacementType==="noise"){let n=new Ia(new N(...i.offset)),a=new Ge(i.scale??10),c=new Ge(i.intensity??8),l=new Ge(i.movement??1),o=new di(i.noiseType??0),s=new di(i.voronoiStyle??0),u=new Ge(i.smoothness??.5),d=new Ge(i.seed??0),h=new Ge(i.highCut??1),p=new Ge(i.lowCut??0),m=new di(i.quality??1),f=new HV(c,l,n,s,u,d,h,p,m,a,o);return new JV(e,t,i,{offset:n,scale:a,intensity:c,movement:l,noiseType:o,voronoiStyle:s,smoothness:u,seed:d,highCut:h,lowCut:p,quality:m},f,r)}else throw new Error;else return s_e(e,t,i,r)}updateByOp(e,t,i){let r=e;if(r.path[0]===void 0){if(r.type===0)return"type"in r.props||"category"in r.props||"visible"in r.props||"noiseType"in r.props?(i.scene.markNeedsUpdateRendererDirty(),!0):n_e(r.props,i.shared,this,t)}else if(r.path[0]==="texture")return"texture"in t||"video"in t?XV(r.props,i.shared,this):!0;return!1}dispose(){if(a_e(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof _c||t.image.deref()}}hasValueByKey(e){return this.uniforms[e]!==void 0}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let i=`f${this.id}_${e}`;this.hasValueByKey(i)&&t!==void 0&&(this.uniforms[i].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let i=this.getName(t);i&&e.push(i)}return e}},Bi=class extends $v{constructor(e,t,i,r,n,a,c,l,o){super(e,t,i,r,o),this.params=r,this.color=n,this.mode=a,this.alpha=c,this.isMask=l}},JV=class extends $v{constructor(e,t,i,r,n,a){super(e,t,i,r,a),this.position=n}},Qo=class extends $v{constructor(e,t,i,r,n,a){super(e,t,i,n,a),this.node=r}static createLightLayer(e,t,i,r){let n,a=new Ge(Od(i.alpha,r)),c=new di(i.mode),l=new Ge(i.bumpMapIntensity),o=new Ge(Od(i.alphaOverride,r)),s;if(!i.visible)n=new nj,s={};else if(i.category==="lambert"){n=new dwe;let u=new Gi(r.color(i.emissive)??0),d=new Pn(i.occlusion??!0);s={emissive:u,occlusion:d},n.emissive=u,n.occlusion=d}else if(i.category==="toon"){n=new fwe;let u=new Ge(i.shininess??30),d=new Gi(r.color(i.specular)??1118481);s={shininess:u,specular:d},n.shininess=u,n.specular=d}else if(i.category==="physical"){n=new pwe;let u=new Ge(i.roughness??.3),d=new Ge(i.metalness??0),h=new Ge(i.reflectivity??.5),p=new Pn(i.occlusion??!0);s={roughness:u,metalness:d,reflectivity:h,occlusion:p},n.roughness=u,n.metalness=d,n.reflectivity=h,n.occlusion=p}else{n=new hwe;let u=new Ge(i.shininess??30),d=new Gi(i.specular!==void 0?r.color(i.specular)??1118481:1118481),h=new Pn(i.occlusion??!0);s={shininess:u,specular:d,occlusion:h},n.shininess=u,n.specular=d,n.occlusion=h}return n.alpha=new Ge(1),n.shadingAlpha=a,n.shadingBlend=c,n.bumpMapIntensity=l,n.alphaOverride=o,s.alpha=n.shadingAlpha,s.mode=n.shadingBlend,s.bumpMapIntensity=n.bumpMapIntensity,s.alphaOverride=n.alphaOverride,new Qo(e,t,i,n,s,r)}get category(){return this.node.category}};function a_e(e){let t=e instanceof $v?e.type:e;return t==="texture"||t==="video"||t==="displace_map"||t==="matcap"}function Ca(e){return{alpha:new Ge(e.alpha??1),mode:new di(e.mode??0),isMask:new Pn(e.isMask??!1)}}function o_e(e,t,i,r,n){switch(e.type){case"color":{let a=new Gi(r.color??va),c=Ca(r),l=new ET(a,c.alpha),o=new xi(l.calpha,"f");return new Bi(t,i,e,{color:a,...c},l,c.mode,o,c.isMask,n)}case"fresnel":{let a=new Gi(r.color??16777215),c=new Ge(r.bias??.1),l=new Ge(r.scale??1),o=new Ge(r.intensity??2),s=new Ge(r.factor??1),u=Ca(r),d=new lwe(a,c,l,o,s,u.alpha,u.mode,u.isMask),h=new xi(d.calpha,"f");return new Bi(t,i,e,{color:a,bias:c,scale:l,intensity:o,factor:s,...u},d,u.mode,h,u.isMask,n)}case"rainbow":{let a=new Ge(r.filmThickness??30),c=new Ge(r.movement??0),l=new Ia(r.wavelengths??new N(0,0,0)),o=new Ge(r.noiseStrength??0),s=new Ge(r.noiseScale??1),u=new Ia(r.offset??new N(0,0,0)),d=Ca(r),h=new LV(a,c,l,o,s,u,d.alpha,d.isMask),p=new xi(h.calpha,"f");return new Bi(t,i,e,{filmThickness:a,movement:c,wavelengths:l,noiseStrength:o,noiseScale:s,offset:u,...d},h,d.mode,p,d.isMask,n)}case"transmission":{let a=new Ge(r.thickness??10),c=new Ge(r.ior??1.5),l=new Ge(r.roughness??.5),o=dt.transmissionSize,s=dt.transmissionRenderTarget,u=dt.transmissionRenderTargetDepth,d=window.innerWidth,h=window.innerHeight,p=d>=h?new Yr(h/d,1):new Yr(1,d/h),m=Ca(r),f=new UV(a,c,l,o,s,u,p,m.alpha),g=new xi(f.calpha,"f");return new Bi(t,i,e,{thickness:a,ior:c,roughness:l,aspectRatio:p,...m},f,m.mode,g,m.isMask,n)}case"toon":{let a=new di(r.positioning??0),c;r.colors?c=new Lu(r.colors.length,r.colors):(c=new Lu(10,new vt(0,0,0,1)),c.value[1]=new vt(1,1,1,1));let l;r.steps?l=new Nu(r.steps.length,r.steps):(l=new Nu(10,1),l.value[0]=0);let o=new Ia(r.source??new N(0,0,0)),s=new Pn(r.isWorldSpace??!0),u=new Ge(r.noiseStrength??0),d=new Ge(r.noiseScale??1),h=new Js(r.shadowColor),p=new Ia(r.offset??new N(0,0,0)),m=Ca(r),f=new BV(a,c,l,o,s,u,d,h,p,m.alpha),g=new xi(f.calpha,"f");return new Bi(t,i,e,{positioning:a,colors:c,steps:l,source:o,isWorldSpace:s,noiseStrength:u,noiseScale:d,shadowColor:h,offset:p,...m},f,m.mode,g,m.isMask,n)}case"outline":{let a=new Gi(r.outlineColor??16777215),c=new Gi(r.contourColor??16777215),l=new Ge(r.outlineWidth??.1),o=new Ge(r.contourWidth??.1),s=new Ge(r.outlineThreshold??.1),u=new Ge(r.contourThreshold??.1),d=new Ge(r.outlineSmoothing??.1),h=new Ge(r.contourFrequency??.1),p=new Ia(r.contourDirection??new N(0,1,0)),m=new Pn(r.positionalLines??!1),f=new Pn(r.compensation??!0),g=dt.normalRenderTarget,v=dt.normalRenderTargetDepth,S=dt.pixelRatioNode,x=dt.resolution,b=Ca(r),_=new OV(a,c,l,o,s,u,d,h,p,m,f,x,g,v,S,b.alpha),w=new xi(_.calpha,"f");return new Bi(t,i,e,{outlineColor:a,contourColor:c,outlineWidth:l,contourWidth:o,outlineThreshold:s,contourThreshold:u,outlineSmoothing:d,contourFrequency:h,contourDirection:p,positionalLines:m,compensation:f,...b},_,b.mode,w,b.isMask,n)}case"depth":{let a=new di(r.gradientType??0),c=new Pn(r.smooth??!1),l=new Ge(r.near??50),o=new Ge(r.far??200),s=new Ge(r.isVector??1),u=new Ge(r.isWorldSpace??0),d=new Ia(r.origin??new N),h=new Ia(r.direction??new N),p;r.colors?p=new Lu(r.colors.length,r.colors):(p=new Lu(2,new vt(0,0,0,1)),p.value[1]=new vt(1,1,1,1));let m;r.steps?m=new Nu(r.steps.length,r.steps):(m=new Nu(2,1),m.value[0]=0);let f=Ca(r),g=new AV(a,c,l,o,s,u,d,h,p,m,f.alpha,f.isMask),v=new xi(g.calpha,"f");return new Bi(t,i,e,{gradientType:a,smooth:c,near:l,far:o,isVector:s,isWorldSpace:u,origin:d,direction:h,colors:p,steps:m,...f},g,f.mode,v,f.isMask,n)}case"noise":{let a=new Ge(r.scale??1),c=new Ia(r.size??new N(100,100,100)),l=new Ge(r.move??1),o=new Yr(r.fA??new re(1.7,9.2)),s=new Yr(r.fB??new re(8.3,2.8)),u=new Yr(r.distortion??new re(1,1)),d=new Js(r.colorA),h=new Js(r.colorB),p=new Js(r.colorC),m=new Js(r.colorD),f=new di(r.noiseType??0),g=new di(r.voronoiStyle??0),v=new Ge(r.highCut??1),S=new Ge(r.lowCut??0),x=new Ge(r.smoothness??.5),b=new Ge(r.seed??.5),_=new di(r.quality??1),w=Ca(r),C=new kV(a,c,l,o,s,u,d,h,p,m,w.alpha,f,w.isMask,g,v,S,x,b,_),E=new xi(C.calpha,"f");return new Bi(t,i,e,{scale:a,size:c,move:l,fA:o,fB:s,distortion:u,colorA:d,colorB:h,colorC:p,colorD:m,noiseType:f,...w,voronoiStyle:g,highCut:v,lowCut:S,smoothness:x,seed:b,quality:_},C,w.mode,E,w.isMask,n)}case"normal":{let a=new Ia(r.cnormal??new N(1,1,1)),c=Ca(r),l=new TV(a,c.alpha),o=new xi(l.calpha,"f");return new Bi(t,i,e,{cnormal:a,...c},l,c.mode,o,c.isMask,n)}case"gradient":{let a=new di(r.gradientType??0),c=new Pn(r.smooth??!1),l;r.colors?l=new Lu(r.colors.length,r.colors):(l=new Lu(10,new vt(0,0,0,1)),l.value[1]=new vt(1,1,1,1));let o;r.steps?o=new Nu(r.steps.length,r.steps):(o=new Nu(10,1),o.value[0]=0);let s=new Yr(r.offset??new re(0,0)),u=new Yr(r.morph??new re(0,0)),d=new Ge(r.angle??0),h=Ca(r),p=new jV(a,c,l,o,s,u,d,h.alpha,h.isMask),m=new xi(p.calpha,"f");return new Bi(t,i,e,{gradientType:a,smooth:c,colors:l,steps:o,offset:s,morph:u,angle:d,...h},p,h.mode,m,h.isMask,n)}case"pattern":{let a=new di(r.style??0),c=new di(r.projection??0),l=new di(["x","y","z"].indexOf(r.axis)??0),o=new Ge(r.blending??0),s=new Yr(r.offset??new re(0,0)),u=new Js(r.colorA),d=new Js(r.colorB),h=new Yr(r.frequency??new re(10,10)),p=new Ge(r.size??.5),m=new Ge(r.variation??0),f=new Ge(r.smoothness??.5),g=new Ge(r.zigzag??0),v=new Ge(r.rotation??0),S=new Yr(r.vertical??new re(0,1)),x=new Yr(r.horizontal??new re(0,1)),b=new di(r.sides??6),_=Ca(r),w=new RV(a,c,l,o,s,u,d,h,p,m,f,g,v,S,x,b,_.alpha,_.isMask),C=new xi(w.calpha,"f");return new Bi(t,i,e,{style:a,projection:c,axis:l,blending:o,offset:s,colorA:u,colorB:d,frequency:h,size:p,variation:m,smoothness:f,zigzag:g,rotation:v,vertical:S,horizontal:x,sides:b,..._},w,_.mode,C,_.isMask,n)}default:{let a=new Gi(1,0,0,1),c=Ca(r),l=new ET(a,c.alpha),o=new xi(l.calpha,"f");return new Bi(t,i,e,{color:a,...c},l,c.mode,o,c.isMask,n)}}}function s_e(e,t,i,r){let n=Vwe(i,r);return o_e(i,e,t,n,r)}function QV(e,t,i,r){if(i.type==="displace"&&(e==="intensity"||e==="visible")){let n=t.uniforms[`f${t.id}_intensity`];return n?(n.value=i.intensity*(i.visible?1:0),n):void 0}if(i.type!=="displace"&&(e==="alpha"||e==="visible")){let n=t.uniforms[`f${t.id}_alpha`];if(!n)return;if(n.value=Od(i.alpha,r)*(i.visible?1:0),i.type==="outline"&&e==="visible"){let a=t.uniforms[`f${t.id}_compensation`];a&&(a.value=i.compensation&&i.visible)}return n}}function $h(e,t){let i=0,r=e.layers.find(n=>n.data.type==="light");if(r){let n=r.data,a=Number(t.getVariable(n.alphaOverride));if((typeof n.alphaOverride=="string"?a/100:n.alphaOverride)<1)return!0}for(let n of e.layers){if(n.data.type!=="displace"&&n.data.isMask)return!0;if(n.data.type!=="displace"&&"alpha"in n.data&&n.data.type!=="light"&&n.data.type!=="fresnel"&&n.data.type!=="texture"&&n.data.type!=="matcap"&&n.data.type!=="rainbow"&&n.data.type!=="outline"&&n.data.type!=="pattern"){let a=n.data.visible?n.data.alpha:0;if(typeof a=="string"&&(a=Math.max(0,Math.min(1,Number(t.getVariable(a)??100)/100))),a===1&&n.data.type==="depth"||n.data.type==="gradient"){for(let c of n.data.colors)if(c[3]<1){a=c[3];break}}else if(a===1&&n.data.type==="noise"){let c=t.color(n.data.colorA).a,l=t.color(n.data.colorB).a,o=t.color(n.data.colorC).a,s=t.color(n.data.colorD).a,u=Math.min(c,Math.min(l,Math.min(o,s)));u<1&&(a=u)}i+=(1-i)*a}}return i<1}var nu=class extends Ht{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.shadersPatchedForShapeBlend=!1,this.nodeContextUuid=0,this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return""}},l_e=class extends nu{constructor(e,t,i,r){super(),this.flatShading=e,this.side=t,this.wireframe=i,this.root=r}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,Object.assign(this.defines,e.defines),Object.assign(this.uniforms,e.uniforms),this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,i,r){return this.root.getFlavor(e,t,i,r)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,i){this.root.updateByOp(e,t,i)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},aj=class extends nu{constructor(e,t,i=!0){super(),this.data=e,this.allowVariableSaves=i,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.needsJitter=t.shared.needsJitter,vr.startContext(this),this.reset0(e,t),vr.endContext(this)}get nodeMaterial(){return this}getFlavor(e,t,i,r){let n=i?6:(e?3:0)+t;if(n+=(((r==null?void 0:r.resolutionLevel)??0)-(r!=null&&r.useChildrenColors?4:0))*7,n===0)return this;this.flavors===void 0&&(this.flavors=[]),n-=1;let a=this.flavors[n];return a===void 0&&(a=new l_e(e,t,i,this),a.needsJitter=this.needsJitter,this.flavors[n]=a,a.flatShading=e,a.side=t,a.updateAfterBuild(),r&&(a.defines.SHAPEBLEND=r.resolutionLevel,a.defines.SHAPEBLEND_C=r.useChildrenColors?1:0)),a}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){var e;return((e=this.lightLayer.getNode("occlusion"))==null?void 0:e.value)??!1}reset(e,t,i=!1){vr.startContext(this),(this.data!==e||i)&&this.reset0(e,t),vr.endContext(this)}reset0(e,t){this.data=e;let i=e.layers??Rr.defaultTwoLayerData("phong").layers;try{this.layers=i.map(r=>$v.create(this.layerIdGen++,r.id,r.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=$h(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,i){if(e[0]==="alphaOverride")this.transparent=$h(this.data,i.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if(e[0]==="layer"){let r=e[1],n=e[2];if(r&&n){let a=this.layers.find(c=>c.uuid===r);a!=null&&a.hasValue(n)&&(n==="alpha"?(this.transparent=$h(this.data,i.shared),a.setValue(n,Math.max(0,Math.min(Number(t)/100,1)))):a.setValue(n,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(i=>i.data.type==="light");t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(i=>{"alpha"in i.data&&typeof i.data.alpha=="string"&&e.shared.getVariable(i.data.alpha,["material",this.uuid,"layer",i.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.lightLayer=this.layers.find(t=>t instanceof Qo),this.lightLayer===void 0&&(this.lightLayer=new Qo(0,"",{...Ir.defaultData("light","phong"),visible:!1},new nj,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),this.build(),this.nodeContextUuid=0}applyTextureMaps(){let e=this.layers.find(n=>n instanceof Qo);if(!e)return;let t=e.data,i=t.bumpMap,r=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let n=0;n<this.layers.length;++n){let a=this.layers[n];a instanceof Bi&&a.color instanceof rj&&(a.uuid===i&&(e.node.bumpMap=a.color),a.uuid===r&&(e.node.roughnessMap=a.color))}}updateByOp(e,t,i){if(vr.startContext(this),t!==void 0?this.data=t:t=this.data,this.transparent=$h(t,i.shared),e.path[0]==="layers"){let r=i.shared,n=e.path[1];if(n===void 0)i.scene.markNeedsUpdateRendererDirty(),this.reset0(t,i);else{e.type===0&&e.props.occlusion!==void 0&&i.scene.markNeedsUpdateRendererDirty();let a=this.layers.find(c=>c.uuid===n);if(a){let c=t.layers.data(n),l;e.type===0&&("alpha"in e.props||"alphaOverride"in e.props)&&("alpha"in e.props?l={...e.props,alpha:Od(e.props.alpha,r,["material",this.uuid,"layer",n,"alpha"])}:l={...e.props,alphaOverride:Od(e.props.alphaOverride,r,["material",this.uuid,"alphaOverride"])}),a.updateByOp({...e,...l?{props:l}:{},path:e.path.slice(2)},c,i)&&this.reset0(t,i)}}}else this.reset0(t,i);vr.endContext(this)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof Bi?t.color.mask=void 0:t instanceof Qo&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof Bi&&t.isMask.value&&t.data.visible&&e>0){let i=e-1,r=this.layers[i];r instanceof Qo?r.node.mask=new Wn(t.color,t.alpha,Wn.MUL):r instanceof Bi&&(r.isMask.value||(r.color.mask=new Wn(t.color,t.alpha,Wn.MUL)))}}}blendColors(){let e=this.layers.findIndex(i=>i instanceof Bi),t=this.layers.findIndex(i=>i instanceof Qo);if(e!==-1&&e<t){let i=this.layers[e].color;for(let r=e+1;r<t;++r){let n=this.layers[r];if(n instanceof Bi){if(n.isMask.value)continue;i=new N8(i,n.color,n.alpha,n.mode)}}this.fragment.color=i}else this.fragment.color=void 0}blendAfterColors(){let e=new xi("outgoingLight","f"),t=this.layers.findIndex(i=>i instanceof Qo);if(this.layers.length>t+1){for(let i=t+1;i<this.layers.length;++i){let r=this.layers[i];if(r instanceof Bi){if(r.isMask.value)continue;e=new N8(e,r.color,r.alpha,r.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof JV);if(e.length>0){let t=e[0].position;for(let i=1;i<e.length;++i)e[i]&&(t=new Wn(t,e[i].position,Wn.ADD),t=new Wn(t,new Ge(.5).setReadonly(!0),Wn.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){this.shapeBlendhack&&this.shapeBlendhack(this),e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=this.extensions.derivatives===!0,e.extensionFragDepth=this.extensions.fragDepth===!0,e.extensionDrawBuffers=this.extensions.drawBuffers===!0,e.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(e,t){let i=(r,n,a)=>Math.min(Math.max(r,n),a);for(let r of this.layers)if(r.type==="displace"){let n=i(r.uniforms[`f${r.id}_intensity`].value,e,t);r.uniforms[`f${r.id}_intensity`].value=n}}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new _V;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this.shadersPatchedForShapeBlend=!1,this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof Bi){let t=e.params.texture;if(t instanceof CT&&!t.image.loaded)return!1}return!0}};Object.defineProperties(nu.prototype,{properties:{get:function(){return this.fragment.properties}}});var MT=class extends aj{constructor(e,t,i){super(e,t,!1),this.uuid=i,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},q8=new Map;function c_e(e){if(typeof e=="string")return e;let t=q8.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},q8.set(e,t)),t.url}var $V,u_e=new Promise(e=>{$V=e}),Y8=!1,Ry;function d_e(){if(Y8)return;if(Ry)return Ry;async function e(){await hu(()=>import("./howler-BndH3a8b.js").then(t=>t.h),__vite__mapDeps([])),$V(window!==void 0?window:global),Y8=!0}return Ry=e(),Ry}var ZV;u_e.then(e=>ZV=e);function h_e(e){let t=!1;return e.scene.objects.traverse((i,r)=>{if(r.events===void 0||Array.isArray(r.events)===!1)return!0;let n=[];r.events.forEach(a=>{"dragDropActions"in a.data?(n.push(...a.data.dragDropActions.drag),n.push(...a.data.dragDropActions.drop)):"inActions"in a.data?(n.push(...a.data.inActions),n.push(...a.data.outActions)):"gameActions"in a.data?(n.push(...a.data.gameActions.idle),n.push(...a.data.gameActions.move),n.push(...a.data.gameActions.jump),n.push(...a.data.gameActions.run)):"breakpoints"in a.data?a.data.breakpoints.forEach(c=>{n.push(...c.data.actions)}):"actions"in a.data&&n.push(...a.data.actions),t=t||n.some(c=>c.data.type==="Audio")})}),t}var zm=class{constructor({src:e,volume:t,delay:i,loop:r}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)};let n;typeof e=="string"?n={src:e}:n={src:c_e(e),format:"wav"},this.sound=new ZV.Howl(n),this.sound.on("end",this.onEnd),this.src=e,t!==void 0&&(this.volume=t),i!==void 0&&(this.delay=i),r!==void 0&&(this.loop=r)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,i){this.sound.on(e,t,i)}off(e,t,i){this.sound.off(e,t,i)}play(){this._status==="playing"||this.sound.playing()||(this._status==="paused"?(this.sound.seek()===0?this.replay():this.sound.play(),this._status="playing"):this._status==="stopped"&&(this.replay(),this._status="playing"))}pause(){this._status==="playing"&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},p_e=class{constructor(){this.type="ShapePath",this.color=new lt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Yb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){var i;return(i=this.currentPath)==null||i.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){var n;return(n=this.currentPath)==null||n.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,n,a){var c;return(c=this.currentPath)==null||c.bezierCurveTo(e,t,i,r,n,a),this}splineThru(e){var t;return(t=this.currentPath)==null||t.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function i(p,m,f,g){let v=p.x,S=m.x,x=f.x,b=g.x,_=p.y,w=m.y,C=f.y,E=g.y,A=(b-x)*(_-C)-(E-C)*(v-x),T=(S-v)*(_-C)-(w-_)*(v-x),M=(E-C)*(S-v)-(b-x)*(w-_),j=A/M,P=T/M;if(M===0&&A!==0||j<=0||j>=1||P<0||P>1)return null;if(A===0&&M===0){for(let I=0;I<2;I++)if(r(I===0?f:g,p,m),t.loc===e.ORIGIN){let k=I===0?f:g;return{x:k.x,y:k.y,t:t.t}}else if(t.loc===e.BETWEEN){let k=+(v+t.t*(S-v)).toPrecision(10),R=+(_+t.t*(w-_)).toPrecision(10);return{x:k,y:R,t:t.t}}return null}else{for(let R=0;R<2;R++)if(r(R===0?f:g,p,m),t.loc===e.ORIGIN){let O=R===0?f:g;return{x:O.x,y:O.y,t:t.t}}let I=+(v+j*(S-v)).toPrecision(10),k=+(_+j*(w-_)).toPrecision(10);return{x:I,y:k,t:j}}}function r(p,m,f){let g=f.x-m.x,v=f.y-m.y,S=p.x-m.x,x=p.y-m.y,b=g*x-S*v;if(p.x===m.x&&p.y===m.y){t.loc=e.ORIGIN,t.t=0;return}if(p.x===f.x&&p.y===f.y){t.loc=e.DESTINATION,t.t=1;return}if(b<-Number.EPSILON){t.loc=e.LEFT;return}if(b>Number.EPSILON){t.loc=e.RIGHT;return}if(g*S<0||v*x<0){t.loc=e.BEHIND;return}if(Math.sqrt(g*g+v*v)<Math.sqrt(S*S+x*x)){t.loc=e.BEYOND;return}let _;g!==0?_=S/g:_=x/v,t.loc=e.BETWEEN,t.t=_}function n(p,m){let f=[],g=[];for(let v=1;v<p.length;v++){let S=p[v-1],x=p[v];for(let b=1;b<m.length;b++){let _=m[b-1],w=m[b],C=i(S,x,_,w);C!==null&&f.find(E=>E.t<=C.t+Number.EPSILON&&E.t>=C.t-Number.EPSILON)===void 0&&(f.push(C),g.push(new re(C.x,C.y)))}}return g}function a(p,m,f){let g=new re;m.getCenter(g);let v=[];return f.forEach(S=>{S.boundingBox.containsPoint(g)&&n(p,S.points).forEach(x=>{v.push({identifier:S.identifier,isCW:S.isCW,point:x})})}),v.sort((S,x)=>S.point.x-x.point.x),v}function c(p,m,f,g,v){(v==null||v==="")&&(v="nonzero");let S=new re;p.boundingBox.getCenter(S);let x=[new re(f,S.y),new re(g,S.y)],b=a(x,p.boundingBox,m);b.sort((T,M)=>T.point.x-M.point.x);let _=[],w=[];b.forEach(T=>{T.identifier===p.identifier?_.push(T):w.push(T)});let C=_[0].point.x,E=[],A=0;for(;A<w.length&&w[A].point.x<C;)E.length>0&&E[E.length-1]===w[A].identifier?E.pop():E.push(w[A].identifier),A++;if(E.push(p.identifier),v==="evenodd"){let T=E.length%2===0,M=E[E.length-2];return{identifier:p.identifier,isHole:T,for:M}}else if(v==="nonzero"){let T=!0,M=null,j=null;for(let P=0;P<E.length;P++){let I=E[P];m[I]&&(T?(j=m[I].isCW,T=!1,M=I):j!==m[I].isCW&&(j=m[I].isCW,T=!0))}return{identifier:p.identifier,isHole:T,for:M}}else console.warn('fill-rule: "'+v+'" is currently not implemented.')}let l=0,o=999999999,s=-999999999,u=[];this.subPaths.forEach(p=>{let m=p.getPoints(),f=-999999999,g=999999999,v=-999999999,S=999999999;for(let x=0;x<m.length;x++){let b=m[x];b.y>f&&(f=b.y),b.y<g&&(g=b.y),b.x>v&&(v=b.x),b.x<S&&(S=b.x)}s<=v&&(s=v+1),o>=S&&(o=S-1),m.length&&u.push({curves:p.curves,points:m,isCW:tF.isClockWise(m),identifier:l++,boundingBox:new gM(new re(S,g),new re(v,f))})});let d=u.map(p=>{var m;return c(p,u,o,s,(m=this.userData)==null?void 0:m.style.fillRule)}),h=[];return u.forEach(p=>{let m=d[p.identifier];if(m&&!m.isHole){let f=new Kb;f.curves=p.curves,d.filter(g=>(g==null?void 0:g.isHole)&&g.for===p.identifier).forEach(g=>{if(g){let v=u[g.identifier],S=new Yb;S.curves=v.curves,f.holes.push(S)}}),h.push(f)}}),h}},eH=!1,tH,K8=new Promise(e=>{tH=e}),X8=!1,Ny;function f_e(){if(eH=!0,X8)return;if(Ny)return Ny;async function e(){let t=await hu(()=>import("./opentype-D6jUvuOk.js"),__vite__mapDeps([]));tH(t),X8=!0}return Ny=e(),Ny}var m_e=class{async load(e,t,i=()=>{}){let{load:r}=await K8;r(e,(n,a)=>{n||!a?i(n??"Something went wrong"):t(a)})}async parse(e){let{parse:t,Bidi:i}=await K8;try{let r=t(e),n=new i,a=c=>r.charToGlyphIndex(c.char);return n.registerModifier("glyphIndex",null,a),n.applyFeatures(r,r.defaultRenderOptions.features),{font:r,bidi:n}}catch(r){console.error(r)}}};async function g_e(e){return await(await fetch(e)).arrayBuffer()}var v_e=new m_e;async function J8(e){let t,i,r=!1;if(e.url?(t=await g_e(e.url),i=e.url,r=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t)if(eH){let n=await v_e.parse(t);if(n)return{font:n.font,url:i,intercepted:r,arr:t,bidi:n.bidi}}else return{font:void 0,url:i,intercepted:r,arr:t,bidi:null}}function y_e(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var b_e=class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=J8(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=J8(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,i){if(!this._bidi)return[];let r=this._bidi;r.getTextGlyphs(t);let n=r.tokenizer.tokens,a=[],c=0,l=i.length===n.length;for(let o=0;o<i.length;o++){let s=i[o].index,u=String.fromCharCode(i[o].unicode),d=n[c];if(y_e(s,d)||l)a.push({char:u,index:s,replacements:[d.state.glyphIndex],replacementChars:[d.char]}),c++;else{let h=d.char,p="",m=[d.state.glyphIndex],f=[],g=!1;for(;!g;)c++,p=t.charAt(c),h+=p,m.push(e.charToGlyphIndex(p)),f=e.stringToGlyphs(h),f.length===1&&f[0].index===s&&(g=!0),c>t.length&&(g=!0);a.push({char:u,index:s,replacements:m,replacementChars:Array.from(h)}),c++}}return a}generateShapes(e,t){if(!this._isLoaded)return;let i=this.font,r=t.fontSize/this.unitsPerEm,n=t.fontSize*t.lineHeight,a=e.map(v=>this.getTextWidth(v,t)),c=t.width,l=this.getCharWidth(`
`,t),o=t.horizontalAlign===1?l:0,s=this.computeSpaceWidthForLine(e,0,t),u=this.getLineInitialOffsetX(a[0],c,t.horizontalAlign,e[0],l),d=this.getLineInitialOffsetY(n,e.length,t.height,r,t.verticalAlign),h=[],p=e.map(v=>[]),m=e.map(v=>[]),f;for(let v=0;v<e.length;v++){let S=e[v],x={features:{liga:!0}},b=[];try{b=i.stringToGlyphs(S,x)}catch(w){console.warn(w)}u=this.getLineInitialOffsetX(a[v],c,t.horizontalAlign,S,l);let _=[];try{_=this.reverseLigaturesTable(i,S,b)}catch(w){console.warn(w)}s=this.computeSpaceWidthForLine(e,v,t);for(let w=0;w<b.length;w++){let C=b[w],E=C.index===0?`
`:C.unicode?String.fromCharCode(C.unicode):void 0,A=_[w],T=0,M=0;w===0&&t.horizontalAlign===2&&C.leftSideBearing!==void 0&&(M=-C.leftSideBearing*r),f&&(T=i.getKerningValue(C,f)*r),u+=M+T;let j=0;if(E===`
`)j=o;else if(E===" ")j=s;else{let P=this.createPath(C,r,u,d,t);P&&(j=P.offsetX-(T+M),h.push(P.path))}if(A.replacements.length===1)m[v].push([u,d]),p[v].push(j);else{let P=A.replacements.map(O=>(i.glyphs.get(O).advanceWidth??0)*r),I=P.reduce((O,D)=>O+=D,0),k=P.map(O=>O/I),R=u;for(let O=0;O<k.length;O++){let D=j*k[O];m[v].push([R,d]),p[v].push(D),R+=D}}u+=j,f=C}d-=n}let g=[];for(let v=0,S=h.length;v<S;v++)g.push(...h[v].toShapes());return{shapes:g,charWidths:p,lineWidths:a,charCoords:m}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){var e;return((e=this.font)==null?void 0:e.ascender)??0}get descender(){var e;return((e=this.font)==null?void 0:e.descender)??0}get familyName(){var e;return((e=this.font)==null?void 0:e.names.fontFamily)??""}get subfamilyName(){var e;return((e=this.font)==null?void 0:e.names.fontSubfamily)??""}get unitsPerEm(){var e;return((e=this.font)==null?void 0:e.unitsPerEm)??1}getLineInitialOffsetX(e,t,i,r,n){return(i===3||i===2)&&r.indexOf(`
`)>=0&&(e-=n),i===3?t*.5-e*.5:i===2?t-e:0}getLineInitialOffsetY(e,t,i,r,n){let a=t*e,c=Math.abs(this.ascender-this.descender)*r,l=e-c,o=-this.ascender*r-l/2;return n===3?-(i-a-o):n===2?-(i*.5-a*.5-o):o}createPath(e,t,i,r,n){var o;let a=e.getPath(i,-r,n.fontSize,{kerning:!1,letterSpacing:n.letterSpacing});if(!a){console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");return}let c=new p_e,l=(e.advanceWidth??1)*t;if(e)for(let s of a.commands){let u=(o=c.currentPath)==null?void 0:o.currentPoint;if(!(u&&s.type!=="Z"&&u.x===s.x&&-u.y===s.y))switch(s.type){case"M":c.moveTo(s.x,-s.y);break;case"L":c.lineTo(s.x,-s.y);break;case"Q":c.quadraticCurveTo(s.x1,-s.y1,s.x,-s.y);break;case"C":c.bezierCurveTo(s.x1,-s.y1,s.x2,-s.y2,s.x,-s.y);break}}return c.subPaths.forEach(s=>{let u=x_e(s.curves);u!==void 0&&s.currentPoint.distanceTo(u)>0&&s.lineTo(u.x,u.y)}),{offsetX:l+n.fontSize*n.letterSpacing,path:c}}getCharWidth(e,t){var i;return((i=this.font)==null?void 0:i.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}getTextWidth(e,t){var i;return((i=this.font)==null?void 0:i.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}computeSpaceWidthForLine(e,t,i){let r=this.getCharWidth(" ",i),n=e[t];if(n){let a=this.countSpaces(n.trimEnd());if(i.horizontalAlign===4&&t<e.length-1&&a){let c=i.width,l=this.getTextWidth(n,i);return(c-(l-a*r))/a}}return r}countSpaces(e){return(e.match(/ /g)||[]).length}};function x_e(e){if(e.length){let t=e[0];if(t instanceof Co)return t.v1;if(t instanceof bo||t instanceof iu)return t.v0}}var w_e=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,i){let r=this.objects.get(e);return r===void 0?(r=this.createObject(e,t,i),this.objects.set(e,r)):r.isShared=!0,r}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let i=this.objects.get(e);if(i&&i.isShared!==!0)return this.objects.delete(e),this.objects.set(t,i),i}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){let i=this.objects.get(e);t===i&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},Q8=class extends w_e{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,i){let r=hv(e,t,this.flatShading,i);return r.computeBoundingSphere(),r}},__e={markNeedsUpdateRendererDirty:()=>{}},k1=1e3,$8=512*k1;function S_e(e,t){let i=typeof e;return!!((t==="string"||t==="number")&&i===t||t==="boolean"&&(e==="true"||e==="false"||e===!0||e===!1)||t==="image"&&i==="string"&&e.startsWith("http"))}var C_e="https://hooks.spline.design",E_e=`${C_e}/events?hashFile=`,T_e=class{constructor(e,t){this.id=e,this.userWebhook=t,this.result=void 0,this._connected=!1,this.emitter=cw(),this.reconnectWaitFor=k1,this._onError=i=>{var r,n,a;(r=this.eventSource)==null||r.removeEventListener("message",this._onMessage),(n=this.eventSource)==null||n.removeEventListener("error",this._onError),(a=this.eventSource)==null||a.removeEventListener("open",this._onConnected),this._scheduleReconnect()},this._onConnected=i=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=k1,this._connected=!0},this._onDisconnected=()=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=k1,this._connected=!1},this._onMessage=i=>{let r=i.data,n;try{n=JSON.parse(r)}catch(a){console.error("Error parsing webhook message",a)}if(n){let a=!1;this.userWebhook.parametersSchemas.forEach(({data:c})=>{n[c.name]!==void 0&&S_e(n[c.name],c.type)&&(this.result===void 0&&(this.result={}),this.result[c.name]=n[c.name],a=!0)}),a&&this.emitter.emit("message",{userWebhookId:this.id})}}}connect(){clearTimeout(this.scheduledReconnectHandle),this.userWebhook.url&&(this.eventSource=new EventSource(E_e+this.userWebhook.url),this.eventSource.addEventListener("message",this._onMessage),this.eventSource.addEventListener("error",this._onError),this.eventSource.addEventListener("open",this._onConnected))}disconnect(){var e,t,i,r;(e=this.eventSource)==null||e.removeEventListener("message",this._onMessage),(t=this.eventSource)==null||t.removeEventListener("error",this._onError),(i=this.eventSource)==null||i.removeEventListener("open",this._onConnected),(r=this.eventSource)==null||r.close(),this._onDisconnected(),clearTimeout(this.scheduledReconnectHandle)}_scheduleReconnect(){this.reconnectWaitFor*=2,this.reconnectWaitFor>$8&&(this.reconnectWaitFor=$8),clearTimeout(this.scheduledReconnectHandle),this.scheduledReconnectHandle=setTimeout(()=>{this.scheduledReconnectHandle=void 0,this.connect()},this.reconnectWaitFor)}update(e){this.userWebhook=e}dispose(){this._connected&&this.disconnect()}get connected(){return this._connected}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}getParametersKeys(){return this.userWebhook.parametersSchemas.map(e=>e.data.name)}getParameterValue(e){var t;if(this.getParametersKeys().includes(e)){if(this.result)return(t=this.result)==null?void 0:t[e];for(let i of this.userWebhook.parametersSchemas)if(i.data.name===e)return iT.defaultParameterValueByType(i.data.type)}}},A_e=globalThis.atob,M_e=globalThis.btoa,Ep=class{static floatTo16BitPCM(e){let t=new ArrayBuffer(e.length*2),i=new DataView(t),r=0;for(let n=0;n<e.length;n++,r+=2){let a=Math.max(-1,Math.min(1,e[n]));i.setInt16(r,a<0?a*32768:a*32767,!0)}return t}static base64ToArrayBuffer(e){let t=A_e(e),i=t.length,r=new Uint8Array(i);for(let n=0;n<i;n++)r[n]=t.charCodeAt(n);return r.buffer}static arrayBufferToBase64(e){e instanceof Float32Array?e=this.floatTo16BitPCM(e):e instanceof Int16Array&&(e=e.buffer);let t="",i=new Uint8Array(e),r=32768;for(let n=0;n<i.length;n+=r){let a=i.subarray(n,n+r);t+=String.fromCharCode.apply(null,a)}return M_e(t)}static mergeInt16Arrays(e,t){if(e instanceof ArrayBuffer&&(e=new Int16Array(e)),t instanceof ArrayBuffer&&(t=new Int16Array(t)),!(e instanceof Int16Array)||!(t instanceof Int16Array))throw new Error("Both items must be Int16Array");let i=new Int16Array(e.length+t.length);for(let r=0;r<e.length;r++)i[r]=e[r];for(let r=0;r<t.length;r++)i[e.length+r]=t[r];return i}static generateId(e,t=21){let i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r=Array(t-e.length).fill(0).map(n=>i[Math.floor(Math.random()*i.length)]).join("");return`${e}${r}`}},j_e=e=>new Promise(t=>setTimeout(()=>t(),e)),iH=class{constructor(){this.eventHandlers={},this.nextEventHandlers={}}clearEventHandlers(){return this.eventHandlers={},this.nextEventHandlers={},!0}on(e,t){return this.eventHandlers[e]=this.eventHandlers[e]||[],this.eventHandlers[e].push(t),t}onNext(e,t){return this.nextEventHandlers[e]=this.nextEventHandlers[e]||[],this.nextEventHandlers[e].push(t),t}off(e,t){let i=this.eventHandlers[e]||[];if(t){let r=i.indexOf(t);if(r===-1)throw new Error(`Could not turn off specified event listener for "${e}": not found as a listener`);i.splice(r,1)}else delete this.eventHandlers[e];return!0}offNext(e,t){let i=this.nextEventHandlers[e]||[];if(t){let r=i.indexOf(t);if(r===-1)throw new Error(`Could not turn off specified next event listener for "${e}": not found as a listener`);i.splice(r,1)}else delete this.nextEventHandlers[e];return!0}async waitForNext(e,t=null){let i=Date.now(),r;for(this.onNext(e,n=>r=n);!r;){if(t&&Date.now()-i>t)return null;await j_e(1)}return r}dispatch(e,t){let i=[].concat(this.eventHandlers[e]||[]);for(let n of i)n(t);let r=[].concat(this.nextEventHandlers[e]||[]);for(let n of r)n(t);return delete this.nextEventHandlers[e],!0}},I_e=class extends iH{constructor({url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:i,debug:r}={}){if(super(),this.defaultUrl="wss://api.openai.com/v1/realtime",this.url=e||this.defaultUrl,this.apiKey=t||null,this.debug=!!r,this.ws=null,globalThis.document&&this.apiKey&&!i)throw new Error('Can not provide API key in the browser without "dangerouslyAllowAPIKeyInBrowser" set to true')}isConnected(){return!!this.ws}log(...e){let t=[`[Websocket/${new Date().toISOString()}]`].concat(e).map(i=>typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i);return this.debug&&console.log(...t),!0}async connect({model:e}={model:"gpt-4o-realtime-preview-2024-10-01"}){if(!this.apiKey&&this.url===this.defaultUrl&&console.warn(`No apiKey provided for connection to "${this.url}"`),this.isConnected())throw new Error("Already connected");if(globalThis.document){this.apiKey&&console.warn("Warning: Connecting using API key in the browser, this is not recommended");let t=globalThis.WebSocket,i=new t(`${this.url}${e?`?model=${e}`:""}`,["realtime",`openai-insecure-api-key.${this.apiKey}`,"openai-beta.realtime-v1"]);return i.addEventListener("message",r=>{let n=JSON.parse(r.data);this.receive(n.type,n)}),new Promise((r,n)=>{let a=()=>{this.disconnect(i),n(new Error(`Could not connect to "${this.url}"`))};i.addEventListener("error",a),i.addEventListener("open",()=>{this.log(`Connected to "${this.url}"`),i.removeEventListener("error",a),i.addEventListener("error",()=>{this.disconnect(i),this.log(`Error, disconnected from "${this.url}"`),this.dispatch("close",{error:!0})}),i.addEventListener("close",()=>{this.disconnect(i),this.log(`Disconnected from "${this.url}"`),this.dispatch("close",{error:!1})}),this.ws=i,r(!0)})})}}disconnect(e){if(!e||this.ws===e)return this.ws&&this.ws.close(),this.ws=null,!0}receive(e,t){return this.log("received:",e,t),this.dispatch(`server.${e}`,t),this.dispatch("server.*",t),!0}send(e,t){if(!this.isConnected())throw new Error("RealtimeAPI is not connected");if(t=t||{},typeof t!="object")throw new Error("data must be an object");let i={event_id:Ep.generateId("evt_"),type:e,...t};return this.dispatch(`client.${e}`,i),this.dispatch("client.*",i),this.log("sent:",e,i),this.ws.send(JSON.stringify(i)),!0}},P_e=class{constructor(){$u(this,"defaultFrequency",24e3),$u(this,"EventProcessors",{"conversation.item.created":e=>{let{item:t}=e,i=JSON.parse(JSON.stringify(t));if(this.itemLookup[i.id]||(this.itemLookup[i.id]=i,this.items.push(i)),i.formatted={},i.formatted.audio=new Int16Array(0),i.formatted.text="",i.formatted.transcript="",this.queuedSpeechItems[i.id]&&(i.formatted.audio=this.queuedSpeechItems[i.id].audio,delete this.queuedSpeechItems[i.id]),i.content){let r=i.content.filter(n=>["text","input_text"].includes(n.type));for(let n of r)i.formatted.text+=n.text}return this.queuedTranscriptItems[i.id]&&(i.formatted.transcript=this.queuedTranscriptItems.transcript,delete this.queuedTranscriptItems[i.id]),i.type==="message"?i.role==="user"?(i.status="completed",this.queuedInputAudio&&(i.formatted.audio=this.queuedInputAudio,this.queuedInputAudio=null)):i.status="in_progress":i.type==="function_call"?(i.formatted.tool={type:"function",name:i.name,call_id:i.call_id,arguments:""},i.status="in_progress"):i.type==="function_call_output"&&(i.status="completed",i.formatted.output=i.output),{item:i,delta:null}},"conversation.item.truncated":e=>{let{item_id:t,audio_end_ms:i}=e,r=this.itemLookup[t];if(!r)throw new Error(`item.truncated: Item "${t}" not found`);let n=Math.floor(i*this.defaultFrequency/1e3);return r.formatted.transcript="",r.formatted.audio=r.formatted.audio.slice(0,n),{item:r,delta:null}},"conversation.item.deleted":e=>{let{item_id:t}=e,i=this.itemLookup[t];if(!i)throw new Error(`item.deleted: Item "${t}" not found`);delete this.itemLookup[i.id];let r=this.items.indexOf(i);return r>-1&&this.items.splice(r,1),{item:i,delta:null}},"conversation.item.input_audio_transcription.completed":e=>{let{item_id:t,content_index:i,transcript:r}=e,n=this.itemLookup[t],a=r||" ";return n?(n.content[i].transcript=r,n.formatted.transcript=a,{item:n,delta:{transcript:r}}):(this.queuedTranscriptItems[t]={transcript:a},{item:null,delta:null})},"input_audio_buffer.speech_started":e=>{let{item_id:t,audio_start_ms:i}=e;return this.queuedSpeechItems[t]={audio_start_ms:i},{item:null,delta:null}},"input_audio_buffer.speech_stopped":(e,t)=>{let{item_id:i,audio_end_ms:r}=e;this.queuedSpeechItems[i]||(this.queuedSpeechItems[i]={audio_start_ms:r});let n=this.queuedSpeechItems[i];if(n.audio_end_ms=r,t){let a=Math.floor(n.audio_start_ms*this.defaultFrequency/1e3),c=Math.floor(n.audio_end_ms*this.defaultFrequency/1e3);n.audio=t.slice(a,c)}return{item:null,delta:null}},"response.created":e=>{let{response:t}=e;return this.responseLookup[t.id]||(this.responseLookup[t.id]=t,this.responses.push(t)),{item:null,delta:null}},"response.output_item.added":e=>{let{response_id:t,item:i}=e,r=this.responseLookup[t];if(!r)throw new Error(`response.output_item.added: Response "${t}" not found`);return r.output.push(i.id),{item:null,delta:null}},"response.output_item.done":e=>{let{item:t}=e;if(!t)throw new Error('response.output_item.done: Missing "item"');let i=this.itemLookup[t.id];if(!i)throw new Error(`response.output_item.done: Item "${t.id}" not found`);return i.status=t.status,{item:i,delta:null}},"response.content_part.added":e=>{let{item_id:t,part:i}=e,r=this.itemLookup[t];if(!r)throw new Error(`response.content_part.added: Item "${t}" not found`);return r.content.push(i),{item:r,delta:null}},"response.audio_transcript.delta":e=>{let{item_id:t,content_index:i,delta:r}=e,n=this.itemLookup[t];if(!n)throw new Error(`response.audio_transcript.delta: Item "${t}" not found`);return n.content[i].transcript+=r,n.formatted.transcript+=r,{item:n,delta:{transcript:r}}},"response.audio.delta":e=>{let{item_id:t,content_index:i,delta:r}=e,n=this.itemLookup[t];if(!n)throw new Error(`response.audio.delta: Item "${t}" not found`);let a=Ep.base64ToArrayBuffer(r),c=new Int16Array(a);return n.formatted.audio=Ep.mergeInt16Arrays(n.formatted.audio,c),{item:n,delta:{audio:c}}},"response.text.delta":e=>{let{item_id:t,content_index:i,delta:r}=e,n=this.itemLookup[t];if(!n)throw new Error(`response.text.delta: Item "${t}" not found`);return n.content[i].text+=r,n.formatted.text+=r,{item:n,delta:{text:r}}},"response.function_call_arguments.delta":e=>{let{item_id:t,delta:i}=e,r=this.itemLookup[t];if(!r)throw new Error(`response.function_call_arguments.delta: Item "${t}" not found`);return r.arguments+=i,r.formatted.tool.arguments+=i,{item:r,delta:{arguments:i}}}}),this.clear()}clear(){return this.itemLookup={},this.items=[],this.responseLookup={},this.responses=[],this.queuedSpeechItems={},this.queuedTranscriptItems={},this.queuedInputAudio=null,!0}queueInputAudio(e){return this.queuedInputAudio=e,e}processEvent(e,...t){if(!e.event_id)throw console.error(e),new Error('Missing "event_id" on event');if(!e.type)throw console.error(e),new Error('Missing "type" on event');let i=this.EventProcessors[e.type];if(!i)throw new Error(`Missing conversation event processor for "${e.type}"`);return i.call(this,e,...t)}getItem(e){return this.itemLookup[e]||null}getItems(){return this.items.slice()}},Z8=class extends iH{constructor({url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:i,debug:r}={}){super(),this.defaultSessionConfig={modalities:["text","audio"],instructions:"",voice:"alloy",input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:null,turn_detection:null,tools:[],tool_choice:"auto",temperature:.8,max_response_output_tokens:4096},this.sessionConfig={},this.transcriptionModels=[{model:"whisper-1"}],this.defaultServerVadConfig={type:"server_vad",threshold:.5,prefix_padding_ms:300,silence_duration_ms:200},this.realtime=new I_e({url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:i,debug:r}),this.conversation=new P_e,this._resetConfig(),this._addAPIEventHandlers()}_resetConfig(){return this.sessionCreated=!1,this.tools={},this.sessionConfig=JSON.parse(JSON.stringify(this.defaultSessionConfig)),this.inputAudioBuffer=new Int16Array(0),!0}_addAPIEventHandlers(){this.realtime.on("client.*",r=>{let n={time:new Date().toISOString(),source:"client",event:r};this.dispatch("realtime.event",n)}),this.realtime.on("server.*",r=>{let n={time:new Date().toISOString(),source:"server",event:r};this.dispatch("realtime.event",n)}),this.realtime.on("server.session.created",()=>this.sessionCreated=!0);let e=(r,...n)=>{let{item:a,delta:c}=this.conversation.processEvent(r,...n);return{item:a,delta:c}},t=(r,...n)=>{let{item:a,delta:c}=e(r,...n);return a&&this.dispatch("conversation.updated",{item:a,delta:c}),{item:a,delta:c}},i=async r=>{try{let n=JSON.parse(r.arguments),a=this.tools[r.name];if(!a)throw new Error(`Tool "${r.name}" has not been added`);let c=await a.handler(n);this.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:r.call_id,output:JSON.stringify(c)}})}catch(n){this.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:r.call_id,output:JSON.stringify({error:n.message})}})}this.createResponse()};return this.realtime.on("server.response.created",e),this.realtime.on("server.response.output_item.added",e),this.realtime.on("server.response.content_part.added",e),this.realtime.on("server.input_audio_buffer.speech_started",r=>{e(r),this.dispatch("conversation.interrupted")}),this.realtime.on("server.input_audio_buffer.speech_stopped",r=>e(r,this.inputAudioBuffer)),this.realtime.on("server.conversation.item.created",r=>{let{item:n}=t(r);this.dispatch("conversation.item.appended",{item:n}),n.status==="completed"&&this.dispatch("conversation.item.completed",{item:n})}),this.realtime.on("server.conversation.item.truncated",t),this.realtime.on("server.conversation.item.deleted",t),this.realtime.on("server.conversation.item.input_audio_transcription.completed",t),this.realtime.on("server.response.audio_transcript.delta",t),this.realtime.on("server.response.audio.delta",t),this.realtime.on("server.response.text.delta",t),this.realtime.on("server.response.function_call_arguments.delta",t),this.realtime.on("server.response.output_item.done",async r=>{let{item:n}=t(r);n.status==="completed"&&this.dispatch("conversation.item.completed",{item:n}),n.formatted.tool&&i(n.formatted.tool)}),!0}isConnected(){return this.realtime.isConnected()}reset(){return this.disconnect(),this.clearEventHandlers(),this.realtime.clearEventHandlers(),this._resetConfig(),this._addAPIEventHandlers(),!0}async connect(){if(this.isConnected())throw new Error("Already connected, use .disconnect() first");return await this.realtime.connect(),this.updateSession(),!0}async waitForSessionCreated(){if(!this.isConnected())throw new Error("Not connected, use .connect() first");for(;!this.sessionCreated;)await new Promise(e=>setTimeout(()=>e(),1));return!0}disconnect(){this.sessionCreated=!1,this.realtime.isConnected()&&this.realtime.disconnect(),this.conversation.clear()}getTurnDetectionType(){var e;return((e=this.sessionConfig.turn_detection)==null?void 0:e.type)||null}addTool(e,t){if(!(e!=null&&e.name))throw new Error("Missing tool name in definition");let i=e==null?void 0:e.name;if(this.tools[i])throw new Error(`Tool "${i}" already added. Please use .removeTool("${i}") before trying to add again.`);if(typeof t!="function")throw new Error(`Tool "${i}" handler must be a function`);return this.tools[i]={definition:e,handler:t},this.updateSession(),this.tools[i]}removeTool(e){if(!this.tools[e])throw new Error(`Tool "${e}" does not exist, can not be removed.`);return delete this.tools[e],!0}deleteItem(e){return this.realtime.send("conversation.item.delete",{item_id:e}),!0}updateSession({modalities:e=void 0,instructions:t=void 0,voice:i=void 0,input_audio_format:r=void 0,output_audio_format:n=void 0,input_audio_transcription:a=void 0,turn_detection:c=void 0,tools:l=void 0,tool_choice:o=void 0,temperature:s=void 0,max_response_output_tokens:u=void 0}={}){e!==void 0&&(this.sessionConfig.modalities=e),t!==void 0&&(this.sessionConfig.instructions=t),i!==void 0&&(this.sessionConfig.voice=i),r!==void 0&&(this.sessionConfig.input_audio_format=r),n!==void 0&&(this.sessionConfig.output_audio_format=n),a!==void 0&&(this.sessionConfig.input_audio_transcription=a),c!==void 0&&(this.sessionConfig.turn_detection=c),l!==void 0&&(this.sessionConfig.tools=l),o!==void 0&&(this.sessionConfig.tool_choice=o),s!==void 0&&(this.sessionConfig.temperature=s),u!==void 0&&(this.sessionConfig.max_response_output_tokens=u);let d=[].concat((l||[]).map(p=>{let m={type:"function",...p};if(this.tools[m==null?void 0:m.name])throw new Error(`Tool "${m==null?void 0:m.name}" has already been defined`);return m}),Object.keys(this.tools).map(p=>({type:"function",...this.tools[p].definition}))),h={...this.sessionConfig};return h.tools=d,this.realtime.isConnected()&&this.realtime.send("session.update",{session:h}),!0}sendUserMessageContent(e=[]){if(e.length){for(let t of e)t.type==="input_audio"&&(t.audio instanceof ArrayBuffer||t.audio instanceof Int16Array)&&(t.audio=Ep.arrayBufferToBase64(t.audio));this.realtime.send("conversation.item.create",{item:{type:"message",role:"user",content:e}})}return this.createResponse(),!0}appendInputAudio(e){return e.byteLength>0&&(this.realtime.send("input_audio_buffer.append",{audio:Ep.arrayBufferToBase64(e)}),this.inputAudioBuffer=Ep.mergeInt16Arrays(this.inputAudioBuffer,e)),!0}createResponse(){return this.getTurnDetectionType()===null&&this.inputAudioBuffer.byteLength>0&&(this.realtime.send("input_audio_buffer.commit"),this.conversation.queueInputAudio(this.inputAudioBuffer),this.inputAudioBuffer=new Int16Array(0)),this.realtime.send("response.create"),!0}cancelResponse(e,t=0){if(e){if(e){let i=this.conversation.getItem(e);if(!i)throw new Error(`Could not find item "${e}"`);if(i.type!=="message")throw new Error('Can only cancelResponse messages with type "message"');if(i.role!=="assistant")throw new Error('Can only cancelResponse messages with role "assistant"');this.realtime.send("response.cancel");let r=i.content.findIndex(n=>n.type==="audio");if(r===-1)throw new Error("Could not find audio on item to cancel");return this.realtime.send("conversation.item.truncate",{item_id:e,content_index:r,audio_end_ms:Math.floor(t/this.conversation.defaultFrequency*1e3)}),{item:i}}}else return this.realtime.send("response.cancel"),{item:null}}async waitForNextItem(){let e=await this.waitForNext("conversation.item.appended"),{item:t}=e;return{item:t}}async waitForNextCompletedItem(){let e=await this.waitForNext("conversation.item.completed"),{item:t}=e;return{item:t}}},k_e=`
class AudioProcessor extends AudioWorkletProcessor {

  constructor() {
    super();
    this.port.onmessage = this.receive.bind(this);
    this.initialize();
  }

  initialize() {
    this.foundAudio = false;
    this.recording = false;
    this.chunks = [];
  }

  /**
   * Concatenates sampled chunks into channels
   * Format is chunk[Left[], Right[]]
   */
  readChannelData(chunks, channel = -1, maxChannels = 9) {
    let channelLimit;
    if (channel !== -1) {
      if (chunks[0] && chunks[0].length - 1 < channel) {
        throw new Error(
          \`Channel \${channel} out of range: max \${chunks[0].length}\`
        );
      }
      channelLimit = channel + 1;
    } else {
      channel = 0;
      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);
    }
    const channels = [];
    for (let n = channel; n < channelLimit; n++) {
      const length = chunks.reduce((sum, chunk) => {
        return sum + chunk[n].length;
      }, 0);
      const buffers = chunks.map((chunk) => chunk[n]);
      const result = new Float32Array(length);
      let offset = 0;
      for (let i = 0; i < buffers.length; i++) {
        result.set(buffers[i], offset);
        offset += buffers[i].length;
      }
      channels[n] = result;
    }
    return channels;
  }

  /**
   * Combines parallel audio data into correct format,
   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]
   */
  formatAudioData(channels) {
    if (channels.length === 1) {
      // Simple case is only one channel
      const float32Array = channels[0].slice();
      const meanValues = channels[0].slice();
      return { float32Array, meanValues };
    } else {
      const float32Array = new Float32Array(
        channels[0].length * channels.length
      );
      const meanValues = new Float32Array(channels[0].length);
      for (let i = 0; i < channels[0].length; i++) {
        const offset = i * channels.length;
        let meanValue = 0;
        for (let n = 0; n < channels.length; n++) {
          float32Array[offset + n] = channels[n][i];
          meanValue += channels[n][i];
        }
        meanValues[i] = meanValue / channels.length;
      }
      return { float32Array, meanValues };
    }
  }

  /**
   * Converts 32-bit float data to 16-bit integers
   */
  floatTo16BitPCM(float32Array) {
    const buffer = new ArrayBuffer(float32Array.length * 2);
    const view = new DataView(buffer);
    let offset = 0;
    for (let i = 0; i < float32Array.length; i++, offset += 2) {
      let s = Math.max(-1, Math.min(1, float32Array[i]));
      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);
    }
    return buffer;
  }

  /**
   * Retrieves the most recent amplitude values from the audio stream
   * @param {number} channel
   */
  getValues(channel = -1) {
    const channels = this.readChannelData(this.chunks, channel);
    const { meanValues } = this.formatAudioData(channels);
    return { meanValues, channels };
  }

  /**
   * Exports chunks as an audio/wav file
   */
  export() {
    const channels = this.readChannelData(this.chunks);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const audioData = this.floatTo16BitPCM(float32Array);
    return {
      meanValues: meanValues,
      audio: {
        bitsPerSample: 16,
        channels: channels,
        data: audioData,
      },
    };
  }

  receive(e) {
    const { event, id } = e.data;
    let receiptData = {};
    switch (event) {
      case 'start':
        this.recording = true;
        break;
      case 'stop':
        this.recording = false;
        break;
      case 'clear':
        this.initialize();
        break;
      case 'export':
        receiptData = this.export();
        break;
      case 'read':
        receiptData = this.getValues();
        break;
      default:
        break;
    }
    // Always send back receipt
    this.port.postMessage({ event: 'receipt', id, data: receiptData });
  }

  sendChunk(chunk) {
    const channels = this.readChannelData([chunk]);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const rawAudioData = this.floatTo16BitPCM(float32Array);
    const monoAudioData = this.floatTo16BitPCM(meanValues);
    this.port.postMessage({
      event: 'chunk',
      data: {
        mono: monoAudioData,
        raw: rawAudioData,
      },
    });
  }

  process(inputList, outputList, parameters) {
    // Copy input to output (e.g. speakers)
    // Note that this creates choppy sounds with Mac products
    const sourceLimit = Math.min(inputList.length, outputList.length);
    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {
      const input = inputList[inputNum];
      const output = outputList[inputNum];
      const channelCount = Math.min(input.length, output.length);
      for (let channelNum = 0; channelNum < channelCount; channelNum++) {
        input[channelNum].forEach((sample, i) => {
          output[channelNum][i] = sample;
        });
      }
    }
    const inputs = inputList[0];
    // There's latency at the beginning of a stream before recording starts
    // Make sure we actually receive audio data before we start storing chunks
    let sliceIndex = 0;
    if (!this.foundAudio) {
      for (const channel of inputs) {
        sliceIndex = 0; // reset for each channel
        if (this.foundAudio) {
          break;
        }
        if (channel) {
          for (const value of channel) {
            if (value !== 0) {
              // find only one non-zero entry in any channel
              this.foundAudio = true;
              break;
            } else {
              sliceIndex++;
            }
          }
        }
      }
    }
    if (inputs && inputs[0] && this.foundAudio && this.recording) {
      // We need to copy the TypedArray, because the \`process\`
      // internals will reuse the same buffer to hold each input
      const chunk = inputs.map((input) => input.slice(sliceIndex));
      this.chunks.push(chunk);
      this.sendChunk(chunk);
    }
    return true;
  }
}

registerProcessor('audio_processor', AudioProcessor);
`,D_e=new Blob([k_e],{type:"application/javascript"}),O_e=URL.createObjectURL(D_e),R_e=O_e,eO=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],N_e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Jc=[],oj=[];for(let e=1;e<=8;e++)for(let t=0;t<eO.length;t++){let i=eO[t];Jc.push(i/Math.pow(2,8-e)),oj.push(N_e[t]+e)}var Ox=[32,2e3],tO=Jc.filter((e,t)=>Jc[t]>Ox[0]&&Jc[t]<Ox[1]),L_e=oj.filter((e,t)=>Jc[t]>Ox[0]&&Jc[t]<Ox[1]),sj=class{static getFrequencies(e,t,i,r="frequency",n=-100,a=-30){i||(i=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(i));let c=t/2,l=1/i.length*c,o,s,u;if(r==="music"||r==="voice"){let h=r==="voice"?tO:Jc,p=Array(h.length).fill(n);for(let m=0;m<i.length;m++){let f=m*l,g=i[m];for(let v=h.length-1;v>=0;v--)if(f>h[v]){p[v]=Math.max(p[v],g);break}}o=p,s=r==="voice"?tO:Jc,u=r==="voice"?L_e:oj}else o=Array.from(i),s=o.map((h,p)=>l*p),u=s.map(h=>`${h.toFixed(2)} Hz`);let d=o.map(h=>Math.max(0,Math.min((h-n)/(a-n),1)));return{values:new Float32Array(d),frequencies:s,labels:u}}constructor(e,t=null){if(this.fftResults=[],t){let{length:i,sampleRate:r}=t,n=new OfflineAudioContext({length:i,sampleRate:r}),a=n.createBufferSource();a.buffer=t;let c=n.createAnalyser();c.fftSize=8192,c.smoothingTimeConstant=.1,a.connect(c);let l=1/60,o=i/r,s=u=>{let d=l*u;d<o&&n.suspend(d).then(()=>{let h=new Float32Array(c.frequencyBinCount);c.getFloatFrequencyData(h),this.fftResults.push(h),s(u+1)}),u===1?n.startRendering():n.resume()};a.start(0),s(1),this.audio=e,this.context=n,this.analyser=c,this.sampleRate=r,this.audioBuffer=t}else{let i=new AudioContext,r=i.createMediaElementSource(e),n=i.createAnalyser();n.fftSize=8192,n.smoothingTimeConstant=.1,r.connect(n),n.connect(i.destination),this.audio=e,this.context=i,this.analyser=n,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}getFrequencies(e="frequency",t=-100,i=-30){let r=null;if(this.audioBuffer&&this.fftResults.length){let n=this.audio.currentTime/this.audio.duration,a=Math.min(n*this.fftResults.length|0,this.fftResults.length-1);r=this.fftResults[a]}return sj.getFrequencies(this.analyser,this.sampleRate,r,e,t,i)}async resumeIfSuspended(){return this.context.state==="suspended"&&await this.context.resume(),!0}},bh=class{static floatTo16BitPCM(e){let t=new ArrayBuffer(e.length*2),i=new DataView(t),r=0;for(let n=0;n<e.length;n++,r+=2){let a=Math.max(-1,Math.min(1,e[n]));i.setInt16(r,a<0?a*32768:a*32767,!0)}return t}static mergeBuffers(e,t){let i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.buffer}_packData(e,t){return[new Uint8Array([t,t>>8]),new Uint8Array([t,t>>8,t>>16,t>>24])][e]}pack(e,t){if(t!=null&&t.bitsPerSample)if(t!=null&&t.channels){if(!(t!=null&&t.data))throw new Error('Missing "data"')}else throw new Error('Missing "channels"');else throw new Error('Missing "bitsPerSample"');let{bitsPerSample:i,channels:r,data:n}=t,a=["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,r.length),this._packData(1,e),this._packData(1,e*r.length*i/8),this._packData(0,r.length*i/8),this._packData(0,i),"data",this._packData(1,r[0].length*r.length*i/8),n],c=new Blob(a,{type:"audio/mpeg"}),l=URL.createObjectURL(c);return{blob:c,url:l,channelCount:r.length,sampleRate:e,duration:n.byteLength/(r.length*e*2)}}},iO=class{constructor({sampleRate:e=44100,outputToSpeakers:t=!1,debug:i=!1}={}){this.scriptSrc=R_e,this.sampleRate=e,this.outputToSpeakers=t,this.debug=!!i,this._deviceChangeCallback=null,this._devices=[],this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}static async decode(e,t=44100,i=-1){let r=new AudioContext({sampleRate:t}),n,a;if(e instanceof Blob){if(i!==-1)throw new Error('Can not specify "fromSampleRate" when reading from Blob');a=e,n=await a.arrayBuffer()}else if(e instanceof ArrayBuffer){if(i!==-1)throw new Error('Can not specify "fromSampleRate" when reading from ArrayBuffer');n=e,a=new Blob([n],{type:"audio/wav"})}else{let s,u;if(e instanceof Int16Array){u=e,s=new Float32Array(e.length);for(let h=0;h<e.length;h++)s[h]=e[h]/32768}else if(e instanceof Float32Array)s=e;else if(e instanceof Array)s=new Float32Array(e);else throw new Error('"audioData" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>');if(i===-1)throw new Error('Must specify "fromSampleRate" when reading from Float32Array, In16Array or Array');if(i<3e3)throw new Error('Minimum "fromSampleRate" is 3000 (3kHz)');u||(u=bh.floatTo16BitPCM(s));let d={bitsPerSample:16,channels:[s],data:u};a=new bh().pack(i,d).blob,n=await a.arrayBuffer()}let c=await r.decodeAudioData(n),l=c.getChannelData(0),o=URL.createObjectURL(a);return{blob:a,url:o,values:l,audioBuffer:c}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,t={},i=null){if(i=i||this.processor,!i)throw new Error("Can not send events without recording first");let r={event:e,id:this._lastEventId++,data:t};i.port.postMessage(r);let n=new Date().valueOf();for(;!this.eventReceipts[r.id];){if(new Date().valueOf()-n>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(c=>setTimeout(()=>c(!0),1))}let a=this.eventReceipts[r.id];return delete this.eventReceipts[r.id],a}listenForDeviceChange(e){if(e===null&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(e!==null){let t=0,i=[],r=a=>a.map(c=>c.deviceId).sort().join(","),n=async()=>{let a=++t,c=await this.listDevices();a===t&&r(i)!==r(c)&&(i=c,e(c.slice()))};navigator.mediaDevices.addEventListener("devicechange",n),n(),this._deviceChangeCallback=n}return!0}async requestPermission(){let e=await navigator.permissions.query({name:"microphone"});if(e.state==="denied")window.alert("You must grant microphone access to use this feature.");else if(e.state==="prompt")try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(t=>t.stop())}catch{window.alert("You must grant microphone access to use this feature.")}return!0}async listDevices(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw new Error("Could not request user devices");await this.requestPermission();let e=(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput"),t=e.findIndex(r=>r.deviceId==="default"),i=[];if(t!==-1){let r=e.splice(t,1)[0],n=e.findIndex(a=>a.groupId===r.groupId);n!==-1&&(r=e.splice(n,1)[0]),r.default=!0,i.push(r)}return i.concat(e)}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw new Error("Could not request user media");try{let c={audio:!0};e&&(c.audio={deviceId:{exact:e}}),this.stream=await navigator.mediaDevices.getUserMedia(c)}catch{throw new Error("Could not start media stream")}let t=new AudioContext({sampleRate:this.sampleRate}),i=t.createMediaStreamSource(this.stream);try{await t.audioWorklet.addModule(this.scriptSrc)}catch(c){throw console.error(c),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}let r=new AudioWorkletNode(t,"audio_processor");r.port.onmessage=c=>{let{event:l,id:o,data:s}=c.data;if(l==="receipt")this.eventReceipts[o]=s;else if(l==="chunk")if(this._chunkProcessorSize){let u=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:bh.mergeBuffers(u.raw,s.raw),mono:bh.mergeBuffers(u.mono,s.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(s)};let n=i.connect(r),a=t.createAnalyser();return a.fftSize=8192,a.smoothingTimeConstant=.1,n.connect(a),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),a.connect(t.destination)),this.source=i,this.node=n,this.analyser=a,this.processor=r,!0}getFrequencies(e="frequency",t=-100,i=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return sj.getFrequencies(this.analyser,this.sampleRate,null,e,t,i)}async pause(){if(this.processor){if(!this.recording)throw new Error("Already paused: please call .record() first")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},t=8192){if(this.processor){if(this.recording)throw new Error("Already recording: please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorSize=t,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");let t=await this._event("export");return new bh().pack(this.sampleRate,t.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");let e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.stream.getTracks().forEach(i=>i.stop()),this.log("Exporting ...");let t=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new bh().pack(this.sampleRate,t.audio)}async quit(){return this.listenForDeviceChange(null),this.processor&&await this.end(),!0}},z_e=`
class StreamProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.hasStarted = false;
    this.hasInterrupted = false;
    this.outputBuffers = [];
    this.bufferLength = 128;
    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };
    this.writeOffset = 0;
    this.trackSampleOffsets = {};
    this.port.onmessage = (event) => {
      if (event.data) {
        const payload = event.data;
        if (payload.event === 'write') {
          const int16Array = payload.buffer;
          const float32Array = new Float32Array(int16Array.length);
          for (let i = 0; i < int16Array.length; i++) {
            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32
          }
          this.writeData(float32Array, payload.trackId);
        } else if (
          payload.event === 'offset' ||
          payload.event === 'interrupt'
        ) {
          const requestId = payload.requestId;
          const trackId = this.write.trackId;
          const offset = this.trackSampleOffsets[trackId] || 0;
          this.port.postMessage({
            event: 'offset',
            requestId,
            trackId,
            offset,
          });
          if (payload.event === 'interrupt') {
            this.hasInterrupted = true;
          }
        } else {
          throw new Error(\`Unhandled event "\${payload.event}"\`);
        }
      }
    };
  }

  writeData(float32Array, trackId = null) {
    let { buffer } = this.write;
    let offset = this.writeOffset;
    for (let i = 0; i < float32Array.length; i++) {
      buffer[offset++] = float32Array[i];
      if (offset >= buffer.length) {
        this.outputBuffers.push(this.write);
        this.write = { buffer: new Float32Array(this.bufferLength), trackId };
        buffer = this.write.buffer;
        offset = 0;
      }
    }
    this.writeOffset = offset;
    return true;
  }

  process(inputs, outputs, parameters) {
    const output = outputs[0];
    const outputChannelData = output[0];
    const outputBuffers = this.outputBuffers;
    if (this.hasInterrupted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else if (outputBuffers.length) {
      this.hasStarted = true;
      const { buffer, trackId } = outputBuffers.shift();
      for (let i = 0; i < outputChannelData.length; i++) {
        outputChannelData[i] = buffer[i] || 0;
      }
      if (trackId) {
        this.trackSampleOffsets[trackId] =
          this.trackSampleOffsets[trackId] || 0;
        this.trackSampleOffsets[trackId] += buffer.length;
      }
      return true;
    } else if (this.hasStarted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else {
      return true;
    }
  }
}

registerProcessor('stream_processor', StreamProcessor);
`,B_e=new Blob([z_e],{type:"application/javascript"}),F_e=URL.createObjectURL(B_e),U_e=F_e,V_e=class{constructor({sampleRate:e=44100}={}){this.scriptSrc=U_e,this.sampleRate=e,this.context=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={}}async connect(){this.context=new AudioContext({sampleRate:this.sampleRate}),this.context.state==="suspended"&&await this.context.resume();try{await this.context.audioWorklet.addModule(this.scriptSrc)}catch(t){throw console.error(t),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}let e=this.context.createAnalyser();return e.fftSize=8192,e.smoothingTimeConstant=.1,this.analyser=e,!0}getFrequencies(e="frequency",t=-100,i=-30){if(!this.analyser)throw new Error("Not connected, please call .connect() first");return sj.getFrequencies(this.analyser,this.sampleRate,null,e,t,i)}_start(){let e=new AudioWorkletNode(this.context,"stream_processor");return e.connect(this.context.destination),e.port.onmessage=t=>{let{event:i}=t.data;if(i==="stop")e.disconnect(),this.stream=null;else if(i==="offset"){let{requestId:r,trackId:n,offset:a}=t.data,c=a/this.sampleRate;this.trackSampleOffsets[r]={trackId:n,offset:a,currentTime:c}}},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}add16BitPCM(e,t="default"){if(typeof t!="string")throw new Error("trackId must be a string");if(this.interruptedTrackIds[t])return;this.stream||this._start();let i;if(e instanceof Int16Array)i=e;else if(e instanceof ArrayBuffer)i=new Int16Array(e);else throw new Error("argument must be Int16Array or ArrayBuffer");return this.stream.port.postMessage({event:"write",buffer:i,trackId:t}),i}async getTrackSampleOffset(e=!1){if(!this.stream)return null;let t=crypto.randomUUID();this.stream.port.postMessage({event:e?"interrupt":"offset",requestId:t});let i;for(;!i;)i=this.trackSampleOffsets[t],await new Promise(n=>setTimeout(()=>n(),1));let{trackId:r}=i;return e&&r&&(this.interruptedTrackIds[r]=!0),i}async interrupt(){return this.getTrackSampleOffset(!0)}},rO=()=>"https://relayserver.spline.design/",nO=class{constructor(e,t,i){this.data=e,this.id=t,this.shared=i,this.items=[],this.isConnected=!1,this.rafId=0,this.emitter=cw(),this.voice=0,this.frequencies=new Float32Array([0]),this.onRealTimeEvent=({time:r,source:n,event:a})=>{n==="server"&&a.type==="spline.ready"?this.onSessionCreated(a):n==="server"&&a.type==="session.created"&&(this.client.createResponse(),this.client.on("realtime.event",this.onRealTimeEvent))},this.onSessionCreated=async r=>{let n=Object.values(this.client.tools).map(a=>({type:"function",...a.definition}));this.client.realtime.send("spline.tools",{tools:n}),this.client.realtime.send("spline.connect",{}),await this.wavRecorder.record(a=>this.client.isConnected()&&this.client.appendInputAudio(a.mono))},this.animate=()=>{if(this.rafId=requestAnimationFrame(this.animate),this.isConnected){let r=this.wavStreamPlayer.analyser?this.wavStreamPlayer.getFrequencies("voice"):{values:new Float32Array([0])},n=r.values.reduce((a,c)=>a+c,0)/r.values.length;this.voice=n,this.frequencies=r.values,this.emitter.emit("voice",{value:n,frequencies:r.values})}},this.client=new Z8({url:rO()+"?uuidfile="+e.integration.hash}),this.wavRecorder=new iO({sampleRate:24e3}),this.wavStreamPlayer=new V_e({sampleRate:24e3})}update(e){this.data=e,this.client=new Z8({url:rO()+"?uuidfile="+e.integration.hash})}setColorByName(e,t){let i=this.shared.getColorByName(e);if(i){let{id:r}=i,{r:n,g:a,b:c}=n2e.hexStringToRgb(t)??{r:0,g:0,b:0};this.shared.updateColor(r,{r:n/255,g:a/255,b:c/255})}}connect(){if(this.isConnected)return;this.isConnected=!0,this.client.updateSession({turn_detection:{type:"server_vad"}}),this.client.addTool({name:"set_personality_color",description:"returns a color based on the voice personality of the ai assistant. This should be called by the voice assistant each time it is asks to speak differently. If a color cannot be associated to the personality, the color should be a neutral color.",parameters:{type:"object",properties:{color:{type:"string",description:"css hex color string, reflecting the personality"},personality:{type:"string",description:"the personality of the voice assistant"}},required:["color","personality"]}},({color:n})=>{this.setColorByName("Voice Assistant Color",n)});let e=this.shared.getVariablesNames().join(", ");this.client.addTool({name:"set_variable",description:"Sets a Spline variable value when asked by the user.",parameters:{type:"object",properties:{name:{type:"string",description:`The name of the variable that needs to be set. Here's a list of available variables: ${e}. It the variable does not exist, don't call the function and warn the user about it.`},value:{type:"string",description:"The new value for this variable, should always be a string even for number and boolean variables, assume that the value will be cast to the proper type afterwards."}},required:["name","value","type"]}},({name:n,value:a})=>{let c=this.shared.getVariableByName(n);if(c){let l=this.shared.getVariable(c.id),o;typeof l=="number"?o=parseFloat(a):typeof l=="boolean"?o=a.toLowerCase()==="true":o={textValue:a},this.shared.updateVariable(c.id,o)}});let t=this.shared.getColorNames().join(", ");this.client.addTool({name:"set_color",description:"Sets a Spline color asset value when asked by the user.",parameters:{type:"object",properties:{name:{type:"string",description:`The name of the color asset that needs to be set. Here's a list of available color assets: ${t}. It the color asset does not exist, don't call the function and warn the user about it.`},value:{type:"string",description:"css hex color string"}},required:["name","value"]}},({name:n,value:a})=>{this.setColorByName(n,a)});let i=this.shared.scene,r=[];i.traverseEntity(n=>{n.data.events.forEach(a=>{if(a.data.type==="AIAssistantTrigger"){let{description:c}=a.data;r.push(c)}})}),this.client.addTool({name:"trigger_event",description:"Trigger an event by name, here are the available events, please match what the user is asking for to one of these if it applies, otherwise don't call the function and warn the user.",parameters:{type:"object",properties:{description:{type:"string",description:`The name of the event that needs to be triggered. Here's a list of available events: ${JSON.stringify(r)}.`},direction:{type:"string",description:"default is forward, but can be forward or backward. Always set to forward unless the user ask to reverse or cancel the event, then set to backward."}},required:["description","direction"]}},({description:n,direction:a})=>{this.emitter.emit("trigger_event",{description:n,direction:a})}),this.client.on("error",n=>console.error(n)),this.client.on("conversation.interrupted",async()=>{let n=await this.wavStreamPlayer.interrupt();if(n!=null&&n.trackId){let{trackId:a,offset:c}=n;await this.client.cancelResponse(a,c)}}),this.client.on("conversation.updated",async({item:n,delta:a})=>{var l;let c=this.client.conversation.getItems();if(a!=null&&a.audio&&this.wavStreamPlayer.add16BitPCM(a.audio,n.id),n.status==="completed"&&((l=n.formatted.audio)==null?void 0:l.length)){let o=await iO.decode(n.formatted.audio,24e3,24e3);n.formatted.file=o}this.items=c}),this.animate()}disconnect(){cancelAnimationFrame(this.rafId),this.voice=0,this.isConnected=!1}async start(){try{await this.wavRecorder.end()}catch{}await this.wavRecorder.begin(),this.client.on("realtime.event",this.onRealTimeEvent),await this.wavStreamPlayer.connect(),await this.client.connect()}async stop(){try{this.client.off("realtime.event",this.onRealTimeEvent)}catch(e){console.error(e)}this.client.disconnect(),await this.wavRecorder.end(),await this.wavStreamPlayer.interrupt()}computeAnalysisForListenerEvent(e){if(e.analysis==="range"){let t=this.frequencies.slice(...e.analysisRange);return t.reduce((i,r)=>i+r,0)/t.length}return e.analysis==="single"?this.frequencies[e.analysisSingle]:this.voice}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}};function jT(e){return"variable_"+e}var H_e=class extends bwe{constructor(e){super(),this.shared=e}create(e){return new WV(e,this.shared)}},lj=class{constructor(e,t={},i=!0,r=!1){if(this.data=e,this.needsJitter=i,this.enableLocalStorageForPersistentVariables=r,this.geometryCache=new Q8(!0),this.geometryCache2=new Q8(!1),this.imageHolderCache=new H_e(this),this.thisContext={scene:__e,shared:this},this.deletedMaterial=new MT(Rr.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new _c(nT.emptyImage,this),this.deletedVideo=new _c(mx.defaultVideo,this),this.materials={},this.images={},this.uiBuffers={},this.videos={},this.colors={},this.audios={},this.particles={},this.fonts={},this.variables={},this.userAPIs={},this.userWebhooks={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[n,a]of Object.entries(t.images))this.addImage(n,a);if(t.videos)for(let[n,a]of Object.entries(t.videos))this.addVideo(n,a);if(t.audios)for(let[n,a]of Object.entries(t.audios))this.addAudio(n,a);if(t.particles)for(let[n,a]of Object.entries(t.particles))this.addParticle(n,a);this.reset(e)}setRequestRender(e){this._requestRender=e}getImageLoadPromises(){return Object.values(this.images).map(e=>e.loadPromise)}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.data=e,this.resetLib(e.lib);for(let{id:i,data:r}of e.variables)this.addVariableHolder(i,r),t&&this.updateVariableHolder(i,r);for(let[i,r]of Object.entries(e.userAPIs))this.addUserAPI(i,r);for(let[i,r]of Object.entries(e.userWebhooks))this.addUserWebhook(i,r);for(let[i,r]of Object.entries(e.images))this.addImage(i,r);for(let[i,r]of Object.entries(e.videos))this.addVideo(i,r);for(let[i,r]of Object.entries(e.colors))this.addColor(i,r);for(let[i,r]of Object.entries(e.materials))this.addMaterial(i,r);for(let[i,r]of Object.entries(e.audios))this.addAudio(i,r);for(let[i,r]of Object.entries(e.particles))this.addParticle(i,r);for(let[i,r]of Object.entries(e.fonts))this.addFont(i,r)}addMaterial(e,t){if(this.materials[e]){let i=this.materials[e];i.reset(t,this.thisContext),i.dispose()}else{let i=new MT(t,this.thisContext,e);this.materials[e]=i}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return typeof e=="string"?this.getMaterialOrDeletedPlaceholder(e):e==null?(console.error("material is undefined or null"),this.deletedMaterial):new aj(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new _c(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return typeof e=="string"?this.getImage(e):this.imageHolderCache.load(e)}addUIBuffer(e,t){return this.uiBuffers[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.uiBuffers[e].updateSrc(t),!0):(this.uiBuffers[e]=new _c(t,this),!1)}uiBuffer(e){return this.uiBuffers[e]}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new _c(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return typeof e=="string"?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):("a"in t?this.colors[e]=new Dx(t.r,t.g,t.b,t.a):this.colors[e]=new Dx(t.r,t.g,t.b,1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let i=this.colors[e];return this.colors[e].r=t.r??i.r,this.colors[e].g=t.g??i.g,this.colors[e].b=t.b??i.b,this.colors[e].a=t.a??i.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}getColorNames(){return Object.values(this.data.colors).map(e=>e.name)}getColorByName(e){for(let t in this.data.colors)if(this.data.colors[t].name===e)return{color:this.colors[t],id:t}}color(e){let t;if(typeof e=="string"){let i=this.getColor(e);i?t=i:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new rn(0,0,0,0))}else return"a"in e?new rn(e.r,e.g,e.b,e.a):new rn(e.r,e.g,e.b,1);return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof zm)return t;{let i=new zm({src:t.data});return this.audios[e]=i,i}}addParticle(e,t){this.particles[e]=t}getParticle(e){return this.particles[e]}deleteParticle(e){this.particles[e]&&delete this.particles[e]}deleteAudio(e){let t=this.audios[e];t&&(t instanceof zm&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new b_e(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof zm&&e.dispose()}),this.audios={},this.particles={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){if(this.variables[e]===void 0){let i=t.value;if(this.enableLocalStorageForPersistentVariables&&t.persistent){let r=localStorage.getItem(jT(e));i=r!==null?JSON.parse(r):t.value}return this.variables[e]={value:i,locations:[],persistent:t.persistent},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0}return this.variables[e].value=t.value,!1}resetDynamicVariablePlayState(){for(let e in this.variables)this.variables[e].dynamicVariablePlayState!==void 0&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(this.variables[e]===void 0)return!1;this.variables[e].value=t,this.enableLocalStorageForPersistentVariables&&this.variables[e].persistent&&localStorage.setItem(jT(e),JSON.stringify(t));let i=t;for(;typeof i=="string";)i=this.variables[i].value;let r=this.entityOpContext.scene;for(let n=this.variables[e].locations.length-1;n>=0;n--){let a=this.variables[e].locations[n];if(a[0]==="material"){let c=a[1],l=i,o={scene:r,shared:this},s=a.slice(2);r.traverseMaterial(d=>{let h=d.root??d;h.uuid===c&&h.onVariableUpdate(s,l,o)});let u=this.materials[c];u&&u.onVariableUpdate(s,l,o)}else{let c=r.find(a[0]);if(c===void 0){this.variables[e].locations.splice(n,1);continue}if(a[1]!=="geometry"&&a[1]!=="particles"){for(let l=1;l<a.length-1;l++)c=c[a[l]];a[1]==="rotation"?c[a[a.length-1]]=i*Ve.DEG2RAD:c[a[a.length-1]]=i}if(c=r.find(a[0]),c.type==="ParticleEmitter"&&c.updateVariableState(i,a),Ut.is(c))if(a[1]==="position"||a[1]==="rotation"||a[1]==="scale")c.onVariableUpdate();else if(a[1]==="geometry"){let l=c;c.component&&(l=c.component);let o=l.dataPatched;l.chooseGeoemtryCache(this).forceDelete(o.geometry),l.createGeometryDelayed(this.entityOpContext),l.onVariableUpdate(!0),l.invalidateDownstreamBooleanData(),l.instances.forEach(s=>{let u=s.dataPatched;s.chooseGeoemtryCache(this).forceDelete(u.geometry),s.createGeometryDelayed(this.entityOpContext),s.onVariableUpdate(!0),s.invalidateDownstreamBooleanData()})}else a[1]==="morphTargetInfluences"&&c.updateMorphInfluences(a[2],i)}}return this.requestRender(),!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){var i,r,n;if(Array.isArray(e)){if(e[0]==="mouse")return((i=this.mouseProperty)==null?void 0:i[e[1]])??0;if(e[0]==="raycast")return((r=this.raycastProperty)==null?void 0:r[e[1]])??0;let a=this.entityOpContext.scene.find(e[0]);if(e[1]==="width"||e[1]==="height"||e[1]==="depth")return a.geometry.userData.parameters[e[1]];for(let c=1;c<e.length;c++)a=a[e[c]];return e[1]==="rotation"&&(a*=Ve.RAD2DEG),a}for(let a in this.variables){if(t===void 0)break;let c=this.variables[a],l=(n=c.locations)==null?void 0:n.findIndex(o=>br.equal(o,t));l!==void 0&&l!==-1&&c.locations.splice(l,1)}if(typeof e=="string"){let a=e,c=e;do{if(c=a,this.variables[a]===void 0)break;let l=this.variables[a].value;t&&this.variables[c]!==void 0&&this.variables[c].locations.push(t),a=l}while(typeof a=="string");return a}else return e}getVariables(){return this.variables}getVariablesNames(){return this.data.variables.map(e=>e.data.name)}getVariableByName(e){for(let t of this.data.variables)if(t.data.name===e)return{variable:t.data,id:t.id}}getDynamicVariablePlayState(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,i]of Object.entries(e.images))this.addImage(t,i.asset);for(let[t,i]of Object.entries(e.audios))this.addAudio(t,i.asset);for(let[t,i]of Object.entries(e.particles))this.addParticle(t,i.asset);for(let[t,i]of Object.entries(e.colors))this.addColor(t,i.asset);for(let[t,i]of Object.entries(e.fonts))this.addFont(t,i.asset);for(let[t,i]of Object.entries(e.materials))this.addMaterial(t,i.asset);for(let[t,i]of Object.entries(e.videos))this.addVideo(t,i.asset);for(let[t,i]of Object.entries(e.variables))this.addVariableHolder(t,i.asset)}updateLibByOp(e,t){e.path[0]==="images"?e.path.length===1&&e.type===1?this.addImage(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===1&&e.type===1?this.addVideo(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===1&&e.type===1?this.addAudio(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="particles"?e.path.length===1&&e.type===1?this.addParticle(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteParticle(e.id):e.path[0]==="colors"?e.path.length===1&&e.type===1?this.addColor(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteMaterial(e.id):e.path[0]==="fonts"?e.path.length===1&&e.type===1?this.addFont(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===1&&e.type===1?this.addVariableHolder(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVariable(e.id):e.path[0]==="components"&&t.updateByLibOp(e,this)}updateByOp(e,t,i){var r;if(this.data=t,e.path[0]==="images")e.path.length===2&&e.type===0?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addImage(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteImage(e.id);else if(e.path[0]==="videos")e.path.length===2&&e.type===0?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addVideo(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteVideo(e.id);else if(e.path[0]==="audios")e.path.length===2&&e.type===0?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):e.path.length===1&&e.type===1?this.addAudio(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteAudio(e.id);else if(e.path[0]==="particles")e.path.length===2&&e.type===0?e.props.data&&this.addParticle(e.path[1],t.particles[e.path[1]]):e.path.length===1&&e.type===1?this.addParticle(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteParticle(e.id);else if(e.path[0]==="colors")e.path.length===2&&e.type===0?this.updateColor(e.path[1],e.props):e.path.length===1&&e.type===1?this.addColor(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteColor(e.id);else if(e.path[0]==="materials")e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data):e.path.length===1&&e.type===2?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(Or.drop(e,2),t.materials[e.path[1]],{shared:this,scene:i});else if(e.path[0]==="fonts")e.path.length===2&&e.type===0?this.updateFont(e.path[1],e,i):e.path.length===1&&e.type===1?this.addFont(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteFont(e.id);else if(e.path[0]==="variables")e.path.length===2&&e.type===0?"value"in e.props?this.updateVariable(e.path[1],e.props.value):"persistent"in e.props&&(this.variables[e.path[1]].persistent=e.props.persistent):e.path.length===1&&e.type===4?this.addVariableHolder(e.id,e.data):e.path.length===1&&e.type===5&&this.deleteVariable(e.id);else if(e.path[0]==="userAPIs"){if(e.path.length===1&&e.type===1)this.addUserAPI(e.id,e.data);else if(e.path.length===1&&e.type===2)this.deleteUserAPI(e.id);else if(typeof e.path[1]=="string"){let n=t.userAPIs[e.path[1]];if(n){let a=e.type===0&&e.props.debounce===void 0,c=this.getUserAPI(e.path[1]);c instanceof nO?c.update(n):c==null||c.update(n,this,a)}}}else if(e.path[0]==="userWebhooks"){if(e.path.length===1&&e.type===1)this.addUserWebhook(e.id,e.data);else if(e.path.length===1&&e.type===2)this.deleteUserWebhook(e.id);else if(typeof e.path[1]=="string"){let n=t.userWebhooks[e.path[1]];n&&((r=this.getUserWebhook(e.path[1]))==null||r.update(n))}}else e.path[0]==="lib"&&this.updateLibByOp(Or.drop(e,1),i)}updateFont(e,t,i){if(t.props.url){let r=this.getFont(e),n={...this.data.fonts[e],url:t.props.url};r.update(n),r.loadingPromise.then(()=>this.requestRender()),i.updateFont(e,this)}}addUserAPI(e,t){var i,r;return this.userAPIs[e]?(this.userAPIs[e].update(t,this),!0):((i=this.openAIRealtime)==null?void 0:i.id)===e?(this.openAIRealtime.update(t),!0):((r=t.integration)==null?void 0:r.type)==="VoiceAssistant"?(this.openAIRealtime=new nO(t,e,this),!1):(this.userAPIs[e]=new lV(e,t,this),!1)}getUserAPI(e){var t;return((t=this.openAIRealtime)==null?void 0:t.id)===e?this.openAIRealtime:this.userAPIs[e]}getUserAPIs(){return this.userAPIs}deleteUserAPI(e){let t=this.userAPIs[e];t&&(t.dispose(),delete this.userAPIs[e])}addUserWebhook(e,t){return this.userWebhooks[e]?(this.userWebhooks[e].update(t),!0):(this.userWebhooks[e]=new T_e(e,t),!1)}getUserWebhook(e){return this.userWebhooks[e]}getUserWebhooks(){return this.userWebhooks}deleteUserWebhook(e){let t=this.userWebhooks[e];t&&(t.dispose(),delete this.userWebhooks[e])}get scene(){return this.entityOpContext.scene}};new lj(Da.emptyData());var kf=class extends zn{updateByPatchedOp(e,t,i){if(super.updateByPatchedOp(e,t,i),qye(e.path,["materials"])!==null&&e.type===0&&Array.isArray(this.material))for(let[r,n]of Object.entries(e.props)){let a=i.shared.material(n);this.material[Number(r)]=a}else if(hi(e.path,["material"])&&this.material instanceof nu)"material"in t&&typeof t.material!="string"&&this.material.updateByOp(Or.drop(e,1),t.material,i);else if(hi(e.path,["materials","*"])&&Array.isArray(this.material)){let r=e.path[1];if("materials"in t&&r<this.material.length){let n=t.materials[r];typeof n!="string"&&this.material[r].updateByOp(Or.drop(e,2),n,i)}}}get needsAO(){return this.material!==void 0?(Array.isArray(this.material)?this.material[0]:this.material).hasAO:!1}updateState(e,t){var n,a;super.updateState(e,t),e.castShadow!==void 0&&(this.castShadow=e.castShadow),e.receiveShadow!==void 0&&(this.receiveShadow=e.receiveShadow);let i=this.dataPatched;this.dataPatched.type==="Mesh"&&this.dataPatched.geometry.shapeBlendNode&&this.layers.set(9);let r;if(this.dataPatched.type==="Mesh"&&this.dataPatched.geometry.type==="ShapeBlendGeometry"&&(r={resolutionLevel:this.dataPatched.geometry.resolutionLevel,useChildrenColors:this.dataPatched.geometry.useChildrenColors}),((n=e.geometry)==null?void 0:n.type)!=="NonParametricGeometry"&&"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(i.flatShading,i.side,i.wireframe,r),t.scene.markNeedsUpdateRendererDirty()),(((a=e.geometry)==null?void 0:a.type)==="NonParametricGeometry"||"materials"in e)&&("materials"in e&&e.materials!==void 0?(this.disposeMaterial(),this.material=e.materials.map(c=>t.shared.material(c).getFlavor(i.flatShading,i.side,i.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(i.flatShading,i.side,i.wireframe)],t.scene.markNeedsUpdateRendererDirty())),e.flatShading!==void 0||e.wireframe!==void 0||e.side!==void 0)if(Array.isArray(this.material))for(let c=0;c<this.material.length;c++)this.material[c]=this.material[c].getFlavor(i.flatShading,i.side,i.wireframe);else this.material=this.material.getFlavor(i.flatShading,i.side,i.wireframe,r)}disposeMaterial(){this.material&&QF(this.material).forEach(e=>{e instanceof nu&&(e instanceof MT||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}},aO=new N,oO=new vt,sO=new vt,G_e=new N,lO=new Ie,sr=class extends kf{constructor(e,t,i){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=new Ie().fromArray(t.bindMatrix),this.bindMatrixInverse=new Ie)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof Qe&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(this.localGeometry!==void 0)return this.localGeometry;if(this.geometryCreateDeleyed instanceof lj){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return yx.is2DParametricMesh(e.type)&&e.depth===0}get is2DType(){return yx.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return this.geometry.userData.type==="NonParametricGeometry"}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),hi(e.path,["geometry"])&&this.updateByPatchedOpGeometry(Or.drop(e,1),t.geometry,i)}removeInteractionGeometry(e){var t;(t=this.localGeometry)==null||t.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){var r;this.invalidateDownstreamBooleanData();let i=this.data.geometry.type;if(i==="NonParametricGeometry"||i==="SubdivGeometry"){let n=e;if(this.localGeometry===void 0){let s={...this.data.geometry,...n};this.localGeometry=hv(s,t,this.data.flatShading,this)}let a,c,l;n.scaleBaked?[a,c,l]=n.scaleBaked:{width:a,height:c,depth:l}=n;let o=this.localGeometry.userData;o.sxPrev!==void 0&&_T(this.localGeometry.attributes,a/o.sxPrev,c/o.syPrev,l/o.szPrev),o.sxPrev=a,o.syPrev=c,o.szPrev=l}else{let n={...this.data.geometry,...e};(r=this.localGeometry)==null||r.dispose(),this.localGeometry=hv(n,t,this.data.flatShading,this)}}refreshAttachedClonersInteractions(){for(let e of this.attachedSurfaceCloners)e.update()}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,i){var n;let r=!1;e.type===0&&e.path.length===0&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof In&&this.chooseGeoemtryCache(i.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(r=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(i),this.refreshAttachedPaths(i)),r||((n=i.scene)==null||n.markGeometryCacheDirty(),this.createGeometryDelayed(i)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){e.geometry!==void 0&&this.updateGeometryOnStateUpdate(e.geometry,t);let i=e.morphTargetInfluences;if(i){this.updateMorphTargets(),this.geometry.morphTargetsRelative=!0;for(let{data:{name:r,value:n}}of i)this.updateMorphInfluences(r,t.shared.getVariable(n,[this.uuid,"morphTargetInfluences",r]))}super.updateState(e,t)}updateMorphInfluences(e,t){if(this.morphTargetDictionary===void 0)return;let i=this.morphTargetDictionary[e];i!==void 0&&(this.morphTargetInfluences[i]=t)}updateGeometryGroupsIfNeeded(){var e;Array.isArray(this.material)&&this.geometry.groups.length===0&&this.geometry.addGroup(0,Math.max(((e=this.geometry.getIndex())==null?void 0:e.count)??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let i=this.geometry.userData.parameters;this.is2DType?e.set(0,0,i.depth*.5):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(i.width,i.height,i.depth??0).multiplyScalar(.5)):i.centerOffset?e.fromArray(i.centerOffset):e.setScalar(0),t.set(i.width,i.height,i.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new vt,i=this.geometry.attributes.skinWeight;for(let r=0,n=i.count;r<n;r++){t.fromBufferAttribute(i,r);let a=1/t.manhattanLength();a!==1/0?t.multiplyScalar(a):t.set(1,0,0,0),i.setXYZW(r,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let i=this.skeleton;if(i===void 0)return;let r=this.geometry;oO.fromBufferAttribute(r.attributes.skinIndex,e),sO.fromBufferAttribute(r.attributes.skinWeight,e),aO.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let n=0;n<4;n++){let a=sO.getComponent(n);if(a!==0){let c=oO.getComponent(n);lO.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),t.addScaledVector(G_e.copy(aO).applyMatrix4(lO),a)}}return t.applyMatrix4(this.bindMatrixInverse)}};function W_e(e){var c,l;if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,i=e.geometry.attributes,r=i.position.array,n=i.normal.array,a=new Float32Array(r.length);for(let o=0;o<r.length;o+=3){let s=`${r[o]}_${r[o+1]}_${r[o+2]}`,u=new N(n[o],n[o+1],n[o+2]);t.has(s)?(c=t.get(s))==null||c.normals.push(u):t.set(s,{normals:[u],result:new N})}t.forEach((o,s)=>{for(let u of o.normals)o.result.add(u);o.result.divideScalar(o.normals.length)});for(let o=0;o<r.length;o+=3){let s=`${r[o]}_${r[o+1]}_${r[o+2]}`,u=(l=t.get(s))==null?void 0:l.result;u&&(a[o]=u.x,a[o+1]=u.y,a[o+2]=u.z)}e.geometry.setAttribute("extrudeNormal",new Fe(a,3))}function q_e(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,i=new Float32Array(t.length),r=new N;for(let n=0;n<t.length;n+=3)r.set(t[n],t[n+1],t[n+2]).normalize(),i[n]=r.x,i[n+1]=r.y,i[n+2]=r.z;e.geometry.setAttribute("extrudeNormal",new Fe(i,3))}function cj(e){if(Array.isArray(e.material)){for(let t of e.material)if(t.getLayersOfType("outline").length===0)return}else if(!(e.material instanceof nu)||e.material.getLayersOfType("outline").length===0)return;e instanceof sr&&e.is2DAndNoDepth?q_e(e):W_e(e)}function uj(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,i=new Float32Array(t.length),r=parseInt(e.uuid.replace(/\D/g,"")),n=[Ve.seededRandom(r),Ve.seededRandom(r+1e4),Ve.seededRandom(r+2e4)];for(let a=0;a<t.length;a++)i[a]=n[a%3];e.geometry.setAttribute("randomColor",new ct(i,3))}var Uo=new Zi,um=new N;function Y_e(e){let t=!1;return e.scene.objects.traverse((i,r)=>{r.type==="Mesh"&&r.geometry.type==="SubdivGeometry"&&(t=!0)}),t}var pv=class extends sr{constructor(e,t,i){super(e,t,i),this.data=t,this.hiddenMatrixOld=new Ie,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return this.localGeometry!==void 0?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return this.localGeometry!==void 0?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let i=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(i.width,i.height,i.depth??0).multiplyScalar(.5)}createGeometryByControls(e){var a,c,l;if(this.skipReactionUpdate===!0)return;let t=(a=this.localGeometry)==null?void 0:a.uuid,{originalGeometry:i,subdividedGeometry:r,subdivPointer:n}=In.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=n,i!==void 0&&((c=this.originalGeometry)==null||c.dispose(),this.originalGeometry=i),r!==void 0&&((l=this.subdividedGeometry)==null||l.dispose(),this.subdividedGeometry=r??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,cj(this),uj(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),e.flatShading!==void 0){let i=this.material;this.material=Array.isArray(i)?i.map(r=>r.getFlavor(!1,r.side,r.wireframe)):i.getFlavor(!1,i.side,i.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){In.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&In.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=In.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=In.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let i=this.localGeometry;this.localGeometry=this.originalGeometryNew,zn.prototype.raycast.call(this,e,t),this.localGeometry=i}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new aa,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,i=e.boundingSphere.center;Uo.setFromBufferAttribute(t),Uo.getCenter(i),e.boundingSphere.radius=i.distanceTo(Uo.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Uo.getSize(um),this.hasNonUniformScale&&um.divide(this.scale);let r={width:um.x,height:um.y,depth:um.z};return this.geometry.userData.parameters=r,r}updateBoundingSphere(e){let t=this.originalGeometry;Uo.min.set(e[0],e[2],e[4]),Uo.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Uo.min.applyMatrix4(this.shearScaleInv),Uo.max.applyMatrix4(this.shearScaleInv)),t.boundingSphere===null&&(t.boundingSphere=new aa);let i=t.boundingSphere.center;Uo.getCenter(i),t.boundingSphere.radius=i.distanceTo(Uo.max)}freeSubdivPointer(){var e,t;this.subdivPointer&&(In.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,(e=this.originalGeometry)==null||e.dispose(),(t=this.subdividedGeometry)==null||t.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,i){super.updateByPatchedOpGeometry(e,t,i),this.localGeometry&&this.createGeometryByControls(t)}},cO=-1,K_e=1,X_e={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},J_e={polygon_center:0,edge:1,vertex:2},Ly=(e,t)=>(i,r)=>!t||i===0||e===0?0:e*r/100,Ct=(e,t)=>{let i=Math.abs(t),r=i*-1;return(e-cO)*(i-r)/(K_e-cO)+r},Q_e=new N,zy=new N,$_e=new N,Z_e=new N;function Tp(e,t){let i=$_e.fromArray(e),r=Z_e.fromArray(t);zy.copy(r).sub(i);let n=zy.length();return zy.normalize().multiplyScalar(n*.5),Q_e.copy(i).add(zy).toArray()}var Na=new Qr,By=new N,Rx=new N,Hu=new N;function eSe(e){let t=[];for(let i=0;i<=e.index.count;i++)if(By.fromArray(e.index.array,i*3),Na.setFromAttributeAndIndices(e.attributes.position,By.x,By.y,By.z),Na.getNormal(Rx),Na.getMidpoint(Hu),!(isNaN(Hu.x)||isNaN(Hu.y)||isNaN(Hu.z))){let{a:r,b:n,c:a}=Na,c=r.toArray(),l=n.toArray(),o=a.toArray(),s=r.distanceTo(n),u=n.distanceTo(a),d=a.distanceTo(r),h=Tp(c,l),p=Tp(l,o),m=Tp(o,c),f=[s,u,d],g=Math.max(...f),v=f.filter(b=>Math.round(b)===Math.round(g)).length>1,S=[],x=Na.getMidpoint(Hu).toArray();g===s&&!v&&(S=[p,m,m],x=h),g===u&&!v&&(S=[h,m,m],x=p),g===d&&!v&&(S=[h,p,p],x=m),v&&(S=[h,p,m]),t.push({vertices:[c,l,o],faceCenters:S,midpoint:x,norm:Na.getNormal(Rx).toArray()})}return t}function tSe(e){let t=[],{position:i}=e.attributes;for(let r=0;r<i.count;r++){Na.setFromAttributeAndIndices(i,r*3,r*3+1,r*3+2),Na.getNormal(Rx),Na.getMidpoint(Hu);let n=Na.a.toArray(),a=Na.b.toArray(),c=Na.c.toArray();t.push({vertices:[n,a,c],faceCenters:[Tp(n,a),Tp(a,c),Tp(c,n)],midpoint:Hu.toArray(),norm:Rx.toArray()})}return t}var iSe=4,rSe=.5,FS=e=>.5*(1-Math.cos(e*Math.PI)),nSe=class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,i=0){if(this.perlin==null){this.perlin=new Array(4096);for(let g=0;g<4096;g++)this.perlin[g]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),i<0&&(i=-i);let r=Math.floor(e),n=Math.floor(t),a=Math.floor(i),c=e-r,l=t-n,o=i-a,s,u,d=0,h=.5,p,m,f;for(let g=0;g<iSe;g++){let v=r+(n<<4)+(a<<8);s=FS(c),u=FS(l),p=this.perlin[v&4095],p+=s*(this.perlin[v+1&4095]-p),m=this.perlin[v+16&4095],m+=s*(this.perlin[v+16+1&4095]-m),p+=u*(m-p),v+=256,m=this.perlin[v&4095],m+=s*(this.perlin[v+1&4095]-m),f=this.perlin[v+16&4095],f+=s*(this.perlin[v+16+1&4095]-f),m+=u*(f-m),p+=FS(o)*(m-p),d+=p*h,h*=rSe,r<<=1,c*=2,n<<=1,l*=2,a<<=1,o*=2,c>=1&&(r++,c--),l>=1&&(n++,l--),o>=1&&(a++,o--)}return d}noiseSeed(e){let t=(()=>{let i,r;return{setSeed(n){r=i=(n??Math.random()*4294967296)>>>0},getSeed(){return i},rand(){return r=(1664525*r+1013904223)%4294967296,r/4294967296}}})();t.setSeed(e),this.perlin=new Array(4096);for(let i=0;i<4096;i++)this.perlin[i]=t.rand()}},aSe=nSe,uO=new N,dO=new Ie,hO=new yf;function pO(e){let t=!1;return e.scene.objects.traverse((i,r)=>{r.type==="Mesh"&&(r.geometry.type==="TextGeometry"||r.geometry.type==="InputGeometry")&&(t=!0)}),t}var dj=class extends sr{constructor(e,t,i){super(e,t,i),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){var t;let e=this.dataPatched;return((t=this.font)==null?void 0:t.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign))??0}get fontScale(){let e=this.dataPatched;return this.font?e.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){var e;return(((e=this.font)==null?void 0:e.ascender)??1)*this.fontScale}get descender(){var e;return(((e=this.font)==null?void 0:e.descender)??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:i}=this;if(!(isNaN(e.ray.origin.x)||this.scale.x===0||this.scale.y===0||this.scale.z===0)&&(dO.copy(i).invert(),hO.copy(e.ray).applyMatrix4(dO),hO.intersectBox(this.singleBBox,uO))){let r=uO.applyMatrix4(i),n=e.ray.origin.distanceTo(r);t.push({distance:n,point:r.clone(),object:this})}}},En=1e-4,Vo,rH,nH,aH,fO=new N,mO=new N;pV.then(e=>{Vo=e,rH=[Vo.get_face_center,Vo.get_edge_midpoint,Vo.get_vertex_position],nH=[Vo.get_face_normal,Vo.get_edge_normal,Vo.get_vertex_normal],aH=[Vo.face_count,Vo.edge_count,Vo.vertex_count]});var oSe=new Ie,sSe=new Ie,$l=new N,Fy=new N,dm=new N,US=new N,lSe=new N,cSe=new N,uSe=class{constructor(e,t){this.data=e,this.is3D=t,this.perlin=new aSe,e.noiseType==="perlin"?(this.perlin.noiseSeed(e.seed),t?this.noise=(i,r,n)=>this.perlin.noise(i,r,n):this.noise=i=>this.perlin.noise(i)):t?this.noise=jbe((0,fT.default)(e.seed)):this.noise=Mbe((0,fT.default)(e.seed))}},Ba=class extends WM(ti){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.random=null,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(this.parent===null)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof en&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof en&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){this.parameters.type!=="toObject"&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(e!==void 0?t=e:t=this.parameters.type==="grid"?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,this.parameters.type==="toObject"){if(!this.parameters.toObject.object)t=0;else if(e===void 0&&this.parameters.toObject.spreadType!=="random")return}if(this.parameters.type==="toObject"&&this.objectForSample){let i=this.children;if(i.length===t)return;if(i.length<t)for(let r=0,n=t-i.length;r<n;++r){let a=new en(this.object);a.expand(),this.add(a)}else for(let r=0,n=i.length-t;r<n;++r)this.remove(i[r])}else{if(this.children.length===t)return;if(this.children.length<t)for(let i=0,r=t-this.children.length;i<r;++i){let n=new en(this.object);n.expand(),this.add(n)}else for(let i=0,r=this.children.length-t;i<r;++i)this.remove(this.children[i])}}getRandom(e,t=!1){return(this.random===null||this.random.data.seed!==e.seed||this.random.is3D!==t)&&(this.random=new uSe(e,t)),this.random}_updateRadial(e){let t=e.radial,i=t.start*Ve.DEG2RAD,r=t.end*Ve.DEG2RAD,n=i-r,a=new yr(t.rotation[0],t.rotation[1],t.rotation[2]),c;switch(t.axis){case"z":c=new N(0,0,1);break;case"y":c=new N(0,1,0);break;default:case"x":c=new N(1,0,0);break}let l=e.randomnessObject??Ac.defaultData([1,1,1]).randomnessObject,o=this.getRandom(l),s=Ly(l.strength,this.parameters.randomness);for(let[u,d]of this.children.entries()){let h=u*(l.freqScale/10)+l.movement,p=o.noise(h,h,h),m=u+1;d.scale.x=t.scale[0]+s(m,Ct(p,l.scale[0]))||En,d.scale.y=t.scale[1]+s(m,Ct(p,l.scale[1]))||En,d.scale.z=t.scale[2]+s(m,Ct(p,l.scale[2]))||En,d.position.setScalar(0);let f=n/e.count*u-i;switch(t.axis){case"x":d.rotation.set(0,f,0);break;case"y":d.rotation.set(0,0,f);break;case"z":d.rotation.set(f,0,0);break}d.translateOnAxis(c,t.radius),d.position.x+=t.position[0]+s(m,Ct(p,l.position[0])),d.position.y+=t.position[1]+s(m,Ct(p,l.position[1])),d.position.z+=t.position[2]+s(m,Ct(p,l.position[2]));let g=s(m,Ct(p,l.rotation[0])),v=s(m,Ct(p,l.rotation[1])),S=s(m,Ct(p,l.rotation[2]));t.alignment===!0?(d.rotation.x+=a.x+g,d.rotation.y+=a.y+v,d.rotation.z+=a.z+S):d.rotation.set(a.x+g,a.y+v,a.z+S)}}_updateLinear(e){if(e.type!=="linear")throw new Error;let t=e.linear,i=new yr(t.rotation[0],t.rotation[1],t.rotation[2]),r=e.randomnessObject??Ac.defaultData([1,1,1]).randomnessObject,n=this.getRandom(r),a=Ly(r.strength,this.parameters.randomness);for(let[c,l]of this.children.entries()){let o=c*(r.freqScale/10)+r.movement,s=n.noise(o,o,o),u=c+1,d=a(u,Ct(s,r.rotation[0])),h=a(u,Ct(s,r.rotation[1])),p=a(u,Ct(s,r.rotation[2]));l.scale.x=1+(t.scale[0]-1)*c+a(u,Ct(s,r.scale[0]))||En,l.scale.y=1+(t.scale[1]-1)*c+a(u,Ct(s,r.scale[1]))||En,l.scale.z=1+(t.scale[2]-1)*c+a(u,Ct(s,r.scale[2]))||En,l.rotation.x=i.x*c+d,l.rotation.y=i.y*c+h,l.rotation.z=i.z*c+p,l.position.x=t.position[0]*c+a(u,Ct(s,r.position[0])),l.position.y=t.position[1]*c+a(u,Ct(s,r.position[1])),l.position.z=t.position[2]*c+a(u,Ct(s,r.position[2]))}}_updateGrid(e){let t=0,i=e.grid,r=e.randomnessObject??Ac.defaultData([1,1,1]).randomnessObject,n=this.getRandom(r,!0),a=Ly(r.strength,this.parameters.randomness);if(i.useCenter===!0){let c={x:i.count[0]%2===0?2:1,y:i.count[1]%2===0?2:1,z:i.count[2]%2===0?2:1},l=new N(i.size[0]*(i.count[0]-c.x)*.5,i.size[1]*(i.count[1]-c.y)*.5,i.size[2]*(i.count[2]-c.z)*.5);for(let o=0;o<i.count[0];o++)for(let s=0;s<i.count[1];s++)for(let u=0;u<i.count[2];u++){let d=n.noise((o+1)*(r.freqScale/10)+r.movement,(s+1)*(r.freqScale/10)+r.movement,(u+1)*(r.freqScale/10)+r.movement),h=this.children[t++];h.scale.x=1+a(t,Ct(d,r.scale[0]))||En,h.scale.y=1+a(t,Ct(d,r.scale[1]))||En,h.scale.z=1+a(t,Ct(d,r.scale[2]))||En;let p=a(t,Ct(d,r.rotation[0])),m=a(t,Ct(d,r.rotation[1])),f=a(t,Ct(d,r.rotation[2]));h.rotation.set(p,m,f),h.position.x=i.size[0]*o-l.x+a(t,Ct(d,r.position[0])),h.position.y=i.size[1]*s-l.y+a(t,Ct(d,r.position[1])),h.position.z=i.size[2]*u-l.z+a(t,Ct(d,r.position[2]))}}else for(let c=0;c<i.count[0];c++)for(let l=0;l<i.count[1];l++)for(let o=0;o<i.count[2];o++){let s=n.noise((c+1)*(r.freqScale/10)+r.movement,(l+1)*(r.freqScale/10)+r.movement,(o+1)*(r.freqScale/10)+r.movement),u=this.children[t++];u.scale.x=1+a(t,Ct(s,r.scale[0]))||En,u.scale.y=1+a(t,Ct(s,r.scale[1]))||En,u.scale.z=1+a(t,Ct(s,r.scale[2]))||En;let d=a(t,Ct(s,r.rotation[0])),h=a(t,Ct(s,r.rotation[1])),p=a(t,Ct(s,r.rotation[2]));u.rotation.set(d,h,p),u.position.x=i.size[0]*c+a(t,Ct(s,r.position[0])),u.position.y=-i.size[1]*l+a(t,Ct(s,r.position[1])),u.position.z=-i.size[2]*o+a(t,Ct(s,r.position[2]))}}_updateToObject(e){var u;if(e.type!=="toObject")throw new Error;let{toObject:t}=e,i=new yr(t.rotation[0],t.rotation[1],t.rotation[2]),r=e.randomnessObject??Ac.defaultData([1,1,1]).randomnessObject,n=this.getRandom(r),a=Ly(r.strength,this.parameters.randomness);if(!t.object){for(let[,d]of this.children.entries())d.position.set(0,0,0),d.scale.setScalar(1),d.rotation.set(0,0,0);this.objectForSample=void 0;return}if(!this.objectForSample)return;if(this.objectForSample instanceof dj)if(!((u=this.objectForSample.font)!=null&&u.isLoaded)||this.objectForSample.geometry.attributes.position===void 0){this._pendingMediaLoad=!0;return}else this._pendingMediaLoad=!1;if(this.objectForSample.geometry===void 0&&this.objectForSample.isAncestorOf(this.object.uuid)){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);return}let c=this.getSubdivData();if(c.length>0){let d=Math.round(c.length*t.count/100);this._updateCount(d)}else{let d=this.objectForSample.geometry.getAttribute("position");if(!d||isNaN(d.count)||d.count===0){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`);return}}this.objectForSample.updateMatrixWorld();let l=new Ibe(this.objectForSample).build(),o=X_e[t.axis],s=this.children;l.setRandomGenerator((0,fT.default)(this.object.uuid+t.seed));for(let[d,h]of s.entries()){let p=d*(r.freqScale/10)+r.movement,m=n.noise(p,p,p),f=d+1,g=a(f,Ct(m,r.rotation[0])),v=a(f,Ct(m,r.rotation[1])),S=a(f,Ct(m,r.rotation[2]));t.spreadType==="random"?l.sample(dm,US):(c.length&&(dm.fromArray(c[d].pos),US.fromArray(c[d].norm)),this.objectForSample instanceof pv&&dm.applyMatrix4(oSe.copy(this.objectForSample.matrixWorld).invert())),dm.applyMatrix4(this.object.hiddenMatrix.clone().invert()),h.position.copy(dm),$l.fromArray(o);let x=t.align==="normal"?US:this.object.getWorldDirection(cSe),b=Fy.fromArray(t.position);Fy.x+=a(f,Ct(m,r.position[0])),Fy.y+=a(f,Ct(m,r.position[1])),Fy.z+=a(f,Ct(m,r.position[2]));let _=Math.acos(x.dot($l)),w=lSe.crossVectors($l,x).normalize(),C=sSe.makeRotationAxis(w,_),E=x.clone().cross(this.object.up).normalize(),A=E.clone().cross(x).normalize(),T=new Ie().makeBasis(E,x,A),M=new N($l.y,$l.z,$l.x).normalize(),j=M.clone().cross($l).normalize(),P=new Ie().makeBasis(M,$l,j).invert(),I=new Ie().multiplyMatrices(T,P);h.rotation.setFromRotationMatrix(I),b.applyMatrix4(C),h.position.add(b),h.rotation.x=h.rotation.x+i.x+g,h.rotation.y=h.rotation.y+i.y+v,h.rotation.z=h.rotation.z+i.z+S,h.scale.setScalar(1),h.scale.x=h.scale.x+t.scale[0]+a(f,Ct(m,r.scale[0]))||En,h.scale.y=h.scale.y+t.scale[1]+a(f,Ct(m,r.scale[1]))||En,h.scale.z=h.scale.z+t.scale[2]+a(f,Ct(m,r.scale[2]))||En,h.scale.multiply(this.object.scale),h.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType,t=new Map,i=(n,a)=>{let c=Math.round(n[0]*1e4)+"_"+Math.round(n[1]*1e4)+"_"+Math.round(n[2]*1e4),l=t.get(c);l?(l.pos[0]+=n[0],l.pos[1]+=n[1],l.pos[2]+=n[2],l.norm[0]+=a[0],l.norm[1]+=a[1],l.norm[2]+=a[2],l.count+=1):t.set(c,{pos:[...n],norm:[...a],count:1})};if(e==="random")return[];if(this.objectForSample instanceof pv){let n=this.objectForSample,a=J_e[e],c=aH[a],l=rH[a],o=nH[a],s=c(n.subdivPointerNew);for(let u=0;u<=s-1;u++){let d=l(n.subdivPointerNew,u),h=o(n.subdivPointerNew,u);fO.fromArray(d).applyMatrix4(n.matrixWorld),mO.fromArray(h),i(fO.toArray(),mO.toArray())}}else(this.objectForSample.geometry.index?eSe(this.objectForSample.geometry):tSe(this.objectForSample.geometry)).forEach((n,a)=>{e==="polygon_center"&&i(n.midpoint,n.norm),e==="vertex"&&(i(n.vertices[0],n.norm),i(n.vertices[1],n.norm),i(n.vertices[2],n.norm)),e==="edge"&&(i(n.faceCenters[0],n.norm),i(n.faceCenters[1],n.norm),i(n.faceCenters[2],n.norm))});let r=Array.from(t.values());for(let n of r)n.pos[0]/=n.count,n.pos[1]/=n.count,n.pos[2]/=n.count,n.norm[0]/=n.count,n.norm[1]/=n.count,n.norm[2]/=n.count;return r}updateState(e,t){var i;if(this.parameters=tw(e),this.parameters.type!=="toObject")(this.parent===null||this.parent!==this.object)&&(this.removeFromParent(),(i=this.object.parent)==null||i.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(this.parent===null||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let r=t.find(this.parameters.toObject.object);r instanceof zn?this.objectForSample=r:this.objectForSample=void 0,this.matrix=new Ie,this.hiddenMatrix=new Ie,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,r&&r.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},Zv=e=>{var t;return t=class extends e{},t.geometryHelper=new Mo(30,30,30),t},Uy=new yf,VS=new aa,gO=new Ie,e0=(e,t,i,r,n=!1,a=e)=>{let c=t,l=a.matrixWorld;if(c.boundingSphere===null&&c.computeBoundingSphere(),VS.copy(c.boundingSphere),VS.applyMatrix4(l),i.ray.intersectsSphere(VS)===!1||(gO.copy(l).invert(),Uy.copy(i.ray).applyMatrix4(gO),c.boundingBox!==null&&Uy.intersectsBox(c.boundingBox)===!1))return;let o,s,u,d,h=c.index,p=c.attributes.position,m=c.drawRange,f,g;if(n===!1){let S=Math.max(0,m.start),x=Math.min(h.count,m.start+m.count);for(f=S,g=x;f<g;f+=3)if(s=h.getX(f),u=h.getX(f+1),d=h.getX(f+2),o=v(e,i,Uy,p,s,u,d),o){o.faceIndex=Math.floor(f/3),r.push(o);return}}else{let S=c.attributes.position,x=new N,b=new N,_=new N,w=new N,C=2,E=1/((a.scale.x+a.scale.y+a.scale.z)/3),A=E*E,T=Math.max(0,m.start),M=Math.min(S.count,m.start+m.count);for(let j=T,P=M-1;j<P;j+=C){if(x.fromBufferAttribute(S,j),b.fromBufferAttribute(S,j+1),Uy.distanceSqToSegment(x,b,w,_)>A)continue;w.applyMatrix4(a.matrixWorld);let I=i.ray.origin.distanceTo(w);I<i.near||I>i.far||r.push({distance:I,point:_.clone().applyMatrix4(a.matrixWorld),object:e})}}function v(S,x,b,_,w,C,E){let A=new N,T=new N,M=new N,j=new N,P=new N;if(A.fromBufferAttribute(_,w),T.fromBufferAttribute(_,C),M.fromBufferAttribute(_,E),b.intersectTriangle(A,T,M,!1,j)===null)return null;P.copy(j),P.applyMatrix4(S.matrixWorld);let I=x.ray.origin.distanceTo(P);return I<x.near||I>x.far?null:{faceIndex:1,distance:I,point:P.clone(),object:S}}},Vy=new N,Ea=new fu,dSe=class extends Gv{constructor(e){let t=new Qe,i=new mu({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],n=[],a={},c=new lt(15711266),l=new lt(15711266),o=new lt(2857471);s("n1","n2",c),s("n2","n4",c),s("n4","n3",c),s("n3","n1",c),s("f1","f2",c),s("f2","f4",c),s("f4","f3",c),s("f3","f1",c),s("n1","f1",c),s("n2","f2",c),s("n3","f3",c),s("n4","f4",c),s("p","n1",l),s("p","n2",l),s("p","n3",l),s("p","n4",l),s("u1","u2",o),s("u2","u3",o),s("u3","u1",o);function s(d,h,p){u(d,p),u(h,p)}function u(d,h){r.push(0,0,0),n.push(h.r,h.g,h.b),a[d]===void 0&&(a[d]=[]),a[d].push(r.length/3-1)}t.setAttribute("position",new Fe(r,3)),t.setAttribute("color",new Fe(n,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){let e=this.geometry,t=this.pointMap;Ea.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let i=1,r=1,n=.8;no("n1",t,e,Ea,-1,-1,n),no("n2",t,e,Ea,i,-1,n),no("n3",t,e,Ea,-1,r,n),no("n4",t,e,Ea,i,r,n);let a=n;no("f1",t,e,Ea,-1,-1,a),no("f2",t,e,Ea,i,-1,a),no("f3",t,e,Ea,-1,r,a),no("f4",t,e,Ea,i,r,a);let c=a,l=.5;no("u1",t,e,Ea,i*.7*l,r*1.1,c),no("u2",t,e,Ea,-1*.7*l,r*1.1,c),no("u3",t,e,Ea,0,r*(1.1+.9*l),c),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function no(e,t,i,r,n,a,c){Vy.set(n,a,c).unproject(r);let l=t[e];if(l!==void 0){let o=i.getAttribute("position");for(let s=0,u=l.length;s<u;s++)o.setXYZ(l[s],Vy.x,Vy.y,Vy.z)}}var hSe=class extends Zv(dSe){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){e0(this.object,this.geometry,e,t,!0)}},IT;(e=>e.is=t=>"objectHelper"in t)(IT||(IT={}));var Df=(e,t)=>class extends qM(e){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(i,r){this.objectHelper.raycast(i,r)}showGizmos(){for(let i in this.gizmos){let r=this.gizmos[i];r instanceof Zb&&(r.visible=!0)}}updateEntityBoxSize(i,r){this.objectHelper.visible&&this.geometryHelper instanceof Mo?(i.setScalar(0),r.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(i,r)}hideGizmos(){for(let i in this.gizmos){let r=this.gizmos[i];r instanceof Zb&&(r.visible=!1)}}},vO=790,xh=new N,HS=new N,GS=new mt,WS=new N,hm=new N,qS=new N,yn=class extends Df(fu,hSe){constructor(e="",t={...av.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=Yp.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Ie,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let i=this.width,r=this.height;this.orthoCamera=new W2(i*-.5,i*.5,r*.5,r*-.5,-5e4,1e4),this.perspCamera=new mn(45,i/r,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){e==="PerspectiveCamera"?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&(e==="PerspectiveCamera"?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){e==="PerspectiveCamera"?this.toPerspective():e==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(e){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,i){typeof e=="number"&&(e=new N(e,t,i)),super.lookAt(e),this.getWorldPosition(xh),this.targetOffset=xh.distanceTo(e)}getTarget(e=new N){return this.getWorldDirection(HS),this.getWorldPosition(xh),HS.multiplyScalar(this.targetOffset),e.copy(xh).add(HS),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(xh),xh.distanceTo(e)}updateUp(){this.getWorldQuaternion(GS),WS.set(0,0,1).applyQuaternion(GS),hm.copy(ti.DEFAULT_UP),this.isUpVectorFlipped&&hm.negate(),hm.applyQuaternion(GS),qS.copy(ti.DEFAULT_UP).projectOnPlane(WS),this.angleOffsetFromUp=qS.angleTo(hm),this.angleOffsetFromUp*=qS.cross(hm).dot(WS)>=0?1:-1}updateTransformState(e,t){let i=super.updateTransformState(e,t);return e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),i}getViewFrontToObject(e){let t=e.getWorldPosition(new N),i=e.getWorldDirection(new N).multiplyScalar(this.targetOffset);return{position:t.clone().add(i),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new N).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new N;return e.getWorldPosition(t),this.getViewToTarget(t)}setViewplaneSize(e,t,i=!1){if(this.aspect=e/t,i){let r=e>t?this.aspect:1,n=e>t?1:this.aspect;this.left=-790*.5*r,this.right=vO*.5*r,this.top=vO*.5*(1/n),this.bottom=-790*.5*(1/n)}else this.left=-e*.5,this.right=e*.5,this.top=t*.5,this.bottom=-t*.5;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,i,r,n,a){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(e,t,i,r,n,a):this.orthoCamera.setViewOffset(e,t,i,r,n,a)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=e.view===null?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return S3(t,e)}updateCameraSubtype(e,t){let i=e==="perspective"?"PerspectiveCamera":"OrthographicCamera";t.zoom!==void 0&&this.setZoom(i,t.zoom),t.near!==void 0&&this.setNear(i,t.near),t.fov!==void 0&&i==="PerspectiveCamera"&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),e.far!==void 0&&(this.far=e.far),e.orthographic!==void 0&&this.updateCameraSubtype("orthographic",e.orthographic),e.perspective!==void 0&&this.updateCameraSubtype("perspective",e.perspective),e.type!==void 0&&(this.cameraType=e.type),e.up!==void 0&&this.up.fromArray(e.up),e.targetOffset!==void 0&&(this.targetOffset=e.targetOffset),e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),e.path.length===1&&e.type===0&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}},wh=new Ie,pSe=new Ie;function yO(e){let t=!1;return e.scene.objects.traverse((i,r)=>{var n;((n=r.geometry)==null?void 0:n.type)==="BooleanGeometry"&&(t=!0)}),t}var Rd=class extends kf{constructor(e,t,i){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new Qe,this.onAfterRender=(r,n,a,c,l,o)=>{super.onAfterRender(r,n,a,c,l,o),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),e.path.length===1&&e.path[0]==="geometry"&&e.type===0&&e.props.operation!==void 0&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){var r;if(this.booleanMeshSetAddress!==-1&&!e)return;for(let n=0;n<this.children.length;n++){let a=this.children[n];a instanceof Rd&&a.dataPatched.visible===!0&&a.recomputeBoolean(e===!0,t)}this.meshSetAddresses=[];for(let n=0;n<this.children.length;n++){let a=this.children[n];if(a instanceof zn&&a.dataPatched.visible===!0&&((r=a.geometry.attributes.position)==null?void 0:r.count)>0&&a.geometry.drawRange.count>0&&a.booleanMeshSetAddress!==0){wh.multiplyMatrices(a.hiddenMatrix,a.matrix);try{if(a.booleanMeshSetAddress===-1){if((a.geometry.index??a.geometry.getAttribute("position")).count/3<15e5&&(a.booleanMeshSetAddress=Xs.getMeshSet(a.geometry,e===!0,t)),a.booleanMeshSetAddress===-1)return;Xs.transformMeshSet(a.booleanMeshSetAddress,wh),a.booleanMatrixInvOld.copy(wh).invert(),a.booleanWasTransformed=!1}else a instanceof Rd&&a.needsTransformForDownstream===!0?(Xs.transformMeshSet(a.booleanMeshSetAddress,wh),a.needsTransformForDownstream=!1):a.booleanWasTransformed===!0&&(Xs.transformMeshSet(a.booleanMeshSetAddress,pSe.multiplyMatrices(wh,a.booleanMatrixInvOld)),a.booleanMatrixInvOld.copy(wh).invert(),a.booleanWasTransformed=!1)}catch(c){console.error(c),a.booleanMeshSetAddress=0,a.geometry.userData.booleanOperationDidFail=!0;continue}Xs.hasOpenEdges(a.booleanMeshSetAddress)===!1||n===this.children.length-1&&this.booleanOp===2?(this.meshSetAddresses.push(a.booleanMeshSetAddress),a.geometry.userData.booleanOperationDidFail=!1):a.geometry.userData.booleanOperationDidFail="openEdges"}}if(this.meshSetAddresses.length===0){this.geometry.setAttribute("position",new Fe([],0)),this.geometry.setDrawRange(0,0);return}if(e===!0)return Xs.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let i=this.geometry;i.dispose(),this.geometry=new Qe,this.geometry.userData=i.userData,this.geometry.boundingSphere=i.boundingSphere;try{this.booleanMeshSetAddress=Xs.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(n){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(n)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,cj(this),uj(this)}dispose(){super.dispose(),this.geometry.dispose()}},PT;(e=>{function t(i){return Ut.is(i)&&i instanceof Yv}e.is=t})(PT||(PT={}));var hj=(e,t)=>class extends Df(e,t){updateState_Light(i,r){this.updateState_Entity(i,r),i.color!==void 0&&(this.color=r.shared.color(i.color)),i.intensity!==void 0&&(this.intensity=i.intensity),i.depth!==void 0&&(this.shadow.camera.far=i.depth,this.shadow.needsUpdate=!0),i.shadows!==void 0&&(this.castShadow=i.shadows)}},vo=e=>e instanceof zn,gl=e=>e!==null&&e instanceof Rd,fSe=e=>e instanceof yn,mSe=e=>PT.is(e),kT=e=>IT.is(e),gSe=new N(1,1,1),bO=new N,vSe=new N,xO=new mt,t0=class extends Zv(Jue){constructor(e,t=15){super(t),this.object=e,this.dummy=new fl,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=this.dummy.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){e0(this.object,t0.geometryHelper,e,t,!1,this.dummy)}update(){}updateMatrix(){}updateMatrixWorld(e){this.object.matrixWorld.decompose(bO,xO,vSe),this.matrix.compose(bO,xO,gSe),super.updateMatrixWorld(e)}updateWorldMatrix(e,t){}},Ap=class extends Df(fl,t0){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&Object.keys(e).length===1&&t.scene.reloadSplats()}},lg=class extends Df(fl,t0){constructor(e,t,i){super(),this.super_Entity(e,t),this.context=i,this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t)}},oH={RED:0,GREEN:1},i0="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",ySe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;uniform vec4 kernel64[32];varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;}}`,Hy=class extends Ht{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new Ee(null),kernel16:new Ee(null),inputBuffer:new Ee(null),cocBuffer:new Ee(null),texelSize:new Ee(new re),scale:new Ee(1)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:ySe,vertexShader:i0}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let e=2.39996323,t=new Float32Array(128),i=new Float32Array(32),r=0,n=0;for(let l=0;l<80;++l){let o=l*e,s=Math.sqrt(l)/Math.sqrt(80),u=s*Math.cos(o),d=s*Math.sin(o);l%5===0?(i[n++]=u,i[n++]=d):(t[r++]=u,t[r++]=d)}let a=[],c=[];for(let l=0;l<128;)a.push(new vt(t[l++],t[l++],t[l++],t[l++]));for(let l=0;l<32;)c.push(new vt(i[l++],i[l++],i[l++],i[l++]));this.uniforms.kernel64.value=a,this.uniforms.kernel16.value=c}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function wO(e,t,i){return e*(t-i)-t}function DT(e,t,i){return Math.min(Math.max((e+t)/(t-i),0),1)}var bSe=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,xSe=class extends Ht{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Ee(null),focusDistance:new Ee(0),focusRange:new Ee(0),cameraNear:new Ee(.3),cameraFar:new Ee(1e3)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:bSe,vertexShader:i0}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Bl){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-wO(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=DT(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-wO(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=DT(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof mn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},wSe=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,_Se="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",_O=class extends Ht{constructor(e=new re){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Ee(null),texelSize:new Ee(new re),halfTexelSize:new Ee(new re),kernel:new Ee(0),scale:new Ee(1)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:wSe,vertexShader:_Se}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let i=this.uniforms;i.texelSize.value.set(1/e,1/t),i.halfTexelSize.value.copy(i.texelSize.value).multiplyScalar(.5)}},SSe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,CSe=class extends Ht{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Ee(null),opacity:new Ee(1)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:SSe,vertexShader:i0}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},ESe=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,TSe=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,dw={COLOR:2},ASe={DISABLED:0},MSe=class extends Ht{constructor(e=new re,t=dw.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:vf.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new Ee(null),depthBuffer:new Ee(null),predicationBuffer:new Ee(null),texelSize:new Ee(e)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:ESe,vertexShader:TSe}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Bl){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(e*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},jSe=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,ISe="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",ao={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},OT=class extends Ht{constructor(e,t,i,r,n=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:vf.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Ee(null),depthBuffer:new Ee(null),resolution:new Ee(new re),texelSize:new Ee(new re),cameraNear:new Ee(.3),cameraFar:new Ee(1e3),aspect:new Ee(1),time:new Ee(0)},blending:lr,depthWrite:!1,depthTest:!1,dithering:n}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),i&&this.setUniforms(i),this.adoptCameraSettings(r)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Bl){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader=jSe.replace(ao.FRAGMENT_HEAD,e.get(ao.FRAGMENT_HEAD)).replace(ao.FRAGMENT_MAIN_UV,e.get(ao.FRAGMENT_MAIN_UV)).replace(ao.FRAGMENT_MAIN_IMAGE,e.get(ao.FRAGMENT_MAIN_IMAGE)),this.vertexShader=ISe.replace(ao.VERTEX_HEAD,e.get(ao.VERTEX_HEAD)).replace(ao.VERTEX_MAIN_SUPPORT,e.get(ao.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof mn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let i=this.uniforms;i.resolution.value.set(e,t),i.texelSize.value.set(1/e,1/t),i.aspect.value=e/t}static get Section(){return ao}},PSe=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,kSe=class extends Ht{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:vf.replace(/\D+/g,"")},uniforms:{inputBuffer:new Ee(null),threshold:new Ee(0),smoothing:new Ee(1),range:new Ee(null)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:PSe,vertexShader:i0}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},DSe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,sH={DISCARD:0,MULTIPLY:1},OSe=class extends Ht{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new Ee(e),inputBuffer:new Ee(null),strength:new Ee(1)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:DSe,vertexShader:i0}),this.toneMapped=!1,this.setColorChannel(oH.RED),this.setMaskFunction(sH.DISCARD)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==wn&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return this.defines.INVERTED!==void 0}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},RSe=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,NSe="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",LSe=class extends Ht{constructor(e=new re,t=new re){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new Ee(null),searchTexture:new Ee(null),areaTexture:new Ee(null),resolution:new Ee(t),texelSize:new Ee(e)},blending:lr,depthWrite:!1,depthTest:!1,fragmentShader:RSe,vertexShader:NSe}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let i=this.uniforms;i.texelSize.value.set(1/e,1/t),i.resolution.value.set(e,t)}},zSe=new fu,Zl=null;function BSe(){if(Zl===null){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);Zl=new Qe,Zl.setAttribute!==void 0?(Zl.setAttribute("position",new ct(e,3)),Zl.setAttribute("uv",new ct(t,2))):(Zl.addAttribute("position",new ct(e,3)),Zl.addAttribute("uv",new ct(t,2)))}return Zl}var Un=class{constructor(e="Pass",t=new ra,i=zSe){this.name=e,this.renderer=null,this.scene=t,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();t!==null&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new gi(BSe(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new ra),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Bl){}render(e,t,i,r,n){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,i){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t=="object"&&typeof t.dispose=="function"){if(t instanceof ra||t===this.renderer)continue;this[e].dispose()}}}},RT=class extends Un{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new CSe,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new Vt(1,1,{minFilter:jt,magFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,i,r,n){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,i){i!==void 0&&(this.renderTarget.texture.type=i,i!==wn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===Et&&(this.renderTarget.texture.encoding=Et))}},FSe=class extends Un{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,i,r,n){let a=e.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},YS=new lt,pj=class extends Un{constructor(e=!0,t=!0,i=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=i,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,i){this.color=e,this.depth=t,this.stencil=i}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,i,r,n){let a=this.overrideClearColor,c=this.overrideClearAlpha,l=e.getClearAlpha(),o=a!==null,s=c>=0;o?(YS.copy(e.getClearColor(YS)),e.setClearColor(a,s?c:l)):s&&e.setClearAlpha(c),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),o?e.setClearColor(YS,l):s&&e.setClearAlpha(l)}},ec=-1,Zn=class extends an{constructor(e,t=ec,i=ec,r=1){super(),this.resizable=e,this.base=new re(1,1),this.preferred=new re(t,i),this.target=this.preferred,this.s=r}get width(){let{base:e,preferred:t,scale:i}=this,r;return t.width!==ec?r=t.width:t.height!==ec?r=Math.round(t.height*(e.width/Math.max(e.height,1))):r=Math.round(e.width*i),r}set width(e){this.preferredWidth=e}get height(){let{base:e,preferred:t,scale:i}=this,r;return t.height!==ec?r=t.height:t.width!==ec?r=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):r=Math.round(e.height*i),r}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(ec),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return ec}},KS=!1,SO=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let i;if(t.material.flatShading)switch(t.material.side){case vn:i=this.materialsFlatShadedDoubleSide;break;case Nr:i=this.materialsFlatShadedBackSide;break;default:i=this.materialsFlatShaded;break}else switch(t.material.side){case vn:i=this.materialsDoubleSide;break;case Nr:i=this.materialsBackSide;break;default:i=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=i[2]:t.isInstancedMesh?t.material=i[1]:t.material=i[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let i of t)i.uniforms=Object.assign({},e.uniforms),i.side=To;t[2].skinning=!0,this.materialsBackSide=t.map(i=>{let r=i.clone();return r.uniforms=Object.assign({},e.uniforms),r.side=Nr,r}),this.materialsDoubleSide=t.map(i=>{let r=i.clone();return r.uniforms=Object.assign({},e.uniforms),r.side=vn,r}),this.materialsFlatShaded=t.map(i=>{let r=i.clone();return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=t.map(i=>{let r=i.clone();return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r.side=Nr,r}),this.materialsFlatShadedDoubleSide=t.map(i=>{let r=i.clone();return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r.side=vn,r})}}render(e,t,i){let r=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,KS){let n=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,i);for(let a of n)a[0].material=a[1];this.meshCount!==n.size&&n.clear()}else{let n=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,i),t.overrideMaterial=n}e.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return KS}static set workaroundEnabled(e){KS=e}},USe=class extends Un{constructor(e,t,i=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new pj,this.overrideMaterialManager=i===null?null:new SO(i),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new SO(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,i,r,n){let a=this.scene,c=this.camera,l=this.selection,o=c.layers.mask,s=a.background,u=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;l!==null&&c.layers.set(l.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,a,c):e.render(a,c),c.layers.mask=o,a.background=s,e.shadowMap.autoUpdate=u}},CO=class extends Un{constructor(e,t,{resolutionScale:i=1,width:r=Zn.AUTO_SIZE,height:n=Zn.AUTO_SIZE,renderTarget:a}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new USe(e,t,new GB({depthPacking:jB}));let c=this.renderPass;c.skipShadowMapUpdate=!0,c.ignoreBackground=!0;let l=c.getClearPass();l.overrideClearColor=new lt(16777215),l.overrideClearAlpha=1,this.renderTarget=a,this.renderTarget===void 0&&(this.renderTarget=new Vt(1,1,{minFilter:kt,magFilter:kt,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let o=this.resolution=new Zn(this,r,n,i);o.addEventListener("change",s=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,i,r,n){let a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,a)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t),this.renderTarget.setSize(i.width,i.height)}},qt={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},VSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",HSe="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",GSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",WSe="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",qSe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",YSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",KSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",XSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",JSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",QSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",$Se="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",ZSe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",eCe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",tCe="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",iCe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",rCe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",nCe="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",aCe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",oCe=new Map([[qt.SKIP,null],[qt.ADD,VSe],[qt.ALPHA,HSe],[qt.AVERAGE,GSe],[qt.COLOR_BURN,WSe],[qt.COLOR_DODGE,qSe],[qt.DARKEN,YSe],[qt.DIFFERENCE,KSe],[qt.EXCLUSION,XSe],[qt.LIGHTEN,JSe],[qt.MULTIPLY,QSe],[qt.DIVIDE,$Se],[qt.NEGATION,ZSe],[qt.NORMAL,eCe],[qt.OVERLAY,tCe],[qt.REFLECT,iCe],[qt.SCREEN,rCe],[qt.SOFT_LIGHT,nCe],[qt.SUBTRACT,aCe]]),sCe=class extends an{constructor(e,t=1){super(),this.f=e,this.opacity=new Ee(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return oCe.get(this.blendFunction)}},ms={NONE:0,DEPTH:1,CONVOLUTION:2},Is=class extends an{constructor(e,t,{attributes:i=ms.NONE,blendFunction:r=qt.SCREEN,defines:n=new Map,uniforms:a=new Map,extensions:c=null,vertexShader:l=null}={}){super(),this.name=e,this.renderer=null,this.attributes=i,this.fragmentShader=t,this.vertexShader=l,this.defines=n,this.uniforms=a,this.extensions=c,this.blendMode=new sCe(r),this.blendMode.addEventListener("change",o=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Bl){}update(e,t,i){}setSize(e,t){}initialize(e,t,i){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t=="object"&&typeof t.dispose=="function"){if(t instanceof ra||t===this.renderer)continue;this[e].dispose()}}}};function EO(e,t,i){for(let r of t){let n="$1"+e+r.charAt(0).toUpperCase()+r.slice(1),a=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(let c of i.entries())c[1]!==null&&i.set(c[0],c[1].replace(a,n))}}function lCe(e,t,i,r,n,a,c){let l=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),o=l.get("fragment")!==void 0&&/mainImage/.test(l.get("fragment")),s=l.get("fragment")!==void 0&&/mainUv/.test(l.get("fragment")),u=[],d=[],h=!1,p=!1;if(l.get("fragment")===void 0)console.error("Missing fragment shader",t);else if(s&&c&ms.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(!o&&!s)console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);else{let m=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,f=OT.Section;if(s){let v=`	${e}MainUv(UV);
`;i.set(f.FRAGMENT_MAIN_UV,i.get(f.FRAGMENT_MAIN_UV)+v),h=!0}if(l.get("vertex")!==null&&/mainSupport/.test(l.get("vertex"))){let v=`	${e}MainSupport(`;v+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(l.get("vertex"))?`vUv);
`:`);
`,i.set(f.VERTEX_MAIN_SUPPORT,i.get(f.VERTEX_MAIN_SUPPORT)+v),u=u.concat([...l.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(S=>S[1])),d=d.concat(u).concat([...l.get("vertex").matchAll(m)].map(S=>S[1]))}d=d.concat([...l.get("fragment").matchAll(m)].map(v=>v[1])),d=d.concat([...t.defines.keys()].map(v=>v.replace(/\([\w\s,]*\)/g,""))),d=d.concat([...t.uniforms.keys()]),t.uniforms.forEach((v,S)=>a.set(e+S.charAt(0).toUpperCase()+S.slice(1),v)),t.defines.forEach((v,S)=>n.set(e+S.charAt(0).toUpperCase()+S.slice(1),v)),EO(e,d,n),EO(e,d,l);let g=t.blendMode;if(r.set(g.blendFunction,g),o){let v=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,S=`${e}MainImage(color0, UV, `;c&ms.DEPTH&&v.test(l.get("fragment"))&&(S+="depth, ",p=!0),S+=`color1);
	`;let x=e+"BlendOpacity";a.set(x,g.opacity),S+=`color0 = blend${g.blendFunction}(color0, color1, ${x});

	`,i.set(f.FRAGMENT_MAIN_IMAGE,i.get(f.FRAGMENT_MAIN_IMAGE)+S),S=`uniform float ${x};

`,i.set(f.FRAGMENT_HEAD,i.get(f.FRAGMENT_HEAD)+S)}i.set(f.FRAGMENT_HEAD,i.get(f.FRAGMENT_HEAD)+l.get("fragment")+`
`),l.get("vertex")!==null&&i.set(f.VERTEX_HEAD,i.get(f.VERTEX_HEAD)+l.get("vertex")+`
`)}return{varyings:u,transformedUv:h,readDepth:p}}var Nx=class extends Un{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new OT(null,null,null,e),this.effects=t.sort((i,r)=>r.attributes-i.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=OT.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),i=new Map,r=new Map,n=new Map,a=new Set,c=0,l=0,o=0,s=!1,u=!1;for(let h of this.effects)if(h.blendMode.blendFunction===qt.SKIP)o|=h.getAttributes()&ms.DEPTH;else if(o&h.getAttributes()&ms.CONVOLUTION)console.error("Convolution effects cannot be merged",h);else{o|=h.getAttributes();let p="e"+c++,m=lCe(p,h,t,i,r,n,o);if(l+=m.varyings.length,s=s||m.transformedUv,u=u||m.readDepth,h.extensions!==null)for(let f of h.extensions)a.add(f)}let d=/\bblend\b/g;for(let h of i.values()){let p=h.getShaderCode().replace(d,`blend${h.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+p+`
`)}o&ms.DEPTH?(u&&t.set(e.FRAGMENT_MAIN_IMAGE,`float depth = readDepth(UV);

	`+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,s?(t.set(e.FRAGMENT_MAIN_UV,`vec2 transformedUv = vUv;
`+t.get(e.FRAGMENT_MAIN_UV)),r.set("UV","transformedUv")):r.set("UV","vUv"),t.forEach((h,p,m)=>m.set(p,h.trim().replace(/^#/,`
#`))),this.uniformCount=n.size,this.varyingCount=l,this.skipRendering=c===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(a).setUniforms(n).setDefines(r)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Bl){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let i of this.effects)i.setDepthTexture(e,t)}render(e,t,i,r,n){for(let a of this.effects)a.update(e,t,r);if(!this.skipRendering||this.renderToScreen){let a=this.fullscreenMaterial;a.inputBuffer=t.texture,a.time+=r,e.setRenderTarget(this.renderToScreen?null:i),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let i of this.effects)i.setSize(e,t)}initialize(e,t,i){this.renderer=e;for(let r of this.effects)r.initialize(e,t,i),r.addEventListener("change",n=>this.handleEvent(n));this.updateMaterial(),this.verifyResources(),i!==void 0&&i!==wn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},cCe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],fj=class extends Un{constructor({resolutionScale:e=.5,width:t=Zn.AUTO_SIZE,height:i=Zn.AUTO_SIZE,kernelSize:r=hw.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new Vt(1,1,{minFilter:jt,magFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let n=this.resolution=new Zn(this,t,i,e);n.addEventListener("change",a=>this.setSize(n.baseWidth,n.baseHeight)),this.blurMaterial=new _O,this.ditheredBlurMaterial=new _O,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=r}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,i,r,n){let a=this.scene,c=this.camera,l=this.renderTargetA,o=this.renderTargetB,s=cCe[this.kernelSize],u=this.blurMaterial,d=t,h,p;for(this.fullscreenMaterial=u,h=0,p=s.length-1;h<p;++h){let m=h&1?o:l;u.kernel=s[h],u.inputBuffer=d.texture,e.setRenderTarget(m),e.render(a,c),d=m}this.dithering&&(u=this.ditheredBlurMaterial,this.fullscreenMaterial=u),u.kernel=s[h],u.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:i),e.render(a,c)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t);let r=i.width,n=i.height;this.renderTargetA.setSize(r,n),this.renderTargetB.setSize(r,n),this.blurMaterial.setSize(r,n),this.ditheredBlurMaterial.setSize(r,n)}initialize(e,t,i){i!==void 0&&(this.renderTargetA.texture.type=i,this.renderTargetB.texture.type=i,i!==wn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===Et&&(this.renderTargetA.texture.encoding=Et,this.renderTargetB.texture.encoding=Et))}static get AUTO_SIZE(){return Zn.AUTO_SIZE}},uCe=class extends Un{constructor({width:e=Zn.AUTO_SIZE,height:t=Zn.AUTO_SIZE,renderTarget:i,luminanceRange:r,colorOutput:n}={}){super("LuminancePass"),this.fullscreenMaterial=new kSe(n,r),this.needsSwap=!1,this.renderTarget=i,this.renderTarget===void 0&&(this.renderTarget=new Vt(1,1,{minFilter:jt,magFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let a=this.resolution=new Zn(this,e,t);a.addEventListener("change",c=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,i,r,n){let a=this.fullscreenMaterial;a.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t),this.renderTarget.setSize(i.width,i.height)}initialize(e,t,i){i!==void 0&&i!==wn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},dCe=class extends Un{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new pj(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,i,r,n){let a=e.getContext(),c=e.state.buffers,l=this.scene,o=this.camera,s=this.clearPass,u=this.inverted?0:1,d=1-u;c.color.setMask(!1),c.depth.setMask(!1),c.color.setLocked(!0),c.depth.setLocked(!0),c.stencil.setTest(!0),c.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),c.stencil.setFunc(a.ALWAYS,u,4294967295),c.stencil.setClear(d),c.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?s.render(e,null):(s.render(e,t),s.render(e,i))),this.renderToScreen?(e.setRenderTarget(null),e.render(l,o)):(e.setRenderTarget(t),e.render(l,o),e.setRenderTarget(i),e.render(l,o)),c.color.setLocked(!1),c.depth.setLocked(!1),c.stencil.setLocked(!1),c.stencil.setFunc(a.EQUAL,1,4294967295),c.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),c.stencil.setLocked(!0)}},La=class extends Un{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){let t=this.fullscreenMaterial.uniforms;t!==void 0&&t[e]!==void 0&&(this.inputBufferUniform=t[e])}}render(e,t,i,r,n){this.inputBufferUniform!==null&&t!==null&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:i),e.render(this.scene,this.camera)}initialize(e,t,i){i!==void 0&&i!==wn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},XS=1/1e3,hCe=1e3,pCe=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return this.delta*XS}getFixedDelta(){return this.fixedDelta*XS}setFixedDelta(e){return this.fixedDelta=e*hCe,this}getElapsed(){return this.elapsed*XS}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=e!==void 0?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},hw={MEDIUM:2,LARGE:3,HUGE:5},fCe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}`,mCe=class extends Is{constructor({blendFunction:e=qt.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:i=.025,resolutionScale:r=.5,intensity:n=1,width:a=Zn.AUTO_SIZE,height:c=Zn.AUTO_SIZE,kernelSize:l=hw.LARGE}={}){super("BloomEffect",fCe,{blendFunction:e,uniforms:new Map([["map",new Ee(null)],["intensity",new Ee(n)]])}),this.renderTarget=new Vt(1,1,{minFilter:jt,magFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new uCe({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=i,this.blurPass=new fj({resolutionScale:r,width:a,height:c,kernelSize:l});let o=this.blurPass.getResolution();o.addEventListener("change",s=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,i){let r=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,r),this.blurPass.render(e,r,r)):this.blurPass.render(e,t,r)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t),this.renderTarget.setSize(i.width,i.height),this.luminancePass.resolution.copy(i)}initialize(e,t,i){this.blurPass.initialize(e,t,i),i!==void 0&&(this.renderTarget.texture.type=i,e.outputEncoding===Et&&(this.renderTarget.texture.encoding=Et))}},gCe="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",vCe=class extends Is{constructor({blendFunction:e=qt.NORMAL,brightness:t=0,contrast:i=0}={}){super("BrightnessContrastEffect",gCe,{blendFunction:e,uniforms:new Map([["brightness",new Ee(t)],["contrast",new Ee(i)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},yCe="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",bCe=class extends Is{constructor(e=qt.NORMAL){super("ColorAverageEffect",yCe,{blendFunction:e})}},xCe="varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",wCe="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",_Ce=class extends Is{constructor({blendFunction:e=qt.NORMAL,offset:t=new re(.001,5e-4)}={}){super("ChromaticAberrationEffect",xCe,{vertexShader:wCe,blendFunction:e,attributes:ms.CONVOLUTION,uniforms:new Map([["offset",new Ee(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},SCe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}`,CCe=class extends Is{constructor(e,{blendFunction:t=qt.NORMAL,worldFocusDistance:i,worldFocusRange:r,focusDistance:n=0,focalLength:a=.1,focusRange:c=a,bokehScale:l=1,width:o=Zn.AUTO_SIZE,height:s=Zn.AUTO_SIZE}={}){super("DepthOfFieldEffect",SCe,{blendFunction:t,attributes:ms.DEPTH,uniforms:new Map([["nearColorBuffer",new Ee(null)],["farColorBuffer",new Ee(null)],["nearCoCBuffer",new Ee(null)],["scale",new Ee(1)]])}),this.camera=e,this.renderTarget=new Vt(1,1,{minFilter:jt,magFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new La(new xSe(e));let u=this.cocMaterial;u.focusDistance=n,u.focusRange=c,i!==void 0&&(u.worldFocusDistance=i),r!==void 0&&(u.worldFocusRange=r),this.blurPass=new fj({kernelSize:hw.MEDIUM,width:o,height:s});let d=this.blurPass.getResolution();d.addEventListener("change",p=>this.setSize(d.getBaseWidth(),d.getBaseHeight())),this.maskPass=new La(new OSe(this.renderTargetCoC.texture));let h=this.maskPass.fullscreenMaterial;h.maskFunction=sH.MULTIPLY,h.colorChannel=oH.GREEN,this.bokehNearBasePass=new La(new Hy(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new La(new Hy(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new La(new Hy(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new La(new Hy(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=l}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let i of t)i.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera,i=t.position.distanceTo(e);return DT(-i,t.near,t.far)}setDepthTexture(e,t=Bl){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,i){let r=this.renderTarget,n=this.renderTargetCoC,a=this.renderTargetCoCBlurred,c=this.renderTargetMasked;if(this.target!==null){let l=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=l}this.cocPass.render(e,null,n),this.blurPass.render(e,n,a),this.maskPass.render(e,t,c),this.bokehFarBasePass.render(e,c,r),this.bokehFarFillPass.render(e,r,this.renderTargetFar),this.bokehNearBasePass.render(e,t,r),this.bokehNearFillPass.render(e,r,this.renderTargetNear)}setSize(e,t){let i=this.resolution;i.setBaseSize(e,t);let r=i.width,n=i.height,a=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];a.push(this.renderTargetCoC,this.renderTargetMasked),a.forEach(c=>c.setSize(e,t)),a=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],a.forEach(c=>c.setSize(r,n)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(c=>c.fullscreenMaterial.setSize(r,n))}initialize(e,t,i){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(r=>r.initialize(e,t,i)),this.blurPass.initialize(e,t,wn),i!==void 0&&(this.renderTarget.texture.type=i,this.renderTargetNear.texture.type=i,this.renderTargetFar.texture.type=i,this.renderTargetMasked.texture.type=i,e.outputEncoding===Et&&(this.renderTarget.texture.encoding=Et,this.renderTargetNear.texture.encoding=Et,this.renderTargetFar.texture.encoding=Et,this.renderTargetMasked.texture.encoding=Et))}};new N;new Ie;var ECe="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",TCe=class extends Is{constructor({blendFunction:e=qt.NORMAL,hue:t=0,saturation:i=0}={}){super("HueSaturationEffect",ECe,{blendFunction:e,uniforms:new Map([["hue",new Ee(new N)],["saturation",new Ee(i)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((e.x*3-1)/2)}set hue(e){let t=Math.sin(e),i=Math.cos(e);this.uniforms.get("hue").value.set((2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}};new lt;var ACe=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,MCe=class extends Is{constructor({blendFunction:e=qt.SCREEN,premultiply:t=!1}={}){super("NoiseEffect",ACe,{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}},jCe="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",ICe=class extends Is{constructor(e=30){super("PixelationEffect",jCe,{uniforms:new Map([["active",new Ee(!1)],["d",new Ee(new re)]])}),this.resolution=new re,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}};new N;new N;var TO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",AO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",PCe="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",kCe="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",Gu={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},lH=class extends Is{constructor({preset:e=Gu.MEDIUM,edgeDetectionMode:t=dw.COLOR,predicationMode:i=ASe.DISABLED}={}){super("SMAAEffect",PCe,{vertexShader:kCe,blendFunction:qt.NORMAL,attributes:ms.CONVOLUTION|ms.DEPTH,uniforms:new Map([["weightMap",new Ee(null)]])});let r,n;arguments.length>1&&(r=arguments[0],n=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new Vt(1,1,{minFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new pj(!0,!1,!1),this.clearPass.overrideClearColor=new lt(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new La(new MSe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=i,this.weightsPass=new La(new LSe);let a=new cF;a.onLoad=()=>{let c=new Ni(r);c.name="SMAA.Search",c.magFilter=kt,c.minFilter=kt,c.generateMipmaps=!1,c.needsUpdate=!0,c.flipY=!0,this.weightsMaterial.searchTexture=c;let l=new Ni(n);l.name="SMAA.Area",l.magFilter=jt,l.minFilter=jt,l.generateMipmaps=!1,l.needsUpdate=!0,l.flipY=!1,this.weightsMaterial.areaTexture=l,this.dispatchEvent({type:"load"})},a.itemStart("search"),a.itemStart("area"),r!==void 0&&n!==void 0?(a.itemEnd("search"),a.itemEnd("area")):typeof Image<"u"&&(r=new Image,n=new Image,r.addEventListener("load",()=>a.itemEnd("search")),n.addEventListener("load",()=>a.itemEnd("area")),r.src=TO,n.src=AO),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,i=this.weightsMaterial;switch(e){case Gu.LOW:t.edgeDetectionThreshold=.15,i.orthogonalSearchSteps=4,i.diagonalDetection=!1,i.cornerDetection=!1;break;case Gu.MEDIUM:t.edgeDetectionThreshold=.1,i.orthogonalSearchSteps=8,i.diagonalDetection=!1,i.cornerDetection=!1;break;case Gu.HIGH:t.edgeDetectionThreshold=.1,i.orthogonalSearchSteps=16,i.diagonalSearchSteps=8,i.cornerRounding=25,i.diagonalDetection=!0,i.cornerDetection=!0;break;case Gu.ULTRA:t.edgeDetectionThreshold=.05,i.orthogonalSearchSteps=32,i.diagonalSearchSteps=16,i.cornerRounding=25,i.diagonalDetection=!0,i.cornerDetection=!0;break}}setDepthTexture(e,t=Bl){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,i){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;e!==null&&t!==null&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return TO}static get areaImageDataURL(){return AO}},DCe=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,Gy={DEFAULT:0,ESKIL:1},OCe=class extends Is{constructor({blendFunction:e=qt.NORMAL,technique:t=Gy.DEFAULT,eskil:i=!1,offset:r=.5,darkness:n=.5}={}){super("VignetteEffect",DCe,{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new Ee(r)],["darkness",new Ee(n)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Gy.ESKIL}set eskil(e){this.technique=e?Gy.ESKIL:Gy.DEFAULT}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}},Fl=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(i){this.effect.blendMode.opacity.value=i},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(i){this.effect.blendMode.setBlendFunction(Number(i))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=qt.NORMAL}},RCe=class extends Fl{constructor(){super(mCe),this.blendFunction=qt.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},NCe=class extends Fl{constructor(){super(vCe)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},LCe=class extends Fl{constructor(){super(_Ce),this.effect.offset=new re(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[this.effect.offset.x*1e3,this.effect.offset.y*1e3]}},zCe=class extends Fl{constructor(){super(bCe)}},BCe=class extends Fl{constructor(){super(TCe),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},FCe=class extends Fl{constructor(){super(MCe),this.blendFunction=qt.OVERLAY}},UCe=class extends Fl{constructor(){super(OCe)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},VCe=class extends Fl{constructor(e){super(CCe)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e/2e3}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=this.isPerspectiveCamera?e/2e3:(e+992)/2e3}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}setCamera(e){let t=!1;(e.isPerspectiveCamera&&this.isPerspectiveCamera===!1||!e.isPerspectiveCamera&&this.isPerspectiveCamera===!0)&&(t=!0),e.isPerspectiveCamera?(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e.perspCamera),this.isPerspectiveCamera=!0):(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e),this.isPerspectiveCamera=!1),t&&this.effect.setChanged()}},HCe=class extends Fl{constructor(){super(ICe)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},GCe=`#define GLSLIFY 1
varying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}`,WCe=`#define GLSLIFY 1
#include <common>
varying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;
#define USE_YCOCG
#define USE_CATMULL_ROM
const float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){
#ifdef USE_YCOCG
vec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);
#else
return texture(tex,uv);
#endif
}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){
#ifdef CHOOSE_LONGEST_MOTION_VECTOR
float longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;
#else
float closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;
#endif
}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);
#ifdef USE_CATMULL_ROM
vec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);
#else
vec4 previousColor=sample_color(historyBuffer,previousPixelPos);
#endif
#ifdef USE_YCOCG
previousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);
#endif
vec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);
#ifdef USE_YCOCG
vec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;
#endif
vec4 previousColorClipped=clamp(previousColor,cmin,cmax);
#ifdef LUMINANCE_DIFFERENCES
#ifdef USE_YCOCG
float lum0=currentColor.r;float lum1=previousColorClipped.r;
#else
float lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);
#endif
float unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));
#else
const float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);
#endif
#ifdef USE_YCOCG
gl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);
#else
gl_FragColor=result;
#endif
}`,qCe=`#define GLSLIFY 1
varying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}`,YCe=`#define GLSLIFY 1
layout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}`,NT=class extends Ht{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new Ee(null)},blending:lr,depthWrite:!1,depthTest:!1,vertexShader:qCe,fragmentShader:YCe})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},KCe=class extends Un{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new NT,this.resolutionVector=new re,this.resolveMaterial=new Ht({name:"TAAResolveMaterial",uniforms:{inputBuffer:new Ee(null),historyBuffer:new Ee(null),velocityBuffer:new Ee(null),depthBuffer:new Ee(null),resolution:new Ee(new re)},blending:lr,depthWrite:!1,depthTest:!1,vertexShader:GCe,fragmentShader:WCe}),this.historyRenderTarget=new Vt(1024,1024,{minFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new Vt(1024,1024,{minFilter:jt,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let i=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(i),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},XCe=class extends Un{constructor(e,t,i){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new CO(e,t,{renderTarget:i.transmissionDepthTarget}),this.passThroughMaterial=new NT,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new NT,this.depthPass=new CO(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,i){let r=this.camera.layers.mask,n=e;n.setRenderTarget(n.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],n.clear(),n.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,i),n.shadowMap.needsUpdate=!1,n.shadowMap.autoUpdate=!1;let a=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(a),e.render(this.splineScene,this.camera),this.camera.layers.mask=r}},MO=new ra,JCe=new Ht({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        layout(location = 1) out vec4 gVelocity;

        void main() {
            gl_FragColor = vec4(0.0);
			gVelocity = vec4(0.0);
        }
    `}),LT=class extends Un{constructor(e,t,i){super("OpaquePass",t??MO,i),this.MRTCompatible=!0,this.originalMaterials=[],this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.MRTCompatible=e}setCamera(e){this.camera=e}setScene(e){this.scene=e??MO}getScene(){return this.scene}render(e,t){this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.length=0,this.scene.traverse(r=>{r.layers.isEnabled(3)&&r instanceof zn&&(this.originalMaterials.push([r,r.material]),r.material=JCe)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let i=this.renderToScreen?null:t;e.setRenderTarget(i),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),e.render(this.scene,this.camera),this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach(r=>{r[0].material=r[1]})}},QCe=class{constructor(e,{depthBuffer:t=!0,stencilBuffer:i=!1,multisampling:r=0,frameBufferType:n=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new RT,this.depthTexture=null,this.timer=new pCe,this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,i,n,r,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,i,n,r,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,i,n,r,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,i=this.multisampling;i>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):i!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){var t;if(this.renderer=e,e!==null){let i=e.getSize(new re),r=((t=e.getContext().getContextAttributes())==null?void 0:t.alpha)??!1,n=this.inputBuffer.texture[0].type;n===wn&&e.outputEncoding===Et&&(this.inputBuffer.texture[0].encoding=Et,this.outputBuffer.texture[0].encoding=Et,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(i.width,i.height,!1);for(let a of this.passes)a.initialize(e,r,n)}}replaceRenderer(e,t=!0){let i=this.renderer,r=i.domElement.parentNode;return this.setRenderer(e),t&&r!==null&&(r.removeChild(i.domElement),r.appendChild(e.domElement)),i}createDepthTexture(){let e=this.depthTexture=new Vp(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.stencilBuffer?(e.format=Id,e.type=pd):e.type=hl,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,i,r,n,a){let c=this.renderer,l=c===null?new re:c.getDrawingBufferSize(new re),o={minFilter:jt,magFilter:jt,wrapS:Ei,wrapT:Ei,stencilBuffer:t,depthBuffer:e},s;return r>0?(s=new Vt(l.width,l.height,o),s.samples=r):(n?(s=new NB(l.width,l.height,2,o),s.texture[1].type=Il):s=new Vt(l.width,l.height,o),s.depthTexture=new Vp(2048,2048),s.depthTexture.type=ni),i===wn&&c!==null&&c.outputEncoding===Et&&(Array.isArray(s.texture)?s.texture.forEach(u=>u.encoding=Et):s.texture.encoding=Et),Array.isArray(s.texture)?s.texture.forEach((u,d)=>{u.name=`EffectComposer.Buffer ${n} ${d}`,u.generateMipmaps=!1}):(s.texture.name=`EffectComposer.Buffer ${n}`,s.texture.generateMipmaps=!1),s.name=a,s}addPass(e,t){var l;let i=this.passes,r=this.renderer,n=r.getDrawingBufferSize(new re),a=((l=r.getContext().getContextAttributes())==null?void 0:l.alpha)??!1,c;if(e.MRTCompatible&&(c=this.inputBuffer.texture[0].type),e.MRTCompatible||(c=this.inputBuffer.texture.type),e.setRenderer(r),e.setSize(n.width,n.height),e.initialize(r,a,c),this.autoRenderToScreen&&(i.length>0&&(i[i.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?i.splice(t,0,e):i.push(e),this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let o=this.createDepthTexture();for(e of i)e.setDepthTexture(o)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,i=t.indexOf(e);if(i!==-1&&t.splice(i,1).length>0){if(this.depthTexture!==null){let r=(n,a)=>n||a.needsDepthTexture;t.reduce(r,!1)||e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null)}this.autoRenderToScreen&&i===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){let e=this.passes;e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let t=this.renderer,i=this.copyPass,r=this.inputBuffer,n=this.outputBuffer,a=this.inputBufferSingle,c=this.outputBufferSingle,l=!1,o,s,u,d;e===void 0&&(e=this.timer.update().getDelta());for(let h of this.passes)h.enabled&&(h.MRTCompatible?h.render(t,r,n,e,l):h.render(t,a,c,e,l),h.needsSwap&&(l&&(i.renderToScreen=h.renderToScreen,o=t.getContext(),s=t.state.buffers.stencil,s.setFunc(o.NOTEQUAL,1,4294967295),i.render(t,r,n,e,l),s.setFunc(o.EQUAL,1,4294967295)),u=r,d=a,r=n,a=c,n=u,c=d),h instanceof dCe?l=!0:h instanceof FSe&&(l=!1))}setSize(e,t,i){let r=this.renderer;if(this._width=e,this._height=t,e===void 0||t===void 0){let a=r.getSize(new re);e=a.width,t=a.height}r.setSize(e,t,i);let n=r.getDrawingBufferSize(new re);this.inputBuffer.setSize(n.width,n.height),this.outputBuffer.setSize(n.width,n.height),this.inputBufferSingle.setSize(n.width,n.height),this.outputBufferSingle.setSize(n.width,n.height);for(let a of this.passes)a.setSize(n.width,n.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.inputBufferSingle!==null&&this.inputBufferSingle.dispose(),this.outputBufferSingle!==null&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},$Ce=new Ht({name:"CombineMaterial",uniforms:{inputBufferA:new Ee(null),inputBufferB:new Ee(null)},blending:lr,depthWrite:!1,depthTest:!1,vertexShader:`
varying vec2 vUv;
void main() {
    gl_Position = vec4(position.xy, 1.0, 1.0);
    vUv = position.xy * 0.5 + 0.5;
}
`,fragmentShader:`
    varying vec2 vUv;
    uniform sampler2D inputBufferA;
    uniform sampler2D inputBufferB;

    // TODO: Why do we need these when postpro of framemode is enabled???
    layout(location = 1) out vec4 gVelocity;

    void main() {
	vec4 resA = texture2D(inputBufferA, vUv);
	vec4 resB = texture2D(inputBufferB, vUv);
    float a = resA.a + resB.a * ( 1.0 - resA.a );

	vec4 res;
	res.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));
	res.a = resA.a + resB.a * (1.0 - resA.a);
	gl_FragColor = res;
    gVelocity = vec4(0.0);
    }
`}),ZCe=class extends Un{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=$Ce,this.helperPass=new LT(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new LT(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new lH({preset:Gu.LOW,edgeDetectionMode:dw.COLOR});this.effectPass=new Nx(this.camera,t),this.rt=new Vt(10,10,{minFilter:jt,magFilter:jt,wrapS:Ei,wrapT:Ei,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,i){super.initialize(e,t,i),this.effectPass.initialize(e,t,i)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,i){this.rt.depthTexture=t.depthTexture;let r=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,i),this.fullscreenMaterial.uniforms.inputBufferA.value=i.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(r),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},eEe=`#define GLSLIFY 1
#include <skinning_pars_vertex>
#include <morphtarget_pars_vertex>
out vec3 n;void main(){
#include <beginnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <defaultnormal_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
vec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}`,tEe=`#define GLSLIFY 1
in vec3 n;void main(){gl_FragColor=vec4(n,1.0);}`,iEe=`#define GLSLIFY 1
out vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}`,rEe=`#define GLSLIFY 1
in vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}
#define USE_GBUFFER_NORMALS
void main(){vec3 view_space_p=get_view_position(v_uv);
#ifdef USE_GBUFFER_NORMALS
vec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;
#else
vec3 view_space_n=-rebuild_normal(v_uv,view_space_p);
#endif
float radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}`,nEe=`#define GLSLIFY 1
out vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}`,aEe=`#define GLSLIFY 1
in vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){
#ifdef DEBUG
float d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);
#else
vec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;
#endif
}`,pm=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],oEe=new Ht({vertexShader:eEe,fragmentShader:tEe}),_h=new Ht({vertexShader:nEe,fragmentShader:aEe,uniforms:{texture_ao_lrez:new Ee(null),texture_depth_lrez:new Ee(null),texture_depth_hrez:new Ee(null),near:new Ee(null),far:new Ee(null)}}),sEe=class extends Un{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let i=1024,r=1024;this.gBuffer=new Vt(i,r,{type:Jv?Il:ni,depthTexture:new Vp(i,r),minFilter:jt,magFilter:jt}),this.depthBufferHighRes=new Vt(i,r,{depthTexture:new Vp(i,r)}),this.aoBuffer=new Vt(i,r,{minFilter:jt,magFilter:jt}),this.splineScene=e,this.splineCamera=t;let n=new Float32Array(pm.length*2);for(let c=0;c<pm.length;c++){let l=c*2;n[l+0]=pm[c][0],n[l+1]=pm[c][1]}this.blueNoiseInDiskTexture=new Dn(n,pm.length,1,Fb,ni),this.blueNoiseInDiskTexture.wrapS=dl,this.blueNoiseInDiskTexture.wrapT=dl,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new Ht({vertexShader:iEe,fragmentShader:rEe,uniforms:{near:new Ee(null),far:new Ee(null),fov:new Ee(null),proj_info:new Ee(new vt),is_ortho:new Ee(!1),resolution:new Ee(new re),radius_of_influence:new Ee(8),radius_in_screen_space:new Ee(1),exponent:new Ee(1),ao_color:new Ee(new N),bias:new Ee(.5),texture_depth:new Ee(null),texture_normals:new Ee(null),texture_blue_noise:new Ee(null),texture_blue_noise_in_disk:new Ee(this.blueNoiseInDiskTexture),frame_index:new Ee(0),fog_enabled:new Ee(!1),fog_near:new Ee(1),fog_far:new Ee(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new Vt(i,r,{minFilter:jt,magFilter:jt,wrapS:Ei,wrapT:Ei,depthBuffer:!1,type:ni});let a=new lH({preset:Gu.ULTRA,edgeDetectionMode:dw.COLOR});this.effectPass=new Nx(this.camera,a)}initialize(e,t,i){super.initialize(e,t,i),this.effectPass.initialize(e,t,i)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let i=this._runHalfRes?.5:1,r=e*i,n=t*i;this.gBuffer.setSize(r,n),this.aoBuffer.setSize(r,n),this.hbaoMaterial.uniforms.resolution.value.set(r,n),this.aaBuffer.setSize(r,n),this.effectPass.setSize(r,n)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}setDepthTexture(e){this.depthBufferHighRes.depthTexture=e,_h.uniforms.texture_depth_hrez.value=e,_h.needsUpdate=!0}render(e,t,i){this.splineScene.overrideMaterial=oEe;let r=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=r,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let n=this.splineCamera.perspCamera.projectionMatrix.elements,a=2/n[0],c=2/n[5],l=-(1-n[8])/n[0],o=-(1+n[9])/n[5];this.hbaoMaterial.uniforms.proj_info.value.set(a,c,l,o);let s=this.splineCamera.perspCamera.fov*(Math.PI/180),u=this.hbaoMaterial.uniforms.resolution.value.y/(Math.tan(s*.5)*2),d=this.hbaoMaterial.uniforms.radius_of_influence.value*.5*u;this.hbaoMaterial.uniforms.radius_in_screen_space.value=d,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let n=this.splineCamera.orthoCamera.projectionMatrix.elements,a=2/n[0],c=2/n[5],l=-(1+n[12])/n[0],o=-(1-n[13])/n[5];this.hbaoMaterial.uniforms.proj_info.value.set(a,c,l,o);let s=.5*(this.hbaoMaterial.uniforms.resolution.value.y/c),u=this.hbaoMaterial.uniforms.radius_of_influence.value*s;this.hbaoMaterial.uniforms.radius_in_screen_space.value=u,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=_h,_h.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,_h.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,_h.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},lEe=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cEe=`
uniform sampler2D tInput;
uniform sampler2D tMap;
uniform vec2 resolution;
varying vec2 vUv;

uniform vec2 uResolution;
uniform vec2 uCoords;

// Draws a rectangle at center <st> with size <size>
float rectangle(vec2 st, vec2 size) {
    size = vec2(0.5) - size * 0.5;
    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));
    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));

    return uv.x * uv.y;
}

uniform vec2 uSize;
uniform float uScale;
uniform float uDPR;
uniform float uCurrent;
uniform vec3 uSceneColor;

void main() {
    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
    screenUv *= 1.0 / uDPR;

    vec2 center = vec2(0.5, -0.5);
    vec2 outsideUv = screenUv;
    outsideUv += center;
    outsideUv -= uCoords.xy / uResolution.xy;
    outsideUv = (outsideUv - 0.5) + 0.5;
    outsideUv -= center;
    vec2 s = (uSize / uResolution) * uScale;
    float isOutside = 1.0 - rectangle(outsideUv, s);
    
    vec2 mid = vec2(0.5);
    vec2 insideUv = (screenUv - mid + s * mid) / s;
    vec4 background = texture2D(tInput, screenUv);
    vec4 image = texture2D(tMap, insideUv);
    gl_FragColor = mix(image, background, isOutside);
}
`,uEe=class extends La{constructor(){super(new Ht({vertexShader:lEe,fragmentShader:cEe,uniforms:{tInput:new Ee(null),tMap:new Ee(null),uResolution:new Ee(new re),uSize:new Ee(new re),uCoords:new Ee(new re),uScale:new Ee(1),uSceneColor:new Ee(new lt(16711680)),uDPR:new Ee(1),uCurrent:new Ee(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},dEe=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,hEe=`
uniform sampler2D toScene;
uniform sampler2D fromScene;
uniform vec2 resolution;

uniform vec2 uResolution;
uniform float uDPR;

uniform float mixRatio;
uniform sampler2D tMixTexture;
uniform int useTexture;
uniform float threshold;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( fromScene, screenUv );
	vec4 texel2 = texture2D( toScene, screenUv );

	if (useTexture==1) {
		
		vec4 transitionTexel = texture2D( tMixTexture, screenUv );
		float r = mixRatio * (1.0 + threshold * 2.0) - threshold;
		float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);
		
		gl_FragColor = mix( texel1, texel2, mixf );
	} else {
		
		gl_FragColor = mix( texel1, texel2, mixRatio );
		
	}
}
`,pEe=[],fEe=class extends La{constructor(){super(new Ht({vertexShader:dEe,fragmentShader:hEe,uniforms:{toScene:new Ee(null),fromScene:new Ee(null),uResolution:new Ee(new re),uDPR:new Ee(1),mixRatio:new Ee(0),threshold:new Ee(.1),useTexture:new Ee(0),tMixTexture:{value:pEe[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}},mEe=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gEe=`
uniform sampler2D inputBuffer;
uniform sampler2D blurredInputBuffer;
uniform sampler2D overlay;
uniform float blurIntensity;

uniform vec2 uResolution;
uniform float uDPR;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( overlay, screenUv );
	vec4 texel2 = texture2D( inputBuffer, screenUv );
	vec4 texel3 = texture2D( blurredInputBuffer, screenUv );

	float blurMask2 = max(sign(texel1.a), 0.0) * blurIntensity;
    gl_FragColor = mix( mix(texel2, texel3, blurMask2), texel1, texel1.a );
}
`,vEe=class extends La{constructor(){super(new Ht({vertexShader:mEe,fragmentShader:gEe,uniforms:{inputBuffer:new Ee(null),blurredInputBuffer:new Ee(null),overlay:new Ee(null),uResolution:new Ee(new re),uDPR:new Ee(1),blurIntensity:new Ee(0)}})),this._blurEnabled=!1,this.blurTarget=new Vt(1,1,{minFilter:jt,magFilter:jt,wrapS:Ei,wrapT:Ei}),this.blurPass=new fj({width:window.innerWidth,height:window.innerHeight,kernelSize:hw.HUGE,resolutionScale:.25}),this.blurPass.renderToScreen=!1,this.uniforms.blurredInputBuffer.value=this.blurTarget.texture}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.overlay.value}set texture(e){this.uniforms.overlay.value=e}setResolution(e,t,i=1){this.uniforms.uResolution.value.set(e,t),this.uniforms.uDPR.value=i,this.blurPass.setSize(e,t),this.blurTarget.setSize(e,t),this.blurPass.setSize(e,t)}get uiCanvas(){return this._uiCanvas}set uiCanvas(e){this._uiCanvas=e,e.texture&&(this.uniforms.overlay.value=e.texture);let t=e.frame;if(t){let i=t.data.backgroundBlur,r=i.radius;this._blurEnabled=i.enabled,this.uniforms.blurIntensity.value=this._blurEnabled?1:0,this.blurPass.scale=r/3}}render(e,t,i,r,n){this._blurEnabled&&(this.blurPass.setDepthTexture(this.getDepthTexture()),this.blurPass.render(e,t,this.blurTarget,r,n)),super.render(e,t,i,r,n)}},yEe=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bEe=`
uniform sampler2D tInput;
uniform sampler2D tOverlayImage;
varying vec2 vUv;
uniform vec2 uResolution;
uniform vec2 uRightBottom;
uniform vec2 uImageSize;
uniform float uScale;
uniform float uDPR;

vec3 blendNormal(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal(vec3 base, vec3 blend, float opacity) {
	return (blendNormal(base, blend) * opacity + base * (1.0 - opacity));
}

vec4 drawFixedSizeImage(sampler2D image, vec2 screenUV, vec2 imageSize, vec2 imageCoords, vec2 screenSize, float dpr) {
	vec2 uv = (screenUV * screenSize * dpr - imageCoords) / (imageSize * dpr);
	if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {
		return vec4(0.0);
	}
	return texture2D(image, uv);
}

void main() {
    vec2 screenUV = gl_FragCoord.xy / (uResolution.xy * uDPR);
	vec2 imageCoords = vec2(uResolution.x * uDPR - uImageSize.x * uScale * uDPR - uRightBottom.x * uDPR, uRightBottom.y * uDPR);
    vec4 background = texture2D(tInput, screenUV);
    vec4 image = drawFixedSizeImage(tOverlayImage, screenUV, uImageSize * uScale, imageCoords, uResolution, uDPR);
    gl_FragColor = vec4(blendNormal(background.rgb, image.rgb, image.a), max(background.a, image.a));
}
`,xEe=class extends La{constructor(){super(new Ht({vertexShader:yEe,fragmentShader:bEe,uniforms:{tInput:new Ee(null),tOverlayImage:new Ee(null),uResolution:new Ee(new re),uImageSize:new Ee(new re),uRightBottom:new Ee(new re(20,20)),uScale:new Ee(.25),uDPR:new Ee(1)}}),"tInput")}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tOverlayImage.value}set texture(e){this.uniforms.tOverlayImage.value=e,this.uniforms.uImageSize.value.set(e.image.width,e.image.height)}};function jO(e,t){return t&&t.enabled&&e.push(t.effect),e}var wEe=e=>Object.values(qt).includes(e)?e:qt.NORMAL,_Ee=class extends an{constructor(e,t){super(),this._needsDOFResize=t,this.postprocessingState=bx.defaultData,this._scene=new ra,this._camera=new yn,this.effects=new Map,this.blueNoiseTexture=new Dn,this._renderToScreen=!0,this._isUIOverlayEnabled=!1,this.clock=new Due,this.renderer=e,this.debug=!1,this.effects.set("bloom",new RCe),this.effects.set("chromaticAberration",new LCe),this.effects.set("vignette",new UCe),this.effects.set("noise",new FCe),this.effects.set("colorAverage",new zCe),this.effects.set("hueSaturation",new BCe),this.effects.set("brightnessContrast",new NCe),this.effects.set("depthOfField",new VCe),this.effects.set("pixelation",new HCe),this.effectComposer=new QCe(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new LT(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new XCe(this.scene,this.camera,this.renderer),this.aoPass=new sEe(this.scene,this.camera),this.taaPass=new KCe,this.taaPass.renderToScreen=!1,this.helperPass=new ZCe(this.camera),this.helperPass.renderToScreen=!1,this.stylesOverlayPass=new uEe,this.stylesOverlayPass.enabled=!1,this.uiOverlayPass=new vEe,this.uiOverlayPass.enabled=!1,this.logoOverlayPass=new xEe,this.logoOverlayPass.enabled=!1,this.sceneTransitionPass=new fEe,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){e!==void 0?(this.stylesOverlayPass.texture=e,this.stylesOverlayPass.enabled=!0):this.stylesOverlayPass.enabled=!1}get overlayTexture(){return this.stylesOverlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){let t=this._camera!==e;this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),t&&this.transmissionPass.updatePasses(this.renderer),this.aoPass.setCamera(e),this.helperPass.setCamera(e),this.effects.get("depthOfField").setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let i=this.effectComposer.passes[t];if(i.enabled===!0&&!e&&this._renderToScreen){i.renderToScreen=!0,e=!0;continue}i.renderToScreen=!1}}get isUIOverlayEnabled(){return this._isUIOverlayEnabled}disableUIOverlay(){this._isUIOverlayEnabled=!1}enableUIOverlay(){this._isUIOverlayEnabled=!0}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new Dn(e,128,128),this.blueNoiseTexture.wrapS=dl,this.blueNoiseTexture.wrapT=dl,this.blueNoiseTexture.minFilter=kt,this.blueNoiseTexture.magFilter=kt,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,i,r,n,a,c,l){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=i,this.aoPass.aoColor=r,this.aoPass.fogEnabled=n,this.aoPass.fogNear=a,this.aoPass.fogFar=c,this.aoPass.runHalfRes!==!l&&(this.aoPass.runHalfRes=!l)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){var e,t,i;if((e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let r=[this.effects.get("pixelation")].reduce(jO,[]);r.length>0&&(this.uvEffectPass=new Nx(this.camera,...r),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let n=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("depthOfField"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(jO,[]);if(n.length>0&&(this.effectPass=new Nx(this.camera,...n),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass),this._needsDOFResize&&((i=this.effects.get("depthOfField"))==null?void 0:i.enabled)&&window!==void 0)){let a=this.renderer.viewportWidth,c=this.renderer.viewportHeight;this.renderer.setSize(a-1,c-1),this.renderer.setSize(a,c)}}this.effectComposer.addPass(this.stylesOverlayPass),this.effectComposer.addPass(this.uiOverlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass),this.effectComposer.addPass(this.logoOverlayPass)}_initCopyPass(){if(this._savePass)return;let e=new re;this.renderer.getDrawingBufferSize(e),this._rt=new Vt(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:dl,wrapT:dl}),this._rt.samples=0,this._savePass=new RT(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new RT(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(e===!0?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(e!==null?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}setWatermark(e){this.logoOverlayPass.enabled=e!==null,e&&(this.logoOverlayPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...i}=e,r=!1;t!==this.postprocessingState.enabled&&(r=!0);for(let n of Object.entries(i)){let a=n[1],c=this.effects.get(n[0]);if(c){c.enabled!==a.enabled&&(r=!0),c.enabled=a.enabled;for(let[l,o]of Object.entries(a))l==="blendFunction"?c.blendFunction=wEe(o):c[l]=o}}this.postprocessingState=e,r&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,i,r){e instanceof vt?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,i,r),this.effectComposer.outputBuffer.scissor.set(e,t,i,r));let n=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(n),this.effectComposer.outputBuffer.scissor.multiplyScalar(n),this.renderer.setScissor(e,t,i,r)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,i,r){e instanceof vt?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,i,r),this.effectComposer.outputBuffer.viewport.set(e,t,i,r))}resize(e,t,i){if(this.effectComposer.setSize(e,t,i),this._rt){let r=this.renderer.getPixelRatio();this._rt.setSize(e*r,t*r)}}dispose(){var e,t;(e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.dispose()}},SEe=e=>`

// PCSS implementation based on:
// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/
// NOTE: This number affects how big the shadow blur can
// possibly get. Bigger number == bigger blur, but less precise results

const float  gPenumbraFilterSize = 80.0;
const int   gPenumbraSamples = ${e};
const int gShadowSamples = ${e};
const float gShadowSamplesRpc = 1.0f / float(gShadowSamples);

#ifdef USE_SHADOWMAP
    #if NUM_DIR_LIGHT_SHADOWS > 0

        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];

        struct DirectionalLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];

    #endif

    #if NUM_SPOT_LIGHT_SHADOWS > 0

        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];

        struct SpotLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];

    #endif

    #if NUM_POINT_LIGHT_SHADOWS > 0

        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];

        struct PointLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
            float shadowCameraNear;
            float shadowCameraFar;
        };

        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];

    #endif

    /*
    #if NUM_RECT_AREA_LIGHTS > 0

        // TODO (abelnation): create uniforms for area light shadows

    #endif
    */

float computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)
{
    float penumbra = 1.0;
    float blockerDepthAvg = 0.0;
    float blockerCount = 0.0;

    #pragma unroll_loop_start
    for(int i = 0; i < gPenumbraSamples; i ++)
    {
        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;
        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );

        if(depth < compare + 0.0001)
        {
            blockerDepthAvg += depth;
            blockerCount++;
        }
    }
    #pragma unroll_loop_end

    if (blockerCount > 0.0)
    {
        blockerDepthAvg /= blockerCount;

        // Compute penumbra
        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);
        penumbra *= penumbra;
        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows

        return clamp(penumbra, 0.00, 1.0);
    }
    return 0.0;
}

float vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)
{
    float shadow         = 0.0f;

    // NOTE: When using TAA, we should use screen space interleaved gradient noise
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);
    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);
    if (penumbra == -1.0) {
        return 1.0;
    }

    #pragma unroll_loop_start
    for (int i = 0; i < gShadowSamples; i++)
    {
        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;
        // Overall blurring offset
        vec2 offset = vogelSample * (shadowRadius * 2.);

        // Penumbra offset
        offset += vogelSample * (penumbra * texelScalar);

        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    }
    #pragma unroll_loop_end

    return shadow * gShadowSamplesRpc;
}


    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

    }

    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {

        return unpackRGBATo2Half( texture2D( shadow, uv ) );

    }

    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){

        float occlusion = 1.0;

        vec2 distribution = texture2DDistribution( shadow, uv );

        float hard_shadow = step( compare , distribution.x ); // Hard Shadow

        if (hard_shadow != 1.0 ) {

            float distance = compare - distribution.x ;
            float variance = max( 0.00000, distribution.y * distribution.y );
            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality
            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed
            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );

        }
        return occlusion;

    }

    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

        float shadow = 1.0;

        shadowCoord.xyz /= shadowCoord.w;
        shadowCoord.z += shadowBias;

        // if ( something && something ) breaks ATI OpenGL shader compiler
        // if ( all( something, something ) ) using this instead

        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
        bool inFrustum = all( inFrustumVec );

        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

        bool frustumTest = all( frustumTestVec );

        if ( frustumTest ) {

        #if defined( SHADOWMAP_TYPE_PCF )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            float dx = texelSize.x;
            float dy = texelSize.y;

            vec2 uv = shadowCoord.xy;
            vec2 f = fract( uv * shadowMapSize + 0.5 );
            uv -= f * texelSize;

            shadow = (
                texture2DCompare( shadowMap, uv, shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
                          f.x ),
                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
                          f.x ),
                     f.y )
            ) * ( 1.0 / 9.0 );

        #elif defined( SHADOWMAP_TYPE_VSM )

            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );

        #else // no percentage-closer filtering:

            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

        #endif

        }

        return shadow;

    }

    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
    // vector suitable for 2D texture mapping. This code uses the following layout for the
    // 2D texture:
    //
    // xzXZ
    //  y Y
    //
    // Y - Positive y direction
    // y - Negative y direction
    // X - Positive x direction
    // x - Negative x direction
    // Z - Positive z direction
    // z - Negative z direction
    //
    // Source and test bed:
    // https://gist.github.com/tschw/da10c43c467ce8afd0c4

    vec2 cubeToUV( vec3 v, float texelSizeY ) {

        // Number of texels to avoid at the edge of each square

        vec3 absV = abs( v );

        // Intersect unit cube

        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
        absV *= scaleToCube;

        // Apply scale to avoid seams

        // two texels less per square (one texel will do for NEAREST)
        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

        // Unwrap

        // space: -1 ... 1 range for each square
        //
        // #X##         dim    := ( 4 , 2 )
        //  # #         center := ( 1 , 1 )

        vec2 planar = v.xy;

        float almostATexel = 1.5 * texelSizeY;
        float almostOne = 1.0 - almostATexel;

        if ( absV.z >= almostOne ) {

            if ( v.z > 0.0 )
                planar.x = 4.0 - v.x;

        } else if ( absV.x >= almostOne ) {

            float signX = sign( v.x );
            planar.x = v.z * signX + 2.0 * signX;

        } else if ( absV.y >= almostOne ) {

            float signY = sign( v.y );
            planar.x = v.x + 2.0 * signY + 2.0;
            planar.y = v.z * signY - 2.0;

        }

        // Transform to UV space

        // scale := 0.5 / dim
        // translate := ( center + 0.5 ) / dim
        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

    }

    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

        float shadow = 1.0;
        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

        // for point lights, the uniform @vShadowCoord is re-purposed to hold
        // the vector from the light to the world-space position of the fragment.
        vec3 lightToPosition = shadowCoord.xyz;

        // dp = normalized distance from light to fragment position
        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
        compare += shadowBias;

        // bd3D = base direction 3D
        vec3 bd3D = normalize( lightToPosition );

        vec2 halton = haltonSequence[frameIndex];
        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
        float temporalAngle  = temporalOffset * PI2;

        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )
            for (int i = 0; i < gShadowSamples; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                // NOTE: Removed for now
                // Penumbra offset
                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * gShadowSamplesRpc;

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )
            for (int i = 0; i < 16; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * (1.0 / 16.0);
        #else // no percentage-closer filtering

            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );

        #endif

    }

#endif
`,CEe=At.lights_fragment_begin,EEe=At.shadowmask_pars_fragment,IO=null,TEe=e=>{switch(e){case"low":return 8;case"medium":return 16;case"high":return 32;default:return 16}},AEe=(e="medium")=>{if(IO===e)return!1;IO=e;let t=TEe(e);At.shadowmap_pars_fragment=SEe(t);let i=CEe.slice();i=i.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),i=i.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),At.lights_fragment_begin=i;let r=EEe.slice();return r=r.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),At.shadowmask_pars_fragment=r,!0},MEe=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;
#include <skinning_pars_vertex>
#include <morphtarget_pars_vertex>
	
void main()
{
#include <beginnormal_vertex>
#include <morphnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
vec3 transformed = vec3(position);
#include <morphtarget_vertex>
#include <skinning_vertex>

vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
}
`,jEe=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,JS=new Ht({vertexShader:MEe,fragmentShader:jEe,uniforms:{depthContrast:{value:1}}}),PO=new Ni,kO=new re,IEe=class extends WB{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new re,this.dummyCamera=new yn,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(n=!0,a=!0,c=!0)=>{let l=this.getContext(),o=0;n&&(o|=l.COLOR_BUFFER_BIT),a&&(o|=l.DEPTH_BUFFER_BIT),c&&(o|=l.STENCIL_BUFFER_BIT),l.clear(o),l.clearBufferfv(l.COLOR,1,[0,0,0,1])},this.pipeline=new _Ee(this,(e==null?void 0:e.needsDOFResize)??!1),this.autoClear=!1;let t=this.setPixelRatio.bind(this),i=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=Z4,this.dummyCamera.matrixAutoUpdate=!1,this.domElement.removeAttribute("data-engine");let r=this.getContext();if(r&&"drawingBufferColorSpace"in r)try{r.drawingBufferColorSpace="display-p3"}catch(n){console.warn(n)}this.setPixelRatio=n=>{this._pixelRatio!==n&&(this._pixelRatio=n,t(n))},this.setSize=(n,a,c=!0)=>{var l,o;(this.viewportWidth!==n||this.viewportHeight!==a)&&(this.viewportWidth=n,this.viewportHeight=a,i(n,a,c),(l=this.normalRenderTarget)==null||l.setSize(n*this._pixelRatio,a*this._pixelRatio),this._resizeTransmission(n,a),(o=this.transmissionDepthTarget)==null||o.setSize(n*this._pixelRatio/2,a*this._pixelRatio/2),this.pipeline.resize(n,a,c))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){this.aoRenderTarget===void 0&&(this.aoRenderTarget=new Vt(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:jt,magFilter:jt,wrapS:Ei,wrapT:Ei,depthBuffer:!1}))}_resizeTransmission(e,t){var i,r;(i=this.transmissionRenderTarget)==null||i.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),(r=this.aoRenderTarget)==null||r.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return dt.transmissionLod.value===1}set hdTransmission(e){dt.transmissionLod.value=e===!0?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){this.transmissionRenderTarget===void 0&&(this.transmissionRenderTarget=new Vt(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:Fp,magFilter:jt,wrapS:Ei,wrapT:Ei,depthBuffer:!1}),this.transmissionDepthTarget=new Vt(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:kt,magFilter:kt,depthBuffer:!1}))}createNormalRenderTarget(){this.normalRenderTarget===void 0&&(this.normalRenderTarget=new Vt(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:kt,magFilter:kt,type:ni,depthTexture:new Vp(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,i){this.normalRenderTarget&&(this.setClearColor(0),i.layers.enable(8),i.layers.disable(0),i.layers.disable(3),t.traverseEntity(r=>{r.layers.isEnabled(8)&&(r.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),i instanceof yn?JS.uniforms.depthContrast.value=(i.far-i.near)/1e4:JS.uniforms.depthContrast.value=1,t.overrideMaterial=JS,this.render(t,i),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?GT:null,i.layers.enable(0),i.layers.enable(3),t.traverseEntity(r=>{r.layers.isEnabled(8)&&(r.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,i=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let r=t.height,n=t.width,a=this.viewportWidth/this.viewportHeight;n<r?n=r*a:r=n/a,this.dummyCamera.setViewplaneSize(n,r);for(let c=0;c<i;c++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:i=this.sceneHelpers,sceneHelpersOnTop:r=this.sceneHelpersOnTop,overrideTransmission:n=void 0,overrideNormal:a=void 0}={}){var h;let c=e instanceof _j?e.activePage:e,l=c.visible;c.visible=!0;let o=c.scene;this.xr.enabled&&(this.isXRCopyPassSet===!1&&this.getRenderTarget()!==null&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(c.bgColor,c.bgColor.a),c.penumbraSizeArray.forEach((p,m)=>{dt.penumbraSize.value[m]=p}),dt.pixelRatioNode.value=this.getPixelRatio(),this.resolution.x!==0&&this.resolution.y!==0?dt.resolution.value.set(this.resolution.x,this.resolution.y):dt.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),a!==void 0?(dt.normalRenderTarget.value=a,dt.normalRenderTargetDepth.value=PO):o.needsNormal()&&(this.createNormalRenderTarget(),dt.normalRenderTarget.value=this.normalRenderTarget.texture,dt.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(o,c,t));let s=c.data.ao,u=s.occlusion;if(u&&(this.createAORenderTarget(),dt.aoRenderTarget.value=this.aoRenderTarget.texture),dt.aoEnabled.value=u,this.pipeline.setAmbientOcclusionParams(s.occlusion,s.radius,s.bias,c.aoColor,c.fog!==null,c.backupFog.near,c.backupFog.far,s.aoFullRes&&!Jv),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture),this.pipeline.isUIOverlayEnabled&&((h=c.uiCanvas)==null?void 0:h.enabled)&&c.uiCanvas.texture&&c.uiCanvas.texture.image.width>0){let p=this.getSize(kO),m=this.getPixelRatio();(c.uiCanvas.width!==this.viewportWidth||c.uiCanvas.height!==this.viewportHeight||c.uiCanvas.dpr!==m)&&c.uiCanvas.applySize({width:this.viewportWidth,height:this.viewportHeight},m),c.uiCanvas.render(this),this.pipeline.uiOverlayPass.uiCanvas=c.uiCanvas,this.pipeline.uiOverlayPass.enabled=!0,this.pipeline.uiOverlayPass.setResolution(p.x,p.y,m),this.pipeline.updateRenderToScreen()}else this.pipeline.uiOverlayPass.enabled=!1,this.pipeline.updateRenderToScreen();if(this.pipeline.logoOverlayPass.enabled){let p=this.getSize(kO),m=this.getPixelRatio();this.pipeline.logoOverlayPass.uniforms.uResolution.value.set(p.x,p.y),this.pipeline.logoOverlayPass.uniforms.uDPR.value=m}let d=!1;if(n!==void 0)dt.transmissionRenderTarget.value=n,dt.transmissionRenderTargetDepth.value=PO,this.pipeline.setTransmissionPassEnabled(!1);else{let p=o.needsTransmission();p&&(this.transmissionRenderTarget===void 0&&(d=!0),this.createTransmissionRenderTarget(),dt.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,dt.aspectRatio.value=uwe(this.viewportWidth,this.viewportHeight),dt.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(p)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=i,this.pipeline.sceneHelpersOnTop=r,this.pipeline.scene=c,this.pipeline.camera=t,d&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==c.postprocessing&&(this.pipeline.updatePostprocessing(c.postprocessing),!i&&!r&&this.pipeline.disableHelpers()),this.clearAlphaOverride!==void 0&&this.setClearAlpha(this.clearAlphaOverride),o.shapeBlendIntances.forEach(p=>{p.onBeforeShadowPass(this)}),c.overrideMaterial=o.wireframeState?GT:null,this.pipeline.render(),dt.frameIndex.value=(dt.frameIndex.value+1)%16,t instanceof yn&&t.copyHistory(),c.visible=l}renderFromSceneForSceneTransitionPass(e,t,i){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=i,this.sceneTransitionTimeRemaining=i,this.pipeline.renderToScreen=!0;let r=this.pipeline.sceneTransitionPass.uniforms;r.uDPR.value=window.devicePixelRatio,r.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){var e,t,i,r,n,a;this._superDispose(),this.pipeline.dispose(),(e=this.aoRenderTarget)==null||e.dispose(),(t=this.transmissionRenderTarget)==null||t.dispose(),(i=this.transmissionDepthTarget)==null||i.dispose(),(r=this.normalRenderTarget)==null||r.dispose(),(a=(n=this.normalRenderTarget)==null?void 0:n.depthTexture)==null||a.dispose()}},cH=class extends Zv(Xue){constructor(e,t=15,i=10066329){super(e,t,i),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){e0(this.object,cH.geometryHelper,e,t)}},uH=class extends Zv(Kue){constructor(e,t=15,i=6710886){super(e,t,i),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){e0(this.object,uH.geometryHelper,e,t)}},zT=class extends Zv(Yue){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){e0(this.object,zT.geometryHelper,e,t)}update(){if(this.object!==void 0){let e=zT._vector,t=this.object.distance?this.object.distance:1e3,i=t*Math.tan(this.object.angle);this.cone.scale.set(i,i,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let r=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let n=0,a=this.cone.material.length;n<a;n++)this.cone.material[n].color.set(r);else this.cone.material.color.set(r)}}},dH=zT;dH._vector=new N;var hH=class extends fl{constructor(){super(),this.caretIndex=0,this._caretVisibleAlpha=1,this._selectionVisibleAlpha=.3,this.current={start:0,end:void 0},this.matrixAutoUpdate=!1,this.caretMesh=new gi(new _s(1,1),new Pl({transparent:!0,opacity:0,side:vn})),this.add(this.caretMesh),this.selectionMesh=new gi(new _s(1,1),new Pl({color:2857471,transparent:!0,depthTest:!1,depthWrite:!1,opacity:0,side:vn})),this.add(this.selectionMesh),this.hide()}get caretHeight(){var e;return((e=this.object)==null?void 0:e.AD)??0}show(e){this.visible=!0,this.object=e,this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.y=-this.caretHeight*.5,this.setCaretPosition(this.caretIndex),this.update()}hide(){this.visible=!1}update(){if(this.object===void 0)return;this.updateHelperMatrix();let{depth:e}=this.object.geometry.userData.parameters;this.caretMesh.position.z=e,this.selectionMesh.position.z=e}updateHelperMatrix(){if(this.object===void 0)return;let e=this.object,t=e.parent;t!==null&&t.updateWorldMatrix(!0,!1),e.matrixAutoUpdate&&e.updateMatrix(),t!==null?(this.matrixWorld.multiplyMatrices(t.matrixWorld,e.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,e.matrix)):this.matrixWorld.multiplyMatrices(e.hiddenMatrix,e.matrix),this.matrix.copy(this.matrixWorld);for(let i of this.children)i.matrixWorld.copy(this.matrixWorld);e.updateWorldMatrix(!0,!0)}setCaretColor(e){let t=this.caretMesh.material;t.color.setRGB(e.r,e.g,e.b);let i=this._caretVisibleAlpha===t.opacity;this._caretVisibleAlpha=e.a,i&&(t.opacity=this._caretVisibleAlpha)}setSelectionColor(e){this.selectionMesh.material.color.setRGB(e.r,e.g,e.b)}setCaretPosition(e,t={}){if(this.object===void 0)return;this.caretIndex=e;let i=this.object.wrappedText,[r,n]=Lx(i,e),[a,c]=e>0?Lx(i,e-1):[null,null];(e>0&&i.length?i[a].charAt(c):null)===`
`&&(r++,n=0),this.current.start=e,this.current.end=void 0;let[l,o]=QS(this.object,r,n),{AD:s,descender:u}=this.object,d=u+s*.5,{width:h,height:p,depth:m}=this.object.geometry.userData.parameters,f=typeof h=="string"?0:h,g=typeof p=="string"?0:p;this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.set(l-f*.5,o+d+g*.5,m),this.hideSelectionMesh(),this.showCaretMesh()}setSelection(e,t){if(this.object===void 0)return;let i=this.object.wrappedText;this.current.start=e,this.current.end=t;let r=[],n=[],a=PEe(i,e,t),{lineHeight:c,AD:l,descender:o}=this.object,s=o+l*.5-c*.5;for(let[g,v,S]of a)if(v!==S){let[x,b]=QS(this.object,g,v),[_,w]=QS(this.object,g,S);b+=s,w+=s,w+=c;let C=r.length/3;r.push(x,b,0),r.push(_,b,0),r.push(_,w,0),r.push(x,w,0),n.push(C+0,C+1,C+2),n.push(C+2,C+3,C+0)}let u=new Qe;u.setIndex(n),u.setAttribute("position",new Fe(r,3));let{width:d,height:h,depth:p}=this.object.geometry.userData.parameters,m=typeof d=="string"?0:d,f=typeof h=="string"?0:h;this.selectionMesh.geometry.dispose(),this.selectionMesh.geometry=u,this.selectionMesh.position.x=-m*.5,this.selectionMesh.position.y=f*.5,this.selectionMesh.position.z=p,this.showSelectionMesh(),this.hideCaretMesh()}getSelectionFromPosition(e,t,i="previous"){if(this.object===void 0||this.object.font===void 0)return;let r=this.object.wrappedText,n=r.length,a=this.object.lineHeight,c=n*a,{height:l,verticalAlign:o}=this.object.geometry.userData.parameters,s=typeof l=="string"?0:l,u=0;o===3?u=s-c:o===2&&(u=s*.5-c*.5);let d=Math.min(Math.floor(Math.max(Math.min(-t-u,c),0)/a),n-1),h=this.object.charCoords[d],p=this.object.charWidths[d],m=0,f=!1;if(i==="previous"){for(let g=0;g<h.length;g++)if(h[g][0]+p[g]*.5-e>0){m=g,f=!0;break}}else if(i==="closest"){let g=1/0;for(let v=0;v<h.length;v++){let S=h[v][0]+p[v]*.5,x=Math.abs(S-e);x<g&&(g=x,m=v,f=!0)}}else for(let g=0;g<h.length;g++){let v=h[g][0],S=h[g][0]+p[g];if(e>=v&&e<S){m=g,f=!0;break}}return f||(m=h.length),{index:this.getGlobalIndexFromLineAndCharIndexes(r,d,m),lineIndex:d,characterIndex:m}}getGlobalIndexFromLineAndCharIndexes(e,t,i){return e.slice(0,t).reduce((r,n)=>r+=n.length,0)+i}showSelectionMesh(){this.selectionMesh.material.opacity=this._selectionVisibleAlpha}hideSelectionMesh(){this.selectionMesh.material.opacity=0}showCaretMesh(){this.caretMesh.material.opacity=this._caretVisibleAlpha}hideCaretMesh(){this.caretMesh.material.opacity=0}};function QS(e,t,i){let{charCoords:r,charWidths:n,initialOffsetY:a,lineHeight:c}=e;if(r[t]&&r[t].length===0||r.length===0){let u=0,{horizontalAlign:d}=e.data.geometry,h=e.wrappedText,{width:p}=e.geometry.userData.parameters;return h.length===1&&h[0].length===0&&(d===3?u=p*.5:d===2&&(u=p)),[u,a-c*t]}let l=r[t];if(l===void 0||l.length===0)return[0,0];let[o,s]=l[Math.min(i,l.length-1)];return i>=l.length&&(o+=n[t][i-1]),[o,s]}function Lx(e,t){var r;let i=0;for(let n=0;n<e.length;n++){let a=e[n],c=t-i;if(c<=a.length)return[n,c];i+=a.length}return[Math.max(0,e.length-1),((r=e[e.length-1])==null?void 0:r.length)??0]}function PEe(e,t,i){let[r,n]=Lx(e,t),[a,c]=Lx(e,i),l=[];n>=e[r].length&&(r++,n=0);for(let o=r;o<=a;o++){let s=e[o],u=o===r?n:0,d=o===a?c:s.length;l.push([o,u,d])}return l}function kEe(e,t){let i=Jr.fromHex(3223857),r=.8;for(let n of e.layers){if(n.data.type==="light"||n.data.type==="displace"||n.data.type==="fresnel"||n.data.type==="matcap"||n.data.type==="texture"||n.data.type==="toon"||n.data.type==="outline"||n.data.type==="transmission"||n.data.type==="noise")continue;let a=typeof n.data.alpha=="string"?Number(t.getVariable(n.data.alpha)):n.data.alpha;if(n.data.type==="color"&&a>.3){i=DEe(n.data.color,t),r=a;break}else if((n.data.type==="depth"||n.data.type==="gradient")&&a>.3){let c=OEe(n.data);i={r:c[0],g:c[1],b:c[2]},r=typeof n.data.alpha=="string"?1:n.data.alpha;break}}return{...i,a:r}}function DEe(e,t){return typeof e=="string"?t.data.colors[e]:e}function OEe(e){return e.colors[0]}function REe(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}var pH=class extends hj(kue,cH){constructor(e,t,i){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let r=this.shadow.camera;r.top=1250,r.bottom=-1250,r.right=1250,r.left=-1250,r.near=-1e4,r.far=2500;let n=new $b(this.shadow.camera);n.visible=!1,this.gizmos.shadowmap=n}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof $b&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let i=e.depth!==void 0&&e.depth!==this.shadow.camera.far||e.size!==void 0&&e.size/2!==this.shadow.camera.right;e.size!==void 0&&REe(this,e.size),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),i&&this.update()}},DO=new N,OO=new N,RO=new mt,fH=class extends hj(Mue,dH){constructor(e,t,i){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let r=this.shadow.camera;r.fov=Ve.RAD2DEG*2*this.angle,r.aspect=1,r.near=100,r.far=2500;let n=new $b(this.shadow.camera);n.visible=!1,this.gizmos.shadowmap=n,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof $b&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),OO.setFromMatrixPosition(this.matrixWorld),RO.setFromRotationMatrix(this.matrixWorld),DO.copy(this.up).applyQuaternion(RO).negate().multiplyScalar(this.distance),this.target.position.copy(OO).add(DO),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.angle!==void 0&&(this.angle=e.angle),e.penumbra!==void 0&&(this.penumbra=e.penumbra),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}};function NEe(e){let t=(e[0][0]+e[1][1])/2,i=(e[0][0]-e[1][1])/2,r=(e[1][0]+e[0][1])/2,n=(e[1][0]-e[0][1])/2,a=Math.sqrt(t*t+n*n),c=Math.sqrt(i*i+r*r),l=a+c,o=a-c,s=Math.atan2(r,i),u=Math.atan2(n,t),d=(u-s)/2,h=(u+s)/2,p=[[Math.cos(h),Math.sin(h)],[-Math.sin(h),Math.cos(h)]],m=[[l,0],[0,o]],f=[[Math.cos(d),Math.sin(d)],[-Math.sin(d),Math.cos(d)]];return p[0][0]*=-1,p[0][1]*=-1,f[0][0]*=-1,f[1][0]*=-1,[p,m,f]}function D1(e,t){return[[e[0][0]*t[0][0]+e[0][1]*t[1][0],e[0][0]*t[0][1]+e[0][1]*t[1][1]],[e[1][0]*t[0][0]+e[1][1]*t[1][0],e[1][0]*t[0][1]+e[1][1]*t[1][1]]]}function NO(e){return[[e[0][0],e[1][0]],[e[0][1],e[1][1]]]}function LEe(e){let[t,i,r]=NEe(e),n=D1(t,NO(r)),a=D1(D1(r,i),NO(r)),c=Math.atan2(n[1][0],n[0][0]),l=[a[0][0],a[1][1]],o=[a[0][1]/a[1][1],a[1][0]/a[0][0]];return{rotation:c,scale:l,shear:o}}function zEe({rotation:e,scale:t,shear:i}){let r=Math.cos(e),n=Math.sin(e),a=[[r,-n],[n,r]],c=[[t[0],i[0]*t[1]],[i[1]*t[0],t[1]]],l=D1(a,c);return[l[0][0],l[1][0],l[0][1],l[1][1]]}var Kt;(e=>{function t(){return[1,0,0,0,1,0,0,0,1]}e.identity=t;function i(w,C=e.identity()){for(let E=0,A=w.length;E<A;E++)C[E]=w[E];return C}e.copy=i;function r(w,C,E,A,T,M){return e.setAbcdef(e.identity(),w,C,E,A,T,M)}e.create=r;function n(w,C,E,A,T,M,j){return w[0]=C,w[1]=A,w[2]=M,w[3]=E,w[4]=T,w[5]=j,w}e.setAbcdef=n;function a(w,C){let[E,A,T,M,j,P]=l(w),[I,k,R,O,D,L]=l(C),B=I*E+k*T,F=I*A+k*M,H=R*E+O*T,ee=R*A+O*M,U=D*E+L*T+j,X=D*A+L*M+P;return e.create(B,F,H,ee,U,X)}e.append=a;function c(w,C){let[E,A,T,M,j,P]=l(w),[I,k,R,O,D,L]=l(C),B=E,F=A,H=T,ee=M;(I!==1||k!==0||R!==0||O!==1)&&(B=E*I+A*R,F=E*k+A*O,H=T*I+M*R,ee=T*k+M*O);let U=j*I+P*R+D,X=j*k+P*O+L;return e.create(B,F,H,ee,U,X)}e.prepend=c;function l(w){return[w[0],w[3],w[1],w[4],w[2],w[5]]}e.getAbcdef=l;function o(w){let[C,E,A,T,M,j]=e.getAbcdef(w),P=C*T-E*A,I=T/P,k=-E/P,R=-A/P,O=C/P,D=(A*j-T*M)/P,L=-(C*j-E*M)/P;return e.create(I,k,R,O,D,L)}e.invert=o;function s([w,C],E){let[A,T,M,j,P,I]=e.getAbcdef(E);return[A*w+M*C+P,T*w+j*C+I]}e.apply=s;function u(w,C){let[E,A,T,M,j,P]=e.getAbcdef(C),I=1/(E*M+T*-A),[k,R]=w;return[M*I*k+-T*I*R+(P*T-j*M)*I,E*I*R+-A*I*k+(-P*E+j*A)*I]}e.applyInverse=u;function d(w,C,E=C){let[A,T,M,j,P,I]=e.getAbcdef(w);return e.setAbcdef(w,A*C,T*E,M*C,j*E,P*C,I*E),w}e.scale=d;function h(w,C){let E=Math.cos(C),A=Math.sin(C),[T,M,j,P,I,k]=e.getAbcdef(w);return e.setAbcdef(w,T*E-M*A,T*A+M*E,j*E-P*A,j*A+P*E,I*E-k*A,I*A+k*E),w}e.rotate=h;function p(w,C,E){let[A,T]=E,M=e.translate(w,-A,-T);return M=e.rotate(M,C),M=e.translate(M,A,T),M}e.rotateAround=p;function m(w,C,E){let[A,T,M,j,P,I]=e.getAbcdef(w);return e.setAbcdef(w,A,T,M,j,P+C,I+E),w}e.translate=m;function f(w,C,E){let[A,T,M,j]=e.getAbcdef(w);return e.setAbcdef(w,A,T,M,j,C,E),w}e.setTranslate=f;function g(w,C,E){let[A,T,M,j]=e.getAbcdef(w);return e.setAbcdef(w,A,T,M,j,C,E),w}e.setPosition=g;function v(w){let[C,E,A,T]=e.getAbcdef(w),M=Math.sqrt(C*C+E*E),j=Math.sqrt(A*A+T*T);return[M,j]}e.getScale=v;function S(w){let[,,,,C,E]=e.getAbcdef(w);return[C,E]}e.getPosition=S;function x(w,C){return e.decompose(w,C).rotation}e.getRotation=x;function b(w,C){let[E,A,T,M,j,P]=e.getAbcdef(w),{rotation:I,scale:k,shear:R}=LEe([[E,T],[A,M]]);return{position:[j+(C[0]*E+C[1]*T)-C[0],P+(C[0]*A+C[1]*M)-C[1]],scale:k,rotation:I,shear:R,pivot:C}}e.decompose=b;function _(w,C,E,A,T=[0,0]){let[M,j]=w,[P,I]=A,[k,R,O,D]=zEe({rotation:E,scale:C,shear:T}),L=M-(P*k+I*O)+P,B=j-(P*R+I*D)+I;return e.create(k,R,O,D,L,B)}e.compose=_})(Kt||(Kt={}));var BEe=Math.PI/180;function FEe(e,t,i,r,n,a){let c=e-i,l=t-r;return c*c/(n*n)+l*l/(a*a)<=1}function UEe(e){return e*BEe}var Fr=class{constructor(e,t,i){this.uuid=e,this.data=t,this.localMatrix=Kt.identity(),this.worldMatrix=Kt.identity(),this.ignoreCameraZoom=!1,this.visible=!0,this._singleBBox=new BT,this._recursiveBBox=new BT,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.stateSelection=null,this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this.name="",this.position=[0,0],this.scale=[1,1],this.rotation=0,this.shear=[0,0],this.emitter=cw(),this.dpr=i.dpr??1,this.dataPatched=t}project(e,t){let i=this.worldMatrix;return t&&(i=Kt.append(t.worldMatrix,i)),Kt.applyInverse(e,i)}intersects(e,t,i,r=!1){return this.visible&&!this.data.raycastLock&&this.intersectsInLocalSpace(...this.project([e,t],i),r)}intersectsInLocalSpace(e,t,i=!1){let{min:r,max:n}=i?this.recursiveBBox:this.singleBBox;return e>=r[0]&&e<=n[0]&&t>=r[1]&&t<=n[1]}applyTransforms(e){e.setTransform(this.worldMatrix,this.ignoreCameraZoom)}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges()),this._recursiveBBox}updateLocalMatrix(){this.localMatrix=Kt.compose(this.position,this.scale,UEe(this.rotation),vd.getPivot(this.dataPatched),this.shear)}updateWorldMatrix(e,t,i){let r=this.parent;t&&r!==null&&r!==void 0&&r.updateWorldMatrix(e,!0,!1),e&&this.updateLocalMatrix(),this.parent?this.worldMatrix=Kt.append(this.parent.worldMatrix,this.localMatrix):this.worldMatrix=Kt.copy(this.localMatrix),this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}get pivot(){return vd.getPivot(this.data)}getCenter(){return[0,0]}getHalfSize(){return[0,0]}get id(){return this.uuid}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(e=>{e.resetBBoxNeedsUpdateSelf()})}updateTransformState(e){let t=!1;e.position!==void 0&&(t=!0,this.position=e.position),e.rotation!==void 0&&(t=!0,this.rotation=e.rotation),e.scale!==void 0&&(t=!0,this.scale=e.scale),e.shear!==void 0&&(t=!0,this.shear=e.shear),t&&(this.updateWorldMatrix(!0,!1,!0),this.resetBBoxNeedsUpdate())}updateByOp(e,t,i){e.type===0&&e.props.visible!==void 0&&(this.visible=e.props.visible),this.data=t,this.data=t;let r=e,n=hi(e.path,["states","*"]);if(n!==null){if(e.type===0){let[a]=n;if((this==null?void 0:this.stateSelection)===a){let c={...e.props};if(delete c.name,Object.values(e.props).some(l=>l===void 0)){let l=this.data;if(l!==void 0){let o=br.zoom(l,e.path.slice(2));if(o)for(let s in e.props)e.props[s]===void 0&&s in o&&(c[s]=o[s])}}r={...e,props:c,path:e.path.slice(2)}}}}else if(e.type===0){let a=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(a!==void 0){if(e.props.name!==void 0&&a.name){let{name:l,...o}=a;a=o}let c=br.removeOverridden(e.path,e.props,a);r={...e,props:c}}}this.updateByPatchedOpBase(r,rd.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),i)}changeSelectedState(e,t,i=!1){if(!(this.data.states.length===0&&!i)){for(let r of this.data.states)rd.toOps(this.data,r.data).forEach(n=>{let a=cx.replaceProps(n,this.data);this.dataPatched=this.data,this.updateByPatchedOp(a,this.data,t)});if(e!==null){let r=this.data.states.data(e);r&&(this.dataPatched=rd.patch(this.data,r),rd.toOps(this.data,r).forEach(n=>{this.updateByPatchedOp(n,this.dataPatched,t)}))}i&&this.updateTransformState(this.dataPatched),this.stateSelection=e}}updateState(e,t){e.name!==void 0&&(this.name=e.name),e.visible!==void 0&&(this.visible=e.visible),this.updateTransformState(e)}updateByPatchedOpBase(e,t,i){this.dataPatched=t,this.updateByPatchedOp(e,t,i)}updateByPatchedOp(e,t,i){e.path.length===0&&e.type===0&&this.updateState(e.props,i),this.requestRender()}traverseFrameAncestors(e){this.traverseAncestors(t=>{t.data.type==="frame2d"&&e(t)})}traverseAncestors(e){let t=this.parent;for(;t;)e(t),t=t.parent}requestRender(){this.traverseFrameAncestors(e=>{e.requestRender()})}clone(e){let t=new Fr(this.uuid,this.data,e);return t.parent=void 0,t}addEventListener(e,t){this.emitter.on(e,t)}removeEventListener(e,t){this.emitter.off(e,t)}dispatchEvent(e){this.emitter.emit(e.type,{...e,target:e.target??this})}traverseSortNextHelper(){let e=this.parent;if(e){let t=e.children;if(t){let i=t.indexOf(this)+1;return t[i]?t[i]:e.traverseSortNextHelper()}}}sortNext(){let e=this.children;return e&&e.length>0&&e[0]?e[0]:this.traverseSortNextHelper()}isDescendantOf(e){e instanceof Fr&&(e=e.uuid);let t=this;for(;t.parent;){if(t.parent.uuid===e)return!0;t=t.parent}return!1}},yo=class extends Fr{constructor(e,t,i){super(e,t,i),this.uuid=e,this.data=t,this.context=i,this.children=[]}add(e){e.parent&&e.parent instanceof yo&&e.parent.remove(e),this.children.push(e),e.parent=this}remove(e){let t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.parent=void 0)}traverse(e){let t=e(this);if(t!==!0)for(let i of this.children)i instanceof yo?i.traverse(e):t=e(i)}intersectsChildrenHelper(e,t,i,r,n){for(let a of this.children)if(a.intersects(e,t,i,!1)&&(n.push(a),r)||a instanceof yo&&a.intersectsChildrenHelper(e,t,i,r,n))return!0;return!1}intersectsChildren(e,t,i,r=!1,n=[],a=!1){return this.intersectsChildrenHelper(e,t,i,r,n),n}intersectsChildrenHelperReverse(e,t,i,r,n){for(let a of this.children)if(a instanceof yo&&a.intersectsChildrenHelperReverse(e,t,i,r,n)||a.intersects(e,t,i,!1)&&(n.push(a),r))return!0;return!1}intersectsChildrenReverse(e,t,i,r=!1,n=[],a=!1){return this.intersectsChildrenHelperReverse(e,t,i,r,n),n}updateWorldMatrix(e,t,i){if(super.updateWorldMatrix(e,t,i),i&&this.children)for(let r of this.children)r.updateWorldMatrix(e,!1,!0)}find(e){let t;return this.traverse(i=>{i.uuid===e&&(t=i)}),t}innerDrawChildren(e){for(let t=this.children.length-1;t>=0;t--)this.children[t].draw(e)}resetBBoxNeedsUpdate(){super.resetBBoxNeedsUpdate(),this.traverse(e=>{e.resetBBoxNeedsUpdateSelf()})}clone(e){let t=new yo(this.uuid,this.data,e);t.parent=void 0;for(let i of this.children)t.add(i.clone(e));return t}},au=class extends yo{constructor(e,t,i){super(e,t,i),this.uuid=e,this.data=t,this.updateState(t,i)}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.innerDrawChildren(e),e.restore())}clone(e){let t=new au(this.uuid,this.data,e);t.parent=void 0;for(let i of this.children)t.add(i.clone(e));return t}};function VEe(e,t){let[[i,r],[n,a]]=e,[[c,l],[o,s]]=t,u=(i-n)*(l-s)-(r-a)*(c-o);if(u===0)return!1;let d=((i-c)*(l-s)-(r-l)*(c-o))/u,h=-((i-n)*(r-l)-(r-a)*(i-c))/u;return d>=0&&d<=1&&h>=0&&h<=1}var mH=[[-1,1],[-1,-1],[1,-1],[1,1]],LO=(e,t,i)=>{let r=e.getCenter(),n=e.getHalfSize(),a=Kt.append(t,e.worldMatrix);n[0]===0&&n[1]===0?i.push(Kt.apply(r,a)):mH.forEach(c=>{let l=[c[0]*n[0]+r[0],c[1]*n[1]+r[1]];i.push(Kt.apply(l,a))})},BT=class{constructor(){this.matrix=Kt.identity(),this.min=[1/0,1/0],this.max=[-1/0,-1/0],this.vertices=[],this.edges=[]}setFromObjectSize(e,t=!1){e.updateWorldMatrix(),this.makeEmpty(),Kt.copy(e.worldMatrix,this.matrix);let i=Kt.invert(e.worldMatrix);this.expandByObjectSize(e,i,t)}expandByObjectSize(e,t,i=!1){let r=[];i===!0&&e instanceof yo?e.traverse(n=>{n.visible&&LO(n,t,r)}):LO(e,t,r),this.setFromPoints(r)}setFromSize(e,t,i){this.makeEmpty(),Kt.copy(i,this.matrix),this.expandBySize(e,t,i)}expandBySize(e,t,i){[Kt.apply([0,0],i),Kt.apply([0,t],i),Kt.apply([e,t],i),Kt.apply([e,0],i)].forEach(r=>this.expandByPoint(r))}getCenter(){let[e,t]=this.min,[i,r]=this.getHalfSize();return Kt.apply([e+i,t+r],this.matrix)}getSize(){return[this.max[0]-this.min[0],this.max[1]-this.min[1]]}getHalfSize(){return[(this.max[0]-this.min[0])*.5,(this.max[1]-this.min[1])*.5]}makeEmpty(){this.min=[1/0,1/0],this.max=[-1/0,-1/0]}setFromPoints(e){this.makeEmpty();for(let t of e)this.expandByPoint(t)}expandByPoint(e){this.min=[Math.min(this.min[0],e[0]),Math.min(this.min[1],e[1])],this.max=[Math.max(this.max[0],e[0]),Math.max(this.max[1],e[1])]}computeVertices(){let[e,t]=this.getHalfSize(),i=this.getCenter(),[r,n,a,c]=Kt.getAbcdef(this.matrix),l=Kt.create(r,n,a,c,i[0],i[1]);this.vertices=mH.map(([o,s])=>Kt.apply([o*e,s*t],l))}computeEdges(){this.edges=[];for(let e=0,t=this.vertices.length;e<t;++e)this.edges.push([this.vertices[e],this.vertices[(e+1)%t]])}project(e,t){let i=this.matrix;return t&&(i=Kt.append(t.worldMatrix,i)),Kt.applyInverse(e,i)}intersects(e,t,i){return this.intersectsInLocalSpace(...this.project([e,t],i))}intersectsInLocalSpace(e,t){let{min:i,max:r}=this;return e>=i[0]&&e<=r[0]&&t>=i[1]&&t<=r[1]}containsPoint(e){let[t,i]=e,[r,n]=this.min,[a,c]=this.max;return t>=r&&t<=a&&i>=n&&i<=c}intersectsBBox2D(e){for(let t=0,i=this.edges.length;t<i;t++){let r=this.edges[t];for(let n=0,a=e.edges.length;n<a;n++){let c=e.edges[n];if(VEe(r,c))return!0}}for(let t=0,i=e.vertices.length;t<i;t++){let r=e.vertices[t];if(this.containsPoint(r))return!0}return!1}ensureMinMax(){let e=this.min,t=this.max;this.min=[Math.min(e[0],t[0]),Math.min(e[1],t[1])],this.max=[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}copy(e){this.min=[...e.min],this.max=[...e.max],Kt.copy(e.matrix,this.matrix),this.computeVertices(),this.computeEdges()}clone(){let e=new BT;return e.copy(this),e}},gH,HEe=new Promise(e=>{gH=e}),zO=!1,Wy;function GEe(){if(zO)return;if(Wy)return Wy;async function e(){let t=await hu(()=>import("./ui-Ds7EeOeb.js"),__vite__mapDeps([]));gH(t.default??t),zO=!0}return Wy=e(),Wy}function BO(e){let t=!1;return e.scene.objects.traverse((i,r)=>{(r.type==="Mesh"&&r.geometry.type==="UIGeometry"||r.type==="Page"&&r.uiFrame!==void 0)&&(t=!0)}),t}var xt,$S;async function WEe(e){let t=await HEe;xt||($S||($S=t({locateFile:()=>e})),xt=await $S)}var FO=Kt.identity(),vH=class{constructor(e,t=1){this.canvas=e,this._dpr=t,this._width=0,this._height=0,this._strokeMode="inside",this._layerBlur=0,this._backgroundBlur=0,this._dropShadowBlur=0,this._dropShadowOffsetX=0,this._dropShadowOffsetY=0,this._dropShadowColor=oi.transparent,this._innerShadowBlur=0,this._innerShadowOffsetX=0,this._innerShadowOffsetY=0,this._innerShadowSpread=0,this._innerShadowColor=oi.transparent,this._fonts=new Map,this._isSizeDirty=!1;try{let i=e.getBoundingClientRect();e.width=i.width*t,e.height=i.height*t}catch{console.log(e.width,t)}this._currentM3Transform=FO,this._currentTransform=new Float32Array(FO)}get dpr(){return this._dpr}set dpr(e){this._dpr=e,this._isSizeDirty=!0}async init(){var e,t;if(!this.wasmURL)throw Error("Your must set the wasm binary url with renderer.wasmURL = ... before you can call renderer.init");await WEe(this.wasmURL),this._surface=xt.MakeWebGLCanvasSurface(this.canvas),this.ctx=(e=this._surface)==null?void 0:e.getCanvas(),this._paint=new xt.Paint,this._paint.setAntiAlias(!0),this._paintFill=this._paint.copy(),this._paintFill.setStyle(xt.PaintStyle.Fill),this._paintStroke=this._paint.copy(),this._paintStroke.setStyle(xt.PaintStyle.Stroke),(t=this.ctx)==null||t.scale(this.dpr,this.dpr)}get currentTransform(){return this._currentM3Transform}get currentTransformBuffer(){return this._currentTransform}set currentTransform(e){this._currentM3Transform=e,this._currentTransform.set(e)}async loadFont(e,t){let i=await(await fetch(e)).arrayBuffer();this.registerFont(i,t)}registerFont(e,t){if(this._fonts.has(t))return;let i=xt.FontMgr.FromData(e);if(i)this._fonts.set(t,i);else throw new Error("Invalid font data for "+t)}get width(){return this._width}get height(){return this._height}set strokeColor(e){this._paintStroke&&this._paintStroke.setColor(qy(e),xt.ColorSpace.DISPLAY_P3)}set fillColor(e){this._paintFill&&this._paintFill.setColor(qy(e),xt.ColorSpace.DISPLAY_P3)}set lineWidth(e){this._paintStroke&&this._paintStroke.setStrokeWidth(this._strokeMode==="center"?e:e*2)}set strokeMode(e){this._strokeMode=e}set dropShadowBlur(e){this._dropShadowBlur=e}set dropShadowColor(e){this._dropShadowColor=e}set dropShadowOffsetX(e){this._dropShadowOffsetX=e}set dropShadowOffsetY(e){this._dropShadowOffsetY=e}set innerShadowBlur(e){this._innerShadowBlur=e}set innerShadowColor(e){this._innerShadowColor=e}set innerShadowOffsetX(e){this._innerShadowOffsetX=e}set innerShadowOffsetY(e){this._innerShadowOffsetY=e}set innerShadowSpread(e){this._innerShadowSpread=e}set layerBlur(e){this._layerBlur=e}set backgroundBlur(e){this._backgroundBlur=e}clear(){var e;(e=this.ctx)==null||e.clear(xt.TRANSPARENT)}save(){var e;(e=this.ctx)==null||e.save()}restore(){var e;(e=this.ctx)==null||e.restore()}beginPath(){var e;(e=this._currentPath)==null||e.delete(),this._currentPath=new xt.Path}closePath(){let e=this._currentPath;if(e){if(e.isEmpty())return;let t=e.getBounds();(t[3]-t[1]||t[2]-t[0])&&e.close()}}fill(){this._paintInner(this._paintFill,!0)}stroke(){this._paintInner(this._paintStroke,!1)}clipRect(e,t,i,r,n=0,a=0,c=0,l=0){var s,u;let o=xt.XYWHRect(e,t,i,r);if(n===0&&a===0&&l===0&&c===0)(s=this.ctx)==null||s.clipRect(o,xt.ClipOp.Intersect,!0);else{let d=xt.RRectXY(o,n,n);d[4]=d[5]=n,d[6]=d[7]=a,d[8]=d[9]=c,d[10]=d[11]=l,(u=this.ctx)==null||u.clipRRect(d,xt.ClipOp.Intersect,!0)}}_applyShadowOffsetMatrix(){if(this.ctx){let e=Kt.invert(this.currentTransform);this.ctx.concat(e);let t=Kt.translate(Kt.identity(),this._dropShadowOffsetX,this._dropShadowOffsetY);this.ctx.concat(t),this.ctx.concat(this._currentTransform)}}_applyEffectsToPaint(e,t,i=!0){var r,n,a,c;if(this.ctx&&this._currentPath){let l,o=!1;if(i&&this._hasDropShadow()){let s=e.copy();s.setColor(qy(this._dropShadowColor));let u;this._dropShadowBlur>0&&(u=xt.MaskFilter.MakeBlur(xt.BlurStyle.Normal,this._dropShadowBlur*this.dpr*(((r=this.camera)==null?void 0:r.scale)??1),!1),s.setMaskFilter(u)),this.ctx.save(),this.ctx.clipPath(this._currentPath,xt.ClipOp.Difference,!0),this._applyShadowOffsetMatrix(),t(s),this.ctx.restore(),s.delete(),u==null||u.delete()}if(this._backgroundBlur>0&&i){this.ctx.save(),this.ctx.clipPath(this._currentPath,xt.ClipOp.Intersect,!0);let s=xt.ImageFilter.MakeBlur(this._backgroundBlur,this._backgroundBlur,xt.TileMode.Clamp,null),u=e.copy();u.setImageFilter(s),u.setAlphaf(1);let d=this._currentPath.computeTightBounds();this.ctx.saveLayer(u,d,null,xt.SaveLayerInitWithPrevious),this.ctx.drawColor(e.getColor()),this.ctx.restore(),this.ctx.restore(),u.delete(),s.delete(),o=!0}if(this._layerBlur>0){let s=e.copy();l=xt.MaskFilter.MakeBlur(xt.BlurStyle.Normal,this._layerBlur*this.dpr*(((n=this.camera)==null?void 0:n.scale)??1),!1),s.setMaskFilter(l),t(s),s.delete(),l.delete(),o=!0}if(o||t(e),i&&this._hasInnerShadow()){let s=new xt.Paint;s.setAntiAlias(!0),s.setStyle(xt.PaintStyle.Fill),s.setColor(qy(this._innerShadowColor));let u;this._innerShadowBlur>0&&(u=xt.MaskFilter.MakeBlur(xt.BlurStyle.Normal,this._innerShadowBlur*this.dpr*(((a=this.camera)==null?void 0:a.scale)??1),!1),s.setMaskFilter(u));let d=this._currentPath.computeTightBounds(),[h,p,m,f]=d,g=m-h,v=f-p;this.ctx.save(),this.ctx.clipPath(this._currentPath,xt.ClipOp.Intersect,!0),this.ctx.saveLayer(s,d,null,xt.SaveLayerInitWithPrevious),(c=this.ctx)==null||c.translate(this._innerShadowOffsetX,this._innerShadowOffsetY),this.ctx.drawRect(xt.XYWHRect(-1e3-this._innerShadowOffsetX,-1e3-this._innerShadowOffsetY,2e3+g+Math.abs(this._innerShadowOffsetX*2),2e3+v+Math.abs(this._innerShadowOffsetY*2)),s),s.setBlendMode(xt.BlendMode.Clear),this.ctx.drawPath(this._currentPath,s),this.ctx.restore(),this.ctx.restore(),s.delete(),u==null||u.delete()}}}_paintInner(e,t=!0){if(this.ctx&&this._currentPath&&e){let i=this.ctx,r=this._currentPath;this._applyEffectsToPaint(e,n=>{let a=!1;!t&&this._strokeMode!=="center"&&(i.save(),i.clipPath(r,this._strokeMode==="outside"?xt.ClipOp.Difference:xt.ClipOp.Intersect,!0),a=!0),i.drawPath(r,n),a&&i.restore()},t)}}_hasDropShadow(){var e;return((e=this._dropShadowColor)==null?void 0:e.a)>0}_hasInnerShadow(){var e;return((e=this._innerShadowColor)==null?void 0:e.a)>0}path(e){var t;(t=this._currentPath)==null||t.addPath(xt.Path.MakeFromSVGString(e))}ellipse(e,t,i,r,n,a,c,l){var s;if(!UO([e,t,i,r])||!this._currentPath)return;if(i<0||r<0)throw Error("radii cannot be negative");let o=xt.XYWHRect(e-i,t-r,i*2,r*2);(s=this._currentPath)==null||s.addOval(o)}rect(e,t,i,r,n=0,a=0,c=0,l=0){var s,u;let o=xt.XYWHRect(e,t,i,r);if(UO(o))if(n===0&&a===0&&l===0&&c===0)(s=this._currentPath)==null||s.addRect(o);else{let d=xt.RRectXY(o,n,n);d[4]=d[5]=n,d[6]=d[7]=a,d[8]=d[9]=c,d[10]=d[11]=l,(u=this._currentPath)==null||u.addRRect(d)}}getHorizontalAlign(e){switch(e){case 2:return xt.TextAlign.Right;case 3:return xt.TextAlign.Center;case 4:return xt.TextAlign.Justify;case 1:default:return xt.TextAlign.Left}}drawTextInner(e,t,i,[r,n,a,c],l,o,s=!0){let u=0,{ctx:d}=this;if(!d)return u;let h=o.copy(),p=o.copy();return p.setAlphaf(0),this._applyEffectsToPaint(h,m=>{t.pushPaintStyle(i,m,p),t.addText(e);let f=t.build();f.layout(a);let g=n;l===2?g+=(c-f.getHeight())/2:l===3&&(g+=c-f.getHeight()),d.drawParagraph(f,r,g),u=f.getHeight(),t.reset(),f.delete()},s),h.delete(),p.delete(),u}drawText(e,t){let i=0,r=this._fonts.get(t.font),{ctx:n,_paintFill:a,_paintStroke:c}=this;if(r&&n){let l=new xt.TextStyle({fontFamilies:[t.font],fontSize:t.fontSize,heightMultiplier:t.lineHeight,letterSpacing:t.letterSpacing}),o=new xt.ParagraphStyle({textStyle:l,textAlign:this.getHorizontalAlign(t.horizontalAlign)}),s=xt.XYWHRect(t.x,t.y,t.width,t.height),u=xt.ParagraphBuilder.Make(o,r);a&&(i=this.drawTextInner(e,u,l,s,t.verticalAlign,a,!0)),c&&(i=this.drawTextInner(e,u,l,s,t.verticalAlign,c,!1)),u.delete()}return{height:i}}render(){var e;(e=this._surface)==null||e.flush()}moveTo(e,t){var i;(i=this._currentPath)==null||i.moveTo(e,t)}lineTo(e,t){var i;(i=this._currentPath)==null||i.lineTo(e,t)}bezierCurveTo(e,t,i,r,n,a){var c;(c=this._currentPath)==null||c.cubicTo(e,t,i,r,n,a)}quadraticCurveTo(e,t,i,r){var n;(n=this._currentPath)==null||n.quadTo(e,t,i,r)}setTransform(e,t=!1){var n,a,c,l,o;if(!this.ctx)return;let i=this.ctx.getTotalMatrix(),r=Kt.invert(i);if(r&&this.ctx.concat(r),(n=this.ctx)==null||n.scale(this.dpr,this.dpr),((a=this.camera)==null?void 0:a.enabled)&&((c=this.ctx)==null||c.concat(this.camera.worldMatrix),t)){let s=Kt.getScale(this.camera.worldMatrix);(l=this.ctx)==null||l.scale(1/s[0],1/s[1])}(o=this.ctx)==null||o.concat(e),this.currentTransform=e}transform(e){var t;(t=this.ctx)==null||t.concat(e)}setSize(e,t){var i;!this._isSizeDirty&&e===this._width&&t===this._height||(this._isSizeDirty=!1,this._width=e,this._height=t,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px",this.canvas.width=e*this.dpr,this.canvas.height=t*this.dpr,this._surface&&(this._surface=xt.MakeWebGLCanvasSurface(this.canvas),this.ctx=(i=this._surface)==null?void 0:i.getCanvas()))}};function UO(e){for(let t=0;t<e.length;t++)if(e[t]!==void 0&&!Number.isFinite(e[t]))return!1;return!0}function qy({r:e,g:t,b:i,a:r}){return xt.Color4f(e,t,i,r)}var VO=class{constructor(e,t,i){this.uuid=e,this.data=t,this.enabled=!1,this.color=oi.transparent,this.blurRadius=0,this.offset=[0,0],this.spread=0,this.update(t)}update(e){e.color!==void 0&&(this.color=e.color),e.enabled!==void 0&&(this.enabled=e.enabled),e.blurRadius!==void 0&&(this.blurRadius=e.blurRadius),e.offset!==void 0&&(this.offset=e.offset),e.spread!==void 0&&(this.spread=e.spread)}},HO=class{constructor(e,t,i){this.uuid=e,this.data=t,this.enabled=!1,this.radius=0,this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.radius!==void 0&&(this.radius=e.radius)}},qEe=class{constructor(e,t,i){this.uuid=e,this.data=t,this.enabled=!1,this.color=oi.transparent,this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.color!==void 0&&(this.color=e.color)}},YEe=class{constructor(e,t,i){this.uuid=e,this.data=t,this.enabled=!1,this.color=oi.transparent,this.thickness=0,this.mode="inside",this.update(t)}update(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.color!==void 0&&(this.color=e.color),e.thickness!==void 0&&(this.thickness=e.thickness),e.mode!==void 0&&(this.mode=e.mode)}},Dr=class extends Fr{constructor(t,i,r){super(t,i,r),this.uuid=t,this.data=i,this.autoClose=!0,this.fill=new qEe(t+"-fill",i.fill,r),this.stroke=new YEe(t+"-stroke",i.stroke,r),this.dropShadow=new VO(t+"-dropShadow",i.dropShadow,r),this.innerShadow=new VO(t+"-innerShadow",i.innerShadow,r),this.backgroundBlur=new HO(t+"-backgroundBlur",i.backgroundBlur,r),this.layerBlur=new HO(t+"-layerBlur",i.layerBlur,r)}applyFillStroke(t){t.fillColor=this.fill.enabled?this.fill.color:oi.transparent,t.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:oi.transparent,t.strokeMode=this.stroke.mode,t.lineWidth=this.stroke.thickness}applyFilters(t){this.layerBlur.enabled?t.layerBlur=this.layerBlur.radius*5:t.layerBlur=0,this.backgroundBlur.enabled?t.backgroundBlur=this.backgroundBlur.radius*5:t.backgroundBlur=0,this.dropShadow.enabled?(t.dropShadowBlur=this.dropShadow.blurRadius*5,t.dropShadowColor=this.dropShadow.color,t.dropShadowOffsetX=this.dropShadow.offset[0],t.dropShadowOffsetY=this.dropShadow.offset[1]):t.dropShadowColor=oi.transparent,this.innerShadow.enabled?(t.innerShadowSpread=this.innerShadow.spread,t.innerShadowBlur=this.innerShadow.blurRadius*5,t.innerShadowColor=this.innerShadow.color,t.innerShadowOffsetX=this.innerShadow.offset[0],t.innerShadowOffsetY=this.innerShadow.offset[1]):t.innerShadowColor=oi.transparent}innerDraw(t){}draw(t){!this.visible||(t.save(),this.applyTransforms(t),this.applyFilters(t),this.applyFillStroke(t),t.beginPath(),this.innerDraw(t),this.autoClose&&t.closePath(),this.fill.enabled&&t.fill(),this.stroke.enabled&&t.stroke(),t.restore())}updateByPatchedOp(t,i,r){super.updateByPatchedOp(t,i,r),t.type===0&&(hi(t.path,["fill"])?this.fill.update(t.props):hi(t.path,["stroke"])?this.stroke.update(t.props):hi(t.path,["dropShadow"])?this.dropShadow.update(t.props):hi(t.path,["innerShadow"])?this.innerShadow.update(t.props):hi(t.path,["layerBlur"])?this.layerBlur.update(t.props):hi(t.path,["backgroundBlur"])?this.backgroundBlur.update(t.props):this.resetBBoxNeedsUpdate())}updateState(t,i){super.updateState(t,i),t.fill!==void 0&&this.fill.update(t.fill),t.stroke!==void 0&&this.stroke.update(t.stroke),t.dropShadow!==void 0&&this.dropShadow.update(t.dropShadow),t.innerShadow!==void 0&&this.innerShadow.update(t.innerShadow),t.layerBlur!==void 0&&this.layerBlur.update(t.layerBlur),t.backgroundBlur!==void 0&&this.backgroundBlur.update(t.backgroundBlur)}clone(t){let i=new Dr(this.uuid,this.data,t);return i.parent=void 0,i}},mj=class extends Dr{constructor(e,t,i){super(e,t,i),this.uuid=e,this.data=t,this.width=0,this.height=0,this.updateState(t,i)}innerDraw(e){e.ellipse(this.width*.5,this.height*.5,this.width*.5,this.height*.5,0,0,Math.PI*2)}intersectsInLocalSpace(e,t){return FEe(e,t,this.width*.5,this.height*.5,this.width*.5,this.height*.5)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e)}clone(e){let t=new mj(this.uuid,this.data,e);return t.parent=void 0,t}},r0=class extends Dr{constructor(e,t,i){super(e,t,i),this.uuid=e,this.data=t,this.width=0,this.height=0,this.cornerRadius=[0,0,0,0],this.updateState(t,i)}innerDraw(e){e.rect(0,0,this.width,this.height,...this.cornerRadius)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(e){e.cornerRadius!==void 0&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e)}clone(e){let t=new r0(this.uuid,this.data,e);return t.parent=void 0,t}},gj=class extends Dr{constructor(e,t,i){super(e,t,i),this.uuid=e,this.data=t,this._textHeight=0,this._textHeightDirty=!0,this.width=0,this.height=0,this.updateState(t,i)}get textHeight(){return this._textHeight}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:oi.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:oi.transparent,e.strokeMode="center",e.lineWidth=this.stroke.thickness}innerDraw(e){var a;(a=this._fontHolder)!=null&&a.arrayBuffer&&this._fontHolder.arrayBuffer.byteLength>1&&this.data.font&&e.registerFont(this._fontHolder.arrayBuffer,this.data.font);let t=this.data.textTransform,i=this.data.text.textValue.toString(),r=t===2?i.toUpperCase():t===3?i.toLowerCase():i,{height:n}=e.drawText(r,{x:0,y:0,width:this.width,height:this.height,fontSize:this.data.fontSize,lineHeight:this.data.lineHeight??1,letterSpacing:this.data.letterSpacing??0,horizontalAlign:this.data.horizontalAlign,verticalAlign:this.data.verticalAlign,font:this.data.font});this._textHeight=n}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateFontState(e,{shared:t}){e.font!==void 0&&(this._fontHolder=t.getFont(e.font),this._fontHolder&&!this._fontHolder.isLoaded&&this._fontHolder.loadingPromise.then(()=>{this.requestRender()}))}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateFontState(e,t)}clone(e){let t=new gj(this.uuid,this.data,e);return t.parent=void 0,t}},yH=class extends Dr{constructor(e,t,i){super(e,t,i),this.uuid=e,this.data=t,this.curves=[],this.extremasBBox={min:[0,0],max:[0,0]},this.updateState(t,i)}computeExtremas(){this.curves.length===0&&this.computeCurves();let e=this.curves.map(r=>zx.extremas(r)),t=[1/0,1/0],i=[-1/0,-1/0];for(let r=0,n=e.length;r<n;r++){let a=e[r];a[0][0]<t[0]&&(t[0]=a[0][0]),a[0][1]<t[1]&&(t[1]=a[0][1]),a[1][0]>i[0]&&(i[0]=a[1][0]),a[1][1]>i[1]&&(i[1]=a[1][1])}return this.extremasBBox.min=[t[0],t[1]],this.extremasBBox.max=[i[0],i[1]],this.extremasBBox}computeCurves(){this.curves=[];for(let i=1,r=this.data.points.length;i<r;i++){let n=this.data.points[i].data,a=this.data.points[i-1].data,c={start:a.position,cp1:a.controlNext.position,cp2:n.controlPrevious.position,end:n.position};this.curves.push(c)}let e=this.data.points[0].data,t=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let i={start:t.position,cp1:t.controlNext.position,cp2:e.controlPrevious.position,end:e.position};this.curves.push(i)}}getCenter(){let[e,t]=this.extremasBBox.min,[i,r]=this.getHalfSize();return[e+i,t+r]}getHalfSize(){let{min:e,max:t}=this.extremasBBox;return[(t[0]-e[0])*.5,(t[1]-e[1])*.5]}innerDraw(e){for(let r=0,n=this.data.points.length;r<n;r++){let a=this.data.points[r].data;if(r===0){let[c,l]=a.position;e.moveTo(c,l)}else{let c=this.data.points[r-1].data,[l,o]=c.controlNext.position,[s,u]=a.controlPrevious.position,[d,h]=a.position,p={start:c.position,cp1:c.controlNext.position,cp2:a.controlPrevious.position,end:a.position};zx.derive(p),e.bezierCurveTo(l,o,s,u,d,h)}}let t=this.data.points[0].data,i=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let[r,n]=i.controlNext.position,[a,c]=t.controlPrevious.position,[l,o]=t.position;e.bezierCurveTo(r,n,a,c,l,o)}}updateState(e,t){super.updateState(e,t),this.computeExtremas()}clone(e){let t=new yH(this.uuid,this.data,e);return t.parent=void 0,t}},zx;(e=>{function t(c){let l=c.start,o=c.cp1,s=c.cp2,u=c.end,d=[3*(o[0]-l[0]),3*(o[1]-l[1])],h=[3*(s[0]-o[0]),3*(s[1]-o[1])],p=[3*(u[0]-s[0]),3*(u[1]-s[1])],m={start:d,cp:h,end:p};return c.derivative=m,m.derivative=FT.derive(m),m}e.derive=t;function i(c,l,o,s=!1){let u=c-2*l+o;if(u!==0){let d=-Math.sqrt(Math.abs(l*l-c*o)),h=-c+l,p=-(d+h)/u,m=-(-d+h)/u;return[p,m]}else if(l!==o&&u===0)return[(2*l-o)/(2*(l-o))];return[]}function r(c){let l=c.derivative??e.derive(c),o=l.start,s=l.cp,u=l.end;return[i(o[0],s[0],u[0]),i(o[1],s[1],u[1])]}e.droot=r;function n(c){let[l,o]=e.droot(c),s=[c.start[0],c.end[0]],u=[c.start[1],c.end[1]];for(let d of l)s.push(e.compute(c,Math.min(1,Math.max(0,d)))[0]);for(let d of o)u.push(e.compute(c,Math.min(1,Math.max(0,d)))[1]);return s.sort((d,h)=>d-h),u.sort((d,h)=>d-h),[[s[0],u[0]],[s[s.length-1],u[u.length-1]]]}e.extremas=n;function a(c,l){if(l===0)return[...c.start];if(l===1)return[...c.end];let o=1-l,s=o*o,u=l*l,d=s*o,h=s*l*3,p=o*u*3,m=l*u;return[d*c.start[0]+h*c.cp1[0]+p*c.cp2[0]+m*c.end[0],d*c.start[1]+h*c.cp1[1]+p*c.cp2[1]+m*c.end[1]]}e.compute=a})(zx||(zx={}));var FT;(e=>{function t(n){let a=n.start,c=n.cp,l=n.end,o=[2*(c[0]-a[0]),2*(c[1]-a[1])],s=[2*(l[0]-c[0]),2*(l[1]-c[1])],u={start:o,end:s};return u.derivative=UT.derive(u),n.derivative=u,u}e.derive=t;function i(n){let a=n.derivative??e.derive(n),c=a.start,l=a.end;return[c[0]!==l[0]?c[0]/(c[0]-l[0]):0,c[1]!==l[1]?c[1]/(c[1]-l[1]):0]}e.droot=i;function r(n,a){if(a===0)return[...n.start];if(a===1)return[...n.end];let c=1-a,l=c*c,o=a*a,s=l,u=c*a*2,d=o;return[s*n.start[0]+u*n.cp[0]+d*n.end[0],s*n.start[1]+u*n.cp[1]+d*n.end[1]]}e.compute=r})(FT||(FT={}));var UT;(e=>{function t(r){let n=r.start,a=r.end,c=[a[0]-n[0],a[1]-n[1]];return r.derivative=c,r.derivative}e.derive=t;function i(r,n){if(n===0)return[...r.start];if(n===1)return[...r.end];let a=r.start,c=r.end;return[a[0]+(c[0]-a[0])*n,a[1]+(c[1]-a[1])*n]}e.compute=i})(UT||(UT={}));var gs=class extends yo{constructor(e,t,i){super(e,t,i),this.uuid=e,this.width=0,this.height=0,this.clipped=!0,this.background=new r0(e+"-background",lv.defaultData,i),this.background.parent=this,this.updateState(t,i)}get fill(){return this.background.fill}get stroke(){return this.background.stroke}get backgroundBlur(){return this.background.backgroundBlur}get layerBlur(){return this.background.layerBlur}get dropShadow(){return this.background.dropShadow}get innerShadow(){return this.background.innerShadow}get cornerRadius(){return this.background.cornerRadius}set cornerRadius(e){this.background.cornerRadius=e}updateLocalMatrix(){var e;super.updateLocalMatrix(),(e=this.background)==null||e.updateLocalMatrix()}updateWorldMatrix(e,t,i){var r;super.updateWorldMatrix(e,t,i),(r=this.background)==null||r.updateWorldMatrix(e,t,i)}draw(e){if(!this.visible)return;e.save();let t=this.width,i=this.height;this.applyTransforms(e),this.background.width=t,this.background.height=i,this.background.draw(e),this.clipped&&e.clipRect(0,0,t,i,...this.cornerRadius),this.innerDrawChildren(e),e.restore()}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(e){e.cornerRadius!==void 0&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;e.width!==void 0&&(this.width=typeof e.width=="number"?e.width:this.width,t=!0),e.height!==void 0&&(this.height=typeof e.height=="number"?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e),e.fill!==void 0&&this.fill.update(e.fill),e.stroke!==void 0&&this.stroke.update(e.stroke),e.dropShadow!==void 0&&this.dropShadow.update(e.dropShadow),e.innerShadow!==void 0&&this.innerShadow.update(e.innerShadow),e.layerBlur!==void 0&&this.layerBlur.update(e.layerBlur),e.backgroundBlur!==void 0&&this.backgroundBlur.update(e.backgroundBlur),e.clipped!==void 0&&(this.clipped=e.clipped)}requestRender(){super.requestRender(),this.dispatchEvent({type:"render"})}dispose(){this.removeEventListener("render")}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),e.type===0&&(hi(e.path,["fill"])?this.fill.update(e.props):hi(e.path,["stroke"])?this.stroke.update(e.props):hi(e.path,["dropShadow"])?this.dropShadow.update(e.props):hi(e.path,["innerShadow"])?this.innerShadow.update(e.props):hi(e.path,["layerBlur"])?this.layerBlur.update(e.props):hi(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}clone(e){let t=new gs(this.uuid,this.data,e);t.parent=void 0;for(let i of this.children)t.add(i.clone(e));return t}},KEe=pu(xB(),1),pw=class extends Dr{constructor(e,t,i){super(e,t,i),this.uuid=e,this.data=t,this._pathBBox=new DOMRect,this.path="",this.updateState(t,i),this.autoClose=!1,this.computeSVGBBox()}computeSVGBBox(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");document.body.appendChild(e),t.setAttribute("d",this.path),e.appendChild(t),this._pathBBox=t.getBBox(),e.remove()}innerDraw(e){e.path(this.path)}intersectsInLocalSpace(e,t){return e>=this._pathBBox.x&&e<=this._pathBBox.x+this._pathBBox.width&&t>=this._pathBBox.y&&t<=this._pathBBox.y+this._pathBBox.height}getCenter(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}getHalfSize(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}updateState(e,t){super.updateState(e,t),e.path!==void 0&&(this.path=e.path,this.computeSVGBBox())}clone(e){let t=new pw(this.uuid,this.data,e);return t.parent=void 0,t}};function XEe(e,t=1,i=1){if(t<=0||i<=0)return e;let r=(0,KEe.parseSVG)(e).map(n=>{let a={...n};return"x"in a&&(a.x=a.x*t),"y"in a&&(a.y=a.y*i),"x1"in a&&(a.x1=a.x1*t),"x2"in a&&(a.x2=a.x2*t),"y1"in a&&(a.y1=a.y1*i),"y2"in a&&(a.y2=a.y2*i),"rx"in a&&(a.rx=a.rx*t),"ry"in a&&(a.ry=a.ry*i),a});return JEe(r)}function JEe(e){let t=["rx","ry","xAxisRotation","largeArc","sweep","x1","y1","x2","y2","x","y"],i;return e.map(r=>{let n=[];t.forEach(c=>{if(c in r){let l=r[c]*1;n.length&&l>=0&&n.push(","),n.push(l)}});let a=(i===r.code?n[0]<0?"":",":r.code)+n.join("");return i=r.code,a}).join("")}function QEe(e,t,i){switch(t.type){case"ellipse2d":return new mj(e,t,i);case"rectangle2d":return new r0(e,t,i);case"text2d":return new gj(e,t,i);case"vector2d":return new yH(e,t,i);case"path2d":return new pw(e,t,i);case"frame2d":return new gs(e,t,i);case"group2d":default:return new au(e,t,i)}}var bH=class{constructor(e,t,i){this.uuid=e,this.data=t,this.group=new au(bH.GROUP_ID,{...Mx.defaultData},i),this.createChildrenObjects(t.objects,this.group,i)}createObject(e,t,i,r,n,a){let c=QEe(e,t,a);c&&(r.add(c),r.children.splice(n,0,r.children.pop()),c.updateWorldMatrix(),i.length>0&&(c instanceof au||c instanceof gs)&&this.createChildrenObjects(i,c,a))}createChildrenObjects(e,t,i){let r=0;for(let n of e)this.createObject(n.id,n.data,n.children,t,r,i),r+=1}draw(e){this.group.draw(e)}updateEntityByOp(e,t,i,r){let n=this.find(e);if(n)try{n.updateByOp(t,i,{shared:r})}catch(a){console.error(a)}}updateTreeByOp(e,t){if(e.path.length===0&&e.type===7){let i=e.parent===null?this.group:this.find(e.parent);i!==void 0&&i instanceof yo&&(this.createObject(e.id,e.data,e.children,i,e.localIndex,t),i.requestRender())}else if(e.path.length===0&&e.type===8){let i=this.find(e.id);if(i!==void 0&&i.parent!==void 0&&i.parent instanceof yo){let r=i.parent;i.resetBBoxNeedsUpdate(),r==null||r.remove(i),r==null||r.requestRender()}}else if(e.path.length===0&&e.type===9){let i=this.find(e.id);if(i!==void 0){let r=i.parent,n=e.parent===null?this:this.find(e.parent);if(n instanceof yo||n===this){n.add(i);let a=e.localIndex;n.children.splice(a,0,n.children.pop()),i.updateWorldMatrix(!0,!1,!0),r==null||r.requestRender(),i.requestRender()}i.resetBBoxNeedsUpdate()}}}add(e){this.group.add(e)}remove(e){this.group.remove(e)}traverse(e){this.group.traverse(t=>{t!==this.group&&e(t)})}intersectsChildren(e,t,i,r=!1,n=[]){return this.group.intersectsChildren(e,t,i,r,n,!0)}intersectsChildrenReverse(e,t,i,r=!1,n=[]){return this.group.intersectsChildrenReverse(e,t,i,r,n,!0)}find(e){return this.group.find(e)}get children(){return this.group.children}project(e,t){return this.group.project(e,t)}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let i=[],r=t;for(;r!==this.group;){let n=r;r=r.parent;let a=r.children.indexOf(n);i.splice(0,0,a)}return{entity:t,sortKey:i}}getAllSorted(e){let t=[];for(let i of e){let r=this.getWithSortKey(i.id);r!==void 0&&t.push(r)}return t.sort((i,r)=>$F(i.sortKey,r.sortKey)),t.map(i=>i.entity)}},vj=bH;vj.GROUP_ID="scene2d";function xH({constraints:e,newParentWidth:t,newParentHeight:i,initialParentWidth:r,initialParentHeight:n,objectInitialWidth:a,objectInitialHeight:c,objectInitialPosition:l}){let{horizontalConstraint:o,verticalConstraint:s}=e,u=t-r,d=i-n,h=a,p=c,m=l[0],f=l[1];if(o!==0){if(o===1)m+=u;else if(o===3)m+=u/2;else if(o===2)h=Math.max(1,h+u);else if(o===4){let g=t/r;h*=g,m*=g}}if(s!==0){if(s===1)f+=d;else if(s===3)f+=d/2;else if(s===2)p=Math.max(1,p+d);else if(s===4){let g=i/n;p*=g,f*=g}}return{width:h,height:p,position:[m,f]}}pu(xB(),1);var $Ee=`
	varying vec2 vUv;
	void main() {
		vUv = uv;
		gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
	}`,ZEe=`
	uniform sampler2D tDiffuse;
	varying vec2 vUv;
	void main() {
		vec4 texel = texture2D( tDiffuse, vUv );
		gl_FragColor = texel;
	}`,e3e=new W2(-1,1,1,-1,0,1),t3e=class extends Qe{constructor(){super(),this.setAttribute("position",new Fe([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Fe([0,2,0,0,2,0],2))}},i3e=new t3e,r3e=class{constructor(e){this._mesh=new gi(i3e,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,e3e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}},wH=new Ht({defines:{},uniforms:{tDiffuse:new Ee(null)},vertexShader:$Ee,fragmentShader:ZEe}),n3e=new r3e(wH),ZS=null,eC=null,a3e=()=>(ZS===null&&(ZS=document.createElement("canvas")),ZS),o3e=e=>(eC===null&&(eC=new vH(e)),eC),s3e=Kt.identity(),_H=class{constructor(e,t,i,r){this.uuid=e,this.width=t,this.height=i,this.context=r,this.enabled=!0,this.isScreenSpace=!1,this.dpr=window.devicePixelRatio,this.isFrameDirty=!1,this.onRenderRequestedDownstream=()=>{this.isFrameDirty=!0,this.context.shared.requestRender()},this._innerApplySize=()=>{let n=this.width,a=this.height,c=this.dpr;this.renderer.dpr=this.isScreenSpace?c:Math.floor(2048/Math.max(n,a)),this.renderer.setSize(n,a)},this.onFrameOverrideObjectEvent=n=>{var a,c;if(((a=n.target)==null?void 0:a.uuid)!==void 0){let l=(c=this.frameRoot)==null?void 0:c.find(n.target.uuid);l&&l.dispatchEvent({...n,target:l})}},this.scene2d=new vj(Ve.generateUUID(),uT.defaultData,{dpr:window.devicePixelRatio,shared:r.shared}),this.canvas=a3e(),this.renderer=o3e(this.canvas),this.promise=this.init(),this.renderTarget=new Vt(1,1,{type:Il,stencilBuffer:!1,depthBuffer:!1}),r.shared.addUIBuffer(this.uuid,this.renderTarget),this.textureHolder=r.shared.uiBuffer(this.uuid)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new Fce(this.canvas)),this._canvasTexture}async init(){this.renderer instanceof vH&&(this.renderer.wasmURL=GV.skiaWasmUrl),await this.renderer.init()}render(e){var t,i;if(this.isFrameDirty){this.isFrameDirty=!1,this._innerApplySize(),this.renderer.clear(),(t=this.frameOverride)==null||t.draw(this.renderer),this.renderer.render(),wH.uniforms.tDiffuse.value=this.canvasTexture,this.canvasTexture.needsUpdate=!0;let r=e.getRenderTarget();e.setRenderTarget(this.renderTarget),e.clear(),n3e.render(e),e.setRenderTarget(r),(i=this.textureHolder)==null||i.setNeedsUpdate(!0)}}updateEntity2DByOp(e,t,i,r){this.scene2d.updateEntityByOp(e,t,i,r),this.applySize()}updateTreeByOp(e,t){this.scene2d.updateTreeByOp(e,t),this.applySize()}applyOverrides(e){if(this.frameOverride&&this.frameRoot){this.frameOverride.position=[0,0],this.frameOverride.rotation=0;let t=(e==null?void 0:e.width)??this.width,i=(e==null?void 0:e.height)??this.height;this.frameOverride.width=t,this.frameOverride.height=i,this.frameOverride.localMatrix=s3e,this.isScreenSpace&&(this.frameOverride.fill.color=oi.from0to1([0,0,0,0])),this.frameOverride.data={...this.frameOverride.data,width:t,height:i},SH({objectOverride:this.frameOverride,objectRoot:this.frameRoot,newParentWidth:this.frameOverride.width,newParentHeight:this.frameOverride.height,initialParentWidth:this.frameRoot.width,initialParentHeight:this.frameRoot.height}),this.frameOverride.updateWorldMatrix(!0,!1,!0)}}applySize(e,t=window.devicePixelRatio){var l,o;let i=Math.max(1,(e==null?void 0:e.width)??this.width),r=Math.max(1,(e==null?void 0:e.height)??this.height);this.dpr=t,this.width=i,this.height=r,this._innerApplySize();let n=1,a=512,c=512;(i*t<a||r*t<c)&&(n=Math.max(a/(i*t),c/(r*t))),this.renderTarget.setSize(i*t*n,r*t*n),(l=this._canvasTexture)==null||l.dispose(),this._canvasTexture=void 0,this.applyOverrides(e),(o=this.frameOverride)==null||o.requestRender()}applyFrame(e){var i,r;let t=this.context.scene.find2D(e);if(!(!t||!(t instanceof gs)))return this.disposeFrameOverride(),this.frameRoot=t,this.frameOverride=t.clone({dpr:this.renderer.dpr,shared:this.context.shared}),this.scene2d.add(this.frameOverride),this.applySize(),(i=this.frame)==null||i.addEventListener("render",this.onRenderRequestedDownstream),this.frameOverride.traverse(n=>{n.addEventListener("beginState",this.onFrameOverrideObjectEvent)}),this.frameOverride.traverse(n=>{n.addEventListener("completeState",this.onFrameOverrideObjectEvent)}),(r=this.frame)==null||r.requestRender(),t}get frame(){return this.frameOverride}get frameId(){var e;return(e=this.frame)==null?void 0:e.uuid}find(e){return this.scene2d.find(e)}get texture(){var e;return(e=this.textureHolder)==null?void 0:e.getTexture(1001)}disposeFrameOverride(){var e,t,i;(e=this.frameOverride)==null||e.removeEventListener("render",this.onRenderRequestedDownstream),(t=this.frameOverride)==null||t.traverse(r=>{r.removeEventListener("beginStateChange",this.onFrameOverrideObjectEvent)}),(i=this.frameOverride)==null||i.traverse(r=>{r.removeEventListener("completeState",this.onFrameOverrideObjectEvent)}),this.frameOverride&&this.scene2d.remove(this.frameOverride)}};function SH({objectOverride:e,objectRoot:t,newParentWidth:i,newParentHeight:r,initialParentWidth:n,initialParentHeight:a}){if(e instanceof gs&&t instanceof gs||e instanceof au&&t instanceof au)for(let c=0,l=e.children.length;c<l;c++){let o=e.children[c],s=t.children[c];o&&s&&o.uuid===s.uuid&&c3e({objectOverride:o,objectRoot:s,newParentWidth:i,newParentHeight:r,initialParentWidth:n,initialParentHeight:a})}}function l3e(e){if(VT(e))return[e.width,e.height];if(e instanceof pw){let[t,i]=e.getHalfSize();return[t*2,i*2]}else if(e instanceof au){let[t,i]=e.recursiveBBox.getHalfSize();return[t*2,i*2]}return[0,0]}function c3e({objectOverride:e,objectRoot:t,newParentWidth:i,newParentHeight:r,initialParentWidth:n,initialParentHeight:a}){let[c,l]=l3e(t),{width:o,height:s,position:u}=xH({constraints:e.data,newParentWidth:i,newParentHeight:r,initialParentWidth:n,initialParentHeight:a,objectInitialWidth:c,objectInitialHeight:l,objectInitialPosition:t.position});if(e.position=u,e.data={...e.data,position:u},e.states)for(let d in e.states)u3e({stateId:d,objectOverride:e,objectRoot:t,newParentWidth:i,newParentHeight:r,initialParentWidth:n,initialParentHeight:a});if(VT(e)||e instanceof au)VT(e)&&(e.width=o,e.height=s,e.data={...e.data,width:o,height:s}),SH({objectOverride:e,objectRoot:t,newParentWidth:o,newParentHeight:s,initialParentWidth:c,initialParentHeight:l});else if(e instanceof pw){let d=t,h=c!==0?o/c:1,p=l!==0?s/l:1;e.path=XEe(d.path,h,p),e.data={...e.data,path:e.path}}}function u3e({stateId:e,objectOverride:t,objectRoot:i,newParentWidth:r,newParentHeight:n,initialParentWidth:a,initialParentHeight:c}){var s,u;let l=(s=t.states)==null?void 0:s[e],o=(u=i.states)==null?void 0:u[e];if(l&&o){let{width:d,height:h,position:p}=xH({constraints:t.data,newParentWidth:r,newParentHeight:n,initialParentWidth:a,initialParentHeight:c,objectInitialWidth:vd.isResizeable(o)?o.width:0,objectInitialHeight:vd.isResizeable(o)?o.height:0,objectInitialPosition:o.position});Object.assign(t.states[e],{position:p}),vd.isResizeable(l)&&Object.assign(t.states[e],{width:d,height:h})}}function VT(e){return e instanceof r0||e instanceof gs||e instanceof mj||e instanceof gj}var kr=class extends qM(ra){constructor(t,i,r){super(),this.data=i,this.bgColor=new rn(1,1,1,1),this.fog=null,this.backupFog=new qB(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new lt,this.penumbraSizeArrayCache=null,this.super_Entity(t,i),this.personalCamera=new yn(jf,{...av.defaultData,...i.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new Tue(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight),i.uiScene?this.uiScene=new vj((Array.isArray(t)?t[0]:t)+"-ui",i.uiScene,{dpr:window.devicePixelRatio,shared:r.shared}):i.uiFrame&&this.createUICanvas(i.uiFrame,r)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}get frameId(){return this.data.uiFrame}get frame(){var t;return(t=this.uiCanvas)==null?void 0:t.frame}createUICanvas(t,i){this.uiCanvas=new _H(this.uuid+"-uiscreen",window.innerWidth,window.innerHeight,i),this.uiCanvas.isScreenSpace=!0,this.uiCanvas.promise.then(()=>{var r,n;(r=this.uiCanvas)==null||r.applyFrame(t),(n=this.uiCanvas)==null||n.applySize()})}updateVisible(){}setBackgroundColor(t){this.bgColor=t,this.fogUseBGColor===!0&&(this.backupFog.color=t)}entityChildrenCount(){return this.uiScene?this.uiScene.children.length:super.entityChildrenCount()}updateAmbientLight(t,i){t.color!==void 0&&(this.ambientLight.color=On(t.color,i)),t.intensity!==void 0&&(this.ambientLight.intensity=t.intensity),t.enabled!==void 0&&(t.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(t){this.isActive=!0,t.fog=this.fog,this.traverseEntity(i=>{i instanceof Rd&&i.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(t=>{if(t instanceof kf)if(Array.isArray(t.material))for(let i of t.material)i.needsUpdate=!0;else t.material.needsUpdate=!0,t.material.dispose()})}updateShadow(t){t.softShadowQuality!==void 0&&this.isActive&&AEe(t.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(t,i){if(t.enabled?this.fog=this.backupFog:this.fog=null,this.isActive){let r=this.scene;r.fog=this.fog}this.fogUseBGColor=t.useBackgroundColor,t.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=On(t.color,i),this.backupFog.near=t.near,this.backupFog.far=t.far}updateAo(t,i){t.aoColor!==void 0&&(this.aoColor=On(t.aoColor,i))}updateByOp(t,i,r,n){let a=this.data.uiFrame;super.updateByOp(t,i,r,n);let c=i;hi(t.path,["fog"])?this.updateFog(c.fog,r.shared):hi(t.path,["ao"])?this.updateAo(c.ao,r.shared):hi(t.path,["ambient"])?this.updateAmbientLight(c.ambient,r.shared):hi(t.path,["shadow"])?this.updateShadow(c.shadow):t.type===0&&t.path.length===0&&(t.props.uiFrame!==void 0||a!==c.uiFrame)&&this.updateUIFrame(t.props.uiFrame,r)}updateUIFrame(t,i){t?(this.uiCanvas||this.createUICanvas(t,i),this.uiCanvas.enabled=!0,this.uiCanvas.applyFrame(t)):this.uiCanvas&&(this.uiCanvas.enabled=!1)}updateState(t,i){this.updateState_Entity(t,i),t.backgroundColor!==void 0&&this.setBackgroundColor(On(t.backgroundColor,i.shared)),t.fog!==void 0&&this.updateFog(t.fog,i.shared),t.ambient!==void 0&&this.updateAmbientLight(t.ambient,i.shared),t.ao!==void 0&&this.updateAo(t.ao,i.shared),t.shadow!==void 0&&this.updateShadow(t.shadow)}createFrame(t,i){}raycast(t,i){super.raycast(t,i)}switchActiveCamera(t){t&&t.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=t,t.objectHelper.visible=!1)}get playCamera(){var t;return((t=this.scene)==null?void 0:t.find(this.data.publish.playCamera))??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return this.penumbraSizeArrayCache===null&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let t=0,i=0;this.traverseEntity(r=>{if(!r.visible)return!0;r instanceof pH&&r.visible&&t<3&&(this.penumbraSizeArrayCache[t]=r.data.penumbraSize??.5,t+=1),r instanceof fH&&r.visible&&t<2&&(this.penumbraSizeArrayCache[3+i]=r.data.penumbraSize??.5,i+=1)})}raycastWithClones(t){let i=[],r=n=>{for(let a of n.children){let c=a.cloner;Ut.is(a)&&(a.visible||c!=null&&c.object.data.visible)&&((vo(a)||kT(a)&&this.scene.enableHelpers&&a.objectHelper.visible)&&(t.intersectObject(a,!1,i),HT(a,t,i,!0)),r(a))}};return r(this),i}updateEntity2DByOp(t,i,r,n){var a;(a=this.uiCanvas)==null||a.updateEntity2DByOp(t,i,r,n)}},d3e=class extends hj(Iue,uH){constructor(e,t,i){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let r=this.shadow.camera;r.fov=90,r.aspect=1,r.near=100,r.far=2500;let n=new N(-r.far+this.position.x,-r.far+this.position.y,-r.far+this.position.z),a=new N(r.far+this.position.x,r.far+this.position.y,r.far+this.position.z),c=new Zi(n,a),l=new Zb(c,new lt(16755200));l.visible=!1,this.gizmos.shadowmap=l,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof Zb){let i=this.shadow.camera,r=new N(-i.far+this.position.x,-i.far+this.position.y,-i.far+this.position.z),n=new N(i.far+this.position.x,i.far+this.position.y,i.far+this.position.z);t.box.set(r,n),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},h3e=class extends sr{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let i=this.geometry.getAttribute("position");i!==void 0?ej(i,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:i.count,e,t):super.updateEntityBoxSize(e,t)}},yj=class extends sr{constructor(e,t,i){super(e,t,i),this._shapeId=null,this._context=i}updateState(e,t){super.updateState(e,t),this.updateShape(),this.refreshAttachedCloners(t)}updateShape(){var r;let e={...this.data.geometry.extrusion.shape};for(let n in e)typeof e[n]=="string"&&(e[n]=this._context.shared.getVariable(e[n],[this.uuid,"geometry","extrusion","shape",n]));let t;if(e.type==="Custom"){let n=e.shapeId;if(n!==this._shapeId&&this.detachShape(),n){this._shapeId=n;let a=this._context.scene.find(n);a!=null&&a.data&&(a.attachedPaths.add(this),t=(r=a.geometry.userData)==null?void 0:r.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let n;switch(e.type){case"Rectangle":n=ZM;break;case"Ellipse":n=$M;break;case"Polygon":n=oV;break;case"Star":n=sV;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=n.create({parameters:e}).userData.shape}let i=this.geometry;t&&i.inputs&&(i.inputs.shapeData=t,i.build())}detachShape(){var e;this._shapeId!==null&&((e=this._context.scene.find(this._shapeId))==null||e.attachedPaths.delete(this))}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let i=this.geometry.getAttribute("position");i!==void 0?ej(i,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:i.count,e,t):super.updateEntityBoxSize(e,t)}},bj=class extends dj{constructor(e,t,i){super(e,t,i),this.data=t}},Mp=class extends Df(fl,t0){constructor(e,t,i){super(),t.type==="Instance"&&typeof e=="string"&&(t=this.transformAssignData(t,i)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return this.data.type==="Component"&&typeof this.identity=="string"}get isInstanceRoot(){return this.data.type==="Instance"&&typeof this.identity=="string"}transformAssignData(e,t){let i=Cx.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(i){let r,n;for(let a of Mc.rootOverrideProps)e[a]===void 0?(r===void 0&&(r={...e}),r[a]=i.data[a]):(n===void 0&&(n={}),n[a]=e[a],r===void 0&&(r={...e}),r[a]=qc.apply(i.data[a],e[a]));return this.overrideData=n,r}else return{...xr.defaultData,...e,...fs(xr.defaultData,Mc.rootOverrideProps)}}updateByOp(e,t,i,r){let n;if(this.isInstanceRoot&&!r){if(t=this.transformAssignData(t,i),e.type===0&&e.path.length===0&&this.component)for(let a of Mc.rootOverrideProps)a in e.props&&e.props[a]===void 0&&(n===void 0&&(n={...e,props:{...e.props}}),n.props[a]=this.component.data[a]);else if(e.type===0&&e.path.length>0&&Mc.rootOverrideProps.includes(e.path[0])){let a=e.path[0];n===void 0&&(n={...e,path:[],props:{[a]:t[a]}})}}super.updateByOp(n??e,t,i,r)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(this.component===void 0){let i=e.scene.find(t.component)??null,r=!1;if(i!==this.oldComponent){if(this.oldComponent){let n=0;for(let a of this.children)if(Ut.is(a))e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(a),xj(a),n+=1;else break;this.children.splice(0,n)}r=!0}if(i){let n={};CH(e,[this.uuid],t.overrides,this,i,i,0,r,n);for(let a of this.children)if(Ut.is(a)){let c=a.data;c.type==="Empty"&&c.animations&&a.traverseEntity(l=>{let o=l.dataPatched;if(l instanceof sr&&o.bones&&o.boneInverses){let s=l.dataPatched;if(s.bones&&s.boneInverses){let u=s.bones.map(p=>e.scene.find(n[p])),d=s.boneInverses.map(p=>new Ie().fromArray(p)),h=new sM(u,d);l.bind(h,l.bindMatrix)}}else l.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function xj(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let i of e.children)Ut.is(i)&&xj(i)}}function GO(e,t,i,r){return e.component===t&&DM(e.identity,r)?e.overrideData===i?2:1:0}function CH(e,t,i,r,n,a,c,l,o){if(c>50)return!1;if(r.component!==n){if(r.component){let u=r.component.instances.indexOf(r);u>=0&&r.component.instances.splice(u,1)}n.instances.find(u=>u===r)||n.instances.push(r),r.component=n}n instanceof Mp&&n.isInstanceRoot&&n.expandInstanceChildren(e);let s=0;for(let u of n.children)if(Ut.is(u)){let d=[...t,...typeof u.identity=="string"?[u.identity]:u.identity],h=xx.resolve(i,d,1);h!=null&&!(h instanceof cr)&&(Object.setPrototypeOf(h,cr.prototype),console.error("wrong prototype"));let p=null,m;if(!l){let f=r.children[s];if(p=Ut.is(f)?f:null,p!==null){let g=GO(p,u,h,d);m=g>=1?p.stateSelection:void 0,g!==2&&(p=null)}if(p===null&&(p=e.scene.findInstance(d)??null,p!==null)){let g=GO(p,u,h,d);if(m=g>=1?p.stateSelection:void 0,g!==2)p=null;else{let v=p.parent.children.indexOf(p);p.parent.children.splice(v,1),r.children.splice(s,0,p),p.parent===r?v<=s&&console.error("not possible"):(p.parent=r,p.matrixWorldNeedsUpdate=!0,p.resetBBoxNeedsUpdate(),p.updateVisible(),e.pendingDeletes.delete(p))}}}if(p===null){let f=h?qc.apply(u.data,h):u.data;kd.is(f.type)&&(f={...f,type:"Empty"}),p=Ic.createEntity(d,f,e),p.overrideData=h,r.add(p),r.children.splice(r.children.length-1,1),r.children.splice(s,0,p),p.updateState(p.data,e),m&&p.changeSelectedState(m,e),e.scene.registerInstanceAndSetUuid(p)}if(p.isBone){let f=p.identity[p.identity.length-1];o[f]=p.uuid}s+=1,CH(e,t,i,p,u,a,c+1,l,o)}if(!l){let u=s;for(;;){let d=r.children[s];if(Ut.is(d))e.pendingDeletes.add(d);else break;s+=1}r.children.splice(u,s-u)}return!0}var p3e=class extends Df(YB,t0){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}},gn=class extends sr{constructor(t,i,r){super(t,i,r),this.onBeforeRender=n=>{this.uiCanvas.render(n)},this.uiCanvas=new _H(t+"-canvas",i.geometry.width,i.geometry.height,r),this.uiCanvas.promise.then(()=>{this.applyFrame(this.dataPatched.geometry.frame,r.shared)})}updateByPatchedOpGeometry(t,i,r){super.updateByPatchedOpGeometry(t,i,r),t.type===0&&(t.props.frame!==void 0&&this.applyFrame(t.props.frame,r.shared),(t.props.width!==void 0||t.props.height!==void 0)&&this.applySize(t.props,r.shared))}applySize(t,i){let r=(t==null?void 0:t.width)??this.dataPatched.geometry.width,n=(t==null?void 0:t.height)??this.dataPatched.geometry.height;this.uiCanvas.applySize({width:r,height:n}),this.applyGeometryParametersFromFrame(i)}applyFrame(t,i){this.uiCanvas.applyFrame(t),this.applyGeometryParametersFromFrame(i),this.applyMaterialParametersFromFrame({shared:i})}applyGeometryParametersFromFrame(t){var r;let i=this.frame;i&&(Object.assign(this.data,{geometry:Object.assign(this.data.geometry,{cornerRadius:i.cornerRadius,cornerType:0})}),Object.assign(this.dataPatched,{geometry:Object.assign(this.dataPatched.geometry,{cornerRadius:i.cornerRadius,cornerType:0})}),(r=this.localGeometry)==null||r.dispose(),this.localGeometry=hv(this.dataPatched.geometry,t,this.data.flatShading,this))}applyMaterialParametersFromFrame(t){let i=this.frame;if(i){let r=i.data.backgroundBlur;Object.assign(this.data.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.data.material.layers[1].data,{roughness:r.radius,alpha:r.enabled?1:0}),Object.assign(this.dataPatched.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.dataPatched.material.layers[1].data,{roughness:r.radius,alpha:r.enabled?1:0}),this.material.reset(this.dataPatched.material,t,!0)}}updateEntity2DByOp(t,i,r,n){this.uiCanvas.updateEntity2DByOp(t,i,r,n),t===this.frameId&&i.type===0&&(i.props.cornerRadius!==void 0?this.applyGeometryParametersFromFrame(n):hi(i.path,["backgroundBlur"])&&this.applyMaterialParametersFromFrame({shared:n}))}get frame(){return this.uiCanvas.frame}get frameId(){var t;return(t=this.frame)==null?void 0:t.uuid}removeInteractionGeometry(t){super.removeInteractionGeometry(t),this.applySize({},t)}updateGeometryInteractions(t,i){super.updateGeometryInteractions(t,i),this.applySize({width:t.width,height:t.height},i)}},f3e=class{constructor(e,t,i){this.variables=[],this.currentTextureIndex=0;let r=ni,n=new ra,a=new fu;a.position.z=1;let c={passThruTexture:{value:null}},l=u(h(),c),o=new gi(new _s(2,2),l);n.add(o),this.setDataType=function(p){return r=p,this},this.addVariable=function(p,m,f){let g=this.createShaderMaterial(m),v={name:p,initialValueTexture:f,material:g,dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:kt,magFilter:kt};return this.variables.push(v),v},this.setVariableDependencies=function(p,m){p.dependencies=m},this.init=function(){if(i.capabilities.isWebGL2===!1&&i.extensions.has("OES_texture_float")===!1)return"No OES_texture_float support for float textures.";if(i.capabilities.maxVertexTextures===0)return"No support for vertex shader textures.";for(let p=0;p<this.variables.length;p++){let m=this.variables[p];m.renderTargets[0]=this.createRenderTarget(e,t,m.wrapS,m.wrapT,m.minFilter,m.magFilter),m.renderTargets[1]=this.createRenderTarget(e,t,m.wrapS,m.wrapT,m.minFilter,m.magFilter),this.renderTexture(m.initialValueTexture,m.renderTargets[0]),this.renderTexture(m.initialValueTexture,m.renderTargets[1]);let f=m.material,g=f.uniforms;if(m.dependencies!==null)for(let v=0;v<m.dependencies.length;v++){let S=m.dependencies[v];if(S.name!==m.name){let x=!1;for(let b=0;b<this.variables.length;b++)if(S.name===this.variables[b].name){x=!0;break}if(!x)return"Variable dependency not found. Variable="+m.name+", dependency="+S.name}g[S.name]={value:null},f.fragmentShader=`
uniform sampler2D `+S.name+`;
`+f.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){let p=this.currentTextureIndex,m=this.currentTextureIndex===0?1:0;for(let f=0,g=this.variables.length;f<g;f++){let v=this.variables[f];if(v.dependencies!==null){let S=v.material.uniforms;for(let x=0,b=v.dependencies.length;x<b;x++){let _=v.dependencies[x];S[_.name].value=_.renderTargets[p].texture}}this.doRenderTarget(v.material,v.renderTargets[m])}this.currentTextureIndex=m},this.getCurrentRenderTarget=function(p){return p.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(p){return p.renderTargets[this.currentTextureIndex===0?1:0]},this.dispose=function(){o.geometry.dispose(),o.material.dispose();let p=this.variables;for(let m=0;m<p.length;m++){let f=p[m];f.initialValueTexture&&f.initialValueTexture.dispose();let g=f.renderTargets;for(let v=0;v<g.length;v++)g[v].dispose()}};function s(p){p.defines.resolution="vec2( "+e.toFixed(1)+", "+t.toFixed(1)+" )"}this.addResolutionDefine=s;function u(p,m){m=m||{};let f=new Ht({uniforms:m,vertexShader:d(),fragmentShader:p});return s(f),f}this.createShaderMaterial=u,this.createRenderTarget=function(p,m,f,g,v,S){return p=p||e,m=m||t,f=f||Ei,g=g||Ei,v=v||kt,S=S||kt,new Vt(p,m,{wrapS:f,wrapT:g,minFilter:v,magFilter:S,format:Ii,type:r,depthBuffer:!1})},this.createTexture=function(){let p=new Float32Array(e*t*4),m=new Dn(p,e,t,Ii,ni);return m.needsUpdate=!0,m},this.renderTexture=function(p,m){c.passThruTexture.value=p,this.doRenderTarget(l,m),c.passThruTexture.value=null},this.doRenderTarget=function(p,m){let f=i.getRenderTarget(),g=i.xr.enabled,v=i.shadowMap.autoUpdate,S=i.outputEncoding,x=i.toneMapping;i.xr.enabled=!1,i.shadowMap.autoUpdate=!1,i.outputEncoding=Ao,i.toneMapping=ps,o.material=p,i.setRenderTarget(m),i.render(n,a),o.material=l,i.xr.enabled=g,i.shadowMap.autoUpdate=v,i.outputEncoding=S,i.toneMapping=x,i.setRenderTarget(f)};function d(){return`void main()	{

	gl_Position = vec4( position, 1.0 );

}
`}function h(){return`uniform sampler2D passThruTexture;

void main() {

	vec2 uv = gl_FragCoord.xy / resolution.xy;

	gl_FragColor = texture2D( passThruTexture, uv );

}
`}}},Hr=new Qr,Yy=new N,m3e=class{constructor(e){let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){let e=this.positionAttribute,t=this.weightAttribute,i=new Float32Array(e.count/3);for(let n=0;n<e.count;n+=3){let a=1;t&&(a=t.getX(n)+t.getX(n+1)+t.getX(n+2)),Hr.a.fromBufferAttribute(e,n),Hr.b.fromBufferAttribute(e,n+1),Hr.c.fromBufferAttribute(e,n+2),a*=Hr.getArea(),i[n/3]=a}this.distribution=new Float32Array(e.count/3);let r=0;for(let n=0;n<i.length;n++)r+=i[n],this.distribution[n]=r;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,i){let r=this.distribution[this.distribution.length-1],n=this.binarySearch(this.randomFunction()*r);return this.sampleFace(n,e,t,i)}binarySearch(e){let t=this.distribution,i=0,r=t.length-1,n=-1;for(;i<=r;){let a=Math.ceil((i+r)/2);if(a===0||t[a-1]<=e&&t[a]>e){n=a;break}else e<t[a]?r=a-1:i=a+1}return n}sampleFace(e,t,i,r){let n=this.randomFunction(),a=this.randomFunction();return n+a>1&&(n=1-n,a=1-a),Hr.a.fromBufferAttribute(this.positionAttribute,e*3),Hr.b.fromBufferAttribute(this.positionAttribute,e*3+1),Hr.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(Hr.a,n).addScaledVector(Hr.b,a).addScaledVector(Hr.c,1-(n+a)),i!==void 0&&Hr.getNormal(i),r!==void 0&&this.colorAttribute!==void 0&&(Hr.a.fromBufferAttribute(this.colorAttribute,e*3),Hr.b.fromBufferAttribute(this.colorAttribute,e*3+1),Hr.c.fromBufferAttribute(this.colorAttribute,e*3+2),Yy.set(0,0,0).addScaledVector(Hr.a,n).addScaledVector(Hr.b,a).addScaledVector(Hr.c,1-(n+a)),r.r=Yy.x,r.g=Yy.y,r.b=Yy.z),this}};function g3e(e){let t=new Float32Array(e*e*2);for(let i=0;i<e;i++)for(let r=0;r<e;r++){let n=i*e+r;t[n*2+0]=i/(e-1),t[n*2+1]=r/(e-1)}return t}function v3e(e){let t=Math.ceil(Math.sqrt(e));return Math.max(t,1)}function y3e(e,t){let i=new gi(e.geometry,e.material),r=[],n=[],a=new N,c=new N;i.geometry.index!==null&&(i.geometry=i.geometry.toNonIndexed());let l=new m3e(i).build();for(let u=0;u<t;u++)l.sample(a,c),r.push(a.x,a.y,a.z),n.push(c.x,c.y,c.z);let o=new Float32Array(r),s=new Float32Array(n);return{positions:o,normals:s}}function WO(e,t){let i=e,r=new Float32Array(4*t*t);for(let a=0;a<t*t;a++)r[4*a]=i[3*a],r[4*a+1]=i[3*a+1],r[4*a+2]=i[3*a+2],r[4*a+3]=0;let n=new Dn(r,t,t,Ii,ni);return n.needsUpdate=!0,n}function b3e({size:e}){let t=new Float32Array(4*e*e);for(let r=0;r<e*e;r++)t[4*r]=r,t[4*r+1]=0,t[4*r+2]=0,t[4*r+3]=0;let i=new Dn(t,e,e,Ii,ni);return i.needsUpdate=!0,i}function x3e(e){let t=new Float32Array(4*e*e);for(let r=0;r<e*e;r++)t[4*r]=0,t[4*r+1]=0,t[4*r+2]=0,t[4*r+3]=0;let i=new Dn(t,e,e,Ii,ni);return i.needsUpdate=!0,i}var w3e=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform float uTime;
uniform float uSpeed;     // update speed of the particles
uniform vec3 uWorldOffset;    
uniform vec4 uWorldQuaternion;
uniform float uMaxLifeTime;
uniform vec3 uEmitterSize;
uniform float uFPSRatio;     // 1  for 60 FPS

float random (vec2 st) {
    return fract(sin(dot(st.xy,
        vec2(12.9898,78.233)))*
        43758.5453123);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
    vec3 acceleration = force / mass;
    
    return acceleration;
  }
  

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    float currentLife = texture2D( uCurrentPosition, vUv ).w;   // from 1 to 0
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).r;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;          // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;         // timeStart in seconds when the particle was emitted
    vec3 originalPosition = ((texture2D( uOriginalPosition, vUv ).xyz) * uEmitterSize);
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float collisionFlag = texture2D( uCurrentVelocity, vUv ).w;             // 1. = collided, 0. = not collided
    float lifeTime = uMaxLifeTime;

    // Calculate the position adjustment based on collision
    //     if (collisionFlag > .5) {  
    float isColliding = step(0.5, collisionFlag); // 1.0 if collisionFlag > 0.5, otherwise 0.0
    float bounceOffset = 3.0 * isColliding; // Becomes 3.0 if colliding, 0.0 otherwise
    vec3 collisionAdjustedVelocity = velocity * (1.0 + bounceOffset);

    // Update position based on collision or normal movement
    vec3 fpsVelocity = velocity * min(uFPSRatio, 5.0);
    position += mix(fpsVelocity, collisionAdjustedVelocity, isColliding);

    // EMISSION RATE - BIRTH
    // if (isSpawning == 1.0) {
    // Better Approach to avoid If statement
    vec3 newPosition = applyQuaternionToVector(uWorldQuaternion, originalPosition) + uWorldOffset;
    originalPosition = mix(originalPosition, newPosition, isSpawning);
    position = mix(position, originalPosition, isSpawning);;
    timeStart = mix(timeStart, uTime, isSpawning);

    // Calculate timeLeft for life normalization
    float timeLeft = max(lifeTime - (uTime - timeStart), 0.0);
    float life_Normalize = timeLeft / lifeTime;

    // Use isActive to blend between the calculated color and black
    vec4 activeColor = vec4(position, life_Normalize);
    // if (isActive == 1.0) {
    gl_FragColor = mix(vec4(0.0), activeColor, isActive);

}
`,_3e=`

    vec3 mod289(vec3 x) {
      return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 mod289(vec4 x) {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 permute(vec4 x) {
        return mod289(((x*34.0)+1.0)*x);
    }
    
    vec4 taylorInvSqrt(vec4 r)
    {
    return 1.79284291400159 - 0.85373472095314 * r;
    }
    
    vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

    float snoise(vec3 v)
    {
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y
    
    // Permutations
    i = mod289(i);
    vec4 p = permute( permute( permute(
                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
              + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
              + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
    
    // Gradients: 7x7 points over a square, mapped onto an octahedron.
    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
    float n_ = 0.142857142857; // 1.0/7.0
    vec3  ns = n_ * D.wyz - D.xzx;
    
    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)
    
    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
    
    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);
    
    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );
    
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));
    
    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
    
    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);
    
    //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;
    
    // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                  dot(p2,x2), dot(p3,x3) ) );
    }
    
    vec3 snoiseVec3( vec3 x ){
    
      float s  = snoise(vec3( x ));
      float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));
      float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));
      vec3 c = vec3( s , s1 , s2 );
      return c;
    
    }
    
      
    vec3 curlNoise( vec3 p, float seed){
      p += seed;
      const float e = .1;
      vec3 dx = vec3( e   , 0.0 , 0.0 );
      vec3 dy = vec3( 0.0 , e   , 0.0 );
      vec3 dz = vec3( 0.0 , 0.0 , e   );
    
      vec3 p_x0 = snoiseVec3( p - dx );
      vec3 p_x1 = snoiseVec3( p + dx );
      vec3 p_y0 = snoiseVec3( p - dy );
      vec3 p_y1 = snoiseVec3( p + dy );
      vec3 p_z0 = snoiseVec3( p - dz );
      vec3 p_z1 = snoiseVec3( p + dz );
    
      float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
      float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
      float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;
    
      const float divisor = 1.0 / ( 2.0 * e );
      return normalize( vec3( x , y , z ) * divisor );
    
    }


// Classic Perlin noise
float cnoise(vec3 P)
{
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
  return 2.2 * n_xyz;
}


vec3 fbm_vec3(vec3 p, float frequency, float offset)
{
  return vec3(
    cnoise((p+vec3(offset))*frequency),
    cnoise((p+vec3(offset+20.0))*frequency),
    cnoise((p+vec3(offset-30.0))*frequency)
  );
}

`,S3e=`
  #ifdef USE_COLLIDER
    float restitution = max(uBounce * 2., .01); // Energy Loss
    // SPHERE COLLIDER
    // **************************************************************
    #ifdef USE_SPHERE_COLLIDER       
      // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
      vec3 radii = uColliderSize;
      // Adjust position relative to collider
      vec3 relPos = position - uColliderPos;
      // Apply rotation of the collider to the relative position
      relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
      // Scale relative position by radii (for ellipsoid collision detection)
      vec3 scaledPos = relPos / radii;
      // Calculate ellipsoidal distance
      float dist = length(scaledPos); // Distance in terms of ellipsoid
      
      // Check for collision
      if (dist <= 1. + particleSize / length(radii) && collisionFlag == 0.0) {
          // Compute the normal at the collision point, accounting for particle size
        vec3 adjustedPos = scaledPos * (1.0 + particleSize / length(radii));          
        // Compute the normal at the collision point
        vec3 normal = ellipsoidNormal(adjustedPos, radii);
        // Rotate the normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);
        // Reflect the velocity vector off the normal
        velocity = reflect(velocity, normal) * restitution;

        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif

    // BOX COLLIDER or PLANE COLLIDER 
    // **************************************************************
    #ifdef USE_BOX_COLLIDER
      // Box dimensions and repulsion variables
      vec3 boxHalfSize = uColliderSize / 2.0;
      // Convert world position to box's local space
      vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
      // Collision detection
      vec3 localDistance = abs(localPos) - boxHalfSize;
      float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));    

      // Collision Detected
      if (distToSurface <= particleSize * 0.5 && collisionFlag == 0.0) {      
        // Find the nearest face normal for bounce direction
        vec3 normal;
        if (localDistance.x > localDistance.y && localDistance.x > localDistance.z) {
            normal = vec3(sign(localPos.x), 0.0, 0.0);
        } else if (localDistance.y > localDistance.z) {
            normal = vec3(0.0, sign(localPos.y), 0.0);
        } else {
            normal = vec3(0.0, 0.0, sign(localPos.z));
        }            
        // Rotate normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);      
        // Reflect velocity and apply repulsion force
        velocity = reflect(velocity, normal) * restitution;
        
        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif      
  #endif      
  // END COLLIDER    
`,C3e=`
  #ifdef USE_ATTRACTOR

      #ifdef USE_SPHERE_COLLIDER      
        // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
        vec3 radii = uColliderSize;
        // Adjust position relative to collider
        vec3 relPos = position - uColliderPos;
        // Apply rotation of the collider to the relative position
        relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
        // Scale relative position by radii (for ellipsoid collision detection)
        vec3 scaledPos = relPos / radii;
        // Calculate ellipsoidal distance
        float distToSurface = length(scaledPos); // Distance in terms of ellipsoid
        float insideCheck = 1.0;

      #endif


      #ifdef USE_BOX_COLLIDER
        // Box dimensions
        vec3 boxHalfSize = uColliderSize / 2.0;
        // Convert world position to box's local space
        vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
        vec3 localDistance = abs(localPos) - boxHalfSize;
        float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));
        float insideCheck = particleSize;
      #endif      
  
      // Apply vortex force inside the Helper
      #ifdef USE_FORCE_LOCAL_SPACE
        if (distToSurface <= insideCheck ) {    
            // Define parameters for the attractor field
            #ifdef USE_SPHERE_COLLIDER      
              float attractorStrength = (1.0 - distToSurface ) * uForceIntensity; // Adjust as needed
            #endif

            #ifdef USE_BOX_COLLIDER
              float attractorStrength = max((1.0 - insideCheck / distToSurface), 0.) * uForceIntensity; // Adjust as needed
              #endif

            float attractorDamping = uForceDamping;  // Adjust as needed (higher values will attenuate velocity more)
          
            // Use the same radii calculation code as for the collider
            vec3 attractorRadii = uColliderSize;
            // Adjust position relative to attractor center
            vec3 relPos = position - uColliderPos;
            // Apply rotation of the collider to the relative position
            relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
            // Scale relative position by radii (for ellipsoid attraction)
            vec3 scaledPos = relPos / attractorRadii;

            // Calculate ellipsoidal distance as attractor radius
            float attractorRadius = length(scaledPos);
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * attractorStrength;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= attractorDamping;
        }
      #else 
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * uForceIntensity;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= uForceDamping;
      #endif    
  #endif      
`,E3e=`
  #ifdef USE_VORTEX
    // Box dimensions
    vec3 boxHalfSize = uColliderSize / 2.0;
    // Convert world position to box's local space
    vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
    vec3 localDistance = abs(localPos) - boxHalfSize;
    float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));

    // Apply vortex force inside the box
    if (distToSurface <= particleSize) {
      float vortexStrength = uForceIntensity;
      vec3 localTopCenter = vec3(0.0, 0., 0.0);

      // Transform the local top center to the world space
      vec3 vortexCenter = uColliderPos + applyQuaternionToVector(uColliderQuaternion, localTopCenter);
      // Calculate the vector from particle to vortex center
      vec3 vortexVector = vortexCenter - position;

      // Calculate the rotation axis from the inverse of the collider's quaternion and the fixed up vector
      // Note: important to add a tiny z component to the up vector to avoid instability
      vec3 upVector = vec3(0.0, 1.0, 0.01);
      vec3 rotationAxis = cross(upVector, applyQuaternionToVector(uColliderQuaternion, vortexVector));
      rotationAxis = normalize(rotationAxis);

      // Add rotational component to velocity
      float rotationSpeed = length(vortexVector * vortexStrength * 3.0) ; 

      vec3 rotationVelocity = rotationAxis * rotationSpeed;
      // velocity += rotationVelocity * 0.005 ;
      velocity = rotationVelocity * 0.005 ;

      // Calculate vortex force
      // vec3 vortexForce = normalize(vortexVector) * uSpeed * .1 ;
      // Apply the vortex force to the particle
      vec3 originDirection = applyQuaternionToVector(uWorldQuaternion, directions);
      velocity += applyForce( originDirection * uSpeed * (1. - uForceDamping) , mass * .5);
    }
  #endif      
`,T3e=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform sampler2D uDirections;     
uniform vec3 uDirectionsAxis;
uniform vec4 uWorldQuaternion;
uniform vec3 uGravity;        
uniform float uNoiseStrength;     // Variation of the noise
uniform float uNoiseScale;        // Scale of the noise
uniform float uNoiseSeed;         // Seed of the noise
uniform float particleSize;
uniform float uSpeed;     // update speed of the particles
uniform float uRandomMassFactor;

// COLLIDER
uniform vec3 uColliderPos;                // Collider Position
uniform vec3 uColliderSize;               // Collider Dimension
uniform vec4 uColliderQuaternion;         // Collider Rotation
uniform vec4 uColliderQuaternionInvert;   // Collider Rotation
uniform float uBounce;                    // Bounce factor
uniform float uForceDamping;
uniform float uForceIntensity;


`+_3e+`
float rand(vec2 co){
    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
 } 
vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
  
  return acceleration;
}

vec4 conjugate(vec4 q) {
  return vec4(q.w, -q.x, -q.y, -q.z);
}

// Function to compute the normal of the ellipsoid at a given point
vec3 ellipsoidNormal(vec3 p, vec3 radii) {
  return normalize(p / (radii * radii));
}

float friction = .3;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    vec3 originalPosition = texture2D( uOriginalPosition, vUv ).xyz;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    vec3 directions = texture2D( uDirections, vUv ).xyz;    
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float mass = rand(originalPosition.xy) * 0.5 + 0.5;
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).x;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).y;          // 1. = active, 0. = not active
    float collisionFlag =texture2D( uCurrentVelocity, vUv ).w;          // Indicate collision

    // Randomness Mass
    mass = (1.0 - (uRandomMassFactor * mass));
    
    if (isActive == 1.0) {
      // **************************************************************
      // FORCES NOISES
      // **************************************************************
      #ifdef USE_CURL_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = curlNoise(position * uNoiseScale * .002, uNoiseSeed) * ( uNoiseStrength + 1.0) * .05 * uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {
          velocity += curlNoise( position, uNoiseSeed)  * uNoiseStrength * 0.05 * uSpeed;
        }
      #endif
      // **************************************************************
      #ifdef USE_SIMPLEX_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = vec3(snoise(position * uNoiseScale * .001) * ( uNoiseStrength + 1.0) * .1);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0) {
          velocity += vec3(snoise(position * uNoiseStrength * .001) * .05 * uSpeed);
        }
      #endif
      // ************************************************************** 
      #ifdef USE_FBM_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = fbm_vec3(position * uNoiseScale * .001, ( uNoiseStrength + 1.0), uNoiseSeed);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {      
          velocity += fbm_vec3(position * uNoiseStrength * .001, ( uNoiseStrength + 1.0), uNoiseSeed) * .1 * uSpeed;
        }
      #endif

      // COLLIDER
      ${S3e}
      // ATTRACTION
      ${C3e}  
      // VORTEX
      ${E3e}
    } 
    // End isActive

    // SPAWN BIRTH 
    // **************************************************************
    // if (isSpawning == 1.)
    #ifdef USE_NORMALS
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, directions) * uSpeed, isSpawning);
    #else
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, uDirectionsAxis) * uSpeed, isSpawning);    
    #endif
    
    // if (collisionFlag == 0.0)
    velocity += applyForce(uGravity, mass * .5) * (1.0 - collisionFlag);

    gl_FragColor = vec4(velocity, collisionFlag);
}
`,EH=`

  // Linear Fade In
  float linearFadeIn(float t) {
    return t;
  }


  // linear fade out
  float linearFadeOut(float t) {
    return 1.0 - t;
  }
  
  float linearInOut(float t) {
    return t < 0.5 ? t :  (1.0 - t);  
  }

    // lerp
    float lerp(float a, float b, float t) {
      return a + (b - a) * t;
    }

  // Ease In Out Quart
  float exponentialInOut(float t) {
    return t < 0.4 ? lerp(0.0, 1.0, t / 0.4) :
    t > 0.6 ? lerp(1.0, 0.0, (t - 0.6) / 0.4) :
    1.0;
   }

  // constant
  float constant(float t) {
    return 1.0;
  } 
`,A3e=`

float rand(vec3 co){
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

vec3 applyQuaternionToVector( vec4 q, vec3 v ){
  return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
    
  return acceleration;
}
`,M3e=`
vec3 rgb2xyz (in vec3 rgb) {
    float r = rgb.r;
	float g = rgb.g;
	float b = rgb.b;

	r = r > 0.04045 ? pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);
	g = g > 0.04045 ? pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);
	b = b > 0.04045 ? pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);

	float x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);
	float y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);
	float z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);
    
    vec3 xyz = vec3(
        (r * 0.4124) + (g * 0.3576) + (b * 0.1805) * 100.0,
        (r * 0.2126) + (g * 0.7152) + (b * 0.0722) * 100.0,
        (r * 0.0193) + (g * 0.1192) + (b * 0.9505) * 100.0
    );
    return(xyz);
}

vec3 xyz2lab (in vec3 xyz) {
	float x = xyz.x / 95.047;
	float y = xyz.y / 100.0;
	float z = xyz.z / 108.883;

	x = x > 0.008856 ? pow(x, 1.0 / 3.0) : (7.787 * x) + (16.0 / 116.0);
	y = y > 0.008856 ? pow(y, 1.0 / 3.0) : (7.787 * y) + (16.0 / 116.0);
	z = z > 0.008856 ? pow(z, 1.0 / 3.0) : (7.787 * z) + (16.0 / 116.0);

    vec3 lab = vec3((116.0 * y) - 16.0, 500.0 * (x - y), 200.0 * (y - z));
    return(lab);
}

vec3 rgb2lab(in vec3 rgb) {
    vec3 xyz = rgb2xyz(rgb);
    vec3 lab = xyz2lab(xyz);
    return(lab);
}

vec3 xyz2rgb (in vec3 xyz) {
	float x = xyz.x / 100.0;
	float y = xyz.y / 100.0;
	float z = xyz.z / 100.0;
	
    
	float r = (x *  3.2406) + (y * -1.5372) + (z * -0.4986);
	float g = (x * -0.9689) + (y *  1.8758) + (z *  0.0415);
	float b = (x *  0.0557) + (y * -0.2040) + (z *  1.0570);

	r = r > 0.0031308 ? ((1.055 * pow(r, 1.0 / 2.4)) - 0.055) : r * 12.92;
	g = g > 0.0031308 ? ((1.055 * pow(g, 1.0 / 2.4)) - 0.055) : g * 12.92;
	b = b > 0.0031308 ? ((1.055 * pow(b, 1.0 / 2.4)) - 0.055) : b * 12.92;

	r = min(max(0.0, r), 1.0);
	g = min(max(0.0, g), 1.0);
	b = min(max(0.0, b), 1.0);

	return(vec3(r, g, b));
}

vec3 lab2xyz (in vec3 lab) {
    float l = lab.x;
	float a = lab.y;
	float b = lab.z;

  	float y = (l + 16.0) / 116.0;
	float x = a / 500.0 + y;
	float z = y - b / 200.0;

	float y2 = pow(y, 3.0);
	float x2 = pow(x, 3.0);
	float z2 = pow(z, 3.0);

  	y = y2 > 0.008856 ? y2 : (y - 16.0 / 116.0) / 7.787;
	x = x2 > 0.008856 ? x2 : (x - 16.0 / 116.0) / 7.787;
	z = z2 > 0.008856 ? z2 : (z - 16.0 / 116.0) / 7.787;

	x *= 95.047;
	y *= 100.0;
	z *= 108.883;

	return(vec3(x, y, z));
}
vec3 lab2rgb (in vec3 lab) {
    vec3 xyz = lab2xyz(lab);
    vec3 rgb = xyz2rgb(xyz);
    return(rgb);
}

`,j3e=`
  uniform sampler2D uPosition;
  uniform float uSize;
  uniform float uSizeEnd;
  uniform vec3 uWorldOffset;
  uniform vec4 uWorldQuaternion;
  // Billboard Behavior - Currently at Zero, but we can change that
  uniform float uRotation;
  uniform float uRotationEnd;
  uniform vec2 center;

  // Randomness
  uniform float uRandScaleFactor;
  uniform float uRandRotationFactor;

  attribute vec2 ref;

  varying float v_LifeLeft;    // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  ${A3e}
  ${EH}
`,I3e=({easeSize:e="linearFadeOut"})=>`
  vUv = uv;  
  vRef = ref;
  // Normalized LifeTime 1 to 0
  float lifeLeft = texture2D(uPosition, ref).w;
  v_LifeLeft = lifeLeft;
  // Position From DataTexture Simulation
  vec3 pos = texture2D(uPosition, ref).rgb - uWorldOffset;
  // Apply World Quaternion
  pos = applyQuaternionToVector(uWorldQuaternion, pos);  
            
  #ifdef  USE_SIZE_END
    // Scaled Over Time
    float t = 1. - lifeLeft;
    float currentSize = mix(uSize, uSizeEnd, t); // Linearly interpolate between uSize and uSizeEnd
    vec3 scaledPosition = position * vec3(currentSize);
  #else
    // Change Size Behavior over LifeTime
    float easeSize = ${e}(1. - lifeLeft);
    // Scaled Over Time
    vec3 scaledPosition = position * vec3(uSize * easeSize);
  #endif

  // Billboard Behavior
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );    
  // Randomness 
  float randRef = rand(ref);
  scale *= (1.0 - (uRandScaleFactor * randRef));
  // Rotation
  float randRotation =  2.0 * PI * ( uRandRotationFactor * randRef);
  float originalRotation = (1.0 - uRotation) * 2.0 * PI;
  float originalRotationEnd = (1.0 - uRotationEnd) * 2.0 * PI;
  // OverTime
  float finalRotation = mix(originalRotation + randRotation, originalRotationEnd + randRotation, lifeLeft);

  vec2 alignedPosition = ( scaledPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( finalRotation ) * alignedPosition.x - sin( finalRotation ) * alignedPosition.y;
  rotatedPosition.y = sin( finalRotation ) * alignedPosition.x + cos( finalRotation ) * alignedPosition.y;
  
  mat4 instanceMatrix = mat4(
    vec4(1.0, 0.0, 0.0, 0.0),
    vec4(0.0, 1.0, 0.0, 0.0),
    vec4(0.0, 0.0, 1.0, 0.0),
    vec4(pos.x, pos.y, pos.z, 1.0)
  );  

  mvPosition = modelViewMatrix * instanceMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  mvPosition.xy += rotatedPosition;
  gl_Position = projectionMatrix  * mvPosition;   
`,P3e=`
  uniform vec4 uColor;                // start color
  uniform vec4 uColor2;               // end color
  uniform sampler2D uTexture;         // texture
  varying float v_LifeLeft;   // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  float random(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
  }
  `+EH+`  
  ${M3e}

`,k3e=({easeOpacity:e="linearFadeOut"})=>`  
  // if Particle is dead, hide it
  if (v_LifeLeft <= 0.005 ) {
    discard;
  }

  #ifdef USE_RANDOM_COLORING
    float randVal = random(vRef); // Generate a random value based on the reference
    vec4 color = mix(uColor, uColor2, randVal); // Interpolate between the two colors
  #else
    vec4 color = mix(uColor, uColor2, 1. - v_LifeLeft);
  #endif

  // Opacity over Life Time
  float finalAlpha = ${e}(1. - v_LifeLeft);  
  vec4 textureColor = texture2D(uTexture, vUv).rgba; 
  finalColor = textureColor.rgb * color.rgb;
  finalAlpha = color.a * textureColor.a * finalAlpha;
  
  gl_FragColor = vec4(finalColor, finalAlpha);     

`,D3e=class extends Ht{constructor(e,t){super(),this.needsJitter=!0,this.type="ParticleMaterial",this.easeOpacity="linearFadeIn",this.easeSize="linearFadeIn",this.useSizeEnd=!1,this.isColoringRandom=!1,this.init(e,t),this.context=t}reset(){}init(e,t){this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.easeOpacity=e.ease,this.easeSize=e.easeSize,this.layers=[],vr.startContext(vr.globalContext),this.lightLayer=new Qo(0,"",{...Ir.defaultData("light","phong"),visible:!1},new nj,{},t.shared),vr.endContext(vr.globalContext),this.build()}updateState(e){e.coloring!==void 0&&(this.isColoringRandom=e.coloring==="random"),e.color!==void 0&&(e.color instanceof Array?this.uniforms.uColor.value=e.color:this.uniforms.uColor.value=this.context.shared.color(e.color)),e.color2!==void 0&&(e.color2 instanceof Array?this.uniforms.uColor2.value=e.color2:this.uniforms.uColor2.value=this.context.shared.color(e.color2)),e.size!==void 0&&(this.uniforms.uSize.value=e.size[0],this.uniforms.uSizeEnd.value=e.size[1],e.size[0]!==e.size[1]?this.useSizeEnd=!0:this.useSizeEnd=!1),e.ease!==void 0&&(this.easeOpacity=e.ease,this.build()),e.easeSize!==void 0&&(this.easeSize=e.easeSize,this.build()),this.needsUpdate=!0}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader}build(){let e=new _V;return e.needsJitter=this.needsJitter,e.addFragmentParsCode(twe),e.buildShader("vertex",this.fragment),e.buildShader("fragment",this.fragment),e.addFragmentFinalCode(iwe),this.isColoringRandom&&e.define("USE_RANDOM_COLORING"),this.useSizeEnd&&e.define("USE_SIZE_END"),e.addVertexParsCode(j3e),e.addFragmentParsCode(P3e),e.addVertexFinalCode(I3e({easeSize:this.easeSize})),e.addFragmentFinalCode(k3e({easeOpacity:this.easeOpacity})),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms={...e.uniforms,...this.uniforms},this.extensions=e.extensions,this}get nodeMaterial(){return this}get fragment(){return this.lightLayer.node}getDefines(){return this.defines}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose()}},tC=class{constructor(e,t,i,r){this.type="SphereEmitterShape",this.targetMesh=void 0,this.size=e,this.type=i,this.textureSize=v3e(t);let n=1;this.targetMesh=(r==null?void 0:r.type)==="Mesh"&&r?r:this.getMesh(i,n);let{positions:a,dataTexture:c,dataTextureNormals:l}=this.createPositions(this.textureSize,this.targetMesh??this.getMesh(i,n));this.positionsTexture=c,this.positionsAttribute=a,this.directionsTexture=l}createPositions(e,t){let{positions:i,normals:r}=y3e(t,e*e),n=WO(i,e),a=WO(r,e);return{dataTexture:n,positions:i,dataTextureNormals:a}}getMesh(e,t){let i=null;switch(e){case"SphereEmitterShape":{i=new vp(t*.5,32,32);break}case"TorusEmitterShape":{i=new rF(t*.5,.3,15,40);break}case"ConeEmitterShape":{i=new dM(t,t,15);break}case"BoxEmitterShape":{i=new Mo(t,t,t);break}case"PlaneEmitterShape":{i=new _s(t,t),i.rotateX(-Math.PI/2);break}case"MeshEmitterShape":{i=new vp(t,32,32);break}default:{i=new vp(t,32,32);break}}return new gi(i,new Pl({color:16711680}))}applyToShader(e,t){this.size=new N().fromArray(t.size),e.uEmitterSize.value=this.size}dispose(){this.positionsTexture.dispose(),this.directionsTexture.dispose(),this.positionsAttribute=new Float32Array}};function Oh(e){let t={...e},i=fx.defaultData;t.forceFieldObjectId&&(t.colliderEntityId=t.forceFieldObjectId);let r={...i.shape,...t.shape},n={...i.renderMaterial,...t.renderMaterial};return{...i,...t,shape:r,renderMaterial:n}}var O3e=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU

uniform sampler2D uIndex; // Texture with corresponding index
uniform float uLastIndexEmitted; // Last emitted index
uniform float uParticlesToEmit; // Number of particles to emit on that frame
uniform float uTime;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    float particleIndex = texture(uIndex, vUv).x;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;    // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;


    // ********** Detect Colision to Create a flag and use it in position **********
    // We are doing this here, so

    // ********** Emit Particles **********
    // X = isSpawning 0.0 or 1.0
    // Y = isActive 0.0 or 1.0
    // Check if the vertex index is between the first value and the last value
    // if (particleIndex >= uLastIndexEmitted && particleIndex < uLastIndexEmitted + uParticlesToEmit) {
    //     // Emit a particle by writing 1 to the red channel of the color output
    //     // r: 1. == emit the particle
    //     // g: 1. == particle is now active
    //     timeStart = uTime;
    //     gl_FragColor = vec4(1.0, 1.0, timeStart, 1.0);
    // } else {
    //     // The Particle is either already emitted or not in the range of the particles to emit
    //     // Do not emit a particle by writing 0 to the red channel of the color output        
    //     gl_FragColor = vec4(0.0, isActive, timeStart, 1.0);
    // }
    // Determine if the particle is within the emission range
    float emitLowerBound = step(uLastIndexEmitted, particleIndex);
    float emitUpperBound = step(particleIndex, uLastIndexEmitted + uParticlesToEmit - 1.0);
    float emitParticle = emitLowerBound * emitUpperBound; // 1.0 if in range, 0.0 otherwise

    // Set timeStart and color
    timeStart = mix(timeStart, uTime, emitParticle);
    gl_FragColor = vec4(emitParticle, mix(isActive, 1.0, emitParticle), timeStart, 1.0);


}
`,iC=10,R3e=class extends ti{constructor(e,t){super(),this.type="ParticleEmitter",this.debugMode=!1,this.worldSpace=!0,this.rootObject=null,this.gpuCompute=null,this.positionSimRT=null,this.velocitySimRT=null,this.emissionRateSimRT=null,this.emitterShape=void 0,this.isEmitting=!1,this.hasBeenReset=!1,this.emittedParticlesAmount=0,this.lastEmitTime=0,this.globalTime=0,this.targetFPS=60,this.previousRatio=1,this.lerpFactor=.4,this.particlesAmount=0,this.noiseStrength=0,this.noiseScale=0,this.isBillboardBased=!0,this.simFeaturesDefinition={USE_COLLIDER:!1,USE_ATTRACTOR:!1,USE_VORTEX:!1,USE_SPHERE_COLLIDER:!1,USE_BOX_COLLIDER:!1,USE_FORCE_LOCAL_SPACE:!1,USE_NORMALS:!1,USE_CURL_NOISE:!0,USE_SIMPLEX_NOISE:!1,USE_FBM_NOISE:!1},this.textureLoader=new Eue,this.currentWorldPosition=new N,this.systemQuaternion=new mt,this.worldGravity=new N(0,0,0),this.directionAxis=new N(0,0,0),this.colliderV3=new N(0,0,0),this.colliderQuaternion=new mt(0,0,0,1),this.matrixAutoUpdate=!0,this.renderer=e,this.system=t,this.shared=t.context.shared;let i=t.data;this.material=new D3e(i.renderMaterial,t.context),this.material.uniforms={uSize:{value:0},uSizeEnd:{value:0},uColor:{value:i.renderMaterial.color},uColor2:{value:i.renderMaterial.color2},uPosition:{value:new N(0,0,0)},uEmissionData:{value:new N(0,0,0)},uTexture:{value:this.defaultTexture},uWorldOffset:{value:new N(0,0,0)},uWorldQuaternion:{value:new vt(0,0,0,1)},uRandScaleFactor:{value:i.randomScale??0},uRandRotationFactor:{value:i.randomRotation??0},uRotation:{value:i.renderMaterial.spriteRotation[0]??0},uRotationEnd:{value:i.renderMaterial.spriteRotation[1]??0}},this.setTexture(this.material.uniforms,i.renderMaterial.texture),this.init(i)}setTexture(e,t){let i=t.data;if(typeof t=="string"){let r=this.shared.image(t),n=new Ni(r.img);n.needsUpdate=!0,e.uTexture.value=n;return}if(typeof i!="string"){let r=new Image;r.onload=()=>{let c=new Ni(r);c.needsUpdate=!0,e.uTexture.value=c};let n=new Blob([i],{type:"image/*"}),a=URL.createObjectURL(n);r.src=a}}updateGeometryAttributes(e,t){var r;let i=g3e(t);!((r=this.emitterShape)!=null&&r.positionsAttribute)||e.geometry.setAttribute("ref",new Kg(i,2))}applyWorldSpace(){if(!this.system.started||!this.worldSpace||!this.positionSimRT||!this.velocitySimRT)return;let e=this.system;e.getWorldQuaternion(this.systemQuaternion),this.systemQuaternion.invert(),e.getWorldPosition(this.currentWorldPosition),this.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.positionSimRT.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.systemQuaternion.invert(),this.positionSimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.velocitySimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize())}update(e,t){var c;if(!this.gpuCompute||!this.positionSimRT||!this.velocitySimRT||!this.emissionRateSimRT||this.hasBeenReset)return;if(this.checkIfAllParticlesAreDead()&&!this.hasBeenReset){this.reset();return}this.applyWorldSpace(),this.globalTime=e,this.positionSimRT.material.uniforms.uTime.value=e,this.emissionRateSimRT.material.uniforms.uTime.value=e;let i=1e3/t,r=this.targetFPS/i,n=this.previousRatio+(r-this.previousRatio)*this.lerpFactor;this.positionSimRT.material.uniforms.uFPSRatio.value=n,this.previousRatio=n;let a=this.isEmitting?this.GoEmitSomeParticles(e,this.system.data.birthRatePerSec):0;this.emissionRateSimRT.material.uniforms.uLastIndexEmitted.value=this.emittedParticlesAmount,this.emissionRateSimRT.material.uniforms.uParticlesToEmit.value=a,this.material.uniforms.uPosition.value=(c=this.gpuCompute.getCurrentRenderTarget(this.positionSimRT))==null?void 0:c.texture,this.system.colliderEntities.length>0&&this.renderColliders(),this.gpuCompute.compute()}renderColliders(){if(!this.velocitySimRT)return;let e=this.system.colliderEntities[0],t=this.simFeaturesDefinition.USE_COLLIDER||this.simFeaturesDefinition.USE_ATTRACTOR||this.simFeaturesDefinition.USE_VORTEX;if(e.destroyedInAction&&t&&this.init(Oh({...this.system.data,colliderEntityId:null})),!e||e.destroyedInAction)return;e.getWorldPosition(this.colliderV3),this.colliderV3.y===0&&(this.colliderV3.y=1e-4),this.velocitySimRT.material.uniforms.uColliderPos.value.copy(this.colliderV3);let i=e.data.size;this.colliderV3.fromArray(i),this.velocitySimRT.material.uniforms.uColliderSize.value.copy(this.simFeaturesDefinition.USE_SPHERE_COLLIDER?this.colliderV3.multiplyScalar(.5):this.colliderV3),e.getWorldQuaternion(this.colliderQuaternion),this.velocitySimRT.material.uniforms.uColliderQuaternion.value.copy(this.colliderQuaternion.normalize()),this.velocitySimRT.material.uniforms.uColliderQuaternionInvert.value.copy(this.colliderQuaternion.normalize().invert())}updateState(e){!this.velocitySimRT||!this.positionSimRT||(e.renderMaterial&&this.updateMaterialState(e.renderMaterial),this.updateParticleState(e))}updateVariableState(e,t){if(!this.velocitySimRT||!this.positionSimRT)return;t[2]==="size"&&this.material.updateState({size:[e,this.material.uniforms.uSizeEnd.value]}),t[2]==="sizeEnd"&&this.material.updateState({size:[this.material.uniforms.uSize.value,e]});let i=(r,n)=>{let a=[...this.system.data.shape.size];a[r]=n,this.updateParticleState({shape:{...this.system.data.shape,size:a}})};t[2]==="shape_size_0"&&i(0,e),t[2]==="shape_size_1"&&i(1,e),t[2]==="shape_size_2"&&i(2,e),t[2]==="speed"&&(this.velocitySimRT.material.uniforms.uSpeed.value=e/iC),t[2]==="gravity"&&this.worldGravity.set(0,e/100,0),t[2]==="noiseStrength"&&(this.noiseStrength=e,this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),t[2]==="noiseScale"&&(this.noiseScale=e,this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),t[2]==="direction_x"&&(this.directionAxis=this.getDirectionAxis([Number(e),this.system.data.direction[1],this.system.data.direction[2]])),t[2]==="direction_y"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],Number(e),this.system.data.direction[2]])),t[2]==="direction_z"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],this.system.data.direction[1],Number(e)]))}updateMaterialState(e){this.material.updateState({...e,size:e.size?[Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","size"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","sizeEnd"]))]:[0,0]}),e.texture&&(this.setTexture(this.material.uniforms,e.texture),this.material.needsUpdate=!0)}updateParticleState(e){var t,i,r;if(!(!this.positionSimRT||!this.velocitySimRT)){if(this.shouldReInitGPUCompute(e)&&this.init(Oh(this.system.data)),e.life!==void 0&&(this.positionSimRT.material.uniforms.uMaxLifeTime.value=e.life),e.speed!==void 0&&(this.velocitySimRT.material.uniforms.uSpeed.value=Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/iC),e.collisionBounce!==void 0&&(this.velocitySimRT.material.uniforms.uBounce.value=e.collisionBounce),e.noiseStrength!==void 0&&(this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),e.noiseScale!==void 0&&(this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"])),this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),e.noiseSeed!==void 0&&(this.velocitySimRT.material.uniforms.uNoiseSeed.value=e.noiseSeed),e.randomMass!==void 0&&(this.velocitySimRT.material.uniforms.uRandomMassFactor.value=e.randomMass),((t=e.renderMaterial)==null?void 0:t.size)!==void 0){let n=this.shared.getVariable(e.renderMaterial.size[0],[this.uuid,"particles","size"]);this.velocitySimRT.material.uniforms.particleSize.value=Number(n)}if(((i=e.renderMaterial)==null?void 0:i.spriteRotation)!==void 0&&(this.material.uniforms.uRotation.value=e.renderMaterial.spriteRotation[0],this.material.uniforms.uRotationEnd.value=e.renderMaterial.spriteRotation[1]),e.shape!==void 0){let n=e.shape.size??this.system.data.shape.size,a=[Number(this.shared.getVariable(n[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(n[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(n[2],[this.uuid,"particles","shape_size_2"]))],c={...Oh(this.system.data).shape,size:a};(r=this.emitterShape)==null||r.applyToShader(this.positionSimRT.material.uniforms,c)}if(e.gravity!==void 0&&(this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.velocitySimRT.material.uniforms.uGravity={value:this.worldGravity}),e.direction!==void 0){let n=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(n),this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis}e.randomRotation!==void 0&&(this.material.uniforms.uRandRotationFactor.value=e.randomRotation),e.randomScale!==void 0&&(this.material.uniforms.uRandScaleFactor.value=e.randomScale)}}updateForceFieldParameters(e){!this.velocitySimRT||(e.forceIntensity!==void 0&&(this.velocitySimRT.material.uniforms.uForceIntensity.value=e.forceIntensity),e.forceDambing!==void 0&&(this.velocitySimRT.material.uniforms.uForceDamping.value=e.forceDambing))}getDirectionAxis(e){let t=[Number(e[0])*Ve.DEG2RAD,Number(e[1])*Ve.DEG2RAD,Number(e[2])*Ve.DEG2RAD],i=new yr(t[0],t[1],t[2],"XYZ");return this.directionAxis.set(0,1,0).applyEuler(i).normalize(),this.velocitySimRT&&(this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis),this.directionAxis}shouldReInitGPUCompute(e){let{birthRatePerSec:t,rootObjectType:i,colliderEntityId:r,shape:n,emitTimeDuration:a,emitTimeCycle:c,life:l,directionMode:o,noiseType:s}=e;return t!==void 0||i!==void 0||r||r===null||c!==void 0||n!==void 0||l!==void 0||a!==void 0||o!==void 0||s!==void 0}init(e){this.dispose(),this.particlesAmount=this.getMaxParticlesAmount({birthRatePerSecond:e.birthRatePerSec,particleMaxLifeTime:e.life,loopDuration:e.emitTimeCycle==="infinity"?0:e.emitTimeDuration}),this.particlesAmount>1e5&&(console.warn("The maximum number of particles is limited to 100000."),this.particlesAmount=1e5),this.emitterShape=this.createShape(e.shape,this.particlesAmount);let t=setInterval(()=>{if(this.emitterShape)if(isNaN(this.emitterShape.positionsTexture.source.data.data[0])){this.init(e);return}else clearInterval(t)},100);if(!this.emitterShape)return;let i=new f3e(this.emitterShape.textureSize,this.emitterShape.textureSize,this.renderer),r=this.updateSimulationDefinition(e),n=i.addVariable("uCurrentPosition",r+w3e,this.emitterShape.positionsTexture),a=i.addVariable("uCurrentVelocity",r+T3e,this.emitterShape.directionsTexture),c=i.addVariable("uCurrentEmissionRate",O3e,x3e(this.emitterShape.textureSize));i.setVariableDependencies(n,[n,a,c]),i.setVariableDependencies(a,[n,a,c]),i.setVariableDependencies(c,[n,a,c]);let l=b3e({size:this.emitterShape.textureSize}),o={uOriginalPosition:{value:this.emitterShape.positionsTexture},uWorldOffset:{value:new N(0,0,0)},uWorldQuaternion:{value:new vt(0,0,0,1)},uTime:{value:0},uFPSRatio:{value:1},uMaxLifeTime:{value:e.life},uEmitterSize:{value:new N(Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"])))},particleSize:{value:0}};n.material.uniforms=o;let s=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(s),this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"]));let u=e.colliderEntityId&&this.system.getColliderData(e.colliderEntityId),d={uOriginalPosition:{value:this.emitterShape.positionsTexture},uDirections:{value:this.emitterShape.directionsTexture},uDirectionsAxis:{value:this.directionAxis},uWorldQuaternion:{value:new vt(0,0,0,1)},uColliderPos:{value:new N(0,0,0)},uColliderSize:{value:new N(0,0,0)},uForceIntensity:{value:u?u.forceIntensity:0},uForceDamping:{value:u?u.forceDambing:0},uColliderQuaternion:{value:new vt(0,0,0,1)},uColliderQuaternionInvert:{value:new vt(0,0,0,1)},particleSize:{value:0},uGravity:{value:this.worldGravity},uNoiseStrength:{value:this.noiseStrength},uNoiseScale:{value:this.noiseScale},uNoiseSeed:{value:e.noiseSeed},uRandomMassFactor:{value:e.randomMass},uBounce:{value:e.collisionBounce},uSpeed:{value:Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/iC}};a.material.uniforms=d;let h={uIndex:{value:l},uTime:{value:0},uLastIndexEmitted:{value:0},uParticlesToEmit:{value:0}};c.material.uniforms=h;let p=[Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"]))],m={...Oh(this.system.data).shape,size:p};this.emitterShape.applyToShader(n.material.uniforms,m),i.init(),this.gpuCompute=i,this.positionSimRT=n,this.velocitySimRT=a,this.emissionRateSimRT=c,this.rootObject=this.createPrimaryEmitter(this.emitterShape.textureSize),this.add(this.rootObject),this.material.needsUpdate=!0}getDirectionFromVariable(e){let t=Number(this.shared.getVariable(e[0],[this.uuid,"particles","direction_x"])),i=Number(this.shared.getVariable(e[1],[this.uuid,"particles","direction_y"])),r=Number(this.shared.getVariable(e[2],[this.uuid,"particles","direction_z"]));return[t,i,r]}updateSimulationDefinition(e){if(this.simFeaturesDefinition.USE_COLLIDER=!1,this.simFeaturesDefinition.USE_ATTRACTOR=!1,this.simFeaturesDefinition.USE_VORTEX=!1,this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!1,this.simFeaturesDefinition.USE_BOX_COLLIDER=!1,this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!1,this.simFeaturesDefinition.USE_NORMALS=!1,this.simFeaturesDefinition.USE_CURL_NOISE=!1,this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!1,this.simFeaturesDefinition.USE_FBM_NOISE=!1,e.colliderEntityId&&this.system.colliderEntities.length>0){let i=this.system.getColliderData(e.colliderEntityId);switch(i==null?void 0:i.forceType){case"attractor":this.simFeaturesDefinition.USE_ATTRACTOR=!0;break;case"collider":this.simFeaturesDefinition.USE_COLLIDER=!0;break;case"vortex":this.simFeaturesDefinition.USE_VORTEX=!0;break}let r=i==null?void 0:i.colliderType;r==="sphere"&&(this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!0),r==="box"&&(this.simFeaturesDefinition.USE_BOX_COLLIDER=!0),(i==null?void 0:i.forceRange)==="helper"&&(this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!0)}e.directionMode==="normals"&&(this.simFeaturesDefinition.USE_NORMALS=!0),e.noiseType==="curl"&&(this.simFeaturesDefinition.USE_CURL_NOISE=!0),e.noiseType==="simplex"&&(this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!0),e.noiseType==="fbm"&&(this.simFeaturesDefinition.USE_FBM_NOISE=!0);let t="";for(let[i,r]of Object.entries(this.simFeaturesDefinition))r&&(t+=`#define ${i}
`);return t}createShape(e,t){this.emitterShape&&this.emitterShape.dispose();let i=new N(Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.size[2],[this.uuid,"particles","shape_size_2"])));if(e.type==="MeshEmitterShape"){let r=null;return this.system.context.scene.traverseEntity(n=>{n.uuid===e.fromMeshId&&(r=n)}),r?new tC(i,t,e.type,r):new tC(i,t,"SphereEmitterShape")}else return new tC(i,t,e.type)}createPrimaryEmitter(e){let t,i=e*e;return t=new zce(new _s(1,1,1),this.material,i),this.updateGeometryAttributes(t,e),this.material.needsUpdate=!0,t.onBeforeRender=()=>{this.applyWorldSpace()},t}getMaxParticlesAmount({birthRatePerSecond:e,particleMaxLifeTime:t,loopDuration:i=0}){return Math.ceil(e*(t+i))}dispose(){var e,t,i;!this.gpuCompute||((t=(e=this.rootObject)==null?void 0:e.parent)==null||t.remove(this.rootObject),this.gpuCompute.dispose(),this.material.nodeMaterialDispose(),(i=this.emitterShape)==null||i.dispose())}GoEmitSomeParticles(e,t){let i=e-this.lastEmitTime,r=1/t;if(i>=r){let n=Math.max(1,Math.floor(i/r));return this.lastEmitTime=e,this.emittedParticlesAmount+n>this.particlesAmount&&(this.emittedParticlesAmount=0),this.emittedParticlesAmount+=n,n}return 0}checkIfAllParticlesAreDead(){return this.lastEmitTime+this.system.data.life+1<this.globalTime}reset(){this.hasBeenReset=!0,this.lastEmitTime=0,this.emittedParticlesAmount=0,this.gpuCompute&&this.init(Oh(this.system.data))}startEmitting(e){this.isEmitting=!0,this.hasBeenReset=!1,this.lastEmitTime=e}stopEmitting(){this.isEmitting=!1}},cg=class extends zn{constructor(e,t,i){super(e,t),this.type="ParticleSystem",this.geometry=new Qe,this.actualTime=0,this.currentLoopTime=0,this.started=!1,this.stopped=!1,this.timeoutId=void 0,this.isFrozen=!1,this.isIdle=!0,this.emitter=null,this.colliderEntities=[],this.renderer=null,this.isPreWarm=!1,this._hasOnAfterRenderBeenCalled=!1,this.onAfterRender=r=>{this._hasOnAfterRenderBeenCalled||(this._hasOnAfterRenderBeenCalled=!0,this.init(r))},this.context=i,this.data={...t,...Oh(t)},this.geometry.setAttribute("position",new Fe([],3)),this.material=new Pl({colorWrite:!1}),this.frustumCulled=!1}init(e){this.renderer=e,this.emitter=new R3e(e,this),this.add(this.emitter),this.updateParticleState(this.data)}update(e){if(!this.isReady||!this.started||this.isFrozen||this.isIdle)return;this.actualTime+=e,this.stopped||(this.currentLoopTime+=e);let t=this.data.emitTimeCycle==="one_time";if((this.data.emitTimeCycle==="loop"||t)&&this.currentLoopTime>this.data.emitTimeDuration*1e3&&(this.stopped||(this.stop(),t||this.start(this.data.emitTimeDelay*1e3))),this.emitter&&this.started){let i=this.actualTime/1e3;this.emitter.update(i,e)}this.scale.set(1,1,1),this.updateMatrix()}isReady(){return!!this.emitter}hasCollider(e){return this.colliderEntities.some(t=>t.identity===e)}getColliderData(e){let t=this.colliderEntities.find(i=>i.identity===e);return t?t.data:null}updateByPatchedOp(e,t,i){super.updateByPatchedOp(e,t,i),hi(e.path,["renderMaterial"])&&this.updateParticleState({renderMaterial:{...this.data.renderMaterial,...Or.drop(e,1).props}}),hi(e.path,["shape"])&&this.updateParticleState({shape:{...this.data.shape,...Or.drop(e,1).props}})}updateState(e,t){super.updateState(e,t),this.updateParticleState(e)}updateParticleState(e){if(this.emitter){if(e.colliderEntityId!==void 0&&e.colliderEntityId!==null){let t=this.context.scene.find(e.colliderEntityId);this.colliderEntities=t?[t]:[]}e.colliderEntityId===null&&(this.colliderEntities=[]),this.emitter.updateState(e),e.emitTimeCycle&&this.started&&this.start()}}updateFromColliderEntity(e){!this.emitter||(this.emitter.updateForceFieldParameters(e),this.stop(),this.start())}start(e=0){var t;if(this.currentLoopTime=0,e){this.timeoutId=window.setTimeout(()=>{this.start(0)},e);return}this.started=!0,this.stopped=!1,this.isFrozen=!1,(t=this.emitter)==null||t.startEmitting(this.actualTime/1e3)}froze(){this.isFrozen=!0}unFroze(){this.isFrozen=!1}stop(){var e;this.stopped=!0,this.currentLoopTime=0,(e=this.emitter)==null||e.stopEmitting(),clearTimeout(this.timeoutId)}reset(){var e;this.started=!1,this.stopped=!1,(e=this.emitter)==null||e.reset()}wakeUp(){this.isIdle=!1}sleep(){this.isIdle=!0,this.reset()}};function N3e(){try{let e=window.location.href;if(e.includes("reducesubdiv=")){let t=e.indexOf("reducesubdiv=")+13;return parseInt(e.slice(t,t+1))}}catch{}}var rC=N3e();function L3e(e,t,i){var n;rC!==void 0&&(((n=t==null?void 0:t.geometry)==null?void 0:n.subdivisions)??0)>rC&&(console.log("reducing subdivisions",t.name,t.geometry.subdivisions),t.geometry.subdivisions=rC);let r;return t.geometry.type==="TextGeometry"?new dj(e,t,i):t.geometry.type==="InputGeometry"?new bj(e,t,i):(t.geometry.type==="SubdivGeometry"?r=new pv(e,t,i):t.geometry.type==="PathGeometry"?r=new yj(e,t,i):t.geometry.type==="VectorGeometry"?r=new h3e(e,t,i):t.geometry.type==="BooleanGeometry"?r=new Rd(e,t,i):t.geometry.type==="ShapeBlendGeometry"?r=new Nd(e,t,i):t.geometry.type==="UIGeometry"?r=new gn(e,t,i):r=new sr(e,t,i),r)}function wj(e,t,i){return console.assert(t.type!==void 0),t.type==="Mesh"?L3e(e,t,i):t.type==="Empty"?new Ap(e,t):t.type==="Particle"?new cg(e,t,i):t.type==="ParticleCollider"?new lg(e,t,i):t.type==="Splat"?new Ap(e,t):t.type==="Bone"?new p3e(e,t):t.type==="Page"?new kr(e,t,i):t.type==="PointLight"?new d3e(e,t,i):t.type==="SpotLight"?new fH(e,t,i):t.type==="DirectionalLight"?new pH(e,t,i):t.type==="Component"||t.type==="Instance"?new Mp(e,t,i):kd.is(t.type)?new yn(e,t):(console.error(t),new Ap(e,t))}Ic.createEntity=wj;function z3e(e,t,i){let r=wj(e.identity,t,i),n=e.children,a=e.attachedPaths,c=e.parent,l=e.component,o=e.instances,s=e.overrideData,u=e.uuid,d=e.stateSelection;e.dispose();for(let h of Object.keys(e))delete e[h];Object.setPrototypeOf(e,Object.getPrototypeOf(r));for(let h of Object.keys(r))e[h]=r[h];e.children=[...e.children,...n],e.attachedPaths=a,e.parent=c,e.component=l,e.instances=o,e.uuid=u,e.overrideData=s,e.updateState(e.data,i),d&&e.changeSelectedState(d,i),e.resetBBoxNeedsUpdate()}Ic.changeEntityProptotype=z3e;Ic.Cloner=Ba;function B3e(e,t,i,r){e.updateByOp(t,i,r,!1)}var Wu=5,ug=new Qe;ug.setAttribute("position",new ct(new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),3));var O1=class extends mue{constructor(e){super({...e,depthTest:!1,depthWrite:!1,glslVersion:o3,vertexShader:`
				precision highp float;
				in vec3 position;
				void main() {
					gl_Position = vec4(position, 1);
				}
			`})}customProgramCacheKey(){return""}};function F3e(){return{shapeInput:()=>`
			const float posRowCoord = ${.5/Wu};  // vec4: px py pz opType
			const float quatRowCoord = ${1.5/Wu};  // vec4: qx qy qz qw
			const float param1RowCoord = ${2.5/Wu};// vec4: type param1 param2 param3
			const float param2RowCoord = ${3.5/Wu};// vec4: blendRange roundness scale param4
			const float colorRowCoord = ${4.5/Wu}; // vec4: r g b a
			uniform sampler2D shapesDataTexture;
			vec4 shapePos(float iin) { 
				vec4 r = texture(shapesDataTexture, vec2(iin, posRowCoord));
				return r;
			}
			vec4 shapeQuat(float iin) {
				vec4 r = texture(shapesDataTexture, vec2(iin, quatRowCoord));
				return r;
			}
			vec4 shapeParams1(float iin) {
				vec4 r = texture(shapesDataTexture, vec2(iin, param1RowCoord));
				return r;
			}
			vec4 shapeParams2(float iin) {
				vec4 r = texture(shapesDataTexture, vec2(iin, param2RowCoord));
				return r;
			}
			vec4 shapeColor(float iin) {
				vec4 r = texture(shapesDataTexture, vec2(iin, colorRowCoord));
				return r;
			}
		`,getxyzi:`
			// this code must complement lookup
			float xi = mod(gl_FragCoord.x - 0.5, VOXEL_RESOLUTION);
			float yi = mod(gl_FragCoord.y - 0.5, VOXEL_RESOLUTION);
			float zi = floor((gl_FragCoord.x - 0.5) * INV_VOXEL_RESOLUTION) + floor((gl_FragCoord.y - 0.5) * INV_VOXEL_RESOLUTION) * Z_LAYERS_PER_ROW;
		`,lookup:`
			uniform sampler2D potentialPassTexture;
			uniform sampler2D voxelPassTexture; // includes normal (in xyz) and key (in w)
			
			// box or marching cube lookup value in value texture, integer box coord inputs
			// this code must complement codebits.getxyzi
			vec4 look(float xi, float yi, float zi, sampler2D rt) {// range 0 .. numv etc
				vec2 uv = vec2(
					mod(zi, Z_LAYERS_PER_ROW) + (xi + 0.5) / VOXEL_RESOLUTION,
					floor(zi / Z_LAYERS_PER_ROW) + (yi + 0.5) / VOXEL_RESOLUTION
				); 
				uv /= Z_LAYERS_PER_ROW;
				return texture(rt, uv);
			}
		`,getpart:`
			float getpart(inout float a, float b) {
				float t = floor(a/b);
				float r = a - t*b;
				a = t;
				return r;
			}
		`,triTable:new Float32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,8,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,8,1,1,8,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,8,0,10,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,2,9,9,2,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,8,2,8,10,2,8,9,10,-1,-1,-1,-1,-1,-1,-1,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,11,0,0,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,11,3,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,11,1,11,9,1,11,8,9,-1,-1,-1,-1,-1,-1,-1,1,10,3,3,10,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,10,0,10,8,0,10,11,8,-1,-1,-1,-1,-1,-1,-1,0,9,3,9,11,3,9,10,11,-1,-1,-1,-1,-1,-1,-1,10,8,9,11,8,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,4,4,3,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,1,0,7,4,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,1,4,1,7,4,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,2,1,7,4,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,4,3,4,0,3,10,2,1,-1,-1,-1,-1,-1,-1,-1,10,2,9,2,0,9,7,4,8,-1,-1,-1,-1,-1,-1,-1,9,10,2,7,9,2,3,7,2,4,9,7,-1,-1,-1,-1,7,4,8,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,4,11,4,2,11,4,0,2,-1,-1,-1,-1,-1,-1,-1,1,0,9,7,4,8,11,3,2,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,9,2,11,9,1,2,9,-1,-1,-1,-1,1,10,3,10,11,3,4,8,7,-1,-1,-1,-1,-1,-1,-1,10,11,1,11,4,1,4,0,1,4,11,7,-1,-1,-1,-1,8,7,4,11,0,9,10,11,9,3,0,11,-1,-1,-1,-1,11,7,4,9,11,4,10,11,9,-1,-1,-1,-1,-1,-1,-1,4,5,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,5,9,3,8,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,5,0,0,5,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,5,8,5,3,8,5,1,3,-1,-1,-1,-1,-1,-1,-1,10,2,1,4,5,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,0,3,10,2,1,5,9,4,-1,-1,-1,-1,-1,-1,-1,10,2,5,2,4,5,2,0,4,-1,-1,-1,-1,-1,-1,-1,5,10,2,5,2,3,4,5,3,8,4,3,-1,-1,-1,-1,4,5,9,11,3,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,11,0,11,8,0,5,9,4,-1,-1,-1,-1,-1,-1,-1,4,5,0,5,1,0,11,3,2,-1,-1,-1,-1,-1,-1,-1,5,1,2,8,5,2,11,8,2,5,8,4,-1,-1,-1,-1,11,3,10,3,1,10,4,5,9,-1,-1,-1,-1,-1,-1,-1,5,9,4,1,8,0,1,10,8,10,11,8,-1,-1,-1,-1,0,4,5,11,0,5,10,11,5,3,0,11,-1,-1,-1,-1,8,4,5,10,8,5,11,8,10,-1,-1,-1,-1,-1,-1,-1,8,7,9,9,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,9,3,5,9,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,7,0,7,1,0,7,5,1,-1,-1,-1,-1,-1,-1,-1,3,5,1,7,5,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,7,9,7,5,9,2,1,10,-1,-1,-1,-1,-1,-1,-1,2,1,10,0,5,9,0,3,5,3,7,5,-1,-1,-1,-1,2,0,8,5,2,8,7,5,8,2,5,10,-1,-1,-1,-1,5,10,2,3,5,2,7,5,3,-1,-1,-1,-1,-1,-1,-1,5,9,7,9,8,7,2,11,3,-1,-1,-1,-1,-1,-1,-1,7,5,9,2,7,9,0,2,9,11,7,2,-1,-1,-1,-1,11,3,2,8,1,0,8,7,1,7,5,1,-1,-1,-1,-1,1,2,11,7,1,11,5,1,7,-1,-1,-1,-1,-1,-1,-1,8,5,9,7,5,8,3,1,10,11,3,10,-1,-1,-1,-1,0,7,5,9,0,5,0,11,7,10,0,1,0,10,11,-1,0,10,11,3,0,11,0,5,10,7,0,8,0,7,5,-1,5,10,11,5,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,8,0,6,10,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,9,6,10,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,8,1,8,9,1,6,10,5,-1,-1,-1,-1,-1,-1,-1,5,6,1,1,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,6,1,6,2,1,8,0,3,-1,-1,-1,-1,-1,-1,-1,5,6,9,6,0,9,6,2,0,-1,-1,-1,-1,-1,-1,-1,8,9,5,2,8,5,6,2,5,8,2,3,-1,-1,-1,-1,11,3,2,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,0,11,0,2,11,5,6,10,-1,-1,-1,-1,-1,-1,-1,9,1,0,11,3,2,6,10,5,-1,-1,-1,-1,-1,-1,-1,6,10,5,2,9,1,2,11,9,11,8,9,-1,-1,-1,-1,11,3,6,3,5,6,3,1,5,-1,-1,-1,-1,-1,-1,-1,11,8,0,5,11,0,1,5,0,6,11,5,-1,-1,-1,-1,6,11,3,6,3,0,5,6,0,9,5,0,-1,-1,-1,-1,9,5,6,11,9,6,8,9,11,-1,-1,-1,-1,-1,-1,-1,6,10,5,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,4,3,7,4,10,5,6,-1,-1,-1,-1,-1,-1,-1,0,9,1,6,10,5,7,4,8,-1,-1,-1,-1,-1,-1,-1,5,6,10,7,9,1,3,7,1,4,9,7,-1,-1,-1,-1,2,1,6,1,5,6,8,7,4,-1,-1,-1,-1,-1,-1,-1,5,2,1,6,2,5,4,0,3,7,4,3,-1,-1,-1,-1,7,4,8,5,0,9,5,6,0,6,2,0,-1,-1,-1,-1,9,3,7,4,9,7,9,2,3,6,9,5,9,6,2,-1,2,11,3,4,8,7,5,6,10,-1,-1,-1,-1,-1,-1,-1,6,10,5,2,7,4,0,2,4,11,7,2,-1,-1,-1,-1,9,1,0,8,7,4,11,3,2,6,10,5,-1,-1,-1,-1,1,2,9,2,11,9,11,4,9,4,11,7,6,10,5,-1,7,4,8,5,11,3,1,5,3,6,11,5,-1,-1,-1,-1,11,1,5,6,11,5,11,0,1,4,11,7,11,4,0,-1,9,5,0,5,6,0,6,3,0,3,6,11,7,4,8,-1,9,5,6,11,9,6,9,7,4,9,11,7,-1,-1,-1,-1,9,4,10,10,4,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6,10,4,10,9,4,3,8,0,-1,-1,-1,-1,-1,-1,-1,1,0,10,0,6,10,0,4,6,-1,-1,-1,-1,-1,-1,-1,1,3,8,6,1,8,4,6,8,10,1,6,-1,-1,-1,-1,9,4,1,4,2,1,4,6,2,-1,-1,-1,-1,-1,-1,-1,8,0,3,9,2,1,9,4,2,4,6,2,-1,-1,-1,-1,4,2,0,6,2,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,4,2,8,6,2,4,-1,-1,-1,-1,-1,-1,-1,9,4,10,4,6,10,3,2,11,-1,-1,-1,-1,-1,-1,-1,2,8,0,11,8,2,10,9,4,6,10,4,-1,-1,-1,-1,2,11,3,6,1,0,4,6,0,10,1,6,-1,-1,-1,-1,1,4,6,10,1,6,1,8,4,11,1,2,1,11,8,-1,4,6,9,6,3,9,3,1,9,3,6,11,-1,-1,-1,-1,1,11,8,0,1,8,1,6,11,4,1,9,1,4,6,-1,6,11,3,0,6,3,4,6,0,-1,-1,-1,-1,-1,-1,-1,8,4,6,8,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6,10,7,10,8,7,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,7,0,7,10,0,10,9,0,10,7,6,-1,-1,-1,-1,7,6,10,7,10,1,8,7,1,0,8,1,-1,-1,-1,-1,7,6,10,1,7,10,3,7,1,-1,-1,-1,-1,-1,-1,-1,6,2,1,8,6,1,9,8,1,7,6,8,-1,-1,-1,-1,9,6,2,1,9,2,9,7,6,3,9,0,9,3,7,-1,0,8,7,6,0,7,2,0,6,-1,-1,-1,-1,-1,-1,-1,2,3,7,2,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,3,2,8,6,10,9,8,10,7,6,8,-1,-1,-1,-1,7,0,2,11,7,2,7,9,0,10,7,6,7,10,9,-1,0,8,1,8,7,1,7,10,1,10,7,6,11,3,2,-1,1,2,11,7,1,11,1,6,10,1,7,6,-1,-1,-1,-1,6,9,8,7,6,8,6,1,9,3,6,11,6,3,1,-1,1,9,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,6,0,7,0,11,3,0,6,11,-1,-1,-1,-1,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,0,3,6,7,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,1,0,6,7,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,1,8,1,3,8,6,7,11,-1,-1,-1,-1,-1,-1,-1,2,1,10,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,2,1,8,0,3,7,11,6,-1,-1,-1,-1,-1,-1,-1,0,9,2,9,10,2,7,11,6,-1,-1,-1,-1,-1,-1,-1,7,11,6,3,10,2,3,8,10,8,9,10,-1,-1,-1,-1,3,2,7,7,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,0,7,0,6,7,0,2,6,-1,-1,-1,-1,-1,-1,-1,6,7,2,7,3,2,9,1,0,-1,-1,-1,-1,-1,-1,-1,2,6,1,6,8,1,8,9,1,6,7,8,-1,-1,-1,-1,6,7,10,7,1,10,7,3,1,-1,-1,-1,-1,-1,-1,-1,6,7,10,10,7,1,7,8,1,8,0,1,-1,-1,-1,-1,7,3,0,10,7,0,9,10,0,7,10,6,-1,-1,-1,-1,10,6,7,8,10,7,9,10,8,-1,-1,-1,-1,-1,-1,-1,4,8,6,6,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,6,3,6,0,3,6,4,0,-1,-1,-1,-1,-1,-1,-1,11,6,8,6,4,8,1,0,9,-1,-1,-1,-1,-1,-1,-1,6,4,9,3,6,9,1,3,9,6,3,11,-1,-1,-1,-1,4,8,6,8,11,6,1,10,2,-1,-1,-1,-1,-1,-1,-1,10,2,1,11,0,3,11,6,0,6,4,0,-1,-1,-1,-1,8,11,4,11,6,4,9,2,0,9,10,2,-1,-1,-1,-1,3,9,10,2,3,10,3,4,9,6,3,11,3,6,4,-1,3,2,8,2,4,8,2,6,4,-1,-1,-1,-1,-1,-1,-1,2,4,0,2,6,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,4,3,2,6,4,2,8,3,4,-1,-1,-1,-1,4,9,1,2,4,1,6,4,2,-1,-1,-1,-1,-1,-1,-1,3,1,8,1,6,8,6,4,8,1,10,6,-1,-1,-1,-1,0,1,10,6,0,10,4,0,6,-1,-1,-1,-1,-1,-1,-1,3,6,4,8,3,4,3,10,6,9,3,0,3,9,10,-1,4,9,10,4,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,9,4,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,8,0,5,9,4,6,7,11,-1,-1,-1,-1,-1,-1,-1,1,0,5,0,4,5,11,6,7,-1,-1,-1,-1,-1,-1,-1,6,7,11,4,3,8,4,5,3,5,1,3,-1,-1,-1,-1,4,5,9,2,1,10,11,6,7,-1,-1,-1,-1,-1,-1,-1,7,11,6,10,2,1,3,8,0,5,9,4,-1,-1,-1,-1,11,6,7,10,4,5,10,2,4,2,0,4,-1,-1,-1,-1,8,4,3,4,5,3,5,2,3,2,5,10,6,7,11,-1,3,2,7,2,6,7,9,4,5,-1,-1,-1,-1,-1,-1,-1,4,5,9,6,8,0,2,6,0,7,8,6,-1,-1,-1,-1,2,6,3,6,7,3,0,5,1,0,4,5,-1,-1,-1,-1,8,2,6,7,8,6,8,1,2,5,8,4,8,5,1,-1,4,5,9,6,1,10,6,7,1,7,3,1,-1,-1,-1,-1,10,6,1,6,7,1,7,0,1,0,7,8,4,5,9,-1,10,0,4,5,10,4,10,3,0,7,10,6,10,7,3,-1,10,6,7,8,10,7,10,4,5,10,8,4,-1,-1,-1,-1,5,9,6,9,11,6,9,8,11,-1,-1,-1,-1,-1,-1,-1,11,6,3,3,6,0,6,5,0,5,9,0,-1,-1,-1,-1,8,11,0,11,5,0,5,1,0,11,6,5,-1,-1,-1,-1,3,11,6,5,3,6,1,3,5,-1,-1,-1,-1,-1,-1,-1,10,2,1,11,5,9,8,11,9,6,5,11,-1,-1,-1,-1,3,11,0,11,6,0,6,9,0,9,6,5,10,2,1,-1,5,8,11,6,5,11,5,0,8,2,5,10,5,2,0,-1,3,11,6,5,3,6,3,10,2,3,5,10,-1,-1,-1,-1,9,8,5,8,2,5,2,6,5,2,8,3,-1,-1,-1,-1,6,5,9,0,6,9,2,6,0,-1,-1,-1,-1,-1,-1,-1,8,5,1,0,8,1,8,6,5,2,8,3,8,2,6,-1,6,5,1,6,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6,3,1,10,6,1,6,8,3,9,6,5,6,9,8,-1,0,1,10,6,0,10,0,5,9,0,6,5,-1,-1,-1,-1,8,3,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6,5,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,11,11,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,11,5,7,11,0,3,8,-1,-1,-1,-1,-1,-1,-1,7,11,5,11,10,5,0,9,1,-1,-1,-1,-1,-1,-1,-1,5,7,10,7,11,10,1,8,9,1,3,8,-1,-1,-1,-1,2,1,11,1,7,11,1,5,7,-1,-1,-1,-1,-1,-1,-1,3,8,0,7,2,1,5,7,1,11,2,7,-1,-1,-1,-1,5,7,9,7,2,9,2,0,9,7,11,2,-1,-1,-1,-1,2,5,7,11,2,7,2,9,5,8,2,3,2,8,9,-1,10,5,2,5,3,2,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,2,8,2,5,8,5,7,8,5,2,10,-1,-1,-1,-1,1,0,9,3,10,5,7,3,5,2,10,3,-1,-1,-1,-1,2,8,9,1,2,9,2,7,8,5,2,10,2,5,7,-1,5,3,1,5,7,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,1,7,0,5,7,1,-1,-1,-1,-1,-1,-1,-1,3,0,9,5,3,9,7,3,5,-1,-1,-1,-1,-1,-1,-1,7,8,9,7,9,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,5,8,10,5,8,11,10,-1,-1,-1,-1,-1,-1,-1,4,0,5,0,11,5,11,10,5,0,3,11,-1,-1,-1,-1,9,1,0,10,4,8,11,10,8,5,4,10,-1,-1,-1,-1,4,11,10,5,4,10,4,3,11,1,4,9,4,1,3,-1,1,5,2,5,8,2,8,11,2,8,5,4,-1,-1,-1,-1,11,4,0,3,11,0,11,5,4,1,11,2,11,1,5,-1,5,2,0,9,5,0,5,11,2,8,5,4,5,8,11,-1,5,4,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,2,2,5,3,5,4,3,4,8,3,-1,-1,-1,-1,2,10,5,4,2,5,0,2,4,-1,-1,-1,-1,-1,-1,-1,2,10,3,10,5,3,5,8,3,8,5,4,9,1,0,-1,2,10,5,4,2,5,2,9,1,2,4,9,-1,-1,-1,-1,5,4,8,3,5,8,1,5,3,-1,-1,-1,-1,-1,-1,-1,5,4,0,5,0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,4,8,3,5,8,5,0,9,5,3,0,-1,-1,-1,-1,5,4,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,11,4,11,9,4,11,10,9,-1,-1,-1,-1,-1,-1,-1,3,8,0,7,9,4,7,11,9,11,10,9,-1,-1,-1,-1,11,10,1,4,11,1,0,4,1,11,4,7,-1,-1,-1,-1,4,1,3,8,4,3,4,10,1,11,4,7,4,11,10,-1,7,11,4,4,11,9,11,2,9,2,1,9,-1,-1,-1,-1,4,7,9,7,11,9,11,1,9,1,11,2,3,8,0,-1,4,7,11,2,4,11,0,4,2,-1,-1,-1,-1,-1,-1,-1,4,7,11,2,4,11,4,3,8,4,2,3,-1,-1,-1,-1,10,9,2,9,7,2,7,3,2,9,4,7,-1,-1,-1,-1,7,10,9,4,7,9,7,2,10,0,7,8,7,0,2,-1,10,7,3,2,10,3,10,4,7,0,10,1,10,0,4,-1,2,10,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,4,7,1,4,3,1,7,-1,-1,-1,-1,-1,-1,-1,1,9,4,7,1,4,1,8,0,1,7,8,-1,-1,-1,-1,3,0,4,3,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,10,9,8,11,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,3,11,9,3,10,9,11,-1,-1,-1,-1,-1,-1,-1,10,1,0,8,10,0,11,10,8,-1,-1,-1,-1,-1,-1,-1,10,1,3,10,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,2,1,9,11,1,8,11,9,-1,-1,-1,-1,-1,-1,-1,9,0,3,11,9,3,9,2,1,9,11,2,-1,-1,-1,-1,11,2,0,11,0,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,2,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,10,8,2,9,8,10,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,10,8,2,8,1,0,8,10,1,-1,-1,-1,-1,2,10,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),numTrisTable:new Float32Array([0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,2,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,3,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,3,2,3,3,2,3,4,4,3,3,4,4,3,4,5,5,2,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,3,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,4,2,3,3,4,3,4,2,3,3,4,4,5,4,5,3,2,3,4,4,3,4,5,3,2,4,5,5,4,5,2,4,1,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,3,2,3,3,4,3,4,4,5,3,2,4,3,4,3,5,2,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,4,3,4,4,3,4,5,5,4,4,3,5,2,5,4,2,1,2,3,3,4,3,4,4,5,3,4,4,5,2,3,3,2,3,4,4,5,4,5,5,2,4,3,5,4,3,2,4,1,3,4,4,5,4,5,3,4,4,5,5,2,3,4,2,1,2,3,3,2,3,4,2,1,3,2,4,1,2,1,1,0])}}var R1=new fu,U3e=class{constructor(){this.pyramidPassScene=new ra,this.pyramidPassMaterial=new O1({name:"PyramidPass"}),this.pyramidPassUniforms={inputTexture:{value:void 0},inputWidth:{value:0},inputHeight:{value:0},inputShiftX:{value:0},outputShiftX:{value:0}},this.pyramidTopLevelReadPixelBuffer=new Float32Array(4);let e=`
			precision highp float;
			precision highp sampler2D;
			layout(location = 0) out vec4 pc_FragColor;
			uniform sampler2D inputTexture;
			uniform float inputWidth;
			uniform float inputHeight;
			uniform float inputShiftX;
			uniform float outputShiftX;
			const vec2 half_unit_coord = vec2(0.5);
			const vec4 one = vec4(1.0);
			void main() {
				vec2 inputSize = vec2(inputWidth, inputHeight);
				vec2 input_pixel_uv = 1. / inputSize;
				vec2 coord = gl_FragCoord.xy - half_unit_coord;
				coord.x -= outputShiftX;
				coord = coord * 2. + half_unit_coord;
				coord.x += inputShiftX;

				// sample bottom left corner
				vec2 input_uv = coord / inputSize;
				float bl = texture(inputTexture, input_uv).r;

				// sample bottom right corner
				input_uv.x += input_pixel_uv.x;
				float br = texture(inputTexture, input_uv).r;

				// sample top right corner
				input_uv.y += input_pixel_uv.y;
				float tr = texture(inputTexture, input_uv).r;

				// sample top left corner
				input_uv.x -= input_pixel_uv.x;
				float tl = texture(inputTexture, input_uv).r;

				pc_FragColor.a = bl;
				pc_FragColor.b = pc_FragColor.a + br;
				pc_FragColor.g = pc_FragColor.b + tr;
				pc_FragColor.r = pc_FragColor.g + tl; 
			}
		`;this.pyramidPassMaterial.fragmentShader=e,this.pyramidPassMaterial.uniforms=this.pyramidPassUniforms,this.pyramidPassMaterial.depthTest=!1,this.pyramidPassMaterial.depthWrite=!1;let t=new gi(ug,this.pyramidPassMaterial);t.frustumCulled=!1,this.pyramidPassScene.add(t)}renderPyramid(e,t,i,r,n){new gM().min.setScalar(0);let a=t.length-1,c=new vt;i.getViewport(c),this.pyramidPassUniforms.inputShiftX.value=0,this.pyramidPassUniforms.outputShiftX.value=0;let l=a-1;for(let s=l;s>=0;s--){let u=s%2===l%2?n[0]:n[1],d=s===l?r:s%2===l%2?n[1]:n[0];this.pyramidPassUniforms.inputTexture.value=Array.isArray(d.texture)?d.texture[1]:d.texture,this.pyramidPassUniforms.inputWidth.value=d.width,this.pyramidPassUniforms.inputHeight.value=d.height,i.setRenderTarget(u);let h=t[s],p=i.getPixelRatio();i.setViewport(this.pyramidPassUniforms.outputShiftX.value/p,0,h/p,h/p),s===2&&e%2!==0&&i.setViewport(this.pyramidPassUniforms.outputShiftX.value/p,0,3/p,3/p),i.render(this.pyramidPassScene,R1);let m=this.pyramidPassUniforms.inputShiftX.value;this.pyramidPassUniforms.inputShiftX.value=this.pyramidPassUniforms.outputShiftX.value,this.pyramidPassUniforms.outputShiftX.value=m,s<l&&(this.pyramidPassUniforms.outputShiftX.value+=t[s+1])}i.setViewport(c);let o=t.length%2===0?0:1;return i.readRenderTargetPixelsAsync(n[o],n[o].width-1,0,1,1,this.pyramidTopLevelReadPixelBuffer).then(()=>this.pyramidTopLevelReadPixelBuffer[0])}},oo=24,Wr=96,Ho=F3e(),Fs=2,TH=class extends sr{constructor(e,t,i){super(e,t,i),this.data=t,this.needsRebuild=!0,this.customDepthMaterialNeedsUpdate=!1,this._npart=-1,this.spatialn=1,this.drawRangeNeedsForceUpdate=!0,this._resolutionLevel=-1,this.resolution=64,this.spatialDivisions=25,this.zLayersPerRow=8,this.basePyramidSize=512,this.pyramidTexture1Width=341,this.pyramidTexture1Height=256,this.pyramidTexture2Width=170,this.pyramidTexture2Height=128,this.numLevels=9,this.pyramidLevelSizes=[1,2,4,8,16,32,64,128,256,512],this.bboxSize=0,this.bboxOffset=0,this.shapesDataTexture={value:void 0},this.spatialscene=new ra,this.potentialPassScene=new ra,this.voxelPassScene=new ra,this._spatialPassRenderTargets=[],this._potentialPassRenderTargets=[],this._voxelPassRenderTargets=[],this._pyramidRenderTargets=[],this.geometry=new Qe,this.geometry.drawRange.count=0,this.spatialPassUniforms={span:{value:-1},shapesDataTexture:this.shapesDataTexture,npart:{value:this.npart},spatialn:{value:this.spatialn}},this.spatialMesh=new gi(ug,this.spatialPassMaterial()),this.spatialMesh.frustumCulled=!1,this.spatialscene.add(this.spatialMesh);let r=new Dn(Ho.triTable,16,256,S1,ni);r.needsUpdate=!0;let n=new Dn(Ho.numTrisTable,256,1,S1,ni);n.needsUpdate=!0,this.voxelPassUniforms={potentialPassTexture:{value:void 0},numTrisTable:{value:n}},this.voxelMesh=new gi(ug,this.voxelPassMaterial()),this.voxelMesh.frustumCulled=!1,this.voxelPassScene.add(this.voxelMesh),this.potentialPassUniforms={shapesDataTexture:this.shapesDataTexture,spatialPassTexture:{value:void 0},npart:{value:this.npart},spatialn:{value:this.spatialn}},this.potentialMesh=new gi(ug,this.potentialPassMaterial()),this.potentialMesh.frustumCulled=!1,this.potentialPassScene.add(this.potentialMesh),this.marchPassUniforms={triTable:{value:r},potentialPassTexture:{value:void 0},voxelPassTexture:{value:void 0},pyramidTexture1:{value:void 0},pyramidTexture1Size:{value:void 0},pyramidTexture2:{value:void 0},pyramidTexture2Size:{value:void 0}},this.frustumCulled=!1,this.onBeforeShadowPass=a=>{if(q3e.call(this),this.npart===0){this.geometry.drawRange.count=0;return}let c=this.material.root;if(!c.shadersPatchedForShapeBlend)this.patchVertexShaderForShapeBlend(c),c.shadersPatchedForShapeBlend=!0,this.customDepthMaterialNeedsUpdate=!0;else if(this.customDepthMaterialNeedsUpdate){this.customDepthMaterialNeedsUpdate=!1,this.customDepthMaterial=new Ht({vertexShader:c.vertexShader,fragmentShader:`
						#include <packing>
						void main()
						{
							gl_FragColor = packDepthToRGBA(gl_FragCoord.z);
						}
					`,uniforms:c.uniforms,defines:this.material.defines}),this.isMeshDepthMaterial=!0,this.customDistanceMaterial=new Ht({vertexShader:c.vertexShader,fragmentShader:`
					#include <common>
					#include <packing>
					uniform vec3 referencePosition;
					uniform float nearDistance;
					uniform float farDistance;
					// World-space position
					varying vec3 vWPosition;
					void main()
					{
						float dist = length(vWPosition - referencePosition);
						dist = (dist - nearDistance) / (farDistance - nearDistance);
						dist = saturate(dist);
						// Required by Three.js for this to work
						gl_FragColor = packDepthToRGBA( dist );
					}`,uniforms:{nearDistance:{value:0},farDistance:{value:0},referencePosition:{value:new N},opacity:{value:0},...c.uniforms},defines:this.material.defines});let s=this.customDistanceMaterial;s.referencePosition=new N,s.nearDistance=0,s.farDistance=0,s.opacity=1,s.isMeshDistanceMaterial=!0}if(this.spatialPassUniforms.npart.value=this.npart,this.spatialPassUniforms.spatialn.value=this.spatialn,this.potentialPassUniforms.npart.value=this.npart,this.potentialPassUniforms.spatialn.value=this.spatialn,this.needsRebuild){this.needsRebuild=!1,this.spatialMesh.material.defines.RES=this.resolutionLevel,this.spatialMesh.material.needsUpdate=!0,this.potentialMesh.material.defines.RES=this.resolutionLevel,this.potentialPassUniforms.spatialPassTexture.value=this.spatialPassRenderTarget.texture,this.potentialMesh.material.needsUpdate=!0,this.voxelMesh.material.defines.RES=this.resolutionLevel,this.voxelMesh.material.needsUpdate=!0,this.voxelPassUniforms.potentialPassTexture.value=this.potentialPassRenderTarget.texture,this.marchPassUniforms.potentialPassTexture.value=this.potentialPassRenderTarget.texture,this.marchPassUniforms.voxelPassTexture.value=this.voxelPassRenderTarget.texture[0],this.material.defines.RES=this.resolutionLevel,this.material.defines.LEVELS=this.pyramidLevelSizes.length,this.material.defines.LOOP=this.pyramidLevelSizes.length%2===0?this.pyramidLevelSizes.length-3:this.pyramidLevelSizes.length-2,this.material.defines.HALF=this.pyramidLevelSizes.length%2===0?1:0,this.material.needsUpdate=!0;let s=this.pyramidLevelSizes.length%2===0?0:1,u=this.pyramidLevelSizes.length%2===0?1:0;this.marchPassUniforms.pyramidTexture2.value=this.pyramidRenderTarget[s].texture,this.marchPassUniforms.pyramidTexture2Size.value=new re(this.pyramidRenderTarget[s].width,this.pyramidRenderTarget[s].height),this.marchPassUniforms.pyramidTexture1.value=this.pyramidRenderTarget[u].texture,this.marchPassUniforms.pyramidTexture1Size.value=new re(this.pyramidRenderTarget[u].width,this.pyramidRenderTarget[u].height),Object.assign(this.material.uniforms,this.marchPassUniforms)}let l=a.shadowMap.enabled;a.shadowMap.enabled=!1;let o=a.getRenderTarget();a.setRenderTarget(this.spatialPassRenderTarget),a.render(this.spatialscene,R1),a.setRenderTarget(this.potentialPassRenderTarget),a.render(this.potentialPassScene,R1),a.setRenderTarget(this.voxelPassRenderTarget),a.render(this.voxelPassScene,R1),TH.streamCompaction.renderPyramid(this.resolutionLevel,this.pyramidLevelSizes,a,this.voxelPassRenderTarget,this.pyramidRenderTarget).then(s=>{this.material.wireframe&&(s*3>this.geometry.attributes.position.count||this.drawRangeNeedsForceUpdate)&&(this.geometry.dispose(),this.geometry=new Qe,this.geometry.userData.parameters={width:this.bboxSize,height:this.bboxSize,depth:this.bboxSize,centerOffset:[this.bboxOffset,this.bboxOffset,this.bboxOffset]},this.geometry.attributes.position=new ct(new Float32Array(s*3*2),3)),(s*3>this.geometry.drawRange.count||this.drawRangeNeedsForceUpdate)&&(this.geometry.drawRange.count=Math.floor(s*1.2)*3),this.drawRangeNeedsForceUpdate=!1}),a.shadowMap.enabled=l,a.setRenderTarget(o)}}set npart(e){e!==this._npart&&(this.drawRangeNeedsForceUpdate=!0,this._npart=e,this.spatialn=Math.ceil(e/(4*oo)))}get npart(){return this._npart}set resolutionLevel(e){let t=Math.min(8,Math.max(5,e));if(t!==this._resolutionLevel){switch(this._resolutionLevel=t,this.resolution=Math.pow(2,t),this.resolutionLevel){case 5:this.pyramidLevelSizes=[1,2,4,6,12,24,48,96,192],this.bboxSize=31*8*Fs,this.bboxOffset=8*Fs*-1/2;break;case 6:this.pyramidLevelSizes=[1,2,4,8,16,32,64,128,256,512],this.bboxSize=63*4*Fs,this.bboxOffset=4*Fs*-1/2;break;case 7:this.pyramidLevelSizes=[1,2,4,6,12,24,48,96,192,384,768,1536],this.bboxSize=127*2*Fs,this.bboxOffset=2*Fs*-1/2;break;case 8:this.pyramidLevelSizes=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096],this.bboxSize=255*Fs,this.bboxOffset=Fs*-1/2;break}this.pyramidTexture1Width=0,this.pyramidTexture2Width=0,this.pyramidTexture1Height=this.pyramidLevelSizes[this.pyramidLevelSizes.length-2],this.pyramidTexture2Height=this.pyramidLevelSizes[this.pyramidLevelSizes.length-3];for(let i=this.pyramidLevelSizes.length-2;i>=0;i--)(this.pyramidLevelSizes.length-2)%2===i%2?this.pyramidTexture1Width+=this.pyramidLevelSizes[i]:this.pyramidTexture2Width+=this.pyramidLevelSizes[i];this.basePyramidSize=this.pyramidLevelSizes[this.pyramidLevelSizes.length-1],this.zLayersPerRow=this.basePyramidSize/this.resolution,this.numLevels=this.pyramidLevelSizes.length-1,this.geometry.userData.parameters={width:this.bboxSize,height:this.bboxSize,depth:this.bboxSize,centerOffset:[this.bboxOffset,this.bboxOffset,this.bboxOffset]},this.needsRebuild=!0}}get resolutionLevel(){return this._resolutionLevel}get spatialPassRenderTarget(){let e=this._spatialPassRenderTargets[this.resolutionLevel];return e||(e=new Vt(this.spatialDivisions*this.spatialn,this.spatialDivisions**2,{format:Ii,type:ni,stencilBuffer:!1,depthBuffer:!1,generateMipmaps:!1,minFilter:kt,magFilter:kt}),this._spatialPassRenderTargets[this.resolutionLevel]=e),e}get potentialPassRenderTarget(){let e=this._potentialPassRenderTargets[this.resolutionLevel];return e||(e=new Vt(this.basePyramidSize,this.basePyramidSize,{format:Ii,type:ni,stencilBuffer:!1,depthBuffer:!1,generateMipmaps:!1,minFilter:kt,magFilter:kt}),this._potentialPassRenderTargets[this.resolutionLevel]=e),e}get voxelPassRenderTarget(){let e=this._voxelPassRenderTargets[this.resolutionLevel];return e||(e=new NB(this.basePyramidSize,this.basePyramidSize,2,{stencilBuffer:!1,depthBuffer:!1,generateMipmaps:!1,minFilter:kt,magFilter:kt}),e.texture[0].format=Ii,e.texture[0].type=ni,e.texture[1].format=S1,e.texture[1].type=ni,this._voxelPassRenderTargets[this.resolutionLevel]=e),e}get pyramidRenderTarget(){let e=this._pyramidRenderTargets[this.resolutionLevel];if(!e){let t=new Vt(this.pyramidTexture1Width,this.pyramidTexture1Height,{format:Ii,type:ni,stencilBuffer:!1,depthBuffer:!1,magFilter:kt,minFilter:kt}),i=new Vt(this.pyramidTexture2Width,this.pyramidTexture2Height,{format:Ii,type:ni,stencilBuffer:!1,depthBuffer:!1,magFilter:kt,minFilter:kt});e=[t,i],this._pyramidRenderTargets[this.resolutionLevel]=e}return e}updateState(e,t){let i=this.material;super.updateState(e,t),i!==this.material&&(this.needsRebuild=!0),e.geometry&&(this.resolutionLevel=e.geometry.resolutionLevel,this.geometry.userData.parameters={width:this.bboxSize,height:this.bboxSize,depth:this.bboxSize,centerOffset:[this.bboxOffset,this.bboxOffset,this.bboxOffset]}),e.wireframe&&!this.geometry.getAttribute("position")?this.geometry.setAttribute("position",new ct(new Float32Array(this.geometry.drawRange.count*3),3)):!e.wireframe&&this.geometry.getAttribute("position")&&this.geometry.deleteAttribute("position")}spatialPassMaterial(){let e=`
			precision highp float;
			out vec4 pc_FragColor;
			const float spatialDivisions = ${this.spatialDivisions}.;
			uniform float span;
			uniform float npart;
			uniform float spatialn;
			${Ho.shapeInput()}

			vec3 low, high;     // range of current div; subset of -1 .. 1 with span border

			// lookup one element/channel's worth of spheres for current division
			// stating with low sphere number lowi
			// gives a key to which spheres from lowi..lowi+23 are active within given div (low..high)
			float spatialKey(float lowi) {
				float t = 0.;
				for (float ii = ${oo-1}.; ii >= 0.; ii--) {
					float i = ii + lowi;
					float iin = (i + 0.5) / ${Wr}.;
					vec4 shape = shapePos(iin);
					vec3 d = shape.xyz;
					float op = shape.w;
	
					t *= 2.;
					t += (
						low.x < d.x && d.x < high.x &&
						low.y < d.y && d.y < high.y &&
						low.z < d.z && d.z < high.z &&
						i < npart || op == -2. // always include if op is -2, which is the intersection operation
					) ? 1. : 0.;
				}
				return t;
			}

			${Ho.getpart}

			void main() {               // spatialial fragment shader
				// find active div
				vec3 div;                               // which div is current
				// out holds x=> x, lowi faster moving and y=> z, y faster moving
				float yz = float(gl_FragCoord.y - 0.5);     // contains  z, y faster moving
				div.y = getpart(yz, spatialDivisions);
				div.z = yz; // getpart(yz, spatialDivisions.z); // what's left, should be the same as getpart

				float lx = float(gl_FragCoord.x - 0.5);     // contains x, lowi faster moving
				float lowi = getpart(lx, spatialn) * ${4*oo}.;
				div.x = lx;

				low = div / spatialDivisions * 2. - 1. - span;
				high = (div+1.) / spatialDivisions * 2. - 1. + span;

				// find active range of spheres
				pc_FragColor.x = spatialKey(lowi);
				pc_FragColor.y = spatialKey(lowi+${oo}.);
				pc_FragColor.z = spatialKey(lowi+${2*oo}.);
				pc_FragColor.w = spatialKey(lowi+${3*oo}.);
			}
		`;return new O1({name:"Spatial Pass",fragmentShader:e,uniforms:this.spatialPassUniforms})}potentialPassMaterial(){let e=`
			precision highp float;
			out vec4 pc_FragColor;

			${Ho.shapeInput()}
			uniform sampler2D spatialPassTexture;

			const float res = float(RES);
			const float VOXEL_RESOLUTION = pow(2., res);
			const float Z_LAYERS_PER_ROW = ceil(pow(2., res / 2.));
			const float VOXEL_RESOLUTION_SUB1 = VOXEL_RESOLUTION - 1.;
			const float INV_VOXEL_RESOLUTION = 1.0 / VOXEL_RESOLUTION;

			uniform float npart;
			uniform float spatialn;
			const float spatialDivisions = ${this.spatialDivisions}.;
			const float spatialDivisions2 = spatialDivisions * spatialDivisions;
			const float spatialDivisionsSub1 = spatialDivisions - 1.;

			${Ho.getpart}

			vec3 packRGBAToVec3(vec4 color) {
				uint r = uint(color.r * 255.);
				uint g = uint(color.g * 255.);
				uint combined = (r << 8) | g; 
				return vec3(float(combined) * 0.00001525902, color.b, color.a); // 1/65535
			}

			void applyQuaternionToVector(in vec4 q, inout vec3 v) {
				v += 2.0 * cross(q.xyz, cross(q.xyz, v) + q.w * v);
			}

			/**
			 * SDF functions (reference: https://iquilezles.org/articles/distfunctions/)
			 */

			// branchless version of "Smooth Union, Subtraction and Intersection - bound, bound, bound" in above reference
			float smoothOperation(float op, float sdf, float d, float k) {
			  //        union: op =  1 => signSubtract =  1, signIntersection =  1
			  //     subtract: op = -1 => signSubtract = -1, signIntersection =  1
				// intersection: op = -2 => signSubtract = -1, signIntersection = -1

				float signSubtract = clamp(op, -1., 1.);
				float signIntersection = 2. * (op - signSubtract) + 1.;
				float h = clamp(
					0.5 + signSubtract * 0.5 * (sdf - signSubtract * signIntersection * d) / k,
					0.0,
					1.0
				);
				return mix(sdf, signSubtract * signIntersection * d, h) - 
							 signSubtract * k * h * (1.0 - h);
			}

			float sdSphere( vec3 p, float s )
			{
				return length(p)-s;
			}

			float sdEllipsoid( vec3 p, vec3 r )
			{
				float k0 = length(p/r);
				float k1 = length(p/(r*r));
				return k0*(k0-1.0)/k1;
			}

			float sdBox( vec3 p, vec3 b )
			{
				vec3 q = abs(p) - b;
				return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0);
			}

			float sdTorus( vec3 p, vec2 t )
			{
				vec2 q = vec2(length(p.xy)-t.x,p.z);
				return length(q)-t.y;
			}

			float sdCappedTorus( vec3 p, vec2 sc, float ra, float rb)
			{
				p.x = abs(p.x);
				float k = (sc.y*p.x>sc.x*p.y) ? dot(p.xy,sc) : length(p.xy);
				return sqrt( dot(p,p) + ra*ra - 2.0*ra*k ) - rb;
			}

			float dot2( in vec2 v ) { return dot(v,v); }
			float sdCappedCone( vec3 p, float h, float r1, float r2 )
			{
				vec2 q = vec2( length(p.xz), p.y );
				vec2 k1 = vec2(r2,h);
				vec2 k2 = vec2(r2-r1,2.0*h);
				vec2 ca = vec2(q.x-min(q.x,(q.y<0.0)?r1:r2), abs(q.y)-h);
				vec2 cb = q - k1 + k2*clamp( dot(k1-q,k2)/dot2(k2), 0.0, 1.0 );
				float s = (cb.x<0.0 && ca.y<0.0) ? -1.0 : 1.0;
				return s*sqrt( min(dot2(ca),dot2(cb)) );
			}

			float sdCappedCylinder( vec3 p, float h, float r )
			{
				vec2 d = abs(vec2(length(p.xz),p.y)) - vec2(r,h);
				return min(max(d.x,d.y),0.0) + length(max(d,0.0));
			}

			float maxBlend = 0.0;
			// compute potential from A (=24) spheres, using the bit flags in 'activeKey'
			// to avoid lookup/compute for inactive spheres
			// return field potential, side effect updates track,
			// compute and return +ve and -ve values separately
			void fillSpatialInner(
				float ii,
				float activeKey,
				vec3 corner,
				inout float sdf,
				inout float colorDivisor,
				inout vec4 trackColor
			) {
				for (float i = 0.; i < ${oo}.; i++) {
					if (activeKey < 1.) break; // activeKey exhausted, no more active spheres
					activeKey *= 0.5;
					if (fract(activeKey) < 0.5) continue;

					float iin = (i + ii + 0.5) * ${1/Wr};
					vec4 shape = shapePos(iin);
					vec4 quat = shapeQuat(iin);
					vec4 params1 = shapeParams1(iin);
					vec4 params2 = shapeParams2(iin);

					vec3 p = corner - shape.xyz;
					applyQuaternionToVector(quat, p);
					p /= params2.z; // scale
					float d; // d in -1..1 coordinates
					switch (int(params1.x)) {
						case 0: d = sdSphere(p, params1.y); break;
						case 1: d = sdEllipsoid(p, params1.yzw); break;
						case 2: d = sdBox(p, params1.yzw); break;
						case 3: d = sdCappedCylinder(p, params1.y, params1.z); break;
						case 4: d = sdCappedCone(p, params1.y, params1.z, params1.w); break;
						case 5: d = sdTorus(p, params1.yz); break;
						case 6: d = sdCappedTorus(p, params1.yz, params1.w, params2.w); break;
					}
					d -= params2.y; // rounded edge
					d *= params2.z; // scale

					float k = params2.x;
					float op = shape.w;

					sdf = smoothOperation(shape.w, sdf, d, k);

					float isNegativeOne = step(-1.5, op) * step(op, -0.5); // 1 when op == -1, 0 otherwise
					float colorCull = smoothstep(maxBlend, 0., -d);
					float cullFactor = mix(1.0, colorCull, isNegativeOne);
					trackColor *= cullFactor;
					colorDivisor *= cullFactor;

					maxBlend = max(maxBlend, k);

					k += 2. * INV_VOXEL_RESOLUTION; // avoid division by zero, and other color artifacts with very small k
					float nearness = smoothstep(k, 0., d);

					vec4 color = shapeColor(iin);
					nearness *= float(color.a >= 0.);

					colorDivisor += nearness;
					trackColor += color * nearness;
				}
			}

			vec3 div;
			// compute potential from all spheres; collect +ve and =ve values separately
			// work in blocks of A*4 (=96) spheres, using the bit flags in 4 float channel 'activeKey' values
			// TODO check if extra vec3 output useful, not really used at present
			float fillSpatial(vec3 corner, inout vec4 trackColor) {
				float sdf = 1e3; // hack: initialize to large value
				float colorDivisor = 0.;
				// spatialPassTexture holds x=> lowi, x faster moving and y=> z, y faster moving
				float divyz = (div.y + div.z * spatialDivisions + 0.5) / (spatialDivisions2);
				for (float ii = 0.; ii < spatialn; ii++) {
					float i = ii * ${4*oo}.;

					vec4 activeKey = texture(spatialPassTexture, vec2((div.x * spatialn + ii + 0.5)/(spatialn * spatialDivisions), divyz));
					fillSpatialInner(i, activeKey.x, corner, sdf, colorDivisor, trackColor);
					fillSpatialInner(i+${oo}., activeKey.y, corner, sdf, colorDivisor, trackColor);
					fillSpatialInner(i+${2*oo}., activeKey.z, corner, sdf, colorDivisor, trackColor);
					fillSpatialInner(i+${3*oo}., activeKey.w, corner, sdf, colorDivisor, trackColor);
				}

				trackColor /= colorDivisor;
				return mix(sdf, 0.0, step(1e20 - 0.1, sdf));
			}

			void main() {
				${Ho.getxyzi}    // get xi yi zi from 2d position

				vec3 xyzi = vec3(xi,yi,zi);
				vec3 corner = xyzi / VOXEL_RESOLUTION_SUB1 * 2. - 1.;  // -1..1 coords

				div = floor(xyzi / VOXEL_RESOLUTION_SUB1 * spatialDivisionsSub1);

				vec4 c = vec4(0.);
				float t = fillSpatial(corner, c);

				pc_FragColor = vec4(t, packRGBAToVec3(c)); // RGB texture
			}
		`;return new O1({name:"PotentialPass",fragmentShader:e,uniforms:this.potentialPassUniforms})}voxelPassMaterial(){let e=`
			precision highp float;
			layout(location = 0) out vec4 pc_FragColor;
			layout(location = 1) out vec4 numTris;

			const float res = float(RES);
			const float VOXEL_RESOLUTION = pow(2., res);
			const float VOXEL_RESOLUTION_SUB1 = VOXEL_RESOLUTION - 1.; 
			const float Z_LAYERS_PER_ROW = ceil(pow(2., res / 2.));
			const float INV_VOXEL_RESOLUTION = 1.0 / VOXEL_RESOLUTION;
			uniform sampler2D numTrisTable; // 256 x 1

			float keyi(float f000, float f100, float f010, float f110, float f001, float f101, float f011, float f111) {
				return (float(f000 < 0.) * 1.) +
							 (float(f100 < 0.) * 2.) +
							 (float(f010 < 0.) * 8.) +
							 (float(f110 < 0.) * 4.) +
							 (float(f001 < 0.) * 16.) +
							 (float(f101 < 0.) * 32.) +
							 (float(f011 < 0.) * 128.) +
							 (float(f111 < 0.) * 64.);
			}

			${Ho.lookup}

			vec3 compNormi(float xi, float yi, float zi) {
				float dx = look(xi + 1., yi, zi, potentialPassTexture).r - look(xi - 1., yi, zi, potentialPassTexture).r;
				float dy = look(xi, yi + 1., zi, potentialPassTexture).r - look(xi, yi - 1., zi, potentialPassTexture).r;
				float dz = look(xi, yi, zi + 1., potentialPassTexture).r - look(xi, yi, zi - 1., potentialPassTexture).r;
				// if we allow (common) 0,0,0 case through then NaN can spread
				// eg r = vec4(compNorm i(???), 1.) will pollute r.w
				if (dx == 0.0 && dy == 0.0 && dz == 0.0) {
					return vec3(0.199, 0.299, 0.399);
				}
				return normalize(vec3(dx, dy, dz));
			}

			void main() {
				${Ho.getxyzi}    // get xi yi zi from 2d

				vec3 normal = compNormi(xi, yi, zi);  // even if our key is -1 this may be needed by a neighbouring voxel

				if (xi >= VOXEL_RESOLUTION_SUB1 || yi >= VOXEL_RESOLUTION_SUB1 || zi >= VOXEL_RESOLUTION_SUB1) {
					pc_FragColor = vec4(normal, 0.);
					numTris = vec4(0.);
					return;
				}

				float
					f000 = look(xi, yi, zi, potentialPassTexture).r,
					f100 = look(xi+1., yi, zi, potentialPassTexture).r,
					f010 = look(xi, yi+1., zi, potentialPassTexture).r,
					f110 = look(xi+1., yi+1., zi, potentialPassTexture).r,
					f001 = look(xi, yi, zi+1., potentialPassTexture).r,
					f101 = look(xi+1., yi, zi+1., potentialPassTexture).r,
					f011 = look(xi, yi+1., zi+1., potentialPassTexture).r,
					f111 = look(xi+1., yi+1., zi+1., potentialPassTexture).r;
				float key = keyi(f000, f100, f010, f110, f001, f101, f011, f111);

				pc_FragColor = vec4(normal, key);

				numTris = texture(numTrisTable, vec2((key + 0.5) / 256., 0.5));
			}
		`;return new O1({name:"VoxelPass",fragmentShader:e,uniforms:this.voxelPassUniforms})}patchVertexShaderForShapeBlend(e){let t=`
		#ifdef SHAPEBLEND 
			precision highp sampler2D;

			uniform float isol;

			uniform sampler2D triTable;     // 256 x 16
			uniform sampler2D pyramidTexture1;
			uniform vec2 pyramidTexture1Size;
			uniform sampler2D pyramidTexture2;
			uniform vec2 pyramidTexture2Size;

			const vec2 halfPixelOffset = vec2(0.5, 0.5);

			const vec2 rShift = vec2(0., 1.);
			const vec2 gShift = vec2(1., 1.);
			const vec2 bShift = vec2(1., 0.);

			const float res = float(RES);
			const float VOXEL_RESOLUTION = pow(2., res);
			const float Z_LAYERS_PER_ROW = ceil(pow(2., res / 2.));
			const float INV_VOXEL_RESOLUTION = 1.0 / VOXEL_RESOLUTION;

			const float scale_factor = ${Fs}.;

			#if SHAPEBLEND == 5
				const float levelShiftX[7] = float[7](4., 6., 12., 24., 48., 96., 192.);
				const float scale = 8. * scale_factor;
				const vec3 originOffset = vec3(16.);
			#elif SHAPEBLEND == 7
				const float levelShiftX[10] = float[10](4., 6., 12., 24., 48., 96., 192., 384., 768., 1536.); 
				const float scale = 2. * scale_factor;
				const vec3 originOffset = vec3(64.);
			#elif SHAPEBLEND == 8
				const float levelShiftX[11] = float[11](4., 8., 16., 32., 64., 128., 256., 512., 1024., 2048., 4096.);
				const float scale = scale_factor;
				const vec3 originOffset = vec3(128.);
			#else
				const float levelShiftX[8] = float[8](4., 8., 16., 32., 64., 128., 256., 512.);
				const float scale = 4. * scale_factor;
				const vec3 originOffset = vec3(32.);
			#endif

			${Ho.lookup}

			const vec3 offsets[24] = vec3[](
				vec3(0., 0., 0.), vec3(1., 0., 0.),
				vec3(1., 0., 0.), vec3(1., 1., 0.),
				vec3(0., 1., 0.), vec3(1., 1., 0.),
				vec3(0., 0., 0.), vec3(0., 1., 0.),
				vec3(0., 0., 1.), vec3(1., 0., 1.),
				vec3(1., 0., 1.), vec3(1., 1., 1.),
				vec3(0., 1., 1.), vec3(1., 1., 1.),
				vec3(0., 0., 1.), vec3(0., 1., 1.),
				vec3(0., 0., 0.), vec3(0., 0., 1.),
				vec3(1., 0., 0.), vec3(1., 0., 1.),
				vec3(1., 1., 0.), vec3(1., 1., 1.),
				vec3(0., 1., 0.), vec3(0., 1., 1.)
			);

			vec2 computeShiftedPosition1(vec2 xy, float levelOriginX) {
				vec2 xyShifted = xy;
				xyShifted.x += levelOriginX;
				return (xyShifted + halfPixelOffset) / pyramidTexture1Size;
			}

			vec2 computeShiftedPosition2(vec2 xy, float levelOriginX) {
				vec2 xyShifted = xy;
				xyShifted.x += levelOriginX;
				return (xyShifted + halfPixelOffset) / pyramidTexture2Size;
			}

			vec4 unpackVec3ToRGBA(vec3 vec) {
				uint combined = uint(vec.x * 65535.0 + 0.5); // Add 0.5 for rounding
				float g = float(combined & uint(0xFF)) * 0.00392156862; // 1/255
				float r = float((combined >> 8) & uint(0xFF)) * 0.00392156862; 
		
				return vec4(r, g, vec.y, vec.z);
			}

			out vec4 marchColor;
			// end of marchvertPre
		#endif
		`,i=`
		#ifdef SHAPEBLEND
			float triIndex = floor(float(gl_VertexID/3));
			float vertexIndex = float(gl_VertexID);
			
			// Initial pyramid lookup
			float levelOriginX1 = pyramidTexture1Size.x - 2.;
			float levelOriginX2 = pyramidTexture2Size.x - 1.;
			vec2 xy = vec2(0.);
			vec4 lookUp = texture(pyramidTexture2, computeShiftedPosition2(xy, levelOriginX2));
			
			// Early exit check
			if (triIndex >= lookUp.r) return;
			
			// Optimize loop variables
			float start = 0.;
			vec4 triIndexVec = vec4(triIndex);
			
			// Main position computation loop
			for (int i = 0; i < LOOP;) {
				// Compute boundaries
				vec4 ends = lookUp + vec4(start);
				vec4 starts = vec4(ends.gba, start);
				vec4 check = vec4(greaterThanEqual(triIndexVec, starts)) * 
											vec4(lessThan(triIndexVec, ends));
				
				// Update position
				xy *= 2.;
				xy += check.r * rShift + check.g * gShift + check.b * bShift;
				
				// Update loop variables
				start = dot(check, starts);
				levelOriginX2 -= levelShiftX[i];
				
				// Update lookup
				lookUp = texture(pyramidTexture1, computeShiftedPosition1(xy, levelOriginX1));
				i++;

				ends = lookUp + vec4(start);
				starts = vec4(ends.gba, start);
				check = vec4(greaterThanEqual(triIndexVec, starts)) * 
											vec4(lessThan(triIndexVec, ends));
				
				// Update position
				xy *= 2.;
				xy += check.r * rShift + check.g * gShift + check.b * bShift;
				
				// Update loop variables
				start = dot(check, starts);
				levelOriginX1 -= levelShiftX[i];
				
				// Update lookup
				lookUp = texture(pyramidTexture2, computeShiftedPosition2(xy, levelOriginX2));

				i++;
			}

			#if HALF == 1
				vec4 ends = lookUp + vec4(start);
				vec4 starts = vec4(ends.gba, start);
				vec4 check = vec4(greaterThanEqual(triIndexVec, starts)) * vec4(lessThan(triIndexVec, ends));
			
				// Update position
				xy *= 2.;
				xy += check.r * rShift + check.g * gShift + check.b * bShift;
			
				// Update loop variables
				start = dot(check, starts);
			#endif
			
			// Compute final coordinates
			vec3 gridPos;
			gridPos.x = mod(xy.x, VOXEL_RESOLUTION);
			gridPos.y = mod(xy.y, VOXEL_RESOLUTION);
			gridPos.z = floor(xy.x * INV_VOXEL_RESOLUTION) + 
									floor(xy.y * INV_VOXEL_RESOLUTION) * Z_LAYERS_PER_ROW;
			
			// Vertex key computation
			vertexIndex -= start * 3.;
			float vk = vertexIndex * 0.0625 + 0.03125; // Optimized division by 16 and addition of 1/32
			
			// Voxel lookup and edge computation
			vec4 voxel = look(gridPos.x, gridPos.y, gridPos.z, voxelPassTexture);
			float key = (voxel.w + 0.5) * 0.00390625; // Optimized division by 256
			
			// Edge lookup and offset computation
			float edgeNum = texture(triTable, vec2(vk, key)).x;
			int edgeIndex = int(edgeNum) * 2;
			
			// Compute edge positions
			vec3 p1 = gridPos + offsets[edgeIndex];
			vec3 p2 = gridPos + offsets[edgeIndex + 1];
			
			// Compute potentials and normals
			vec4 potential1 = look(p1.x, p1.y, p1.z, potentialPassTexture);
			vec4 potential2 = look(p2.x, p2.y, p2.z, potentialPassTexture);
			
			// Final position and normal computation
			float mu = potential1.r / (potential1.r - potential2.r);

			marchColor = mix(
				unpackVec3ToRGBA(potential1.gba),
				unpackVec3ToRGBA(potential2.gba),
				mu
			);

			transformed = p1 + (p2 - p1) * mu;
			transformed -= originOffset;
			transformed *= scale;
			vec4 data1 = look(p1.x, p1.y, p1.z, voxelPassTexture);
			vec4 data2 = look(p2.x, p2.y, p2.z, voxelPassTexture);
			objectNormal = normalize(mix(data1.xyz, data2.xyz, mu));
			transformedNormal = normalMatrix * objectNormal;
			#ifndef FLAT_SHADED
				vNormal = transformedNormal;
			#endif
		#endif
		`;e.vertexShader=t+e.vertexShader.replace("#include <project_vertex>",i+`
#include <project_vertex>`);let r=e.fragmentShader.match(/vec3 diffuseColor[^\n]*\n/);if(!r)return;let n=`
		#ifdef SHAPEBLEND_C
			#if SHAPEBLEND_C == 1
				${r[0].replace(/nodeU0,/g,"marchColor.rgb,").replace(/nodeU\d+(?=,g_uid\d+_calpha\))/g,"marchColor.a")}
			#else
				${r[0]}
			#endif
		#else
			${r[0]}
		#endif
		`;e.fragmentShader=`in vec4 marchColor;
`+e.fragmentShader.replace(r[0],n),Object.assign(e.uniforms,this.marchPassUniforms)}initDebugPass(e){console.log("fboToDebug.width",e.width,e.height),this.geometry=new _s(e.width,e.height),this.geometry.userData={parameters:{width:4,height:4}};let t={inputTexture:{value:Array.isArray(e.texture)?e.texture[1]:e.texture},pyramidTextureSize:{value:void 0}},i=r=>{r.vertexShader=`
				precision highp float;

				varying vec2 vUv;

				void main() {
						gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
						vUv = uv;
				}
			`,r.fragmentShader=`
				layout(location = 1) out vec4 gVelocity;

				precision highp float;
				
				uniform sampler2D inputTexture;
				varying vec2 vUv;

				uniform vec2 pyramidTextureSize;

				void main() {
						// Sample the input texture using UV coordinates
						gl_FragColor = texture(inputTexture, vUv);
						gVelocity = vec4(0.0);
				}
			`,t.pyramidTextureSize.value=new re(this.pyramidRenderTarget.width,this.pyramidRenderTarget.height),Object.assign(r.uniforms,t)};this.material.shapeBlendhack=i,this.material.root.shapeBlendhack=i}},Nd=TH;Nd.streamCompaction=new U3e;var V3e=new Ie,H3e=new Ie,Sh=new mt,tc=new N,Ky=new N,G3e=new mt;function W3e(e,t=0){let i=this.children.length;for(;i--;){let r=this.children[i];Dd.is(r)&&AH.call(r,e,t+1)}}function AH(e,t=0){if(e(this,t)!==!0){let i=this.children.length;for(;i--;){let r=this.children[i];Dd.is(r)&&AH.call(r,e,t+1)}}}function q3e(){if(this.shapesDataTexture.value===void 0){let c=new Dn(new Float32Array(4*Wr*Wu),Wr,Wu,Ii,ni);this.shapesDataTexture.value=c}let e=this.shapesDataTexture.value,t=e.image.data;e.needsUpdate=!0;let i=0,r=this.data.geometry.blendRange,n=V3e.copy(this.matrixWorld).invert(),a=0;W3e.call(this,c=>{var v;if(c.visible===!1)return!0;let l;if(c instanceof Ba||c instanceof lg||c instanceof cg)return;c instanceof en?l=c.object:l=c;let o=(v=c.data)==null?void 0:v.cloner;if(Ut.is(c)&&o&&!o.hideBase&&o.type!=="radial"&&o.disabled!==!0||!(l instanceof sr))return;let s=l.geometry.userData.parameters,u=s.shapeBlendNode;if(u===void 0)return;if(H3e.multiplyMatrices(n,c.matrixWorld).decompose(Ky,Sh,tc),s.type==="TorusGeometry"&&s.arc!==360){let S=s.arc*Math.PI/180;S=S/4,Sh.multiply(G3e.set(0,0,Math.sin(S),Math.cos(S)))}let d=u.overrideGlobalBlend?u.blendRange:r;d=d/this.bboxSize*2,t[a*4]=(Ky.x-this.bboxOffset)/this.bboxSize*2,t[a*4+1]=(Ky.y-this.bboxOffset)/this.bboxSize*2,t[a*4+2]=(Ky.z-this.bboxOffset)/this.bboxSize*2,t[a*4+3]=u.operation===0?1:u.operation===2?-1:-2,t[Wr*4+a*4]=-Sh.x,t[Wr*4+a*4+1]=-Sh.y,t[Wr*4+a*4+2]=-Sh.z,t[Wr*4+a*4+3]=Sh.w;let h=new Float32Array(4),p=0;if(s.type==="SphereGeometry")s.width===s.height&&s.width===s.depth?h[0]=0:h[0]=1,h[1]=s.width/this.bboxSize,h[2]=s.height/this.bboxSize,h[3]=s.depth/this.bboxSize,i=Math.max(i,h[1]*tc.x+d,h[2]*tc.x+d,h[3]*tc.x+d);else if(s.type==="CubeGeometry"){p=s.cornerRadius;let S=s.width,x=s.height,b=s.depth;h[0]=2,h[1]=(S-2*p)/this.bboxSize,h[2]=(x-2*p)/this.bboxSize,h[3]=(b-2*p)/this.bboxSize,i=Math.max(i,Math.sqrt(S**2+x**2+b**2)/this.bboxSize*tc.x+d)}else if(s.type==="CylinderGeometry"){p=s.cornerRadius;let S=s.height,x=s.radiusBottom,b=s.radiusTop;if(b>=x){let _=Math.atan2(b-x,S),w=(Math.PI/2-_)/2;b-=p/Math.tan(w),x-=p*Math.tan(w)}else if(x>b){let _=Math.atan2(x-b,S),w=(Math.PI/2-_)/2;b-=p*Math.tan(w),x-=p/Math.tan(w)}h[1]=(s.height-2*p)/this.bboxSize,x===b?(h[0]=3,h[2]=x/this.bboxSize*2):(h[0]=4,h[2]=x/this.bboxSize*2,h[3]=b/this.bboxSize*2),i=Math.max(i,h[1]*4*tc.x+d)}else if(s.type==="TorusGeometry"){if(h[0]=5,h[1]=(s.width-s.depth)/this.bboxSize,h[2]=s.depth/this.bboxSize,s.arc!==360){h[0]=6,h[3]=h[1],t[Wr*12+a*4+3]=h[2];let S=2*Math.atan2(h[2]/2,h[1]),x=s.arc*Math.PI/180/2-S;h[1]=Math.sin(x),h[2]=Math.cos(x)}i=Math.max(i,s.width*tc.x/this.bboxSize+d)}t.set(h,Wr*8+a*4),t[Wr*12+a*4]=d,t[Wr*12+a*4+1]=p/this.bboxSize*2,t[Wr*12+a*4+2]=tc.x;let m=l.material,f=m.uniforms.nodeU0.node.value,g=m.uniforms.nodeU1.value;u.operation!==0&&!u.useColor&&(g=-1),t[Wr*16+a*4]=f.r,t[Wr*16+a*4+1]=f.g,t[Wr*16+a*4+2]=f.b,t[Wr*16+a*4+3]=g,g<1&&this.material.defines.SHAPEBLEND_C===1&&(this.material.transparent=!0),a++}),this.npart=a,this.spatialPassUniforms.span.value=i*1.4}var MH=512;function qO(e,t){let i=!1,r=e.layers.mask&MH,n=t.getLayersOfType("transmission"),a=t.getLayersOfType("outline");return a.length>0&&(e.layers.set(8),n.length>0&&e.layers.enable(3),i=!0,uj(e),cj(e)),n.length===0&&a.length===0&&e.layers.set(0),r&&e.layers.set(9),e instanceof kf&&e.needsAO&&e.layers.enable(5),i}function YO(e,t){if(!t.layers)return!1;let i=e.layers.mask&MH,r=!1,n=t.getLayersOfType("transmission").filter(c=>c.data.visible),a=t.getLayersOfType("outline").filter(c=>c.data.visible);return n.length>0&&(e.layers.set(3),a.length>0&&e.layers.enable(8),r=!0),n.length===0&&a.length===0&&e.layers.set(0),i&&e.layers.set(9),e.needsAO&&e.layers.enable(5),r}function Y3e(e){let t=!1;return e.traverseEntity(i=>{if(i instanceof kf)if(Array.isArray(i.material))for(let r=0;r<i.material.length;r++)qO(i,i.material[r])&&(t=!0);else qO(i,i.material)&&(t=!0)}),t}function K3e(e){let t=!1;return e.traverseEntity(i=>{if(i instanceof kf)if(Array.isArray(i.material))for(let r=0;r<i.material.length;r++)YO(i,i.material[r])&&(t=!0);else YO(i,i.material)&&(t=!0)}),t}var X3e=new hF,J3e=new Ie,Q3e=new yf;function HT(e,t,i,r=!1){let n=e.cloner;if(n)for(let a of n.children){let c=J3e.copy(a.matrixWorld).invert(),l=Q3e.copy(t.ray).applyMatrix4(c),o=e.matrixWorld;l.applyMatrix4(o);let s=X3e;s.set(l.origin,l.direction),s.near=t.near,s.far=t.far;let u=s.intersectObject(e,!1);u.length>0&&i.push({...u[0],object:r?a:e})}}var $3e=class{constructor(){this._constraints=new Map}setConstraint(e,t){t===null?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((i,r)=>{let n=[r,i],a=i;for(;this._constraints.has(a);){if(a=this._constraints.get(a),n.includes(a)){console.warn(`circular dependency detected: ${n.join(" -> ")}`);break}t.has(a)||n.push(a)}for(let c=n.length-2;c>=0;c--)if(!t.has(n[c])){let l=e.find(n[c]);l?l.applyPathSnapping(e):console.warn(`missing entity ${n[c]}`),t.add(n[c])}})}findDependency(e,t){let i=e;for(;this._constraints.has(i);)if(i=this._constraints.get(i),i===t)return!0;return!1}},Z3e="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL",kc=class{};$u(kc,"DepthMapRange",65536),$u(kc,"MemoryPageSize",65536),$u(kc,"BytesPerFloat",4),$u(kc,"BytesPerInt",4);function eTe(e){let t,i,r,n,a,c,l,o,s,u,d,h,p,m,f,g;function v(M){let j=new Float64Array(u,c,16);for(let I=0;I<16;I++)j[I]=M[I];let P;if(r>1){t.exports.sortIndexes(n,a,s,c,l,o,h.DepthMapRange,r);let I=new Uint32Array(r);P=I.buffer,I.set(new Uint32Array(u,o,r))}else if(r===1){let I=new Uint32Array(r);I[0]=new Uint32Array(u,n,i)[0],P=I.buffer}else P=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:P},[P])}function S(M,j,P){let I=new Float32Array(u,a,i*3);r=0;let k=new Uint32Array(u,n,i);for(let R=0;R<P.length-1;R++){let O=j[R],D=M[R].elements,L=O.filter(F=>F.enabled&&F.mode==="Include").map(F=>F.type==="Box"?w(F):A(F)),B=O.filter(F=>F.enabled&&F.mode==="Exclude").map(F=>F.type==="Box"?w(F):A(F));for(let F=P[R];F<P[R+1];F++){let H=p[F*3],ee=p[F*3+1],U=p[F*3+2];if((L.length===0||b(H,ee,U,L))&&(B.length===0||!b(H,ee,U,B))){let X=1/(D[3]*H+D[7]*ee+D[11]*U+D[15]);I[r*3]=(D[0]*H+D[4]*ee+D[8]*U+D[12])*X,I[r*3+1]=(D[1]*H+D[5]*ee+D[9]*U+D[13])*X,I[r*3+2]=(D[2]*H+D[6]*ee+D[10]*U+D[14])*X,k[r]=F,r++}}}}function x(M,j){let P=[],I=j.filter(O=>O.enabled&&O.mode==="Include").map(O=>O.type==="Box"?w(O):A(O)),k=j.filter(O=>O.enabled&&O.mode==="Exclude").map(O=>O.type==="Box"?w(O):A(O)),R=M.length;for(let O=0;O<R;O+=3){let D=M[O],L=M[O+1],B=M[O+2];(I.length===0||b(D,L,B,I))&&(k.length===0||!b(D,L,B,k))||P.push(O/3)}return P}function b(M,j,P,I,k){return I[k==="Intersect"?"every":"some"](R=>{let O=_(M,j,P,R.invRotationMatrix,R.cropCenter);return Array.isArray(R)?E(O.x,O.y,O.z,R):T(O.x,O.y,O.z,R)})}function _(M,j,P,I,k){let R=M-k[0],O=j-k[1],D=P-k[2],L=1/(I[3]*R+I[7]*O+I[11]*D+I[15]);return{x:(I[0]*R+I[4]*O+I[8]*D+I[12])*L+k[0],y:(I[1]*R+I[5]*O+I[9]*D+I[13])*L+k[1],z:(I[2]*R+I[6]*O+I[10]*D+I[14])*L+k[2]}}function w(M){let j=M.cropSize[0]/2,P=M.cropSize[1]/2,I=M.cropSize[2]/2,k=[M.cropCenter[0]-j,M.cropCenter[1]-P,M.cropCenter[2]-I,M.cropCenter[0]+j,M.cropCenter[1]+P,M.cropCenter[2]+I],R=C(M.cropRotation);return Object.assign(k,{invRotationMatrix:R,cropCenter:M.cropCenter})}function C(M){let j=[],P=M[0]*Math.PI/180,I=M[1]*Math.PI/180,k=M[2]*Math.PI/180,R=Math.cos(P),O=Math.sin(P),D=Math.cos(I),L=Math.sin(I),B=Math.cos(k),F=Math.sin(k),H=R*B,ee=R*F,U=O*B,X=O*F;return j[0]=D*B,j[1]=-D*F,j[2]=L,j[4]=ee+U*L,j[5]=H-X*L,j[6]=-O*D,j[8]=X-H*L,j[9]=U+ee*L,j[10]=R*D,j[12]=0,j[13]=0,j[14]=0,j[3]=0,j[7]=0,j[11]=0,j[15]=1,j}function E(M,j,P,I){return M>=I[0]&&M<=I[3]&&j>=I[1]&&j<=I[4]&&P>=I[2]&&P<=I[5]}function A(M){let j=2/M.cropSize[0],P=2/M.cropSize[1],I=2/M.cropSize[2],k=C(M.cropRotation);return{invRadiusX:j,invRadiusY:P,invRadiusZ:I,cropCenter:M.cropCenter,invRotationMatrix:k}}function T(M,j,P,I){let k=(M-I.cropCenter[0])*I.invRadiusX,R=(j-I.cropCenter[1])*I.invRadiusY,O=(P-I.cropCenter[2])*I.invRadiusZ;return k*k+R*R+O*O<=1}e.onmessage=M=>{if(M.data.getCroppedIndexes){let j=new Uint32Array(x(new Float32Array(M.data.positions),M.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:j},[j])}else if(M.data.positions)d=M.data.positions,p=new Float32Array(d),f=M.data.meshMatrixWorlds,g=M.data.cropsArray,m=M.data.meshIndexIntervals,S(f,g,m),e.postMessage({sortSetupComplete:!0});else if(M.data.sort||M.data.newMatrixWorlds||M.data.newCropsArray)(M.data.newMatrixWorlds||M.data.newCropsArray)&&(g=M.data.newCropsArray||g,f=M.data.newMatrixWorlds||f,S(f,g,m)),v(M.data.sort.view,M.data.sort.cameraPosition);else if(M.data.init){h=M.data.init.Constants,i=M.data.init.splatCount;let j=h.BytesPerInt,P=h.BytesPerFloat*3,I=new Uint8Array(M.data.init.sorterWasmBytes),k=j+P,R=i*k,O=i*h.BytesPerInt*2+h.DepthMapRange*h.BytesPerInt*2,D=h.MemoryPageSize*32,L=R+O+D,B=Math.floor(L/h.MemoryPageSize)+1,F={module:{},env:{memory:new WebAssembly.Memory({initial:B*2,maximum:B*3,shared:!0})}};WebAssembly.compile(I).then(H=>WebAssembly.instantiate(H,F)).then(H=>{t=H,n=0,a=i*j,c=a+i*P,s=c+16*h.BytesPerFloat*2,l=s+i*h.BytesPerInt,o=l+h.DepthMapRange*h.BytesPerInt,u=F.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}function tTe(e){let t=new Worker(URL.createObjectURL(new Blob(["(",eTe.toString(),")(self)"],{type:"application/javascript"}))),i=atob(Z3e),r=new Uint8Array(i.length);for(let n=0;n<i.length;n++)r[n]=i.charCodeAt(n);return t.postMessage({init:{sorterWasmBytes:r.buffer,splatCount:e,Constants:{BytesPerFloat:kc.BytesPerFloat,BytesPerInt:kc.BytesPerInt,DepthMapRange:kc.DepthMapRange,MemoryPageSize:kc.MemoryPageSize}}}),t}var nC=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(i){return e[0]=i,t[0]}}(),iTe=function(e,t,i,r){return e+(t<<8)+(i<<16)+(r<<24)},Xy=new re;function KO(e){let t=!1;return e.scene.objects.traverse((i,r)=>{if(r.visible===!1)return!0;r.type==="Splat"&&(t=!0)}),t}var N1=class extends gi{constructor(e,t,i,r,n=!1,a=1,c,l){super(i,r),this.splatCount=t,this.meshIndexIntervals=c,this.meshMatrixWorlds=l,this.splatBuffers=e,this.geometry=i,this.material=r,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=n,this.devicePixelRatio=a,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,i=!1,r=1,n,a){let c=N1.buildGeomtery(t),l=N1.buildMaterial(n);return new N1(e,t,c,l,i,r,n,a)}static buildMaterial(e){let t=`
            precision highp float;
            #include <common>

            attribute uint splatIndex;

            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D centersColorsTexture;
            uniform vec2 focal;
            uniform vec2 viewport;
            uniform vec2 basisViewport;
            uniform vec2 covariancesTextureSize;
            uniform vec2 centersColorsTextureSize;
						uniform highp sampler2D meshMatrixWorldsTexture;
						uniform uint meshIndexIntervals[257];
						uniform float orthoZoom;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;

            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
            const uvec4 shift4 = uvec4(0, 8, 16, 24);
            vec4 uintToRGBAVec (uint u) {
               uvec4 urgba = mask4 & u;
               urgba = urgba >> shift4;
               vec4 rgba = vec4(urgba) * encodeNorm4;
               return rgba;
            }

            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
                vec2 samplerUV = vec2(0.0, 0.0);
                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
                samplerUV.y = float(floor(d)) / dimensions.y;
                samplerUV.x = fract(d);
                return samplerUV;
            }

            void main () {
                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));
                vColor = uintToRGBAVec(sampledCenterColor.r);

                vPosition = position.xy * 2.0;

								uint meshIndex;
								for (int i = 1; i < 257; i++) {
									if (splatIndex < meshIndexIntervals[i]) {
										meshIndex = uint(i - 1);
										break;
									}
								}

								float strideMulmeshIndex = float(4u*meshIndex);
								float meshMatrixWorldsTextureLength = float(256*4);

								mat4 modelMat = mat4(
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))
								);
								mat4 modelViewMat = viewMatrix * modelMat;
								vec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); 
                vec4 clipCenter = projectionMatrix * viewCenter;

                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;
                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;
                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;

                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);
                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);

                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix
                mat3 Vrk = mat3(
                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
                );
                float s = 1.0 / (viewCenter.z * viewCenter.z);

                mat3 W = transpose(mat3(modelViewMat));
                mat3 T = orthoZoom > 0.0 ? W : W * mat3(
									focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
									0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
									0., 0., 0.
								);
                mat3 cov2Dm = transpose(T) * Vrk * T;
                cov2Dm[0][0] += 0.3;
                cov2Dm[1][1] += 0.3;

                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
                // need cov2Dm[1][0] because it is a symetric matrix.
                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
                // so that we can determine the 2D basis for the splat. This is done using the method described
                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
                //
                // This is a different approach than in the original work at INRIA. In that work they compute the
                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle
                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance
                // matrix (called 'conic') to determine fragment opacity.
                float a = cov2Dv.x;
                float d = cov2Dv.z;
                float b = cov2Dv.y;
                float D = a * d - b * b;
                float trace = a + d;
                float traceOver2 = 0.5 * trace;
                float term2 = sqrt(trace * trace / 4.0 - D);
                float eigenValue1 = traceOver2 + term2;
								float eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value

                const float maxSplatSize = 1024.0;
                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
                // since the eigen vectors are orthogonal, we derive the second one from the first
                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);
                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);
                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);

                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;

								if (orthoZoom > 0.0) {
									ndcOffset *= orthoZoom;
								}

                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            }`,i=`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;
						layout(location = 1) out vec4 gVelocity; 

            void main () {
                // compute the negative squared distance from the center of the splat to the
                // current fragment in the splat's local space.
                float A = -dot(vPosition, vPosition);
                if (A < -4.0) discard;
                vec3 color = vColor.rgb;
                A = exp(A) * vColor.a;
                gl_FragColor = vec4(color.rgb, A);
								gVelocity = vec4(0.0); // so it is ignored by TAA
            }`,r={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new re},viewport:{type:"v2",value:new re},basisViewport:{type:"v2",value:new re},debugColor:{type:"v3",value:new lt},covariancesTextureSize:{type:"v2",value:new re(1024,1024)},centersColorsTextureSize:{type:"v2",value:new re(1024,1024)},orthoZoom:{type:"f",value:-1}};return new Ht({uniforms:r,vertexShader:t,fragmentShader:i,transparent:!0,alphaTest:1,blending:hd,depthTest:!0,depthWrite:!1,side:vn})}static buildGeomtery(e){let t=new Qe;t.setIndex([0,1,2,0,2,3]);let i=new Float32Array(4*3),r=new ct(i,3);t.setAttribute("position",r),r.setXYZ(0,-1,-1,0),r.setXYZ(1,-1,1,0),r.setXYZ(2,1,1,0),r.setXYZ(3,1,-1,0),r.needsUpdate=!0;let n=new uF().copy(t),a=new Uint32Array(e),c=new Kg(a,1,!1);return c.setUsage(Sne),n.setAttribute("splatIndex",c),n.instanceCount=e,n}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(r=>r.buildPreComputedBuffers()),this.covariances=new Float32Array(this.splatCount*6),this.colors=new Uint8Array(this.splatCount*4),this.centers=new Float32Array(this.splatCount*3);let e=0,t=0,i=0;for(let r of this.splatBuffers){let n=r.nsplats;this.colors.subarray(e,e+n*4).set(r.colorsA),e+=n*4,this.centers.subarray(t,t+n*3).set(r.decoded.xyz.denormDequant().data),t+=n*3,this.covariances.subarray(i,i+n*6).set(new Float32Array(r.precomputedCovarianceBufferData)),i+=n*6}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new re(4096,1024);for(;t.x*t.y*2<e*6;)t.y*=2;let i=new re(4096,1024);for(;i.x*i.y*4<e*4;)i.y*=2;let r,n;if(this.halfPrecisionCovariancesOnGPU){n=new Uint16Array(t.x*t.y*2);for(let u=0;u<this.covariances.length;u++)n[u]=ede.toHalfFloat(this.covariances[u]);r=new Dn(n,t.x,t.y,Fb,Il)}else n=new Float32Array(t.x*t.y*2),n.set(this.covariances),r=new Dn(n,t.x,t.y,Fb,ni);r.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=r,this.material.uniforms.covariancesTextureSize.value.copy(t);let a=new Uint32Array(i.x*i.y*4);for(let u=0;u<e;u++){let d=u*4,h=u*3,p=u*4;a[p]=iTe(this.colors[d],this.colors[d+1],this.colors[d+2],this.colors[d+3]),a[p+1]=nC(this.centers[h]),a[p+2]=nC(this.centers[h+1]),a[p+3]=nC(this.centers[h+2])}let c=new Dn(a,i.x,i.y,TB,hl);c.internalFormat="RGBA32UI",c.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=c,this.material.uniforms.centersColorsTextureSize.value.copy(i);let l=256*4,o=new Float32Array(256*16);for(let u=0;u<this.meshMatrixWorlds.length;u++)o.set(this.meshMatrixWorlds[u].elements,u*16);let s=new Dn(o,l,1,Ii,ni);s.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=s,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:n,texture:r,size:t},centerColors:{data:a,texture:c,size:i},meshMatrixWorlds:{data:o,texture:s}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,i,r){this.splatCount>0&&(Xy.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(Xy),this.material.uniforms.basisViewport.value.set(2/Xy.x,2/Xy.y),this.material.uniforms.focal.value.set(t,i),this.material.uniforms.orthoZoom.value=r,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose()),this.removeFromParent()}},jH,rTe=new Promise(e=>{jH=e}),XO=!1,Jy;function nTe(){if(XO)return;if(Jy)return Jy;async function e(){let t=await hu(()=>import("./gaussian-splat-compression-BblNKJdU.js"),__vite__mapDeps([]));jH(t),XO=!0}return Jy=e(),Jy}var IH;rTe.then(e=>IH=e);var aTe=class{constructor(e={}){$u(this,"updateView",function(){let t=new Ie,i=[],r=new N(0,0,-1),n=new N(0,0,-1),a=new N,c=new N;return function(l=!1,o){let s=this.updateMatrixWorldsInWorkerIfNeeded(),u=this.cropsChanged();if(!l){n.set(0,0,-1).applyQuaternion(o.quaternion);let h=!1,p=!1;if(n.dot(r)<=.95&&(h=!0),c.copy(o.position).sub(a).length()>=1&&(p=!0),!h&&!p&&!s&&!u&&!this.needsInitialRender)return}this.needsInitialRender=!1,a.copy(o.position),r.copy(n),t.copy(o.matrixWorld).invert(),t.premultiply(this.dummyPerspectiveMatrix),i[0]=o.position.x,i[1]=o.position.y,i[2]=o.position.z;let d={sort:{view:t.elements,cameraPosition:i,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...s?{newMatrixWorlds:this.meshMatrixWorlds}:{},...u?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=d:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(d))}}()),this.scene=e.scene,this.currentPage=null,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null,this.needsInitialRender=!0,this.dummyPerspectiveMatrix=new Ie().makePerspective(-1,1,-1,1,.1,1e3)}updateSplatMeshUniforms(e,t){let i=new re;this.splatMesh!==null&&this.splatMesh.getSplatCount()>0&&(e.getSize(i),this.cameraFocalLengthX=t.projectionMatrix.elements[0]*this.devicePixelRatio*i.x*.45,this.cameraFocalLengthY=t.projectionMatrix.elements[5]*this.devicePixelRatio*i.y*.45,this.splatMesh.updateUniforms(i,this.cameraFocalLengthX,this.cameraFocalLengthY,t.isPerspectiveCamera?-1:t.zoom*this.devicePixelRatio))}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=new N().fromArray(e.position)),e.orientation&&(e.orientation=new mt().fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseVisibleEntity(a=>{a.data.type==="Splat"&&t.push(a)}),this.splatMesh&&this.splatMesh.dispose(),t.length===0)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(a=>a.matrixWorld),this.meshMatrixWorldsOld=t.map(a=>a.matrixWorld.clone()),this.cropsArray=t.map(a=>a.data.crops.map(c=>c.data));let i=t.map(a=>new IH.GSplineBuffer(new Uint8Array(a.data.buffer).buffer)),r=0,n=[0];for(let a of i)r+=a.getSplatCount(),n.push(r);return this.setupSplatMesh(i,r,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,n,this.meshMatrixWorlds),this.setupSortWorker(r),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,t*16);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,this.meshMatrixWorlds.every((t,i)=>t.equals(this.meshMatrixWorldsOld[i]))?!1:(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,i)=>{var r;t.data.crops.forEach((n,a)=>{this.cropsArray[i][a]===void 0?(e=!0,this.cropsArray[i][a]=n.data):Object.entries(n.data).forEach(([c,l])=>{var o;Array.isArray(l)&&l.some((s,u)=>s!==this.cropsArray[i][a][c][u])?(e=!0,this.cropsArray[i][a][c]=l):l!==((o=this.cropsArray[i][a])==null?void 0:o[c])&&(e=!0,this.cropsArray[i][a][c]=l)})}),t.data.crops.length!==((r=this.cropsArray[i])==null?void 0:r.length)&&(this.cropsArray[i].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,i=new N,r=new mt,n=!1,a=1,c,l){this.splatMesh=N1.buildMesh(e,t,n,a,c,l),this.splatMesh.position.copy(i),this.splatMesh.quaternion.copy(r),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=99999,this.splatRenderCount=t,this.splatMesh.onBeforeRender=(o,s,u)=>this.update(o,u)}setupSortWorker(e){this.sortWorker=tTe(e),this.sortWorker.onmessage=t=>{var i;t.data.sortDone?(this.sortRunning=!1,(i=this.splatMesh)==null||i.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.scene.activePage.add(this.splatMesh),this.needsInitialRender=!0)}}update(e,t){this.splatMesh!==null&&(this.updateSplatMeshUniforms(e,t),this.updateView(!1,t))}getSplatMesh(){return this.splatMesh}},GT=new Pl;GT.wireframe=!0;var JO=new N,_j=class extends ra{constructor(e,t){super(),this.data=e,this.sharedAssets=t,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.shapeBlendIntances=[],this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new $3e,this.invisibleObjects=new Ap("jflkdsafjasdifjaslk",{...Q3.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1,this.errorPage=new kr("fdasfa",{...Qp.defaultData,name:""},{shared:t,scene:this})}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=K3e(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=Y3e(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),i=this.entityIdentityToEntity[t];i&&(e.uuid=i.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof kr&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let i=[],r=t;for(;r!==this;){let n=r;r=r.parent;let a=r.children.indexOf(n);i.splice(0,0,a)}return{entity:t,sortKey:i}}getAllSorted(e){let t=[];for(let i of e){let r=this.getWithSortKey(i.id);r!==void 0&&t.push(r)}return t.sort((i,r)=>$F(i.sortKey,r.sortKey)),t.map(i=>i.entity)}nonExistOrDescendantOf(e,t){let i=this.find(e);if(i===void 0)return!0;for(;i;){if(i.uuid===t)return!0;i=i.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if(e==="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera")return this.activePage.personalCamera;if(e===jf)return this.activePage.personalCamera}if(e===""||e===void 0)return;let t=this.entityByUuid[e];return t===void 0?this.getObjectByProperty("uuid",e):t}find2D(e){for(let t of this.children)if(t instanceof kr&&t.uiScene){let i=t.uiScene.find(e);if(i)return i}}findScene2DfromObject2D(e){for(let t of this.children)if(t instanceof kr&&t.uiScene&&t.uiScene.find(e))return t.uiScene}find2DInUIObjects(e){let t;return this.traverseEntity(i=>{t===void 0&&i instanceof gn&&(t=i.uiCanvas.find(e))}),t}traverse2D(e){for(let t of this.children)t instanceof kr&&t.uiScene&&t.uiScene.traverse(e)}debugEnsureEntity(e){let t=this.find(e);if(t){if(Array.isArray(t.identity)&&this.findInstance(t.identity)===void 0){console.error("not found instance");debugger}}else{console.error("not found");debugger}}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{var t;(t=e.cloner)==null||t.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){e.path.length===1&&e.path[0]==="components"&&e.type===1&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){var i;if(e.path.length===0&&e.type===7){let r=e.parent===null?this:this.find(e.parent);if(r===void 0)throw new Error("unexpected");let n=this.createObject(e.id,e.data,e.children,r,e.localIndex,t);n.updateVisible(this),n.resetBBoxNeedsUpdate(),vo(n)&&gl(n.parent)&&(n.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(r),this.markNeedsRecomputeInstancesForChildren(n),this.markToExpandCloner(n),this.markPenumbraSizeDirty(),n.updatePathSnapping()}else if(e.path.length===0&&e.type===8){let r=this.find(e.id);if(r===void 0)throw new Error("unexpected");r.traverseEntity(a=>{a instanceof Nd&&(this.shapeBlendIntances=this.shapeBlendIntances.filter(c=>c!==a))}),this.markToExpandCloner(r),r.resetBBoxNeedsUpdate(),this.unregisterObject(r);let n=r.parent;this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(r),this.markPenumbraSizeDirty(),r.parent.remove(r),gl(r.parent)&&(r.parent.invalidateUpstreamBooleanData(),r.parent.invalidateDownstreamBooleanData().recomputeBoolean()),vo(r)&&(r.freeBooleanPointer(),n instanceof Rd&&n.invalidateDownstreamBooleanData().recomputeBoolean()),r instanceof yj&&r.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(r),this.pathConstraints.removeDependencies(r.uuid),r.updatePathSnapping()}else if(e.path.length===0&&e.type===9){let r=this.find(e.id);if(r===void 0)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(r);let n=r.parent;this.markNeedsRecomputeInstancesForAncessors(n),(i=r.cloner)==null||i.resetOnMove(),this.markToExpandCloner(r);let a=e.parent===null?this:this.find(e.parent);if(a===void 0)throw new Error("unexpected");a.add(r),this.markNeedsRecomputeInstancesForAncessors(a),this.markToExpandCloner(r),r.invalidateClonerTransform(r),r.updateVisible(this),r.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let c=e.localIndex;a.children.splice(c,0,a.children.pop()),vo(r)&&(r.invalidateUpstreamBooleanData(),gl(r.parent)?r.parent.invalidateDownstreamBooleanData().recomputeBoolean():n instanceof Rd&&n.invalidateDownstreamBooleanData().recomputeBoolean()),r.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){var t;this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let i of this.children)i instanceof kr&&(i.visible=i.uuid===e,i.visible&&(this.activePage=i,this.activePage.onActive(this)));this.activePage!==((t=this.splatViewer)==null?void 0:t.activePage)&&this.reloadSplats()}updateEntityByOp(e,t,i,r){if(t.type===0){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:a}=t.props;t={...t,props:a},this.markNeedsRecomputeInstances()}t.path[0]==="pathSnapping"&&t.props.pathId!==void 0&&this.pathConstraints.setConstraint(e,t.props.pathId)}let n=this.find(e);if(n)try{B3e(n,t,i,{scene:this,shared:r}),n instanceof sr&&n.updateGeometryGroupsIfNeeded()}catch(a){console.error(a)}}updateEntity2DByOp(e,t,i,r,n,a=[]){e.updateEntityByOp(t,i,r,n),this.traverseEntity(c=>{(c instanceof gn||c instanceof kr)&&(a.includes(c.frameId??"")||c.frameId===t)&&c.updateEntity2DByOp(t,i,r,n)})}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let i=Object.entries(t.data.lib.components).map((r,n)=>({data:r[1].asset.data,children:r[1].asset.children,id:r[0],fi:n}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(i,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(r=>{r instanceof yn&&r.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{(t.data.type==="Component"||t.data.type==="Instance")&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){Ut.is(e)&&(e.data.type==="Component"&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{Ut.is(t)&&t.data.type==="Component"&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,i,r,n,a,c){if(e){let l=r.find(e);l&&l!==r&&n.forInstancesRec(o=>{o.data=nv(o.data,s=>{let u=s.events.data(c.id),d=o.goUp(a);if(d){let h=[...QF(d.identity),e].join("-"),p=this.entityIdentityToEntity[h];if(p){let m=p.uuid,f=br.zoom(u,t);f[i]=m}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,i,r,n,a){e.forEach(c=>{c.data.type==="Transition"?this.relativeizeInner(c.data.object,[...t,c.id],"object",i,r,n,a):c.data.type==="Animation"?this.relativeizeInner(c.data.object,[...t,c.id],"object",i,r,n,a):c.data.type==="Conditional"&&(this.rewriteActions(c.data.ifActions,[...t,c.id,"ifActions"],i,r,n,a),this.rewriteActions(c.data.elseActions,[...t,c.id,"elseActions"],i,r,n,a))})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof Mp&&typeof e.identity=="string"&&e.data.type==="Component")return e.traverseEntity((t,i)=>{t.data.events.forEach(r=>{if(r.data.type==="GameControl"){let n=!1;if(t.forInstancesRec(a=>{a.data=nv(a.data,c=>{a.isInstanceRoot||(c.events.delete(r.id),n=!0)}).data}),n===!1)for(let a of _x.list)this.rewriteActions(r.data.gameActions[a],["gameActions",a],e,t,i,r)}else r.data.type==="Conditional"?(r.data.condition.type==="Distance"?(this.relativeizeInner(r.data.condition.fromObject,["condition"],"fromObject",e,t,i,r),this.relativeizeInner(r.data.condition.toObject,["condition"],"toObject",e,t,i,r)):r.data.condition.type==="State"?this.relativeizeInner(r.data.condition.object,["condition"],"object",e,t,i,r):r.data.condition.type==="Comparison"&&(r.data.condition.lOperand.type==="Property"&&this.relativeizeInner(r.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,i,r),r.data.condition.rOperand.type==="Property"&&this.relativeizeInner(r.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,i,r)),this.rewriteActions(r.data.inActions,["inActions"],e,t,i,r),this.rewriteActions(r.data.outActions,["outActions"],e,t,i,r)):"actions"in r.data&&this.rewriteActions(r.data.actions,["actions"],e,t,i,r)})}),!0})}expandInstances(e,t,i){let r=new Set;this.traverseEntity(n=>{if(n instanceof Mp&&n.isInstanceRoot)return n.expandInstanceChildren({scene:this,shared:e,pendingDeletes:r}),t||n.resetBBoxNeedsUpdate(),i&&n.traverseEntity(a=>{i.addClip(a)}),!0});for(let n of r)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),xj(n)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(i=>{i instanceof Mp&&i.isInstanceRoot&&(i.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let i=typeof t.identity=="string"?t.identity:t.identity.join("-");this.entityIdentityToEntity[i]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[i]),t.dispose()})}clearScene(){for(let e of this.children)Ut.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let i=[],r=n=>{for(let a of n.children){let c=a.cloner;if(Ut.is(a)&&!a.raycastLock&&(a.visible||c!=null&&c.object.data.visible))if(t===!0&&a.isInstanceRoot){let l=[];if(e.intersectObject(a,!0,l),l.length){let o=l[0];o.object=a,o.point.applyMatrix4(o.object.matrixWorld);let s=a.matrixWorld.clone().invert();o.point.applyMatrix4(s),i.push(o)}}else(vo(a)||kT(a)&&this.enableHelpers&&a.objectHelper.visible)&&(e.intersectObject(a,!1,i),HT(a,e,i)),r(a)}};return r(this.activePage),i}raycastWithClones(e){let t=[],i=r=>{for(let n of r.children){let a=n.cloner;Ut.is(n)&&(n.visible||a!=null&&a.object.data.visible)&&((vo(n)||kT(n)&&this.enableHelpers&&n.objectHelper.visible)&&(e.intersectObject(n,!1,t),HT(n,e,t,!0)),i(n))}};return i(this),t}forEachEntity(e){for(let t of this.children)Ut.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)Ut.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)Ut.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(i=>{if(i instanceof sr&&i.data.type==="Mesh"&&(i.data.geometry.type==="TextGeometry"||i.data.geometry.type==="InputGeometry")&&i.data.geometry.font===e){let r=i.geometry,n=i.data.geometry;r.updateFont(e,t).then(()=>{r.update(n);let a=i.invalidateDownstreamBooleanData();gl(a)&&a.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)Dd.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)Ut.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,i){let r=0;for(let n of e)this.createObject(n.id,n.data,n.children,t,r,i),r+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,i,r,n,a){var o;let c={scene:this,shared:a},l=wj(e,t,c);return l instanceof Nd&&this.shapeBlendIntances.push(l),l&&(this.entityByUuid[e]=l,r.add(l),r.children.splice(n,0,r.children.pop()),i.length>0&&(l.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(i,l,a)),l.updateState(t,c),l instanceof sr&&l.updateGeometryGroupsIfNeeded(),l.updateVisible(this),l.cloner&&this.toExpandCloner.add(l),(o=t.pathSnapping)!=null&&o.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),t.type==="Empty"&&t.animations&&l.traverseEntity(s=>{let u=s.dataPatched;if(s instanceof sr&&u.bones&&u.boneInverses){let d=u.bones.map(m=>this.find(m)),h=u.boneInverses.map(m=>new Ie().fromArray(m)),p=new sM(d,h);s.bind(p,s.bindMatrix)}else s.matrixAutoUpdate=!0}),l}getCenter(e){let t=[];for(let r=0,n=e.length;r<n;++r){let{id:a,recursive:c}=e[r],l=this.find(a),o=c?l.recursiveBBox:l.singleBBox;t.push(...o.vertices)}let i=new Zi;return i.setFromPoints(t),i.getCenter(JO),JO}copyMatrixWorld(e,t){if(e===null){t.identity();return}let i=this.find(e);i?t.copy(i.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){var r;if(e===null){t.identity();return}let i=(r=this.find(e))==null?void 0:r.parent;i?t.copy(i.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof zn)if(Array.isArray(t.material))for(let i=0;i<t.material.length;i++)t.material[i]instanceof nu&&e(t.material[i]);else t.material instanceof nu&&e(t.material)})}updateViewPlaneSize(e,t,i=!1){this.traverseConcreteEntity(r=>{r instanceof yn&&r.setViewplaneSize(e,t,i)})}initializeSplatViewer(){this.splatViewer=new aTe({scene:this}),this.reloadSplats()}reloadSplats(){var e;(e=this.splatViewer)==null||e.loadSplat()}},L1=(e,t)=>{let i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)},oTe=(e,t)=>{let i=t.x-e.x,r=t.y-e.y;return lTe(Math.atan2(r,i))},sTe=(e,t,i)=>{let r={x:0,y:0};return i=WT(i),r.x=e.x-t*Math.cos(i),r.y=e.y-t*Math.sin(i),r},WT=e=>e*(Math.PI/180),lTe=e=>e*(180/Math.PI),cTe=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,aC=new Map,QO=e=>{aC.has(e)&&clearTimeout(aC.get(e)),aC.set(e,setTimeout(e,100))},Bx=(e,t,i)=>{let r=t.split(/[ ,]+/g),n;for(let a=0;a<r.length;a+=1)n=r[a],e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&e.attachEvent(n,i)},$O=(e,t,i)=>{let r=t.split(/[ ,]+/g),n;for(let a=0;a<r.length;a+=1)n=r[a],e.removeEventListener?e.removeEventListener(n,i):e.detachEvent&&e.detachEvent(n,i)},PH=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),ZO=()=>{if(typeof window>"u")return;let e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},qT=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},Sj=(e,t,i)=>{let r=kH(e);for(let n in r)if(r.hasOwnProperty(n))if(typeof t=="string")r[n]=t+" "+i;else{let a="";for(let c=0,l=t.length;c<l;c+=1)a+=t[c]+" "+i+", ";r[n]=a.slice(0,-2)}return r},uTe=(e,t)=>{let i=kH(e);for(let r in i)i.hasOwnProperty(r)&&(i[r]=t);return i},kH=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(i){t[i+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},oC=(e,t)=>{for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},dTe=(e,t)=>{let i={};for(let r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)?i[r]=t[r]:e.hasOwnProperty(r)&&(i[r]=e[r]);return i},YT=(e,t)=>{if(e.length)for(let i=0,r=e.length;i<r;i+=1)t(e[i]);else t(e)},hTe=(e,t,i)=>({x:Math.min(Math.max(e.x,t.x-i),t.x+i),y:Math.min(Math.max(e.y,t.y-i),t.y+i)});typeof window<"u"&&(DH="ontouchstart"in window,OH=!!window.PointerEvent,RH=!!window.MSPointerEvent);var DH,OH,RH,fm={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},Zh,fv={};OH?Zh=fm.pointer:RH?Zh=fm.MSPointer:DH?(Zh=fm.touch,fv=fm.mouse):Zh=fm.mouse;function Wd(){}Wd.prototype.on=function(e,t){var i=this,r=e.split(/[ ,]+/g),n;i._handlers_=i._handlers_||{};for(var a=0;a<r.length;a+=1)n=r[a],i._handlers_[n]=i._handlers_[n]||[],i._handlers_[n].push(t);return i};Wd.prototype.off=function(e,t){var i=this;return i._handlers_=i._handlers_||{},e===void 0?i._handlers_={}:t===void 0?i._handlers_[e]=null:i._handlers_[e]&&i._handlers_[e].indexOf(t)>=0&&i._handlers_[e].splice(i._handlers_[e].indexOf(t),1),i};Wd.prototype.trigger=function(e,t){var i=this,r=e.split(/[ ,]+/g),n;i._handlers_=i._handlers_||{};for(var a=0;a<r.length;a+=1)n=r[a],i._handlers_[n]&&i._handlers_[n].length&&i._handlers_[n].forEach(function(c){c.call(i,{type:n,target:i},t)})};Wd.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=dTe(t.options,e))};Wd.prototype.bindEvt=function(e,t){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[t]=function(){typeof i["on"+t]=="function"?i["on"+t].apply(i,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},Bx(e,Zh[t],i._domHandlers_[t]),fv[t]&&Bx(e,fv[t],i._domHandlers_[t]),i};Wd.prototype.unbindEvt=function(e,t){var i=this;return i._domHandlers_=i._domHandlers_||{},$O(e,Zh[t],i._domHandlers_[t]),fv[t]&&$O(e,fv[t],i._domHandlers_[t]),delete i._domHandlers_[t],this};var Cj=Wd;function Er(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=Er.id,Er.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}Er.prototype=new Cj;Er.constructor=Er;Er.id=0;Er.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};Er.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=uTe("borderRadius","50%"),i=Sj("transition","opacity",e),r={};return r.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},r.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},r.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},oC(r.el,i),this.options.shape==="circle"&&oC(r.back,t),oC(r.front,t),this.applyStyles(r),this};Er.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var i in e[t])this.ui[t].style[i]=e[t][i];return this};Er.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};Er.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};Er.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};Er.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t};Er.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var i=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=i,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let i=t.options.restJoystick,r={};r.x=i===!0||i.x!==!1?0:t.instance.frontPosition.x,r.y=i===!0||i.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,r)}return t};Er.prototype.setPosition=function(e,t){var i=this;i.frontPosition={x:t.x,y:t.y};var r=i.options.fadeTime+"ms",n={};n.front=Sj("transition",["top","left"],r);var a={front:{}};a.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(n),i.applyStyles(a),i.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(i),i.restCallback()},i.options.fadeTime)};Er.prototype.restCallback=function(){var e=this,t={};t.front=Sj("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)};Er.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};Er.prototype.computeDirection=function(e){var t=e.angle.radian,i=Math.PI/4,r=Math.PI/2,n,a,c;if(t>i&&t<i*3&&!e.lockX?n="up":t>-i&&t<=i&&!e.lockY?n="left":t>-i*3&&t<=-i&&!e.lockX?n="down":e.lockY||(n="right"),e.lockY||(t>-r&&t<r?a="left":a="right"),e.lockX||(t>0?c="up":c="down"),e.force>this.options.threshold){var l={},o;for(o in this.direction)this.direction.hasOwnProperty(o)&&(l[o]=this.direction[o]);var s={};this.direction={x:a,y:c,angle:n},e.direction=this.direction;for(o in l)l[o]===this.direction[o]&&(s[o]=!0);if(s.x&&s.y&&s.angle)return e;(!s.x||!s.y)&&this.trigger("plain",e),s.x||this.trigger("plain:"+a,e),s.y||this.trigger("plain:"+c,e),s.angle||this.trigger("dir dir:"+n,e)}else this.resetDirection();return e};var pTe=Er;function er(e,t){var i=this;i.nipples=[],i.idles=[],i.actives=[],i.ids=[],i.pressureIntervals={},i.manager=e,i.id=er.id,er.id+=1,i.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},i.config(t),(i.options.mode==="static"||i.options.mode==="semi")&&(i.options.multitouch=!1),i.options.multitouch||(i.options.maxNumberOfNipples=1);let r=getComputedStyle(i.options.zone.parentElement);return r&&r.display==="flex"&&(i.parentIsFlex=!0),i.updateBox(),i.prepareNipples(),i.bindings(),i.begin(),i.nipples}er.prototype=new Cj;er.constructor=er;er.id=0;er.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(i){if(i===void 0)return t[0];for(var r=0,n=t.length;r<n;r+=1)if(t[r].identifier===i)return t[r];return!1}};er.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"};er.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var i=e.createNipple(t.position,e.manager.getIdentifier());i.add(),e.idles.push(i)}};er.prototype.createNipple=function(e,t){var i=this,r=i.manager.scroll,n={},a=i.options,c={x:i.parentIsFlex?r.x:r.x+i.box.left,y:i.parentIsFlex?r.y:r.y+i.box.top};if(e.x&&e.y)n={x:e.x-c.x,y:e.y-c.y};else if(e.top||e.right||e.bottom||e.left){var l=document.createElement("DIV");l.style.display="hidden",l.style.top=e.top,l.style.right=e.right,l.style.bottom=e.bottom,l.style.left=e.left,l.style.position="absolute",a.zone.appendChild(l);var o=l.getBoundingClientRect();a.zone.removeChild(l),n=e,e={x:o.left+r.x,y:o.top+r.y}}var s=new pTe(i,{color:a.color,size:a.size,threshold:a.threshold,fadeTime:a.fadeTime,dataOnly:a.dataOnly,restJoystick:a.restJoystick,restOpacity:a.restOpacity,mode:a.mode,identifier:t,position:e,zone:a.zone,frontPosition:{x:0,y:0},shape:a.shape});return a.dataOnly||(qT(s.ui.el,n),qT(s.ui.front,s.frontPosition)),i.nipples.push(s),i.trigger("added "+s.identifier+":added",s),i.manager.trigger("added "+s.identifier+":added",s),i.bindNipple(s),s};er.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()};er.prototype.bindNipple=function(e){var t=this,i,r=function(n,a){i=n.type+" "+a.id+":"+n.type,t.trigger(i,a)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",r),e.on("dir:up dir:right dir:down dir:left",r),e.on("plain:up plain:right plain:down plain:left",r)};er.prototype.pressureFn=function(e,t,i){var r=this,n=0;clearInterval(r.pressureIntervals[i]),r.pressureIntervals[i]=setInterval((function(){var a=e.force||e.pressure||e.webkitForce||0;a!==n&&(t.trigger("pressure",a),r.trigger("pressure "+t.identifier+":pressure",a),n=a)}).bind(r),100)};er.prototype.onstart=function(e){var t=this,i=t.options,r=e;e=PH(e),t.updateBox();var n=function(a){t.actives.length<i.maxNumberOfNipples?t.processOnStart(a):r.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(c){if(Object.values(r.touches).findIndex(function(o){return o.identifier===c})<0){var l=[e[0]];l.identifier=c,t.processOnEnd(l)}}),t.actives.length<i.maxNumberOfNipples&&t.processOnStart(a))};return YT(e,n),t.manager.bindDocument(),!1};er.prototype.processOnStart=function(e){var t=this,i=t.options,r,n=t.manager.getIdentifier(e),a=e.force||e.pressure||e.webkitForce||0,c={x:e.pageX,y:e.pageY},l=t.getOrCreate(n,c);l.identifier!==n&&t.manager.removeIdentifier(l.identifier),l.identifier=n;var o=function(u){u.trigger("start",u),t.trigger("start "+u.id+":start",u),u.show(),a>0&&t.pressureFn(e,u,u.identifier),t.processOnMove(e)};if((r=t.idles.indexOf(l))>=0&&t.idles.splice(r,1),t.actives.push(l),t.ids.push(l.identifier),i.mode!=="semi")o(l);else{var s=L1(c,l.position);if(s<=i.catchDistance)o(l);else{l.destroy(),t.processOnStart(e);return}}return l};er.prototype.getOrCreate=function(e,t){var i=this,r=i.options,n;return/(semi|static)/.test(r.mode)?(n=i.idles[0],n?(i.idles.splice(0,1),n):r.mode==="semi"?i.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(n=i.createNipple(t,e),n)};er.prototype.processOnMove=function(e){var t=this,i=t.options,r=t.manager.getIdentifier(e),n=t.nipples.get(r),a=t.manager.scroll;if(!cTe(e)){this.processOnEnd(e);return}if(!n){console.error("Found zombie joystick with ID "+r),t.manager.removeIdentifier(r);return}if(i.dynamicPage){var c=n.el.getBoundingClientRect();n.position={x:a.x+c.left,y:a.y+c.top}}n.identifier=r;var l=n.options.size/2,o={x:e.pageX,y:e.pageY};i.lockX&&(o.y=n.position.y),i.lockY&&(o.x=n.position.x);var s=L1(o,n.position),u=oTe(o,n.position),d=WT(u),h=s/l,p={distance:s,position:o},m,f;if(n.options.shape==="circle"?(m=Math.min(s,l),f=sTe(n.position,m,u)):(f=hTe(o,n.position,l),m=L1(f,n.position)),i.follow){if(s>l){let x=o.x-f.x,b=o.y-f.y;n.position.x+=x,n.position.y+=b,n.el.style.top=n.position.y-(t.box.top+a.y)+"px",n.el.style.left=n.position.x-(t.box.left+a.x)+"px",s=L1(o,n.position)}}else o=f,s=m;var g=o.x-n.position.x,v=o.y-n.position.y;n.frontPosition={x:g,y:v},i.dataOnly||qT(n.ui.front,n.frontPosition);var S={identifier:n.identifier,position:o,force:h,pressure:e.force||e.pressure||e.webkitForce||0,distance:s,angle:{radian:d,degree:u},vector:{x:g/l,y:-v/l},raw:p,instance:n,lockX:i.lockX,lockY:i.lockY};S=n.computeDirection(S),S.angle={radian:WT(180-u),degree:180-u},n.trigger("move",S),t.trigger("move "+n.id+":move",S)};er.prototype.processOnEnd=function(e){var t=this,i=t.options,r=t.manager.getIdentifier(e),n=t.nipples.get(r),a=t.manager.removeIdentifier(n.identifier);!n||(i.dataOnly||n.hide(function(){i.mode==="dynamic"&&(n.trigger("removed",n),t.trigger("removed "+n.id+":removed",n),t.manager.trigger("removed "+n.id+":removed",n),n.destroy())}),clearInterval(t.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger("end",n),t.trigger("end "+n.id+":end",n),t.ids.indexOf(n.identifier)>=0&&t.ids.splice(t.ids.indexOf(n.identifier),1),t.actives.indexOf(n)>=0&&t.actives.splice(t.actives.indexOf(n),1),/(semi|static)/.test(i.mode)?t.idles.push(n):t.nipples.indexOf(n)>=0&&t.nipples.splice(t.nipples.indexOf(n),1),t.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(t.manager.ids[a.id]=a.identifier))};er.prototype.onDestroyed=function(e,t){var i=this;i.nipples.indexOf(t)>=0&&i.nipples.splice(i.nipples.indexOf(t),1),i.actives.indexOf(t)>=0&&i.actives.splice(i.actives.indexOf(t),1),i.idles.indexOf(t)>=0&&i.idles.splice(i.idles.indexOf(t),1),i.ids.indexOf(t.identifier)>=0&&i.ids.splice(i.ids.indexOf(t.identifier),1),i.manager.removeIdentifier(t.identifier),i.manager.unbindDocument()};er.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(i){i.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var fTe=er;function Ur(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=ZO(),t.config(e),t.prepareCollections();var i=function(){var n;t.collections.forEach(function(a){a.forEach(function(c){n=c.el.getBoundingClientRect(),c.position={x:t.scroll.x+n.left,y:t.scroll.y+n.top}})})};if(typeof window>"u")return t.collections;Bx(window,"resize",function(){QO(i)});var r=function(){t.scroll=ZO()};return Bx(window,"scroll",function(){QO(r)}),t.collections}Ur.prototype=new Cj;Ur.constructor=Ur;Ur.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var i;return e.collections.every(function(r){return i=r.get(t),!i}),i}};Ur.prototype.create=function(e){return this.createCollection(e)};Ur.prototype.createCollection=function(e){var t=this,i=new fTe(t,e);return t.bindCollection(i),t.collections.push(i),i};Ur.prototype.bindCollection=function(e){var t=this,i,r=function(n,a){i=n.type+" "+a.id+":"+n.type,t.trigger(i,a)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",r),e.on("dir:up dir:right dir:down dir:left",r),e.on("plain:up plain:right plain:down plain:left",r)};Ur.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)};Ur.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)};Ur.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]};Ur.prototype.removeIdentifier=function(e){var t={};for(var i in this.ids)if(this.ids[i]===e){t.id=i,t.identifier=this.ids[i],delete this.ids[i];break}return t};Ur.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1};Ur.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1};Ur.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1};Ur.prototype.onAny=function(e,t){var i=this,r,n="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=PH(t);var a=function(l,o,s){s.ids.indexOf(o)>=0&&(s[n](l),l._found_=!0)},c=function(l){r=i.getIdentifier(l),YT(i.collections,a.bind(null,l,r)),l._found_||i.removeIdentifier(r)};return YT(t,c),!1};Ur.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()};Ur.prototype.onDestroyed=function(e,t){var i=this;if(i.collections.indexOf(t)<0)return!1;i.collections.splice(i.collections.indexOf(t),1)};var mTe=Ur,e9=new mTe,gTe={create:function(e){return e9.create(e)},factory:e9},NH=new Map,dg=new Map,ad=class{constructor(e,t,i,r){this.data=t;let{audio:n,volume:a,delay:c,loop:l}=t;if(!n)throw new Error("Missing property");let o=typeof n=="string"?r.getAudio(n).src:n.data;this.audioPlayer=new zm({src:o,volume:a,delay:c,loop:l}),dg.has(i.uuid)?dg.get(i.uuid).push(this):dg.set(i.uuid,[this]),NH.set(e,this)}playByToggle(){this.data.toggle==="stop"?this.audioPlayer.status==="playing"?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.status==="playing"?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},KT=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=NH.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=dg.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(i=>i.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(i=>i.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...dg.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(i=>{i.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(i=>{i.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},LH=class{constructor(e,t,i,r,n){if(this.data=t,this.shared=r,this.condition=n,t.interaction==="play")this.interaction=new ad(e,t,i,r);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new KT(t);else throw new Error("Missing property")}dispatchBasic(){if(_i(this.shared,this.condition)===!1)return!1;this.interaction instanceof ad?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(_i(this.shared,this.condition)===!1)return!1;this.interaction instanceof ad?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(_i(this.shared,this.condition)===!1)return!1;this.interaction instanceof ad&&(e==="start"?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},zH=class{constructor(e,t,i,r){this.data=e,this.page=t,this.shared=i,this.condition=r,this.delay=0,this.emission=e.emission,e.delay!==void 0&&(this.delay=e.delay),this.particleSystem=this.page.scene.find(this.data.emitterObjectId)}toggleEmitting(){this.particleSystem.started&&!this.particleSystem.stopped?this.stop(this.delay):this.start(this.delay)}toggleFroze(){this.particleSystem.started&&!this.particleSystem.isFrozen?this.freeze(this.delay):this.unFreeze(this.delay)}start(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.start(0),this.clearDelay()},e);return}this.particleSystem.start()}stop(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.stop(0),this.clearDelay()},e);return}this.particleSystem.stop()}freeze(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.freeze(0),this.clearDelay()},e);return}this.particleSystem.froze()}unFreeze(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.unFreeze(0),this.clearDelay()},e);return}this.particleSystem.unFroze()}reset(e=0){if(e){this.delayTimerId=window.setTimeout(()=>{this.reset(0),this.clearDelay()},e);return}this.particleSystem.reset()}reverseFromCurrent(){switch(this.emission){case"emitToggle":this.toggleEmitting();break;case"pauseToggle":this.toggleFroze();break}}dispatchBasic(){if(_i(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"emitToggle":this.toggleEmitting();break;case"pause":this.freeze(this.delay);break;case"pauseToggle":this.toggleFroze();break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break}}dispatchConditional(){if(_i(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break}}dispatchGameControl(e){if(_i(this.shared,this.condition)===!1||!this.particleSystem)return!1;e==="start"?this.start(this.delay):this.stop(this.delay)}dispose(){!this.particleSystem||(this.particleSystem.reset(),this.clearDelay())}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}},vTe="text/plain",yTe="us-ascii",t9=(e,t)=>t.some(i=>i instanceof RegExp?i.test(e):i===e),bTe=(e,{stripHash:t})=>{let i=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!i)throw new Error(`Invalid URL: ${e}`);let{type:r,data:n,hash:a}=i.groups,c=r.split(";");a=t?"":a;let l=!1;c[c.length-1]==="base64"&&(c.pop(),l=!0);let o=(c.shift()||"").toLowerCase(),s=[...c.map(u=>{let[d,h=""]=u.split("=").map(p=>p.trim());return d==="charset"&&(h=h.toLowerCase(),h===yTe)?"":`${d}${h?`=${h}`:""}`}).filter(Boolean)];return l&&s.push("base64"),(s.length>0||o&&o!==vTe)&&s.unshift(o),`data:${s.join(";")},${l?n.trim():n}${a?`#${a}`:""}`};function xTe(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return bTe(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let i=e.startsWith("//");!i&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let r=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&r.protocol==="https:"&&(r.protocol="http:"),t.forceHttps&&r.protocol==="http:"&&(r.protocol="https:"),t.stripAuthentication&&(r.username="",r.password=""),t.stripHash?r.hash="":t.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,"")),r.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,l="";for(;;){let s=a.exec(r.pathname);if(!s)break;let u=s[0],d=s.index,h=r.pathname.slice(c,d);l+=h.replace(/\/{2,}/g,"/"),l+=u,c=d+u.length}let o=r.pathname.slice(c,r.pathname.length);l+=o.replace(/\/{2,}/g,"/"),r.pathname=l}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=r.pathname.split("/"),c=a[a.length-1];t9(c,t.removeDirectoryIndex)&&(a=a.slice(0,-1),r.pathname=a.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...r.searchParams.keys()])t9(a,t.removeQueryParameters)&&r.searchParams.delete(a);if(t.removeQueryParameters===!0&&(r.search=""),t.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}t.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,""));let n=e;return e=r.toString(),!t.removeSingleSlash&&r.pathname==="/"&&!n.endsWith("/")&&r.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||r.pathname==="/")&&r.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),i&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var wTe=class{constructor({url:e,context:t},i,r,n){if(this.controlsManager=i,this.shared=r,this.condition=n,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:xTe(e,{removeTrailingSlash:!1,removeSingleSlash:!1,stripWWW:!1}),this.context=t??"tab"}dispatch(){var e;if(_i(this.shared,this.condition)===!1)return!1;Jv?window.location.assign(this.url):(this.context==="tab"||JF&&this.context==="none"?window.open(this.url,"_blank"):this.context==="window"?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),(e=this.controlsManager.orbitControls)==null||e.onPointerUp(ht[0]),Mye())}},BH=class{constructor(e,t,i,r,n){this.data=e,this.page=t,this.controlsManager=i,this.shared=r,this.condition=n,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=a=>{var s,u;this.timeoutIdQueue.shift();let c=this.page.scene.find(a);if(c===void 0)return;let l=this.controlsManager.sharedGameControlGlobals.rapierWorld,o=l?(s=c.dataPatched.physics)==null?void 0:s.fusedBody:!0;if(c.cloner){for(let d of c.cloner.children)o?(d.playModeVisible=!1,d.rigidBody&&((u=c.dataPatched.physics)==null?void 0:u.rigidBody)==="positioned"&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),l.removeRigidBody(d.rigidBody),d.rigidBody=void 0),d.bvhGeometry&&(d.bvhGeometry=void 0)):this.clone===void 0||this.clone===d?(d.playModeVisible=!1,d.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),l.removeRigidBody(d.rigidBody),d.rigidBody=void 0)):d.playModeVisible===void 0&&(d.playModeVisible=!0);(o||this.clone===void 0||this.clone===!1)&&(c.visible=!1,c.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),l.removeRigidBody(c.rigidBody),c.rigidBody=void 0),c.bvhGeometry&&(c.bvhGeometry=void 0))}else c.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),l.removeRigidBody(c.rigidBody),c.rigidBody=void 0),c.bvhGeometry&&(c.bvhGeometry=void 0),c.visible=!1;l===void 0?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.bvhGeometry!==void 0):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.rigidBody!==void 0),c.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(_i(this.shared,this.condition)===!1)return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()}dispatchFromStart(){if(_i(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},FH=class{constructor(e,t,i,r,n){this.data=e,this.page=t,this.shared=i,this.eventManager=r,this.condition=n,this.shared=i}dispatch(){if(_i(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{var e;this.shared.reset(this.shared.data,!0),Rj(this.page,this.shared,!0),this.eventManager.reset(),(e=this.eventManager.controlsManager.gameControl)==null||e.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},(this.data.delay??0)*1e3)}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},UH={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},Ej={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},_Te=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Fx={CSS:{},springs:{}};function wo(e,t,i){return Math.min(Math.max(e,t),i)}function hg(e,t){return e.indexOf(t)>-1}function sC(e,t){return e.apply(null,t)}var gt={arr:function(e){return Array.isArray(e)},obj:function(e){return hg(Object.prototype.toString.call(e),"Object")},pth:function(e){return gt.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||gt.svg(e))},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return gt.hex(e)||gt.rgb(e)||gt.hsl(e)},key:function(e){return!UH.hasOwnProperty(e)&&!Ej.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function VH(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(i){return parseFloat(i)}):[]}function HH(e,t){var i=VH(e),r=wo(gt.und(i[0])?1:i[0],.1,100),n=wo(gt.und(i[1])?100:i[1],.1,100),a=wo(gt.und(i[2])?10:i[2],.1,100),c=wo(gt.und(i[3])?0:i[3],.1,100),l=Math.sqrt(n/r),o=a/(2*Math.sqrt(n*r)),s=o<1?l*Math.sqrt(1-o*o):0,u=1,d=o<1?(o*l+-c)/s:-c+l;function h(m){var f=t?t*m/1e3:m;return o<1?f=Math.exp(-f*o*l)*(u*Math.cos(s*f)+d*Math.sin(s*f)):f=(u+d*f)*Math.exp(-f*l),m===0||m===1?m:1-f}function p(){var m=Fx.springs[e];if(m)return m;for(var f=1/6,g=0,v=0;;)if(g+=f,h(g)===1){if(v++,v>=16)break}else v=0;var S=g*f*1e3;return Fx.springs[e]=S,S}return t?h:p}function STe(e){return e===void 0&&(e=10),function(t){return Math.ceil(wo(t,1e-6,1)*e)*(1/e)}}var CTe=function(){var e=11,t=1/(e-1);function i(u,d){return 1-3*d+3*u}function r(u,d){return 3*d-6*u}function n(u){return 3*u}function a(u,d,h){return((i(d,h)*u+r(d,h))*u+n(d))*u}function c(u,d,h){return 3*i(d,h)*u*u+2*r(d,h)*u+n(d)}function l(u,d,h,p,m){var f,g,v=0;do g=d+(h-d)/2,f=a(g,p,m)-u,f>0?h=g:d=g;while(Math.abs(f)>1e-7&&++v<10);return g}function o(u,d,h,p){for(var m=0;m<4;++m){var f=c(d,h,p);if(f===0)return d;var g=a(d,h,p)-u;d-=g/f}return d}function s(u,d,h,p){if(!(0<=u&&u<=1&&0<=h&&h<=1))return;var m=new Float32Array(e);if(u!==d||h!==p)for(var f=0;f<e;++f)m[f]=a(f*t,u,h);function g(v){for(var S=0,x=1,b=e-1;x!==b&&m[x]<=v;++x)S+=t;--x;var _=(v-m[x])/(m[x+1]-m[x]),w=S+_*t,C=c(w,u,h);return C>=.001?o(v,w,u,h):C===0?w:l(v,S,S+t,u,h)}return function(v){return u===d&&h===p||v===0||v===1?v:a(g(v),d,p)}}return s}(),GH=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var n,a=4;r<((n=Math.pow(2,--a))-1)/11;);return 1/Math.pow(4,3-a)-7.5625*Math.pow((n*3-2)/22-r,2)}},Elastic:function(r,n){r===void 0&&(r=1),n===void 0&&(n=.5);var a=wo(r,1,10),c=wo(n,.1,2);return function(l){return l===0||l===1?l:-a*Math.pow(2,10*(l-1))*Math.sin((l-1-c/(Math.PI*2)*Math.asin(1/a))*(Math.PI*2)/c)}}},i=["Quad","Cubic","Quart","Quint","Expo"];return i.forEach(function(r,n){t[r]=function(){return function(a){return Math.pow(a,n+2)}}}),Object.keys(t).forEach(function(r){var n=t[r];e["easeIn"+r]=n,e["easeOut"+r]=function(a,c){return function(l){return 1-n(a,c)(1-l)}},e["easeInOut"+r]=function(a,c){return function(l){return l<.5?n(a,c)(l*2)/2:1-n(a,c)(l*-2+2)/2}}}),e}();function Tj(e,t){if(gt.fnc(e))return e;var i=e.split("(")[0],r=GH[i],n=VH(e);switch(i){case"spring":return HH(e,t);case"cubicBezier":return sC(CTe,n);case"steps":return sC(STe,n);default:return sC(r,n)}}function WH(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function fw(e,t){for(var i=e.length,r=arguments.length>=2?arguments[1]:void 0,n=[],a=0;a<i;a++)if(a in e){var c=e[a];t.call(r,c,a,e)&&n.push(c)}return n}function mw(e){return e.reduce(function(t,i){return t.concat(gt.arr(i)?mw(i):i)},[])}function i9(e){return gt.arr(e)?e:(gt.str(e)&&(e=WH(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Aj(e,t){return e.some(function(i){return i===t})}function Mj(e){var t={};for(var i in e)t[i]=e[i];return t}function XT(e,t){var i=Mj(e);for(var r in e)i[r]=t.hasOwnProperty(r)?t[r]:e[r];return i}function gw(e,t){var i=Mj(e);for(var r in t)i[r]=gt.und(e[r])?t[r]:e[r];return i}function ETe(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function TTe(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(l,o,s,u){return o+o+s+s+u+u}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),n=parseInt(r[1],16),a=parseInt(r[2],16),c=parseInt(r[3],16);return"rgba("+n+","+a+","+c+",1)"}function ATe(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,n=parseInt(t[3],10)/100,a=t[4]||1;function c(h,p,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?h+(p-h)*6*m:m<1/2?p:m<2/3?h+(p-h)*(2/3-m)*6:h}var l,o,s;if(r==0)l=o=s=n;else{var u=n<.5?n*(1+r):n+r-n*r,d=2*n-u;l=c(d,u,i+1/3),o=c(d,u,i),s=c(d,u,i-1/3)}return"rgba("+l*255+","+o*255+","+s*255+","+a+")"}function MTe(e){if(gt.rgb(e))return ETe(e);if(gt.hex(e))return TTe(e);if(gt.hsl(e))return ATe(e)}function bl(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function jTe(e){if(hg(e,"translate")||e==="perspective")return"px";if(hg(e,"rotate")||hg(e,"skew"))return"deg"}function JT(e,t){return gt.fnc(e)?e(t.target,t.id,t.total):e}function ss(e,t){return e.getAttribute(t)}function jj(e,t,i){var r=bl(t);if(Aj([i,"deg","rad","turn"],r))return t;var n=Fx.CSS[t+i];if(!gt.und(n))return n;var a=100,c=document.createElement(e.tagName),l=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;l.appendChild(c),c.style.position="absolute",c.style.width=a+i;var o=a/c.offsetWidth;l.removeChild(c);var s=o*parseFloat(t);return Fx.CSS[t+i]=s,s}function qH(e,t,i){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return i?jj(e,n,i):n}}function Ij(e,t){if(gt.dom(e)&&!gt.inp(e)&&(ss(e,t)||gt.svg(e)&&e[t]))return"attribute";if(gt.dom(e)&&Aj(_Te,t))return"transform";if(gt.dom(e)&&t!=="transform"&&qH(e,t))return"css";if(e[t]!=null)return"object"}function YH(e){if(gt.dom(e)){for(var t=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map,n;n=i.exec(t);)r.set(n[1],n[2]);return r}}function ITe(e,t,i,r){var n=hg(t,"scale")?1:0+jTe(t),a=YH(e).get(t)||n;return i&&(i.transforms.list.set(t,a),i.transforms.last=t),r?jj(e,a,r):a}function Pj(e,t,i,r){switch(Ij(e,t)){case"transform":return ITe(e,t,r,i);case"css":return qH(e,t,i);case"attribute":return ss(e,t);default:return e[t]||0}}function kj(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var r=bl(e)||0,n=parseFloat(t),a=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return n+a+r;case"-":return n-a+r;case"*":return n*a+r}}function KH(e,t){if(gt.col(e))return MTe(e);if(/\s/g.test(e))return e;var i=bl(e),r=i?e.substr(0,e.length-i.length):e;return t?r+t:r}function Dj(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function PTe(e){return Math.PI*2*ss(e,"r")}function kTe(e){return ss(e,"width")*2+ss(e,"height")*2}function DTe(e){return Dj({x:ss(e,"x1"),y:ss(e,"y1")},{x:ss(e,"x2"),y:ss(e,"y2")})}function XH(e){for(var t=e.points,i=0,r,n=0;n<t.numberOfItems;n++){var a=t.getItem(n);n>0&&(i+=Dj(r,a)),r=a}return i}function OTe(e){var t=e.points;return XH(e)+Dj(t.getItem(t.numberOfItems-1),t.getItem(0))}function JH(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return PTe(e);case"rect":return kTe(e);case"line":return DTe(e);case"polyline":return XH(e);case"polygon":return OTe(e)}}function RTe(e){var t=JH(e);return e.setAttribute("stroke-dasharray",t),t}function NTe(e){for(var t=e.parentNode;gt.svg(t)&&gt.svg(t.parentNode);)t=t.parentNode;return t}function QH(e,t){var i=t||{},r=i.el||NTe(e),n=r.getBoundingClientRect(),a=ss(r,"viewBox"),c=n.width,l=n.height,o=i.viewBox||(a?a.split(" "):[0,0,c,l]);return{el:r,viewBox:o,x:o[0]/1,y:o[1]/1,w:c/o[2],h:l/o[3]}}function LTe(e,t){var i=gt.str(e)?WH(e)[0]:e,r=t||100;return function(n){return{property:n,el:i,svg:QH(i),totalLength:JH(i)*(r/100)}}}function zTe(e,t){function i(l){l===void 0&&(l=0);var o=t+l>=1?t+l:0;return e.el.getPointAtLength(o)}var r=QH(e.el,e.svg),n=i(),a=i(-1),c=i(1);switch(e.property){case"x":return(n.x-r.x)*r.w;case"y":return(n.y-r.y)*r.h;case"angle":return Math.atan2(c.y-a.y,c.x-a.x)*180/Math.PI}}function r9(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=KH(gt.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(i)?r.match(i).map(Number):[0],strings:gt.str(e)||t?r.split(i):[]}}function $H(e){var t=e?mw(gt.arr(e)?e.map(i9):i9(e)):[];return fw(t,function(i,r,n){return n.indexOf(i)===r})}function ZH(e){var t=$H(e);return t.map(function(i,r){return{target:i,id:r,total:t.length,transforms:{list:YH(i)}}})}function BTe(e,t){var i=Mj(t);if(/^spring/.test(i.easing)&&(i.duration=HH(i.easing)),gt.arr(e)){var r=e.length,n=r===2&&!gt.obj(e[0]);n?e={value:e}:gt.fnc(t.duration)||(i.duration=t.duration/r)}var a=gt.arr(e)?e:[e];return a.map(function(c,l){var o=gt.obj(c)&&!gt.pth(c)?c:{value:c};return gt.und(o.delay)&&(o.delay=l?0:t.delay),gt.und(o.endDelay)&&(o.endDelay=l===a.length-1?t.endDelay:0),o}).map(function(c){return gw(c,i)})}function FTe(e){for(var t=fw(mw(e.map(function(a){return Object.keys(a)})),function(a){return gt.key(a)}).reduce(function(a,c){return a.indexOf(c)<0&&a.push(c),a},[]),i={},r=function(a){var c=t[a];i[c]=e.map(function(l){var o={};for(var s in l)gt.key(s)?s==c&&(o.value=l[s]):o[s]=l[s];return o})},n=0;n<t.length;n++)r(n);return i}function UTe(e,t){var i=[],r=t.keyframes;r&&(t=gw(FTe(r),t));for(var n in t)gt.key(n)&&i.push({name:n,tweens:BTe(t[n],e)});return i}function VTe(e,t){var i={};for(var r in e){var n=JT(e[r],t);gt.arr(n)&&(n=n.map(function(a){return JT(a,t)}),n.length===1&&(n=n[0])),i[r]=n}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function HTe(e,t){var i;return e.tweens.map(function(r){var n=VTe(r,t),a=n.value,c=gt.arr(a)?a[1]:a,l=bl(c),o=Pj(t.target,e.name,l,t),s=i?i.to.original:o,u=gt.arr(a)?a[0]:s,d=bl(u)||bl(o),h=l||d;return gt.und(c)&&(c=s),n.from=r9(u,h),n.to=r9(kj(c,u),h),n.start=i?i.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=Tj(n.easing,n.duration),n.isPath=gt.pth(a),n.isColor=gt.col(n.from.original),n.isColor&&(n.round=1),i=n,n})}var eG={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,r,n){if(r.list.set(t,i),t===r.last||n){var a="";r.list.forEach(function(c,l){a+=l+"("+c+") "}),e.style.transform=a}}};function tG(e,t){var i=ZH(e);i.forEach(function(r){for(var n in t){var a=JT(t[n],r),c=r.target,l=bl(a),o=Pj(c,n,l,r),s=l||bl(o),u=kj(KH(a,s),o),d=Ij(c,n);eG[d](c,n,u,r.transforms,!0)}})}function GTe(e,t){var i=Ij(e.target,t.name);if(i){var r=HTe(t,e),n=r[r.length-1];return{type:i,property:t.name,animatable:e,tweens:r,duration:n.end,delay:r[0].delay,endDelay:n.endDelay}}}function WTe(e,t){return fw(mw(e.map(function(i){return t.map(function(r){return GTe(i,r)})})),function(i){return!gt.und(i)})}function iG(e,t){var i=e.length,r=function(a){return a.timelineOffset?a.timelineOffset:0},n={};return n.duration=i?Math.max.apply(Math,e.map(function(a){let c=a.startOnceDelay??0,l=a.pingPongDelayCorrection??0,o=a.pingPongEndDelayCorrection??0;return r(a)+c+l+o+a.duration*(a.loop??1)})):t.duration,n.delay=i?Math.min.apply(Math,e.map(function(a){let c=a.startOnceDelay??0,l=a.pingPongDelayCorrection??0;return r(a)+c+l+a.delay})):t.delay,n.endDelay=i?n.duration-Math.max.apply(Math,e.map(function(a){let c=a.startOnceDelay??0,l=a.pingPongDelayCorrection??0,o=a.pingPongEndDelayCorrection??0;return r(a)+c+l+a.duration*(a.loop??1)-a.endDelay-o})):t.endDelay,n}var n9=0;function qTe(e){var t=XT(UH,e),i=XT(Ej,e),r=UTe(i,e),n=ZH(e.targets),a=WTe(n,r),c=iG(a,i),l=n9;return n9++,gw(t,{id:l,children:[],animatables:n,animations:a,duration:c.duration,delay:c.delay,endDelay:c.endDelay,startOnceDelay:i.startOnceDelay,pingPongDelayCorrection:i.pingPongDelayCorrection,pingPongEndDelayCorrection:i.pingPongEndDelayCorrection})}var Ha=[],a9=[],z1,YTe=function(){function e(){z1=requestAnimationFrame(t)}function t(i){var r=Ha.length;if(r){for(var n=0;n<r;){var a=Ha[n];a.paused?(Ha.splice(n,1),r-=1):(a.tick(i),n++)}e()}else z1=cancelAnimationFrame(z1)}return e}();function KTe(e){document.hidden?(Ha.forEach(function(t){return t.pause(e.timeStamp)}),a9=Ha.slice(0),$i.running=Ha=[]):a9.forEach(function(t){return t.play(e.timeStamp)})}typeof document<"u"&&document.addEventListener("visibilitychange",KTe);function $i(e){e===void 0&&(e={});var t=0,i=0,r=0,n,a,c=0,l=null;function o(w){var C=window.Promise&&new Promise(function(E){return l=E});return w.finished=C,C}var s=qTe(e);o(s);function u(){var w=s.direction;w!=="alternate"&&(s.direction=w!=="normal"?"normal":"reverse"),s.reversed=!s.reversed,a.forEach(function(C){(C.loop===1||C.loop%2===0)&&(C.reversed=s.reversed)})}function d(){s.direction="normal",s.reversed=!1,a.forEach(function(w){return w.reversed=!1})}function h(w){return s.reversed?s.duration-w:w}function p(){t=0,i=h(s.currentTime)*(1/$i.speed)}function m(w,C,E=!1){C&&(s.reversed?C.seek(C.duration*C.loop-(w-C.timelineOffset-C.pingPongDelayCorrection),E):C.seek(w-C.timelineOffset-C.startOnceDelay-C.pingPongDelayCorrection,E))}function f(w,C=!1){if(s.reversed)for(var E=c;E--;)m(w,a[E],C);else for(var A=0;A<c;A++)m(w,a[A],C)}function g(w){var ie,Q,ae,K,te,ne,ce,pe,ge,ue;var C=0,E=s.animations,A=E.length;for(s.direction!=="alternate"&&((ie=s.parent)==null?void 0:ie.direction)==="alternate"?((Q=s.parent)==null?void 0:Q.rewind)===!1&&s.reversePlayback===!0&&s.rewind===!1&&((ae=s.parent)!=null&&ae.reversed&&s.direction==="alternate"?w=s.duration-s.delay+s.endDelay-w:w=s.duration+s.delay-s.endDelay-w):b(!1,(K=s.parent)==null?void 0:K.rewind,s.rewind,(te=s.parent)==null?void 0:te.reversePlayback,s.reversePlayback)&&((ne=s.parent)!=null&&ne.reversed&&s.direction==="alternate"?w=s.duration-s.delay+s.endDelay-w:w=s.duration+s.delay-s.endDelay-w);C<A;){var T=E[C],M=T.animatable,j=T.tweens,P=j.length-1,I=j[P];P&&(I=fw(j,function(Ae){return w<Ae.end})[0]||I);let Me;(ce=s.parent)!=null&&ce.reversed&&s.direction==="alternate"?Me=wo(w-I.start-I.endDelay,0,I.duration)/I.duration:Me=wo(w-I.start-I.delay,0,I.duration)/I.duration;for(var k=isNaN(Me)?1:I.easing(Me),R=I.to.strings,O=I.round,D=[],L=I.to.numbers.length,B=void 0,F=0;F<L;F++){var H=void 0;let Ae,je;s.direction!=="alternate"?((pe=s.parent)==null?void 0:pe.rewind)===!1&&s.reversePlayback===!0&&s.rewind===!1?(Ae=I.to.numbers[F],je=I.from.numbers[F]||0):(je=I.to.numbers[F],Ae=I.from.numbers[F]||0):b(!0,(ge=s.parent)==null?void 0:ge.rewind,s.rewind,(ue=s.parent)==null?void 0:ue.reversePlayback,s.reversePlayback)?(Ae=I.to.numbers[F],je=I.from.numbers[F]||0):(je=I.to.numbers[F],Ae=I.from.numbers[F]||0),I.isPath?H=zTe(I.value,k*je):H=Ae+k*(je-Ae),O&&(I.isColor&&F>2||(H=Math.round(H*O)/O)),D.push(H)}var ee=R.length;if(!ee)B=D[0];else{B=R[0];for(var U=0;U<ee;U++){R[U];var X=R[U+1],W=D[U];isNaN(W)||(X?B+=W+X:B+=W+" ")}}eG[T.type](M.target,T.property,B,M.transforms),T.currentValue=B,C++}}function v(w){s[w]&&!s.passThrough&&s[w](s)}function S(){s.remaining&&s.remaining!==!0&&s.remaining--}let x={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function b(w,C,E,A,T){return x[w<<4|C<<3|E<<2|A<<1|T]}function _(w,C=!1){var j;var E=s.duration;let A=s.delay,T=E-s.endDelay;(j=s.parent)!=null&&j.reversed&&s.direction==="alternate"&&(A=s.endDelay,T=E-s.delay);var M=h(w);if(s.progress=wo(M/E*100,0,100),C||(s.reversePlayback=M<s.currentTime),c&&f(M,C),!s.began&&s.currentTime>=0&&(s.began=!0,v("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,v("loopBegin")),(s.reversed||M>=0)&&M<=A&&s.currentTime!==0&&(g(0),v("change")),(M>=T&&s.currentTime!==E+s.pingPongDelayCorrection||!E)&&(g(E),v("change")),M>A&&M<T?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,v("changeBegin")),g(M),v("change")):s.changeBegan?(s.changeCompleted=!0,s.changeBegan=!1,v("change"),c&&v("timelineChangeComplete")):s.began&&M>T&&v("changeComplete"),s.currentTime=wo(M,0,E+s.pingPongDelayCorrection),s.began&&v("update"),w>=E)if(S(),!s.remaining)s.paused=!0,s.completed||(s.completed=!0,v("loopComplete"),v("complete"),!s.passThrough&&"Promise"in window&&(l(),o(s)));else{c?t+=s.duration/$i.speed:t+=s.duration;for(let P of a)P.setStartTime(0),P.remaining=P.loop;v("loopComplete"),s.loopBegan=!1,s.direction==="alternate"?u():c&&d()}}return s.reset=function(){var w=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed=w==="reverse",s.remaining=s.loop,a=s.children,c=a.length;for(var C=c;C--;)s.children[C].reset();g(s.reversed?s.duration:0)},s.setStartTime=function(w){t=w},s.set=function(w,C){return tG(w,C),s},s.tick=function(w){r=w,t||(t=r),_((r+(i-t))*$i.speed)},s.seek=function(w,C=!1){_(w-t,C)},s.pause=function(w){s.paused=!0,c&&(n=w??performance.now())},s.play=function(w){!s.paused||(s.completed&&s.reset(),s.paused=!1,Ha.push(s),c&&n!==void 0&&(t+=(w??performance.now())-n),z1||YTe())},s.reverse=function(){u(),s.completed=!s.reversed,p()},s.restart=function(){s.reset(),s.play()},s.reset(),s.autoplay&&s.play(),s}function o9(e,t){for(var i=t.length;i--;)Aj(e,t[i].animatable.target)&&t.splice(i,1)}function XTe(e){for(var t=$H(e),i=Ha.length;i--;){var r=Ha[i],n=r.animations,a=r.children;o9(t,n);for(var c=a.length;c--;){var l=a[c],o=l.animations;o9(t,o),!o.length&&!l.children.length&&a.splice(c,1)}!n.length&&!a.length&&r.pause()}}function JTe(e,t){t===void 0&&(t={});var i=t.direction||"normal",r=t.easing?Tj(t.easing):null,n=t.grid,a=t.axis,c=t.from||0,l=c==="first",o=c==="center",s=c==="last",u=gt.arr(e),d=parseFloat(u?e[0]:e),h=u?parseFloat(e[1]):0,p=bl(u?e[1]:e)||0,m=t.start||0+(u?d:0),f=[],g=0;return function(v,S,x){if(l&&(c=0),o&&(c=(x-1)/2),s&&(c=x-1),!f.length){for(var b=0;b<x;b++){if(!n)f.push(Math.abs(c-b));else{var _=o?(n[0]-1)/2:c%n[0],w=o?(n[1]-1)/2:Math.floor(c/n[0]),C=b%n[0],E=Math.floor(b/n[0]),A=_-C,T=w-E,M=Math.sqrt(A*A+T*T);a==="x"&&(M=-A),a==="y"&&(M=-T),f.push(M)}g=Math.max.apply(Math,f)}r&&(f=f.map(function(P){return r(P/g)*g})),i==="reverse"&&(f=f.map(function(P){return a?P<0?P*-1:-P:Math.abs(g-P)}))}var j=u?(h-d)/g:d;return m+j*(Math.round(f[S]*100)/100)+p}}function QTe(e){e===void 0&&(e={});var t=$i(e);return t.duration=0,t.add=function(i,r){var n=Ha.indexOf(t),a=t.children;n>-1&&Ha.splice(n,1);function c(h){h.passThrough=!0}for(var l=0;l<a.length;l++)c(a[l]);var o=gw(i,XT(Ej,e));o.targets=o.targets||e.targets;var s=t.duration;o.autoplay=!1,o.timelineOffset=gt.und(r)?s:kj(r,s),c(t);var u=$i(o);c(u),a.push(u),u.parent=t;var d=iG(a,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,u.loop===!0&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}$i.version="3.2.0";$i.speed=1;$i.running=Ha;$i.remove=XTe;$i.get=Pj;$i.set=tG;$i.convertPx=jj;$i.path=LTe;$i.setDashoffset=RTe;$i.stagger=JTe;$i.timeline=QTe;$i.easing=Tj;$i.penner=GH;$i.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var rG=$i,s9=new N,l9=new N,c9=new mt;function $Te(e,t,i,r){if(r===0)return i.copy(e);if(r===1)return i.copy(t);let n=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(n>=1)return i.copy(e);let a=1-n*n;if(a<=Number.EPSILON){let u=1-r;return i.w=u*e.w+r*t.w,i.x=u*e.x+r*t.x,i.y=u*e.y+r*t.y,i.z=u*e.z+r*t.z,i.normalize(),i}let c=Math.sqrt(a),l=Math.atan2(c,n),o=Math.sin((1-r)*l)/c,s=Math.sin(r*l)/c;return i.w=e.w*o+t.w*s,i.x=e.x*o+t.x*s,i.y=e.y*o+t.y*s,i.z=e.z*o+t.z*s,i}function Xr(e,t,i,r,n,a){let c=i[e]!==void 0?i[e]:void 0,l=r[e];if(l==null)return;let o=c!=null?typeof c=="string"?Number(n.getVariable(c)??0):c:t[e],s=typeof l=="string"?Number(n.getVariable(l)??0):l;if(o!==s)return{update:u=>{let d=Ve.lerp(o,s,u);a?t[e]=Math.trunc(d):t[e]=d},start:()=>{t[e]=o},end:()=>{t[e]=s}}}function Oj(e,t,i,r,n,a){let c=i[e]?i[e]:void 0,l=r[e];if(!l)return;let o=t[e],s=[...c??o].map(d=>typeof d=="string"?Number(n.getVariable(d)??0):d),u=[...l].map(d=>typeof d=="string"?Number(n.getVariable(d)??0):d);if(!(s.length!==u.length||DM(s,u)))return{update:d=>{s.forEach((h,p)=>{let m=Ve.lerp(h,u[p],d);t[e][p]=a?Math.trunc(m):m})},start:()=>{Object.assign(t[e],s)},end:()=>{Object.assign(t[e],u)}}}function Ux(e,t,i){return t.forEach((r,n)=>{e.setComponent(n,typeof r=="string"?Number(i.getVariable(r)??0):r)}),e}function u9(e,t,i,r,n){let a=i[e]?i[e]:void 0,c=r[e];if(!c)return;let l=t[e],o=a?Ux(new N,a,n):l.clone(),s=Ux(new N,c,n);if(!o.equals(s))return{update:u=>{l.lerpVectors(o,s,u)},start:()=>{l.copy(o)},end:()=>{l.copy(s)}}}function d9(e,t,i){return t.forEach((r,n)=>{e.setComponent(n,typeof r=="string"?Number(i.getVariable(r)??0):r)}),e}function Vx(e,t,i,r,n){let a=i[e]?i[e]:void 0,c=r[e];if(!c)return;let l=t[e],o=!(l instanceof re),s=l instanceof re?l:new re().fromArray(l),u=a?d9(new re,a,n):s.clone(),d=d9(new re,c,n);if(!u.equals(d))return{update:h=>{s.lerpVectors(u,d,h),o&&(t[e]=s.toArray())},start:()=>{s.copy(u),o&&(t[e]=s.toArray())},end:()=>{s.copy(d),o&&(t[e]=s.toArray())}}}function ZTe(e,t,i,r){let n=i[e]?i[e]:void 0,a=r[e];if(!a)return;let c=t[e],l=n?new Ie().fromArray(n):c.clone(),o=new N,s=new mt,u=new N;l.decompose(o,s,u);let d=new Ie().fromArray(a),h=new N,p=new mt,m=new N;if(d.decompose(h,p,m),!l.equals(d))return{update:f=>{c9.slerpQuaternions(s,p,f),s9.lerpVectors(o,h,f),l9.lerpVectors(u,m,f),c.compose(s9,c9,l9)},start:()=>{c.compose(o,s,u)},end:()=>{c.compose(h,p,m)}}}function eAe(e,t,i,r,n){let a=i[e]?i[e]:void 0,c=r[e];if(!c)return;let l=t[e],o=a?typeof a=="string"?n.getColor(a).clone():new lt().setRGB(a.r,a.g,a.b):l.clone(),s=typeof c=="string"?n.getColor(c).clone():new lt().setRGB(c.r,c.g,c.b);if(o.equals(s))return;let u=l.clone();return{update:d=>{var h,p;u.lerpColors(o,s,d),(p=(h=t[e])==null?void 0:h.copy)==null||p.call(h,u)},start:()=>{u.copy(o)},end:()=>{u.copy(s)}}}function Qy(e,t,i,r,n){let a=i[e]?i[e]:void 0,c=r[e];if(!c)return;let l=t[e],o=new rn(l.r,l.g,l.b,l.a),s=a?typeof a=="string"?n.getColor(a).clone():new rn(a.r,a.g,a.b,a.a):o.clone(),u=typeof c=="string"?n.getColor(c).clone():new rn(c.r,c.g,c.b,c.a);if(!s.equals(u))return{update:d=>{o.lerpColors(s,u,d);let h=Ve.lerp(s.a,u.a,d);o.a=h,t[e]={r:o.r,g:o.g,b:o.b,a:o.a}},start:()=>{o.copy(s)},end:()=>{o.copy(u)}}}function gu(e,t,i,r,n){if(typeof t[e]=="number")return Xr(e,t,i??{},r,n);if(Array.isArray(t[e]))return Oj(e,t,i??{},r,n)}function tAe(e,t,i,r){var l,o,s,u;let n=[],a=e.cameraType==="OrthographicCamera"?(l=t.orthographic)==null?void 0:l.zoom:(o=t.perspective)==null?void 0:o.zoom,c=e.cameraType==="OrthographicCamera"?(s=i.orthographic)==null?void 0:s.zoom:(u=i.perspective)==null?void 0:u.zoom;if(c!==void 0){let d=a??e.zoom,h=c;d!==h&&n.push({update:p=>{e.zoom=Ve.lerp(d,h,p),e.updateProjectionMatrix()},start:()=>{e.zoom=d,e.updateProjectionMatrix()},end:()=>{e.zoom=h,e.updateProjectionMatrix()}})}if(i.targetOffset!==void 0){let d=Xr("targetOffset",e,t,i,r);d&&n.push(d)}return n}function iAe(e,t,i,r){if(i.scaleBaked===void 0)return;let n=(t.scaleBaked??e.data.geometry.scaleBaked).map(l=>typeof l=="string"?Number(r.getVariable(l)??0):l),a=i.scaleBaked.map(l=>typeof l=="string"?Number(r.getVariable(l)??0):l);if(gd.isEqual(n,a))return;let c=[];return c.push({update:l=>{e.updateGeometryInteractions({scaleBaked:[Ve.lerp(n[0],a[0],l),Ve.lerp(n[1],a[1],l),Ve.lerp(n[2],a[2],l)]},r),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()},start:()=>{e.updateGeometryInteractions({scaleBaked:n},r),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()},end:()=>{e.updateGeometryInteractions({scaleBaked:a},r),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()}}),c}function rAe(e,t,i,r){if(!i.extrusion)return;let n=e.extrusion,a=t.extrusion??{},c=i.extrusion,l=[];return DU.forEach(o=>{let s=gu(o,n,a,c,r);s&&l.push(s)}),l}function nAe(e,t,i,r){let n=[];if(!("geometry"in i))return n;let a=e.geometry.userData.parameters,c="geometry"in t?t.geometry:{},l=i.geometry;if(e instanceof pv){let o=iAe(e,c,l,r);o&&n.push(...o)}else{let o={};if(Object.assign(o,fs(a,pS),fs(c,pS)),pS.forEach(s=>{let u=gu(s,o,c,l,r);u&&n.push(u)}),e instanceof yj){Object.assign(o,{extrusion:{...a.extrusion}});let s=rAe(o,c,l,r);s&&n.push(...s)}n.length&&n.push({update:s=>{e.updateGeometryInteractions(o,r),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()},start:s=>{e.updateGeometryInteractions(o,r),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()},end:s=>{e.updateGeometryInteractions(o,r),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()}})}return n}function aAe(e,t,i,r){let n=[];if(i.intensity!==void 0){let a=Xr("intensity",e,t,i,r);a&&n.push(a)}if(i.color!==void 0){let a=eAe("color",e,t,i,r);a&&n.push(a)}return n}function oAe(e,t,i,r){let n=[];if(Array.isArray(e.material)){if(!("materials"in i&&i.materials))return n;let a="materials"in t&&t.materials?t.materials:[],c=i.materials;e.material.forEach((l,o)=>{if(!c[o])return;let s=a[o]??{},u=c[o];typeof s=="string"||typeof u=="string"||n.push(...h9(l,s,u,r))})}else{if(!("material"in i&&i.material))return n;let a="material"in t&&t.material?t.material:{},c=i.material;if(typeof a=="string"||typeof c=="string")return n;n.push(...h9(e.material,a,c,r))}return n}function h9(e,t,i,r){var c;let n=[],a=$h(i,r)||!!t.layers&&$h(t,r);n.push(mAe(e,a));for(let l of e.layers){let o=(c=t.layers)==null?void 0:c.data(l.uuid),s=i.layers.data(l.uuid);if(!s||l.type!=="light"&&(!(l.visible??!0)||!(s.visible??!0)))continue;let u=l.getNames().filter(d=>!IU.some(h=>d.includes(h)));for(let d of u)try{let h=l.getValue(d),p;if(d==="colors")p=pAe(l,o,s,d);else if(Array.isArray(h))d==="steps"&&(p=hAe(l,o,s,d));else if(typeof h=="number")p=sAe(l,o,s,d,r);else{if(typeof h=="boolean")continue;h instanceof re?p=lAe(l,o,s,d):h instanceof N?p=cAe(l,o,s,d,r):h instanceof rn?p=dAe(l,o,s,d,r):h instanceof lt?p=uAe(l,o,s,d,r):"isTexture"in h&&(p=fAe(l,o,s,d))}p&&(Array.isArray(p)?n.push(...p):n.push(p))}catch(h){console.error(`lerpMaterial: unexpected material layer for ${d}`,h)}}return n}function sAe(e,t,i,r,n){if(!e.hasValue(r)||!(r in i))return;let a=t?t[r]:e.getValue(r),c=i[r],l=typeof a=="string"?Number(n.getVariable(a)??0):a,o=typeof c=="string"?Number(n.getVariable(c)??0):c;if(l!==o)return{update:s=>{e.setValue(r,Ve.lerp(l,o,s))},start:()=>{e.setValue(r,l)},end:()=>{e.setValue(r,o)}}}function lAe(e,t,i,r){if(!e.hasValue(r)||!(r in i))return;let n=e.getValue(r),a=t?new re().fromArray(t[r]):n.clone(),c=new re().fromArray(i[r]);if(!a.equals(c))return{update:l=>{n.lerpVectors(a,c,l)},start:()=>{n.copy(a)},end:()=>{n.copy(c)}}}function cAe(e,t,i,r,n){if(!e.hasValue(r)||!(r in i))return;let a=e.getValue(r),c=t?t[r]:void 0,l=i[r],o=c?Ux(new N,c,n):a.clone(),s=Ux(new N,l,n);if(!o.equals(s))return{update:u=>{a.lerpVectors(o,s,u)},start:()=>{a.copy(o)},end:()=>{a.copy(s)}}}function uAe(e,t,i,r,n){if(!e.hasValue(r)||!(r in i))return;let a=t?t[r]:void 0,c=i[r],l=e.getValue(r),o=a?typeof a=="string"?n.getColor(a).clone():new lt().setRGB(a.r,a.g,a.b):l.clone(),s=typeof c=="string"?n.getColor(c).clone():new lt().setRGB(c.r,c.g,c.b);if(o.equals(s))return;let u=l.clone();return{update:d=>{e.getValue(r)!==u&&e.setValue(r,u),u.lerpColors(o,s,d)},start:()=>{u.copy(o)},end:()=>{u.copy(s)}}}function dAe(e,t,i,r,n){if(!e.hasValue(r)||!(r in i))return;let a=t?t[r]:void 0,c=i[r],l=e.getValue(r),o=a?typeof a=="string"?n.getColor(a).clone():new lt().setRGB(a.r,a.g,a.b):l.clone(),s=typeof c=="string"?n.getColor(c).clone():new rn(c.r,c.g,c.b,c.a);if(o.equals(s))return;let u=l.clone();return{update:d=>{e.getValue(r)!==u&&e.setValue(r,u),u.lerpColors(o,s,d)},start:()=>{u.copy(o)},end:()=>{u.copy(s)}}}function hAe(e,t,i,r="steps"){if(!e.hasValue(r)||!(r in i))return;let n=[],a=e.getValue(r),c=t?t[r]:a,l=i[r];return DM(c,l)||n.push({update:o=>{let s=[...a];for(let u=0;u<a.length;++u){let d=c[u],h=l[u];s[u]=Ve.lerp(d,h,o)}e.setValue(r,s)},start:()=>{e.setValue(r,c)},end:()=>{e.setValue(r,l)}}),n.length?n:void 0}function pAe(e,t,i,r="colors"){if(!e.hasValue(r)||!(r in i))return;let n=[],a=e.getValue(r),c=t?t[r]:a.map(o=>o.toArray()),l=i[r];for(let o=0;o<a.length;++o){let s=[...c[o]],u=[...l[o]];px.isEqual(s,u)||n.push({update:d=>{a[o].fromArray(px.lerp(s,u,d))},start:()=>{a[o].fromArray(s)},end:()=>{a[o].fromArray(u)}})}return n.length?n:void 0}function fAe(e,t,i,r="texture"){var g,v;if(!e.hasValue(r)||!(r in i))return;let n=e.getNode("rotation"),a=((g=t==null?void 0:t[r])==null?void 0:g.rotation)??0,c=((v=i[r])==null?void 0:v.rotation)??0;if(n&&a!==c)return{update:S=>{n.value=Ve.lerp(a,c,S)*Ve.DEG2RAD},start:()=>{n.value=a*Ve.DEG2RAD},end:()=>{n.value=c*Ve.DEG2RAD}};let l=e.getNode("mat");if(!l)return;let o=t?t[r]:l,s=i[r],u=[...o.repeat],d=[...o.offset],h=[...s.repeat],p=[...s.offset],m=o.rotation??0,f=s.rotation??0;if(!ml.isEqual(u,h)||!ml.isEqual(d,p)||m!==f)return{update:S=>{l.repeat=ml.lerp(u,h,S),l.offset=ml.lerp(d,p,S),l.rotation=Ve.lerp(m,f,S),l.updateMatrix()},start:()=>{l.repeat=[...u],l.offset=[...d],l.rotation=m,l.updateMatrix()},end:()=>{l.repeat=[...h],l.offset=[...p],l.rotation=f,l.updateMatrix()}}}function mAe(e,t){return{update:()=>{e.transparent=t}}}var lC=new N,p9=new yr;function gAe(e,t,i,r,n){var m,f,g,v,S,x;let a=[],c,l,o,s,u,d,h,p;if(e instanceof Fr?(c=Vx("position",e,t,i,n),c&&a.push(c),o=Xr("rotation",e,t,i,n),o&&a.push(o),s=Vx("shear",e,t,i,n),s&&a.push(s)):(p={slide:((m=t.pathSnapping)==null?void 0:m.slide)??((f=e.updatedPathSnapping)==null?void 0:f.slide)??((g=e.dataPatched.pathSnapping)==null?void 0:g.slide)??0,offset:((v=t.pathSnapping)==null?void 0:v.offset)??((S=e.updatedPathSnapping)==null?void 0:S.offset)??((x=e.dataPatched.pathSnapping)==null?void 0:x.offset)??0},d=Xr("slide",p,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,i.pathSnapping??e.dataPatched.pathSnapping,n),d&&a.push(d),h=Xr("offset",p,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,i.pathSnapping??e.dataPatched.pathSnapping,n),h&&a.push(h),!d&&!h&&(c=u9("position",e,t,i,n),c&&a.push(c),l=u9("scale",e,t,i,n),l&&a.push(l),o=vAe(e,t,i,r,n),o&&a.push(o),u=ZTe("hiddenMatrix",e,t,i),u&&a.push(u))),c||l||o||u||d||h){let b=e instanceof Fr?()=>{e.updateWorldMatrix(!0,!1,!0),e.resetBBoxNeedsUpdate()}:()=>{var _;e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),(_=e.parent)!=null&&_.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),vo(e)&&gl(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,p))};a.push({update:b,start:b,end:b})}return a}function vAe(e,t,i,r,n){var u;let a=t!=null&&t.rotation?t.rotation.map(d=>(typeof d=="string"?Number(n.getVariable(d)??0):d)*Ve.DEG2RAD):void 0,c=(u=i.rotation)==null?void 0:u.map(d=>(typeof d=="string"?Number(n.getVariable(d)??0):d)*Ve.DEG2RAD);if(!c)return;let l=a?new N().fromArray(a):new N().setFromEuler(e.rotation),o=new N().fromArray(c);if(l.equals(o))return;let s=lC.subVectors(o,l);if(r&&s.toArray().every(d=>Math.abs(d)<2*Math.PI)){let d=new mt().setFromEuler(p9.setFromVector3(l)),h=new mt().setFromEuler(p9.setFromVector3(o));return{update:p=>{$Te(d,h,e.quaternion,p)},start:()=>{e.rotation.setFromVector3(l)},end:()=>{e.rotation.setFromVector3(o)}}}else return{update:d=>{lC.lerpVectors(l,o,d),e.rotation.setFromVector3(lC)},start:()=>{e.rotation.setFromVector3(l)},end:()=>{e.rotation.setFromVector3(o)}}}function yAe(e,t,i,r){let n=[];if(!("cloner"in i)||!e.cloner)return n;let a=e.cloner,c="cloner"in t?t.cloner:{},l=i.cloner;CU.forEach(p=>{let m;p==="count"?m=Xr("count",a.parameters,c,l,r,!0):m=gu(p,a.parameters,c??{},l,r),m&&n.push(m)});let o=bAe(a,c,l,r);o!=null&&o.length&&n.push(...o);let s=xAe(a,c,l,r);s!=null&&s.length&&n.push(...s);let u=wAe(a,c,l,r);u!=null&&u.length&&n.push(...u);let d=_Ae(a,c,l,r);d!=null&&d.length&&n.push(...d);let h=SAe(a,c,l,r);return h!=null&&h.length&&n.push(...h),n.length&&n.push({update:()=>{a.update()}}),n}function bAe(e,t,i,r){if(e.parameters.type!=="radial")return;let n=t.radial,a=i.radial;if(!a)return;let c=e.parameters.radial,l=[];return EU.forEach(o=>{let s=gu(o,c,n??{},a,r);s&&l.push(s)}),l}function xAe(e,t,i,r){if(e.parameters.type!=="linear")return;let n=t.linear,a=i.linear;if(!a)return;let c=[],l=e.parameters.linear;return TU.forEach(o=>{let s=gu(o,l,n??{},a,r);s&&c.push(s)}),c}function wAe(e,t,i,r){if(e.parameters.type!=="grid")return;let n=t.grid,a=i.grid;if(!a)return;let c=[],l=e.parameters.grid;return AU.forEach(o=>{let s;o==="count"?s=Oj(o,l,n??{},a,r,!0):s=gu(o,l,n??{},a,r),s&&c.push(s)}),c}function _Ae(e,t,i,r){if(e.parameters.type!=="toObject")return;let n=t.toObject,a=i.toObject;if(!a)return;let c=[],l=e.parameters.toObject;return MU.forEach(o=>{let s;o==="count"?s=Xr(o,l,n??{},a,r,!0):s=gu(o,l,n??{},a,r),s&&c.push(s)}),c}function SAe(e,t,i,r){if(!e.parameters.randomness)return;let n=t.randomnessObject,a=i.randomnessObject;if(!a)return;let c=[],l=e.parameters.randomnessObject;return jU.forEach(o=>{let s=gu(o,l,n??{},a,r);s&&c.push(s)}),c}function CAe(e,t){return{update:()=>{e instanceof Dr&&(e.fill.enabled=t)}}}function EAe(e,t){return{update:()=>{e instanceof Dr&&(e.stroke.enabled=t)}}}function TAe(e,t){return{update:()=>{e instanceof Dr&&(e.dropShadow.enabled=t)}}}function AAe(e,t){return{update:()=>{e instanceof Dr&&(e.innerShadow.enabled=t)}}}function MAe(e,t){return{update:()=>{e instanceof Dr&&(e.backgroundBlur.enabled=t)}}}function jAe(e,t){return{update:()=>{e instanceof Dr&&(e.layerBlur.enabled=t)}}}function IAe(e,t,i,r,n){let a=[],c,l,o,s,u,d,h,p,m,f,g,v,S,x,b;if("width"in e&&(c=Xr("width",e,t,i,n),c&&a.push(c)),"height"in e&&(l=Xr("height",e,t,i,n),l&&a.push(l)),e instanceof Dr||e instanceof gs){let _={...t.fill},w={...i.fill};_.enabled!==void 0&&_.enabled!==w.enabled&&(a.push(CAe(e,!0)),_.enabled||Object.assign(_,{enabled:!0,color:{..._.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),o=Qy("color",e.fill,_,w,n),o&&a.push(o)}if(e instanceof Dr){let _={...t.stroke},w={...i.stroke};(_.enabled||w.enabled)&&(a.push(EAe(e,!0)),_.enabled||Object.assign(_,{enabled:!0,color:{..._.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),s=Qy("color",e.stroke,_,w,n),s&&a.push(s),u=Xr("thickness",e.stroke,_,w,n),u&&a.push(u)}if(e instanceof Dr){let _={...t.dropShadow},w={...i.dropShadow};(_.enabled||w.enabled)&&(a.push(TAe(e,!0)),_.enabled||Object.assign(_,{enabled:!0,color:{..._.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),d=Qy("color",e.dropShadow,_,w,n),d&&a.push(d),h=Xr("blurRadius",e.dropShadow,_,w,n),h&&a.push(h),m=Xr("spread",e.dropShadow,_,w,n),m&&a.push(m),p=Vx("offset",e.dropShadow,_,w,n),p&&a.push(p)}if(e instanceof Dr){let _={...t.innerShadow},w={...i.innerShadow};(_.enabled||w.enabled)&&(a.push(AAe(e,!0)),_.enabled||Object.assign(_,{enabled:!0,color:{..._.color,a:0}}),w.enabled||Object.assign(w,{enabled:!0,color:{...w.color,a:0}})),f=Qy("color",e.innerShadow,_,w,n),f&&a.push(f),g=Xr("blurRadius",e.innerShadow,_,w,n),g&&a.push(g),S=Xr("spread",e.innerShadow,_,w,n),S&&a.push(S),v=Vx("offset",e.innerShadow,_,w,n),v&&a.push(v)}if(e instanceof Dr||e instanceof gs){let _={...t.backgroundBlur},w={...i.backgroundBlur};(_.enabled||w.enabled)&&(a.push(MAe(e,!0)),_.enabled||Object.assign(_,{enabled:!0,radius:0}),w.enabled||Object.assign(w,{enabled:!0,radius:0})),x=Xr("radius",e.backgroundBlur,_,w,n),x&&a.push(x)}if(e instanceof Dr){let _={...t.layerBlur},w={...i.layerBlur};(_.enabled||w.enabled)&&(a.push(jAe(e,!0)),_.enabled||Object.assign(_,{enabled:!0,radius:0}),w.enabled||Object.assign(w,{enabled:!0,radius:0})),b=Xr("radius",e.layerBlur,_,w,n),b&&a.push(b)}if(e instanceof gs||e instanceof r0){let _=Oj("cornerRadius",e,t,i,n);_&&a.push(_)}return a}function f9(e,t,i,r,n){let a=[];return e.data.visible&&a.push(...gAe(e,t,i,n,r)),e instanceof Fr?a.push(...IAe(e,t,i,n,r)):(e.data.visible&&a.push(...yAe(e,t,i,r)),vo(e)?(e instanceof sr&&e.data.visible&&a.push(...nAe(e,t,i,r)),e.data.visible&&a.push(...oAe(e,t,i,r))):mSe(e)?e.data.visible&&a.push(...aAe(e,t,i,r)):fSe(e)&&a.push(...tAe(e,t,i,r))),a.length?{update:c=>{a.forEach(l=>l.update(c))},start:c=>{a.forEach(l=>{var o;return(o=l.start)==null?void 0:o.call(l,c)})},end:c=>{a.forEach(l=>{var o;return(o=l.end)==null?void 0:o.call(l,c)})}}:void 0}var m9=new N;function Rj(e,t,i=!1){var a;let r=[],n=c=>{let l=c.data;delete c.states,c.currentState=null,c.reversibleToState=null,c.currentTransitionEvent=null;for(let o of l.states){let s={...o.data};c.states||(c.states={}),c.states[o.id]=rd.patch(l,s)}v9(e.scene,c,null,t,l.events.find(o=>o.data.type==="Follow"||o.data.type==="LookAt")!==void 0),g9(e)};e.scene.traverse2D(n),e.traverseChildren(c=>{var u,d,h,p,m,f;if(i&&((u=c.rigidBody)==null||u.setTranslation(c.position0,!0),(d=c.rigidBody)==null||d.setRotation(c.rotation0,!0),(h=c.rigidBody)==null||h.setLinvel(m9,!0),(p=c.rigidBody)==null||p.setAngvel(m9,!0)),!Ut.is(c))return;let l=c.uuid,o=c.data;if(delete c.states,c.uuid===jf)return;let s=!1;r.some(g=>{var v;return(v=e.scene.find(l))==null?void 0:v.isDescendantOf(g)})?s=!0:((m=o.physics)==null?void 0:m.fusedBody)===!0&&o.physics.rigidBody==="dynamic"&&r.push(l),c.data=o,c.currentState=null,c.reversibleToState=null,c.currentTransitionEvent=null;for(let g of o.states){let v={...g.data};e.data.globalPhysics.usePhysics===!0&&o.physics&&(o.physics.rigidBody==="dynamic"||s)&&(g.data.position!==void 0&&delete v.position,g.data.rotation!==void 0&&delete v.rotation,g.data.hiddenMatrix!==void 0&&delete v.hiddenMatrix),c.states||(c.states={}),c.states[g.id]=ed.patch(o,v)}v9(e.scene,c,null,t,o.events.find(g=>g.data.type==="Follow"||g.data.type==="LookAt")!==void 0),c instanceof gn&&c.frame&&(c.frame.traverse(g=>n(g)),(f=c.uiCanvas)==null||f.applySize())}),g9(e),e.frame&&(e.frame.traverse(c=>n(c)),(a=e.uiCanvas)==null||a.applySize())}function g9(e){e.traverseEntity(t=>{for(let i of t.data.events){let r=[];switch(i.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":r.push(...i.data.actions);break;case"GameControl":for(let n of Object.values(i.data.gameActions))r.push(...n);break;case"DragDrop":r.push(...i.data.dragDropActions.drag,...i.data.dragDropActions.drop);break;case"Conditional":r.push(...i.data.inActions,...i.data.outActions);break}for(let n of r)if(n.data.type==="Create"&&n.data.hideBase==="Yes"){let a=e.scene.find(n.data.object);a&&(a.visible=!1)}}})}function v9(e,t,i,r,n=!1){if(t instanceof sr&&!(t instanceof Nd)&&t.removeInteractionGeometry(r),t instanceof Fr?t.changeSelectedState(i,{shared:r},n):t.changeSelectedState(i,{scene:e,shared:r},n),t instanceof sr&&t.updateGeometryGroupsIfNeeded(),t instanceof yn&&t.updateCameraState(t.dataPatched,{scene:e,shared:r}),!(t instanceof Fr)){if(t.cloner)for(let a of t.cloner.children)a.playModeVisible=void 0;t.updateVisible()}}function nG(e){let t;if(e.easing===5){let{control1:i,control2:r}=e;t=`cubicBezier(
			${i[0]}, ${i[1]}, ${r[0]}, ${r[1]}
		)`}else if(e.easing===6){let{mass:i,stiffness:r,damping:n,velocity:a}=e;t=`spring( ${i}, ${r}, ${n}, ${a} )`}else{let i;switch(e.easing){case 0:i=cc.linear;break;case 1:i=cc.ease;break;case 2:i=cc.easeIn;break;case 3:i=cc.easeOut;break;case 4:i=cc.easeInOut;break;default:i=cc.linear}let[r,n,a,c]=i;t=`cubicBezier( ${r}, ${n}, ${a}, ${c} )`}return{duration:Math.max(e.duration,1e-4),easing:t}}function QT(e){let t={delay:0,loop:e.repeat===-1?!0:e.repeat+1};if(e.repeat===0)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1;break}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay;break}return t.direction==="alternate"&&(t.delay/=2,t.endDelay/=2,e.delayDirection==="start"?(t.pingPongDelayCorrection=t.delay,typeof t.loop=="number"&&t.loop%2===0&&(t.pingPongEndDelayCorrection=t.delay)):e.delayDirection==="end"?typeof t.loop=="number"&&t.loop%2!==0&&(t.pingPongEndDelayCorrection=t.endDelay):e.delayDirection==="start-end"&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var PAe={type:"beginState"},kAe={type:"completeState",isfromEntity:!1},y9=class{constructor(e,t,i,r,n,a){if(this.object=e,this.data=r,this.sharedAssets=n,this.allowSlerp=a,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.requestRender()),this.targets.t===0||this.targets.t===1?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let c=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=c,this.object.dispatchEvent({type:"beginState",state:c}),this.object instanceof Fr||this.object.traverseEntity(l=>{l!==this.object&&l instanceof yn&&l.dispatchEvent(PAe)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let c=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=c,this.object.dispatchEvent({type:"completeState",state:c}),this.object instanceof Fr||this.object.traverseEntity(l=>{l!==this.object&&l instanceof yn&&l.dispatchEvent(kAe)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=f9(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},t===void 0){let c=B1(this.object,this.object.currentState===i?this.object.prevState:this.object.currentState);if(!c)throw new Error("Missing property");this.from=c}else{let c=B1(this.object,t);if(!c)throw new Error("Missing property");this.from=c}if(i===void 0)throw new Error("Missing property");{let c=B1(this.object,i);if(!c)throw new Error("Missing property");this.to=c}this.useCurrentState=t===void 0||i===void 0,this.params={targets:this.targets,t:1,autoplay:!1,...QT(r),...nG(r),change:this.onChange},this.callback=f9(this.object,t===void 0?{}:this.from.data,i===void 0?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},aG=class extends an{constructor(e,t,i,r,n){var c;if(super(),this.eventType=e,this.data=t,this.page=i,this.shared=r,this.condition=n,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.hasPlayedOnce=!1,this.onTimelineChangeComplete=()=>{var l;this.data.tweens[0].data.direction!=="normal"&&(this.toggleIsForward=!this.toggleIsForward),this.timelineNeedsRebuild!==!1&&((l=this.timeline)==null||l.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!t.object)throw new Error("Missing property");let a=this.page.scene.find(t.object)??((c=this.page.uiCanvas)==null?void 0:c.find(t.object))??this.page.scene.find2DInUIObjects(t.object);if(!a)throw new Error("Missing property");if(!a.states)throw new Error("Missing property");if(this.object=a,t.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay=t.tweens[0].data.delayDirection==="start-once"?t.tweens[0].data.delay:0,this.init()}get playing(){var e;return((e=this.timeline)==null?void 0:e.paused)===!1}get changeBegan(){return this.tweens.some(e=>e.changeBegan)??!1}init(){this.initialCurrentState=B1(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.data.runMode==="Toggle"&&d6(this.eventType)?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:i=!1}={}){var r,n,a,c;try{let l=QT(this.data.tweens[0].data);i&&typeof l.loop=="number"&&l.loop--,(r=this.timeline)==null||r.pause(),this.timeline=rG.timeline({autoplay:!1,...l,...l.loop===!0||l.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let o=this.tweens.findIndex(s=>s==null?void 0:s.changeBegan);if(t===!0&&(this.timelineNeedsRebuild=!0),e){let s=o===-1?0:o;for(let u=s;u<this.data.tweens.length-1;u++){let d=this.data.tweens[u],h=this.data.tweens[u+1],p;u===s&&(this.object.wasMovedByUser===!0||((n=this.object.previousAction)==null?void 0:n.changeBegan)===!0)?(p=void 0,this.object instanceof yn&&(this.object.wasMovedByUser=!1)):p=d.data.state===void 0?this.currentState:d.data.state;let m=new y9(this.object,p,h.data.state===void 0?this.currentState:h.data.state,h.data,this.shared,this.data.allowSlerp??!1);o!==-1&&u===s&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u]=m,this.timeline.add(m.params,this.timeline.duration+(u===s?l.delay:0))}this.timeline.duration+=l.endDelay}else{let s=o===-1?this.data.tweens.length-1:o+1;for(let u=s;u>0;u--){let d=this.data.tweens[u],h=this.data.tweens[u-1],p;u===s&&(this.object.wasMovedByUser===!0||((a=this.object.previousAction)==null?void 0:a.changeBegan)===!0)?(p=void 0,this.object instanceof yn&&(this.object.wasMovedByUser=!1)):p=d.data.state===void 0?this.currentState:d.data.state;let m=new y9(this.object,p,h.data.state===void 0?this.currentState:h.data.state,d.data,this.shared,this.data.allowSlerp??!1);o!==-1&&u===s&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u-1]=m,this.timeline.add(m.params,this.timeline.duration+(u===s?l.endDelay:0))}this.timeline.duration+=l.delay}}catch(l){l instanceof Error&&console.error(l.message)}((c=this.object.previousAction)==null?void 0:c.playing)===!0&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(_i(this.shared,this.condition)===!1||d6(this.eventType)&&this.data.runMode==="Once"&&this.hasPlayedOnce||(this.hasPlayedOnce=!0,this.playing))return!1;clearTimeout(this.timeoutId);let e=QT(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){var e;(e=this.timeline)==null||e.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=this.data.tweens[0].data.state===void 0?this.initialCurrentState:this.data.tweens[0].data.state;this.object instanceof Fr?this.object.changeSelectedState(e,{shared:this.shared}):this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){var t;if(_i(this.shared,this.condition)===!1)return!1;this.timeline===void 0&&this.buildTimeline(),(t=this.timeline)==null||t.seek(e*this.timeline.duration,!0)}toggle(e){var t;if(_i(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?((t=this.timeline)==null||t.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{var i;(i=this.timeline)==null||i.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function B1(e,t){var n;let i,r;if(typeof t=="string"?(i=t,r=(n=e.states)==null?void 0:n[i]):t===null&&(i=null,r=e.data),!(i===void 0||r===void 0))return{id:i,data:r}}var DAe={type:"beginState"},b9={type:"completeState",isfromEntity:!1},x9={type:"requestRender"},oG=class extends an{constructor(e,t,i,r){super(),this.data=e,this.page=t,this.shared=i,this.condition=r,this.toggleIsForward=!1,this.posStart=new N,this.posEnd=new N,this.qStart=new mt,this.qEnd=new mt,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let i={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=rG({targets:i,t:1,...nG(this.data),update:()=>{i.t===0&&(this.data.runMode==="Toggle"&&!this.toggleIsForward?this.fromCamera&&(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(DAe));let r=this.page.activeCamera;r.position.lerpVectors(this.posStart,this.posEnd,i.t),r.quaternion.slerpQuaternions(this.qStart,this.qEnd,i.t),r.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*i.t,r.wasMovedBySwitchCameraAction=!0,r.updateMatrix(),r.updateMatrixWorld(),r.updateProjectionMatrix(),r.dispatchEvent(x9),i.t===1&&r.dispatchEvent(b9)}})}switchCamera(e){let t=this.page.activeCamera,i=this.page.scene.find(e);if(!i||!i.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(i),t.dispatchEvent({type:"cameraChange",camera:i})}play(){if(_i(this.shared,this.condition)===!1)return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var e;delete this.timeoutId,this.data.animate?(this.buildAnimation(),(e=this.animation)==null||e.play()):this.switchCamera(this.data.targetCamera)},this.data.delay*1e3)}catch{}}pause(){var e;(e=this.animation)==null||e.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){var t,i;if(_i(this.shared,this.condition)===!1)return!1;if(window.clearTimeout(this.timeoutId),delete this.timeoutId,e!==this.toggleIsForward)try{this.playing?((t=this.animation)==null||t.pause(),this.toggleIsForward=e??!this.toggleIsForward,this.buildAnimation(!0),(i=this.animation)==null||i.play()):this.timeoutId=window.setTimeout(()=>{var r,n;this.toggleIsForward=e??!this.toggleIsForward,this.data.animate?((r=this.animation)==null||r.pause(),this.buildAnimation(),(n=this.animation)==null||n.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.fromCamera&&this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(b9),this.page.activeCamera.dispatchEvent(x9))},this.data.delay*1e3)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}};function sG(e){let t=e==null?void 0:e.tracks.filter(i=>i.ValueTypeName==="vector"||i.ValueTypeName==="quaternion").map(i=>i.times.length);if(t!=null&&t.length){let i=$0e(t);return i&&i>2?i:2}return 2}var lG=class extends an{constructor(e,t,i,r,n){var o,s,u;super(),this.data=e,this.page=t,this.animationControls=i,this.shared=r,this.condition=n,this.startOnceDelay=0,this.toggleIsForward=!1;let a=e.object,c=t.scene.find(e.object);c&&Array.isArray(c.identity)&&(a=c.identity[0]),this.data={...e,object:a};let l=this.animationControls.clipIdToAction[e.clipId+"/"+a];if(this.duration=((o=l==null?void 0:l.getClip())==null?void 0:o.duration)??1,this.data.crop2){let d=sG(l==null?void 0:l.getClip());this.leftFrameTime=this.data.crop2[0]/(d-1)*this.duration,this.rightFrameTime=this.data.crop2[1]/(d-1)*this.duration}else{let d=(u=(s=l==null?void 0:l.getClip())==null?void 0:s.tracks[0])==null?void 0:u.times.length;d&&d>1?(this.leftFrameTime=this.data.crop[0]/d*this.duration,this.rightFrameTime=this.data.crop[1]/d*this.duration):(this.leftFrameTime=0,this.rightFrameTime=this.duration)}this.startOnceDelay=e.delay}get playing(){var e;return((e=this.threeAnimAction)==null?void 0:e.isRunning())??!1}play(e=!1){if(_i(this.shared,this.condition)===!1)return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var i;if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([r,n])=>{let a=r.split("/")[1];this.threeAnimAction!==n&&a===t&&n.isRunning()&&(e?n.fadeOut(.2):n.stop())}),e&&((i=this.threeAnimAction)==null||i.fadeIn(.2))},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){var e;(e=this.threeAnimAction)==null||e.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=Ve.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(_i(this.shared,this.condition)===!1)return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{var i;if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let r=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([n,a])=>{let c=n.split("/")[1];this.threeAnimAction!==a&&c===r&&a.isRunning()&&(t?a.fadeOut(.2):a.stop())}),t&&((i=this.threeAnimAction)==null||i.fadeIn(.2))}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){var t;let e=(t=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object])==null?void 0:t.getClip();e&&(e.duration=this.duration),this.pause()}},cG=class{constructor(e,t,i,r,n){this.data=e,this.page=t,this.eventManager=i,this.shared=r,this.condition=n,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(_i(this.shared,this.condition)===!1)return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},this.data.delay*1e3))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target||t.data.uiScene))return;this.data.transition==="fade"&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,this.data.duration*1e3),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.traverseVisibleEntity(t=>{t.type==="ParticleSystem"&&(t.sleep(),t.wakeUp(),t.data.autoPlay?t.start():t.stop())}),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),Rj(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},uG=class{constructor(e,t,i,r){this.data=e,this.page=t,this.shared=i,this.condition=r,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=_i(this.shared,this.condition)}dispatch(){if(this.evaluatedCondition===!1)return!1;let e=this.shared.getVariable(this.data.variableId),t=uV(this.data.expression,this.shared,Zr.typeOfVariable(e));t!==void 0&&this.shared.updateVariable(this.data.variableId,typeof t=="string"?{textValue:t}:t)}dispose(){}},dG=class{constructor(e,t,i,r){this.data=e,this.page=t,this.shared=i,this.condition=r,this.timeoutId=null}dispatchInner(){if(_i(this.shared,this.condition)===!1)return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if(this.data.mode==="PlayPause")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,e==="Playing"?"Paused":"Playing");else if(this.data.mode==="Play"&&e!=="Playing")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if(this.data.mode==="Stop"&&e!=="Stopped")this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if(this.data.mode==="Pause"&&e!=="Paused")this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if(this.data.mode==="Restart")this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if(this.data.mode==="Toggle"){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);e==="Playing"?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,t===void 0?!1:!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);this.data.mode==="PlayPause"&&t==="Playing"&&(e=this.data.pauseDelay),e!==0?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}},OAe=class{constructor(e,t,i,r){this.data=e,this.page=t,this.shared=i,this.condition=r}dispatch(){if(_i(this.shared,this.condition)===!1)return!1;(this.data.target==="single"?this.data.variableId?[this.data.variableId]:[]:Object.keys(this.shared.getVariables())).forEach(e=>{var i;this.shared.getVariable(e);let t=(i=this.shared.data.variables.data(e))==null?void 0:i.value;t!==void 0&&this.shared.updateVariable(e,t),this.shared.enableLocalStorageForPersistentVariables&&localStorage.removeItem(jT(e))})}dispose(){}},RAe=class{constructor(e,t,i,r){this.data=e,this.page=t,this.shared=i,this.condition=r}dispatch(){var e;if(_i(this.shared,this.condition)===!1)return!1;this.data.userAPIId&&((e=this.shared.getUserAPI(this.data.userAPIId))==null||e.callUserAPI(this.shared))}dispose(){}};function _i(e,t){if(t===void 0)return!0;if(t.expression.length===0)return!1;let i=uV(t.expression,e,"boolean");return t.negate?!i:!!i}function ur(e,t,i,r,n,a){let c={Audio:[],Video:[],Particles:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[],ClearLocalStorage:[],UserAPI:[]},l=o=>({id:s,data:u})=>{try{u.type==="Audio"?cn[e.type].includes("Audio")&&c.Audio.push(new LH(s,u,a,r,o)):u.type==="Video"&&!(a instanceof Fr)?cn[e.type].includes("Video")&&c.Video.push(new pG(s,u,a,r,o)):u.type==="Particles"?cn[e.type].includes("Particles")&&c.Particles.push(new zH(u,i,r,o)):u.type==="Link"?cn[e.type].includes("Link")&&c.Link.push(new wTe(u,n.controlsManager,r,o)):u.type==="Create"?cn[e.type].includes("Create")&&c.Create.push(new fG(u,i,n.controlsManager,r,o)):u.type==="Destroy"?cn[e.type].includes("Destroy")&&c.Destroy.push(new BH(u,i,n.controlsManager,r,o)):u.type==="Reset"?cn[e.type].includes("Reset")&&c.Reset.push(new FH(u,i,r,n,o)):u.type==="Transition"?cn[e.type].includes("Transition")&&c.Transition.push(new aG(e.type,u,i,r,o)):u.type==="SwitchCamera"?cn[e.type].includes("SwitchCamera")&&c.SwitchCamera.push(new oG(u,i,r,o)):u.type==="SceneTransition"?cn[e.type].includes("SceneTransition")&&c.SceneTransition.push(new cG(u,i,n,r,o)):u.type==="Animation"?cn[e.type].includes("Animation")&&c.Animation.push(new lG(u,i,n.animationControls,r,o)):u.type==="SetVariable"?cn[e.type].includes("SetVariable")&&c.SetVariable.push(new uG(u,i,r,o)):u.type==="DynamicVariablePlay"?cn[e.type].includes("DynamicVariablePlay")&&c.DynamicVariablePlay.push(new dG(u,i,r,o)):u.type==="Conditional"?cn[e.type].includes("Conditional")&&(u.ifActions.forEach(l({expression:u.condition,negate:!1})),u.elseActions.forEach(l({expression:u.condition,negate:!0}))):u.type==="ClearLocalStorage"?cn[e.type].includes("ClearLocalStorage")&&c.ClearLocalStorage.push(new OAe(u,i,r,o)):u.type==="UserAPI"&&cn[e.type].includes("UserAPI")&&c.UserAPI.push(new RAe(u,i,r,o))}catch{}};return t.forEach(l()),c}function Lr(e){Object.values(e).forEach(t=>{t.forEach(i=>{(i instanceof LH||i instanceof pG||i instanceof zH||i instanceof lG||i instanceof aG||i instanceof fG||i instanceof BH||i instanceof oG||i instanceof cG||i instanceof FH||i instanceof uG||i instanceof dG)&&i.dispose()})})}function NAe(e,t){let i;if("material"in e){let r=e.material;Array.isArray(r)?i=e.material[0].layers.find(n=>n.uuid===t):i=e.material.layers.find(n=>n.uuid===t)}if(i)return i.color.texture.image.img instanceof HTMLVideoElement?i.color.texture.image.img:void 0}var hG=new Map,pg=new Map,jp=class{constructor(e,t,i){this.data=t,this.delay=0,this.status="stopped";let{layerId:r,loop:n,volume:a,delay:c}=t;if(this.object=i,r===void 0)throw new Error("Missing property");let l=NAe(i,r);l&&(this.videoElement=l,this.videoElement.loop=n===1/0,Jv&&(this.videoElement.autoplay=!0),a!==void 0&&(this.videoElement.volume=a)),c!==void 0&&(this.delay=c),pg.has(i.uuid)?pg.get(i.uuid).push(this):pg.set(i.uuid,[this]),hG.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let i=this.videoElement.play();i!==void 0&&i.then(r=>{}).catch(r=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){this.data.toggle==="stop"?this.status==="playing"?this.stop():(this.stop(),this.play()):this.data.toggle==="pause"?this.status==="playing"?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},$T=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=hG.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=pg.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(i=>i[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(i=>i[this.data.interaction]()))}pauseAllVideos(){let e=[...pg.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(i=>{i[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(i=>{i[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},pG=class{constructor(e,t,i,r,n){if(this.data=t,this.shared=r,this.condition=n,t.interaction==="play")this.interaction=new jp(e,t,i);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new $T(t);else throw new Error("Missing property")}dispatchBasic(){if(_i(this.shared,this.condition)===!1)return!1;this.interaction instanceof jp?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(_i(this.shared,this.condition)===!1)return!1;this.interaction instanceof jp?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},w9=(()=>{let e,t,i,r;function n(l){!e&&!_9()&&(t==null?void 0:t.sharedGameControlGlobals.createdObjects.length)>0&&(e=requestAnimationFrame(a)),l&&(t=l,r=l.requestRender)}function a(l){let o=i?l-i:0,s=t.sharedGameControlGlobals.createdObjects,u=t.sharedGameControlGlobals.nCreatedPerAction,d=s.length,h=0;for(;h<d;){let p=s[h];p.userData.createdTime===void 0&&(p.userData.createdTime=l),p.userData.lifetime===void 0&&p.userData.quantity===void 0||p.userData.lifetime&&l-p.userData.createdTime<p.userData.lifetime||p.userData.quantity&&u[p.userData.actionId]<=p.userData.quantity?(p.userData.velocity&&(p.position.addScaledVector(p.userData.velocity,o/1e3),p.updateMatrix(),r()),h++):(u[p.userData.actionId]>p.userData.quantity&&u[p.userData.actionId]--,s.splice(h,1),p.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&p.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(p.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(p.rigidBody)):(p.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(m=>m.bvhGeometry!==void 0)),d--,r())}e=h>0?requestAnimationFrame(a):void 0,i=h>0?l:void 0}function c(){_9()?e&&(cancelAnimationFrame(e),e=void 0,i=void 0):n()}return typeof document<"u"&&document.addEventListener("visibilitychange",c),n})();function _9(){return!!document&&document.hidden}var S9=new mt,LAe=new N,zAe=new N,fG=class{constructor(e,t,i,r,n){this.data=e,this.page=t,this.controlsManager=i,this.shared=r,this.condition=n,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=Ve.generateUUID(),this.dispatch=()=>{if(_i(this.shared,this.condition)===!1)return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()},this.dispatchFromStart=()=>{if(_i(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))},this.dispatchThrottled=gye(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{this.intervalId===null&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let c=new en(this.object);if(c.playModeVisible=!0,c.expand(),this.data.coordinateSystem!=="world"){let o=this.data.coordinateSystem,s=this.page.scene.find(o);s&&(s.updateMatrixWorldSVD(),c.hiddenMatrix.copy(s.matrixWorldRigid))}c.scale.copy(this.object.scale),c.position.fromArray(this.data.position),c.rotation.fromArray(this.data.rotation),c.updateMatrix(),this.page.add(c);let l=this.controlsManager.sharedGameControlGlobals;l.createdObjects.push(c),l.nCreatedPerAction[this.uniqueId]===void 0?l.nCreatedPerAction[this.uniqueId]=1:l.nCreatedPerAction[this.uniqueId]++,c.updateWorldMatrix(!0,!0),c.traverseObject(this.traverseObjectCB),w9(),this.controlsManager.requestRender()},this.traverseObjectCB=c=>{var u,d,h,p;c.hasNonUniformScale&&c.updateMatrixWorldSVD();let l;if(this.controlsManager.sharedGameControlGlobals.rapierWorld){if(c instanceof Ba)if(c.objectForSample){if(c.objectForSample.dataPatched.physics.fusedBody)return;l=c.object}else return c.object.dataPatched.physics.fusedBody===!0&&c.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(c instanceof en)l=c.object;else if(l=c,(u=l.dataPatched.cloner)==null?void 0:u.hideBase)return!0}else{if(c instanceof Ba)return;c instanceof en?l=c.object:l=c}this.data.destroy==="Time"?c.userData.lifetime=this.data.lifetime*1e3:this.data.destroy==="Quantity"&&(c.userData.quantity=this.data.destroyAfterQuantity,c.userData.actionId=this.uniqueId);let o=new N().fromArray(this.data.velocity),s=l.dataPatched;if(!(s.physics.enabled==="visibility"?!s.visible:!s.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(c,l,{fromCreate:!0,dynamic:this.data.dynamic}),this.data.destroy==="Collision"&&((d=c.rigidBody)==null||d.collider(0).setActiveEvents(1),c.userData.hasCollisionDestroy=!0),c.matrixWorld.decompose(LAe,S9,zAe),o.applyQuaternion(S9),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&((h=c.rigidBody)==null||h.setLinvel(o.divideScalar(this.controlsManager.pixelsPerMeter),!0))):("geometry"in c.object&&this.controlsManager.addBoundsTree(c),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&(c.userData.velocity=o)),((p=l.dataPatched.physics)==null?void 0:p.fusedBody)===!0))return!0};let a=this.page.scene.find(this.data.object);if(!a)throw new Error("Missing Property");if(this.object=a,this.data.coordinateSystem!=="world"&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");w9(i)}dispose(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},mG=200,cC=.02,uC=.3,BAe=65;new N;var C9=new N,E9=new N,FAe=new N,Tn=new N,Gn=new N,ic=new N,dC=new Ie,T9=new Ie,UAe=new Ie;new Ie;var so=new mt,Us=new mt,Go=new yr(0,0,0,"YXZ"),VAe=new N(1,0,0),lo=new N(0,1,0),HAe=new N(0,0,1),A9=new N(1,1,1);new aa;var GAe=1,WAe=.025,qAe=16e-6,M9=12,YAe=20,Mr=new Va,Ta=new Zi,KAe={type:"requestRender"},XAe={type:"updateMatrix"},j9=Math.PI/6,ZT=class extends an{constructor(e,t,i,r,n,a,c,l,o){var m;super(),this.object=e,this.domElement=t,this.data=i,this.gloabalPhysics=r,this.controlsManager=n,this.cameraFollow=a,this.camera=c,this.page=l,this.sharedAssets=o,this.enableDamping=!0,this.hiddenMatrix0=new Ie,this.target0=new N,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=mG,this.euler0=new yr(0,0,0,"YXZ"),this.position0Cam=new N,this.quat0Cam=new mt,this.scale0Cam=new N,this.hiddenMatrix0Cam=new Ie,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new Va(new N(0,-40,0),new N(0,40,0)),matrix:new Ie,position:new N,rotation:new mt},this.euler=new yr(0,0,0,"YXZ"),this.eulerDelta=new N,this.lastPosition=new N,this.lastCameraQuaternion=new mt,this.lastCameraPosition=new N,this.PI_2=Math.PI/2,this.prevMouse=new re,this.velocityTarget=new N,this.velocity=new N,this.directionXZ=new N,this.rotVelocityStick=new N,this.rotVelocityTarget=new N,this.rotVelocity=new N,this.rotDirection=new N,this.nonColliderRotOffset=new Ie,this.nonColliderPosOffset=new Ie,this.firstPointerId=-1,this.rot=new N,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Ie,this.objectToTarget=new N,this.objectToTarget0=new N,this.objectToCamXZ=new N,this.objectToCamXZ0=new N,this.targetToCamera=new N,this.targetToCamera0=new N,this.cameraPolarAxis0=new N,this.targetPos=new N,this.targetQuat=new mt,this.lerpFactorPos=new N().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new mt,this.objXZQuatInv=new mt,this.objXZRotMat=new Ie,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new N,this.pushedVelocity=new N,this.groundYRotation=0,this.objectRealQuat=new mt,this.colliderWorldQuat=new mt,this.groundNormal=new N,this.groundTilt=new mt,this.groundTiltInv=new mt,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new N,this.quaternion=new mt,this.scale=new N,this.initialAction=!0,this.onPointerDown=f=>{var g;!(f.target===this.domElement||f.target instanceof HTMLElement&&f.target.tagName==="SPLINE-VIEWER"&&((g=f.target.shadowRoot)!=null&&g.contains(this.domElement)))||this.firstPointerId!==-1||(this.firstPointerId=f.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!pa&&!JD&&this.domElement.requestPointerLock(),this.prevMouse.set(f.clientX,f.clientY))},this.onPointerUp=f=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),f.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=f=>{if(f.pointerId!==this.firstPointerId)return;let g=f.clientX-this.prevMouse.x,v=f.clientY-this.prevMouse.y;this.prevMouse.set(f.clientX,f.clientY),f.pointerType==="mouse"&&this.rotBy!=="keys"&&(JD&&Tye<15.5&&!pa?(this.eulerDelta.y=-g*this.mouseOrbitSensitivity,this.eulerDelta.x=-v*this.mouseOrbitSensitivity):(this.eulerDelta.y=-f.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-f.movementY*this.mouseOrbitSensitivity)),f.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-g*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-v*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=f=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?ZT.isLocked=!0:ZT.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document!=null&&document.hidden)for(let f in this.movementState)this.movementState[f]=0},this.onKeyDown=f=>{!(f.target instanceof HTMLInputElement)&&(f.code==="ArrowLeft"||f.code==="ArrowUp"||f.code==="ArrowRight"||f.code==="ArrowDown"||f.code==="Space")&&f.preventDefault();for(let g of this.keyAssignments)if(f.key.toUpperCase()===g[1]||f.key===g[1]){this.movementState[g[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=f=>{for(let g of this.keyAssignments)if(f.key.toUpperCase()===g[1]||f.key===g[1]||f.code.slice(3,f.code.length).toUpperCase()===g[1]){this.movementState[g[0]]=0;break}},this.copyVRGamePadValues=(f,g)=>{for(let v=2;v<4;v++){let S=f.axes[v];g===0?v===2?this.movementState.movePosX=S:this.movementState.movePosZ=S:(f.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,v===2?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(S)>=.3&&(this.vrEulerYOffset+=S<0?1:-1),this.movementState.rotPosY=S):this.moveMode==="fly"&&(this.movementState.moveNegY=S))}},this.sharedGameControlGlobals=n.sharedGameControlGlobals,e===c&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let s=this.euler0.clone(),u=s.y;if(this.objectRealQuat.copy(this.quaternion),s.y=0,this.quaternion.setFromEuler(s),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),s.set(0,u,0),this.quaternion.setFromEuler(s),this.rot.setFromEuler(s),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||this.cameraFollow===!0)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy((m=this.camera)==null?void 0:m.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let f=new N(0,0,-1).applyQuaternion(this.camera.quaternion),g=new N().subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(g),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let v,S;Math.abs(f.y)<1e-6?(g.y=0,f.y=0,S=g.projectOnVector(f)):g.y/f.y>0?S=f.multiplyScalar(g.y/f.y):S=f.multiplyScalar(g.length()),this.targetToCamera0.copy(S).negate(),v=this.camera.position.clone().add(S),this.objectToTarget0.subVectors(v,this.position);let x=new yr().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-x.x,x.x=0,x.z=0,x.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(x)}if(this.object instanceof yn&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=i.rotByTouch??"joystick",this.rotBy=i.rotBy??"keys",this.rotationMode=i.rotationMode??"normal",this.moveMode=i.moveMode??"walk",this.collisionEnabled=i.collisionEnabled,this.speedTranslate=(i.speedTranslate??250)*GAe,this.speedOrbit=(i.speedRotate??100)*WAe,this.mouseOrbitSensitivity=(i.speedRotate??100)*qAe,this.keyAssignments=i.keyAssignments.map(f=>{let g=[f[0],f[1]];return g[1]===""?g[1]="ArrowUp":g[1]===""?g[1]="ArrowLeft":g[1]===""?g[1]="ArrowDown":g[1]===""?g[1]="ArrowRight":g[1]===""?g[1]="Shift":g[1]===""?g[1]="Enter":g[1]==="Space"?g[1]=" ":g[1]===""?g[1]="Meta":g[1]==="Ctrl"?g[1]="Control":g[1]==="Esc"&&(g[1]="Escape"),g}),i.rotBy==="mouse"){let f;f=this.keyAssignments.findIndex(g=>g[0]==="rotNegX"),f!==-1&&(this.keyAssignments[f][1]=""),f=this.keyAssignments.findIndex(g=>g[0]==="rotPosX"),f!==-1&&(this.keyAssignments[f][1]=""),f=this.keyAssignments.findIndex(g=>g[0]==="rotPosY"),f!==-1&&(this.keyAssignments[f][1]=""),f=this.keyAssignments.findIndex(g=>g[0]==="rotNegY"),f!==-1&&(this.keyAssignments[f][1]="")}this.lerpFactorPosStart=1-.02**(1/((i.delayPos[0]??.3)*60)),this.lerpFactorPosEnd=1-.02**(1/((i.delayPos[1]??.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/((i.delayRot[0]??.3)*60)),this.lerpFactorRotEnd=1-.02**(1/((i.delayRot[1]??.3)*60)),this.lerpFactorPosCamera=1-.02**(1/((i.delayPosCamera??.3)*60)),this.lerpFactorRotCamera=1-.02**(1/((i.delayRotCamera??.3)*60)),this.gravity=(this.gloabalPhysics.gravity??Xp.defaultData.gravity)*M9,this.usePhysics=this.gloabalPhysics.usePhysics??Xp.defaultData.usePhysics,this.jumpPower=i.jumpPower*YAe,this.resetYPosition=this.position.y+Math.abs(i.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=i.alignToGround??!1,this.orientMode=i.autoOrientMove?i.orientMode:"none",this.orientWith=i.orientWith??Sx.defaultDataThirdPerson.orientWith,this.slopeThresh=BAe*Math.PI/180,i.collider.type==="capsule"?(this.collider.radius=i.collider.radius,this.collider.segment.start.y=i.collider.height/2-i.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=i.collider.height*cC/this.pixelsPerMeter,this.stepThresh=i.collider.height*uC/this.pixelsPerMeter,this.colliderHeight=i.collider.height):i.collider.type==="sphere"?(this.collider.radius=i.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*i.collider.radius*cC/this.pixelsPerMeter,this.stepThresh=2*i.collider.radius*uC/this.pixelsPerMeter,this.colliderHeight=i.collider.radius*2):(this.offset=i.collider.height*cC/this.pixelsPerMeter,this.stepThresh=i.collider.height*uC/this.pixelsPerMeter,this.colliderHeight=i.collider.height),this.collider.type=i.collider.type;let d=new N().fromArray(i.collider.position),h=new mt().setFromEuler(new yr().fromArray([...i.collider.rotation,"XYZ"]));this.collider.position.copy(d).multiply(this.scale),this.collider.rotation.copy(h),this.collider.matrix.compose(d,h,A9),i.cameraXAxis!==void 0&&(this.cameraXAxis=i.cameraXAxis,this.cameraYAxis=i.cameraYAxis,this.minPolarAngle=i.cameraRotXLimits[0],this.maxPolarAngle=i.cameraRotXLimits[1],this.minAzimuthAngleRel=i.cameraRotYLimits[0],this.maxAzimuthAngleRel=i.cameraRotYLimits[1]),this.forwardDir=i.forwardDirection??"-z",this.isFirstPerson&&(this.forwardDir="-z"),this.runMultiplier=i.runMultiplier??2;let p=i.navmesh.destinationHelperRadius*2;if(p>0){let f=new Ze;f.push({fi:0,data:{...Ir.defaultData("light","phong"),alpha:0},id:"layer1"}),f.push({fi:0,data:{...Ir.defaultData("color"),color:i.navmesh.destinationHelperColor,alpha:i.navmesh.destinationHelperColor.a},id:"layer2"});let g=new aj({layers:f},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new gi(VU.create({parameters:{width:p,height:p/10,hollow:.7}}),g),this.navMeshPathDest.material.userData.opacity0=i.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=new yr().setFromQuaternion(this.quaternion,"YXZ"),i=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,i,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof yn?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){var e;this.deactivate(),(e=this.navMeshPathDest)!=null&&e.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;e.gameActions!==void 0&&(this.actions={},_x.list.forEach(i=>{this.actions[i]=ur({...e,type:"GameControl"},e.gameActions[i],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),Lr(this.actions.idle),Lr(this.actions.move),Lr(this.actions.run),Lr(this.actions.jump)}dispatchStartEvent(e){this.actions[e]!==void 0&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(this.initialAction===!1)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){this.actions[e]!==void 0&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),t.object.currentState!==null&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Tn.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,i){var l,o,s,u,d,h,p,m,f;if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let r=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let n=r*60,a=!1;if(this.usePhysics&&this.collisionEnabled){let g=Gn.set(0,(this.velocity.y===0?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/(10*M9),1)*(this.gravity>0?1:-1):this.velocity.y)*r,0).divideScalar(this.pixelsPerMeter),v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,g,(l=this.object.rigidBody)==null?void 0:l.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(v){this.onObject=!0,this.groundNormal.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(a=!0),((o=v.collider.parent())==null?void 0:o.bodyType())===0&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let S=v.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let x of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(x.rigidBody===S&&x.userData.isFollowingObj!==this.object.uuid){(x.hasNonUniformScale?x.matrixWorldRigid:x.matrixWorld).decompose(Tn,Us,Gn),this.groundVelocity.subVectors(Tn,x.prevT),this.object.getWorldPosition(Gn).add(this.collider.position).sub(Tn),this.groundYRotation=Go.setFromQuaternion(Us).y-x.prevR.y,ic.copy(Gn).applyAxisAngle(lo,this.groundYRotation),this.groundVelocity.add(ic.sub(Gn)).divideScalar(r);break}}else this.onObject=!1}if(this.moveMode==="walk"&&this.collisionEnabled&&(this.movementState.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*n),this.moveMode==="fly"&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,this.forwardDir==="+z"&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let g=this.navMeshPathDest.material;if(this.moveMode==="walk"&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let v=Tn.subVectors(this.path[1],this.position),S=Gn.subVectors(this.path[1],this.path[0]);v.dot(S)<0?this.path.shift():(this.directionXZ.x=S.x,this.directionXZ.z=S.z),g.opacity=g.userData.opacity0}else g.opacity-=.05*g.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.didHit===!1&&this.pushedVelocity.manhattanLength()===0||this.usePhysics===!1?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**n),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**n),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**n)):this.velocity.copy(this.velocityTarget),(this.moveMode==="walk"?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let c=FAe.copy(this.velocity);if(this.orientMode!=="none"&&this.isFirstPerson===!1){let g=Gn.copy(c);g.y=0,c.set(0,c.y,g.length()*(this.forwardDir==="+z"?1:-1))}if(this.directionXZ.manhattanLength()>0&&this.orientMode!=="none"&&this.isFirstPerson===!1)if(this.orientWith==="camera"&&this.path.length<=1){let g=Tn;this.camera.getWorldDirection(g);let v=ic.copy(lo).multiplyScalar(g.dot(lo));g.sub(v);let S=Gn.copy(this.directionXZ);S.x*=-1,this.rot.y=g.angleTo(S)*(g.cross(S).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*(this.forwardDir==="+z"?1:-1);if(Go.setFromVector3(this.rot),this.moveMode==="walk"&&(Go.x=0),c.applyEuler(Go),a&&(Us.setFromUnitVectors(lo,this.groundNormal),c.applyQuaternion(Us)),i){let g=Go.set(0,this.vrEulerYOffset*j9,0);i.applyEuler(g),c.x+=i.x,c.z+=i.z,this.nonColliderPosOffset.elements[13]+=i.y*r}if(this.usePhysics===!0){let g=Gn;this.pushedVelocity.set(0,0,0);for(let v of this.sharedGameControlGlobals.entitiesWithTransformAnim){let S=ic.setFromMatrixPosition(v.matrixWorld).sub(v.prevT).divideScalar(r).divideScalar(this.pixelsPerMeter),x=v.rigidBody.collider(0).castCollider(S,this.object.rigidBody.collider(0),Tn.copy(c).divideScalar(this.pixelsPerMeter),r,!1);S.multiplyScalar(this.pixelsPerMeter);let b=Ut.is(v)?v:v.object;if(x!==null&&this.lastHitObj!==b){let _;v instanceof en&&(_=v);let w=this.sharedGameControlGlobals.entityToCollisionEvents[b.uuid];if(w)for(let C of w)C.data.target==="character"&&(C.dispatch(_),b.dispatchEvent(tA));this.lastHitObj=b}if(x!==null){this.pushedVelocity.copy(S),g.copy(x.normal1).applyQuaternion(v.quaternion);break}}if(this.pushedVelocity.manhattanLength()!==0){let v=g.dot(c);v<0&&c.addScaledVector(g,-v),c.add(this.pushedVelocity)}else c.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.movementState.rotPosX||this.movementState.rotNegX)||this.rotationMode==="steer"&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.movementState.rotPosY||this.movementState.rotNegY)||this.rotationMode==="steer"&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(r),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**n):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**n),this.euler.x+=this.rotVelocity.x*r,this.euler.y+=this.rotVelocity.y*r+this.groundYRotation,this.rotVelocityTarget.y===0&&this.directionXZ.manhattanLength()===0?this.rotationAccumWhenOrientWithCamera=0:(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*r),this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){if(this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(lo,this.euler.y-this.euler0.y);let g=Gn.copy(this.objectToCamXZ).normalize(),v=ic.copy(c).multiplyScalar(r);v.y=0;let S=v.sub(Tn.copy(g).multiplyScalar(v.dot(g))).cross(g).y;this.euler.y-=Math.atan2(S,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*r+this.groundYRotation,this.rotVelocityTarget.y!==0&&(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.euler.y=this.rot.y);if(this.cameraFollow===!0&&(this.moveMode==="walk"?this.cameraXAxis==="Limit"?this.euler.x=Ve.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=Ve.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):this.cameraXAxis==="Limit"&&(this.euler.x=Ve.clamp(this.euler.x,-this.PI_2,this.PI_2))),this.moveMode==="fly"?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(Go.copy(t),Go.y=0):(Go.copy(this.euler),Go.y=0),this.nonColliderRotOffset.makeRotationFromEuler(Go)),t&&(this.moveMode==="walk"?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*j9),so.setFromAxisAngle(VAe,this.rot.x),Us.setFromAxisAngle(lo,this.rot.y),Us.multiply(so),so.setFromAxisAngle(HAe,this.rot.z),Us.multiply(so),this.quaternion.copy(Us),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let g=Gn.copy(c).multiplyScalar(r/this.pixelsPerMeter),v=null;this.didHit=!1;let S=new N;for(let x=0;x<5;x++){let b=g.length(),_=ic.copy(g).normalize();if(v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(S),this.colliderWorldQuat,_,(s=this.object.rigidBody)==null?void 0:s.collider(0).shape,b,!1,24,void 0,void 0,this.object.rigidBody),v!==null){this.didHit=!0;let w=this.sharedGameControlGlobals.colliderToEntity.get(v.collider.handle);if(w!==this.lastHitObj&&x===0){this.lastHitObj=w;let T=this.sharedGameControlGlobals.entityToCollisionEvents[w==null?void 0:w.uuid];if(T){for(let M of T)if(M.data.target==="character"){let j=((u=this.sharedGameControlGlobals.rapierWorld)==null?void 0:u.getCollider(v.collider.handle))._parent,P;if(w.cloner){for(let I of w.cloner.children)if(I.rigidBody===j){P=I;break}}M.dispatch(P),w.dispatchEvent(tA)}}}let C=C9.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat),E=E9.copy(_).multiplyScalar(v.toi).dot(C),A=v.toi;if(A===0&&(this.position.y+=this.offset*this.pixelsPerMeter),E>this.offset&&(A=v.toi*(E-this.offset)/E,S.addScaledVector(_,A)),g.copy(_).multiplyScalar(b-A),Math.acos(-C.y)>this.slopeThresh){let T=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(S),M=ic.copy(v.witness2).applyQuaternion(this.colliderWorldQuat);M.y=0;let j=T.add(M);j.y+=this.stepThresh;let P=this.sharedGameControlGlobals.rapierWorld.castShape(j,this.colliderWorldQuat,g,(d=this.object.rigidBody)==null?void 0:d.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);P!==null&&P.toi===0&&(C.y=0,C.normalize())}g.addScaledVector(C,-g.dot(C))}else{x===0&&this.directionXZ.manhattanLength()!==0&&(this.lastHitObj=null),S.add(g);break}}this.position.addScaledVector(S,this.pixelsPerMeter),(h=this.object.rigidBody)==null||h.setTranslation(Tn.copy(this.position).divideScalar(this.pixelsPerMeter),!0),(p=this.object.rigidBody)==null||p.setRotation(so.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let g=this.onObject?1:5,v=c.multiplyScalar(r/g);for(let S=0;S<g;S++)this.position.add(v),this.collisionAdjustment(r/g)}else this.position.addScaledVector(c,r);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let g=this.objectToTarget.add(this.position),v=this.targetToCamera.add(g);dC.lookAt(v,g,lo).setPosition(v),dC.decompose(this.targetPos,this.targetQuat,Tn),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**n),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**n),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=Ve.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=Ve.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(XAe),this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(this.camera===void 0||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode==="fly"||this.onObject===!0||this.collisionEnabled===!1)&&(this.navMeshPathDest===null||this.navMeshPathDest.material.opacity<-.04*((f=(m=this.navMeshPathDest)==null?void 0:m.material)==null?void 0:f.userData.opacity0))?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(KAe),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e=so.setFromAxisAngle(lo,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?Ve.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(e);let t;this.cameraXAxis==="Limit"?t=Ve.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):t=Ve.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let i=Tn.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&i.applyQuaternion(e);let r=Us.setFromAxisAngle(i,t);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(e),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(r)}groundTiltAdjustment(e){lo.angleTo(e)*180/Math.PI<15||lo.angleTo(e)*180/Math.PI>85?so.identity():so.setFromUnitVectors(lo,e),this.groundTilt.slerp(so,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){var n;let t=E9.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let i=dC.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Tn,so,Gn).compose(Tn,so,A9);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(a=>{if(a===this.object||a.isDescendantOf(this.object))return;Ta.makeEmpty(),a.updateMatrixWorldSVD();let c=a.matrixWorldRigid,l=T9.copy(c).invert(),o=UAe.copy(T9).multiply(i);Mr.copy(this.collider.segment),Mr.start.applyMatrix4(o),Mr.end.applyMatrix4(o);let s=C9.copy(this.position).applyMatrix4(l);Ta.expandByPoint(Mr.start),Ta.expandByPoint(Mr.end),Ta.min.addScalar(-this.collider.radius),Ta.max.addScalar(this.collider.radius),a.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(u){return u.distanceToPoint(Mr.end)},intersectsBounds:u=>u.intersectsBox(Ta),intersectsTriangle:u=>{let d=Tn,h=Gn,p=u.closestPointToSegment(Mr,d,h);if(p<this.collider.radius){let m=this.collider.radius-p,f=h.sub(d).normalize(),g=ic.copy(s);g.addScaledVector(f,m);let v=g.applyMatrix4(c).sub(this.position);t.add(v),Mr.start.addScaledVector(f,m),Mr.end.addScaledVector(f,m)}}})}),Ta.makeEmpty(),Mr.copy(this.collider.segment),Mr.start.applyMatrix4(i),Mr.end.applyMatrix4(i),Ta.expandByPoint(Mr.start),Ta.expandByPoint(Mr.end),Ta.min.addScalar(-this.collider.radius),Ta.max.addScalar(this.collider.radius),(n=this.sharedGameControlGlobals.staticMeshBVH)==null||n.shapecast({traverseBoundsOrder(a){return a.distanceToPoint(Mr.end)},intersectsBounds:a=>a.intersectsBox(Ta),intersectsTriangle:a=>{let c=Tn,l=Gn,o=a.closestPointToSegment(Mr,c,l);if(o<this.collider.radius){let s=this.collider.radius-o,u=l.sub(c).normalize();this.alignToGround&&this.groundTiltAdjustment(u),t.addScaledVector(u,s),Mr.start.addScaledVector(u,s),Mr.end.addScaledVector(u,s)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let r=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(r),this.position.add(t)}},gG=ZT;gG.isLocked=!1;var JAe=pu(bB());function vG(e){let t=e.elements,i=t[0]**2+t[1]**2+t[2]**2,r=t[4]**2+t[5]**2+t[6]**2,n=t[8]**2+t[9]**2+t[10]**2,a=t[0]**2+t[4]**2+t[8]**2,c=t[1]**2+t[5]**2+t[9]**2,l=t[2]**2+t[6]**2+t[10]**2,o=1e-8;return i<o||r<o||n<o||a<o||c<o||l<o}function tl(e,t){let i=new Qe;if(t&&vG(t))return i.setAttribute("position",new Fe([],3)),i.setIndex([]),i;if(!e.getAttribute("position"))return i.setAttribute("position",new Fe([],3)),i.setIndex([]),i;let{positions:r,triIndices:n}=uw(e.getAttribute("position"),e.getIndex());return i.setAttribute("position",new Fe(r,3)),i.setIndex(n),t&&i.applyMatrix4(t),i}var QAe=new Ie,$Ae=new Ie,Wo=[[0,0,0],[0,0,0],[0,0,0]];function yG(e){let t=e.elements;Wo[0][0]=t[0],Wo[0][1]=t[4],Wo[0][2]=t[8],Wo[1][0]=t[1],Wo[1][1]=t[5],Wo[1][2]=t[9],Wo[2][0]=t[2],Wo[2][1]=t[6],Wo[2][2]=t[10];let{u:i,v:r}=(0,JAe.SVD)(Wo),n=QAe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),a=$Ae.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1);return n.multiply(a.transpose())}var ZAe=class extends hF{constructor(){super(),this.layers.enable(3),this.layers.enable(8),this.layers.enable(9)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,i=[]){return e.forEach(r=>{r.visible&&this.intersectObject(r,t,i)}),i}createRaycastLineHelper(){let e=new mu({color:65280,linewidth:10}),t=new N(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),i=new N(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),r=this.camera.far-this.camera.near,n=new N().addVectors(t,i.multiplyScalar(r)),a=new Qe;return a.setFromPoints([t,n]),new qb(a,e)}},bG=e=>e instanceof Ap||e instanceof Mp;function e4e(e,t){return e.distance-t.distance}function xG(e,t,i){if(!(!el(t)||!t.visible)){vo(t)&&t.raycast(e,i);for(let r of t.children)xG(e,r,i)}}function F1(e,t,i,r=!1){if(!r&&!i.some(a=>Hx(e,a)!==void 0))return[];let n=[];return t.children.forEach(a=>xG(e,a,n)),n.sort(e4e),n}function eA(e){let t=[];if(e.length){let i=e[0].object;el(i)&&t.push(i);let r=i.parent;for(;r;)bG(r)&&t.push(r),r=r.parent}return t}function il(e,t,i,r){let n=e.frame;if(n){let a=t[0]*n.width,c=(1-t[1])*n.height;for(let l of i){let o=l===n.uuid?n:n.find(l);if(o!=null&&o.intersects(a,c))return r(o),!0}}return!1}function Hx(e,t){if(vo(t)){if(t.visible){let i=[];return t.raycast(e,i),i.length?i[0]:void 0}}else if(bG(t))return wG(e,t)}function wG(e,t){if(!(!el(t)||!t.visible)){if(vo(t)){let i=[];if(t.raycast(e,i),i.length)return i[0]}for(let i of t.children){let r=wG(e,i);if(r)return r}}}function t4e(e,t,i){return{x:(e-(i.left+window.scrollX))/i.width*2-1,y:-((t-(i.top+window.scrollY))/i.height)*2+1}}function i4e(e,t,i){return{x:(e-(i.left+window.scrollX))/i.width,y:1-(t-(i.top+window.scrollY))/i.height}}var r4e=class{constructor(e,t,i,r,n,a,c,l){this.renderer=e,this.publish=t,this.scene=i,this.getCamera=r,this.sharedAssets=n,this.requestRender=a,this.isExport=c,this.frame=l,this.raycaster=new ZAe,this._useWindowEvents=!1,this.pointerWorld={x:0,y:0},this.pointerScreen={x:0,y:0},this._useWindowEvents=t.mouseEventTarget==="window",this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}get domRect(){return this._domRect}updateRaycaster(e){var r;let{pageX:t,pageY:i}=((r=e.touches)==null?void 0:r.length)>0?e.touches[0]:e;this.pointerWorld=t4e(t,i,this._domRect),this.pointerScreen=i4e(t,i,this._domRect),this.raycaster.setFromCamera(this.pointerWorld,this.getCamera())}},_n=class{constructor(e){this.eventContext=e,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},Nj=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],_G=e=>{var t;return(t=Nj.find(([i,r])=>r===e))==null?void 0:t[0]},n0=e=>{var t;return(t=Nj.find(([i])=>i===e))==null?void 0:t[1]},n4e=(e,t)=>{let i=_G(e);if(i){let r=new CustomEvent(i,{bubbles:!0});return Object.defineProperty(r,"target",{writable:!1,value:t}),r}},a4e=class extends _n{constructor(){super(...arguments),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=e=>{var r;if(!e.eventName||!e.target||e.eventName==="Scroll")return;let t=(r=this.splineEvents[_G(e.eventName)])==null?void 0:r[e.target.uuid];if(!t)return;e.eventName==="Scroll"&&e.deltaY!==void 0&&Object.assign(t,{deltaY:e.deltaY});let{domElement:i}=this.eventContext;i.dispatchEvent(t)}}connect(){let{page:e}=this.eventContext;e.traverseEntity(t=>{var i,r;if((i=t.data)!=null&&i.events.length){for(let[n,a]of Nj)if(t.data.events.some(c=>c.data.type===a&&!c.data.disabled)){this.objectsPerEvents.has(n)?(r=this.objectsPerEvents.get(n))==null||r.push(t):this.objectsPerEvents.set(n,[t]);let c={id:t.uuid,name:t.name},l=n4e(a,c),o=this.splineEvents[n];o?o[t.uuid]=l:this.splineEvents[n]={[t.uuid]:l}}}}),this.objectsPerEvents.forEach(t=>{t.forEach(i=>{i.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},o4e=class{constructor(e,t,i,r,n,a){if(this.id=e,this.data=t,this.object=i,this.entered=!1,(t.type==="KeyDown"||t.type==="KeyUp"||t.type==="KeyPress")&&!t.key)throw new Error("Missing property");this.actions=ur(t,t.actions,r,n,a,i)}disconnect(){Lr(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),this.data.type==="MousePress"||this.data.type==="KeyPress"?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing&&t.data.runMode!=="Toggle")||this.actions.Transition.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.SwitchCamera.some(t=>t.playing&&t.data.runMode!=="Toggle")||this.actions.SwitchCamera.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Animation.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),e===!1&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},s4e=class extends _n{constructor(e,t,i){super(e),this.eventManager=t,this.useForRaycastProperty=i,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=r=>{if(this.useForRaycastProperty===!0&&this.sceneInterects===null){this.eventContext.updateRaycaster(r);let{raycaster:n,page:a}=this.eventContext,c=F1(n,a,[],!0);this.sceneInterects=c,c.length&&(this.eventContext.sharedAssets.raycastProperty={x:c[0].point.x,y:c[0].point.y,z:c[0].point.z,objX:c[0].object.matrixWorld.elements[12],objY:c[0].object.matrixWorld.elements[13],objZ:c[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=r=>{(r.target===this.eventContext.domElement||r.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(n=>{(n.data.type==="MouseDown"||n.data.type==="MousePress")&&(this.onCanvasRaycast(r),n.dispatch())})},this.onCanvasMouseUp=r=>{(r.target===this.eventContext.domElement||r.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(n=>{n.data.type==="MouseUp"?(this.onCanvasRaycast(r),n.dispatch()):n.data.type==="MousePress"&&n.dispatchRelease()})},this.onMouseDown=r=>{ht.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseEvent("MouseDown"))},this.onMouseUp=r=>{ht.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=r=>{ht.length>1||(this.eventContext.updateRaycaster(r),this.handleMousePressEvent())},this.onMousePressRelease=r=>{ht.length>1||(this.eventContext.updateRaycaster(r),this.handleMousePressEvent(!0))},this.onKeyDown=r=>{this.heldKeys[r.key]||(this.handleKeyEvent(r,"KeyDown"),this.handleKeyEventHeld(r,"KeyDown",!0)),this.heldKeys[r.key]=!0},this.onKeyUp=r=>{this.handleKeyEvent(r,"KeyUp"),this.handleKeyEventHeld(r,"KeyUp",!0)},this.onKeyPressDown=r=>{this.heldKeysPress[r.key]?this.handleKeyEventHeld(r,"KeyPress"):(this.handleKeyEvent(r,"KeyPress"),this.handleKeyEventHeld(r,"KeyPress",!0)),this.heldKeysPress[r.key]=!0},this.onKeyPressUp=r=>{this.handleKeyEvent(r,"KeyPress",!0)},this.releaseHeldKey=r=>{delete this.heldKeys[r.key]},this.releaseHeldKeyPress=r=>{delete this.heldKeysPress[r.key]},this._onUserEvent=({eventName:r,target:n,reverse:a})=>{var l,o,s,u;if(!r||!n)return;let c=n0(r);c&&(c==="MouseDown"||c==="MouseUp"||c==="MousePress"?(n.dispatchEvent({type:"beginEvent",eventName:c}),(o=(l=this.eventsPerObjects[c])==null?void 0:l[n.uuid])==null||o.forEach(d=>{d.dispatchUserEvent(a)})):(c==="KeyDown"||c==="KeyUp"||c==="KeyPress")&&(n.dispatchEvent({type:"beginEvent",eventName:c}),(u=(s=this.eventsPerObjects[c])==null?void 0:s[n.uuid])==null||u.forEach(d=>{d.dispatchUserEvent()})))}}connect(){var n,a,c,l,o,s;let{page:e,sharedAssets:t,domElement:i}=this.eventContext,r=(u,d)=>{var p,m;if(!((p=u.data)!=null&&p.events.length))return;let h=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let f of h){let g=this.eventsPerObjects[f];if(u.data.events.filter(({data:v})=>v.type===f&&v.disabled!==!0).forEach(({id:v,data:S})=>{try{let x=new o4e(v,S,u,e,t,this.eventManager);x.actions.Video.length&&(this.hasVideoAction=!0),(S.type==="MouseDown"||S.type==="MouseUp"||S.type==="MousePress")&&(S.mode==="Canvas"||S.mode==="Window")?this.canvasMouseEvents.push(x):(g[u.uuid]?g[u.uuid].some(b=>b.id===x.id)||g[u.uuid].push(x):g[u.uuid]=[x],u instanceof Nd&&u.traverseChildren(b=>{var _;if(!b.visible)return!0;b instanceof sr&&((_=b.data.geometry.shapeBlendNode)==null?void 0:_.operation)!==2&&(g[b.uuid]?g[b.uuid].push(x):g[b.uuid]=[x])}))}catch{}}),((m=g[u.uuid])==null?void 0:m.length)&&(this.objectsPerTypes[f].push(u instanceof Fr&&(f==="MouseDown"||f==="MouseUp"||f==="MousePress")?d:u),u instanceof Nd)){let v=this.objectsPerTypes[f];u.traverseChildren(S=>{if(!S.visible)return!0;S instanceof sr&&v.indexOf(S)===-1&&v.push(S)})}}};e.traverseEntity(u=>{var d;(u instanceof gn||u instanceof kr)&&((d=u.frame)==null||d.traverse(h=>{r(h,u)})),r(u)}),this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),i.addEventListener("pointerdown",this.onCanvasMouseDown),i.addEventListener("pointerup",this.onCanvasMouseUp),((n=this.objectsPerTypes.MouseDown)!=null&&n.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),i.addEventListener("pointerdown",this.onMouseDown)),(a=this.objectsPerTypes.MouseUp)!=null&&a.length&&(this.domEventsNeeded.add("pointerup"),i.addEventListener("pointerup",this.onMouseUp)),(c=this.objectsPerTypes.MousePress)!=null&&c.length&&(this.domEventsNeeded.add("pointerdown"),i.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),i.addEventListener("pointerup",this.onMousePressRelease)),(l=this.objectsPerTypes.KeyDown)!=null&&l.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),(o=this.objectsPerTypes.KeyUp)!=null&&o.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),(s=this.objectsPerTypes.KeyPress)!=null&&s.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([u,d])=>{d.forEach(h=>{h.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(i=>{i.forEach(r=>{r.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,i])=>{i.forEach(r=>{r.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){var l,o,s,u;let{stopRaycast:t,raycaster:i,page:r,pointerScreen:n}=this.eventContext,a=this.objectsPerTypes[e],c=a.filter(d=>!(d instanceof Fr));if(!(!a.length&&!this.useForRaycastProperty)&&!(r.uiCanvas&&il(r,[n.x,n.y],Object.keys(this.eventsPerObjects[e]),d=>{this.handleObjectMouseEventDispatch(d,e)}))){if(t||this.useForRaycastProperty){let d;if(this.sceneInterects===null?d=F1(i,r,c,this.useForRaycastProperty):(d=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&d.length&&(this.eventContext.sharedAssets.raycastProperty={x:d[0].point.x,y:d[0].point.y,z:d[0].point.z,objX:d[0].object.matrixWorld.elements[12],objY:d[0].object.matrixWorld.elements[13],objZ:d[0].object.matrixWorld.elements[14]}),t){let h=[((o=(l=d[0])==null?void 0:l.uv)==null?void 0:o.x)??0,((u=(s=d[0])==null?void 0:s.uv)==null?void 0:u.y)??0];eA(d).forEach(p=>{p instanceof gn&&il(p,h,Object.keys(this.eventsPerObjects[e]),m=>{this.handleObjectMouseEventDispatch(m,e)}),this.eventsPerObjects[e][p.uuid]&&this.handleObjectMouseEventDispatch(p,e)})}}t||c.forEach(d=>{var p,m;let h=Hx(i,d);h&&(this.handleObjectMouseEventDispatch(d,e),d instanceof gn&&il(d,[((p=h==null?void 0:h.uv)==null?void 0:p.x)??0,((m=h==null?void 0:h.uv)==null?void 0:m.y)??0],Object.keys(this.eventsPerObjects[e]),f=>{this.handleObjectMouseEventDispatch(f,e)}))})}}handleMousePressEvent(e=!1){let t="MousePress",i=this.objectsPerTypes[t],r=i.filter(a=>!(a instanceof Fr)),n=[];if(i.length){if(!e){let{stopRaycast:a,raycaster:c,page:l,pointerScreen:o}=this.eventContext,s=!1;if(l.uiCanvas&&(s=il(l,[o.x,o.y],Object.keys(this.eventsPerObjects[t]),u=>{n.push(u)})),a&&!s){let u=F1(c,l,r);n=eA(u),u.forEach(d=>{var h,p;d.object instanceof gn&&il(d.object,[((h=d==null?void 0:d.uv)==null?void 0:h.x)??0,((p=d==null?void 0:d.uv)==null?void 0:p.y)??0],Object.keys(this.eventsPerObjects[t]),m=>{n.push(m)})})}else r.forEach(u=>{var h,p;let d=Hx(c,u);d&&(n.push(u),u instanceof gn&&il(u,[((h=d==null?void 0:d.uv)==null?void 0:h.x)??0,((p=d==null?void 0:d.uv)==null?void 0:p.y)??0],Object.keys(this.eventsPerObjects[t]),m=>{n.push(m)}))})}this._prevObjects.length&&this._prevObjects.forEach(a=>{n.includes(a)||this.handleObjectMouseEventDispatchRelease(a,t)}),n.length&&n.forEach(a=>{this.handleObjectMouseEventDispatch(a,t)}),this._prevObjects=n}}handleObjectMouseEventDispatch(e,t){var i,r;e.dispatchEvent({type:"beginEvent",eventName:t}),(r=(i=this.eventsPerObjects[t])==null?void 0:i[e.uuid])==null||r.forEach(n=>{n.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){var i,r;e.dispatchEvent({type:"beginEvent",eventName:t}),(r=(i=this.eventsPerObjects[t])==null?void 0:i[e.uuid])==null||r.forEach(n=>{n.dispatchRelease()})}handleKeyEvent(e,t,i=!1){this.objectsPerTypes[t].forEach(r=>{let n=this.eventsPerObjects[t][r.uuid];n.some(({data:a})=>"key"in a&&a.key===e.key)&&r.dispatchEvent({type:"beginEvent",eventName:t}),n.forEach(a=>{"key"in a.data&&a.data.key===e.key&&(i?a.dispatchRelease():a.dispatch(!0))})})}handleKeyEventHeld(e,t,i=!1){this.objectsPerTypes[t].forEach(r=>{this.eventsPerObjects[t][r.uuid].forEach(n=>{"key"in n.data&&n.data.key===e.key&&n.dispatchHeld(i)})})}},l4e=new N,c4e=new N,SG=class{constructor(e,t,i,r,n){this.actionsIn=ur(e,e.inActions,i,r,n,t),this.actionsOut=ur(e,e.outActions,i,r,n,t)}disconnect(){Lr(this.actionsIn),Lr(this.actionsOut)}},u4e=class extends SG{constructor(e,t,i,r,n,a){super(t,i,r,n,a),this.id=e,this.data=t,this.object=i,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let h of this.objects)if(!h.visible)return;let s=l4e.setFromMatrixPosition(this.objects[0].matrixWorld),u=c4e.setFromMatrixPosition(this.objects[1].matrixWorld),d=s.distanceTo(u)<=this.distance?"in":"out";if(this.stage!==d){this.stage=d;let h=d==="in"?this.actionsIn:this.actionsOut;h.Audio.forEach(p=>p.dispatchConditional()),h.Particles.forEach(p=>p.dispatchConditional()),h.Video.forEach(p=>p.dispatchConditional()),h.Link.forEach(p=>p.dispatch()),h.Create.forEach(p=>p.dispatch()),h.Destroy.forEach(p=>p.dispatch()),h.Reset.forEach(p=>p.dispatch()),h.Transition.forEach(p=>{p.object.currentTransitionEvent!==this&&(p.object.currentTransitionEvent=this),p.init()}),h.Transition.forEach(p=>p.play()),h.Animation.forEach(p=>p.play()),h.SwitchCamera.forEach(p=>p.play()),h.SceneTransition.forEach(p=>p.dispatch()),h.SetVariable.forEach(p=>p.checkConditions()),h.SetVariable.forEach(p=>p.dispatch()),h.DynamicVariablePlay.forEach(p=>p.dispatch()),h.ClearLocalStorage.forEach(p=>p.dispatch()),h.UserAPI.forEach(p=>p.dispatch())}};let{distance:c,fromObject:l,toObject:o}=t.condition;this.distance=c;for(let s of[l,o]){if(!s)throw new Error("Missing property");let u=r.find(s);if(!u)throw new Error("Missing property");this.objects.push(u)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},d4e=class extends SG{constructor(e,t,i,r,n,a){var o;super(t,i,r,n,a),this.id=e,this.data=t,this.object=i,this.onBegin=({target:s,state:u})=>{this.toState!==u&&(this.actionsOut.Audio.forEach(d=>d.dispatchConditional()),this.actionsOut.Particles.forEach(d=>d.dispatchConditional()),this.actionsOut.Video.forEach(d=>d.dispatchConditional()),this.actionsOut.Link.forEach(d=>d.dispatch()),this.actionsOut.Create.forEach(d=>d.dispatch()),this.actionsOut.Destroy.forEach(d=>d.dispatch()),this.actionsOut.Reset.forEach(d=>d.dispatch()),this.actionsIn.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(d=>d.play()),this.actionsOut.Animation.forEach(d=>d.play()),this.actionsIn.SwitchCamera.forEach(d=>d.pause()),this.actionsOut.SwitchCamera.forEach(d=>d.play()),this.actionsOut.SceneTransition.forEach(d=>d.dispatch()),this.actionsOut.SetVariable.forEach(d=>d.checkConditions()),this.actionsOut.SetVariable.forEach(d=>d.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(d=>d.dispatch()),this.actionsOut.ClearLocalStorage.forEach(d=>d.dispatch()),this.actionsOut.UserAPI.forEach(d=>d.dispatch()))},this.onComplete=({target:s,state:u})=>{this.toState===u&&(this.actionsIn.Audio.forEach(d=>d.dispatchConditional()),this.actionsIn.Particles.forEach(d=>d.dispatchConditional()),this.actionsIn.Video.forEach(d=>d.dispatchConditional()),this.actionsIn.Link.forEach(d=>d.dispatch()),this.actionsIn.Create.forEach(d=>d.dispatch()),this.actionsIn.Destroy.forEach(d=>d.dispatch()),this.actionsIn.Reset.forEach(d=>d.dispatch()),this.actionsOut.Transition.forEach(d=>d.pause()),this.actionsOut.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(d=>d.play()),this.actionsIn.Animation.forEach(d=>d.play()),this.actionsOut.SwitchCamera.forEach(d=>d.pause()),this.actionsIn.SwitchCamera.forEach(d=>d.play()),this.actionsIn.SceneTransition.forEach(d=>d.dispatch()),this.actionsIn.SetVariable.forEach(d=>d.checkConditions()),this.actionsIn.SetVariable.forEach(d=>d.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(d=>d.dispatch()),this.actionsOut.ClearLocalStorage.forEach(d=>d.dispatch()),this.actionsOut.UserAPI.forEach(d=>d.dispatch()))};let{condition:c}=t;if(!c.object)throw new Error("Missing property");let l=r.find(c.object)??r.scene.find2D(c.object);if(!l)throw new Error("Missing property");if(this.toObject=l,c.state&&!((o=this.toObject.states)!=null&&o[c.state]))throw new Error("Missing property");this.toState=c.state}connect(){Zu(this.actionsOut).forEach(e=>{var t;(t=this.actionsOut[e])!=null&&t.length&&this.toObject.addEventListener("beginState",this.onBegin)}),Zu(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),Zu(this.actionsOut).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),Zu(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},h4e=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1}connect(){super.connect();let{page:e,sharedAssets:t}=this.eventContext;e.traverseEntity(i=>{var r;if((r=i.data)!=null&&r.events.length){for(let{id:n,data:a}of i.data.events)if(!a.disabled&&a.type==="Conditional")try{let c;a.condition.type==="Comparison"||(a.condition.type==="Distance"?c=new u4e(n,a,i,e,t,this.eventManager):a.condition.type==="State"&&(c=new d4e(n,a,i,e,t,this.eventManager))),c&&(this.eventsPerConditions[a.condition.type].push(c),(c.actionsIn.Video.length||c.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}}}),Object.values(this.eventsPerConditions).forEach(i=>i.forEach(r=>r.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},mm=new N,rc=new N,Eu=new N,I9=new Yn,p4e=.01,$t=new N,mr=new N,P9=new N,od=new mt,hC=new yr,f4e=new Ie,pC=new or,Ch=new N,qo=new N,fC=.2;function mC(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var m4e=function(){let e=new Ie;return(t,i,r)=>{let n=t.obj;e.copy(n.hiddenMatrix),n.parent!==null&&e.premultiply(n.parent.matrixWorld),e.invert(),n.position.copy(i),t.reference==="global"&&mC(n.position,t.limits),n.position.applyMatrix4(e),t.reference==="parent"?mC(n.position,t.limits):t.reference==="local"&&(od.copy(t.quat0).invert(),n.position.sub(t.position0),n.position.applyQuaternion(od),mC(n.position,t.limits),od.invert(),n.position.applyQuaternion(od),n.position.add(t.position0)),e.multiply(r??n.matrixWorld).decompose($t,n.quaternion,mr),n.updateMatrix(),n.hasNonUniformScale&&(n.updateMatrixWorld(),n.updateMatrixWorldSVD()),n instanceof zn&&gl(n.parent)&&n.invalidateDownstreamBooleanData(!0)}}(),g4e=class{constructor(e,t,i,r,n,a,c){this.object=e,this.id=t,this.data=i,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=this.data.resetSpeed===0?1:8/this.data.resetSpeed+1,this.snapDampingFactor=this.data.snapSpeed===0?1:8/this.data.snapSpeed+1,this.actionsDrag=ur(i,i.dragDropActions.drag,r,n,a,this.object),this.actionsDrop=ur(i,i.dragDropActions.drop,r,n,a,this.object);let l=[];this.data.objects.forEach(o=>{let s=r.find(o);!s||s.data.visible!==!1&&(l.push(s),c[s.uuid]&&c[s.uuid].forEach(u=>{let d=r.find(u);!d||d.data.visible!==!1&&l.push(d)}))}),this.data.dropDestinations.forEach(o=>{let s=r.find(o);!s||s.data.visible!==!1&&(this.dropDestIds.push(s.uuid),c[s.uuid]&&c[s.uuid].forEach(u=>{let d=r.find(u);!d||d.data.visible!==!1&&this.dropDestIds.push(d.uuid)}))}),this.dragItems=l.map(o=>(this.data.planeMode==="locked"&&(o.userData.lockedPlane=!0),o.userData.worldPosition0=new N().setFromMatrixPosition(o.matrixWorld),{obj:o,fromPosition:new N().setFromMatrixPosition(o.matrixWorld),pointStart:new N,pointEnd:new N,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:new N().copy(o.position),quat0:new mt().copy(o.quaternion),snapped:!1,orientationMatrix:new Ie,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return this.activeIdx!==null?this.dragItems[this.activeIdx]:null}dispose(){Lr(this.actionsDrag),Lr(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}},v4e=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=i=>{var c;if(ht.length>1)return;this.eventContext.updateRaycaster(i);let{raycaster:r,page:n}=this.eventContext,a=n.raycastWithClones(r);if(this.lastDropDestination=null,a.length===0){this.activeEvent=null;return}for(let l of this.events){let o=0;for(let{obj:s,pointEnd:u,pointStart:d}of l.dragItems){if(s===a[0].object||s===a[0].object.object||Ut.is(s)&&s.isAncestorOf(a[0].object.uuid)){if(l.activeIdx=o,l.activeDragItem.reset=!1,l.activeDragItem.currentDampingFactor=l.data.dampingFactor,l.activeDragItem.snapped=!1,l.data.cursor==="hand"&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){l.activeDragItem.obj.rigidBody&&l.activeDragItem.obj.rigidBody.setBodyType(2,!0);let h=l.activeDragItem.obj;s.hasNonUniformScale&&s.updateMatrixWorldSVD(),(h.hasNonUniformScale?h.matrixWorldRigid:h.matrixWorld).decompose($t,od,mr),hC.setFromQuaternion(od),h.prevR===void 0?(h.prevR=hC.clone(),h.prevT=$t.clone()):(h.prevR.copy(hC),h.prevT.copy($t)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(l.activeDragItem.obj)}this.calcPlaneIntersectPos(s,d,l.data.plane,l.data.referenceFrame),u.copy(d),(this.eventManager.controlsManager.usePhysics&&((c=s.data.physics)==null?void 0:c.rigidBody)==="dynamic"||l.data.drop===!1||l.data.resetOnSnapFail===!1)&&l.activeDragItem.fromPosition.setFromMatrixPosition(l.activeDragItem.obj.matrixWorld),this.activeEvent=l,this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1);return}o++}}this.activeEvent=null},this.onPointerMove=i=>{var c,l,o,s;if(ht.length>1)return;this.eventContext.updateRaycaster(i);let{raycaster:r,page:n}=this.eventContext,a=n.raycastWithClones(r);if(ht.length===0){let u=!1;for(let d of this.events){for(let{obj:h}of d.dragItems)if(h===((c=a[0])==null?void 0:c.object)||h===((o=(l=a[0])==null?void 0:l.object)==null?void 0:o.object)||Ut.is(h)&&h.isAncestorOf((s=a[0])==null?void 0:s.object.uuid)){switch(u=!0,d.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move");break}break}if(u)break}u||this.setCursor("default");return}if(this.activeEvent&&this.activeEvent.activeDragItem){let u=this.activeEvent.activeDragItem;u.snapped=!1;let d;if(this.activeEvent.data.drop&&(d=a.filter(h=>u.obj!==h.object&&!u.obj.isAncestorOf(h.object.uuid)&&!(h.object instanceof Ap)&&(this.activeEvent.data.dropOn==="all"||this.activeEvent.dropDestIds.some(p=>p===h.object.uuid||n.scene.find(p).isAncestorOf(h.object.uuid))))[0]),d){let h=P9.copy(d.face.normal).applyMatrix3(pC.getNormalMatrix(d.object.matrixWorld));if(this.activeEvent.data.snapTo==="center")u.fromPosition.setFromMatrixPosition(d.object.matrixWorld);else if(this.activeEvent.data.snapTo==="surface"){if(u.fromPosition.copy(d.point),this.activeEvent.data.snapSurfaceMode==="bbox"){$t.copy(h).applyMatrix3(pC.setFromMatrix4(u.obj.matrixWorld).transpose());let p=u.obj;$t.x>fC?mr.x=-p.recursiveBBox.min.x:$t.x<-.2&&(mr.x=-p.recursiveBBox.max.x),$t.y>fC?mr.y=-p.recursiveBBox.min.y:$t.y<-.2&&(mr.y=-p.recursiveBBox.max.y),$t.z>fC?mr.z=-p.recursiveBBox.min.z:$t.z<-.2&&(mr.z=-p.recursiveBBox.max.z),mr.applyMatrix3(pC.invert())}else mr.copy(h).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);u.fromPosition.add(mr)}this.activeEvent.data.autoOrient&&($t.set(0,1,0).cross(h),$t.length()<1e-4&&$t.set(-1,0,0).cross(h),mr.crossVectors(P9,$t),u.orientationMatrix.makeBasis($t,mr,h)),u.pointStart.copy(u.fromPosition),u.pointEnd.copy(u.pointStart),u.currentDampingFactor=this.activeEvent.snapDampingFactor,u.snapped=!0,this.lastDropDestination!==d.object&&(this.lastDropDestination=d.object,this.activeEvent.actionsDrop.Transition.forEach(p=>{p.play()}),this.activeEvent.actionsDrop.Animation.forEach(p=>{p.play()}),this.activeEvent.actionsDrop.Audio.forEach(p=>{p.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Particles.forEach(p=>{p.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(p=>{p.dispatchThrottled()}))}else u.orientationMatrix.makeRotationFromQuaternion(u.quat0),this.lastDropDestination=null,u.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(u.obj,u.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(h=>{h.stop(),h.object.currentState!==null&&h.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(h=>{h.stop()}),this.activeEvent.actionsDrop.Audio.forEach(h=>{h.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.Particles.forEach(h=>{h.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(h=>{h.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(h=>h.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(h=>h.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(h=>h.dispatch()),this.activeEvent.actionsDrag.ClearLocalStorage.forEach(h=>h.dispatch()),this.activeEvent.actionsDrag.UserAPI.forEach(h=>h.dispatch()),this.activeEvent.wasDragEventTriggered===!1&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(h=>{h.play()}),this.activeEvent.actionsDrag.Animation.forEach(h=>{h.play()}),this.activeEvent.actionsDrag.Audio.forEach(h=>{h.dispatchGameControl("start")}),this.activeEvent.actionsDrag.Particles.forEach(h=>{h.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(h=>{h.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(h=>{h.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(h=>{h.stop(),h.object.currentState!==null&&h.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(h=>{h.stop()}))},500),this.updateDragItem(u),u.obj.dispatchEvent({type:"requestRender"})}},this.onPointerUp=i=>{var r;if(this.activeEvent&&this.activeEvent.activeDragItem){this.activeEvent.data.cursor==="hand"&&this.setCursor("grab");let n=((r=this.activeEvent.activeDragItem.obj.data.physics)==null?void 0:r.rigidBody)==="dynamic";this.activeEvent.activeDragItem.snapped===!1&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(this.eventManager.controlsManager.usePhysics===!1||!n)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&n&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),this.activeEvent.wasDragEventTriggered===!0&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(a=>{a.stop(),a.object.currentState!==null&&a.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(a=>{a.stop()}),this.activeEvent.actionsDrag.Audio.forEach(a=>{a.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(a=>{a.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(a=>a.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(a=>a.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(a=>a.dispatch()),this.activeEvent.actionsDrop.ClearLocalStorage.forEach(a=>a.dispatch()),this.activeEvent.actionsDrop.UserAPI.forEach(a=>a.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}}}connect(){let e={};if(this.eventContext.page.traverseEntity(i=>{i.component&&(e[i.component.uuid]?e[i.component.uuid].push(i.uuid):e[i.component.uuid]=[i.uuid])}),this.eventContext.page.traverseEntity(i=>{var r;(r=i.data)==null||r.events.filter(n=>n.data.type==="DragDrop"&&!n.data.disabled).forEach(n=>{this.events.push(new g4e(i,n.id,n.data,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager,e))})}),!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let t=this.eventContext.domElement;t.addEventListener("pointerdown",this.onPointerDown),t.addEventListener("pointermove",this.onPointerMove),t.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,i,r){let{getCamera:n,raycaster:a}=this.eventContext;n().getWorldDirection(rc),rc.negate();let c=od.identity();switch(r==="parent"?f4e.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose($t,c,mr):r==="local"&&e.matrixWorld.decompose($t,c,mr),i){case"x":$t.set(1,0,0).applyQuaternion(c),Ch.copy(rc).cross($t),qo.copy($t).cross(Ch);break;case"y":$t.set(0,1,0).applyQuaternion(c),Ch.copy(rc).cross($t),qo.copy($t).cross(Ch);break;case"z":$t.set(0,0,1).applyQuaternion(c),Ch.copy(rc).cross($t),qo.copy($t).cross(Ch);break;case"xy":qo.set(0,0,1).applyQuaternion(c);break;case"yz":qo.set(1,0,0).applyQuaternion(c);break;case"xz":qo.set(0,1,0).applyQuaternion(c);break;case"adaptive":rc.angleTo(mr.set(0,1,0))>Math.PI/6?($t.crossVectors(mr.set(0,1,0),rc),qo.crossVectors($t,mr)):qo.set(0,1,0);break;default:qo.copy(rc);break}Eu.setFromMatrixPosition(e.matrixWorld);let l=e.userData.lockedPlane?e.userData.worldPosition0:Eu;if(I9.setFromNormalAndCoplanarPoint(qo,l),!!a.ray.intersectPlane(I9,t)&&(i==="x"||i==="y"||i==="z")){let o=mr.subVectors(t,l).dot($t);t.copy(l).addScaledVector($t,o)}}updateDragItem(e,t=!1){var i,r;Eu.setFromMatrixPosition(e.obj.matrixWorld),e.reset==="current"?mm.subVectors(e.fromPosition,Eu).divideScalar(e.currentDampingFactor):e.reset==="original"?(mm.subVectors(e.obj.userData.worldPosition0,Eu).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):mm.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(Eu).divideScalar(e.currentDampingFactor),e.paused=e.currentDampingFactor>1?mm.length()<p4e:!0,(this.activeEvent&&this.activeEvent.data.dampingFactor===1||t)&&m4e(e,mm.add(Eu),(i=this.activeEvent)!=null&&i.data.drop&&((r=this.activeEvent)!=null&&r.data.autoOrient)?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},Eh=new N,gC=new N,Vs=new N,Hs=new N,k9=new Yn,y4e=.01,b4e={type:"requestRender"},x4e=function(){let e=new N,t=new N;return(i,r,n)=>n>0?(e.subVectors(i,r),e.length()<=n?i:t.copy(r).add(e.normalize().multiplyScalar(n))):r}(),D9=function(){let e=new Ie;return(t,i)=>{t.position.copy(i),t.parent!==null&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof zn&&gl(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),w4e=class{constructor(e,t,i,r,n,a){this.data=e,this.id=t,this.object=i,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new N,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...P3.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=r.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=ur(e,e.actions,r,n,a,i)}},_4e=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.pairOfEventListeners=[],this.onMouseMove=i=>{if(!(ht.length>1)){this.eventContext.updateRaycaster(i);for(let r of this.events)r.target===void 0&&this.updateSingleEvent(r)}},this.onMouseEnter=i=>{for(let r of this.events)r.target===void 0&&(r.isReset=!1,r.currentDampingFactor=r.data.dampingFactor)},this.onMouseLeave=i=>{for(let r of this.events)r.target===void 0&&(r.data.resetOnPointerLeave&&(r.isReset=!0,r.currentDampingFactor=r.resetDampingFactor),this.updateSingleEvent(r))},this.onTargetChange=i=>()=>{this.updateSingleEvent(i)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(r=>{var a,c;let n=(a=r.data)==null?void 0:a.events.find(l=>l.data.type==="Follow"&&!l.data.disabled);n&&(!e.data.globalPhysics.usePhysics||((c=r.dataPatched.physics)==null?void 0:c.rigidBody)!=="dynamic")&&this.events.push(new w4e(n.data,n.id,r,e,this.eventContext.sharedAssets,this.eventManager))}),!this.events.length)return;let{domElement:t,eventElement:i}=this.eventContext;this.domEventsNeeded.clear(),pa&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),i.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let r of this.events)if(r.target!==void 0){let n=r.target,a=this.onTargetChange(r);this.pairOfEventListeners.push([n,a]),n.addEventListener("requestRender",a)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),pa&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[i,r]of this.pairOfEventListeners)i.removeEventListener("requestRender",r);for(let i of this.events)i.paused=!0,i.isReset=!1,Lr(i.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){var c;this.events.forEach(l=>{l.actions.Create.forEach(o=>{o.dispatchThrottled()})});let{plane:i,limitDistance:r,limitDistanceEnabled:n}=e.data;if(e.object.getWorldPosition(Vs),e.isReset)Hs.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Hs);else{let{getCamera:l,raycaster:o}=this.eventContext;if(i==="custom"?(l().getWorldDirection(gC),gC.negate(),Eh.copy(gC)):i==="xy"?Eh.set(0,0,1):i==="xz"?Eh.set(0,1,0):i==="yz"&&Eh.set(1,0,0),k9.setFromNormalAndCoplanarPoint(Eh,Vs),!o.ray.intersectPlane(k9,Hs))return}if(!e.isReset){if(Hs.distanceTo(e.worldPosition0)>r&&n&&e.target)if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Hs.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor;else return;else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return}e.data.enabledTranslation[0]===!1&&(Hs.x=Vs.x),e.data.enabledTranslation[1]===!1&&(Hs.y=Vs.y),e.data.enabledTranslation[2]===!1&&(Hs.z=Vs.z);let a=x4e(Vs,Hs,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let l=Eh.subVectors(a,Vs).divideScalar(e.currentDampingFactor);Vs.add(l),t&&D9(e.object,Vs),e.paused=l.length()<y4e}else D9(e.object,a),e.paused=!0;(c=e.object)==null||c.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(b4e)}},gm=new N,$y=new N,vm=new Ie,Th=new mt,nc=new mt,ym=new N,bm=new N,Tu=new N,Gs=new N,vC=new Yn,S4e=1e-6,C4e={type:"requestRender"},E4e={type:"changeRotation"},O9=function(){let e=new Ie;return function(t,i){t.parent!==null?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),i.premultiply(yG(e).invert()),t.rotation.setFromRotationMatrix(i),t.updateMatrix(),t instanceof zn&&gl(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),T4e=class{constructor(e,t,i,r){this.id=t,this.object=i,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new mt,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...k3.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=r.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}},A4e=class extends _n{constructor(){super(...arguments),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=e=>{if(!(ht.length>1)){this._lastMouseEvent=e,this.eventContext.updateRaycaster(e);for(let t of this.events)t.target===void 0&&this.updateSingleEvent(t)}},this.onMouseEnter=e=>{for(let t of this.events)t.target===void 0&&(t.isReset=!1,t.currentDampingFactor=t.data.dampingFactor)},this.onMouseLeave=e=>{for(let t of this.events)t.target===void 0&&(t.data.resetOnPointerLeave&&(t.isReset=!0,t.currentDampingFactor=t.resetDampingFactor),this.updateSingleEvent(t))},this.onScroll=e=>{if(this._lastMouseEvent){let t=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(t)}},this.onTargetChange=e=>()=>{this.updateSingleEvent(e)},this.createUserEventListener=e=>({eventName:t,target:i})=>{if(!t||!i)return;let r=n0(t);r&&r==="LookAt"&&this.updateSingleEvent(e)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(r=>{var a,c;let n=(a=r.data)==null?void 0:a.events.find(l=>l.data.type==="LookAt"&&!l.data.disabled);n&&(!e.data.globalPhysics.usePhysics||((c=r.dataPatched.physics)==null?void 0:c.rigidBody)!=="dynamic")&&this.events.push(new T4e(n.data,n.id,r,e))}),!this.events.length)return;let{domElement:t,eventElement:i}=this.eventContext;this.domEventsNeeded.clear(),pa&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),i.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?i.addEventListener("scroll",this.onScroll):(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let r of this.events){if(r.target!==void 0){let c=this.onTargetChange(r),l=r.target;this.pairOfEventListeners.push([l,c]),l.addEventListener("requestRender",c)}let n=this.createUserEventListener(r),a=r.object;this.pairOfUserEventListeners.push([a,n]),a.addEventListener("userEvent",n)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),pa&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[i,r]of this.pairOfEventListeners)i.removeEventListener("requestRender",r);for(let[i,r]of this.pairOfUserEventListeners)i.removeEventListener("userEvent",r);for(let i of this.events)i.paused=!0,i.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){var h;let{tilt:t,axis:i,distance:r,plane:n,limitDistance:a,enabledRotation:c,limitDistanceEnabled:l}=e.data,{getCamera:o,raycaster:s}=this.eventContext,{object:u,target:d}=e;if(u.getWorldPosition(ym),!e.isReset)if(e.target)e.target.getWorldPosition(bm);else{if(n==="custom"?(o().getWorldDirection($y),$y.negate(),vC.setFromNormalAndCoplanarPoint($y,ym)):(n==="xy"?gm.set(0,0,1):n==="xz"?gm.set(0,1,0):n==="yz"&&gm.set(1,0,0),vC.setFromNormalAndCoplanarPoint(gm,ym)),!s.ray.intersectPlane(vC,bm))return;r>0&&(n==="custom"||n===void 0)&&bm.addScaledVector($y,r)}if(e.isReset||(d?t==="target"?Tu.copy(d.up).applyMatrix4(vm.extractRotation(d.matrixWorld)).normalize():c.some(p=>p===!1)?(i==="x"?(Gs.set(0,0,1),c[2]===!1&&Gs.set(0,1,0)):i==="y"?(Gs.set(1,0,0),c[0]===!1&&Gs.set(0,0,1)):(Gs.set(0,1,0),c[1]===!1&&Gs.set(1,0,0)),Tu.copy(Gs).applyQuaternion(e.worldQuaternion0).normalize()):Tu.set(0,1,0):n==="custom"?Tu.set(0,1,0):Tu.copy(gm)),e.isReset)nc.copy(e.worldQuaternion0);else if(ym.distanceTo(bm)>a&&l&&d)if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)nc.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor;else return;else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return;M4e(vm,bm,ym,Tu,i,Gs),nc.setFromRotationMatrix(vm),Th.setFromUnitVectors(Gs.applyQuaternion(nc),Tu),c.some(p=>p===!1)&&t!=="target"&&nc.premultiply(Th).normalize()}e.currentDampingFactor>1?(u.updateWorldMatrix(!0,!1),Th.setFromRotationMatrix(yG(u.matrixWorld)),Th.slerp(nc,1/e.currentDampingFactor),O9(u,vm.makeRotationFromQuaternion(Th)),e.paused=8*(1-Th.dot(nc))<S4e):(O9(u,vm.makeRotationFromQuaternion(nc)),e.paused=!0),(h=e.object)==null||h.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),u.dispatchEvent(C4e),u.dispatchEvent(E4e)}},Aa=new N,fr=new N,Ki=new N;function M4e(e,t,i,r,n,a){let c=e.elements;Ki.subVectors(t,i),Ki.lengthSq()===0&&(Ki.z=1),Ki.normalize(),fr.crossVectors(r,Ki),fr.lengthSq()===0&&(Math.abs(r.z)===1?Ki.x+=1e-4:Ki.z+=1e-4,Ki.normalize(),fr.crossVectors(r,Ki)),fr.normalize(),Aa.crossVectors(Ki,fr),n==="x"?a.z===1?[fr,Aa,Ki]=[Ki,fr,Aa]:(fr.negate(),[fr,Ki]=[Ki,fr]):n==="y"?a.x===1?[fr,Aa,Ki]=[Aa,Ki,fr]:(fr.negate(),[Aa,Ki]=[Ki,Aa]):a.x===1&&(fr.negate(),[fr,Aa]=[Aa,fr]),c[0]=fr.x,c[4]=Aa.x,c[8]=Ki.x,c[1]=fr.y,c[5]=Aa.y,c[9]=Ki.y,c[2]=fr.z,c[6]=Aa.z,c[10]=Ki.z}var j4e=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.entered=!1,this.actions=ur(t,t.actions,r,n,a,i)}disconnect(){Lr(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatchStart()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Create.forEach(e=>e.dispatchStop()),this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Particles.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Particles.forEach(t=>t.dispatchBasic()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},I4e=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObjects={},this.objects=[],this.objects2D=[],this._prevObjects=[],this.onMouseDown=i=>{ht.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseHoverEvent())},this.onMouseUp=i=>{ht.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=i=>{ht.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:i,target:r,reverse:n})=>{var c;if(!i||!r)return;let a=n0(i);a&&a==="MouseHover"&&(r.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(c=this.eventsPerObjects[r.uuid])==null||c.forEach(l=>l.dispatchUserEvent(n)))}}connect(){let{page:e,sharedAssets:t}=this.eventContext,i=(n,a)=>{var c,l;if(!(!n.visible||!((c=n.data)!=null&&c.events.length))){for(let{id:o,data:s}of n.data.events)if(!s.disabled&&s.type==="MouseHover")try{let u=new j4e(o,s,n,e,t,this.eventManager);this.eventsPerObjects[n.uuid]?this.eventsPerObjects[n.uuid].push(u):this.eventsPerObjects[n.uuid]=[u]}catch{}(l=this.eventsPerObjects[n.uuid])!=null&&l.length&&this.objects.push(n instanceof Fr?a:n)}};if(e.traverseEntity(n=>{var a;(n instanceof gn||n instanceof kr)&&((a=n.frame)==null||a.traverse(c=>{i(c,n)})),i(n)}),!this.objects.length)return;let{domElement:r}=this.eventContext;this.domEventsNeeded.clear(),pa&&(this.domEventsNeeded.add("pointerdown"),r.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),r.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),r.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(n=>{n.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),pa&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(i=>{i.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:i,raycaster:r,page:n,pointerScreen:a}=this.eventContext,c=!1;if(n.uiCanvas&&(c=il(n,[a.x,a.y],Object.keys(this.eventsPerObjects),l=>{t.push(l)})),i&&!c){let l=F1(r,n,this.objects);t=eA(l),l.forEach(o=>{var s,u;o.object instanceof gn&&il(o.object,[((s=o==null?void 0:o.uv)==null?void 0:s.x)??0,((u=o==null?void 0:o.uv)==null?void 0:u.y)??0],Object.keys(this.eventsPerObjects),d=>{t.push(d)})})}else this.objects.forEach(l=>{var s,u;let o=Hx(r,l);o&&(t.push(l),l instanceof gn&&il(l,[((s=o==null?void 0:o.uv)==null?void 0:s.x)??0,((u=o==null?void 0:o.uv)==null?void 0:u.y)??0],Object.keys(this.eventsPerObjects),d=>{t.push(d)}))})}this._prevObjects.length&&this._prevObjects.forEach(i=>{var r;t.includes(i)||(i.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(r=this.eventsPerObjects[i.uuid])==null||r.forEach(n=>n.dispatchLeave()))}),t.length&&t.forEach(i=>{var r;i.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(r=this.eventsPerObjects[i.uuid])==null||r.forEach(n=>n.dispatchEnter())}),this._prevObjects=t}},P4e=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.scrollCounter=0,this.actions=ur(t,t.actions,r,n,a,i)}connect(){this.scrollCounter=0}disconnect(){Lr(this.actions)}dispatch(e){this.actions.Transition.forEach(r=>{r.object.currentTransitionEvent!==this&&(r.object.currentTransitionEvent=this,r.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let i=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(r=>r.seek(i)),this.actions.Animation.forEach(r=>r.seek(t)),this.actions.Create.forEach(r=>r.dispatchThrottled()),this.actions.SetVariable.forEach(r=>r.checkConditions()),this.actions.SetVariable.forEach(r=>r.dispatch()),this.actions.DynamicVariablePlay.forEach(r=>r.dispatch()),this.actions.ClearLocalStorage.forEach(r=>r.dispatch()),this.actions.UserAPI.forEach(r=>r.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},k4e=class{constructor(e,t,i,r,n,a,c){this.id=e,this.data=t,this.object=i,this.domElement=a,this.eventManager=c,this.scrollStart=0,this.scrollEnd=0,this.actions=ur(t,t.actions,r,n,c,i)}getStickyParentElement(){let e=this.domElement;for(;e;){if(window.getComputedStyle(e).position==="sticky")return e;e=e.parentElement}return null}computeScrollBounds(){let e=this.getStickyParentElement(),t=e==null?void 0:e.parentElement,i=this.domElement.getBoundingClientRect(),r={top:i.top,bottom:i.bottom,left:i.left,right:i.right,width:i.width,height:i.height};if(t){let s=t.getBoundingClientRect(),u=window.getComputedStyle(e),d=parseFloat(u.marginTop)+parseFloat(u.marginBottom),h=parseFloat(u.top),p=parseFloat(u.bottom),m=s.height-d;if(!isNaN(h))i.top===h?(r.top+=s.top-h,r.bottom+=s.top-h):i.top<0&&(r.top-=m-i.height,r.bottom-=m-i.height);else if(!isNaN(p)){let f=document.body.clientHeight??window.innerHeight,g=window.innerWidth-(document.documentElement.clientWidth??window.innerWidth);i.bottom===f-p?(r.top+=s.top-i.height+p+g,r.bottom+=s.top-i.height+p+g):i.bottom<f-p&&(r.top-=m-i.height,r.bottom-=m-i.height)}}let n=document.body,a=document.documentElement,c=window.pageYOffset||a.scrollTop||n.scrollTop,l=a.clientTop||n.clientTop||0,o=Math.round(r.top+c-l);if(this.data.startFrom==="enter"){let s=window.innerHeight,u=r.height,d=this.data.enterAnchor,h=d==="top"?s:d==="bottom"?s-u:s-u*.5;this.scrollStart=o-h}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=r,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){Lr(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return this.box===void 0||this.box.width===0&&this.box.height===0&&this.box.top===0&&this.box.bottom===0}computeScroll({x:e,y:t}){this.actions.Transition.forEach(n=>{n.object.currentTransitionEvent!==this&&(n.object.currentTransitionEvent=this,n.init())});let i=this.scrollEnd-this.scrollStart,r=Math.min(1,Math.max(0,(t-this.scrollStart)/i));this.actions.Transition.forEach(n=>n.seek(r)),this.actions.Animation.forEach(n=>n.seek(r)),this.actions.Create.forEach(n=>n.dispatchThrottled()),this.actions.SetVariable.forEach(n=>n.checkConditions()),this.actions.SetVariable.forEach(n=>n.dispatch()),this.actions.DynamicVariablePlay.forEach(n=>n.dispatch()),this.actions.ClearLocalStorage.forEach(n=>n.dispatch()),this.actions.UserAPI.forEach(n=>n.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},D4e=class extends _n{constructor(e,t){super(e),this.managers=t,this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([i,r])=>{r.forEach(n=>n.handleResize())})},this.onScroll=i=>{if(!this.isInview)return;let r={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([n,a])=>{n.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:r}),a.forEach(c=>c.dispatch(r))})},this.onWheel=i=>{!this.isInview||i.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:i.deltaY}),n.forEach(a=>a.dispatch(i.deltaY))})},this.onUserEvent=({eventName:i,target:r,reverse:n})=>{var c;if(!i||!r)return;let a=n0(i);a&&a==="Scroll"&&(r.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),(c=this.wheelEventsPerObject.get(r))==null||c.forEach(l=>{l.dispatchUserEvent(n)}))}}connect(){let{page:e,sharedAssets:t,domElement:i,isExport:r}=this.eventContext,n=a=>{var c,l,o;if((c=a.data)!=null&&c.events.length){for(let{id:s,data:u}of a.data.events)if(!u.disabled&&u.type==="Scroll")if(u.trigger==="load"||!r){let d=new P4e(s,u,a,e,t,this.managers);this.wheelEventsPerObject.has(a)?(l=this.wheelEventsPerObject.get(a))==null||l.push(d):this.wheelEventsPerObject.set(a,[d])}else{let d=new k4e(s,u,a,e,t,i,this.managers);this.scrollEventsPerObject.has(a)?(o=this.scrollEventsPerObject.get(a))==null||o.push(d):this.scrollEventsPerObject.set(a,[d])}}};e.traverseEntity(a=>{var c;(a instanceof gn||a instanceof kr)&&((c=a.frame)==null||c.traverse(l=>{n(l)})),n(a)}),this.intersectionObserver=new IntersectionObserver(a=>{let c=a[0];c&&(this.isInview=c.isIntersecting)},{root:null}),this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([a,c])=>{c.forEach(l=>l.connect()),a.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([a,c])=>{c.forEach(l=>l.connect()),a.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(a=>a.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(a=>a.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(i=>i.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(i=>i.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},O4e=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.actions=ur(t,t.actions,r,n,a,i)}disconnect(){Lr(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof ad?t.interaction.audioPlayer.play():t.interaction instanceof KT&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let i=t.interaction.data.triggerAfter??"autoplay";i===e&&(t.interaction instanceof jp?t.interaction.play(i==="autoplay"):t.interaction instanceof $T&&t.interaction.dispatch())}),this.actions.Particles.forEach(t=>{(t.data.triggerAfter??"any")===e&&t.dispatchBasic()})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof ad?t.interaction.audioPlayer.play():t.interaction instanceof KT&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof jp?t.interaction.play():t.interaction instanceof $T&&t.interaction.dispatch()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()})}},R4e=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),r.forEach(n=>{n.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),r.forEach(n=>{n.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:i,isExport:r}=this.eventContext,n=r?document:i;n.removeEventListener("pointerdown",this.onAny),n.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([a,c])=>{a.dispatchEvent({type:"beginEvent",eventName:"Start"}),c.forEach(l=>{l.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),r.forEach(n=>{n.actions.Audio.forEach(a=>{a.interaction instanceof ad&&a.interaction.audioPlayer.play()}),n.actions.Video.forEach(a=>{let c=a.interaction.data.triggerAfter??"autoplay";a.interaction instanceof jp&&a.interaction.play(c==="autoplay")}),n.actions.Particles.forEach(a=>{a.dispatchBasic()})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),r.forEach(n=>{n.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:i,target:r,reverse:n})=>{var c,l;if(!i||!r)return;let a=n0(i);a&&a==="Start"&&(r instanceof Fr||r.dispatchEvent({type:"beginEvent",eventName:"Start"}),(c=this.eventsPerObject.get(r))==null||c.forEach(o=>{o.dispatchUserEvent(n)}),(l=this.eventsAfterPerObject.get(r))==null||l.forEach(o=>{o.dispatchUserEvent(n)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext,i=r=>{var n,a,c,l,o;if((n=r.data)!=null&&n.events.length)for(let{id:s,data:u}of r.data.events){if(u.disabled||u.type!=="Start")continue;let d=new O4e(s,u,r,t,e,this.eventManager);(d.actions.Transition.length||d.actions.Animation.length||d.actions.SwitchCamera.length||d.actions.Create.length||d.actions.Destroy.length||d.actions.SceneTransition.length||d.actions.Reset.length||d.actions.SetVariable.length||d.actions.DynamicVariablePlay.length||d.actions.ClearLocalStorage.length||d.actions.UserAPI.length)&&(this.eventsPerObject.has(r)?(a=this.eventsPerObject.get(r))==null||a.push(d):this.eventsPerObject.set(r,[d])),d.actions.Audio.length&&(this.eventsAfterPerObject.has(r)?(c=this.eventsAfterPerObject.get(r))==null||c.push(d):this.eventsAfterPerObject.set(r,[d])),d.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(r)?(l=this.eventsAfterPerObject.get(r))==null||l.push(d):this.eventsAfterPerObject.set(r,[d])),d.actions.Particles.length&&(this.eventsAfterPerObject.has(r)?(o=this.eventsAfterPerObject.get(r))==null||o.push(d):this.eventsAfterPerObject.set(r,[d]))}};if(t.traverseEntity(r=>{var n;(r instanceof gn||r instanceof kr)&&((n=r.frame)==null||n.traverse(a=>{i(a)})),i(r)}),[...this.eventsAfterPerObject.values()].some(r=>r.length)){if(this.eventManager.activateCount===0){let{domElement:r,isExport:n}=this.eventContext,a=n?document:r;a.addEventListener("pointerdown",this.onMouseDown,{once:!0}),a.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),a.addEventListener("pointerdown",this.onAny),a.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([c,l])=>{c.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(a=>a.dispatch()),r.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,i=t?document:e;i.removeEventListener("pointerdown",this.onMouseDown),i.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),i.removeEventListener("pointerdown",this.onAny),i.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.removeEventListener("userEvent",this.onUserEvent),n.forEach(a=>a.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(i=>i.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},N4e=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.initialDisabled=!1,this.actions=ur(t,t.actions,r,n,a,i),this.target=t.target}disconnect(){Lr(this.actions)}dispatch(e){this.initialDisabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.actions.Transition.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Animation.forEach(t=>{t.data.runMode==="Toggle"?t.toggle():t.play()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch()))}},L4e=class extends _n{constructor(e,t,i,r,n){super(e),this.sharedVariables=t,this.eventManager=i,this.needsMouse=r,this.needsRaycast=n,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.isOutOfFocus=!1,this.events=[],this.onFrame=a=>{let c=this.eventContext.sharedAssets;if(this.rafId=window.requestAnimationFrame(this.onFrame),this.isOutOfFocus)return;let l=new Date,o=[],s=[];for(let h=0;h<this.propertiesToWatch.length;h++){let{objectId:p,property:m,prevValue:f}=this.propertiesToWatch[h],g=this.eventContext.scene.find(p),v=O3.propertyPaths[m];if(v[0]==="width"||v[0]==="height"||v[0]==="depth")g=g.geometry.userData.parameters[v[0]];else for(let S=0;S<v.length;S++)g=g[v[S]];f===null?this.propertiesToWatch[h].prevValue=g instanceof N?g.clone():g:(g instanceof N?!g.equals(f):f!==g)&&(s.push({objId:p,property:m}),g instanceof N?this.propertiesToWatch[h].prevValue.copy(g):this.propertiesToWatch[h].prevValue=g)}for(let h=0;h<this.variablesToWatch.length;h++){let{id:p,prevValue:m}=this.variablesToWatch[h],f=c.getVariable(p);f!==m&&(o.push(p),this.variablesToWatch[h].prevValue=f)}for(let h=0;h<this.dynamicVars.length;h++){let{id:p,expectedTime:m,last:f,data:g,timerSeconds:v,startValue:S}=this.dynamicVars[h],x=1e3;if((g.dynamicVariableType==="timer"||g.dynamicVariableType==="stopwatch")&&g.format==="number3decimal"?x=1:g.dynamicVariableType==="counter"?x=g.updateInterval:g.dynamicVariableType==="random"&&(x=g.isStatic?1/0:g.updateInterval),m===-1){this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime=a+x;continue}if(!((c.getDynamicVariablePlayState(p)==="Stopped"||c.getDynamicVariablePlayState(p)==="Restarted")&&(this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime=a+x,g.dynamicVariableType==="counter"&&c.getVariable(p)!==S&&(c.updateVariable(p,S),this.eventManager.requestRender()),(g.dynamicVariableType==="timer"||g.dynamicVariableType==="stopwatch")&&this.dynamicVars[h].timerSeconds!==S&&(this.dynamicVars[h].timerSeconds=S,c.updateVariable(p,Da.getFormattedTimerTime(S,g)),this.eventManager.requestRender()),c.getDynamicVariablePlayState(p)==="Restarted"&&c.setDynamicVariablePlayState(p,"Playing"),c.getDynamicVariablePlayState(p)==="Stopped"))){if(c.getDynamicVariablePlayState(p)==="Paused"){this.dynamicVars[h].deltaToExpectedTime===void 0&&(this.dynamicVars[h].deltaToExpectedTime=Math.max(this.dynamicVars[h].expectedTime-a,0)),this.dynamicVars[h].last=a-(x-this.dynamicVars[h].deltaToExpectedTime),this.dynamicVars[h].expectedTime=a+this.dynamicVars[h].deltaToExpectedTime;continue}else this.dynamicVars[h].deltaToExpectedTime=void 0;if(a>=m)if(this.dynamicVars[h].last=a,this.dynamicVars[h].expectedTime+=x,g.dynamicVariableType==="random"){let b=g.min+Math.random()*(g.max-g.min),_=g.decimals;b=Math.round(b*Math.pow(10,_))/Math.pow(10,_),c.updateVariable(p,b),o.push(p),this.eventManager.requestRender()}else if(g.dynamicVariableType==="counter"){let b=c.getVariable(p),_=c.getDynamicVariableToggleIsForward(p)??!0,w=c.getVariable(p)+g.increment*(_?1:-1);g.hasEnd&&(w=g.increment>0?Ve.clamp(w,S,g.endValue):Ve.clamp(w,g.endValue,S),w===S&&c.setDynamicVariableToggleIsForward(p,void 0),g.repeat?w===g.endValue&&(w=S):(w===S||w===g.endValue)&&c.setDynamicVariablePlayState(p,"Paused")),w!==b&&(o.push(p),c.updateVariable(p,w),this.eventManager.requestRender())}else if(g.dynamicVariableType==="time"){let b=c.getVariable(p),_=W8(l,g);if(typeof b=="object"&&"textValue"in b&&typeof _=="object"&&"textValue"in _){if(Array.isArray(b.textValue)&&Array.isArray(_.textValue)){if(b.textValue.every((w,C)=>w===_.textValue[C]))continue}else if(b.textValue===_.textValue)continue}else if(b===_)continue;c.updateVariable(p,_),o.push(p),this.eventManager.requestRender()}else{let b=Zr.isTextValue(g.endValue)?R9(g.endValue.textValue):g.endValue,_=c.getDynamicVariableToggleIsForward(p)??!0,w=v+(a-f)/1e3*(g.dynamicVariableType==="timer"?-1:1)*(_?1:-1);w=Math.max(w,0),g.hasEnd&&(w=g.dynamicVariableType==="stopwatch"?Ve.clamp(w,S,b):Ve.clamp(w,b,S),w===S&&c.setDynamicVariableToggleIsForward(p,void 0),g.repeat?Math.abs(w-b)<(g.format==="number3decimal"?1e-4:.1)&&(w=S):(Math.abs(w-S)<(g.format==="number3decimal"?1e-4:.1)||Math.abs(w-b)<(g.format==="number3decimal"?1e-4:.1))&&c.setDynamicVariablePlayState(p,"Paused")),w!==v&&(o.push(p),this.dynamicVars[h].timerSeconds=w,c.updateVariable(p,Da.getFormattedTimerTime(w,g)),this.eventManager.requestRender())}}}let u=!1;c.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=c.mouseProperty,u=!0);let d=!1;c.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=c.raycastProperty,d=!0),this.events.forEach(h=>{(o.includes(h.data.variableId)||s.find(p=>p.objId===h.data.objectId&&p.property===h.data.property)||h.data.variableId==="mouseProperty"&&u||h.data.variableId==="raycastProperty"&&d)&&(h.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()}}pause(){this.isOutOfFocus||(this.isOutOfFocus=!0,this.pauseTime=Date.now())}resume(){if(!this.isOutOfFocus)return;this.isOutOfFocus=!1;let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.eventContext.page.traverseEntity(t=>{var i;(i=t.data)==null||i.events.filter(r=>r.data.type==="VariableChange"&&!r.data.disabled).forEach(r=>{this.events.push(new z4e(r.id,r.data,t,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.propertiesToWatch=this.events.filter(t=>t.data.variableId==="objectProperty"&&t.data.objectId!==null).map(t=>({objectId:t.data.objectId,property:t.data.property,prevValue:null}));let e=this.eventContext.sharedAssets;this.sharedVariables.forEach(({id:t,data:i})=>{if(!("dynamicVariableType"in i)){this.events.find(n=>n.data.variableId===t)&&this.variablesToWatch.push({id:t,prevValue:e.getVariable(t)});return}let r;if(i.dynamicVariableType==="timer"||i.dynamicVariableType==="stopwatch"){let n;if(Zr.isTextValue(i.value)&&Array.isArray(i.value.textValue)){let a=i.value.textValue;a.length===3?n=a[2]+a[1]*60+a[0]*3600:n=a[1]+a[0]*60}else n=i.value;r=n,this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:i,timerSeconds:n,startValue:r})}else i.dynamicVariableType==="time"&&e.updateVariable(t,W8(new Date,i)),i.dynamicVariableType==="counter"&&(r=Zr.isTextValue(i.value)?R9(i.value.textValue):i.value),this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:i,startValue:r})}),this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},z4e=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.actions=ur(t,t.actions,r,n,a,i)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}dispose(){Lr(this.actions)}};function R9(e){return e.length===3?e[2]+e[1]*60+e[0]*3600:e[1]+e[0]*60}var B4e="https://unpkg.com/@splinetool/runtime@1.9.67/build/",F4e="https://unpkg.com/@splinetool/navmesh-wasm@1.9.67/build/",U4e=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import('${B4e}' + 'navmesh.js'),
		fetch('${F4e}' + 'navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,V4e=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import(self.location.origin + '/_libraries/navmesh.js'),
		fetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,H4e=`

onmessage = function(messageEvent) {
	const meshData = messageEvent.data;
	const positions = meshData[0];
	const offset = meshData[1];
	const indices = meshData[2];
	const indicesLength = meshData[3];
	const parameters = meshData[4];

	const module = self.module;
	const rc = new module.rcConfig();
	rc.cs = parameters.cs;
	rc.ch = parameters.ch;
	rc.borderSize = parameters.borderSize ? parameters.borderSize : 0;
	rc.tileSize = parameters.tileSize ? parameters.tileSize : 0;
	rc.walkableSlopeAngle = parameters.walkableSlopeAngle;
	rc.walkableHeight = parameters.walkableHeight;
	rc.walkableClimb = parameters.walkableClimb;
	rc.walkableRadius = parameters.walkableRadius;
	rc.maxEdgeLen = parameters.maxEdgeLen;
	rc.maxSimplificationError = parameters.maxSimplificationError;
	rc.minRegionArea = parameters.minRegionArea;
	rc.mergeRegionArea = parameters.mergeRegionArea;
	rc.maxVertsPerPoly = parameters.maxVertsPerPoly;
	rc.detailSampleDist = parameters.detailSampleDist;
	rc.detailSampleMaxError = parameters.detailSampleMaxError;

	if (!self.navMesh) {
		self.navMesh = new module.NavMesh();
	}
	self.navMesh.build(positions, offset, indices, indicesLength, rc);

	const navmeshData = navMesh.getNavmeshData();
	const arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);
	const ret = new Uint8Array(navmeshData.size);
	ret.set(arrView);
	navMesh.freeNavmeshData(navmeshData);

	postMessage(ret);
}
`,G4e=.001,W4e={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1},CG,zt,Gr;Pye.then(e=>{CG=e,zt=new e.Vec3,Gr=new e.Vec3});var q4e=new N,Y4e=class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=i=>{if(ht.length!==1)return;let{raycaster:r,page:n}=this.eventContext;this.eventContext.updateRaycaster(i);let a=n.raycastWithClones(r);if(a.length!==0){if(this.gameControl){let c=q4e.copy(this.gameControl.colliderWorldPosition);c.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(c,a[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(i,r)=>n=>{var h,p,m,f,g,v,S;let a;if(n instanceof Ba)if(n.objectForSample){if(n.objectForSample.dataPatched.physics.fusedBody)return;a=n.object}else return n.object.dataPatched.physics.fusedBody===!0&&n.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(n instanceof en)a=n.object;else if(a=n,((h=a.dataPatched.cloner)==null?void 0:h.disabled)===!1&&((p=a.dataPatched.cloner)==null?void 0:p.hideBase)&&((m=a.dataPatched.physics)==null?void 0:m.fusedBody)!==!0)return!0;if(r&&!a.userData.navmesh)return;let c=a.dataPatched;if(!c.visible&&((f=c.physics)==null?void 0:f.enabled)!==!0)return!0;n.updateMatrixWorldSVD();let l=Gx(c),o=a.userData.hasDestroy,s=a.userData.hasDrag,u=!1,d=!1;for(let x of c.events)x.data.disabled!==!0&&(x.data.type==="GameControl"?u=!0:x.data.type==="Follow"&&(d=!0));if(u||l||d||o||s)return!0;if(this.usePhysics&&((g=c.physics)==null?void 0:g.rigidBody)==="dynamic"){if(this.usePhysics&&((v=c.physics)!=null&&v.fusedBody))return!0}else if("geometry"in n&&n.geometry&&i.push(tl(n.geometry,n.matrixWorld)),this.usePhysics&&((S=c.physics)==null?void 0:S.fusedBody))return n.traverseObject((x,b)=>{var C,E;if(b===0)return;let _;if(x instanceof Ba)if(x.objectForSample){if(x.objectForSample.dataPatched.physics.fusedBody)return;_=x.object}else return x.object.dataPatched.physics.fusedBody===!0&&x.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(x instanceof en)_=x.object;else if(_=x,(C=x.dataPatched.cloner)==null?void 0:C.hideBase)return!0;let w=_.dataPatched;if(!w.visible&&((E=w.physics)==null?void 0:E.enabled)!==!0)return!0;"geometry"in x&&x.geometry&&i.push(tl(x.geometry,x.matrixWorld))}),!0},this.traverseNoPhysics=(i,r)=>n=>{let a;if(n instanceof Ba)return;n instanceof en?a=n.object:a=n;let c=a.dataPatched;if(c.physics.enabled==="visibility"?!c.visible:!c.physics.enabled)return!0;if(r&&!a.userData.navmesh)return;let l=n.geometry,o=a.userData.hasDestroy===!0,s=a.userData.hasDrag===!0;if(Gx(c)||o||s||a.dataPatched.events.some(u=>u.data.disabled!==!0&&u.data.type==="GameControl"))return!0;l&&i.push(tl(l,n.matrixWorld))},this.navmeshWasm=CG,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?U4e:V4e)+H4e])),this._worker=new Worker(this._workerURL)}init(e,t,i){this.gameControl=t,this.eventContext=i,this.setDefaultQueryExtent(new N().setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(i.page,e,r=>{this.buildFromNavmeshData(r.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,i){t.objects.forEach(o=>{var u;let s=e.scene.find(o);s.traverseEntity(d=>{d.userData.navmesh=!0}),(u=s.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=!0})});let r=[],n=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(r,t.zones==="custom");if(e.traverseChildren(n),t.objects.forEach(o=>{var u;let s=e.scene.find(o);s.traverseEntity(d=>{d.userData.navmesh=void 0}),(u=s.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=void 0})}),r.length===0)return!1;let a=nd(r),{positions:c,triIndices:l}=uw(a.getAttribute("position"),a.getIndex());return this._worker.postMessage([c,c.length/3,l,l.length,{...W4e,...t}]),this._worker.onmessage=i,!0}createDebugNavGeometry(){let e,t,i=this.navMesh.getDebugNavMesh(),r=i.getTriangleCount(),n=new Uint32Array(r*3),a=new Float32Array(r*3*3);for(e=0;e<r*3;e++)n[e]=e;for(e=0;e<r;e++)for(t=0;t<3;t++){let l=i.getTriangle(e).getPoint(t);a[e*9+t*3+0]=l.x,a[e*9+t*3+1]=l.y,a[e*9+t*3+2]=l.z}let c=new Qe;return c.setIndex(new ct(n,1)),c.setAttribute("position",new ct(a,3)),c}getClosestPoint(e){return zt.x=e.x,zt.y=e.y,zt.z=e.z,this.navMesh.getClosestPoint(zt)}getClosestPointToRef(e,t){zt.x=e.x,zt.y=e.y,zt.z=e.z;let i=this.navMesh.getClosestPoint(zt);t.set(i.x,i.y,i.z)}getRandomPointAround(e,t){return zt.x=e.x,zt.y=e.y,zt.z=e.z,this.navMesh.getRandomPointAround(zt,t)}getRandomPointAroundToRef(e,t,i){zt.x=e.x,zt.y=e.y,zt.z=e.z;let r=this.navMesh.getRandomPointAround(zt,t);i.set(r.x,r.y,r.z)}moveAlong(e,t){return zt.x=e.x,zt.y=e.y,zt.z=e.z,Gr.x=t.x,Gr.y=t.y,Gr.z=t.z,this.navMesh.moveAlong(zt,Gr)}moveAlongToRef(e,t,i){return zt.x=e.x,zt.y=e.y,zt.z=e.z,Gr.x=t.x,Gr.y=t.y,Gr.z=t.z,this.navMesh.moveAlong(zt,Gr)}computePath(e,t){let i=this.getClosestPoint(t);if(Gr.x=i.x,Gr.y=i.y,Gr.z=i.z,Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)+Math.pow(t.z-i.z,2))>this.getDefaultQueryExtent().y)return[];this.getClosestPoint(e);let r=this.navMesh.computePath(zt,Gr),n=r.getPointCount(),a=[];for(let c=0;c<n;c++){let l=r.getPoint(c);a.push(new N(l.x,l.y,l.z))}return a}createCrowd(e,t){return new K4e(this,e,t)}setDefaultQueryExtent(e){zt.x=e.x,zt.y=e.y,zt.z=e.z,this.navMesh.setDefaultQueryExtent(zt)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,i=this.navmeshWasm._malloc(t),r=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,i,t);r.set(e);let n=new this.navmeshWasm.NavmeshData;n.dataPointer=r.byteOffset,n.size=e.length,this.navMesh.buildFromNavmeshData(n),this.navmeshWasm._free(r.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),i=new Uint8Array(e.size);return i.set(t),this.navMesh.freeNavmeshData(e),i}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){var e;this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),(e=this.eventContext)==null||e.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,i){return zt.x=e.x,zt.y=e.y,zt.z=e.z,this.navMesh.addCylinderObstacle(zt,t,i)}addBoxObstacle(e,t,i){return zt.x=e.x,zt.y=e.y,zt.z=e.z,Gr.x=t.x,Gr.y=t.y,Gr.z=t.z,this.navMesh.addBoxObstacle(zt,Gr,i)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return this.navmeshWasm!==void 0}},K4e=class{constructor(e,t,i){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,i,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,i){let r=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;r.radius=t.radius,r.height=t.height,r.maxAcceleration=t.maxAcceleration,r.maxSpeed=t.maxSpeed,r.collisionQueryRange=t.collisionQueryRange,r.pathOptimizationRange=t.pathOptimizationRange,r.separationWeight=t.separationWeight,r.updateFlags=7,r.obstacleAvoidanceType=0,r.queryFilterType=0,r.userData=0;let n=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),r);return this.transforms.push(i),this.agents.push(n),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new N(0,0,0)),n}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let i=this.crowd.getAgentPosition(e);t.set(i.x,i.y,i.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let i=this.crowd.getAgentVelocity(e);t.set(i.x,i.y,i.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let i=this.crowd.getAgentNextTargetPath(e);t.set(i.x,i.y,i.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let i=this.agents.indexOf(e);i>-1&&(this._agentDestinationArmed[i]=!0,this._agentDestination[i].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let i=this.crowd.getAgentParameters(e);t.radius!==void 0&&(i.radius=t.radius),t.height!==void 0&&(i.height=t.height),t.maxAcceleration!==void 0&&(i.maxAcceleration=t.maxAcceleration),t.maxSpeed!==void 0&&(i.maxSpeed=t.maxSpeed),t.collisionQueryRange!==void 0&&(i.collisionQueryRange=t.collisionQueryRange),t.pathOptimizationRange!==void 0&&(i.pathOptimizationRange=t.pathOptimizationRange),t.separationWeight!==void 0&&(i.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,i)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),e<=G4e)return;let t=1/60,i=10;{let r=Math.floor(e/t);r>i&&(r=i),r<1&&(r=1);let n=e/r;for(let a=0;a<r;a++)this.crowd.update(n)}for(let r=0;r<this.agents.length;r++){let n=this.agents[r],a=this.getAgentPosition(n);if(this.transforms[r].copy(a),this._agentDestinationArmed[r]){let c=a.x-this._agentDestination[r].x,l=a.z-this._agentDestination[r].z,o=this.reachRadii[r],s=this._agentDestination[r].y-this.reachRadii[r],u=this._agentDestination[r].y+this.reachRadii[r],d=c*c+l*l;a.y>s&&a.y<u&&d<o*o&&(this.onReachTarget(n,this._agentDestination[r]),this._agentDestinationArmed[r]=!1)}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,i=this.crowd.getCorners(e),r=i.getPointCount(),n=[];for(t=0;t<r;t++){let a=i.getPoint(t);n.push(new N(a.x,a.y,a.z))}return n}dispose(){this.crowd.destroy()}};function X4e(e){let t=!1;return e.scene.objects.forEach(i=>{i.data.type==="Page"&&!t&&i.data.publish.gameControlObject&&ov.traverseModuleInstances(e,i.id,(r,n,a)=>{for(let c of a)c.data.type==="GameControl"&&c.data.navmesh.enabled&&(t=!0)})}),t}var J4e={type:"change"},N9={type:"changeZoom"},Q4e={type:"changePan"},Au={type:"start"},Mu={type:"end",changed:!0},$4e={type:"end",changed:!1},yC=new mt,L9=new re,Z4e=2*Math.PI,eMe=1e-8,tMe=.01,bC=new N,Zy=new re,xC=new N,e1=new mt,z9=new Ie,iMe={type:"requestRender"},EG=class extends an{constructor(e,t,i={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=i,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,_a.DOLLY_ROTATE,_a.PAN],this.offset=new N,this.eye=new N,this.lastPosition=new N,this.lastQuaternion=new mt,this.current=new re,this.overShoot=new re,this.overRatio=new re,this.spherical=new lD,this.sphericalDelta=new lD,this.panOffset=new N,this.panLeftV=new N,this.panUpV=new N,this.panV=new N,this.rotateStart=new re,this.rotateEnd=new re,this.rotateDelta=new re,this.panStart=new re,this.panEnd=new re,this.panDelta=new re,this.dollyStart=new re,this.dollyEnd=new re,this.dollyDelta=new re,this.rotationRangeFactor=new re,this.panRangeFactor=new re,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=r=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=r.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(xC,e1,bC),this.offset.copy(xC).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&this.state===-1&&this.rotateLeft((this.autoRotateClockwise===!0?1:-1)*this.getAutoRotationAngle()),this.rotationLimitsMode!==0&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),this.rotationLimitsMode!==2&&(this.spherical.phi+=this.sphericalDelta.phi),(this.rotationLimitsMode!==1||this.autoRotate===!0)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&this.object.isPerspectiveCamera&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),this.panLimitsMode!==0&&(this.target.applyQuaternion(yC.copy(e1).invert()),this.panOffset.applyQuaternion(yC),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(e1),this.panOffset.applyQuaternion(e1)),this.panLimitsMode===2&&(this.panOffset.y=0),this.panLimitsMode===1&&(this.panOffset.x=0),this.state===-1&&!this.gesture?(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)):(this.target.add(this.panOffset),this.panOffset.set(0,0,0)),this.offset.setFromSpherical(this.spherical),xC.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(z9.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(z9));let r=this.spherical.phi%Z4e;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(ti.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),r>0&&r>Math.PI||r<0&&r>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),this.state===-1||this.enableDamping===!0){let n=this.hoverRotatePanMode===1?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-n,this.sphericalDelta.phi*=1-n}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>tMe||8*(1-this.lastQuaternion.dot(this.object.quaternion))>eMe?(this.dispatchEvent(J4e),this.object.dispatchEvent(iMe),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=r=>{this.enabled!==!1&&(r.pointerType==="touch"||r.pointerType==="pen"&&pa?this.onPointerDownTouch(r):this.onPointerDownMouse(r),this.state!==-1&&(this.isPointerDown=!0,this.dispatchEvent(Au),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),r.stopPropagation(),r.pointerType==="touch"||r.pointerType==="pen"&&pa||this.domElement.setPointerCapture(r.pointerId)))},this.onPointerLeave=r=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(this.hoverRotatePanMode===1?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,bC.subVectors(this.position0,this.target0),this.spherical.setFromVector3(bC),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):this.hoverRotatePanMode===2&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=r},this.onPointerEnter=r=>{this.resetHoverEffectOnPointerLeave||this.pointerLeaveEvent===void 0?Zy.set(r.clientX-this.domElement.clientWidth/2,r.clientY-this.domElement.clientHeight/2):Zy.set(r.clientX-this.pointerLeaveEvent.clientX,r.clientY-this.pointerLeaveEvent.clientY),this.hoverRotatePanMode===1?(this.rotateDelta.copy(Zy).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(L9,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(r.clientX,r.clientY)):this.hoverRotatePanMode===2&&(this.panDelta.copy(Zy).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(r.clientX,r.clientY)),this.update()},this.onPointerMove=r=>{this.enabled!==!1&&(this.checkRaycastLock()||(r.pointerType==="touch"||r.pointerType==="pen"&&pa?this.onPointerMoveTouch(r):this.onPointerMoveMouse(r),r.stopPropagation()))},this.onPointerUp=r=>{this.isPointerDown=!1,ht.length===0&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),ht.length>1&&r.preventDefault(),this.hasChange?this.dispatchEvent(Mu):this.dispatchEvent($4e),this.state=-1,r&&(r.stopPropagation(),r.pointerType==="touch"||r.pointerType==="pen"&&pa||this.domElement.releasePointerCapture(r.pointerId))},this.onPointerDownMouse=r=>{let n;switch(this.useKeyEvents?n=this.mouseButtons[r.button]:n=this.mouseButtonsPlay[r.button],n){case 0:if(r.altKey===!0&&!r.shiftKey&&!dy(r)){if(this.enableRotate===!1)return;this.handleMouseDownRotate(r),this.state=0}else if(this.key===" "){if(this.enablePan===!1)return;this.handleMouseDownPan(r),this.state=2}break;case 4:if(this.enablePan===!1)return;this.handleMouseDownPan(r),this.state=2;break;case 3:if(dy(r)||r.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(r),this.state=2}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(r),this.state=0}break;case 5:if(dy(r)||r.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(r),this.state=0}else{if(this.enablePan===!1)return;this.handleMouseDownPan(r),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=r=>{switch(this.state){case 0:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(r);break;case 1:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(r);break;case 2:if(this.enablePan===!1)return;this.handleMouseMovePan(r);break}this.object.wasMovedByUser=!0},this.onPointerDownTouch=r=>{switch(ht.length>1&&r.preventDefault(),this.touches[ht.length-1]){case _a.ROTATE:if(this.enableRotate===!1){this.state=-1;return}this.handleTouchStartRotate(),this.state=3;break;case _a.PAN:if(this.enablePan===!1){this.state=-1;return}this.handleTouchStartPan(),this.state=4;break;case _a.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchStartDollyPan(),this.state=5;break;case _a.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=r=>{switch(ht.length>1&&r.preventDefault(),this.state){case 3:if(this.enableRotate===!1)return;this.handleTouchMoveRotate(r),this.update();break;case 4:if(this.enablePan===!1)return;this.handleTouchMovePan(r),this.update();break;case 5:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchMoveDollyPan(r),this.update();break;case 6:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchMoveDollyRotate(r),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=tv(()=>this.dispatchEvent(Mu),33),this.onMouseWheel=r=>{this.enabled===!1||this.enableZoom===!1&&this.enablePan===!1||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&r.preventDefault(),this.dispatchEvent(Au),this.handleMouseWheel(r),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=r=>{if(r.preventDefault(),this.enabled!==!1&&!this.checkRaycastLock()&&!Jv)if(r.type==="gesturechange"){if(this.enableZoom===!1||this.isTouchZoom===!1)return;this.dispatchEvent(Au),r.scale>this.prevScale?this.dollyIn(this.getZoomScale()):r.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=r.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(Mu)},this.onContextMenu=r=>{r.preventDefault()},this.onTouchEnd=r=>{r.preventDefault()},this.onKeyDown=r=>{this.enabled!==!1&&(this.key=r.key,r.key===" "&&this.dispatchEvent(Au))},this.onKeyUp=r=>{this.enabled!==!1&&(this.key=void 0,this.state!==-1&&r.key==="Alt"&&this.onPointerUp(ht[0]),r.key===" "&&this.dispatchEvent(Mu))},this.onPointerHover=r=>{r.pointerType!=="mouse"||this.enabled===!1||this.state!==-1||this.hoverRotatePanMode===2&&this.isPanOverShoot||this.hoverRotatePanMode===1&&this.isRotateOverShoot||(this.isPointerDown=!0,this.hoverRotatePanMode===2?this.handleMouseMovePan(r,this.hoverRotatePanStrength):this.hoverRotatePanMode===1&&this.handleMouseMoveRotate(r,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=r=>{r.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.initialSphericalRadius=this.spherical.radius,this.addEventListenersToCamera()}dispatchEvent(e){e.type==="start"?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents=t==="window",this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let i=e.hoverRotatePanStrength/100;this.hoverRotatePanStrength=i**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/this.maxZoom,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let r=this.object.getTarget().applyQuaternion(yC.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+r.y,this.maxV=e.panVerticalOffset.max+r.y,this.minH=-e.panHorizontalOffset.min+r.x,this.maxH=e.panHorizontalOffset.max+r.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Yo(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Yo(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Yo(Yo(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Yo(Yo(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,e.orbitTouches===1&&(this.touches[0]=_a.ROTATE),e.panTouches===1&&(this.touches[0]=_a.PAN),e.orbitTouches===2&&(this.touches[1]=_a.DOLLY_ROTATE),e.panTouches===2&&(this.touches[1]=_a.DOLLY_PAN),e.orbitTouches===3&&(this.touches[2]=_a.ROTATE),e.panTouches===3&&(this.touches[2]=_a.PAN),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,i,r,n,a,c,l){this.overShoot.set(0,0);let o,s,u;e instanceof N?(o=e.x,s=e.y,this.current.set(this.target.x,this.target.y),u=!0):(o=e.theta,s=e.phi,this.current.set(Yo(this.spherical.theta),Yo(this.spherical.phi)),u=!1),i===0&&(this.current.x+=o,this.current.y+=s),(t===3||t===2)&&(!u&&this.isThetaFlipped?this.current.x>r&&this.current.x<0?this.overShoot.x=r-this.current.x:this.current.x<n&&this.current.x>0&&(this.overShoot.x=n-this.current.x):this.current.x>r?this.overShoot.x=r-this.current.x:this.current.x<n&&(this.overShoot.x=n-this.current.x)),(t===3||t===1)&&(this.current.y>a?this.overShoot.y=a-this.current.y:this.current.y<c&&(this.overShoot.y=c-this.current.y)),u||(this.overShoot.x=Yo(this.overShoot.x),this.overShoot.y=Yo(this.overShoot.y)),i!==0?(this.overRatio.copy(this.overShoot).divide(l),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),i===1&&(this.overRatio.x=B9(Math.abs(this.overRatio.x)),this.overRatio.y=B9(Math.abs(this.overRatio.y))),this.isPointerDown||i===1?i===2&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(o*this.overShoot.x<0&&!this.thetaIsFree&&(o*=1-this.overRatio.x),s*this.overShoot.y<0&&!this.phiIsFree&&(s*=1-this.overRatio.y)):i===2&&(!u&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||u&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(o=this.overShoot.x*.05),this.phiIsFree||(s=this.overShoot.y*.05),u?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):u?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(o+=this.overShoot.x,s+=this.overShoot.y),e instanceof N?(e.x=o,e.y=s):(this.thetaIsFree||(e.theta=o),this.phiIsFree||(e.phi=s))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=e===!0?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let i=this.domElement;if(i&&this.object.isPerspectiveCamera){let r=this.object.position;this.panV.copy(r).sub(this.target);let n=this.panV.length();n*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*n/i.clientHeight,this.object.matrixWorld),this.panUp(2*t*n/i.clientHeight,this.object.matrixWorld)}else i&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrixWorld));this.dispatchEvent(Q4e)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(N9)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(N9)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(Au),this.dollyOut(e),this.dispatchEvent(Mu)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(Au),this.dollyIn(e),this.dispatchEvent(Mu)}setZoom(e){if(this.dispatchEvent(Au),this.object.isPerspectiveCamera){let t=this.initialSphericalRadius/e/this.spherical.radius;this.scale=t}else this.object.isOrthographicCamera&&(this.object.zoom=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0);this.dispatchEvent(Mu)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){e.movementX!==void 0?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(L9,-this.object.angleOffsetFromUp);let i=this.domElement,r=this.useWindowEvents?window.innerHeight:i.clientHeight,n=2*Math.PI*this.rotateDelta.x/r,a=2*Math.PI*this.rotateDelta.y/r;this.rotateLeft(n),this.rotateUp(a),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){e.movementX!==void 0?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(Eye===!1&&dy(e)===!1&&Aye(e)===!0){if(this.enablePan===!1)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):e.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(this.enableZoom===!1||this.gesture)return;e.deltaY===0?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(ht.length===2){let e=.5*(ht[0].pageX+ht[1].pageX),t=.5*(ht[0].pageY+ht[1].pageY);this.rotateStart.set(e,t)}else this.rotateStart.set(ht[0].pageX,ht[0].pageY)}handleTouchStartPan(){if(ht.length===2){let e=.5*(ht[0].pageX+ht[1].pageX),t=.5*(ht[0].pageY+ht[1].pageY);this.panStart.set(e,t)}else this.panStart.set(ht[0].pageX,ht[0].pageY)}handleTouchStartDolly(){let e=ht[0].pageX-ht[1].pageX,t=ht[0].pageY-ht[1].pageY,i=Math.sqrt(e*e+t*t);this.dollyStart.set(0,i)}handleTouchStartDollyPan(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(ht.length===2){let i=lS(e),r=.5*(e.pageX+i.x),n=.5*(e.pageY+i.y);this.rotateEnd.set(r,n)}else{if(e.pointerId!==ht[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(ht.length===2){let t=lS(e),i=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this.panEnd.set(i,r)}else{if(e.pointerId!==ht[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=lS(e),i=e.pageX-t.x,r=e.pageY-t.y,n=Math.sqrt(i*i+r*r);this.dollyEnd.set(0,n),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){var e;if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let t=(e=this.options)==null?void 0:e.showCameraLock;return t&&t(),!0}}else return!1}};function Yo(e){let t=Math.PI*2;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function B9(e){return 1-Math.pow(1-e,4)}var F9=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.page=r,this.currentIntersectedObjects=[],this.actions=ur(t,t.actions,r,n,a,i),this.target=t.target,this.triggeringObjects=[];for(let c of t.triggeringObjects){let l=r.scene.find(c);l&&this.triggeringObjects.push(l)}}isValidTriggeringObject(e){return this.target==="all"?!0:this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){Lr(this.actions)}dispatch(){this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.actions.Transition.forEach(e=>{e.data.runMode==="Toggle"?e.toggle():e.play()}),this.actions.SwitchCamera.forEach(e=>{e.data.runMode==="Toggle"?e.toggle():e.play()}),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Particles.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()))}},Wt;Dye.then(e=>Wt=e);var ir=new N,co=new mt,ac=new N,wC=new yr(0,0,0,"YXZ"),U9=new yr(0,0,0,"XYZ"),uo=new N,_C=new N,SC=new N(1,1,1),Ah=new mt,t1=new Ie,V9=new Ie,rMe={type:"updateMatrix"},H9=new mt,CC=new aa,tA={type:"beginEvent",eventName:"Collision"},nMe={type:"beginEvent",eventName:"Trigger"};function aMe(e){if(ov.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((i,r)=>{if(r.events){if(Array.isArray(r.events)){for(let n of r.events)if(n.data.disabled!==!0&&n.data.type==="GameControl"&&n.data.collisionEnabled){t=!0;break}}else for(let n of Object.values(r.events))if(n.disabled!==!0&&n.type==="GameControl"&&n.collisionEnabled){t=!0;break}}}),t}var Gx=e=>e.states.some(t=>t.data.position!==void 0||t.data.rotation!==void 0||t.data.hiddenMatrix!==void 0||t.data.cloner!==void 0||t.data.pathSnapping!==void 0),oMe=class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==Wt.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[i,r,n]=this.rigidBodyToMesh.get(t.handle);if(ir.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),co.copy(t.rotation()),i.matrixWorld.compose(ir,co,r),i.hasNonUniformScale&&i.matrixWorld.multiply(i.shearScale),i.dispatchEvent(rMe),n){let a=i.cloner;if(a&&a.objectForSample===void 0){a.matrixWorld.copy(i.matrixWorld);for(let c of a.children)c.updateMatrixWorld(!0)}for(let c of i.children)c.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,i,r)=>{var c,l,o,s;if(r===!1)return;let n,a;if(this.sensorToTriggerEvent[t]?(n=this.sensorToTriggerEvent[t],a=this.sharedGameControlGlobals.colliderToEntity.get(i)):this.sensorToTriggerEvent[i]&&(n=this.sensorToTriggerEvent[i],a=this.sharedGameControlGlobals.colliderToEntity.get(t)),n&&a&&n.isValidTriggeringObject(a)){n.dispatch();return}for(let u=this.sharedGameControlGlobals.createdObjects.length-1;u>=0;u--){let d=this.sharedGameControlGlobals.createdObjects[u];if(d.userData.hasCollisionDestroy&&(((c=d.rigidBody)==null?void 0:c.collider(0).handle)===t||((l=d.rigidBody)==null?void 0:l.collider(0).handle)===i)){this.sharedGameControlGlobals.createdObjects.splice(u,1),d.removeFromParent(),requestAnimationFrame(()=>{var h;return(h=this.sharedGameControlGlobals.rapierWorld)==null?void 0:h.removeRigidBody(d.rigidBody)});break}}if(((o=this.gameControl)==null?void 0:o.object)!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(t)){let u=this.sharedGameControlGlobals.colliderToEntity.get(i),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,i)}else if(((s=this.gameControl)==null?void 0:s.object)!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(i)){let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,t)}else{let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d!==void 0)for(let m of d)m.data.target==="scene"&&this.dispatchCollisionEvent(m,u,t);let h=this.sharedGameControlGlobals.colliderToEntity.get(i),p=this.sharedGameControlGlobals.entityToCollisionEvents[h==null?void 0:h.uuid];if(p!==void 0)for(let m of p)m.data.target==="scene"&&this.dispatchCollisionEvent(m,h,i)}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=mG,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",i=>{"gamepad"in i.data&&"axes"in i.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(i.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{var i,r;let t=e.dataPatched;for(let n of t.events){if(n.data.disabled===!0)continue;let a=(r=(i=n.data.actions)==null?void 0:i.find(c=>c.data.type==="Destroy"))==null?void 0:r.data;if(a)for(let c of a.objects){let l=this.page.scene.find(c);l&&(l.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let i of t.events)if(!(i.data.disabled===!0||i.data.type!=="DragDrop"))for(let r of i.data.objects){let n=this.page.scene.find(r);n&&(n.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{var s,u;let i,r=t instanceof lg,n=t instanceof cg;if(t instanceof Ba||r||n)return;t instanceof en?i=t.object:i=t;let a=i.dataPatched;if(((s=a.physics)==null?void 0:s.enabled)==="visibility"?!a.visible:!((u=a.physics)!=null&&u.enabled))return!0;let c=t.geometry,l=i.userData.hasDestroy===!0,o=i.userData.hasDrag===!0;if(Gx(a)||l||o||i.dataPatched.events.some(d=>d.data.disabled!==!0&&(d.data.type==="GameControl"||d.data.type==="Follow")))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;c&&e.push(tl(c,t.matrixWorld))}),e.length>0){let t=nd(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new og(t)}}addRigidBody(e,t,i){if(vG(e.matrixWorld))return;let r=[],n="geometry"in e?e.geometry:void 0,a=t.dataPatched;if((n==null?void 0:n.getAttribute("position"))!==void 0&&r.push(tl(n,e.shearScale)),a.physics.fusedBody){let c=this.gatherChildrenGeom(e,r);e.traverseObject(c),e.children.forEach(o=>o.updateMatrixWorld(!0));let l=e.cloner;l&&l.objectForSample===void 0&&a.physics.rigidBody==="dynamic"&&(l.traverseObject(c),l.children.forEach(o=>o.updateMatrixWorld(!0)))}if(r.length>0){let c,l=!i.fromCreate&&a.physics.rigidBody==="dynamic"||i.fromCreate&&i.dynamic;l?(c=Wt.RigidBodyDesc.dynamic(),c.setLinearDamping(a.physics.damping).setAngularDamping(a.physics.damping).setAdditionalMass(1e-9).setGravityScale(a.physics.gravityScale).enabledRotations(...a.physics.enabledRotation).enabledTranslations(...a.physics.enabledTranslation)):(i.hasTransformAnim||i.hasFollow||i.hasDrag)&&!i.fromCreate?(c=Wt.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):c=Wt.RigidBodyDesc.fixed();let o=nd(r);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(ir,co,ac),e.position0=ir.clone().divideScalar(this.pixelsPerMeter),e.rotation0=co.clone(),ir.divideScalar(this.pixelsPerMeter),c.setTranslation(ir.x,ir.y,ir.z).setRotation(co),n?o==null||o.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):o==null||o.scale(ac.x/this.pixelsPerMeter,ac.y/this.pixelsPerMeter,ac.z/this.pixelsPerMeter);let s=this.sharedGameControlGlobals.rapierWorld.createRigidBody(c);l&&this.rigidBodyToMesh.set(s.handle,[e,ac.clone(),a.physics.fusedBody]);let u=!(a.geometry===void 0||a.geometry.type==="SubdivGeometry"||a.geometry.type==="NonParametricGeometry"||a.geometry.type==="BooleanGeometry"||a.geometry.type==="VectorGeometry"||a.geometry.type==="StarGeometry"||a.geometry.type==="RectangleGeometry"||a.geometry.type==="EllipseGeometry"||a.geometry.type==="TriangleGeometry"||a.geometry.type==="TorusGeometry"||a.geometry.type==="HelixGeometry");try{this.addCollider(s,a.physics,o,t,u)}catch{try{this.addCollider(s,a.physics,o,t,!1)}catch(d){console.error(d)}}e.rigidBody=s}}addBoundsTree(e){var i,r;let t=[];if(((i=e.geometry)==null?void 0:i.getAttribute("position"))!==void 0&&((r=e.geometry)==null?void 0:r.getAttribute("position").count)>0&&t.push(tl(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(n=>n.updateMatrixWorld(!0)),t.length>0){let n=nd(t,!1);e.bvhGeometry=n,n.getAttribute("position").count>0&&(e.bvhGeometry.boundsTree=new og(n),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e))}}addCollider(e,t,i,r,n=!0){var l,o;if((i==null?void 0:i.getAttribute("position").count)===0||((l=i==null?void 0:i.getIndex())==null?void 0:l.count)===0)return;let a;i&&(t.colliderType==="trimesh"?a=Wt.ColliderDesc.trimesh(i.getAttribute("position").array,i.getIndex().array):a=Wt.ColliderDesc.convexMesh(i.getAttribute("position").array,n?i.getIndex().array:void 0)),a.setFrictionCombineRule(Wt.CoefficientCombineRule.Average).setRestitutionCombineRule(Wt.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let c=this.sharedGameControlGlobals.rapierWorld.createCollider(a,e);this.sharedGameControlGlobals.colliderToEntity.set(c.handle,r),(o=this.sharedGameControlGlobals.entityToCollisionEvents[r.uuid])!=null&&o.some(s=>s.target==="scene")&&c.setActiveEvents(Wt.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(i,r)=>{var l;if(r===0)return;let n;if(i instanceof Ba)if(i.objectForSample){if(i.objectForSample.dataPatched.physics.fusedBody)return;n=i.object}else return i.object.dataPatched.physics.fusedBody===!0&&i.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(i instanceof en)n=i.object;else if(n=i,(l=n.dataPatched.cloner)==null?void 0:l.hideBase)return!0;let a=n.dataPatched;if(a.physics.enabled==="visibility"?!a.visible:!a.physics.enabled)return!0;r===1?e.hasNonUniformScale?i.matrixWorld.multiplyMatrices(e.shearScale,i.hiddenMatrix):i.matrixWorld.copy(i.hiddenMatrix):i.matrixWorld.multiplyMatrices(i.parent.matrixWorld,i.hiddenMatrix),i.matrixWorld.multiply(i.matrix);let c=i.geometry;(c==null?void 0:c.getAttribute("position"))!==void 0&&t.push(tl(c,i.matrixWorld))}}activate(e){var h,p;if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,i=!1,r=5,n=8,a=9,c="drag",l=this.page.data.publish.gameControlObject,o=l!==null?this.page.find(l):null,s=null;if(o)for(let m of o.data.events){if(m.data.disabled||m.data.type!=="GameControl")continue;let f=o;for(;this.usePhysics&&((h=f=f.parent)==null?void 0:h.parent)!==null;)(p=f.data.physics)==null||p.fusedBody;m.data.collisionEnabled&&(this.needsCollisionDetection=!0),s===null&&(s=m.data)}if(this.page.traverseEntity(m=>{for(let f of m.dataPatched.events)if(f.data.disabled===!1&&f.data.type==="Trigger")return this.needsCollisionDetection=!0,!0}),o&&s&&(o.data.visible===!0||o.data.physics.enabled===!0)){i=i||s.camera===t.uuid||o.uuid===t.uuid;let m=new gG(o,this.renderer.domElement,s,this.eventContext.page.data.globalPhysics,this,o.uuid!==t.uuid&&s.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=m,r=s.joystickPosLoc,n=s.joystickRotLoc,a=s.jumpTouchButtonLoc,c=s.rotByTouch,pa&&s.touchControl&&(this.joystickToGameControls[r]="pos",s.moveMode==="walk"&&(this.joystickToGameControls[a]="jmp"),c==="joystick"&&(this.joystickToGameControls[n]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let m=this.gameControl.data;if(!this.navigationMeshWrapper){this.navigationMeshWrapper=new Y4e(this.usePhysics,this.isExport);let f;m.collider.type==="sphere"?f=m.collider.radius*2:f=m.collider.height,f=Math.floor(f/m.navmesh.ch-1),this.navigationMeshWrapper.init({...m.navmesh,walkableHeight:f},this.gameControl,this.eventContext)}}if(i===!1){let{enableRotate:m,enablePan:f,enableZoom:g,autoRotate:v,hoverRotatePanMode:S}=this.eventManager.publish.orbitControls;(m||f||g||v||S!==0)&&(this.orbitControls=new EG(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let u=this.renderer.domElement.width/this.renderer.getPixelRatio(),d=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((m,f)=>{let g=document.body.appendChild(document.createElement("div")),[v,S,x]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[f],b=(u-5*v)/4+v,_={},w=m==="jmp",C=w?0:v;f<10?(f<5?_.top=C/2:_.bottom=C/2,_.left=C/2+f%5*b):f===10?(_.left=C/2,_.top=d/2):(_.right=C/2,_.top=d/2),_.top?_.top-=S[1]:_.bottom+=S[1],_.left?_.left+=S[0]:_.right-=S[0];for(let T in _)_[T]+="px";if(w){let T=g.appendChild(document.createElement("div"));Object.assign(T.style,_,{position:"absolute",width:v+"px",height:v+"px",backgroundColor:`rgba(255,255,255,${x==="show"?.4:0})`,zIndex:"9999",borderRadius:v+"px",border:x==="show"?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let M=v/16*16*.4;x==="show"&&(T.innerHTML=`
						<svg width="${M}" height="${v*.4}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					`),T.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),T.addEventListener("touchend",j=>j.preventDefault()),this.joysticks[f]=[void 0,g];return}let E={zone:g,mode:"static",position:_,size:v};x==="hide"&&(E.restOpacity=0);let A=gTe.create(E);A.on("move",(T,M)=>{let j=this.gameControl;m==="pos"?M.force<.2?j.moveForce=0:(j.movementState.movePosZ=Math.sin(-M.angle.radian),j.movementState.movePosX=Math.cos(-M.angle.radian),M.force>1.2?j.movementState.run=1:j.movementState.run=0,M.force<.3?j.moveForce=(M.force-.2)/.1:j.moveForce=1):m==="rot"&&(M.force<.2?j.rotForce=0:(j.movementState.rotPosX=M.vector.y,j.movementState.rotPosY=-M.vector.x,M.force<.3?j.rotForce=(M.force-.2)/.1:j.rotForce=1)),this.requestRender()}),A.on("end",(T,M)=>{let j=this.gameControl;m==="pos"?(j.movementState.movePosZ=0,j.movementState.movePosX=0,j.moveForce=1):m==="rot"&&(j.movementState.rotPosX=0,j.movementState.rotPosY=0,j.rotForce=1)}),this.joysticks[f]=[A,g]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(m=>m.initialDisabled=!1)},80)}initPhysics(){var c;(c=this.sharedGameControlGlobals.rapierWorld)==null||c.free(),this.sharedGameControlGlobals.rapierWorld=new Wt.World(new Wt.Vector3(0,this.gravity,0)),this.events=new Wt.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(l=>{var v,S,x,b;let o;if(l instanceof Ba)if(l.objectForSample){if(l.objectForSample.dataPatched.physics.fusedBody)return;o=l.object}else return l.object.dataPatched.physics.fusedBody===!0&&l.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(l instanceof en)o=l.object;else{if(l instanceof cg||l instanceof lg)return;if(o=l,((v=o.dataPatched.cloner)==null?void 0:v.disabled)===!1&&((S=o.dataPatched.cloner)==null?void 0:S.hideBase)&&((x=o.dataPatched.physics)==null?void 0:x.fusedBody)!==!0)return!0}let s=o.dataPatched,u;for(let _ of s.events)_.data.disabled!==!0&&_.data.type==="GameControl"&&(u=_.data);if(!s.physics||(s.physics.enabled==="visibility"?!s.visible:!s.physics.enabled))return!0;l.updateMatrixWorldSVD();let d=Gx(s),h=!1,p=o.userData.hasDestroy,m=o.userData.hasDrag,f=!1;for(let _ of s.events)if(_.data.disabled!==!0){if(_.data.type==="Collision"){h=!0;let w=new N4e(_.id,_.data,o,this.page,this.sharedAssets,this.eventManager);w.initialDisabled=!0,this.collisionEvents.push(w),this.sharedGameControlGlobals.entityToCollisionEvents[o.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[o.uuid].every(C=>C.id!==_.id)?this.sharedGameControlGlobals.entityToCollisionEvents[o.uuid].push(w):this.sharedGameControlGlobals.entityToCollisionEvents[o.uuid]=[w]}else if(_.data.type==="Follow"){f=!0;let w=_.data.target;l.traverseVisible(C=>{C.userData.isFollowingObj=w})}}s.physics.rigidBody==="dynamic"&&s.physics.fusedBody===!1&&(l.matrixWorldFusedFalse=l.matrixWorld.clone());let g=l.geometry;if(u!==void 0){let _=Wt.RigidBodyDesc.kinematicPositionBased();(l.hasNonUniformScale?l.matrixWorldRigid:l.matrixWorld).decompose(ir,co,ac),l.position0=ir.clone().divideScalar(this.pixelsPerMeter),l.rotation0=co.clone(),ir.divideScalar(this.pixelsPerMeter),_.setTranslation(ir.x,ir.y,ir.z).setRotation(co);let w=this.sharedGameControlGlobals.rapierWorld.createRigidBody(_);l.rigidBody=w;let C;u.collider.type==="sphere"?C=Wt.ColliderDesc.ball(u.collider.radius/this.pixelsPerMeter):u.collider.type==="capsule"?C=Wt.ColliderDesc.capsule((u.collider.height/2-u.collider.radius)/this.pixelsPerMeter,u.collider.radius/this.pixelsPerMeter):C=Wt.ColliderDesc.cuboid(u.collider.width/this.pixelsPerMeter/2,u.collider.height/this.pixelsPerMeter/2,u.collider.depth/this.pixelsPerMeter/2),C.setFrictionCombineRule(Wt.CoefficientCombineRule.Average).setRestitutionCombineRule(Wt.CoefficientCombineRule.Average).setDensity(s.physics.density).setFriction(s.physics.friction).setRestitution(s.physics.restitution);let E=this.sharedGameControlGlobals.rapierWorld.createCollider(C,w);this.sharedGameControlGlobals.colliderToEntity.set(E.handle,o),ir.fromArray(u.collider.position).multiply(ac.setFromMatrixScale(o.matrixWorld)).divideScalar(this.pixelsPerMeter),E.setTranslationWrtParent(ir);let A=new mt().setFromEuler(new yr().setFromVector3(new N().fromArray(u.collider.rotation)));E.setRotationWrtParent(A),E.setActiveEvents(Wt.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(o,!0)}else s.physics.rigidBody==="dynamic"||d||f||p||m||h?(this.addRigidBody(l,o,{hasFollow:f,hasTransformAnim:d,hasDrag:m}),this.generateSensorColliderDescs(o,s.physics.fusedBody)):(g&&e.push(tl(g,l.matrixWorld)),s.physics.fusedBody&&l.traverseObject((_,w)=>{var T;if(w===0)return;let C;if(_ instanceof Ba)if(_.objectForSample){if(_.objectForSample.dataPatched.physics.fusedBody)return;C=_.object}else return _.object.dataPatched.physics.fusedBody===!0&&_.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else{if(_ instanceof cg||_ instanceof lg)return;if(_ instanceof en)C=_.object;else if(C=_,(T=C.dataPatched.cloner)==null?void 0:T.hideBase)return!0}let E=C.dataPatched;if(E.physics.enabled==="visibility"?!E.visible:!E.physics.enabled)return!0;let A=_.geometry;(A==null?void 0:A.getAttribute("position"))!==void 0&&e.push(tl(A,_.matrixWorld))}),this.generateSensorColliderDescs(o,s.physics.fusedBody,t));if(((b=s.physics)==null?void 0:b.fusedBody)===!0||u)return!0}),e.length===0)return;let i=nd(e);i.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let r=Wt.RigidBodyDesc.fixed(),n=this.sharedGameControlGlobals.rapierWorld.createRigidBody(r),a=Wt.ColliderDesc.trimesh(i.getAttribute("position").array,i.getIndex().array).setFrictionCombineRule(Wt.CoefficientCombineRule.Multiply).setRestitutionCombineRule(Wt.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(a,n);for(let[l,o]of t){let s=this.sharedGameControlGlobals.rapierWorld.createCollider(l,n);this.sensorToTriggerEvent[s.handle]=o}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if(t.data.type==="Trigger"&&t.data.disabled!==!0){let i=new F9(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),r=new Ie().compose(uo.fromArray(t.data.position),Ah.setFromEuler(U9.fromArray(t.data.rotation)),SC);if(t.data.triggerZone==="box"){let n=new Zi;n.min.fromArray(t.data.size).multiplyScalar(-.5),n.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([n,r,e,i])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,r,e,i])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){var e,t,i,r;if(this.isEnabled){this.isEnabled=!1,this.page.traverse(n=>{let a=n;a.matrixWorldFusedFalse&&(a.matrixWorldFusedFalse=void 0),a.rigidBody&&(a.rigidBody=void 0),a.position0&&(a.position0=void 0),a.rotation0&&(a.rotation0=void 0)}),(e=this.sharedGameControlGlobals.rapierWorld)==null||e.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),(t=this.gameControl)==null||t.reset(),(i=this.gameControl)==null||i.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([n,a])=>{n==null||n.destroy(),a.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),(r=this.navigationMeshWrapper)==null||r.dispose(),this.navigationMeshWrapper=void 0;for(let n of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))n.forEach(a=>a.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,i){if(!this.isEnabled)return!0;let r=!0;if(this.orbitControls!==void 0&&this.orbitControls.needsUpdate&&(r=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,r=!1):this.initializationCounter===2&&this.gameControl&&(r=!this.gameControl.update(e,t,i)&&r),this.usePhysics===!1&&this.checkTrigger(),this.usePhysics){let n=.016666666666666666;if(e===0)r=this.stepPhysics()&&r;else{let a=e/1e3;a<n&&a>n*.55&&(a=n),this.accumulator+=a;let c=performance.now(),l=0,o=6;for(;this.accumulator>=n&&l<o&&(r=this.stepPhysics()&&r,this.accumulator-=n,l++,!(performance.now()-c>n*1e3)););this.accumulator=this.accumulator%n}}return r}stepPhysics(){var e;for(let t of this.sharedGameControlGlobals.entitiesWithTransformAnim){(t.hasNonUniformScale?t.matrixWorldRigid:t.matrixWorld).decompose(ir,co,ac),wC.setFromQuaternion(co);let i=t;i.prevR===void 0?(i.prevR=wC.clone(),i.prevT=ir.clone()):(i.prevR.copy(wC),i.prevT.copy(ir)),t.rigidBody&&(t.rigidBody.setNextKinematicTranslation(ir.divideScalar(this.pixelsPerMeter)),t.rigidBody.setNextKinematicRotation(co))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),(e=this.events)==null||e.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,i){var a;let r=((a=this.sharedGameControlGlobals.rapierWorld)==null?void 0:a.getCollider(i))._parent,n;if(t.cloner){for(let c of t.cloner.children)if(c.rigidBody===r){n=c;break}}e.dispatch(n),t.dispatchEvent(tA)}updateUseWindowEvents(e){var t;(t=this.orbitControls)==null||t.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,i){let r=V9.copy(e.matrixWorld).invert();e.traverseEntity((n,a)=>{if(t===!1&&a===1)return!0;for(let c of n.dataPatched.events)if(c.data.type==="Trigger"&&c.data.disabled!==!0){let l=new F9(c.id,c.data,n,this.page,this.sharedAssets,this.eventManager),o;if(c.data.triggerZone==="box"?o=Wt.ColliderDesc.cuboid(...c.data.size.map(s=>s/(2*this.pixelsPerMeter))):o=Wt.ColliderDesc.ball(c.data.radius/this.pixelsPerMeter),o.setDensity(0).setSensor(!0).setActiveEvents(Wt.ActiveEvents.COLLISION_EVENTS),uo.fromArray(c.data.position),Ah.setFromEuler(U9.fromArray(c.data.rotation)),t1.compose(uo,Ah,SC).premultiply(n.matrixWorld),i?(t1.decompose(uo,Ah,_C),o.setActiveCollisionTypes(Wt.ActiveCollisionTypes.KINEMATIC_FIXED|Wt.ActiveCollisionTypes.DYNAMIC_FIXED)):(t1.premultiply(r).decompose(uo,Ah,_C),e.rigidBody.bodyType()===Wt.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===Wt.RigidBodyType.Fixed?o.setActiveCollisionTypes(Wt.ActiveCollisionTypes.KINEMATIC_FIXED|Wt.ActiveCollisionTypes.DYNAMIC_FIXED):o.setActiveCollisionTypes(Wt.ActiveCollisionTypes.KINEMATIC_KINEMATIC|Wt.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),uo.divideScalar(this.pixelsPerMeter),o.setTranslation(uo.x,uo.y,uo.z),o.setRotation(Ah),i)i.push([o,l]);else{let s=this.sharedGameControlGlobals.rapierWorld.createCollider(o,e.rigidBody);this.sensorToTriggerEvent[s.handle]=l}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[i,r,n,a]=this.sharedGameControlGlobals.triggers[t];for(let c=0;c<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;c++){let l=this.sharedGameControlGlobals.entitiesWithTransformAnim[c];if(n===l||a.isValidTriggeringObject(Ut.is(l)?l:l.object)===!1)continue;let o=V9.copy(n.matrixWorld).decompose(uo,H9,_C).compose(uo,H9,SC).multiply(r),s=t1.copy(l.matrixWorld).invert().multiply(o);i instanceof Zi?e=l.bvhGeometry.boundsTree.intersectsBox(i,s):(CC.radius=i,CC.center.setFromMatrixPosition(s),e=l.bvhGeometry.boundsTree.intersectsSphere(CC)),e?a.currentIntersectedObjects.indexOf(l)===-1&&(a.currentIntersectedObjects.push(l),a.dispatch(),n.dispatchEvent(nMe)):a.currentIntersectedObjects=a.currentIntersectedObjects.filter(u=>u!==l)}}}};function sMe(e){let t=this._clip.duration,i=this._clip.start??0,r=this.loop,n=this.time+e,a=this._loopCount,c=r===eM;if(e===0)return a===-1?n:c&&(a&1)===1?t-(n-i):n;if(r===AB){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),n>=t||n<i){let l=Math.floor((n-i)/(t-i));n-=(t-i)*l,a+=Math.abs(l);let o=this.repetitions-a;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,c||(n=e>0?t:i,this.repetitions===1&&(n=t)),this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){let s=e<0;this._setEndings(s,!s,c)}else this._setEndings(!1,!1,c);this._loopCount=a,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=n;if(c&&(a&1)===1)return t-(n-i)}return n}var G9=!1,lMe=class{constructor(e,t,i,r){this.scene=e,this.requestRender=t,this.updateDisplayProgress=i,this.animationInspectorState=r,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=n=>{n.data.type==="Empty"&&n.data.animations&&n.data.animations.forEach((a,c)=>{let l=a[0]+"/";if(Array.isArray(n.identity)?l+=n.identity[0]:l+=n.uuid,this.clipIdToAction[l])return;let o=p3.parse(JSON.parse(a[2]));n.animations[c]=o;let s=this.mixer.clipAction(o,n);G9===!1&&(Object.getPrototypeOf(s)._updateTime=sMe,G9=!0),s.clampWhenFinished=!0,this.clipIdToAction[l]=s})},this.mixer=new que(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let i=this.scene.find(t);if(!i)return;let r=i.animations.find(a=>a.uuid===e);if(!r)return;let n=this.clipIdToAction[e];!n||(n.stop(),this.mixer.uncacheClip(r),delete this.clipIdToAction[e],i.animations=i.animations.filter(a=>a.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=MB}),this.mixer.stopAllAction(),this.requestRender()}play(e){let t=e.clipId+"/"+e.object,i=this.clipIdToAction[t];if(i)return e&&(e.repeat>=0&&(i.repetitions=e.repeat+1),e.direction==="pingpong"&&e.repeat!==0&&(i.loop=eM)),i.play(),i.paused=!1,this.requestRender(),i}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){var t;if(this.needsUpdate)this.needsUpdate=!1;else if(this.isPlaying===!1||(t=this.animationInspectorState)!=null&&t.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*(this.maxFrames-1)%(this.maxFrames-1))),this.requestRender()}get maxFrames(){return sG(this.activeClip??void 0)}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let i=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(e/(this.maxFrames-1),.9999)*this.activeClip.duration),this.requestRender(),i&&(this.clipIdToAction[t].paused=!0)}},EC=new WeakMap,cMe=class extends qv{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){let n=new f3(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,a=>{this.decodeDracoFile(a,t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){let n={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};return this.decodeGeometry(e,n).then(t)}decodeGeometry(e,t){let i=JSON.stringify(t);if(EC.has(e)){let l=EC.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r,n=this.workerNextTaskID++,a=e.byteLength,c=this._getWorker(n,a).then(l=>(r=l,new Promise((o,s)=>{r._callbacks[n]={resolve:o,reject:s},r.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return c.catch(()=>!0).then(()=>{r&&n&&this._releaseTask(r,n)}),EC.set(e,{key:i,promise:c}),c}_createGeometry(e){let t=new Qe;e.index&&t.setIndex(new ct(e.index.array,1));for(let i=0;i<e.attributes.length;i++){let r=e.attributes[i],n=r.name,a=r.array,c=r.itemSize;t.setAttribute(n,new ct(a,c))}return t}_loadLibrary(e,t){let i=new f3(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,n)=>{i.load(e,r,void 0,n)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{let r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);let n=uMe.toString(),a=["/* draco decoder */",r,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(n){let a=n.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,n){return r._taskLoad>n._taskLoad?-1:1});let i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function uMe(){let e,t;onmessage=function(c){let l=c.data;switch(l.type){case"init":e=l.decoderConfig,t=new Promise(function(u){e.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(e)});break;case"decode":let o=l.buffer,s=l.taskConfig;t.then(u=>{let d=u.draco,h=new d.Decoder,p=new d.DecoderBuffer;p.Init(new Int8Array(o),o.byteLength);try{let m=i(d,h,p,s),f=m.attributes.map(g=>g.array.buffer);m.index&&f.push(m.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:m},f)}catch(m){console.error(m),self.postMessage({type:"error",id:l.id,error:m.message})}finally{d.destroy(p),d.destroy(h)}});break}};function i(c,l,o,s){let u=s.attributeIDs,d=s.attributeTypes,h,p,m=l.GetEncodedGeometryType(o);if(m===c.TRIANGULAR_MESH)h=new c.Mesh,p=l.DecodeBufferToMesh(o,h);else if(m===c.POINT_CLOUD)h=new c.PointCloud,p=l.DecodeBufferToPointCloud(o,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());let f={index:null,attributes:[]};for(let g in u){let v=self[d[g]],S,x;if(s.useUniqueIDs)x=u[g],S=l.GetAttributeByUniqueId(h,x);else{if(x=l.GetAttributeId(h,c[u[g]]),x===-1)continue;S=l.GetAttribute(h,x)}f.attributes.push(n(c,l,h,g,v,S))}return m===c.TRIANGULAR_MESH&&(f.index=r(c,l,h)),c.destroy(h),f}function r(c,l,o){let s=o.num_faces()*3,u=s*4,d=c._malloc(u);l.GetTrianglesUInt32Array(o,u,d);let h=new Uint32Array(c.HEAPF32.buffer,d,s).slice();return c._free(d),{array:h,itemSize:1}}function n(c,l,o,s,u,d){let h=d.num_components(),p=o.num_points()*h,m=p*u.BYTES_PER_ELEMENT,f=a(c,u),g=c._malloc(m);l.GetAttributeDataArrayForAllPoints(o,d,f,m,g);let v=new u(c.HEAPF32.buffer,g,p).slice();return c._free(g),{name:s,array:v,itemSize:h}}function a(c,l){switch(l){case Float32Array:return c.DT_FLOAT32;case Int8Array:return c.DT_INT8;case Int16Array:return c.DT_INT16;case Int32Array:return c.DT_INT32;case Uint8Array:return c.DT_UINT8;case Uint16Array:return c.DT_UINT16;case Uint32Array:return c.DT_UINT32}}}var Dc;function dMe(){return Dc||(Dc=new cMe,Dc.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload()),Dc.decoderPending}async function hMe(e){if(Dc){let t={attributeIDs:Dc.defaultAttributeIDs,attributeTypes:Dc.defaultAttributeTypes,useUniqueIDs:!1},i;try{i=await Dc.decodeGeometry(new Int8Array(e).buffer,t)}catch(r){console.error(r)}if(i)return{index:i.index?{array:i.index.array}:void 0,attributes:Object.entries(i.attributes).map(([r,n])=>({name:r,itemSize:n.itemSize,array:n.array}))}}return null}async function pMe(e,t){let[i,r]=dU(j3.deserialize(new Uint8Array(e)));return NU(i),r.result().data}function fMe(e){let t=[];return e.scene.objects.traverse((i,r)=>{r.type==="Mesh"&&r.geometry.type==="NonParametricGeometry"&&r.geometry.data.draco!==void 0&&t.push(r)}),t}async function mMe(e){for(let t of e){let i=await hMe(t.geometry.data.draco);if(i){let r=t.geometry.data;i.index&&(r.index={array:i.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let n={};i.attributes.forEach(({name:a,array:c,itemSize:l})=>{n[a]={array:c,itemSize:l,type:"Float32Array",normalized:!1}}),r.attributes=n,r.draco=void 0}}}var gMe=class{constructor(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0],this._delay=500,this._distance=2,this._onMouseDown=e=>{let t=[e.clientX,e.clientY],i=new Date().getTime();if(this._clickCount>0){let r=t[0]-this._lastPosition[0],n=t[1]-this._lastPosition[1];Math.sqrt(r*r+n*n)>this._distance&&(this._clickCount=0)}this._lastPosition=t,this._clickCount=i-this._lastTime>this._delay?1:this._clickCount+1,this._lastTime=i},this._onMouseUp=e=>{}}start(e,t=500,i=2){this._target&&this.stop(),this.reset(),this._delay=t,this._distance=i,this._target=e,this._target.addEventListener("pointerdown",this._onMouseDown,!1),this._target.addEventListener("pointerup",this._onMouseUp,!1)}stop(){this._target&&(this._target.removeEventListener("pointerdown",this._onMouseDown,!1),this._target.removeEventListener("pointerup",this._onMouseUp,!1),this._target=void 0)}get clickCount(){return this._clickCount}reset(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0]}},vMe=class{constructor(e,t,i,r,n,a,c,l){this.eventId=e,this.id=t,this.data=i,this.dataEvent=r,this.object=n,this.stage=!1,this.actions=ur(r,i.actions,a,c,l,n)}disconnect(){Lr(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},yMe=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(i,r)=>{this.breakpoints.forEach(n=>{let a=D3.deviceToSize(n.data.size),c=n.dataEvent.orientation==="horizontal"?i:r,l;switch(n.data.operator){case"<":l=c<a[0];break;case">":l=c>a[0];break;case"<>":l=c>a[0]&&c<a[1];break}n.stage!==l&&(n.stage=l,n.stage?n.dispatchIn():n.dispatchOut())})},this.onResizeObserver=new ResizeObserver(i=>{for(let r of i){let{width:n,height:a}=r.contentRect;this.resize(n,a)}})}connect(){let{page:e,sharedAssets:t,domElement:i}=this.eventContext;this.onResizeObserver.observe(i);let r=n=>{var a;if(!(!n.visible||!((a=n.data)!=null&&a.events.length)))for(let{data:c,id:l}of n.data.events)c.disabled||c.type==="Resize"&&c.breakpoints.forEach(({data:o,id:s})=>{try{let u=new vMe(l,s,o,c,n,e,t,this.eventManager);this.breakpoints.push(u)}catch{}})};e.traverseEntity(n=>{var a;(n instanceof gn||n instanceof kr)&&((a=n.frame)==null||a.traverse(c=>{r(c)})),r(n)})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}},bMe=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.userAPIs={},this.events=[],this.onSuccess=({userAPIId:i})=>{this.events.forEach(r=>{r.data.userAPIId===i&&r.dispatchSuccess()})},this.onError=({userAPIId:i})=>{this.events.forEach(r=>{r.data.userAPIId===i&&r.dispatchError()})},this.userAPIs=e.sharedAssets.getUserAPIs()}connect(){this.eventContext.page.traverseEntity(e=>{var t;(t=e.data)==null||t.events.filter(i=>i.data.type==="API"&&!i.data.disabled).forEach(i=>{this.events.push(new xMe(i.id,i.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userAPIs).forEach(([e,t])=>{t.on("success",this.onSuccess),t.on("error",this.onError),t.autostart&&t.callUserAPI(this.eventContext.sharedAssets)})}disconnect(){Object.entries(this.userAPIs).forEach(([e,t])=>{t.off("success",this.onSuccess),t.off("error",this.onError)})}},xMe=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.successActions=ur(t,t.successActions,r,n,a,i),this.errorActions=ur(t,t.errorActions,r,n,a,i)}dispatchSuccess(){this.dispatchActions(this.successActions)}dispatchError(){this.dispatchActions(this.errorActions)}dispatchActions(e){e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}},wMe=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.userWebhooks={},this.events=[],this.onMessage=({userWebhookId:i})=>{this.events.forEach(r=>{r.data.userWebhookId===i&&r.dispatch()})},this.userWebhooks=e.sharedAssets.getUserWebhooks()}connect(){this.eventContext.page.traverseEntity(e=>{var t;(t=e.data)==null||t.events.filter(i=>i.data.type==="WEBHOOK"&&!i.data.disabled).forEach(i=>{this.events.push(new _Me(i.id,i.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userWebhooks).forEach(([e,t])=>{t.connect(),t.on("message",this.onMessage)})}disconnect(){Object.entries(this.userWebhooks).forEach(([e,t])=>{t.off("message",this.onMessage),t.disconnect()})}},_Me=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.actions=ur(t,t.actions,r,n,a,i)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}};function SMe(){let e=document.createElement("textarea");return e.style.position="fixed",e.style.top="200px",e.style.left="400px",e.style.zIndex="-1",e.style.border="1px solid rgba(255,0,0,0.5)",e.style.width="10px",e.style.height="500px",e.style.color="white",e.style.opacity="0.5",e.style.background="transparent",e.style.display="none",e.style.margin="0px",e.style.padding="0px",e.style.boxSizing="content-box",e.style.pointerEvents="none",e}var CMe=new N(0,0,1),W9=new N,q9=new N,Y9=new or,EMe=class{constructor(e,t,i,r,n){this.containerScene=e,this.raycaster=t,this.sharedAssets=i,this.requestRender=r,this.onExit=n,this.htmlInput=null,this.virtualInput=null,this.helper=new hH,this.doubleClickHandler=new gMe,this.isDragging=!1,this.plane=new Yn,this.caretInterval=0,this.planeIntersection=new N,this.projected=new re,this._lastIndex=0,this._isFirstDragMove=!1,this.selectionOnDragStart=0,this.onTextMaterialChanged=()=>{var c;let a=(c=this.virtualInput)==null?void 0:c.data;if(this.virtualInput!==void 0&&a){let l=a.material,o=typeof l=="string"?this.sharedAssets.data.materials[l]:l,s=kEe(o,this.sharedAssets);this.helper.setCaretColor(s)}},this.stopAnimateTextCursor=()=>{clearInterval(this.caretInterval),this.helper&&(this.helper.caretMesh.visible=!1)},this.startAnimateTextCursor=()=>{this.stopAnimateTextCursor(),this.helper&&(this.helper.caretMesh.visible=!0,this.caretInterval=setInterval(()=>{this.helper&&(this.helper.caretMesh.visible=!this.helper.caretMesh.visible),this.requestRender()},600))},this.handleCaretUpdate=a=>{if(!this.htmlInput||!this.virtualInput)return;let c=this.helper,l=(a==null?void 0:a.key)==="ArrowLeft"||(a==null?void 0:a.key)==="ArrowRight",o=(a==null?void 0:a.key)==="ArrowUp"||(a==null?void 0:a.key)==="ArrowDown";this.htmlInput.selectionStart===this.htmlInput.selectionEnd?(c.setCaretPosition(this.htmlInput.selectionStart,{horizontalKeyMove:l,verticalKeyMove:o}),this.startAnimateTextCursor()):c.setSelection(this.htmlInput.selectionStart,this.htmlInput.selectionEnd),this.requestRender()},this.containerScene.add(this.helper)}createInput(){return this.htmlInput=SMe(),this.htmlInput}connect(){}disconnect(){var e;this.stopAnimateTextCursor(),this.helper.hide(),(e=this.htmlInput)==null||e.remove(),this.doubleClickHandler.stop()}handleMouseDown(){var a,c;if(!this.htmlInput||!this.virtualInput)return!0;this.getPointOnPlane();let e=this.doubleClickHandler.clickCount,{index:t,lineIndex:i,characterIndex:r}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,e>1?"inside":"previous")??{index:0,lineIndex:0,characterIndex:0};(c=(a=this.virtualInput)==null?void 0:a.wrappedText)!=null&&c.length&&this.virtualInput.wrappedText[i][Math.max(0,r-1)]===`
`&&(t--,r--),this._lastIndex=t,this._isFirstDragMove=!0;let n=this.checkClickedObject();if(e===1){if(n===null)return this.onExit(this.virtualInput),!0;this.selectionOnDragStart=t,this.isDragging=!0,this.setInputSelection(t)}else n===this.virtualInput&&(e===2?this.selectClosestWord(i,r):e>2&&(this.setInputSelection(0,this.htmlInput.value.length),this.doubleClickHandler.reset()))}handleMouseUp(){this.applyRangeToTextInput(),this.isDragging=!1,this._isFirstDragMove=!1}handleMouseMove(){!this.virtualInput||(this._isFirstDragMove&&this.doubleClickHandler.clickCount>1&&(this.selectionOnDragStart=this._lastIndex,this.isDragging=!0,this.setInputSelection(this._lastIndex)),this._isFirstDragMove=!1,this.getPointOnPlane(),this.applyRangeToTextInput())}focus(e){var t;if(this.virtualInput=e,this.updateTextInputStyles(),this.htmlInput)if(e){let i=(t=this.data)==null?void 0:t.geometry.text;this.htmlInput.value=typeof i=="string"?"":(i==null?void 0:i.textValue.toString())??""}else this.htmlInput.value=""}blur(){}get data(){let{virtualInput:e}=this;if(e)return e.dataPatched}applyRangeToTextInput(){var n;if(!this.isDragging||!this.virtualInput||!this.htmlInput)return;let e=this.selectionOnDragStart,{index:t,lineIndex:i,characterIndex:r}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,this.doubleClickHandler.clickCount>2?"inside":"previous")??{index:0};i!==void 0&&r!==void 0&&((n=this.virtualInput)==null?void 0:n.wrappedText[i][r-1])===`
`&&t--,this.htmlInput.setSelectionRange(Math.min(e,t),Math.max(e,t))}checkClickedObject(){if(this.virtualInput){let e=this.raycaster.intersectObject(this.virtualInput,!1);if(e.length>0){let t=e[0];if(t.object instanceof bj)return t.object}}return null}selectClosestWord(e,t){if(!this.virtualInput)return;let i=this.virtualInput.wrappedText,r=i[e],n=t+1,a=t;r[t]!==" "&&(n=this.findNextCharOccurence(r,t,"forward"," "),a=this.findNextCharOccurence(r,t,"backward"," "),a>0&&a++,n>=r.length-1&&e===i.length-1&&n++);let c=this.helper,l=c.getGlobalIndexFromLineAndCharIndexes(i,e,a),o=c.getGlobalIndexFromLineAndCharIndexes(i,e,n);this.setInputSelection(l,o)}findNextCharOccurence(e,t,i,r=" "){let n=Math.max(0,e.length-1),a=i==="forward"?n:0,c=i==="forward"?1:-1,l=Math.max(Math.min(t,n),0);for(;l!==a;)if(l+=c,e.charAt(l)===r)return l;return a}getPointOnPlane(){var t;let e=(t=this.virtualInput)==null?void 0:t.data;if(!(!this.virtualInput||!e)&&this.raycaster.ray.intersectsPlane(this.plane)){this.planeIntersection===null&&(this.planeIntersection=new N);let i=this.raycaster.ray.intersectPlane(this.plane,this.planeIntersection);if(i){this.planeIntersection.copy(this.virtualInput.worldToLocal(i));let r=typeof e.geometry.width=="number"?e.geometry.width:1,n=typeof e.geometry.height=="number"?e.geometry.height:1;this.projected.set(i.x+r*.5,i.y-n*.5)}}}updatePlane(){var t;let e=(t=this.virtualInput)==null?void 0:t.data;this.virtualInput&&e&&(Y9.getNormalMatrix(this.virtualInput.matrixWorld),W9.copy(CMe).applyMatrix3(Y9).normalize(),this.virtualInput.localToWorld(q9.set(0,0,e.geometry.depth)),this.plane.setFromNormalAndCoplanarPoint(W9,q9))}setInputSelection(e,t=e){var i;(i=this.htmlInput)==null||i.setSelectionRange(e,t),setTimeout(()=>{var r;(r=this.htmlInput)==null||r.focus()})}updateTextInputStyles(){var t;let e=(t=this.virtualInput)==null?void 0:t.data;this.virtualInput&&e&&this.htmlInput&&(this.htmlInput.style.fontSize=e.geometry.fontSize+"px",this.htmlInput.style.letterSpacing=e.geometry.letterSpacing*e.geometry.fontSize+"px",this.htmlInput.style.lineHeight=e.geometry.fontSize*e.geometry.lineHeight+"px",this.htmlInput.style.width=e.geometry.width+"px",this.htmlInput.style.height=e.geometry.height+"px",this.htmlInput.style.textAlign=TMe(e.geometry.horizontalAlign))}};function TMe(e){return e===4?"justify":e===2?"right":e===3?"center":"left"}var TG=(e,t)=>{if(typeof e=="string"){let i=t.data(e);if(i)return TG(i.value,t)}return Zr.getDisplayedValue(e)};function K9(e,t){let i=e.text,r="";if(typeof i=="string"){let n=t.variables.data(r);n&&(r=TG(n.value,t.variables))}else r=i.textValue.toString();return r}var AMe=class extends _n{constructor(e,t){super(e),this.eventManager=t,this._textInputs=[],this.sceneHelpers=new ra,this.helper=new hH,this._onMouseDownFocusIn=i=>{if(ht.length>1)return;this.eventContext.updateRaycaster(i);let r=null;if(this.eventContext.raycaster){for(let n of this._textInputs)if(this.eventContext.raycaster.intersectObject(n,!0).length>0){r=n;break}}this.focusOnTextInput(r),this._onCaretUpdate(),this._onMouseUp(),this.textInputManager.doubleClickHandler.start(this.eventContext.domElement),this.textInputManager.doubleClickHandler._onMouseDown(i),this._onMouseDown(i)},this.onExit=()=>{let{virtualInput:i}=this.textInputManager;if(i===null)return;let r=this.textInputManager.htmlInput;this.helper.hide(),r==null||r.setSelectionRange(r.value.length,r.value.length),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0);let{domElement:n}=this.eventContext;n.removeEventListener("pointerdown",this._onMouseDown,!1),n.removeEventListener("pointerup",this._onMouseUp,!1),n.removeEventListener("pointermove",this._onMouseMove,!1),window.removeEventListener("keydown",this._onKeyPress),this.textInputManager.doubleClickHandler.reset(),n.addEventListener("pointerdown",this._onMouseDownFocusIn),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers()},this._onMouseDown=i=>{this.eventContext.updateRaycaster(i),this.textInputManager.handleMouseDown(),this.textInputManager.virtualInput&&this.eventContext.raycaster.intersectObject(this.textInputManager.virtualInput,!0).length>0&&this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1)},this._onMouseUp=()=>{this.textInputManager.handleMouseUp(),this.eventManager.controlsManager.orbitControls&&!this.eventManager.controlsManager.orbitControls.enabled&&(this.eventManager.controlsManager.orbitControls.enabled=!0)},this._onMouseMove=i=>{this.eventContext.updateRaycaster(i),this.textInputManager.handleMouseMove()},this._onTextEdit=i=>{let{htmlInput:r,virtualInput:n,helper:a}=this.textInputManager;if(!r||!n)return;let c=r.value;n.textGeometry.setText(c).then(()=>{this.eventContext.requestRender()});let l=n.data;a.update();let o=l.geometry.text;if(typeof o=="string"){let s=o;this.eventContext.sharedAssets.updateVariable(s,{textValue:c})}this.textInputManager.updateTextInputStyles(),this._onCaretUpdate()},this._onCaretUpdate=i=>{this.textInputManager.handleCaretUpdate(i)},this._onKeyPress=i=>{i.key==="Escape"&&this.onExit()},this.textInputManager=new EMe(this.sceneHelpers,e.raycaster,e.sharedAssets,e.requestRender,this.onExit)}connect(){let e=[];if(this.eventContext.scene.traverseEntity(r=>{r instanceof bj&&e.push(r)}),this._textInputs=e,e.length===0)return;let{domElement:t}=this.eventContext;t.addEventListener("pointerdown",this._onMouseDownFocusIn),this.textInputManager.connect();let i=this.textInputManager.createInput();document.body.appendChild(i),i.style.display="none",i.addEventListener("keyup",this._onCaretUpdate),i.addEventListener("keydown",this._onCaretUpdate),i.addEventListener("beforeinput",this._onCaretUpdate),i.addEventListener("paste",this._onCaretUpdate),i.addEventListener("cut",this._onCaretUpdate),i.addEventListener("select",this._onCaretUpdate),i.addEventListener("selectstart",this._onCaretUpdate)}disconnect(){let e=this.textInputManager.htmlInput,{domElement:t}=this.eventContext;t.removeEventListener("pointerdown",this._onMouseDownFocusIn),e==null||e.removeEventListener("keyup",this._onCaretUpdate),e==null||e.removeEventListener("keydown",this._onCaretUpdate),e==null||e.removeEventListener("beforeinput",this._onCaretUpdate),e==null||e.removeEventListener("paste",this._onCaretUpdate),e==null||e.removeEventListener("cut",this._onCaretUpdate),e==null||e.removeEventListener("select",this._onCaretUpdate),e==null||e.removeEventListener("selectstart",this._onCaretUpdate),this._textInputs.forEach(i=>{let r=K9(i.data.geometry,this.eventContext.sharedAssets.data);i.textGeometry.setText(r)}),t.removeEventListener("pointerdown",this._onMouseDown,!1),t.removeEventListener("pointerup",this._onMouseUp,!1),t.removeEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers(),this.textInputManager.disconnect()}focusOnTextInput(e){this.textInputManager.focus(e),this.textInputManager.onTextMaterialChanged();let t=this.textInputManager.htmlInput;if(!t||e===null)return;this.textInputManager.updateTextInputStyles(),this.eventContext.renderer.sceneHelpersOnTop=this.sceneHelpers,this.eventContext.renderer.pipeline.enableHelpers(),this.textInputManager.isDragging=!1;let i=K9(e.textGeometry.userData.parameters,this.eventContext.sharedAssets.data);t.value=i,t.setSelectionRange(0,0),this.textInputManager.helper.show(e),t.style.display="block",t.addEventListener("input",this._onTextEdit),this.textInputManager.updatePlane();let{domElement:r}=this.eventContext;r.removeEventListener("pointerdown",this._onMouseDownFocusIn),r.addEventListener("pointerdown",this._onMouseDown,!1),r.addEventListener("pointerup",this._onMouseUp,!1),r.addEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress)}},MMe=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.onVoice=({value:i,frequencies:r})=>{this.events.forEach(n=>{n.dispatch()})}}connect(){this.openAIRealtime=this.eventContext.sharedAssets.openAIRealtime,this.openAIRealtime&&(this.eventContext.page.traverseEntity(e=>{var t;(t=e.data)==null||t.events.filter(i=>i.data.type==="AIAssistantListener"&&!i.data.disabled).forEach(i=>{this.events.push(new jMe(i.id,i.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.openAIRealtime.on("voice",this.onVoice))}disconnect(){var e;(e=this.openAIRealtime)==null||e.off("voice",this.onVoice)}},jMe=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.actions=ur(t,t.actions,r,n,a,i)}dispatch(){this.dispatchActions(this.actions)}dispatchActions(e){e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}},IMe=class extends _n{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.onTriggerEvent=({description:i,direction:r})=>{let n=this.events.find(a=>a.data.description===i);n&&(r==="backward"?n.dispatchReverse():n.dispatch())}}connect(){this.openAIRealtime=this.eventContext.sharedAssets.openAIRealtime,this.openAIRealtime&&(this.eventContext.page.traverseEntity(e=>{var t;(t=e.data)==null||t.events.filter(i=>i.data.type==="AIAssistantTrigger"&&!i.data.disabled).forEach(i=>{this.events.push(new PMe(i.id,i.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.openAIRealtime.on("trigger_event",this.onTriggerEvent))}disconnect(){var e;(e=this.openAIRealtime)==null||e.off("trigger_event",this.onTriggerEvent)}},PMe=class{constructor(e,t,i,r,n,a){this.id=e,this.data=t,this.object=i,this.actions=ur(t,t.actions,r,n,a,i)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}dispatchReverse(){let e=this.actions;e.Transition.forEach(t=>t.reverseFromCurrent()),e.Particles.forEach(t=>t.reverseFromCurrent()),e.Animation.forEach(t=>t.reverseFromCurrent()),e.SwitchCamera.forEach(t=>t.reverseFromCurrent()),e.Create.forEach(t=>t.dispatchStop())}},kMe=class{constructor(e,t,i,r,n){this.publish=e,this.controlsManager=t,this.animationControls=i,this.eventContext=r,this.sharedVariables=n,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=a=>{let c=window.parent!==window,l=document.documentElement.scrollHeight>document.documentElement.clientHeight||document.documentElement.scrollWidth>document.documentElement.clientWidth;(a.touches.length>1||this.preventTouchScroll||c===!1&&l===!1)&&a.preventDefault()},this.onMouseWheelPreventScroll=a=>{this.preventScroll&&a.preventDefault()},this.onMouseMove=a=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(a),pressed:a.buttons>0}},this.onMouseDown=a=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(a),pressed:!0}},this.onMouseUp=a=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(a),pressed:!1}},this.getMousePosition=a=>{var s;let{domRect:c}=this.eventContext,{pageX:l,pageY:o}=((s=a.touches)==null?void 0:s.length)>0?a.touches[0]:a;return{x:l-(c.left+window.scrollX),y:o-(c.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=r.requestRender}activate(e=!1){var r,n;if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new a4e(this.eventContext),VariableChange:new L4e(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),API:new bMe(this.eventContext,this),WEBHOOK:new wMe(this.eventContext,this),AIAssistantListener:new MMe(this.eventContext,this),AIAssistantTrigger:new IMe(this.eventContext,this),Conditional:new h4e(this.eventContext,this),Start:new R4e(this.eventContext,this),Basic:new s4e(this.eventContext,this,this.needsRaycast),MouseHover:new I4e(this.eventContext,this),Scroll:new D4e(this.eventContext,this),Follow:new _4e(this.eventContext,this),DragDrop:new v4e(this.eventContext,this),LookAt:new A4e(this.eventContext),Resize:new yMe(this.eventContext,this),Textfields:new AMe(this.eventContext,this)};let{page:t,domElement:i}=this.eventContext;this.hideCursor&&(i.style.cursor="none"),t.traverseEntity(a=>{a.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(a=>a.connect()),i.addEventListener("wheel",this.onMouseWheelPreventScroll),i.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++,e||((r=this.eventContext.sharedAssets.openAIRealtime)==null||r.connect(),(n=this.eventContext.sharedAssets.openAIRealtime)==null||n.start())}deactivate(e=!1){var r;if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:t,domElement:i}=this.eventContext;if(i.style.cursor="",Object.values(this.handlers).forEach(n=>n.disconnect()),(r=this.controlsManager.gameControl)==null||r.disposeActions(),this.controlsManager.disconnectEvents(),t.traverseEntity(n=>{n.removeEventListener("requestRender",this.requestRender),n.destroyedInAction=!1}),i.removeEventListener("touchmove",this.onTouchMovePreventScroll),i.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode(),!e){let n=this.eventContext.sharedAssets.openAIRealtime;n==null||n.disconnect(),n==null||n.stop().then(()=>{n==null||n.disconnect()})}}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(!0),this.activate(!0),this.controlsManager.deactivate(),this.controlsManager.activate(this),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=i=>{if(i.data.type==="Conditional"&&(i.data.ifActions.forEach(t),i.data.elseActions.forEach(t)),i.data.type==="Conditional"||i.data.type==="SetVariable")for(let r of i.data.type==="Conditional"?i.data.condition:i.data.expression)"id"in r&&Array.isArray(r.id)&&(r.id[0]==="mouse"&&(this.needsMouse=!0),r.id[0]==="raycast"&&(this.needsRaycast=!0));i.data.type==="DynamicVariablePlay"&&i.data.variableId!==""&&(i.data.mode==="Play"||i.data.mode==="PlayPause"||i.data.mode==="Toggle")&&e.setDynamicVariablePlayState(i.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(i=>{var r;if((r=i.data)!=null&&r.events.length)for(let n of i.data.events)if(n.data.type==="VariableChange"&&(n.data.variableId==="mouseProperty"&&(this.needsMouse=!0),n.data.variableId==="raycastProperty"&&(this.needsRaycast=!0)),n.data.type==="Conditional")for(let a of["inActions","outActions"])n.data[a].forEach(t);else if(n.data.type==="DragDrop")for(let a of["drag","drop"])n.data.dragDropActions[a].forEach(t);else if(n.data.type==="GameControl")for(let a of["idle","move","jump","run"])n.data.gameActions[a].forEach(t);else if(n.data.type==="Resize")for(let a of n.data.breakpoints)a.data.actions.forEach(t);else n.data.type==="LookAt"||n.data.type==="API"||n.data.actions.forEach(t)})}},DMe=class{constructor(e,t,i,r,n){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=new re().copy(i),this._editorSize=new re().copy(r),this._aspect=t.aspect,this._fov=n??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||this._camera.cameraType!=="PerspectiveCamera")return;let e=this._frameSize.x,t=this._frameSize.y,i=this._editorSize.y;this._aspect=e/t,t<=i&&(this._camera.zoom*=i/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if(this._camera.cameraType==="PerspectiveCamera"){let t=this._frameSize.y,i=this._editorSize.y,r=this._fov;if(e&&t>i){let n=OMe(t,1080,2160,1,15)/100;r*=t/i,r*=1-n}this._camera.aspect=this._aspect,this._camera.fov=r,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}};function OMe(e,t,i,r,n){return(e-t)/(i-t)*(n-r)+r}var RMe=class{get sharedAssets(){return this.shared}constructor(e,t={},i=!0){this.shared=new lj(e.shared,t,!0,i),this.scene=new _j(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof kr&&!e.uiScene&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof sr&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}},NMe=class{constructor({x:e=10,y:t=10}){this._startTime=0;let i=document.getElementById("spe-perfs");i?this.element=i:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){var e;(e=this.element.parentElement)==null||e.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}};function LMe(e){let t;if(e.index)for(let i=0;i<e.index.array.length;i+=3)t=e.index.array[i],e.index.array[i]=e.index.array[i+2],e.index.array[i+2]=t}function fg(e){return e instanceof pv?"SubdivObject":e.geometry.type==="NonParametricGeometry"?"NonParametric":"Mesh"}function zMe(e,t){let i={};return e.traverseEntity(r=>{var o;if(!r.visible||!(r instanceof zn)||r.type!=="Mesh"||Array.isArray(r.material)||r.states&&Object.keys(r.states).length)return;let n=r.parent;for(;n;){if(n instanceof zn&&r.states&&Object.keys(r.states).length)return;n=n.parent}let a=r.material.uuid,c=t.shared.materials[a];if(c){if(!Rr.isMergable(c))return}else{let s=(o=t.scene.objects.get(r.uuid))==null?void 0:o.data;if(s&&"material"in s&&typeof s.material!="string"){if(!Rr.isMergable(s.material))return;a=Rr.getHash(s.material)}}i[a]||(i[a]={});let l=i[a][fg(r)];if(l){if(l.push(r),r.cloner)for(let s of r.cloner.children)l.push(s)}else if(i[a][fg(r)]=[r],r.cloner)for(let s of r.cloner.children)i[a][fg(r)].push(s)}),i}function BMe(e){let t=0;return Object.values(e).forEach(i=>{Object.values(i).forEach(r=>{let n=r.length;n>t&&(t=n)})}),t}function FMe(e,t){let i=zMe(t,e),r=BMe(i),n=new Array(r),a=0,c=new Array(r),l=0,o=new Array(r),s=0,u=new Array(r),d=0;for(let[h,p]of Object.entries(i))for(let m of Object.values(p)){if(l=0,s=0,m.forEach(g=>{g instanceof zn&&(c[l++]=g.geometry.clone(),o[s++]=g)}),s<2)continue;for(let g=0;g<s;g++)o[g].updateWorldMatrix(!0,!1),c[g].applyMatrix4(o[g].matrixWorld),o[g].matrixWorld.determinant()<0&&LMe(c[g]);let f=nd(c.slice(0,l),!1);if(f){let g;switch(h){case"SubdivObject":{console.warn("Turning subdiv object into mesh"),g=new gi(f,o[0].material);break}default:{g=new gi(f,o[0].material);break}}g.castShadow=o[0].castShadow,g.receiveShadow=o[0].receiveShadow,t.add(g);let v=S=>{d=0;for(let x of S)x.children&&v(x.children),x instanceof zn&&(Array.isArray(x.material)||i[x.material.uuid]&&i[x.material.uuid][fg(x)]&&i[x.material.uuid][fg(x)].length>1||(u[d++]=x));for(let x=0;x<d;x++)t.attach(u[x])};for(let S=0;S<s;S++){let x=o[S];v(x.children),n[a++]=x}}}for(let h=0;h<a;h++)n[h].removeFromParent()}var UMe=pu(Ire(),1),VMe=new re;function HMe(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)}var GMe=class{constructor(e,{renderOnDemand:t,renderMode:i="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=r=>{var n,a,c,l,o,s,u,d,h,p,m,f,g;if(this.time=r,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,(n=this._perfs)==null||n.start(),!this._renderer){(a=this._perfs)==null||a.end();return}if(!this._isPaused&&(this.renderMode==="manual"&&!this._renderRequested||this.renderMode==="auto"&&this._skipRender)){(c=this._perfs)==null||c.end();return}if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&((l=this._eventManager.handlers)!=null&&l.Start.hasVideoAction||(o=this._eventManager.handlers)!=null&&o.Basic.hasVideoAction||(s=this._eventManager.handlers)!=null&&s.Conditional.hasVideoAction)&&(this._skipRender=!1),(u=this._animationControls)==null||u.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,(d=this._scene)==null||d.traverseVisibleEntity(v=>{v.type==="ParticleSystem"&&(v.update(this.dt),this._skipRender=!1)}),this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),(h=this._eventManager)!=null&&h.isEnabled&&(((p=this._eventManager.handlers)==null?void 0:p.Follow).onAnimationFrameDamping(),((m=this._eventManager.handlers)==null?void 0:m.LookAt).onAnimationFrameDamping(),((f=this._eventManager.handlers)==null?void 0:f.DragDrop).onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let v=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=v,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),(g=this._perfs)==null||g.end()},this._resize=r=>{var n,a,c,l,o,s,u,d,h,p;if(this._renderer){if(this._viewportMode===1&&this._frameView&&(this._frameView.frameSize=VMe.set(this._viewportWidth,this._viewportHeight)),r){let m=this._viewportWidth,f=this._viewportHeight;this._renderer.setSize(m-1,f-1,!1),this._renderer.setSize(m,f,!1)}else this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1);if(this._camera=(n=this._scene)==null?void 0:n.activeCamera,(u=this._scene)==null||u.updateViewPlaneSize(((c=(a=this._frameView)==null?void 0:a.frameSize)==null?void 0:c.x)??this._viewportWidth,((o=(l=this._frameView)==null?void 0:l.frameSize)==null?void 0:o.y)??this._viewportHeight,((s=this._frameView)==null?void 0:s.enableResponsive)??!1),this._camera){let m=Object.values(((d=this._data)==null?void 0:d.frames)??{})[0].preset??"fullscreen";(h=this._frameView)==null||h.setCamera(this._camera),(p=this._frameView)==null||p.updateCamera(m!=="fullscreen"),this._camera.cameraType==="PerspectiveCamera"&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=tv(this._resize,10),this._onScroll=r=>{this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect())},this.canvas=e,this.renderMode=t?"auto":i,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new NMe({x:10,y:10})),jye(e)}async load(e,t,i){HMe(e),this.disposed=!1;let r=await(await fetch(e,i)).arrayBuffer();await this.start(r,{variables:t})}async start(e,{interactive:t=!0,variables:i}={}){var o,s,u,d;if(this.disposed)return;let r=await pMe(e);this._data=r;let n=fMe(r);r.version&&(0,UMe.default)(r.version,"1.9.67")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),await Promise.all([n.length&&dMe(),yO(r)&&D2e(),Y_e(r)&&j2e(),ov.physicsEnabled(r.scene.objects)&&Oye(),pO(r)&&f_e(),KO(r)&&nTe(),h_e(r)&&d_e(),BO(r)&&GEe(),X4e(r)&&kye()].filter(Boolean)),n.length&&await mMe(n),(o=this._eventManager)==null||o.deactivate(),(s=this._controls)==null||s.deactivate(),(u=this._scene)==null||u.dispose();let a=new RMe(r);if(a.resetPersonalCameraFromDocumentData(),this._scene=a.scene,this._sharedAssetsManager=a.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let h=performance.now();FMe(r,a.scene);let p=performance.now();console.log("Merged geometries in ",p-h," ms")}yO(r)&&this._scene.traverse(h=>{gl(h)&&h.recomputeBoolean()}),this._sharedAssetsManager.setRequestRender(()=>{var h;this._requestRenderAutoMode(),(h=this._scene)==null||h.traverse(p=>{p instanceof Ba&&p.pendingMediaLoad&&p.update()})}),(d=this._scene)==null||d.traverse(h=>{h.type==="ParticleSystem"&&(h.wakeUp(),h.data.autoPlay?h.start():h.stop())});let c=Object.keys(r.shared.fonts).map(h=>this._sharedAssetsManager.getFont(h).loadingPromise);if(Promise.all(c).then(()=>{a.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()}),pO(r)&&aMe(r)&&await Promise.all(c),BO(r)){let h=[];this._scene.traverseEntity(p=>{(p instanceof gn||p instanceof kr)&&p.uiCanvas&&h.push(p.uiCanvas)}),await Promise.all(h.map(p=>p.promise))}if(this._scene.rewriteEventsBeforeGoToPlayMode(),Rj(this._scene.activePage,this._sharedAssetsManager),!this._renderer&&(this._renderer=new IEe({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=r.scene.publish.hdTransmission===!0,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.enableUIOverlay(),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode),r.shared.images.SplineWatermark)){let h=this._sharedAssetsManager.getImage("SplineWatermark");await h.loadPromise;let p=h.getTexture(1001);this._renderer.pipeline.setWatermark(p)}KO(r)&&this._scene.initializeSplatViewer(),r.scene.blueNoiseTextureData!==void 0&&this._renderer.pipeline.updateBlueNoiseTexture(r.scene.blueNoiseTextureData);let l=Object.values(r.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):(l.preset==="fullscreen"?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=l.size[0],this._viewportHeight=l.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new DMe(this._renderer,this._camera,new re(this._viewportWidth,this._viewportHeight),new re(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=(l.allowResponsive??!1)&&l.preset==="fullscreen"),t){let h=new r4e(this._renderer,this.data.scene.publish,this._scene,()=>this._scene.activeCamera,this._sharedAssetsManager,this._requestRenderAutoMode,!0,l);this._scene.updateMatrixWorld(!0),this._controls=new oMe(h),this._animationControls=new lMe(this._scene,this._requestRenderAutoMode),this._eventManager=new kMe(r.scene.publish,this._controls,this._animationControls,h,r.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),this._scene.activePage.data.postprocessing.depthOfField.enabled&&Promise.all(this._sharedAssetsManager.getImageLoadPromises()).then(()=>{this._resize(!0)}),i!==void 0&&this.setVariables(i),this.dt===0&&(this.render(performance.now()),setTimeout(()=>{var h;(h=this._renderer)==null||h.setAnimationLoop(this.render)},0)),this._resizeObserverTimeout=setTimeout(()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver(()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()}),this._resizeObserver.observe(this.canvas.parentElement))},300),document.addEventListener("scroll",this._onScroll)}setVariables(e){if(this._data!==void 0){let t=Object.entries(e);for(let[i,r]of t)this.setVariable(i,r)}}setVariable(e,t){var r;let i=this._getVariableByName(e);if(i&&!("dynamicVariableType"in i.data)){let n=t;typeof i.data.value=="number"?n=typeof t=="number"?t:typeof t=="boolean"?t===!0?1:0:parseFloat(t):typeof i.data.value=="boolean"?n=typeof t=="number"?!!t:typeof t=="boolean"?t:t.toLocaleLowerCase()==="false"?!1:!!t:typeof i.data.value!="string"&&i.data.value.textValue!==void 0&&(n=t.toString());let a=typeof n=="string"?{textValue:n}:n;(r=this._sharedAssetsManager)==null||r.updateVariable(i.id,a),this.requestRender(),this._requestRenderAutoMode()}else i===void 0?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in i.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{e[t.data.name]===void 0&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let i=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(i)}}_getVariableValue(e){return typeof e!="string"&&Zr.isTextValue(e)?Zr.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(i=>i.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){var i;let t=(i=this._scene)==null?void 0:i.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){var i;let t=(i=this._scene)==null?void 0:i.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){var t;let e=[];return(t=this._scene)==null||t.traverseEntity(i=>{if(i.uuid!==jf&&!this._scene.isInvisibleObjects(i)&&!(i instanceof kr)){let r=this._createProxyObject(i);r&&e.push(r)}}),e}getSplineEvents(){var e,t;return((t=(e=this._eventManager)==null?void 0:e.handlers)==null?void 0:t.Spline).splineEvents}emitEvent(e,t){var i;(i=this.findObjectById(t)||this.findObjectByName(t))==null||i.emitEvent(e)}emitEventReverse(e,t){var i;(i=this.findObjectById(t)||this.findObjectByName(t))==null||i.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){var t,i;((t=this._controls)==null?void 0:t.orbitControls)instanceof EG&&((i=this._controls)==null||i.orbitControls.setZoom(e))}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){var c;let{r:t,g:i,b:r,a:n}={r:0,g:0,b:0,a:1},a=new rn(t,i,r,n);try{a.setStyle(e)}catch{console.error("This is not a valid css color",e)}(c=this._scene)==null||c.activePage.setBackgroundColor(a),this._requestRenderAutoMode()}dispose(){var e,t,i,r,n,a,c;this.disposed=!0,(e=this._eventManager)==null||e.deactivate(),(t=this._scene)==null||t.dispose(),(i=this._sharedAssetsManager)==null||i.dispose(),this._proxyObjectCache.forEach(l=>{yD.unsubscribe(l)}),this._variablesCache.clear(),(r=this._renderer)==null||r.setAnimationLoop(null),(n=this._renderer)==null||n.dispose(),this._renderer=void 0,(a=this._sharedAssetsManager)==null||a.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this._resizeObserverTimeout!==void 0&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),(c=this._controls)==null||c.deactivate(),this.dt=0,Iye(this.canvas),document.removeEventListener("scroll",this._onScroll)}get isStopped(){return this._isPaused}stop(){var e,t,i;this._isPaused||((e=this._renderer)==null||e.setAnimationLoop(null),this._isPaused=!0,(t=this._eventManager)==null||t.pause(),(i=this._controls)!=null&&i.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){var e,t,i;!this._isPaused||(this._isPaused=!1,(e=this._eventManager)==null||e.resume(),(t=this._controls)!=null&&t.orbitControls&&(this._controls.orbitControls.enabled=!0),(i=this._renderer)==null||i.setAnimationLoop(this.render))}setGlobalEvents(e){var t;(t=this._eventManager)==null||t.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){var n;if(e==null)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(a=>{a instanceof kr&&(t=a.name)});let i={name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof kr||e instanceof _j||(n=e.parent)==null?void 0:n.uuid,emitEvent(a){e.dispatchEvent({type:"userEvent",eventName:a})},emitEventReverse(a){e.dispatchEvent({type:"userEvent",eventName:a,reverse:!0})}},r=yD(i,(a,c)=>{var l;typeof e[a]!="object"&&((l=Object.getOwnPropertyDescriptor(e,a))!=null&&l.writable)&&(e[a]=c),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,r),r}setUIWasmUrl(e){GV.skiaWasmUrl=e}},i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iA={},WMe={get exports(){return iA},set exports(e){iA=e}},xm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X9;function qMe(){if(X9)return xm;X9=1;var e=Mi,t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(l,o,s){var u,d={},h=null,p=null;s!==void 0&&(h=""+s),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(p=o.ref);for(u in o)r.call(o,u)&&!a.hasOwnProperty(u)&&(d[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)d[u]===void 0&&(d[u]=o[u]);return{$$typeof:t,type:l,key:h,ref:p,props:d,_owner:n.current}}return xm.Fragment=i,xm.jsx=c,xm.jsxs=c,xm}(function(e){e.exports=qMe()})(WMe);const rA=iA.jsx;var YMe="Expected a function",J9=NaN,KMe="[object Symbol]",XMe=/^\s+|\s+$/g,JMe=/^[-+]0x[0-9a-f]+$/i,QMe=/^0b[01]+$/i,$Me=/^0o[0-7]+$/i,ZMe=parseInt,eje=typeof i1=="object"&&i1&&i1.Object===Object&&i1,tje=typeof self=="object"&&self&&self.Object===Object&&self,ije=eje||tje||Function("return this")(),rje=Object.prototype,nje=rje.toString,aje=Math.max,oje=Math.min,TC=function(){return ije.Date.now()};function sje(e,t,i){var r,n,a,c,l,o,s=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(YMe);t=Q9(t)||0,nA(i)&&(u=!!i.leading,d="maxWait"in i,a=d?aje(Q9(i.maxWait)||0,t):a,h="trailing"in i?!!i.trailing:h);function p(w){var C=r,E=n;return r=n=void 0,s=w,c=e.apply(E,C),c}function m(w){return s=w,l=setTimeout(v,t),u?p(w):c}function f(w){var C=w-o,E=w-s,A=t-C;return d?oje(A,a-E):A}function g(w){var C=w-o,E=w-s;return o===void 0||C>=t||C<0||d&&E>=a}function v(){var w=TC();if(g(w))return S(w);l=setTimeout(v,f(w))}function S(w){return l=void 0,h&&r?p(w):(r=n=void 0,c)}function x(){l!==void 0&&clearTimeout(l),s=0,r=o=n=l=void 0}function b(){return l===void 0?c:S(TC())}function _(){var w=TC(),C=g(w);if(r=arguments,n=this,o=w,C){if(l===void 0)return m(o);if(d)return l=setTimeout(v,t),p(o)}return l===void 0&&(l=setTimeout(v,t)),c}return _.cancel=x,_.flush=b,_}function nA(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function lje(e){return!!e&&typeof e=="object"}function cje(e){return typeof e=="symbol"||lje(e)&&nje.call(e)==KMe}function Q9(e){if(typeof e=="number")return e;if(cje(e))return J9;if(nA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(XMe,"");var i=QMe.test(e);return i||$Me.test(e)?ZMe(e.slice(2),i?2:8):JMe.test(e)?J9:+e}var uje=sje;function dje(e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}const hje=[],pje={width:"100%",height:"100%"},fje=z.forwardRef(function({className:e,children:t,debounceTime:i=300,ignoreDimensions:r=hje,parentSizeStyles:n,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:c,...l},o){const s=z.useRef(null),u=z.useRef(0),[d,h]=z.useState({width:0,height:0,top:0,left:0}),p=z.useMemo(()=>{const m=Array.isArray(r)?r:[r];return uje(f=>{h(g=>Object.keys(g).filter(v=>g[v]!==f[v]).every(v=>m.includes(v))?g:f)},i,{leading:a})},[i,a,r]);return z.useEffect(()=>{const m=c||window.ResizeObserver,f=new m(g=>{g.forEach(v=>{const{left:S,top:x,width:b,height:_}=(v==null?void 0:v.contentRect)??{};u.current=window.requestAnimationFrame(()=>{p({width:b,height:_,top:x,left:S})})})});return s.current&&f.observe(s.current),()=>{window.cancelAnimationFrame(u.current),f.disconnect(),p.cancel()}},[p,c]),rA("div",{style:{...pje,...n},ref:dje([o,s]),className:e,...l,children:t({...d,ref:s.current,resize:p})})});z.forwardRef(({scene:e,style:t,onMouseDown:i,onMouseUp:r,onMouseHover:n,onKeyDown:a,onKeyUp:c,onStart:l,onLookAt:o,onFollow:s,onWheel:u,onLoad:d,renderOnDemand:h=!0,...p},m)=>{const f=z.useRef(null),[g,v]=z.useState(!0);return z.useEffect(()=>{v(!0);let S;const x=[{name:"mouseDown",cb:i},{name:"mouseUp",cb:r},{name:"mouseHover",cb:n},{name:"keyDown",cb:a},{name:"keyUp",cb:c},{name:"start",cb:l},{name:"lookAt",cb:o},{name:"follow",cb:s},{name:"scroll",cb:u}];if(f.current){S=new GMe(f.current,{renderOnDemand:h});async function b(){await S.load(e);for(let _ of x)_.cb&&S.addEventListener(_.name,_.cb);v(!1),d==null||d(S)}b()}return()=>{for(let b of x)b.cb&&S.removeEventListener(b.name,b.cb);S.dispose()}},[e]),rA(fje,{ref:m,parentSizeStyles:t,debounceTime:50,...p,children:()=>rA("canvas",{ref:f,style:{display:g?"none":"block"}})})});const mje=[{question:"What is Cognizance?",answer:"Cognizance is the annual technical fest of IIT Roorkee, featuring a blend of technical competitions, workshops, guest lectures, exhibitions, and entertainment nights. It brings together tech enthusiasts, innovators, and industry leaders from across the country. The 22nd edition will be held from March 21-23, 2025."},{question:"What is a Pronite?",answer:"A Pronite is an entertainment night, usually a concert by a well-renowned artist. Guru Randhawa, KK, Mohit Chauhan, Salim Sulaiman, Sunidhi Chauhan, and many more have graced the Pronites at IITR."},{question:"How to register for Cognizance 2025?",answer:"Visit our official Cognizance website and click on the register button in the top-right-hand side of the webpage. Follow the steps and fill out the details correctly."},{question:"What is included in the CLASSIC Pass?",answer:"The CLASSIC Pass includes Food & Accommodation for 3 Days/4 Nights in the IIT Roorkee campus. It also grants you access to all the Events, Guest Lectures, Exhibitions, and Pronites. It offers the best value for attendees looking to explore all that Cognizance 2025 has to offer."},{question:"How to register for Events in Cognizance 2025?",answer:"Visit the official Cognizance website and click on the Events section. Scroll through the many events that we conduct and choose your pick. Click on that event and then click on the register button. Fill out the details asked."}],gje=()=>{const[e,t]=z.useState(null),i=r=>{t(e===r?null:r)};return y.jsxs("section",{className:"faqs-container",children:[y.jsx("div",{className:"faqs-header",children:y.jsx("h2",{className:"faqs-title",children:"FAQs"})}),y.jsx("div",{className:"faqs-content",children:mje.map((r,n)=>y.jsxs("div",{className:"faq-item",children:[y.jsxs("div",{className:"faq-question",onClick:()=>i(n),children:[y.jsxs("span",{className:"faq-number",children:[n+1,"."]}),y.jsx("span",{className:"faq-text",children:r.question}),y.jsx("span",{className:"faq-toggle",children:e===n?"":"+"})]}),e===n&&y.jsx("div",{className:"faq-answer",children:r.answer})]},n))})]})},AG=z.createContext({});function Wx(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lj=z.createContext(null),vw=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function vje(e=!0){const t=z.useContext(Lj);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:n}=t,a=z.useId();z.useEffect(()=>{e&&n(a)},[e]);const c=z.useCallback(()=>e&&r&&r(a),[a,r,e]);return!i&&r?[!1,c]:[!0]}const zj=typeof window<"u",MG=zj?z.useLayoutEffect:z.useEffect,na=e=>e;let jG=na;function Bj(e){let t;return()=>(t===void 0&&(t=e()),t)}const tf=(e,t,i)=>{const r=t-e;return r===0?1:(i-e)/r},xl=e=>e*1e3,wl=e=>e/1e3,yje={useManualTiming:!1},r1=["read","resolveKeyframes","update","preRender","render","postRender"];function bje(e,t){let i=new Set,r=new Set,n=!1,a=!1;const c=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function o(u){c.has(u)&&(s.schedule(u),e()),u(l)}const s={schedule:(u,d=!1,h=!1)=>{const m=h&&n?i:r;return d&&c.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),c.delete(u)},process:u=>{if(l=u,n){a=!0;return}n=!0,[i,r]=[r,i],i.forEach(o),i.clear(),n=!1,a&&(a=!1,s.process(u))}};return s}const xje=40;function IG(e,t){let i=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>i=!0,c=r1.reduce((v,S)=>(v[S]=bje(a),v),{}),{read:l,resolveKeyframes:o,update:s,preRender:u,render:d,postRender:h}=c,p=()=>{const v=performance.now();i=!1,n.delta=r?1e3/60:Math.max(Math.min(v-n.timestamp,xje),1),n.timestamp=v,n.isProcessing=!0,l.process(n),o.process(n),s.process(n),u.process(n),d.process(n),h.process(n),n.isProcessing=!1,i&&t&&(r=!1,e(p))},m=()=>{i=!0,r=!0,n.isProcessing||e(p)};return{schedule:r1.reduce((v,S)=>{const x=c[S];return v[S]=(b,_=!1,w=!1)=>(i||m(),x.schedule(b,_,w)),v},{}),cancel:v=>{for(let S=0;S<r1.length;S++)c[r1[S]].cancel(v)},state:n,steps:c}}const{schedule:vi,cancel:ou,state:Kr,steps:AC}=IG(typeof requestAnimationFrame<"u"?requestAnimationFrame:na,!0),PG=z.createContext({strict:!1}),$9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rf={};for(const e in $9)rf[e]={isEnabled:t=>$9[e].some(i=>!!t[i])};function wje(e){for(const t in e)rf[t]={...rf[t],...e[t]}}const _je=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_je.has(e)}let kG=e=>!qx(e);function Sje(e){e&&(kG=t=>t.startsWith("on")?!qx(t):e(t))}try{Sje(require("@emotion/is-prop-valid").default)}catch{}function Cje(e,t,i){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(kG(n)||i===!0&&qx(n)||!t&&!qx(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}function Eje(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...r)=>e(...r);return new Proxy(i,{get:(r,n)=>n==="create"?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}const yw=z.createContext({});function bw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mv(e){return typeof e=="string"||Array.isArray(e)}const Fj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uj=["initial",...Fj];function xw(e){return bw(e.animate)||Uj.some(t=>mv(e[t]))}function DG(e){return!!(xw(e)||e.variants)}function Tje(e,t){if(xw(e)){const{initial:i,animate:r}=e;return{initial:i===!1||mv(i)?i:void 0,animate:mv(r)?r:void 0}}return e.inherit!==!1?t:{}}function Aje(e){const{initial:t,animate:i}=Tje(e,z.useContext(yw));return z.useMemo(()=>({initial:t,animate:i}),[Z9(t),Z9(i)])}function Z9(e){return Array.isArray(e)?e.join(" "):e}const Mje=Symbol.for("motionComponentSymbol");function ep(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jje(e,t,i){return z.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):ep(i)&&(i.current=r))},[t])}const Vj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ije="framerAppearId",OG="data-"+Vj(Ije),{schedule:Hj}=IG(queueMicrotask,!1),RG=z.createContext({});function Pje(e,t,i,r,n){var a,c;const{visualElement:l}=z.useContext(yw),o=z.useContext(PG),s=z.useContext(Lj),u=z.useContext(vw).reducedMotion,d=z.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:i,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,p=z.useContext(RG);h&&!h.projection&&n&&(h.type==="html"||h.type==="svg")&&kje(d.current,i,n,p);const m=z.useRef(!1);z.useInsertionEffect(()=>{h&&m.current&&h.update(i,s)});const f=i[OG],g=z.useRef(!!f&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,f))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,f)));return MG(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Hj.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),z.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,f)}),g.current=!1))}),h}function kje(e,t,i,r){const{layoutId:n,layout:a,drag:c,dragConstraints:l,layoutScroll:o,layoutRoot:s}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:NG(e.parent)),e.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!c||l&&ep(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:s})}function NG(e){if(e)return e.options.allowProjection!==!1?e.projection:NG(e.parent)}function Dje({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:r,Component:n}){var a,c;e&&wje(e);function l(s,u){let d;const h={...z.useContext(vw),...s,layoutId:Oje(s)},{isStatic:p}=h,m=Aje(s),f=r(s,p);if(!p&&zj){Rje();const g=Nje(h);d=g.MeasureLayout,m.visualElement=Pje(n,f,h,t,g.ProjectionNode)}return y.jsxs(yw.Provider,{value:m,children:[d&&m.visualElement?y.jsx(d,{visualElement:m.visualElement,...h}):null,i(n,s,jje(f,m.visualElement,u),f,p,m.visualElement)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${(c=(a=n.displayName)!==null&&a!==void 0?a:n.name)!==null&&c!==void 0?c:""})`}`;const o=z.forwardRef(l);return o[Mje]=n,o}function Oje({layoutId:e}){const t=z.useContext(AG).id;return t&&e!==void 0?t+"-"+e:e}function Rje(e,t){z.useContext(PG).strict}function Nje(e){const{drag:t,layout:i}=rf;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const LG=e=>t=>typeof t=="string"&&t.startsWith(e),Gj=LG("--"),Lje=LG("var(--"),Wj=e=>Lje(e)?zje.test(e.split("/*")[0].trim()):!1,zje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gv={};function Bje(e){for(const t in e)gv[t]=e[t],Gj(t)&&(gv[t].isCSSVariable=!0)}const Of=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qd=new Set(Of);function zG(e,{layout:t,layoutId:i}){return qd.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!gv[e]||e==="opacity")}const zr=e=>!!(e&&e.getVelocity),BG=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Nl=(e,t,i)=>i>t?t:i<e?e:i,Rf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vv={...Rf,transform:e=>Nl(0,1,e)},n1={...Rf,default:1},a0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),oc=a0("deg"),vs=a0("%"),yt=a0("px"),Fje=a0("vh"),Uje=a0("vw"),eR={...vs,parse:e=>vs.parse(e)/100,transform:e=>vs.transform(e*100)},Vje={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt},Hje={rotate:oc,rotateX:oc,rotateY:oc,rotateZ:oc,scale:n1,scaleX:n1,scaleY:n1,scaleZ:n1,skew:oc,skewX:oc,skewY:oc,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:vv,originX:eR,originY:eR,originZ:yt},tR={...Rf,transform:Math.round},qj={...Vje,...Hje,zIndex:tR,size:yt,fillOpacity:vv,strokeOpacity:vv,numOctaves:tR},Gje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wje=Of.length;function qje(e,t,i){let r="",n=!0;for(let a=0;a<Wje;a++){const c=Of[a],l=e[c];if(l===void 0)continue;let o=!0;if(typeof l=="number"?o=l===(c.startsWith("scale")?1:0):o=parseFloat(l)===0,!o||i){const s=BG(l,qj[c]);if(!o){n=!1;const u=Gje[c]||c;r+=`${u}(${s}) `}i&&(t[c]=s)}}return r=r.trim(),i?r=i(t,n?"":r):n&&(r="none"),r}function Yj(e,t,i){const{style:r,vars:n,transformOrigin:a}=e;let c=!1,l=!1;for(const o in t){const s=t[o];if(qd.has(o)){c=!0;continue}else if(Gj(o)){n[o]=s;continue}else{const u=BG(s,qj[o]);o.startsWith("origin")?(l=!0,a[o]=u):r[o]=u}}if(t.transform||(c||i?r.transform=qje(t,e.transform,i):r.transform&&(r.transform="none")),l){const{originX:o="50%",originY:s="50%",originZ:u=0}=a;r.transformOrigin=`${o} ${s} ${u}`}}const Kj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FG(e,t,i){for(const r in t)!zr(t[r])&&!zG(r,i)&&(e[r]=t[r])}function Yje({transformTemplate:e},t){return z.useMemo(()=>{const i=Kj();return Yj(i,t,e),Object.assign({},i.vars,i.style)},[t])}function Kje(e,t){const i=e.style||{},r={};return FG(r,i,e),Object.assign(r,Yje(e,t)),r}function Xje(e,t){const i={},r=Kje(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i}const Jje=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xj(e){return typeof e!="string"||e.includes("-")?!1:!!(Jje.indexOf(e)>-1||/[A-Z]/u.test(e))}const Qje={offset:"stroke-dashoffset",array:"stroke-dasharray"},$je={offset:"strokeDashoffset",array:"strokeDasharray"};function Zje(e,t,i=1,r=0,n=!0){e.pathLength=1;const a=n?Qje:$je;e[a.offset]=yt.transform(-r);const c=yt.transform(t),l=yt.transform(i);e[a.array]=`${c} ${l}`}function iR(e,t,i){return typeof e=="string"?e:yt.transform(t+i*e)}function eIe(e,t,i){const r=iR(t,e.x,e.width),n=iR(i,e.y,e.height);return`${r} ${n}`}function Jj(e,{attrX:t,attrY:i,attrScale:r,originX:n,originY:a,pathLength:c,pathSpacing:l=1,pathOffset:o=0,...s},u,d){if(Yj(e,s,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:m}=e;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(n!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=eIe(m,n!==void 0?n:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),i!==void 0&&(h.y=i),r!==void 0&&(h.scale=r),c!==void 0&&Zje(h,c,l,o,!1)}const UG=()=>({...Kj(),attrs:{}}),Qj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tIe(e,t,i,r){const n=z.useMemo(()=>{const a=UG();return Jj(a,t,Qj(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};FG(a,e.style,e),n.style={...a,...n.style}}return n}function iIe(e=!1){return(i,r,n,{latestValues:a},c)=>{const o=(Xj(i)?tIe:Xje)(r,a,c,i),s=Cje(r,typeof i=="string",e),u=i!==z.Fragment?{...s,...o,ref:n}:{},{children:d}=r,h=z.useMemo(()=>zr(d)?d.get():d,[d]);return z.createElement(i,{...u,children:h})}}function rR(e){const t=[{},{}];return e==null||e.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function $j(e,t,i,r){if(typeof t=="function"){const[n,a]=rR(r);t=t(i!==void 0?i:e.custom,n,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,a]=rR(r);t=t(i!==void 0?i:e.custom,n,a)}return t}const aA=e=>Array.isArray(e),rIe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),nIe=e=>aA(e)?e[e.length-1]||0:e;function U1(e){const t=zr(e)?e.get():e;return rIe(t)?t.toValue():t}function aIe({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:i},r,n,a){const c={latestValues:oIe(r,n,a,e),renderState:t()};return i&&(c.onMount=l=>i({props:r,current:l,...c}),c.onUpdate=l=>i(l)),c}const VG=e=>(t,i)=>{const r=z.useContext(yw),n=z.useContext(Lj),a=()=>aIe(e,t,r,n);return i?a():Wx(a)};function oIe(e,t,i,r){const n={},a=r(e,{});for(const h in a)n[h]=U1(a[h]);let{initial:c,animate:l}=e;const o=xw(e),s=DG(e);t&&s&&!o&&e.inherit!==!1&&(c===void 0&&(c=t.initial),l===void 0&&(l=t.animate));let u=i?i.initial===!1:!1;u=u||c===!1;const d=u?l:c;if(d&&typeof d!="boolean"&&!bw(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const m=$j(e,h[p]);if(m){const{transitionEnd:f,transition:g,...v}=m;for(const S in v){let x=v[S];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(n[S]=x)}for(const S in f)n[S]=f[S]}}}return n}function Zj(e,t,i){var r;const{style:n}=e,a={};for(const c in n)(zr(n[c])||t.style&&zr(t.style[c])||zG(c,e)||((r=i==null?void 0:i.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[c]=n[c]);return a}const sIe={useVisualState:VG({scrapeMotionValuesFromProps:Zj,createRenderState:Kj})};function HG(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function GG(e,{style:t,vars:i},r,n){Object.assign(e.style,t,n&&n.getProjectionStyles(r));for(const a in i)e.style.setProperty(a,i[a])}const WG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qG(e,t,i,r){GG(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(WG.has(n)?n:Vj(n),t.attrs[n])}function YG(e,t,i){const r=Zj(e,t,i);for(const n in e)if(zr(e[n])||zr(t[n])){const a=Of.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}const nR=["x","y","width","height","cx","cy","r"],lIe={useVisualState:VG({scrapeMotionValuesFromProps:YG,createRenderState:UG,onUpdate:({props:e,prevProps:t,current:i,renderState:r,latestValues:n})=>{if(!i)return;let a=!!e.drag;if(!a){for(const l in n)if(qd.has(l)){a=!0;break}}if(!a)return;let c=!t;if(t)for(let l=0;l<nR.length;l++){const o=nR[l];e[o]!==t[o]&&(c=!0)}c&&vi.read(()=>{HG(i,r),vi.render(()=>{Jj(r,n,Qj(i.tagName),e.transformTemplate),qG(i,r)})})}})};function cIe(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const c={...Xj(r)?lIe:sIe,preloadedFeatures:e,useRender:iIe(n),createVisualElement:t,Component:r};return Dje(c)}}function yv(e,t,i){const r=e.getProps();return $j(r,t,i!==void 0?i:r.custom,e)}const uIe=Bj(()=>window.ScrollTimeline!==void 0);class dIe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,i){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=i}attachTimeline(t,i){const r=this.animations.map(n=>{if(uIe()&&n.attachTimeline)return n.attachTimeline(t);if(typeof i=="function")return i(n)});return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let i=0;i<this.animations.length;i++)t=Math.max(t,this.animations[i].duration);return t}runAll(t){this.animations.forEach(i=>i[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hIe extends dIe{then(t,i){return Promise.all(this.animations).then(t).catch(i)}}function eI(e,t){return e?e[t]||e.default||e:void 0}const oA=2e4;function KG(e){let t=0;const i=50;let r=e.next(t);for(;!r.done&&t<oA;)t+=i,r=e.next(t);return t>=oA?1/0:t}function tI(e){return typeof e=="function"}function aR(e,t){e.timeline=t,e.onfinish=null}const iI=e=>Array.isArray(e)&&typeof e[0]=="number",pIe={linearEasing:void 0};function fIe(e,t){const i=Bj(e);return()=>{var r;return(r=pIe[t])!==null&&r!==void 0?r:i()}}const Yx=fIe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),XG=(e,t,i=10)=>{let r="";const n=Math.max(Math.round(t/i),2);for(let a=0;a<n;a++)r+=e(tf(0,n-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function JG(e){return!!(typeof e=="function"&&Yx()||!e||typeof e=="string"&&(e in sA||Yx())||iI(e)||Array.isArray(e)&&e.every(JG))}const Bm=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,sA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bm([0,.65,.55,1]),circOut:Bm([.55,0,1,.45]),backIn:Bm([.31,.01,.66,-.59]),backOut:Bm([.33,1.53,.69,.99])};function QG(e,t){if(e)return typeof e=="function"&&Yx()?XG(e,t):iI(e)?Bm(e):Array.isArray(e)?e.map(i=>QG(i,t)||sA.easeOut):sA[e]}const ho={x:!1,y:!1};function $G(){return ho.x||ho.y}function mIe(e,t,i){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let n=document;const a=(r=void 0)!==null&&r!==void 0?r:n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function ZG(e,t){const i=mIe(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[i,n,()=>r.abort()]}function oR(e){return!(e.pointerType==="touch"||$G())}function gIe(e,t,i={}){const[r,n,a]=ZG(e,i),c=l=>{if(!oR(l))return;const{target:o}=l,s=t(o,l);if(typeof s!="function"||!o)return;const u=d=>{oR(d)&&(s(d),o.removeEventListener("pointerleave",u))};o.addEventListener("pointerleave",u,n)};return r.forEach(l=>{l.addEventListener("pointerenter",c,n)}),a}const eW=(e,t)=>t?e===t?!0:eW(e,t.parentElement):!1,rI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vIe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yIe(e){return vIe.has(e.tagName)||e.tabIndex!==-1}const Fm=new WeakSet;function sR(e){return t=>{t.key==="Enter"&&e(t)}}function MC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bIe=(e,t)=>{const i=e.currentTarget;if(!i)return;const r=sR(()=>{if(Fm.has(i))return;MC(i,"down");const n=sR(()=>{MC(i,"up")}),a=()=>MC(i,"cancel");i.addEventListener("keyup",n,t),i.addEventListener("blur",a,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function lR(e){return rI(e)&&!$G()}function xIe(e,t,i={}){const[r,n,a]=ZG(e,i),c=l=>{const o=l.currentTarget;if(!lR(l)||Fm.has(o))return;Fm.add(o);const s=t(o,l),u=(p,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!lR(p)||!Fm.has(o))&&(Fm.delete(o),typeof s=="function"&&s(p,{success:m}))},d=p=>{u(p,i.useGlobalTarget||eW(o,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,n),window.addEventListener("pointercancel",h,n)};return r.forEach(l=>{!yIe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(i.useGlobalTarget?window:l).addEventListener("pointerdown",c,n),l.addEventListener("focus",s=>bIe(s,n),n)}),a}function wIe(e){return e==="x"||e==="y"?ho[e]?null:(ho[e]=!0,()=>{ho[e]=!1}):ho.x||ho.y?null:(ho.x=ho.y=!0,()=>{ho.x=ho.y=!1})}const tW=new Set(["width","height","top","left","right","bottom",...Of]);let V1;function _Ie(){V1=void 0}const ys={now:()=>(V1===void 0&&ys.set(Kr.isProcessing||yje.useManualTiming?Kr.timestamp:performance.now()),V1),set:e=>{V1=e,queueMicrotask(_Ie)}};function nI(e,t){e.indexOf(t)===-1&&e.push(t)}function aI(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class oI{constructor(){this.subscriptions=[]}add(t){return nI(this.subscriptions,t),()=>aI(this.subscriptions,t)}notify(t,i,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,i,r);else for(let a=0;a<n;a++){const c=this.subscriptions[a];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iW(e,t){return t?e*(1e3/t):0}const cR=30,SIe=e=>!isNaN(parseFloat(e));class CIe{constructor(t,i={}){this.version="12.4.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{const a=ys.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SIe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new oI);const r=this.events[t].add(i);return t==="change"?()=>{r(),vi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cR)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,cR);return iW(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nf(e,t){return new CIe(e,t)}function EIe(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,nf(i))}function TIe(e,t){const i=yv(e,t);let{transitionEnd:r={},transition:n={},...a}=i||{};a={...a,...r};for(const c in a){const l=nIe(a[c]);EIe(e,c,l)}}function AIe(e){return!!(zr(e)&&e.add)}function lA(e,t){const i=e.getValue("willChange");if(AIe(i))return i.add(t)}function rW(e){return e.props[OG]}const nW=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,MIe=1e-7,jIe=12;function IIe(e,t,i,r,n){let a,c,l=0;do c=t+(i-t)/2,a=nW(c,r,n)-e,a>0?i=c:t=c;while(Math.abs(a)>MIe&&++l<jIe);return c}function o0(e,t,i,r){if(e===t&&i===r)return na;const n=a=>IIe(a,0,1,e,i);return a=>a===0||a===1?a:nW(n(a),t,r)}const aW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oW=e=>t=>1-e(1-t),sW=o0(.33,1.53,.69,.99),sI=oW(sW),lW=aW(sI),cW=e=>(e*=2)<1?.5*sI(e):.5*(2-Math.pow(2,-10*(e-1))),lI=e=>1-Math.sin(Math.acos(e)),uW=oW(lI),dW=aW(lI),hW=e=>/^0[^.\s]+$/u.test(e);function PIe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hW(e):!0}const mg=e=>Math.round(e*1e5)/1e5,cI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kIe(e){return e==null}const DIe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uI=(e,t)=>i=>!!(typeof i=="string"&&DIe.test(i)&&i.startsWith(e)||t&&!kIe(i)&&Object.prototype.hasOwnProperty.call(i,t)),pW=(e,t,i)=>r=>{if(typeof r!="string")return r;const[n,a,c,l]=r.match(cI);return{[e]:parseFloat(n),[t]:parseFloat(a),[i]:parseFloat(c),alpha:l!==void 0?parseFloat(l):1}},OIe=e=>Nl(0,255,e),jC={...Rf,transform:e=>Math.round(OIe(e))},sd={test:uI("rgb","red"),parse:pW("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+jC.transform(e)+", "+jC.transform(t)+", "+jC.transform(i)+", "+mg(vv.transform(r))+")"};function RIe(e){let t="",i="",r="",n="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,i+=i,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const cA={test:uI("#"),parse:RIe,transform:sd.transform},tp={test:uI("hsl","hue"),parse:pW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+vs.transform(mg(t))+", "+vs.transform(mg(i))+", "+mg(vv.transform(r))+")"},hn={test:e=>sd.test(e)||cA.test(e)||tp.test(e),parse:e=>sd.test(e)?sd.parse(e):tp.test(e)?tp.parse(e):cA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?sd.transform(e):tp.transform(e)},NIe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LIe(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cI))===null||t===void 0?void 0:t.length)||0)+(((i=e.match(NIe))===null||i===void 0?void 0:i.length)||0)>0}const fW="number",mW="color",zIe="var",BIe="var(",uR="${}",FIe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bv(e){const t=e.toString(),i=[],r={color:[],number:[],var:[]},n=[];let a=0;const l=t.replace(FIe,o=>(hn.test(o)?(r.color.push(a),n.push(mW),i.push(hn.parse(o))):o.startsWith(BIe)?(r.var.push(a),n.push(zIe),i.push(o)):(r.number.push(a),n.push(fW),i.push(parseFloat(o))),++a,uR)).split(uR);return{values:i,split:l,indexes:r,types:n}}function gW(e){return bv(e).values}function vW(e){const{split:t,types:i}=bv(e),r=t.length;return n=>{let a="";for(let c=0;c<r;c++)if(a+=t[c],n[c]!==void 0){const l=i[c];l===fW?a+=mg(n[c]):l===mW?a+=hn.transform(n[c]):a+=n[c]}return a}}const UIe=e=>typeof e=="number"?0:e;function VIe(e){const t=gW(e);return vW(e)(t.map(UIe))}const su={test:LIe,parse:gW,createTransformer:vW,getAnimatableNone:VIe},HIe=new Set(["brightness","contrast","saturate","opacity"]);function GIe(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=i.match(cI)||[];if(!r)return e;const n=i.replace(r,"");let a=HIe.has(t)?1:0;return r!==i&&(a*=100),t+"("+a+n+")"}const WIe=/\b([a-z-]*)\(.*?\)/gu,uA={...su,getAnimatableNone:e=>{const t=e.match(WIe);return t?t.map(GIe).join(" "):e}},qIe={...qj,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:uA,WebkitFilter:uA},dI=e=>qIe[e];function yW(e,t){let i=dI(e);return i!==uA&&(i=su),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const YIe=new Set(["auto","none","0"]);function KIe(e,t,i){let r=0,n;for(;r<e.length&&!n;){const a=e[r];typeof a=="string"&&!YIe.has(a)&&bv(a).values.length&&(n=e[r]),r++}if(n&&i)for(const a of t)e[a]=yW(i,n)}const dR=e=>e===Rf||e===yt,hR=(e,t)=>parseFloat(e.split(", ")[t]),pR=(e,t)=>(i,{transform:r})=>{if(r==="none"||!r)return 0;const n=r.match(/^matrix3d\((.+)\)$/u);if(n)return hR(n[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?hR(a[1],e):0}},XIe=new Set(["x","y","z"]),JIe=Of.filter(e=>!XIe.has(e));function QIe(e){const t=[];return JIe.forEach(i=>{const r=e.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const af={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:pR(4,13),y:pR(5,14)};af.translateX=af.x;af.translateY=af.y;const bd=new Set;let dA=!1,hA=!1;function bW(){if(hA){const e=Array.from(bd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),i=new Map;t.forEach(r=>{const n=QIe(r);n.length&&(i.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=i.get(r);n&&n.forEach(([a,c])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hA=!1,dA=!1,bd.forEach(e=>e.complete()),bd.clear()}function xW(){bd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hA=!0)})}function $Ie(){xW(),bW()}class hI{constructor(t,i,r,n,a,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=n,this.element=a,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bd.add(this),dA||(dA=!0,vi.read(xW),vi.resolveKeyframes(bW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:n}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const c=n==null?void 0:n.get(),l=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&i){const o=r.readValue(i,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),n&&c===void 0&&n.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ZIe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function e5e(e){const t=ZIe.exec(e);if(!t)return[,];const[,i,r,n]=t;return[`--${i??r}`,n]}function _W(e,t,i=1){const[r,n]=e5e(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const c=a.trim();return wW(c)?parseFloat(c):c}return Wj(n)?_W(n,t,i+1):n}const SW=e=>t=>t.test(e),t5e={test:e=>e==="auto",parse:e=>e},CW=[Rf,yt,vs,oc,Uje,Fje,t5e],fR=e=>CW.find(SW(e));class EW extends hI{constructor(t,i,r,n,a){super(t,i,r,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let s=t[o];if(typeof s=="string"&&(s=s.trim(),Wj(s))){const u=_W(s,i.current);u!==void 0&&(t[o]=u),o===t.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!tW.has(r)||t.length!==2)return;const[n,a]=t,c=fR(n),l=fR(a);if(c!==l)if(dR(c)&&dR(l))for(let o=0;o<t.length;o++){const s=t[o];typeof s=="string"&&(t[o]=parseFloat(s))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let n=0;n<t.length;n++)PIe(t[n])&&r.push(n);r.length&&KIe(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=af[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const n=i[i.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){var t;const{element:i,name:r,unresolvedKeyframes:n}=this;if(!i||!i.current)return;const a=i.getValue(r);a&&a.jump(this.measuredOrigin,!1);const c=n.length-1,l=n[c];n[c]=af[r](i.measureViewportBox(),window.getComputedStyle(i.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([o,s])=>{i.getValue(o).set(s)}),this.resolveNoneKeyframes()}}const mR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(su.test(e)||e==="0")&&!e.startsWith("url("));function i5e(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function r5e(e,t,i,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],c=mR(n,t),l=mR(a,t);return!c||!l?!1:i5e(e)||(i==="spring"||tI(i))&&r}const n5e=e=>e!==null;function ww(e,{repeat:t,repeatType:i="loop"},r){const n=e.filter(n5e),a=t&&i!=="loop"&&t%2===1?0:n.length-1;return!a||r===void 0?n[a]:r}const a5e=40;class TW{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:c="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ys.now(),this.options={autoplay:t,delay:i,type:r,repeat:n,repeatDelay:a,repeatType:c,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>a5e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$Ie(),this._resolved}onKeyframesResolved(t,i){this.resolvedAt=ys.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:a,delay:c,onComplete:l,onUpdate:o,isGenerator:s}=this.options;if(!s&&!r5e(t,r,n,a))if(c)this.options.duration=0;else{o&&o(ww(t,this.options,i)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,i);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:i,...u},this.onPostResolved())}onPostResolved(){}then(t,i){return this.currentFinishedPromise.then(t,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Oi=(e,t,i)=>e+(t-e)*i;function IC(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function o5e({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,t/=100,i/=100;let n=0,a=0,c=0;if(!t)n=a=c=i;else{const l=i<.5?i*(1+t):i+t-i*t,o=2*i-l;n=IC(o,l,e+1/3),a=IC(o,l,e),c=IC(o,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:r}}function Kx(e,t){return i=>i>0?t:e}const PC=(e,t,i)=>{const r=e*e,n=i*(t*t-r)+r;return n<0?0:Math.sqrt(n)},s5e=[cA,sd,tp],l5e=e=>s5e.find(t=>t.test(e));function gR(e){const t=l5e(e);if(!t)return!1;let i=t.parse(e);return t===tp&&(i=o5e(i)),i}const vR=(e,t)=>{const i=gR(e),r=gR(t);if(!i||!r)return Kx(e,t);const n={...i};return a=>(n.red=PC(i.red,r.red,a),n.green=PC(i.green,r.green,a),n.blue=PC(i.blue,r.blue,a),n.alpha=Oi(i.alpha,r.alpha,a),sd.transform(n))},c5e=(e,t)=>i=>t(e(i)),s0=(...e)=>e.reduce(c5e),pA=new Set(["none","hidden"]);function u5e(e,t){return pA.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function d5e(e,t){return i=>Oi(e,t,i)}function pI(e){return typeof e=="number"?d5e:typeof e=="string"?Wj(e)?Kx:hn.test(e)?vR:f5e:Array.isArray(e)?AW:typeof e=="object"?hn.test(e)?vR:h5e:Kx}function AW(e,t){const i=[...e],r=i.length,n=e.map((a,c)=>pI(a)(a,t[c]));return a=>{for(let c=0;c<r;c++)i[c]=n[c](a);return i}}function h5e(e,t){const i={...e,...t},r={};for(const n in i)e[n]!==void 0&&t[n]!==void 0&&(r[n]=pI(e[n])(e[n],t[n]));return n=>{for(const a in r)i[a]=r[a](n);return i}}function p5e(e,t){var i;const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const c=t.types[a],l=e.indexes[c][n[c]],o=(i=e.values[l])!==null&&i!==void 0?i:0;r[a]=o,n[c]++}return r}const f5e=(e,t)=>{const i=su.createTransformer(t),r=bv(e),n=bv(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?pA.has(e)&&!n.values.length||pA.has(t)&&!r.values.length?u5e(e,t):s0(AW(p5e(r,n),n.values),i):Kx(e,t)};function MW(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?Oi(e,t,i):pI(e)(e,t)}const m5e=5;function jW(e,t,i){const r=Math.max(t-m5e,0);return iW(i-e(r),t-r)}const Fi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yR=.001;function g5e({duration:e=Fi.duration,bounce:t=Fi.bounce,velocity:i=Fi.velocity,mass:r=Fi.mass}){let n,a,c=1-t;c=Nl(Fi.minDamping,Fi.maxDamping,c),e=Nl(Fi.minDuration,Fi.maxDuration,wl(e)),c<1?(n=s=>{const u=s*c,d=u*e,h=u-i,p=fA(s,c),m=Math.exp(-d);return yR-h/p*m},a=s=>{const d=s*c*e,h=d*i+i,p=Math.pow(c,2)*Math.pow(s,2)*e,m=Math.exp(-d),f=fA(Math.pow(s,2),c);return(-n(s)+yR>0?-1:1)*((h-p)*m)/f}):(n=s=>{const u=Math.exp(-s*e),d=(s-i)*e+1;return-.001+u*d},a=s=>{const u=Math.exp(-s*e),d=(i-s)*(e*e);return u*d});const l=5/e,o=y5e(n,a,l);if(e=xl(e),isNaN(o))return{stiffness:Fi.stiffness,damping:Fi.damping,duration:e};{const s=Math.pow(o,2)*r;return{stiffness:s,damping:c*2*Math.sqrt(r*s),duration:e}}}const v5e=12;function y5e(e,t,i){let r=i;for(let n=1;n<v5e;n++)r=r-e(r)/t(r);return r}function fA(e,t){return e*Math.sqrt(1-t*t)}const b5e=["duration","bounce"],x5e=["stiffness","damping","mass"];function bR(e,t){return t.some(i=>e[i]!==void 0)}function w5e(e){let t={velocity:Fi.velocity,stiffness:Fi.stiffness,damping:Fi.damping,mass:Fi.mass,isResolvedFromDuration:!1,...e};if(!bR(e,x5e)&&bR(e,b5e))if(e.visualDuration){const i=e.visualDuration,r=2*Math.PI/(i*1.2),n=r*r,a=2*Nl(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:Fi.mass,stiffness:n,damping:a}}else{const i=g5e(e);t={...t,...i,mass:Fi.mass},t.isResolvedFromDuration=!0}return t}function IW(e=Fi.visualDuration,t=Fi.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=i;const a=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],l={done:!1,value:a},{stiffness:o,damping:s,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=w5e({...i,velocity:-wl(i.velocity||0)}),m=h||0,f=s/(2*Math.sqrt(o*u)),g=c-a,v=wl(Math.sqrt(o/u)),S=Math.abs(g)<5;r||(r=S?Fi.restSpeed.granular:Fi.restSpeed.default),n||(n=S?Fi.restDelta.granular:Fi.restDelta.default);let x;if(f<1){const _=fA(v,f);x=w=>{const C=Math.exp(-f*v*w);return c-C*((m+f*v*g)/_*Math.sin(_*w)+g*Math.cos(_*w))}}else if(f===1)x=_=>c-Math.exp(-v*_)*(g+(m+v*g)*_);else{const _=v*Math.sqrt(f*f-1);x=w=>{const C=Math.exp(-f*v*w),E=Math.min(_*w,300);return c-C*((m+f*v*g)*Math.sinh(E)+_*g*Math.cosh(E))/_}}const b={calculatedDuration:p&&d||null,next:_=>{const w=x(_);if(p)l.done=_>=d;else{let C=0;f<1&&(C=_===0?xl(m):jW(x,_,w));const E=Math.abs(C)<=r,A=Math.abs(c-w)<=n;l.done=E&&A}return l.value=l.done?c:w,l},toString:()=>{const _=Math.min(KG(b),oA),w=XG(C=>b.next(_*C).value,_,30);return _+"ms "+w}};return b}function xR({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:c,min:l,max:o,restDelta:s=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},p=E=>l!==void 0&&E<l||o!==void 0&&E>o,m=E=>l===void 0?o:o===void 0||Math.abs(l-E)<Math.abs(o-E)?l:o;let f=i*t;const g=d+f,v=c===void 0?g:c(g);v!==g&&(f=v-d);const S=E=>-f*Math.exp(-E/r),x=E=>v+S(E),b=E=>{const A=S(E),T=x(E);h.done=Math.abs(A)<=s,h.value=h.done?v:T};let _,w;const C=E=>{p(h.value)&&(_=E,w=IW({keyframes:[h.value,m(h.value)],velocity:jW(x,E,h.value),damping:n,stiffness:a,restDelta:s,restSpeed:u}))};return C(0),{calculatedDuration:null,next:E=>{let A=!1;return!w&&_===void 0&&(A=!0,b(E),C(E)),_!==void 0&&E>=_?w.next(E-_):(!A&&b(E),h)}}}const _5e=o0(.42,0,1,1),S5e=o0(0,0,.58,1),PW=o0(.42,0,.58,1),C5e=e=>Array.isArray(e)&&typeof e[0]!="number",E5e={linear:na,easeIn:_5e,easeInOut:PW,easeOut:S5e,circIn:lI,circInOut:dW,circOut:uW,backIn:sI,backInOut:lW,backOut:sW,anticipate:cW},wR=e=>{if(iI(e)){jG(e.length===4);const[t,i,r,n]=e;return o0(t,i,r,n)}else if(typeof e=="string")return E5e[e];return e};function T5e(e,t,i){const r=[],n=i||MW,a=e.length-1;for(let c=0;c<a;c++){let l=n(e[c],e[c+1]);if(t){const o=Array.isArray(t)?t[c]||na:t;l=s0(o,l)}r.push(l)}return r}function A5e(e,t,{clamp:i=!0,ease:r,mixer:n}={}){const a=e.length;if(jG(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=T5e(t,r,n),o=l.length,s=u=>{if(c&&u<e[0])return t[0];let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=tf(e[d],e[d+1],u);return l[d](h)};return i?u=>s(Nl(e[0],e[a-1],u)):s}function M5e(e,t){const i=e[e.length-1];for(let r=1;r<=t;r++){const n=tf(0,t,r);e.push(Oi(i,1,n))}}function j5e(e){const t=[0];return M5e(t,e.length-1),t}function I5e(e,t){return e.map(i=>i*t)}function P5e(e,t){return e.map(()=>t||PW).splice(0,e.length-1)}function Xx({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){const n=C5e(r)?r.map(wR):wR(r),a={done:!1,value:t[0]},c=I5e(i&&i.length===t.length?i:j5e(t),e),l=A5e(c,t,{ease:Array.isArray(n)?n:P5e(t,n)});return{calculatedDuration:e,next:o=>(a.value=l(o),a.done=o>=e,a)}}const k5e=e=>{const t=({timestamp:i})=>e(i);return{start:()=>vi.update(t,!0),stop:()=>ou(t),now:()=>Kr.isProcessing?Kr.timestamp:ys.now()}},D5e={decay:xR,inertia:xR,tween:Xx,keyframes:Xx,spring:IW},O5e=e=>e/100;class _w extends TW{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:i,motionValue:r,element:n,keyframes:a}=this.options,c=(n==null?void 0:n.KeyframeResolver)||hI,l=(o,s)=>this.onKeyframesResolved(o,s);this.resolver=new c(a,l,i,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:i="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:c=0}=this.options,l=tI(i)?i:D5e[i]||Xx;let o,s;l!==Xx&&typeof t[0]!="number"&&(o=s0(O5e,MW(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(s=l({...this.options,keyframes:[...t].reverse(),velocity:-c})),u.calculatedDuration===null&&(u.calculatedDuration=KG(u));const{calculatedDuration:d}=u,h=d+n,p=h*(r+1)-n;return{generator:u,mirroredGenerator:s,mapPercentToKeyframes:o,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,i=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:n,generator:a,mirroredGenerator:c,mapPercentToKeyframes:l,keyframes:o,calculatedDuration:s,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:m,repeatDelay:f,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),i?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),S=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,b=a;if(p){const E=Math.min(this.currentTime,u)/d;let A=Math.floor(E),T=E%1;!T&&E>=1&&(T=1),T===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(m==="reverse"?(T=1-T,f&&(T-=f/d)):m==="mirror"&&(b=c)),x=Nl(0,1,T)*d}const _=S?{done:!1,value:o[0]}:b.next(x);l&&(_.value=l(_.value));let{done:w}=_;!S&&s!==null&&(w=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&w);return C&&n!==void 0&&(_.value=ww(o,this.options,n)),g&&g(_.value),C&&this.finish(),_}get duration(){const{resolved:t}=this;return t?wl(t.calculatedDuration):0}get time(){return wl(this.currentTime)}set time(t){t=xl(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=wl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=k5e,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),i&&i();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function R5e(e){return new _w(e)}const N5e=new Set(["opacity","clipPath","filter","transform"]);function L5e(e,t,i,{delay:r=0,duration:n=300,repeat:a=0,repeatType:c="loop",ease:l="easeInOut",times:o}={}){const s={[t]:i};o&&(s.offset=o);const u=QG(l,n);return Array.isArray(u)&&(s.easing=u),e.animate(s,{delay:r,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"})}const z5e=Bj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jx=10,B5e=2e4;function F5e(e){return tI(e.type)||e.type==="spring"||!JG(e.ease)}function U5e(e,t){const i=new _w({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const n=[];let a=0;for(;!r.done&&a<B5e;)r=i.sample(a),n.push(r.value),a+=Jx;return{times:void 0,keyframes:n,duration:a-Jx,ease:"linear"}}const kW={anticipate:cW,backInOut:lW,circInOut:dW};function V5e(e){return e in kW}class _R extends TW{constructor(t){super(t);const{name:i,motionValue:r,element:n,keyframes:a}=this.options;this.resolver=new EW(a,(c,l)=>this.onKeyframesResolved(c,l),i,r,n),this.resolver.scheduleResolve()}initPlayback(t,i){let{duration:r=300,times:n,ease:a,type:c,motionValue:l,name:o,startTime:s}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Yx()&&V5e(a)&&(a=kW[a]),F5e(this.options)){const{onComplete:d,onUpdate:h,motionValue:p,element:m,...f}=this.options,g=U5e(t,f);t=g.keyframes,t.length===1&&(t[1]=t[0]),r=g.duration,n=g.times,a=g.ease,c="keyframes"}const u=L5e(l.owner.current,o,t,{...this.options,duration:r,times:n,ease:a});return u.startTime=s??this.calcStartTime(),this.pendingTimeline?(aR(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;l.set(ww(t,this.options,i)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:n,type:c,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:i}=t;return wl(i)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:i}=t;return wl(i.currentTime||0)}set time(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.currentTime=xl(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:i}=t;return i.playbackRate}set speed(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:i}=t;return i.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:i}=t;return i.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:i}=this;if(!i)return na;const{animation:r}=i;aR(r,t)}return na}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:i,keyframes:r,duration:n,type:a,ease:c,times:l}=t;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:s,onUpdate:u,onComplete:d,element:h,...p}=this.options,m=new _w({...p,keyframes:r,duration:n,type:a,ease:c,times:l,isGenerator:!0}),f=xl(this.time);s.setWithVelocity(m.sample(f-Jx).value,m.sample(f).value,Jx)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:i,name:r,repeatDelay:n,repeatType:a,damping:c,type:l}=t;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:s}=i.owner.getProps();return z5e()&&r&&N5e.has(r)&&!o&&!s&&!n&&a!=="mirror"&&c!==0&&l!=="inertia"}}const H5e={type:"spring",stiffness:500,damping:25,restSpeed:10},G5e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),W5e={type:"keyframes",duration:.8},q5e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y5e=(e,{keyframes:t})=>t.length>2?W5e:qd.has(e)?e.startsWith("scale")?G5e(t[1]):H5e:q5e;function K5e({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:n,repeat:a,repeatType:c,repeatDelay:l,from:o,elapsed:s,...u}){return!!Object.keys(u).length}const fI=(e,t,i,r={},n,a)=>c=>{const l=eI(r,e)||{},o=l.delay||r.delay||0;let{elapsed:s=0}=r;s=s-xl(o);let u={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-s,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{c(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:n};K5e(l)||(u={...u,...Y5e(e,u)}),u.duration&&(u.duration=xl(u.duration)),u.repeatDelay&&(u.repeatDelay=xl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!a&&t.get()!==void 0){const h=ww(u.keyframes,l);if(h!==void 0)return vi.update(()=>{u.onUpdate(h),u.onComplete()}),new hIe([])}return!a&&_R.supports(u)?new _R(u):new _w(u)};function X5e({protectedKeys:e,needsAnimating:t},i){const r=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function DW(e,t,{delay:i=0,transitionOverride:r,type:n}={}){var a;let{transition:c=e.getDefaultTransition(),transitionEnd:l,...o}=t;r&&(c=r);const s=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const d in o){const h=e.getValue(d,(a=e.latestValues[d])!==null&&a!==void 0?a:null),p=o[d];if(p===void 0||u&&X5e(u,d))continue;const m={delay:i,...eI(c||{},d)};let f=!1;if(window.MotionHandoffAnimation){const v=rW(e);if(v){const S=window.MotionHandoffAnimation(v,d,vi);S!==null&&(m.startTime=S,f=!0)}}lA(e,d),h.start(fI(d,h,p,e.shouldReduceMotion&&tW.has(d)?{type:!1}:m,e,f));const g=h.animation;g&&s.push(g)}return l&&Promise.all(s).then(()=>{vi.update(()=>{l&&TIe(e,l)})}),s}function mA(e,t,i={}){var r;const n=yv(e,t,i.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(a=i.transitionOverride);const c=n?()=>Promise.all(DW(e,n,i)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(s=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return J5e(e,t,u+s,d,h,i)}:()=>Promise.resolve(),{when:o}=a;if(o){const[s,u]=o==="beforeChildren"?[c,l]:[l,c];return s().then(()=>u())}else return Promise.all([c(),l(i.delay)])}function J5e(e,t,i=0,r=0,n=1,a){const c=[],l=(e.variantChildren.size-1)*r,o=n===1?(s=0)=>s*r:(s=0)=>l-s*r;return Array.from(e.variantChildren).sort(Q5e).forEach((s,u)=>{s.notify("AnimationStart",t),c.push(mA(s,t,{...a,delay:i+o(u)}).then(()=>s.notify("AnimationComplete",t)))}),Promise.all(c)}function Q5e(e,t){return e.sortNodePosition(t)}function $5e(e,t,i={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(a=>mA(e,a,i));r=Promise.all(n)}else if(typeof t=="string")r=mA(e,t,i);else{const n=typeof t=="function"?yv(e,t,i.custom):t;r=Promise.all(DW(e,n,i))}return r.then(()=>{e.notify("AnimationComplete",t)})}function OW(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}const Z5e=Uj.length;function RW(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?RW(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<Z5e;i++){const r=Uj[i],n=e.props[r];(mv(n)||n===!1)&&(t[r]=n)}return t}const ePe=[...Fj].reverse(),tPe=Fj.length;function iPe(e){return t=>Promise.all(t.map(({animation:i,options:r})=>$5e(e,i,r)))}function rPe(e){let t=iPe(e),i=SR(),r=!0;const n=o=>(s,u)=>{var d;const h=yv(e,u,o==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:m,...f}=h;s={...s,...f,...m}}return s};function a(o){t=o(e)}function c(o){const{props:s}=e,u=RW(e.parent)||{},d=[],h=new Set;let p={},m=1/0;for(let g=0;g<tPe;g++){const v=ePe[g],S=i[v],x=s[v]!==void 0?s[v]:u[v],b=mv(x),_=v===o?S.isActive:null;_===!1&&(m=g);let w=x===u[v]&&x!==s[v]&&b;if(w&&r&&e.manuallyAnimateOnMount&&(w=!1),S.protectedKeys={...p},!S.isActive&&_===null||!x&&!S.prevProp||bw(x)||typeof x=="boolean")continue;const C=nPe(S.prevProp,x);let E=C||v===o&&S.isActive&&!w&&b||g>m&&b,A=!1;const T=Array.isArray(x)?x:[x];let M=T.reduce(n(v),{});_===!1&&(M={});const{prevResolvedValues:j={}}=S,P={...j,...M},I=O=>{E=!0,h.has(O)&&(A=!0,h.delete(O)),S.needsAnimating[O]=!0;const D=e.getValue(O);D&&(D.liveStyle=!1)};for(const O in P){const D=M[O],L=j[O];if(p.hasOwnProperty(O))continue;let B=!1;aA(D)&&aA(L)?B=!OW(D,L):B=D!==L,B?D!=null?I(O):h.add(O):D!==void 0&&h.has(O)?I(O):S.protectedKeys[O]=!0}S.prevProp=x,S.prevResolvedValues=M,S.isActive&&(p={...p,...M}),r&&e.blockInitialAnimation&&(E=!1),E&&(!(w&&C)||A)&&d.push(...T.map(O=>({animation:O,options:{type:v}})))}if(h.size){const g={};if(typeof s.initial!="boolean"){const v=yv(e,Array.isArray(s.initial)?s.initial[0]:s.initial);v&&v.transition&&(g.transition=v.transition)}h.forEach(v=>{const S=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),g[v]=S??null}),d.push({animation:g})}let f=!!d.length;return r&&(s.initial===!1||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(d):Promise.resolve()}function l(o,s){var u;if(i[o].isActive===s)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(o,s)}),i[o].isActive=s;const d=c(o);for(const h in i)i[h].protectedKeys={};return d}return{animateChanges:c,setActive:l,setAnimateFunction:a,getState:()=>i,reset:()=>{i=SR(),r=!0}}}function nPe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OW(t,e):!1}function ju(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SR(){return{animate:ju(!0),whileInView:ju(),whileHover:ju(),whileTap:ju(),whileDrag:ju(),whileFocus:ju(),exit:ju()}}class vu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class aPe extends vu{constructor(t){super(t),t.animationState||(t.animationState=rPe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let oPe=0;class sPe extends vu{constructor(){super(...arguments),this.id=oPe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);i&&!t&&n.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lPe={animation:{Feature:aPe},exit:{Feature:sPe}};function xv(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}function l0(e){return{point:{x:e.pageX,y:e.pageY}}}const cPe=e=>t=>rI(t)&&e(t,l0(t));function gg(e,t,i,r){return xv(e,t,cPe(i),r)}const CR=(e,t)=>Math.abs(e-t);function uPe(e,t){const i=CR(e.x,t.x),r=CR(e.y,t.y);return Math.sqrt(i**2+r**2)}class NW{constructor(t,i,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=DC(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=uPe(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=d,{timestamp:f}=Kr;this.history.push({...m,timestamp:f});const{onStart:g,onMove:v}=this.handlers;h||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=kC(h,this.transformPagePoint),vi.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=DC(d.type==="pointercancel"?this.lastMoveEventInfo:kC(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,g),m&&m(d,g)},!rI(t))return;this.dragSnapToOrigin=a,this.handlers=i,this.transformPagePoint=r,this.contextWindow=n||window;const c=l0(t),l=kC(c,this.transformPagePoint),{point:o}=l,{timestamp:s}=Kr;this.history=[{...o,timestamp:s}];const{onSessionStart:u}=i;u&&u(t,DC(l,this.history)),this.removeListeners=s0(gg(this.contextWindow,"pointermove",this.handlePointerMove),gg(this.contextWindow,"pointerup",this.handlePointerUp),gg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ou(this.updatePoint)}}function kC(e,t){return t?{point:t(e.point)}:e}function ER(e,t){return{x:e.x-t.x,y:e.y-t.y}}function DC({point:e},t){return{point:e,delta:ER(e,LW(t)),offset:ER(e,dPe(t)),velocity:hPe(t,.1)}}function dPe(e){return e[0]}function LW(e){return e[e.length-1]}function hPe(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null;const n=LW(e);for(;i>=0&&(r=e[i],!(n.timestamp-r.timestamp>xl(t)));)i--;if(!r)return{x:0,y:0};const a=wl(n.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const c={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const zW=1e-4,pPe=1-zW,fPe=1+zW,BW=.01,mPe=0-BW,gPe=0+BW;function Rn(e){return e.max-e.min}function vPe(e,t,i){return Math.abs(e-t)<=i}function TR(e,t,i,r=.5){e.origin=r,e.originPoint=Oi(t.min,t.max,e.origin),e.scale=Rn(i)/Rn(t),e.translate=Oi(i.min,i.max,e.origin)-e.originPoint,(e.scale>=pPe&&e.scale<=fPe||isNaN(e.scale))&&(e.scale=1),(e.translate>=mPe&&e.translate<=gPe||isNaN(e.translate))&&(e.translate=0)}function vg(e,t,i,r){TR(e.x,t.x,i.x,r?r.originX:void 0),TR(e.y,t.y,i.y,r?r.originY:void 0)}function AR(e,t,i){e.min=i.min+t.min,e.max=e.min+Rn(t)}function yPe(e,t,i){AR(e.x,t.x,i.x),AR(e.y,t.y,i.y)}function MR(e,t,i){e.min=t.min-i.min,e.max=e.min+Rn(t)}function yg(e,t,i){MR(e.x,t.x,i.x),MR(e.y,t.y,i.y)}function bPe(e,{min:t,max:i},r){return t!==void 0&&e<t?e=r?Oi(t,e,r.min):Math.max(e,t):i!==void 0&&e>i&&(e=r?Oi(i,e,r.max):Math.min(e,i)),e}function jR(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function xPe(e,{top:t,left:i,bottom:r,right:n}){return{x:jR(e.x,i,n),y:jR(e.y,t,r)}}function IR(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function wPe(e,t){return{x:IR(e.x,t.x),y:IR(e.y,t.y)}}function _Pe(e,t){let i=.5;const r=Rn(e),n=Rn(t);return n>r?i=tf(t.min,t.max-r,e.min):r>n&&(i=tf(e.min,e.max-n,t.min)),Nl(0,1,i)}function SPe(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const gA=.35;function CPe(e=gA){return e===!1?e=0:e===!0&&(e=gA),{x:PR(e,"left","right"),y:PR(e,"top","bottom")}}function PR(e,t,i){return{min:kR(e,t),max:kR(e,i)}}function kR(e,t){return typeof e=="number"?e:e[t]||0}const DR=()=>({translate:0,scale:1,origin:0,originPoint:0}),ip=()=>({x:DR(),y:DR()}),OR=()=>({min:0,max:0}),Xi=()=>({x:OR(),y:OR()});function ja(e){return[e("x"),e("y")]}function FW({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}function EPe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TPe(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function OC(e){return e===void 0||e===1}function vA({scale:e,scaleX:t,scaleY:i}){return!OC(e)||!OC(t)||!OC(i)}function zu(e){return vA(e)||UW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function UW(e){return RR(e.x)||RR(e.y)}function RR(e){return e&&e!=="0%"}function Qx(e,t,i){const r=e-i,n=t*r;return i+n}function NR(e,t,i,r,n){return n!==void 0&&(e=Qx(e,n,r)),Qx(e,i,r)+t}function yA(e,t=0,i=1,r,n){e.min=NR(e.min,t,i,r,n),e.max=NR(e.max,t,i,r,n)}function VW(e,{x:t,y:i}){yA(e.x,t.translate,t.scale,t.originPoint),yA(e.y,i.translate,i.scale,i.originPoint)}const LR=.999999999999,zR=1.0000000000001;function APe(e,t,i,r=!1){const n=i.length;if(!n)return;t.x=t.y=1;let a,c;for(let l=0;l<n;l++){a=i[l],c=a.projectionDelta;const{visualElement:o}=a.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&np(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,VW(e,c)),r&&zu(a.latestValues)&&np(e,a.latestValues))}t.x<zR&&t.x>LR&&(t.x=1),t.y<zR&&t.y>LR&&(t.y=1)}function rp(e,t){e.min=e.min+t,e.max=e.max+t}function BR(e,t,i,r,n=.5){const a=Oi(e.min,e.max,n);yA(e,t,i,a,r)}function np(e,t){BR(e.x,t.x,t.scaleX,t.scale,t.originX),BR(e.y,t.y,t.scaleY,t.scale,t.originY)}function HW(e,t){return FW(TPe(e.getBoundingClientRect(),t))}function MPe(e,t,i){const r=HW(e,i),{scroll:n}=t;return n&&(rp(r.x,n.offset.x),rp(r.y,n.offset.y)),r}const GW=({current:e})=>e?e.ownerDocument.defaultView:null,jPe=new WeakMap;class IPe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xi(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(l0(u).point)},a=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wIe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ja(g=>{let v=this.getAxisMotionValue(g).get()||0;if(vs.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const x=S.layout.layoutBox[g];x&&(v=Rn(x)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&vi.postRender(()=>m(u,d)),lA(this.visualElement,"transform");const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},c=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:f}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=d;if(p&&this.currentDirection===null){this.currentDirection=PPe(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),f&&f(u,d)},l=(u,d)=>this.stop(u,d),o=()=>ja(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:s}=this.getProps();this.panSession=new NW(t,{onSessionStart:n,onStart:a,onMove:c,onSessionEnd:l,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:GW(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=i;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&vi.postRender(()=>a(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:n}=this.getProps();if(!r||!a1(t,n,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=bPe(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){var t;const{dragConstraints:i,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;i&&ep(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&n?this.constraints=xPe(n.layoutBox,i):this.constraints=!1,this.elastic=CPe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ja(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=SPe(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!ep(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=MPe(r,n.root,this.visualElement.getTransformPagePoint());let c=wPe(n.layout.layoutBox,a);if(i){const l=i(EPe(c));this.hasMutatedConstraints=!!l,l&&(c=FW(l))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:l}=this.getProps(),o=this.constraints||{},s=ja(u=>{if(!a1(u,i,this.currentDirection))return;let d=o&&o[u]||{};c&&(d={min:0,max:0});const h=n?200:1e6,p=n?40:1e7,m={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(s).then(l)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return lA(this.visualElement,t),r.start(fI(t,r,0,i,this.visualElement,!1))}stopAnimation(){ja(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ja(t=>{var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[i];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ja(i=>{const{drag:r}=this.getProps();if(!a1(i,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(i);if(n&&n.layout){const{min:c,max:l}=n.layout.layoutBox[i];a.set(t[i]-Oi(c,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!ep(i)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ja(c=>{const l=this.getAxisMotionValue(c);if(l&&this.constraints!==!1){const o=l.get();n[c]=_Pe({min:o,max:o},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ja(c=>{if(!a1(c,t,null))return;const l=this.getAxisMotionValue(c),{min:o,max:s}=this.constraints[c];l.set(Oi(o,s,n[c]))})}addListeners(){if(!this.visualElement.current)return;jPe.set(this.visualElement,this);const t=this.visualElement.current,i=gg(t,"pointerdown",o=>{const{drag:s,dragListener:u=!0}=this.getProps();s&&u&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();ep(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),vi.read(r);const c=xv(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:o,hasLayoutChanged:s})=>{this.isDragging&&s&&(ja(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=o[u].translate,d.set(d.get()+o[u].translate))}),this.visualElement.render())});return()=>{c(),i(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:c=gA,dragMomentum:l=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:c,dragMomentum:l}}}function a1(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function PPe(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class kPe extends vu{constructor(t){super(t),this.removeGroupControls=na,this.removeListeners=na,this.controls=new IPe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||na}unmount(){this.removeGroupControls(),this.removeListeners()}}const FR=e=>(t,i)=>{e&&vi.postRender(()=>e(t,i))};class DPe extends vu{constructor(){super(...arguments),this.removePointerDownListener=na}onPointerDown(t){this.session=new NW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:FR(t),onStart:FR(i),onMove:r,onEnd:(a,c)=>{delete this.session,n&&vi.postRender(()=>n(a,c))}}}mount(){this.removePointerDownListener=gg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const H1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(yt.test(e))e=parseFloat(e);else return e;const i=UR(e,t.target.x),r=UR(e,t.target.y);return`${i}% ${r}%`}},OPe={correct:(e,{treeScale:t,projectionDelta:i})=>{const r=e,n=su.parse(e);if(n.length>5)return r;const a=su.createTransformer(e),c=typeof n[0]!="number"?1:0,l=i.x.scale*t.x,o=i.y.scale*t.y;n[0+c]/=l,n[1+c]/=o;const s=Oi(l,o,.5);return typeof n[2+c]=="number"&&(n[2+c]/=s),typeof n[3+c]=="number"&&(n[3+c]/=s),a(n)}};class RPe extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=t;Bje(NPe),a&&(i.group&&i.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),H1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:n,isPresent:a}=this.props,c=r.projection;return c&&(c.isPresent=a,n||t.layoutDependency!==i||i===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||vi.postRender(()=>{const l=c.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Hj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WW(e){const[t,i]=vje(),r=z.useContext(AG);return y.jsx(RPe,{...e,layoutGroup:r,switchLayoutGroup:z.useContext(RG),isPresent:t,safeToRemove:i})}const NPe={borderRadius:{...wm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wm,borderTopRightRadius:wm,borderBottomLeftRadius:wm,borderBottomRightRadius:wm,boxShadow:OPe};function LPe(e,t,i){const r=zr(e)?e:nf(e);return r.start(fI("",r,t,i)),r.animation}function zPe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const BPe=(e,t)=>e.depth-t.depth;class FPe{constructor(){this.children=[],this.isDirty=!1}add(t){nI(this.children,t),this.isDirty=!0}remove(t){aI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(BPe),this.isDirty=!1,this.children.forEach(t)}}function UPe(e,t){const i=ys.now(),r=({timestamp:n})=>{const a=n-i;a>=t&&(ou(r),e(a-t))};return vi.read(r,!0),()=>ou(r)}const qW=["TopLeft","TopRight","BottomLeft","BottomRight"],VPe=qW.length,VR=e=>typeof e=="string"?parseFloat(e):e,HR=e=>typeof e=="number"||yt.test(e);function HPe(e,t,i,r,n,a){n?(e.opacity=Oi(0,i.opacity!==void 0?i.opacity:1,GPe(r)),e.opacityExit=Oi(t.opacity!==void 0?t.opacity:1,0,WPe(r))):a&&(e.opacity=Oi(t.opacity!==void 0?t.opacity:1,i.opacity!==void 0?i.opacity:1,r));for(let c=0;c<VPe;c++){const l=`border${qW[c]}Radius`;let o=GR(t,l),s=GR(i,l);if(o===void 0&&s===void 0)continue;o||(o=0),s||(s=0),o===0||s===0||HR(o)===HR(s)?(e[l]=Math.max(Oi(VR(o),VR(s),r),0),(vs.test(s)||vs.test(o))&&(e[l]+="%")):e[l]=s}(t.rotate||i.rotate)&&(e.rotate=Oi(t.rotate||0,i.rotate||0,r))}function GR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const GPe=YW(0,.5,uW),WPe=YW(.5,.95,na);function YW(e,t,i){return r=>r<e?0:r>t?1:i(tf(e,t,r))}function WR(e,t){e.min=t.min,e.max=t.max}function Ma(e,t){WR(e.x,t.x),WR(e.y,t.y)}function qR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function YR(e,t,i,r,n){return e-=t,e=Qx(e,1/i,r),n!==void 0&&(e=Qx(e,1/n,r)),e}function qPe(e,t=0,i=1,r=.5,n,a=e,c=e){if(vs.test(t)&&(t=parseFloat(t),t=Oi(c.min,c.max,t/100)-c.min),typeof t!="number")return;let l=Oi(a.min,a.max,r);e===a&&(l-=t),e.min=YR(e.min,t,i,l,n),e.max=YR(e.max,t,i,l,n)}function KR(e,t,[i,r,n],a,c){qPe(e,t[i],t[r],t[n],t.scale,a,c)}const YPe=["x","scaleX","originX"],KPe=["y","scaleY","originY"];function XR(e,t,i,r){KR(e.x,t,YPe,i?i.x:void 0,r?r.x:void 0),KR(e.y,t,KPe,i?i.y:void 0,r?r.y:void 0)}function JR(e){return e.translate===0&&e.scale===1}function KW(e){return JR(e.x)&&JR(e.y)}function QR(e,t){return e.min===t.min&&e.max===t.max}function XPe(e,t){return QR(e.x,t.x)&&QR(e.y,t.y)}function $R(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function XW(e,t){return $R(e.x,t.x)&&$R(e.y,t.y)}function ZR(e){return Rn(e.x)/Rn(e.y)}function eN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class JPe{constructor(){this.members=[]}add(t){nI(this.members,t),t.scheduleRender()}remove(t){if(aI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(n=>t===n);if(i===0)return!1;let r;for(let n=i;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QPe(e,t,i){let r="";const n=e.x.translate/t.x,a=e.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((n||a||c)&&(r=`translate3d(${n}px, ${a}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:s,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:m}=i;s&&(r=`perspective(${s}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const l=e.x.scale*t.x,o=e.y.scale*t.y;return(l!==1||o!==1)&&(r+=`scale(${l}, ${o})`),r||"none"}const RC=["","X","Y","Z"],$Pe={visibility:"hidden"},tN=1e3;let ZPe=0;function NC(e,t,i,r){const{latestValues:n}=t;n[e]&&(i[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function JW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=rW(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:n,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",vi,!(n||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&JW(r)}function QW({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(c={},l=t==null?void 0:t()){this.id=ZPe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ike),this.nodes.forEach(ske),this.nodes.forEach(lke),this.nodes.forEach(rke)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new FPe)}addEventListener(c,l){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new oI),this.eventHandlers.get(c).add(l)}notifyListeners(c,...l){const o=this.eventHandlers.get(c);o&&o.notify(...l)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zPe(c),this.instance=c;const{layoutId:o,layout:s,visualElement:u}=this.options;if(u&&!u.current&&u.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(s||o)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=UPe(h,250),H1.hasAnimatedSinceResize&&(H1.hasAnimatedSinceResize=!1,this.nodes.forEach(rN))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||s)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||pke,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),S=!this.targetLayout||!XW(this.targetLayout,m),x=!h&&p;if(this.options.layoutRoot||this.resumeFrom||x||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const b={...eI(f,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||rN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ou(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cke),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:o}=this.options;if(l===void 0&&!o)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iN);return}this.isUpdating||this.nodes.forEach(ake),this.isUpdating=!1,this.nodes.forEach(oke),this.nodes.forEach(eke),this.nodes.forEach(tke),this.clearAllSnapshots();const l=ys.now();Kr.delta=Nl(0,1e3/60,l-Kr.timestamp),Kr.timestamp=l,Kr.isProcessing=!0,AC.update.process(Kr),AC.preRender.process(Kr),AC.render.process(Kr),Kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nke),this.sharedNodes.forEach(uke)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(l=!1),l){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:o,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!n)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!KW(this.projectionDelta),o=this.getTransformTemplate(),s=o?o(this.latestValues,""):void 0,u=s!==this.prevTransformTemplateValue;c&&(l||zu(this.latestValues)||u)&&(n(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const l=this.measurePageBox();let o=this.removeElementScroll(l);return c&&(o=this.removeTransform(o)),fke(o),{animationId:this.root.animationId,measuredBox:l,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:l}=this.options;if(!l)return Xi();const o=l.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(mke))){const{scroll:u}=this.root;u&&(rp(o.x,u.offset.x),rp(o.y,u.offset.y))}return o}removeElementScroll(c){var l;const o=Xi();if(Ma(o,c),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return o;for(let s=0;s<this.path.length;s++){const u=this.path[s],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Ma(o,c),rp(o.x,d.offset.x),rp(o.y,d.offset.y))}return o}applyTransform(c,l=!1){const o=Xi();Ma(o,c);for(let s=0;s<this.path.length;s++){const u=this.path[s];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&np(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),zu(u.latestValues)&&np(o,u.latestValues)}return zu(this.latestValues)&&np(o,this.latestValues),o}removeTransform(c){const l=Xi();Ma(l,c);for(let o=0;o<this.path.length;o++){const s=this.path[o];if(!s.instance||!zu(s.latestValues))continue;vA(s.latestValues)&&s.updateSnapshot();const u=Xi(),d=s.measurePageBox();Ma(u,d),XR(l,s.latestValues,s.snapshot?s.snapshot.layoutBox:void 0,u)}return zu(this.latestValues)&&XR(l,this.latestValues),l}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var l;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const s=!!this.resumingFrom||this!==o;if(!(c||s&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Kr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xi(),this.relativeTargetOrigin=Xi(),yg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xi(),this.targetWithTransforms=Xi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yPe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ma(this.target,this.layout.layoutBox),VW(this.target,this.targetDelta)):Ma(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xi(),this.relativeTargetOrigin=Xi(),yg(this.relativeTargetOrigin,this.target,p.target),Ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vA(this.parent.latestValues)||UW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let s=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(s=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Kr.timestamp&&(s=!1),s)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ma(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;APe(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xi());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qR(this.prevProjectionDelta.x,this.projectionDelta.x),qR(this.prevProjectionDelta.y,this.projectionDelta.y)),vg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!eN(this.projectionDelta.x,this.prevProjectionDelta.x)||!eN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),c){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ip(),this.projectionDelta=ip(),this.projectionDeltaWithTransform=ip()}setAnimationOrigin(c,l=!1){const o=this.snapshot,s=o?o.latestValues:{},u={...this.latestValues},d=ip();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Xi(),p=o?o.source:void 0,m=this.layout?this.layout.source:void 0,f=p!==m,g=this.getStack(),v=!g||g.members.length<=1,S=!!(f&&!v&&this.options.crossfade===!0&&!this.path.some(hke));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const _=b/1e3;nN(d.x,c.x,_),nN(d.y,c.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dke(this.relativeTarget,this.relativeTargetOrigin,h,_),x&&XPe(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Xi()),Ma(x,this.relativeTarget)),f&&(this.animationValues=u,HPe(u,s,this.latestValues,_,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ou(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vi.update(()=>{H1.hasAnimatedSinceResize=!0,this.currentAnimation=LPe(0,tN,{...c,onUpdate:l=>{this.mixTargetDelta(l),c.onUpdate&&c.onUpdate(l)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:l,target:o,layout:s,latestValues:u}=c;if(!(!l||!o||!s)){if(this!==c&&this.layout&&s&&$W(this.options.animationType,this.layout.layoutBox,s.layoutBox)){o=this.target||Xi();const d=Rn(this.layout.layoutBox.x);o.x.min=c.target.x.min,o.x.max=o.x.min+d;const h=Rn(this.layout.layoutBox.y);o.y.min=c.target.y.min,o.y.max=o.y.min+h}Ma(l,o),np(l,u),vg(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(c,l){this.sharedNodes.has(c)||this.sharedNodes.set(c,new JPe),this.sharedNodes.get(c).add(l);const s=l.options.initialPromotionConfig;l.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(l):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:l,preserveFollowOpacity:o}={}){const s=this.getStack();s&&s.promote(this,o),c&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let l=!1;const{latestValues:o}=c;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(l=!0),!l)return;const s={};o.z&&NC("z",c,s,this.animationValues);for(let u=0;u<RC.length;u++)NC(`rotate${RC[u]}`,c,s,this.animationValues),NC(`skew${RC[u]}`,c,s,this.animationValues);c.render();for(const u in s)c.setStaticValue(u,s[u]),this.animationValues&&(this.animationValues[u]=s[u]);c.scheduleRender()}getProjectionStyles(c){var l,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $Pe;const s={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=U1(c==null?void 0:c.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=U1(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!zu(this.latestValues)&&(f.transform=u?u({},""):"none",this.hasProjected=!1),f}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),s.transform=QPe(this.projectionDeltaWithTransform,this.treeScale,h),u&&(s.transform=u(h,s.transform));const{x:p,y:m}=this.projectionDelta;s.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?s.opacity=d===this?(o=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const f in gv){if(h[f]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:S}=gv[f],x=s.transform==="none"?h[f]:g(h[f],d);if(v){const b=v.length;for(let _=0;_<b;_++)s[v[_]]=x}else S?this.options.visualElement.renderState.vars[f]=x:s[f]=x}return this.options.layoutId&&(s.pointerEvents=d===this?U1(c==null?void 0:c.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var l;return(l=c.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(iN),this.root.sharedNodes.clear()}}}function eke(e){e.updateLayout()}function tke(e){var t;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,c=i.source!==e.layout.source;a==="size"?ja(d=>{const h=c?i.measuredBox[d]:i.layoutBox[d],p=Rn(h);h.min=r[d].min,h.max=h.min+p}):$W(a,i.layoutBox,r)&&ja(d=>{const h=c?i.measuredBox[d]:i.layoutBox[d],p=Rn(r[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const l=ip();vg(l,r,i.layoutBox);const o=ip();c?vg(o,e.applyTransform(n,!0),i.measuredBox):vg(o,r,i.layoutBox);const s=!KW(l);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const m=Xi();yg(m,i.layoutBox,h.layoutBox);const f=Xi();yg(f,r,p.layoutBox),XW(m,f)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:o,layoutDelta:l,hasLayoutChanged:s,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ike(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rke(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nke(e){e.clearSnapshot()}function iN(e){e.clearMeasurements()}function ake(e){e.isLayoutDirty=!1}function oke(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ske(e){e.resolveTargetDelta()}function lke(e){e.calcProjection()}function cke(e){e.resetSkewAndRotation()}function uke(e){e.removeLeadSnapshot()}function nN(e,t,i){e.translate=Oi(t.translate,0,i),e.scale=Oi(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function aN(e,t,i,r){e.min=Oi(t.min,i.min,r),e.max=Oi(t.max,i.max,r)}function dke(e,t,i,r){aN(e.x,t.x,i.x,r),aN(e.y,t.y,i.y,r)}function hke(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pke={duration:.45,ease:[.4,0,.1,1]},oN=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sN=oN("applewebkit/")&&!oN("chrome/")?Math.round:na;function lN(e){e.min=sN(e.min),e.max=sN(e.max)}function fke(e){lN(e.x),lN(e.y)}function $W(e,t,i){return e==="position"||e==="preserve-aspect"&&!vPe(ZR(t),ZR(i),.2)}function mke(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const gke=QW({attachResizeListener:(e,t)=>xv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LC={current:void 0},ZW=QW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!LC.current){const e=new gke({});e.mount(window),e.setOptions({layoutScroll:!0}),LC.current=e}return LC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vke={pan:{Feature:DPe},drag:{Feature:kPe,ProjectionNode:ZW,MeasureLayout:WW}};function cN(e,t,i){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",i==="Start");const n="onHover"+i,a=r[n];a&&vi.postRender(()=>a(t,l0(t)))}class yke extends vu{mount(){const{current:t}=this.node;t&&(this.unmount=gIe(t,(i,r)=>(cN(this.node,r,"Start"),n=>cN(this.node,n,"End"))))}unmount(){}}class bke extends vu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=s0(xv(this.node.current,"focus",()=>this.onFocus()),xv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uN(e,t,i){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",i==="Start");const n="onTap"+(i==="End"?"":i),a=r[n];a&&vi.postRender(()=>a(t,l0(t)))}class xke extends vu{mount(){const{current:t}=this.node;t&&(this.unmount=xIe(t,(i,r)=>(uN(this.node,r,"Start"),(n,{success:a})=>uN(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bA=new WeakMap,zC=new WeakMap,wke=e=>{const t=bA.get(e.target);t&&t(e)},_ke=e=>{e.forEach(wke)};function Ske({root:e,...t}){const i=e||document;zC.has(i)||zC.set(i,{});const r=zC.get(i),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(_ke,{root:e,...t})),r[n]}function Cke(e,t,i){const r=Ske(t);return bA.set(e,i),r.observe(e),()=>{bA.delete(e),r.unobserve(e)}}const Eke={some:0,all:1};class Tke extends vu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:n="some",once:a}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:Eke[n]},l=o=>{const{isIntersecting:s}=o;if(this.isInView===s||(this.isInView=s,a&&!s&&this.hasEnteredView))return;s&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",s);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=s?u:d;h&&h(o)};return Cke(this.node.current,c,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(Ake(t,i))&&this.startObserver()}unmount(){}}function Ake({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const Mke={inView:{Feature:Tke},tap:{Feature:xke},focus:{Feature:bke},hover:{Feature:yke}},jke={layout:{ProjectionNode:ZW,MeasureLayout:WW}},xA={current:null},eq={current:!1};function Ike(){if(eq.current=!0,!!zj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xA.current=e.matches;e.addListener(t),t()}else xA.current=!1}const Pke=[...CW,hn,su],kke=e=>Pke.find(SW(e)),Dke=new WeakMap;function Oke(e,t,i){for(const r in t){const n=t[r],a=i[r];if(zr(n))e.addValue(r,n);else if(zr(a))e.addValue(r,nf(n,{owner:e}));else if(a!==n)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(n):c.hasAnimated||c.set(n)}else{const c=e.getStaticValue(r);e.addValue(r,nf(c!==void 0?c:n,{owner:e}))}}for(const r in i)t[r]===void 0&&e.removeValue(r);return t}const dN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rke{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:c},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ys.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,vi.render(this.render,!1,!0))};const{latestValues:o,renderState:s,onUpdate:u}=c;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=i.initial?{...o}:{},this.renderState=s,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=xw(i),this.isVariantNode=DG(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(i,{},this);for(const p in h){const m=h[p];o[p]!==void 0&&zr(m)&&m.set(o[p],!1)}}mount(t){this.current=t,Dke.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),eq.current||Ike(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ou(this.notifyUpdate),ou(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=qd.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=i.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&vi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{n(),a(),c&&c(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rf){const i=rf[t];if(!i)continue;const{isEnabled:r,Feature:n}=i;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<dN.length;r++){const n=dN[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,c=t[a];c&&(this.propEventSubscriptions[n]=this.on(n,c))}this.prevMotionValues=Oke(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=nf(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){var r;let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(wW(n)||hW(n))?n=parseFloat(n):!kke(n)&&su.test(i)&&(n=yW(t,i)),this.setBaseTarget(t,zr(n)?n.get():n)),zr(n)?n.get():n}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const c=$j(this.props,r,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);c&&(n=c[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!zr(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new oI),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class tq extends Rke{constructor(){super(...arguments),this.KeyframeResolver=EW}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zr(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function Nke(e){return window.getComputedStyle(e)}class Lke extends tq{constructor(){super(...arguments),this.type="html",this.renderInstance=GG}readValueFromInstance(t,i){if(qd.has(i)){const r=dI(i);return r&&r.default||0}else{const r=Nke(t),n=(Gj(i)?r.getPropertyValue(i):r[i])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:i}){return HW(t,i)}build(t,i,r){Yj(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Zj(t,i,r)}}class zke extends tq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&HG(this.current,this.renderState)}}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(qd.has(i)){const r=dI(i);return r&&r.default||0}return i=WG.has(i)?i:Vj(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return YG(t,i,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&vi.postRender(this.updateDimensions)}build(t,i,r){Jj(t,i,this.isSVGTag,r.transformTemplate)}renderInstance(t,i,r,n){qG(t,i,r,n)}mount(t){this.isSVGTag=Qj(t.tagName),super.mount(t)}}const Bke=(e,t)=>Xj(e)?new zke(t):new Lke(t,{allowProjection:e!==z.Fragment}),Fke=cIe({...lPe,...Mke,...vke,...jke},Bke),ld=Eje(Fke);function wv(e){const t=Wx(()=>nf(e)),{isStatic:i}=z.useContext(vw);if(i){const[,r]=z.useState(e);z.useEffect(()=>t.on("change",r),[])}return t}function $x(e,t={}){const{isStatic:i}=z.useContext(vw),r=z.useRef(null),n=Wx(()=>zr(e)?e.get():e),a=Wx(()=>typeof n=="string"?n.replace(/[\d.-]/g,""):void 0),c=wv(n),l=z.useRef(n),o=z.useRef(na),s=()=>{u(),r.current=R5e({keyframes:[pN(c.get()),pN(l.current)],velocity:c.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o.current})},u=()=>{r.current&&r.current.stop()};return z.useInsertionEffect(()=>c.attach((d,h)=>i?h(d):(l.current=d,o.current=p=>h(hN(p,a)),vi.postRender(s),c.get()),u),[JSON.stringify(t)]),MG(()=>{if(zr(e))return e.on("change",d=>c.set(hN(d,a)))},[c,a]),c}function hN(e,t){return t?e+t:e}function pN(e){return typeof e=="number"?e:parseFloat(e)}const Uke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAF5CAYAAADqGbaeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUqSURBVHgB7dzBcVNXFIDhJ9msQzpwC9mxsBWlgpAKSCoIHWA6CBUwlEAHivGCZTqIU0HIlhmkXDE2E2wIRta/+74Z+1rvvdU/R2esjWbTsFgsTqfb+Xuz2fwz7cnBwcHFtF9vLn/2YrVaXUx3MNv+GnE343h6i+fvj7jfTPtzNO3RbDa7P4770/4c3fK5p2dnZ6fXLx5e/fGpm3zZ/73r5xMZcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPv4242m9Xx8fFyYq+u4j6dzWZPJvbqfdzz8/PV9jS9X2+9Xq/G8Wi5XN74VqgPO9f07uZyMF+OyDfaza89ZHp3MJ/PT8fx8OTk5OFH1//7wvTuZrVavRmT+8to9/zBgwdHV9c/imt6d3fZ7sW9e/eeX1278X+u6d3d2dnZ4+1XHo718Hj7+kZc03s3Y//+NAL/ul0Pn/yENm7+Ph5aTny17TeXjnf/s+168PE38OrVq9/GgC7FDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JG7oRd7lc3h/Ho/V6vZrYyWKx+HUcfxxevzGiPhnHy/Pz89XEVxvDeTQanr59+/a7w2s3luPGw/l8/t3ETrZhx/Hs9evXFx8ubtfBGOc/j4+PlxM7OTk5+Xnb8Or1h51rHdzNdh3MZrMnYx38cHXt8PKGdXBHl+vghXWwZ9fXwZX5KP5os9msrIPdXK2D0fGX6/e2O/fbcfOviZ2MqD9+bjh9Qru7zw6nuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihsQNiRsSNyRuSNyQuCFxQ+KGxA2JGxI3JG5I3JC4IXFD4obEDYkbEjckbkjckLghcUPihg63vzabzfeLxeL0Sw+P5y6mPTo4OLiY9uti2qPVanUx3cHher1ezee3HuDvpz169+7do2mPZrPZ0bRHY+CObvno009d/BfCI+Ht0vXebgAAAABJRU5ErkJggg==",iq=({price:e,name:t,desc:i,backUrl:r,isOpen:n,setOpenCardIndex:a,isMobile:c})=>c?y.jsx(Hke,{price:e,name:t,desc:i,backUrl:r,isMobile:c}):y.jsx("div",{children:y.jsx(Vke,{price:e,name:t,desc:i,backUrl:r,isOpen:n,setOpenCardIndex:a,isMobile:c})}),Vke=({price:e,name:t,desc:i,backUrl:r,isOpen:n,setOpenCardIndex:a,isMobile:c})=>{const l=z.useRef(null),o=wv(0),s=wv(0);return $x(o),$x(s),y.jsxs(ld.div,{ref:l,animate:{width:n?635:100,backgroundColor:"#000000"},transition:{duration:.3},className:"tilt-card",children:[y.jsx(ld.div,{children:y.jsxs("div",{className:"landing-event-closed",children:[!n&&y.jsx("img",{src:Uke}),!n&&y.jsx("button",{onClick:a,className:"landing-event-open-btn",children:"+"})]})}),n&&y.jsx(ld.div,{className:"tiltcardwrapper"}),n&&y.jsxs(ld.div,{className:"tilt-card-inner",style:{backgroundImage:`url(${r})`,backgroundRepeat:"no-repeat",backgroundPosition:"left left",border:"1px solid #ccc"},onClick:a,children:[y.jsx("div",{className:"imgwrapperevent",children:y.jsx("img",{src:r,alt:"",className:"imgeventcard"})}),y.jsx("div",{className:"landing-event-card-gradient"}),y.jsxs("div",{className:"landing-event-card-text",children:[y.jsxs("p",{children:["prizes worth: ",e," "]}),y.jsx("div",{children:y.jsxs("div",{children:["        ",y.jsx("p",{children:t}),y.jsx("p",{children:i})]})})]})]})]})},Hke=({price:e,name:t,desc:i,backUrl:r,isOpen:n,setOpenCardIndex:a,isMobile:c})=>{const l=z.useRef(null),o=wv(0),s=wv(0);return $x(o),$x(s),y.jsxs(ld.div,{ref:l,animate:{width:683,backgroundColor:"#000000"},transition:{duration:.3},className:"tilt-card",children:[y.jsx(ld.div,{className:"tiltcardwrapper"}),y.jsxs(ld.div,{className:"tilt-card-inner",style:{backgroundImage:`url(${r})`,backgroundRepeat:"no-repeat",backgroundPosition:"left left",border:"1px solid #ccc"},onClick:a,children:[y.jsx("div",{className:"imgwrapperevent",children:y.jsx("img",{src:r,alt:"",className:"imgeventcard"})}),y.jsx("div",{className:"landing-event-card-gradient"}),y.jsxs("div",{className:"landing-event-card-text",children:[y.jsxs("p",{className:"landing-event-card-text-prize",children:["prizes worth: ",e," "]}),y.jsx("div",{children:y.jsxs("div",{children:["        ",y.jsx("p",{children:t}),y.jsx("p",{children:i})]})})]})]})]})};function fN(){const[e,t]=z.useState(!1),[i,r]=z.useState(!1),[n,a]=z.useState(0),c=[{backUrl:"/Images/arma.png",price:"6,00,000",name:"Armageddon",desc:"Combat robotics championship with custom bots. Inspired by Transformers, craft machines to defeat opponents. ARMAGEDDON showcases battles for glory. Build your champion. Categories: 8kg, 15kg, 30kg."},{backUrl:"/Images/nano.png",price:"2,00,000",name:"NANO NAVIGATOR",desc:"NanoNavigator Competition is a global showcase of autonomous robotics brilliance where students and seasoned enthusiasts compete for speed and precision as their micro mice tackle challenging maze layouts."},{backUrl:"/Images/flight_fury.png",price:"3,00,000",name:"FLIGHTFURY",desc:"Flightfury, presenting you an opportunity to fulfill your childhood dreams and offering you a platform to showcase your zeal towards building an RC Plane."},{backUrl:"/Images/sky_manuever.png",price:"2,50,000",name:"SKY MANEUVER",desc:"Sky Maneuver, showcasing aerial robotics and drone navigation challenges. Compete with the best in an exciting race to mastery!"}],[l,o]=z.useState(window.innerWidth<700),s=z.useRef(),u=()=>{console.log(s);let g=window.innerHeight*.33+window.innerWidth*2*.21;s.current.scrollLeft+=g},d=()=>{console.log(s);let g=window.innerHeight*.33+window.innerWidth*2*.21;s.current.scrollLeft-=g};z.useEffect(()=>{const g=()=>{o(window.innerWidth<700)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);let h=new Date,p=new Date("3/23/2023");h=h.getTime(),p=p.getTime();const[m,f]=z.useState(!0);return z.useEffect(()=>{setTimeout(()=>f(!1),5e3)},[]),y.jsxs(y.Fragment,{children:[m?y.jsx(Ts,{}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"landingpage-container",children:[y.jsxs("div",{className:"main-background-image",children:[y.jsx("video",{src:"./Images/landingPage/background.mp4",className:"landingpagevideo",autoPlay:!0,muted:!0,loop:!0}),y.jsx("div",{className:"overlaylandingvideo"}),y.jsxs("div",{className:"mainheading mainheadingMobile",children:[y.jsx("div",{className:"headingpart",id:"firstpart",children:"COGNIZANCE"}),y.jsx("br",{}),y.jsx("div",{className:"headingpart",id:"secondpart",children:"2025"})," "]}),y.jsx("div",{className:"wrapperdescregister",children:y.jsxs("div",{className:"descriptioncognilanding",children:[y.jsxs("p",{className:"descriptioncognilandingpart",children:["COGNIZANCE, THE CONJUGATION OF THE FINEST TECHNICAL"," "]}),y.jsxs("p",{className:"descriptioncognilandingpart",children:[" ","MINDS OF THE COUNTRY IS THE ANNUAL TECHNICAL FEST OF IIT ROORKEE."," "]}),y.jsxs("p",{className:"descriptioncognilandingpart",children:[" ","IT IS A PLATFORM FOR YOUR IDEAS TO SPEAK OUT LOUD AND TO"]}),y.jsx("p",{className:"descriptioncognilandingpart",children:"PROMOTE THE SKILLS AIMING TO REACH THE PINNACLE OF YOUR MIND."})]})}),y.jsx("div",{className:"dateonlanding",children:"21 - 23 MARCH"}),y.jsx("div",{className:"mobiledescriptionlanding",children:"Cognizance, the conjugation of the finest technical minds of the country is the annual technical fest of IIT Roorkee. It is a platform for your ideas to speak out loud and to promote the skills aiming to reach the pinnacle of your mind."}),y.jsx(rl,{to:"/register",className:"registerlandingmobile",children:y.jsx("div",{className:"register landingbtnmobile",children:"REGISTER"})}),y.jsx("div",{className:"fadedtext topright",children:"2ND LARGEST TECH FEST OF INDIA"}),y.jsx("div",{className:"fadedtext lowerleft",children:"AETERNITAS ARCADIA"}),y.jsx("div",{className:"main-landing-text-container",children:bs()?y.jsx(y.Fragment,{children:e&&y.jsxs("div",{className:"landing-paynow-popup",children:[y.jsxs("div",{className:"landing-paynow-top",children:[y.jsx("p",{children:"Steps for Booking a Slot:"}),y.jsx("img",{src:"/Images/Client/CrossLanding.png",alt:"",onClick:()=>t(!1)})]}),y.jsxs("ul",{className:"landing-paynow-middle",children:[y.jsx("li",{children:"Register Yourself on our website"}),y.jsx("li",{children:"Register for an Event or Opt for Workshop"}),y.jsx("li",{children:"Go to your Dashboard and pay to Book your slot."})]}),y.jsx(Rt,{className:"landing-pay-now",to:"/events",children:"Register for Event"})]})}):y.jsx(y.Fragment,{children:e&&y.jsxs("div",{className:"landing-paynow-popup",children:[y.jsxs("div",{className:"landing-paynow-top",children:[y.jsx("p",{children:"Steps for Booking a Slot:"}),y.jsx("img",{src:"/Images/Client/CrossLanding.png",alt:"",onClick:()=>t(!1)})]}),y.jsxs("ul",{className:"landing-paynow-middle",children:[y.jsx("li",{children:"Register Yourself on our website"}),y.jsx("li",{children:"Register for an Event or Opt for Workshop"}),y.jsx("li",{children:"Go to your Dashboard and pay to Book your slot."})]}),y.jsx(Rt,{className:"landing-pay-now",to:"/register",children:"Register"})]})})})]}),y.jsx("div",{className:"performerwrapper",children:y.jsx("div",{className:"performers-text",children:y.jsx("p",{children:"Past Performers"})})}),y.jsxs("section",{className:"landing-others",children:[y.jsx(ure,{}),y.jsx("div",{className:"landingabouts-container"}),y.jsxs("div",{className:"events-landing-landingpage-wrapper",children:[y.jsx("div",{className:"events-text-landing",children:y.jsx("p",{children:"EVENTS"})}),y.jsxs("div",{className:"arrowslider",children:[y.jsxs("div",{className:"landingarrow",children:[y.jsxs("div",{className:"leftarrow clickarrow landingarrowleft",onClick:d,children:[y.jsx("img",{src:"./Images/Client/EventLanding/borderfarrow.png",alt:"",className:"borderfarrow"}),y.jsx("img",{src:"./Images/Client/EventLanding/rightarrow.png",alt:"not found"})]}),y.jsxs("div",{className:"rightarrow clickarrow landingarrowright",onClick:u,children:[y.jsx("img",{src:"./Images/Client/EventLanding/borderfarrow.png",alt:"",className:"borderfarrow"}),y.jsx("img",{src:"./Images/Client/EventLanding/rightarrow.png",alt:"not found"})]})]}),y.jsx("div",{className:"event-card-wrapper-landing",ref:s,children:c.map((g,v)=>y.jsx(iq,{...g,isOpen:n===v,setOpenCardIndex:()=>a(v),isMobile:l},v))})]}),y.jsx("div",{className:"register landing-view-event-btn",children:y.jsx(Rt,{to:"/events",children:"View Events"})})]}),y.jsxs("div",{className:"faqgrid",children:[y.jsx("div",{children:y.jsx("img",{src:"./Images/faqpic.png",alt:"",className:"faqimg"})}),y.jsx(gje,{})]}),y.jsxs("div",{className:"slotcontainer",children:[y.jsx("div",{className:"transparentwrapper"}),y.jsx("div",{className:"transparent-box",children:y.jsx("button",{className:"transparent-button",children:y.jsx("a",{href:"https://easebuzz.in/link/BTZLD",target:"_blank",children:"Book your slot now!"})})})]}),y.jsx("section",{className:"mobile-hide"})]})]})}),y.jsx(df,{})]})}const Gke=()=>{const[e,t]=z.useState(""),[i,r]=z.useState(""),[n,a]=z.useState(""),c=As(),[l,o]=z.useState(!0),s=async()=>{if(e===""||n===""||i===""){alert("Please fill all fields");return}if(e!==n){alert("Passwords do not match");return}if(e.length<8){alert("Password must be at least 8 characters long");return}const d={password1:e,password2:n,resetToken:i};o(!1);const h=await fetch(`${Le}api/coordi/resetpass`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(d)}),p=await h.json();if(console.log(p),h.status!==200){alert(p.message),c("/login");return}alert("Password Changed Successfully!"),c("/login")},u=()=>{alert("changed")};return y.jsx("div",{className:"mainDiv",children:y.jsx("div",{className:"cardStyle",children:y.jsxs("form",{action:"",onSubmit:d=>d.preventDefault(),name:"signupForm",id:"signupForm",children:[y.jsx("img",{src:"",id:"signupLogo"}),y.jsx("h2",{className:"formTitle",children:"Reset Password"}),y.jsxs("div",{className:"inputDiv",children:[y.jsx("label",{className:"inputLabel",for:"password",children:"New Password"}),y.jsx("input",{value:e,onChange:d=>t(d.target.value)&u,type:"password",id:"password",name:"password",required:!0})]}),y.jsxs("div",{className:"inputDiv",children:[y.jsx("label",{className:"inputLabel",for:"confirmPassword",children:"Confirm Password"}),y.jsx("input",{value:n,onChange:d=>a(d.target.value),type:"password",id:"confirmPassword",name:"confirmPassword"})]}),y.jsxs("div",{className:"inputDiv",children:[y.jsx("label",{className:"inputLabel",for:"confirmCode",children:"Enter verification code"}),y.jsx("input",{value:i,onChange:d=>r(d.target.value),type:"text",id:"code",name:"confirmCode"})]}),y.jsx("p",{style:{fontSize:"12px",marginLeft:"15%"},children:"*Check Spam in mail if you cannot see the sent Verification Code."}),y.jsx("div",{className:"buttonWrapper",children:y.jsxs("button",{type:"submit",id:"submitButton",onClick:s,className:"submitButton pure-button pure-button-primary",children:[y.jsx("span",{children:"Continue"}),l?null:y.jsx("span",{id:"loader"})]})})]})})})},Wke=()=>{var d,h,p,m,f,g,v,S,x,b,_,w,C,E,A,T,M,j,P,I,k,R;const[e,t]=z.useState([]),{workshopId:i}=y4(),[r,n]=z.useState(!1),a=As();z.useEffect(()=>{window.scrollTo(0,0),c()},[]),z.useEffect(()=>{l()},[]);const c=async()=>{try{const D=await(await fetch(`${Le}api/workshops/${i}`)).json();t(D)}catch(O){console.log(O)}},l=async()=>{try{if(bs()){const D=await(await fetch(`${Le}api/users/events/registered`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}})).json();console.log(D.events[1]),console.log(i);const L=D.events.filter(B=>B.id==i);console.log(L),L[0]&&(console.log("this ran"),n(!0))}}catch(O){console.error(O.message)}},o=()=>{a("/workshops")},s=()=>{bs()?fetch(`${Le}api/users/event/${i}/register`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({teamMembers:""})}).then(O=>O.json()).then(O=>{alert(O.message),a("/dashboard/cogni_user")}):(alert("You need to login to register."),a("/login"))},u={123:999,121:999,109:776,253:649,182:1199,176:799,257:999,212:1199,179:1199,178:799,258:699,119:1199,254:936,211:599,114:799,251:699,175:0};return y.jsxs("div",{className:"workshop-popup-container",children:[y.jsxs("div",{className:"workshop-popup-content-container",children:[y.jsxs("div",{className:"workshop-popup-back-btn",onClick:o,children:[y.jsx("img",{src:"/Images/Client/Workshops/back.png",alt:""}),y.jsx("span",{children:"Back"})]}),y.jsxs("div",{className:"workshop-popup-top-container",children:[y.jsxs("div",{className:"workshop-popup-main-image-container",children:[y.jsx("div",{className:"workshop-popup-main-image-overlay"}),y.jsx("img",{className:"workshop-popup-main-image",src:(d=e==null?void 0:e.workshop)!=null&&d.coverImage?(h=e==null?void 0:e.workshop)==null?void 0:h.coverImage:"/Images/Client/Workshops/workshop_popup_theme.png",alt:""})]}),y.jsx("h1",{className:"workshop-popup-top-heading",children:(p=e==null?void 0:e.workshop)==null?void 0:p.name}),y.jsxs("div",{className:"workshop-popup-top-middle-content",children:[y.jsx("span",{className:"workshop-popup-top-middle-content-price",children:u[i]?y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"original-price",children:["Price: ",(m=e==null?void 0:e.workshop)==null?void 0:m.cost," INR"]}),y.jsxs("span",{className:"discounted-price",children:["Discounted Price: ",u[i]," INR"]})]}):y.jsxs(y.Fragment,{children:["Price: ",(f=e==null?void 0:e.workshop)==null?void 0:f.cost," INR"]})}),y.jsx(y.Fragment,{children:r?y.jsx("a",{href:(g=e==null?void 0:e.workshop)==null?void 0:g.externalLink,target:"_blank",className:"workshop-popup-top-middle-content-a",children:"Pay Now"}):y.jsx("button",{className:"workshop-popup-top-middle-content-btn",onClick:s,children:"Enroll Now"})})]}),y.jsxs("div",{className:"workshop-popup-top-bottom-content",children:[y.jsxs("div",{className:"workshop-popup-slot-venue",children:[y.jsxs("span",{className:"workshop-popup-slot-content",children:["Slot: ",(v=e==null?void 0:e.workshop)==null?void 0:v.aboutBench]}),y.jsxs("span",{className:"workshop-popup-venue-content",children:[y.jsx("strong",{children:"Venue:"})," ",(S=e==null?void 0:e.workshop)==null?void 0:S.venue]})]}),y.jsxs("div",{className:"workshop-popup-date-time",children:[y.jsx("span",{children:y.jsx("strong",{children:"Date & Time"})}),y.jsx("span",{dangerouslySetInnerHTML:{__html:(x=e==null?void 0:e.workshop)==null?void 0:x.sponsors}})]})]})]}),y.jsxs("div",{className:"workshop-popup-main-container",children:[y.jsxs("div",{className:"workshop-popup-partner-container",children:[y.jsx("h2",{children:"DESCRIPTION"}),y.jsx("p",{dangerouslySetInnerHTML:{__html:(b=e==null?void 0:e.workshop)==null?void 0:b.rules}})]}),y.jsxs("div",{className:"workshop-popup-partner-container",children:[y.jsx("h2",{children:((_=e==null?void 0:e.workshop)==null?void 0:_.name)==="ML & AI "||((w=e==null?void 0:e.workshop)==null?void 0:w.name)==="Containers & ML/AI on AWS Cloud"?"PRESENTED BY":"WORKSHOP PARTNER"}),y.jsx("img",{className:"workshop-partner-img-popup",src:(C=e==null?void 0:e.workshop)==null?void 0:C.tagline,alt:""}),y.jsx("p",{dangerouslySetInnerHTML:{__html:(E=e==null?void 0:e.workshop)==null?void 0:E.organizers}})]}),y.jsxs("div",{className:"workshop-popup-highlight-container",children:[y.jsx("h2",{children:"HIGHLIGHTS OF THE WORKSHOP"}),y.jsx("p",{dangerouslySetInnerHTML:{__html:(A=e==null?void 0:e.workshop)==null?void 0:A.description}}),y.jsx("a",{href:(T=e==null?void 0:e.workshop)==null?void 0:T.problemStatement,target:"_blank",children:y.jsx("button",{className:"workshop-popup-highlight-btn",children:"View details"})})]}),y.jsxs("div",{className:"workshop-popup-benefits-container",children:[y.jsx("h2",{children:"BENEFITS"}),y.jsx("div",{className:"workshop-benefits-list",dangerouslySetInnerHTML:{__html:(M=e==null?void 0:e.workshop)==null?void 0:M.prize}})]}),y.jsxs("div",{className:"workshop-popup-prereq-container",children:[y.jsx("h2",{children:"PREREQUISITES"}),y.jsx("div",{dangerouslySetInnerHTML:{__html:(j=e==null?void 0:e.workshop)==null?void 0:j.procedure}})]}),y.jsxs("div",{className:"workshop-popup-speaker-container",children:[y.jsx("h2",{children:"ABOUT SPEAKER"}),y.jsx("h3",{dangerouslySetInnerHTML:{__html:(P=e==null?void 0:e.workshop)==null?void 0:P.speakerName}}),((I=e==null?void 0:e.workshop)==null?void 0:I.name)!="Containers & ML/AI on AWS Cloud"&&y.jsx("span",{dangerouslySetInnerHTML:{__html:(k=e==null?void 0:e.workshop)==null?void 0:k.speakerDesignation}}),y.jsx("p",{dangerouslySetInnerHTML:{__html:(R=e==null?void 0:e.workshop)==null?void 0:R.speakerDescription}})]})]})]}),y.jsx("div",{className:"mainwebsite_event-popup_description-footer-container",children:y.jsxs("div",{className:"mainwebsite_event-popup_description-footer-middle",children:[y.jsx("p",{children:"Need Help? Reach out to us!"}),y.jsx("div",{className:"mainwebsite_event-popup_description-footer-line"}),y.jsx("br",{}),y.jsxs("p",{children:[y.jsx("span",{children:y.jsx("img",{src:"/Images/Client/EventLanding/whatsapp.svg",alt:"",style:{marginRight:"0.5vw"}})})," ",y.jsx("span",{children:y.jsx("img",{src:"/Images/Client/EventLanding/whatsapp.svg",alt:"",style:{marginRight:"0.5vw"}})})," ","Vinay - 9053649245",y.jsx("br",{}),y.jsx("br",{})]}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{})]})})]})},qke=[{image:"/Images/sponsors/alofru.png",caption:"Beverage Partner",link:"https://alofrut.com/product-category/juices/"},{image:"/Images/sponsors/skechers.png",caption:"Sportswear Partner",link:"https://www.skechers.in/"},{image:"/Images/sponsors/Slick1.png",caption:"Techtainment Night Ticketing Partner",link:"https://slickapp.co/"},{image:"/Images/sponsors/Safexpress1.png",caption:"Logistics Partner",link:"https://www.safexpress.com/"},{image:"/Images/sponsors/carobao.png",caption:"Energy Drink Partner",link:"https://drinkcarabao.co.uk/"},{image:"/Images/sponsors/jiosaavn.png",caption:"Music Streaming Partner",link:"https://www.jiosaavn.com/"},{image:"/Images/sponsors/plum.png",caption:"Moisturizing Partner",link:"https://plumgoodness.com/"},{image:"/Images/sponsors/fujifilm.png",caption:"Moments Partner",link:"https://global.fujifilm.com/en"}],Yke=[{image:"/Images/sponsors/SponsorsPage/treemouse.png",caption:"Tides",link:"https://tides.iitr.ac.in/"},{image:"/Images/sponsors/logicallabs.png",caption:"Logical labs",link:"https://www.logicallabs.com/"},{image:"/Images/sponsors/nift.png",caption:"Nift Kangra",link:"https://www.mathworks.com/"},{image:"/Images/sponsors/SponsorsPage/bse.png",caption:"BSE & CDL",link:"http://www.bseindia.com/"},{image:"/Images/sponsors/isro.png",caption:"ISRO-IITR",link:"https://techdefencelabs.com/"},{image:"/Images/sponsors/SponsorsPage/bhoomicam.png",caption:"Bhoomicam",link:"https://bhoomicam.com/"},{image:"/Images/sponsors/sebi.png",caption:"SEBI",link:"https://www.digitalmoguls.io/"},{image:"/Images/sponsors/SponsorsPage/gfg.png",caption:"GeeksforGeeks",link:"https://www.geeksforgeeks.org/"},{image:"/Images/sponsors/SponsorsPage/agrob.png",caption:"Agrobe",link:"https://theagrob.in/"},{image:"/Images/sponsors/google.png",caption:"GOOGLE",link:"https://www.google.com/webhp?hl=en&sa=X&ved=0ahUKEwi84e791-mEAxX8-DgGHcZ3DwQQPAgJ"},{image:"/Images/sponsors/microsoft.png",caption:"MICROSOFT",link:"https://www.microsoft.com/en-in"}],Kke=[{image:"/Images/sponsors/smartcity.png",caption:"Smart City LUCKNOW",link:"https://www.linkedin.com/company/lucknow-smart-city/?originalSubdomain=in"},{image:"/Images/sponsors/SponsorsPage/nashik-udyog.png",caption:"Nashik Udyogniti",link:"https://www.instagram.com/nashik.udyogniti/?hl=en"},{image:"/Images/sponsors/pcmb.png",caption:"PCMB memes",link:"https://www.instagram.com/pcmbmemes/"},{image:"/Images/sponsors/beingiitians.png",caption:"Being IITians",link:"https://www.youtube.com/channel/UCHx_EdAGQ-9lQegoZzIlXnA"},{image:"/Images/sponsors/SponsorsPage/robo-india.png",caption:"The Robotics India",link:"https://www.linkedin.com/company/theroboticsindia?originalSubdomain=in"},{image:"/Images/sponsors/SponsorsPage/JusPay.png",caption:"Artificial Intelligence Facts",link:"https://juspay.in/"},{image:"/Images/sponsors/SponsorsPage/lukhnow-memes.png",caption:"Lucknow Memes",link:"https://www.instagram.com/lucknow_memes/?hl=en"},{image:"/Images/sponsors/SponsorsPage/nashik-pixel.png",caption:"Nashik Pixel",link:"https://www.instagram.com/nashik_pixel/?hl=en"},{image:"/Images/sponsors/SponsorsPage/geek-updates.png",caption:"Geek Updates",link:"https://www.facebook.com/GeekUpdates/"},{image:"/Images/sponsors/SponsorsPage/mywebp.png",caption:"mywebpartner.co",link:"https://www.instagram.com/mywebpartner.co/"}],Xke="/assets/CB_logo-BZoMoicC.jpg";function Jke(){const[e,t]=z.useState(!0);return z.useEffect(()=>{setTimeout(()=>t(!1),5e3)},[]),y.jsxs(y.Fragment,{children:[e?y.jsx(Ts,{}):null,y.jsxs("section",{className:"sponsors-container",children:[y.jsx("h1",{className:"sponsors-container-heading",children:"SPONSORS"}),y.jsx("p",{className:"sponsors-container-content",children:"Their support and partnership has been invaluable in making Cognizance 2024 possible."}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.slb.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{style:{fontSize:"2rem"},children:"Title Sponsor"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/Title-slb.png",alt:""}),y.jsx("p",{children:"SLB"})]})]})}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsxs("a",{href:"https://tih.iitr.ac.in/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Co-Organiser"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/iHUB.png",alt:""}),y.jsx("p",{children:"iHUB DivyaSampark"})]})]})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://www.iitr-heritagefund.org/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Alumni Support"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/heritage.png",alt:""}),y.jsxs("p",{children:["as ",y.jsx("strong",{children:"Heritage Partner"})]})]})]})})]}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.canarabank.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{style:{fontSize:"2rem"},children:"Powered By"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/canara.png",alt:""}),y.jsx("p",{children:"Canara Bank"})]})]})}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsxs("a",{href:"https://thecocobay.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Co-Title"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/cocobay1.png",alt:""}),y.jsx("p",{children:"Cocobay"})]})]})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://www.larsentoubro.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Co-Title"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/larsenturbo.png",alt:""}),y.jsx("p",{children:"Larsen & Toubro"})]})]})}),y.jsx("div",{className:"sponsor-div sponsor-div-3",children:y.jsxs("a",{href:"https://www.onlinesbi.sbi/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Co-Title"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/sbi.png",alt:""}),y.jsx("p",{children:"State Bank of India"})]})]})})]}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.pw.live/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"In Association With"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/physicsWallah.png",alt:""}),y.jsx("p",{children:"Physics Wallah"})]})]})}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsxs("a",{href:"https://nmcg.nic.in/NamamiGanga.aspx",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Initiative Partner"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/Namami.png",alt:""}),y.jsx("p",{children:"Namami Gange"})]})]})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://futuresfirst.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Initiative Partner"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/futurefirst.png",alt:""}),y.jsx("p",{children:"Futures First"})]})]})})]}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.ktm.com/en-in.html",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"PLATINUM SPONSOR"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/KTM.png",alt:""}),y.jsx("p",{children:"KTM"})]})]})}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.idfcfirstbank.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"GOLD SPONSOR"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/idfc.png",alt:""}),y.jsx("p",{children:"IDFC First Bank"})]})]})}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.cisco.com/site/in/en/index.html",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"SILVER SPONSOR"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/cisco.png",alt:""}),y.jsx("p",{children:"Cisco"})]})]})}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://pwduk.in/applist/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Associate Sponsor"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/pwd-uk.png",alt:""}),y.jsx("p",{children:"PWD Uttarakhand"})]})]})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://www.nbccindia.in/index",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Associate Sponsor"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/nbcc.png",alt:""}),y.jsx("p",{children:"NBCC"})]})]})})]}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://www.vibsinfosol.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Associate Sponsor"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/Vibs.png",alt:""}),y.jsx("p",{children:"VIBS"})]})]})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://stockedge.com/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Associate Sponsor"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/stockEdge.png",alt:""}),y.jsx("p",{style:{color:"white"},children:"Stock Edge"})]})]})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsxs("a",{href:"https://www.bankofbaroda.in/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Associate Sponsor"}),y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/BOB.png",alt:""}),y.jsx("p",{children:"Bank of Baroda"})]})]})})]}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.asus.com/in/",target:"__blank",rel:"nofollow",children:[y.jsx("p",{style:{fontSize:"2rem"},children:"E-SPORTS TITLE SPONSOR"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/asus.png",alt:""}),y.jsx("p",{children:"ASUS"})]})]})}),y.jsx("p",{className:"sponsors-gradient-txt",children:"Event Sponsors"}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.climatebventures.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/climatebventures.png",alt:""}),y.jsx("p",{children:"Climate B ventures"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://teachnook.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/Teachnook.png",alt:""}),y.jsx("p",{children:"TEACHNOOK"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://www.estpl.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/esquare.png",alt:""}),y.jsx("p",{children:"E Square"})]})})})]}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.icicibank.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/ICICI.png",alt:""}),y.jsx("p",{children:"ICICI BANK"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"http://www.nikom.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/NIKOM.png",alt:""}),y.jsx("p",{children:"NIKOM"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://crewsphere.io/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/crewsphere.png",alt:""}),y.jsx("p",{children:"CREWSPHERE ICP HUBS INDIA"})]})})})]}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://fetch.ai/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/fecth-ai.jpg",alt:""}),y.jsx("p",{children:"FETCH.AI"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://catamountlabs.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/catamount.png",alt:""}),y.jsx("p",{children:"CAT AMOUNT"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://www.cubelelo.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/cubelelo.png",alt:""}),y.jsx("p",{children:"CUBELELO"})]})})})]}),y.jsx("div",{className:"spons-center",children:y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://www.pnbindia.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/pnb.png",alt:""}),y.jsx("p",{children:"PNB"})]})})})}),y.jsx("p",{className:"sponsors-gradient-txt",children:"Our Partners"}),y.jsx("div",{className:"spons-grid",children:qke.map(i=>y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:i.link,target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:i.image,alt:""}),y.jsx("p",{children:i.caption})]})})}))}),y.jsx("div",{className:"sponsor-div spons-center",children:y.jsxs("a",{href:"https://www.intel.com/content/www/us/en/homepage.html",target:"__blank",rel:"nofollow",children:[y.jsx("p",{children:"Workshop Title Sponsor"}),y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/intel.png",alt:""}),y.jsx("p",{children:"Intel"})]})]})}),y.jsx("p",{className:"sponsors-gradient-txt",children:"Workshop Sponsors"}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.avax.network/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/Avalanche.png",alt:""}),y.jsx("p",{children:"Avalanche"})]})})}),y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.zoho.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/zoho.png",alt:""}),y.jsx("p",{children:"Zoho"})]})})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.autodesk.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/autodesk.png",alt:""}),y.jsx("p",{children:"Auto Desk"})]})})}),y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.triumdesigns.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/truim.png",alt:""}),y.jsx("p",{children:"Trium Design"})]})})})]}),y.jsx("p",{className:"sponsors-gradient-txt",children:"Workshop Partners"}),y.jsx("div",{className:"spons-grid",children:Yke.map(i=>y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:i.link,target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:i.image,alt:""}),y.jsx("p",{children:i.caption})]})})}))}),y.jsx("p",{className:"sponsors-gradient-txt",children:"Our Partners"}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://drinkevocus.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/evocus.png",alt:""}),y.jsx("p",{children:"Aqua Partner"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://tickets.paytm.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/paytm.png",alt:""}),y.jsx("p",{children:"Travel Partner"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://zebronics.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/zebronics.png",alt:""}),y.jsx("p",{children:"Audio Partner"})]})})})]}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.unschool.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/unschool.png",alt:""}),y.jsx("p",{children:"Education Partner"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://www.iitr-heritagefund.org/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/BIS.png",alt:""}),y.jsx("p",{children:"Media Partner"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://www.campusvarta.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/campusvarta1.png",alt:""}),y.jsx("p",{children:"Media Partner"})]})})})]}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://thecareerbeacon.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:Xke,alt:""}),y.jsx("p",{children:"Magazine Partner"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://www.entrepreneur.com/magazine",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/entre.png",alt:""}),y.jsx("p",{children:"Magazine Partner"})]})})}),y.jsx("div",{className:"sponsor-div sponsor-div-2",children:y.jsx("a",{href:"https://scind.org/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/scientific.png",alt:""}),y.jsx("p",{children:"Magazine Partner"})]})})})]}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://azah.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/azah1.png",alt:""}),y.jsx("p",{children:"Hygeine Partner"})]})})}),y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.cornitos.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/cornitos.png",alt:""}),y.jsx("p",{children:"Snacking Partner"})]})})}),y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"http://mcvitiesindia.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/mcvites.png",alt:""}),y.jsx("p",{children:"Healthy Snacking Partner"})]})})})]}),y.jsxs("div",{className:"spons-flex",children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://maxprotein.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/maxprotein1.png",alt:""}),y.jsx("p",{children:"Healthy Snacking Partner"})]})})}),y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://secrettemptation.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img-2",children:[y.jsx("img",{src:"/Images/sponsors/secrettemptation.png",alt:""}),y.jsx("p",{children:" Healthy Snacking Partner"})]})})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.amarujala.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/amarujals.png",alt:""}),y.jsx("p",{children:"KNOWLEDGE Partner"})]})})}),y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://unicliff.in/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/unicliff.png",alt:""}),y.jsx("p",{children:"Learning Partner"})]})})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.yearbookcanvas.com/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/yearbookcanvas.png",alt:""}),y.jsx("p",{children:"Merchandise Partner"})]})})}),y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:"https://www.millionlights.university/",target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:"/Images/sponsors/SponsorsPage/moonlight.png",alt:""}),y.jsx("p",{children:"Education Partner"})]})})})]}),y.jsx("p",{className:"sponsors-gradient-txt",children:"Social Media Partners"}),y.jsx("div",{className:"spons-grid",children:Kke.map(i=>y.jsx("div",{className:"sponsor-div",children:y.jsx("a",{href:i.link,target:"__blank",rel:"nofollow",children:y.jsxs("div",{className:"sponsor-div-img",children:[y.jsx("img",{src:i.image,alt:""}),y.jsx("p",{children:i.caption})]})})}))})]})]})}function Qke(){return y.jsx(y.Fragment,{children:y.jsxs("section",{className:"terms-container",children:[y.jsx("strong",{children:"Basic Definitions"})," ",y.jsx("br",{}),`This Terms of Use Agreement ("Agreement") sets forth the legally binding terms for your use of the Cognizance Services. You are only authorized to use the Cognizance Services (regardless of whether your access or use is intended) if you agree to abide by all applicable laws and to this Agreement. Please read this Agreement carefully before using this website. By registering on, accessing, browsing, downloading or using the Cognizance site for any general purpose or for the specific purpose of availing any Service, you agree, automatically and immediately to be bound by this Agreement as well as by any the service specific terms and conditions applicable to each Service, whether you are a "Visitor" (which means that you simply browse the Cognizance site) or you are a "Member" (which means that you have registered with Cognizance). The term "User" refers to a Visitor or a Member. Subject to your compliance with this Agreement, you may print these terms of use or save a copy of these terms of service for your own personal and non-commercial use. If you do not agree with any of these terms, you may not access, browse or use the Cognizance site and immediately terminate your availing of the The term 'authorized user' would include any person, whether an individual or a legal entity who has subscribed to the services of Cognizance, and to whom the access is restricted by the use of a sign in user name and a password. The user name and password are either allotted by Cognizance or chosen by the user or agreed upon by Cognizance. Therefore only the authorized user has the right to access the services offered by Cognizance. Cognizance will not be responsible for any costs, consequences or damages caused to any persons or entities due to any unauthorized use of the services offered by Cognizance, including access of the said services by an unauthorized user using the user name and password of an authorized user, regardless of whether such unauthorized user is known to the authorized user.`,y.jsx("br",{}),y.jsx("br",{}),"The terms 'service' or 'services' would mean to include the interactive online solutions and information services offered by Cognizance on the internet/mobile through which the user may access information carried by Cognizance in the database maintained by it.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to copy, sell, resell, duplicate any part of Cognizance's services and solutions for commercial purposes. These Terms of Service sets out the legally binding terms of your use of Cognizance and your membership in Cognizance and may be modified by Cognizance at any time and without prior notice, such modifications to be effective upon posting by Cognizance on the website. Your continued access or use of the Site and/or the Services after the Terms of Services have been revised constitutes your express consent to the modified Terms of Services. In the event of any inconsistency between our Privacy Policy and these Terms of Service, the Terms of Service shall prevail. If you do not agree to be bound by the terms of this Agreement, you may not use nor access our services.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Eligibility"})," ",y.jsx("br",{}),"Cognizance services are available to all individuals who have at least completed high school. Individuals who are currently in high school or below may access and use the site, they shall do so only with the involvement and guidance of their parents and or legal guardians. In all such instances their parents and or legal guardians will be held responsible for all the terms of this agreement. By registering with Cognizance you consent to the use of: (i) electronic means to complete the Terms and to provide you with any notices given pursuant to the Terms; and (ii) electronic records to store information related to the Terms or your use of the Services. Cognizance has the right, in its sole discretion, to suspend or terminate your use of Cognizance services and refuse any and all current or future use of all or any portion of Cognizance's services.",y.jsx("br",{}),y.jsx("br",{}),"Registration of a candidate is only considered if and only if the candidate is enrolled in at least one or more events or workshops",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Service"})," ",y.jsx("br",{}),'Cognizance provides self-managed event organizing solutions to event organizers. Event organizers setup their event, fill up the details about their event such as event pricing, location, ticket inventory, attendee registration information collection and other such features. As used herein, "Customers" means Cognizance event organizers ("Event Organizer "), registered event attendees ("Attendee ") and participants in our various affiliate programs.',y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Event Organizer Terms"})," ",y.jsx("br",{}),'Cognizance offers organizers a web-based solution to organize events and meetings, to sell tickets or provide online Attendee Registration solutions via the Cognizance-Websites for events of the organizer to customers by using Cognizance to take on the payment process. In detail Cognizance provides the following services to the organizer (each an "Cognizance-Service"):',y.jsx("br",{}),y.jsx("br",{}),'A web-based software on the Cognizance-websites to organize events and to sell tickets of the organizer for these events to ticket buyers. The organizer has the possibility to create an own website for their event ("eventsite") and to offer a ticket sale. The ticket buyer can choose and buy the tickets on the eventsite directly.',y.jsx("br",{}),y.jsx("br",{}),"Only the user and the organizer of an event are entering into an agreement regarding the event and the disposal of tickets for that event. Cognizance only acts as a sales agent for the organizer of an event by order and for account of this organizer. It is the organizers' duty to advise and instruct the ticket buyers of their eventually existing right of objection according to the legal guidelines.",y.jsx("br",{}),y.jsx("br",{}),"The organizer authorises Cognizance hereby for the duration of this agreement to act as an agent by order and for account of the organizer, to sell tickets to the public for events, offered by the organizer on the Cognizance-Websites, to undertake the payment process with the ticket buyers and/or their banks and to ship the tickets to the ticket buyers. By providing Cognizance with such authorization, organizer also agrees to the Stripe Connected Account Agreement . This authorization also contains the right of Cognizance to send payment reminders to the ticket buyers.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Attending Events"})," ",y.jsx("br",{}),"Cognizance is not legally responsible or liable for",y.jsxs("ol",{style:{listStyleType:"lower-roman"},children:[y.jsx("li",{children:"Cancellation/postponement of events done by the Organizers."}),y.jsx("li",{children:"Any damage or injury of any sorts caused by attending events."}),y.jsx("li",{children:"If the event organizer denies entry from the venue."}),y.jsx("li",{children:"If the event organizer does not implement claimed covid-19 guidelines/protocols."}),y.jsx("li",{children:"The accomodation is officially assigned from 10am to 10 pm. The organizers are not responsible for non allotment of the room."})]}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Shipment and Delivery"})," ",y.jsx("br",{}),"The organizer can choose, whether the tickets shall be deposited on the venue or shall be sent electronically or if the ticket buyer shall have the choice between these different shipment methods. As far as tickets shall be deposited on the venue the organizer has the right to choose, whether the tickets shall be paid on the venue and/or in advance via Cognizance.",y.jsx("br",{}),y.jsx("br",{}),"At the option of the organizer, Cognizance can also offer offline ticketing i.e. Cognizance will take all tickets from the Organiser, offer a set number of the tickets online as suggested by the organizer, or as deemed suitable by Cognizance, and put the remaining tickets into its retail associate networks (such as any caf? s, bistros etc. with which Cognizance may tie up). The Event organizer shall decide upon whether it wants to avail of only online/electronic ticketing solutions provided by Cognizance or whether it prefers Cognizance to provide both paper version and electronic version ticketing services.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Payment and Fees"})," ",y.jsx("br",{}),"Cognizance products and services are available on the basis of transaction model, as per the requirements of customers.",y.jsx("br",{}),y.jsx("br",{}),"Cognizance will be responsible only for the taxes applicable on Cognizance Fees (including TS fee, PG fee and fixed ticket charge). Organizer will bear the full responsibility of the taxes applicable on ticket price and Cognizance can not be held accountable for any inaccurate information provided by organizer for such taxes.",y.jsx("br",{})," ",y.jsx("br",{}),"The collected security money will be reimbursed on day 3 between 12 midnight and 2 am. After which the organizer will decide another session for reimbursement after all the delegations are finished which might take 2-3 days.",y.jsx("br",{}),y.jsx("br",{}),"The only viable tickets generated for the fest is the one supported through the eazebuzz payment links provided by the Cognizance Team.",y.jsx("br",{}),"NOTE: It is compulsory to buy ticket before buying workshop. Without ticket you are not allowed to enter any workshop or events",y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Change of an event"})," ",y.jsx("br",{}),"If an event for which tickets are sold or already have been sold via Cognizance shall be cancelled or changed (regarding date, time, venue or other important points) the organizer has to inform Cognizance immediately in writing once these circumstances have come to his attention. Prize Money Distribution",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Prize Money Distribution"})," ",y.jsx("br",{}),"The prize money distribution would be conveyed to the ticket buyers via the events page on the Cognizance website. The prize money to be distributed would be subject to the number of teams participating in the respective event. ",y.jsx("br",{}),y.jsx("br",{}),"Five or fewer teams  prize would be given only to the first place holding team.",y.jsx("br",{}),y.jsx("br",{}),"Nine or fewer teams - prize would be given only to the first and second place holding team.",y.jsx("br",{}),y.jsx("br",{}),"More than nine teams  prize would be given to first, second and third place holding teams.",y.jsx("br",{}),y.jsx("br",{}),"*indicates that the prize amount mentioned contains coupons, vouchers, courses, and gift hampers equal to the worth of amount mentioned on the website.",y.jsx("br",{}),y.jsx("br",{}),"*A team will be eligible for prizes, if all of their team members are UG(Undergraduate) students studying in their respective institutes.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Accounting"})," ",y.jsx("br",{}),"The organizer has options of various payment method(s) (credit card, direct debiting, prepayment, invoice) to be offered to possible ticket buyers. In accordance to this choice Cognizance undertakes accounting for the organizer and holds the money on a separate bank account. The organizer authorises Cognizance to do so. Cognizance transfers the money received according to service pricing minus the fees payable to Cognizance within 5 to 7 business days post the event to the organizer. The money has to be transferred to a bank account located in the country where the event took place and issued on the name of the organizer. For recurring events, Cognizance reserves the right to pay out money before the event. Cognizance reserves the right to change the number of days to transfer money to the event organizer at any time without notice. The organizer is aware of the risk that specific payment methods (direct debiting or credit card) can be reversed by the ticket buyers. The organizer bears this risk alone. If transactions are reversed after the payment to the organizer, these costs plus a fee for the reversed transaction as stated in the price list published on the Cognizance-Websites are charged to the organizer.",y.jsx("br",{}),y.jsx("br",{}),"The organizer is obliged to raise objections, if any, against the accounts of Cognizance within four weeks after issue of the account. If not the account is considered as being approved.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Prevention against fraud / misusage"})," ",y.jsx("br",{}),"The Cognizance-Websites offer an extensive security system, in particular to protect organizers against reimbursement of credit card payments. Because of this security system it is possible that in exceptional cases some credit card providers may not be accepted.",y.jsx("br",{}),y.jsx("br",{}),"If the organizer arouses suspicion of misusage of the Cognizance-Websites, Cognizance has the right to deactivate the ticket shop of the organizer and to stop the ticket selling. In particular a suspicion of misusage of the Cognizance-Websites is on hand, if it comes to attention before the event that the event shall not (or not in the way as stated in the ticket shop) take place; or illegal or immoral events shall take place; or",y.jsx("br",{}),y.jsx("br",{}),"If the organizer arouses suspicion of misusage of the Cognizance-Websites, Cognizance has the right to delay the payout to the organizer even after 5 to 7 business days for further 60 days. Within these 60 days Cognizance will check if an improper use of the Cognizance-Websites and / or Cognizance-Services occurred. Cognizance also reserves the right to block any event from its platform, if the event is found to be misleading to Cognizance users. (For example: if an event is listed as free and an organizer forces attendees to pay for the event separately, the listed event is deemed to be misleading to the event attendees.)",y.jsx("br",{}),y.jsx("br",{}),"To verify your identity, we ask for a valid ID proof like Passport and/or Aadhar card, and for Companies Trade license and/or TRN certificate. We require you to upload a copy of your valid ID proof, it will help us in identifying you to a high degree of fidelity as the inability to accurately identify individual pose risks with respect to fraudulent claims, tax compliance, and creation or listing of valid events on Cognizance.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Warranty of the organizer"})," ",y.jsx("br",{}),"The organizer warrants to Cognizance, that (i) there is no agreement between the organizer and a venue, or the owner or user of a venue, or a third party, which affects the organizer's use of the Cognizance-Services in accordance with these terms, (ii) the organizer is allowed to enter into this agreement with Cognizance, including the right to authorize Cognizance in accordance to these terms to act as an agent and to sell tickets for events of the organizer.(iii) The organizer takes responsibility that he has all the necessary approvals for organizing the event within India, nothing prohibits organizer from doing the event. If any situation changes, he will inform Cognizance immediately. The organizer will hold Cognizance indemnified for any losses arising out from his failure to take necessary approvals for organizing the event.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Duties of the organizer"})," ",y.jsx("br",{}),"The organizer has the duty to inform Cognizance immediately about unavailability or malfunctions of the Cognizance-Websites.",y.jsx("br",{}),y.jsx("br",{}),"The organizer has the obligation to inform Cognizance immediately about every change of his name, company name, address, legal form or bank details in written form or via E-Mail. The organizer shall not use the Cognizance-Services for illegal or immoral events such as political or religious extremism, pornographic, or violent events.",y.jsx("br",{}),y.jsx("br",{}),`The organizer shall not use the Cognizance-Services to upload, post, email, transmit or otherwise make available any Information that is unlawful, harmful, threatening, abusive, harassing, tortuous, defamatory, vulgar, obscene, libelous, invasive of another's privacy, hateful, or racially, ethnically or otherwise objectionable; The organizer and/or organizer's event will not contain and/or promote any sexually explicit or sexually suggestive content, including pornographic material, "adult friend finders" or dating sites with a sexual emphasis, "adult" toys or sexually explicit videos; The organizer and/or organizer's event will not contain and/or promote any way of provision or selling of drugs or prohibitive substances; The organizer shall not use the Cognizance-Services to harm minors in any way; The organizer shall not impersonate any person or entity, including, but not limited to, an Cognizance representative, forum leader, or falsely state or otherwise misrepresent its affiliation with a person or entity; The organizer shall not forge headers or otherwise manipulate identifiers in order to disguise the origin of any Information transmitted through the Service;`,y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Right to Terminate"})," ",y.jsx("br",{}),"You agree that Cognizance, in its sole discretion, for any or no reason, and without penalty, may terminate this agreement. Cognizance may also in its sole discretion and at any time discontinue providing access to the services, or any part thereof, with or without notice, if the organizer has contravened against important provisions of these terms; or the organizer has filed for bankruptcy, insolvency proceedings have been started or the start of the insolvency proceedings has been dismissed in default of assets; or circumstances occur that the organizer cannot fulfill his contractual obligations against Cognizance or third parties in default of assets, and in addition the organizer gives no proof of sufficient assets within 30 days after request by Cognizance to do so.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Ticket Buyer Terms"})," ",y.jsx("br",{}),"The price payable for the tickets is as set out on our web site.",y.jsx("br",{}),y.jsx("br",{}),"Tickets will normally be available for collection at a designated location prior to the event, in which case you must collect the tickets from the address at the time advised, and provide proof of ID. Under some circumstances events may decide to distribute tickets via post or Email or other methods, in which case only the card billing address / email address supplied will be used for dispatch.",y.jsx("br",{}),y.jsx("br",{}),"Once you have received your tickets, you should check them and you must inform us of any errors within two working days, or before the event, whichever is sooner. The event organizer, the venue where the event is organized reserve the right to refuse admission to you; request latecomers to await admission to the event until a convenient break in the event; refuse re-admission to those leaving during the event; and request that you leave the event; make alterations to the advertised details of the event (including Principals) and make alterations to the script or the content of any particular event at any time up to and including and during the event.",y.jsx("br",{}),y.jsx("br",{}),"If, at any time during the event it is cancelled, postponed, suspended or delayed for any reason, Cognizance will not make any refunds nor will they be liable for any loss caused by such cancellation, postponement, suspension or delay.",y.jsx("br",{}),y.jsx("br",{}),"By purchasing a ticket, you agree that all sales are final and non-refundable. Hence, team Cognizance shall not be liable for any monetary refunds. ",y.jsx("br",{})," ",y.jsx("br",{}),"It is your responsibility to ascertain whether an event has been cancelled and the date and time of any rearranged event. If an event is cancelled or rescheduled, we will use reasonable endeavours to notify ticket holders of the cancellation once we have received the relevant authorisation from the Event Organiser. We do not guarantee that ticket holders will be informed of such cancellation before the date of the event.",y.jsx("br",{}),y.jsx("br",{}),"Tickets are issued subject to the Rules and Regulations of the venue or Event Organiser. Full details are available from the Event Organisers. Breach of any of these Rules and Regulations or any unacceptable behaviour likely to cause damage, nuisance or injury shall entitle the venue or Event Organiser to eject you from the venue. The Event Organisers may on occasions have to conduct security searches to ensure the safety of the patrons. We will not be responsible for any tickets that are lost or stolen.",y.jsx("br",{}),y.jsx("br",{}),"The venue, Event Organiser and Cognizance accept no responsibility for loss of any personal property.",y.jsx("br",{}),y.jsx("br",{}),"Tickets may be restricted to a maximum number per person, per credit card and, for some events, a restriction may apply per household. We reserve the right to cancel tickets without prior notice purchased in excess of this number.",y.jsx("br",{}),y.jsx("br",{}),"If an organizer uses Zapier, the person purchasing a ticket agrees that his/her data may be shared with third parties. By agreeing to Cognizance's terms, you are also agreeing to Zapier's terms and conditions as well. Cognizance is not liable for the way data is handled by Zapier.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"General Terms"})," ",y.jsx("br",{}),"Advertising Material Cognizance would not be held liable for any inappropriateness of the advertisement contents due to the dynamic nature of web, invisible/hidden contents, error, omission or inaccuracy in printed or digital form. Cognizance reserves the right to remove and/or reposition the advertising material.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Safe Harbor"})," ",y.jsx("br",{}),"Any statements contained within the Site concerning Cognizance's future prospects are forward-looking statements which involve a number of risks, uncertainties and other factors that could cause actual results to differ materially from those that may be projected by these forward looking statements. There can be no assurance that future results will be achieved and actual results could differ materially from forecasts, estimates and summary information contained in the site.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Law of Juridiction"})," ",y.jsx("br",{}),"The legal proceedings at COGNIZANCE, IITR are subject to the territorial and geographical jurisdiction of the Uttarakhand High Court.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Intellectual Property Rights"})," ",y.jsx("br",{}),"You agree that Cognizance owns all rights to the code, databases, visual-design and layout of the Service. Except for the limited licenses expressly granted to you under this Agreement, no other rights, licenses, or immunities are granted or will be deemed to be granted to you under this Agreement, either expressly, or by implication, estoppel or otherwise. You may access the site solely as intended through the provided functionality of the Service and as permitted under this Agreement and shall at all times abide by the terms set forth herein.",y.jsx("br",{}),y.jsx("br",{}),"Cognizance claims no intellectual property rights over the material you provide to the Service. Your profile and materials uploaded remain yours.",y.jsx("br",{}),y.jsx("br",{}),"You may not use any robot, spider, other automated device, or manual process to monitor or copy any Content from the Service.",y.jsx("br",{}),y.jsx("br",{}),"You may not resell, duplicate or reproduce or exploit any part of the Service without the written consent permission of Cognizance.",y.jsx("br",{}),y.jsx("br",{}),"You may not duplicate, copy, or reuse any portion of the visual design or layout of the Service without the prior written permission of Cognizance.",y.jsx("br",{}),y.jsx("br",{}),"You may not alter, deface, mutilate or otherwise bypass any approved software through which the Services are made available.",y.jsx("br",{}),y.jsx("br",{}),"You may not use any robot, spider, other automated device, or manual process to monitor or copy any Content from the Service.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to bypass, circumvent, damage or otherwise interfere with any security or other features of the site designed to control the manner in which the Services are used, harvest or mine content from the Services, or otherwise access or use the Services in a manner inconsistent with individual human usage.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to undertake, cause, permit or authorize the translation, reverse engineering, disassembling or hacking of any aspect of the Services, including any Service content available on or through the Service, or attempt to do any of the foregoing, except and solely to the extent permitted by this Agreement, the authorized features of the Services, or by law, or otherwise attempt to use or access any portion of the Services other than as intended by Cognizance.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to harass, abuse, harm or advocate or incite harassment, abuse or harm of another person or group, including Cognizances employees and other users.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to provide any false personal information to Cognizance or any other user, or create a false identify or impersonate another person or entity in any way.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to solicit, or attempt to solicit, personal information from other users.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to restrict, discourage, or inhibit any person from using the Services, disclose personal information about a third person on the Services or obtained from the Services without the consent of such person, or collect information about users.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to gain unauthorized access to the Services, to other users accounts, names or personally identifiable information, or to other computers or websites connected or linked to the Services.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to post, transmit or otherwise make available any virus, worm, spyware or any other computer code, file or program that may or is intended to disable, overburden, impair, damage or hijack the operation of any hardware, software or telecommunications equipment, or any other aspect of the Services or communications equipment and computers connected to the Services.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to interfere with or disrupt the Services, or networks or servers connected to the Services, or violate the regulations, policies or procedures of such networks or servers.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to violate any applicable laws and/or regulations or this Agreement.",y.jsx("br",{}),y.jsx("br",{}),"You agree not to assist or permit any persons in engaging in any of the activities described above.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{children:"Information Disclosure"})," ",y.jsx("br",{}),"To the extent required or permitted by law, Cognizance may also collect, use and disclose personal information in connection with security related or law enforcement investigations or in the course of cooperating with authorities or complying with legal requirements."]})})}const $ke="/assets/hover2-BePEsN0a.png";function o1({name:e,img:t,vertical:i,number:r,instagram:n,linkedin:a}){return y.jsxs("div",{className:"cardwrapper teamwrapper",children:[y.jsx("div",{className:"hover1",children:y.jsx("img",{src:"./Images/Client/EventLanding/my1.png",alt:"",srcset:""})}),y.jsx("div",{className:"hover2",children:y.jsx("img",{src:$ke,alt:""})}),y.jsx("div",{className:"card-border red teamborder"}),y.jsxs("section",{className:"card red team-card",children:[y.jsx("img",{className:"team-card-portrait",src:t,alt:"photo"}),y.jsxs("div",{className:"textbox red",children:[y.jsx("h1",{className:"teamh1",style:{textAlign:"left"},children:e.toUpperCase()}),y.jsx("p",{className:"",children:i})]}),y.jsx("img",{src:"/Images/team/vectors/leftBottom.png",className:"leftBottom",alt:""}),y.jsx("img",{src:"/Images/team/vectors/leftMid.svg",className:"leftMid",alt:""}),y.jsx("img",{src:"/Images/team/vectors/rightMid.svg",className:"rightMid",alt:""})]})]})}const Zke=[{name:"Anuj Goswami",img:"/Images/team/anuj.jpg",vertical:"Convener"},{name:"Devansh Kamra",img:"/Images/team/kamra.jpg",vertical:"Co-Convener"}],eDe=[{name:"Aakash Singh",img:"/Images/team/Aakash_WebD_Head_6264185679.jpg",vertical:"Head Web Development"},{name:"Saksham",img:"/Images/team/Saksham.jpg",vertical:"Head Workshop"},{name:"Himanshu",img:"/Images/team/himanshu1.jpeg",vertical:"Head Events"},{name:"Tushar",img:"/Images/team/Tushar.jpg",vertical:"Head CSR and Marketing"},{name:"Sagar",img:"/Images/team/sagar.jpg",vertical:"Head PR"},{name:"Saubhagya",img:"/Images/team/Soubhagya_Spons.jpg",vertical:"Head Finance"},{name:"Barun",img:"/Images/team/Barun.png",vertical:"Head Design"},{name:"Charu",img:"/Images/team/Charu.jpg",vertical:"Head Sponshorship"}],tDe=[{name:"Kartik Agrawal",img:"/Images/team/Kartik_WebD_Manager.jpg",vertical:"Web Development"},{name:"Nikhil Singh",img:"/Images/team/Nikhil Singh_WebD_22410025.jpg",vertical:"Web Development"},{name:"Riddhi",img:"/Images/team/Riddhi_PR_8080505277.jpg",vertical:"Public Relations"},{name:"Shubham",img:"/Images/team/Shubham_Marketing_9470033301.jpeg",vertical:"Marketing"},{name:"Vinay",img:"/Images/team/Vinay_workshop_9053649245.JPG",vertical:"Workshop"},{name:"Pawan Singh",img:"/Images/team/Pawan Singh_events_8957063298.jpeg",vertical:"Events"},{name:"Shreyas Mandal",img:"/Images/team/Shreyas_events_9205718803.jpg",vertical:"Events"},{name:"Hardik Advani",img:"/Images/team/Hardik_Events_8103806835.jpg",vertical:"Events"},{name:"Gagan",img:"/Images/team/Gagan_Sponsorship and Finance_9521056187.JPG",vertical:"Sponsorship and Finance"},{name:"Shreya Choudhary",img:"/Images/team/shreya.jpg",vertical:"Design"},{name:"Abhijeet Dixit",img:"/Images/team/ABhijeet.jpg",vertical:"Design"},{name:"Sai Jyothiswar Naick",img:"/Images/team/say.jpg",vertical:"Design"},{name:"Jashan",img:"/Images/team/Jashan Grover_PR_8168388548.jpg",vertical:"Public Relations"},{name:"Akanksha",img:"/Images/team/akansha.jpg",vertical:"Marketing"},{name:"Kamakhya",img:"/Images/team/kamakhya.jpg",vertical:"Marketing and CSR"},{name:"Shurbhi",img:"/Images/team/Shurbhi.jpg",vertical:"Sponsorship"},{name:"Lakshit",img:"/Images/team/Lakshit_PR_9672570151.JPG",vertical:"Public Relations"}],iDe=[{name:"Sudhanshu",img:"/Images/team/sudhanshu.png",vertical:"Advisory"},{name:"Hardik Sahni",img:"/Images/team/hardik.png",vertical:"Advisory"},{name:"Abhilash",img:"/Images/team/Abhilash_Advisory_7684934251.jpg",vertical:"Advisory"},{name:"Aman Borkar",img:"/Images/team/Aman Borkar Advisory 9096103214.JPG",vertical:"Advisory"},{name:"Sanya",img:"/Images/team/Sanya_Advisory_9696631793.jpg",vertical:"Advisory"},{name:"Sanskar",img:"/Images/team/Sanskaar_Advisory_7505612821.jpg",vertical:"Advisory"},{name:"Shreyansh",img:"/Images/team/shreyansh.png",vertical:"Advisory"},{name:"Aditi",img:"/Images/team/aditi.png",vertical:"Advisory"},{name:"Anushka",img:"/Images/team/anushka.jpg",vertical:"Advisory"},{name:"Arun",img:"/Images/team/arun.jpg",vertical:"Advisory"},{name:"Mohit",img:"/Images/team/mohit.png",vertical:"Advisory"},{name:"Nipun",img:"/Images/team/Nipun.png",vertical:"Advisory"},{name:"Omm",img:"/Images/team/omm.png",vertical:"Advisory"},{name:"Priyanshu",img:"/Images/team/priyanshu.png",vertical:"Advisory"},{name:"Riyanshi",img:"/Images/team/riyanshi.JPG",vertical:"Advisory"}];function rDe(){const[e,t]=z.useState(!0);return z.useEffect(()=>{setTimeout(()=>t(!1),1e3)},[]),e?y.jsx(Ts,{}):y.jsxs("main",{className:"team-container",children:[y.jsx("h1",{children:"Our Team"}),y.jsx("section",{className:"team-grid-small",children:Zke.map(i=>y.jsx(o1,{...i}))}),y.jsx("h1",{children:"Heads"}),y.jsx("section",{className:"team-grid",children:eDe.map(i=>y.jsx(o1,{...i}))}),y.jsx("h1",{children:"Managers"}),y.jsx("section",{className:"team-grid",children:tDe.map(i=>y.jsx(o1,{...i}))}),y.jsx("h1",{children:"Advisory"}),y.jsx("section",{className:"team-grid",children:iDe.map(i=>y.jsx(o1,{...i}))})]})}const nDe="/assets/image1-kQEG52nP.jpg",aDe="/assets/image2-Buhjw_zW.jpg",oDe="/assets/image3-DlPG4i7I.jpg",sDe="/assets/image4-BA_4ApUm.jpg",lDe="/assets/image5-B1MP8sp6.jpg",cDe="/assets/image6-C_rU-Pjc.jpg",uDe="/assets/image7-ZiwenbR3.jpg",dDe="/assets/image8-Cy2E9dIj.jpg",hDe="/assets/image9-CmD_GAAh.jpg",pDe="/assets/image10-BsjXopRs.jpg",fDe="/assets/image11-DdLMiuzt.jpg",mDe="/assets/image12-CyoVZEOR.jpg",gDe="/assets/image13-Mq-zlmkj.jpg",vDe="/assets/image14-k0cODMZy.jpg",yDe="/assets/image15-BJeLgmLU.jpg",bDe="/assets/image16-5d5L9gpi.jpg",xDe="/assets/image17-a9g81ATr.jpg",wDe="/assets/image18-CelJcZs0.jpg",_De="/assets/image19-DoUM7VQf.jpg",SDe="/assets/image20-Bdp7b_ge.jpg",CDe="/assets/image21-CMQ0H35z.jpg",EDe="/assets/image22-Dy5G_X6J.jpg",TDe="/assets/image23-w8bWOc17.jpg",ADe="/assets/image24-GRRtdrmU.jpg",MDe="/assets/image25-B8T_2jHJ.jpg",jDe="/assets/image26-ClthmM-2.jpg",IDe=()=>y.jsx(y.Fragment,{children:y.jsxs("section",{className:"events-landing-container ",children:[y.jsxs("section",{className:"events-landing-planet-container galleryplanet",children:[y.jsx("div",{className:"events-landing-img",children:y.jsx("video",{src:yz,className:"events-landing-planet",autoPlay:!0,loop:!0,muted:!0})}),y.jsxs("div",{className:"events-landing-planet-text-container ",children:[y.jsxs("p",{className:"events-landing-txt gallerytxt",children:["COGNIZANCE 2024 AT GLIMPSE"," "]}),y.jsx("h1",{className:"events-landing-heading galleryhead",children:"GALLERY"})]})]}),y.jsxs("section",{className:"gallery-photos",children:[y.jsxs("div",{className:"gallery-image-holder",children:[y.jsx("img",{src:nDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:aDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:oDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:sDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:lDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:cDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:uDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:dDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:hDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:pDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:fDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:mDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:gDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:vDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:yDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:bDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:xDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:wDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:_De,alt:"",className:"glry-photo"}),y.jsx("img",{src:SDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:CDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:EDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:TDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:ADe,alt:"",className:"glry-photo"}),y.jsx("img",{src:MDe,alt:"",className:"glry-photo"}),y.jsx("img",{src:jDe,alt:"",className:"glry-photo"})]}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("br",{})]})]})});function wA(){return wA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},wA.apply(this,arguments)}var PDe=Mi.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},Mi.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),kDe=Mi.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},Mi.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function mN(e){if(e.length===7)return e;for(var t="#",i=1;i<4;i+=1)t+=e[i]+e[i];return t}function gN(e,t,i,r,n){return function(a,c,l,o,s){var u=(a-l)/(c-l);if(u===0)return o;if(u===1)return s;for(var d="#",h=1;h<6;h+=2){var p=parseInt(o.substr(h,2),16),m=parseInt(s.substr(h,2),16),f=Math.round((1-u)*p+u*m).toString(16);f.length===1&&(f="0"+f),d+=f}return d}(e,t,i,mN(r),mN(n))}var DDe=function(e){function t(i){e.call(this,i);var r=i.height,n=i.width,a=i.checked;this.t=i.handleDiameter||r-2,this.i=Math.max(n-r,n-(r+this.t)/2),this.o=Math.max(0,(r-this.t)/2),this.state={h:a?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.W=!0},t.prototype.componentDidUpdate=function(i){i.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.W=!1},t.prototype.I=function(i){this.H.focus(),this.setState({R:i,j:!0,B:Date.now()})},t.prototype.L=function(i){var r=this.state,n=r.R,a=r.h,c=(this.props.checked?this.i:this.o)+i-n;r.N||i===n||this.setState({N:!0});var l=Math.min(this.i,Math.max(this.o,c));l!==a&&this.setState({h:l})},t.prototype.U=function(i){var r=this.state,n=r.h,a=r.N,c=r.B,l=this.props.checked,o=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var s=Date.now()-c;(!a||s<250||l&&n<=o||!l&&n>=o)&&this.A(i),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},t.prototype.p=function(i){i.preventDefault(),typeof i.button=="number"&&i.button!==0||(this.I(i.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},t.prototype.v=function(i){i.preventDefault(),this.L(i.clientX)},t.prototype.g=function(i){this.U(i),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},t.prototype.k=function(i){this.X=null,this.I(i.touches[0].clientX)},t.prototype.m=function(i){this.L(i.touches[0].clientX)},t.prototype.M=function(i){i.preventDefault(),this.U(i)},t.prototype.$=function(i){Date.now()-this.l>50&&(this.A(i),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},t.prototype.C=function(){this.u=Date.now()},t.prototype.D=function(){this.setState({j:!0})},t.prototype.O=function(){this.setState({j:!1})},t.prototype.S=function(i){this.H=i},t.prototype.T=function(i){i.preventDefault(),this.H.focus(),this.A(i),this.W&&this.setState({j:!1})},t.prototype.A=function(i){var r=this.props;(0,r.onChange)(!r.checked,i,r.id)},t.prototype.render=function(){var i=this.props,r=i.checked,n=i.disabled,a=i.className,c=i.offColor,l=i.onColor,o=i.offHandleColor,s=i.onHandleColor,u=i.checkedIcon,d=i.uncheckedIcon,h=i.checkedHandleIcon,p=i.uncheckedHandleIcon,m=i.boxShadow,f=i.activeBoxShadow,g=i.height,v=i.width,S=i.borderRadius,x=function(k,R){var O={};for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&R.indexOf(D)===-1&&(O[D]=k[D]);return O}(i,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),b=this.state,_=b.h,w=b.N,C=b.j,E={position:"relative",display:"inline-block",textAlign:"left",opacity:n?.5:1,direction:"ltr",borderRadius:g/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},A={height:g,width:v,margin:Math.max(0,(this.t-g)/2),position:"relative",background:gN(_,this.i,this.o,c,l),borderRadius:typeof S=="number"?S:g/2,cursor:n?"default":"pointer",WebkitTransition:w?null:"background 0.25s",MozTransition:w?null:"background 0.25s",transition:w?null:"background 0.25s"},T={height:g,width:Math.min(1.5*g,v-(this.t+g)/2+1),position:"relative",opacity:(_-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},M={height:g,width:Math.min(1.5*g,v-(this.t+g)/2+1),position:"absolute",opacity:1-(_-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},j={height:this.t,width:this.t,background:gN(_,this.i,this.o,o,s),display:"inline-block",cursor:n?"default":"pointer",borderRadius:typeof S=="number"?S-1:"50%",position:"absolute",transform:"translateX("+_+"px)",top:Math.max(0,(g-this.t)/2),outline:0,boxShadow:C?f:m,border:0,WebkitTransition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},P={height:this.t,width:this.t,opacity:Math.max(2*(1-(_-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},I={height:this.t,width:this.t,opacity:Math.max(2*((_-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"};return Mi.createElement("div",{className:a,style:E},Mi.createElement("div",{className:"react-switch-bg",style:A,onClick:n?null:this.T,onMouseDown:function(k){return k.preventDefault()}},u&&Mi.createElement("div",{style:T},u),d&&Mi.createElement("div",{style:M},d)),Mi.createElement("div",{className:"react-switch-handle",style:j,onClick:function(k){return k.preventDefault()},onMouseDown:n?null:this.p,onTouchStart:n?null:this.k,onTouchMove:n?null:this.m,onTouchEnd:n?null:this.M,onTouchCancel:n?null:this.O},p&&Mi.createElement("div",{style:P},p),h&&Mi.createElement("div",{style:I},h)),Mi.createElement("input",wA({},{type:"checkbox",role:"switch","aria-checked":r,checked:r,disabled:n,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},x,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},t}(z.Component);DDe.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:PDe,checkedIcon:kDe,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56};const ODe=()=>{const[e,t]=z.useState(),i=z.useRef(null),[r,n]=z.useState(),[a,c]=z.useState(""),[l,o]=z.useState([]),[s,u]=z.useState(!1);z.useEffect(()=>{z7().then(p=>{t(p)})},[r]);const d=async p=>{console.log(p);try{const f=await(await fetch(`${Le}api/admin/security/update`,{method:"POST",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:p})})).json();i.current.checked=!r,n(!r)}catch(m){console.log(m.message)}},h=p=>{p.preventDefault();const m=e==null?void 0:e.users.filter(f=>f.id==a||f.name==a||f.email==a);m.length>0&&(o(m),n(m.workshopPaymentStatus),u(!0))};return y.jsxs("div",{className:"sec-container",style:{backgroundColor:"white"},children:[y.jsxs("form",{action:"",onSubmit:h,children:[y.jsx("input",{placeholder:"Search",defaultValue:a,onChange:p=>c(p.target.value)}),y.jsx("button",{children:"Search"})]}),s&&l.map(p=>{const{name:m,id:f,email:g,workshopPaymentStatus:v}=p;return y.jsxs("div",{className:"sec-main",children:[y.jsx("span",{children:f}),y.jsx("span",{children:m}),y.jsx("span",{children:g}),y.jsx("button",{onClick:()=>d(f),children:v?"deposited":"Not depisited"})]},f)})]})},RDe=()=>{const[e,t]=z.useState(""),[i,r]=z.useState(""),n=zl(),[a,c]=z.useState(null),[l,o]=z.useState(""),[s,u]=z.useState(""),[d,h]=z.useState(""),[p,m]=z.useState(""),[f,g]=z.useState(""),[v,S]=z.useState(""),[x,b]=z.useState(""),[_,w]=z.useState(""),[C,E]=z.useState(""),[A,T]=z.useState(""),[M,j]=z.useState("false"),[P,I]=z.useState("false"),[k,R]=z.useState("false"),[O,D]=z.useState("true"),L=Io(K=>K.userDetails),[B,F]=z.useState(null),[H,ee]=z.useState(!0),[U,X]=z.useState(!1);z.useEffect(()=>{L.id?(F(!0),ee(!1)):fetch(`${Le}api/users`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(K=>{if(K.status==418)alert("Login failed"),Zc(),window.location.href=`${_r}login`;else return K.ok?K.json():F(!1)}).then(K=>{n(pB(K.details)),F(!0),ee(!1)}).catch(K=>ee(!1))},[]);const W=()=>{g("");var K=document.getElementById("form2");K.style.display="flex";var te=document.getElementById("form3");te.style.display="none";var ne=document.getElementById("c3");ne.style.display="none";var ce=document.getElementById("uc3");ce.style.display="flex";var pe=document.getElementById("hr3");pe.style.border="1px solid  rgba(245, 245, 245, 0.75)"},ie=()=>{g("");var K=document.getElementById("form3");K.style.display="flex";var te=document.getElementById("form2");te.style.display="none";var ne=document.getElementById("uc3");ne.style.display="none";var ce=document.getElementById("c3");ce.style.display="flex";var pe=document.getElementById("hr3");pe.style.border="1px solid #FFBD00"};async function Q(K){try{g(""),X(!0);const te=await fetch(`${Le}api/users`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${tt()} `},body:JSON.stringify(K)});let ne;i!=""&&i!=null&&i!=null?ne=await fetch(`${Le}api/users/registrationReferalCode`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${tt()} `},body:JSON.stringify({referalCode:i})}):ne={status:200},te.status==200&&ne.status==200&&(n(O4(K)),setTimeout(()=>window.location.href=`${_r}dashboard/cogni_user`,1e3))}catch(te){alert(te)}}const ae=K=>{K.preventDefault(),X(!0);const te={role:"cogni_user",college:v,state:x,city:_,branch:C,year:A,gender:"M",type:"remote"};try{if(console.log("started try"),v.length==0)throw X(!1),console.log("collageName"),W(),m("collageName"),new Error("Collage name cannot be empty");if(x=="")throw m("collageState"),console.log("collageState"),W(),X(!1),new Error("Collage state cannot be empty");if(_.length==0)throw m("collageCity"),console.log("collageCity"),W(),X(!1),new Error("Collage city cannot be empty");if(C.length==0)throw X(!1),console.log("branch"),W(),m("branch"),new Error("Branch cannot be empty");if(A.length==0)throw X(!1),console.log("year"),W(),m("year"),new Error("Year cannot be empty");console.log("started else"),X(!0),Q(te)}catch(ne){g(ne.message)}};return y.jsx(y.Fragment,{children:H?y.jsx(Ts,{}):B?y.jsxs("div",{className:"dashboard__profile__container",children:[((L==null?void 0:L.college)===null||(L==null?void 0:L.college)==="")&&y.jsx(fB,{}),y.jsx(X4,{}),y.jsx(uB,{})]}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"signup-page-image-plus-main-container",children:[y.jsx("div",{className:"image-holder",children:y.jsx("img",{className:"robot-image",src:cB,alt:"robot"})}),y.jsxs("div",{className:"signup-main-container",id:"container",children:[y.jsxs("div",{className:"signup-upper",children:[y.jsxs("svg",{className:"signup-img",xmlns:"http://www.w3.org/2000/svg",width:39,height:38,viewBox:"0 0 39 38",fill:"none",children:[y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.2417 19.6639C24.1165 17.9887 22.2179 17.5978 22.2179 17.5978C22.2179 17.5978 23.4364 18.7425 24.7682 20.5015C26.1 22.2326 27.0918 24.4383 27.0918 24.4383L29.6422 23.6007C29.6138 23.5728 28.0553 21.0878 26.2417 19.6639Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1026 21.3186C20.1026 21.3186 19.3375 22.7705 18.0056 24.5295C16.6738 26.2605 14.8319 27.852 14.8319 27.852L16.3904 30.0019C16.3904 30.0019 18.374 27.8241 19.2525 25.6742C20.2726 23.2172 20.1026 21.3186 20.1026 21.3186Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3608 19.3843C10.2355 18.7423 8.11022 17.542 8.11022 17.542L6.5517 19.6914C6.5517 19.6914 9.30037 20.808 11.6523 20.9196C14.3727 21.0313 16.1579 20.2776 16.1579 20.2776C16.1579 20.2776 14.486 20.0543 12.3608 19.3843Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9308 7.7465L13.4088 6.96472C13.4088 6.96472 13.1821 9.84054 13.8056 12.0463C14.514 14.587 15.8175 16.011 15.8175 16.011C15.8175 16.011 15.5341 14.4195 15.4774 12.2417C15.4491 10.0918 15.9308 7.7465 15.9308 7.7465Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8562 11.5398C20.5326 12.9358 19.4841 14.5273 19.4841 14.5273C19.4841 14.5273 20.986 13.8013 23.1396 13.1592C25.2648 12.517 27.7018 12.3216 27.7018 12.3216L27.7868 9.75286C27.7585 9.72494 24.8681 10.3392 22.8562 11.5398Z",fill:"#F5F5F5"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0756 11.5688C10.9705 8.38583 11.4522 4.53279 11.4522 4.53279L4.84972 3.27637C4.84972 3.27637 3.88627 10.2565 6.97498 14.0537C10.5738 18.4651 17.1479 19.2469 17.1479 19.2469C17.1479 19.2469 14.0875 17.3483 12.0756 11.5688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.0513 0.679688C29.0513 0.679688 21.9671 1.85235 19.1618 5.87291C15.9314 10.5077 17.1499 16.9015 17.1499 16.9015C17.1499 16.9015 18.085 13.4952 23.1289 9.86555C25.9059 7.88319 29.8164 7.18517 29.8164 7.18517L29.0513 0.679688Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.8595 14.3055C25.3622 12.6582 19.5248 15.7015 19.5248 15.7015C19.5248 15.7015 23.1236 15.5619 28.1392 19.1916C30.9162 21.1739 32.7581 24.6361 32.7581 24.6361L38.8505 21.9836C38.8788 22.0115 35.5918 15.7294 30.8595 14.3055Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2562 17.9601C21.2562 17.9601 22.503 21.2547 20.5194 27.0343C19.4426 30.2172 16.6656 32.9813 16.6656 32.9813L21.0578 37.8116C21.0578 37.8116 26.1301 32.8417 26.0734 28.0394C25.9884 22.4274 21.2562 17.9601 21.2562 17.9601Z",fill:"#FFBD00"}),y.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4923 22.0702C7.06355 22.0144 3.4931 20.2554 3.4931 20.2554L0.149353 25.8953C0.149353 25.8953 6.55348 29.162 11.2291 27.5985C16.6697 25.7836 19.5601 19.9482 19.5601 19.9482C19.5601 19.9482 16.7264 22.154 10.4923 22.0702Z",fill:"#FFBD00"})]}),y.jsx("div",{className:"signup-page-collageName",children:"COGNIZANCE IIT ROORKEE"}),y.jsxs("div",{className:"signup-progressbar",children:[y.jsx("svg",{className:"circle",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr1"}),y.jsx("svg",{className:"uncolored_circle",id:"uc2",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c2",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr2"}),y.jsx("svg",{className:"uncolored_circle",id:"uc3",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c3",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})}),y.jsx("hr",{id:"hr3"}),y.jsx("svg",{className:"uncolored_circle",id:"uc4",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.182922 9.28125)",stroke:"white",strokeWidth:"0.705855"})}),y.jsx("svg",{className:"circle",id:"c4",xmlns:"http://www.w3.org/2000/svg",width:9,height:10,viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FFBD00"})})]})]}),y.jsxs("form",{onSubmit:ae,children:[y.jsxs("div",{className:"signup-container-form2",id:"form2",children:[y.jsx("div",{className:"signup-text",children:"College Information"}),y.jsx("div",{className:"signup-texts",children:"to acknowledge the diverse participation from various institutions"}),f&&y.jsx("div",{className:"error-message",children:f}),y.jsx("legend",{className:"signup-legend",children:"College Name *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"collageName",onChange:K=>S(K.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"College State *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsxs("select",{type:"text",id:"secondary-form-state",className:"Newsignup-page-inputbox",value:x,onChange:K=>b(K.target.value),required:!0,children:["   ",y.jsx("option",{value:"default",selected:!0,children:"Select "}),Object.keys(R4).map(K=>y.jsx("option",{value:K,children:K}))]})}),y.jsx("legend",{className:"signup-legend",children:"College City *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"collageCity",onChange:K=>w(K.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"Enter Branch *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"branch",onChange:K=>E(K.target.value)})}),y.jsx("legend",{className:"signup-legend",children:"Enter Year *"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"number",name:"year",onChange:K=>T(K.target.value)})}),y.jsx("div",{className:"signup-page-btn1",onClick:ie,children:"Next"})]}),y.jsxs("div",{className:"signup-container-form3",id:"form3",children:[y.jsx("div",{className:"signup-text",children:"Referral Code"}),y.jsx("div",{className:"signup-texts",children:"unlock exclusive benefits for yourself"}),f&&y.jsx("div",{className:"error-message",children:f}),y.jsx("legend",{className:"signup-legend2",children:"Referral code (Optional)"}),y.jsx("div",{className:"Newsignup-page-inputbox",children:y.jsx("input",{type:"text",name:"referal",onChange:K=>r(K.target.value())})}),y.jsx("div",{className:"loader",children:U?y.jsx("div",{className:"signup-page-btn loaderImg-holder",children:y.jsx("img",{src:K4,alt:"",className:"signup-page-loaderImg"})}):y.jsx("input",{type:"submit",className:"signup-page-btn",value:"Submit"})})]})]})]})]})})})};function NDe(){return y.jsxs("div",{className:"terms-container",children:[y.jsx("h2",{style:{textAlign:"center"},children:"Privacy Policy"}),y.jsx("br",{}),y.jsx("div",{children:"Thank you for visiting the Cognizance2025. This Privacy Policy is designed to help you understand how we collect, use, disclose, and safeguard your personal information. By accessing or using our website, you consent to the practices described in this Privacy Policy."}),y.jsx("br",{})," ",y.jsx("br",{}),y.jsx("strong",{children:"1. Information We Collect:"})," ",y.jsx("br",{}),y.jsx("strong",{children:"a. Personal Information:"}),y.jsx("br",{}),y.jsx("div",{children:"We may collect personal information such as your name, email address, contact number, and other relevant details when you register for events, purchase tickets, or participate in activities."}),y.jsx("br",{}),y.jsx("strong",{children:"b. Non- Personal information"}),y.jsx("div",{children:"We may also gather non-personal information, including browser type, IP address, and device information, to enhance the user experience and improve our services."}),y.jsx("br",{}),y.jsx("strong",{children:"2. How We Use Your Information:"}),y.jsx("br",{}),y.jsx("strong",{children:"a. Event Registration:"}),y.jsx("br",{}),y.jsx("div",{children:"Your personal information is used to process event registrations, provide tickets, and communicate important updates related to the [College Fest]."}),y.jsx("br",{}),y.jsx("strong",{children:"b. Communication:"}),y.jsx("br",{}),y.jsx("div",{children:"We may use your email address or contact number to send information about upcoming events, promotions, and other relevant updates. You can opt-out of these communications at any time."}),y.jsx("br",{}),y.jsx("strong",{children:"c. Improvement of Services:"}),y.jsx("br",{}),y.jsx("div",{children:"Non-personal information is utilized to analyze website usage patterns, troubleshoot issues, and enhance the overall functionality and user experience."}),y.jsx("br",{}),y.jsx("strong",{children:"3. Disclosure of Information:"}),y.jsx("br",{}),y.jsx("strong",{children:"a. Third-Party Service Providers:"}),y.jsx("br",{}),y.jsx("div",{children:"We may share your information with trusted third-party service providers, such as payment processors, for the purpose of facilitating transactions and delivering services."}),y.jsx("br",{}),y.jsx("strong",{children:"b. Legal Requirements:"}),y.jsx("br",{}),y.jsx("div",{children:"We may disclose personal information if required by law or in response to a valid legal process, such as a court order or subpoena."}),y.jsx("br",{}),y.jsx("strong",{children:"4. Security:"}),y.jsx("br",{}),y.jsx("div",{children:"We take reasonable steps to protect your personal information from unauthorized access, disclosure, alteration, and destruction. However, no method of transmission over the internet or electronic storage is completely secure, and we cannot guarantee absolute security."}),y.jsx("br",{}),y.jsx("strong",{children:"5. Cookies:"}),y.jsx("br",{}),y.jsx("div",{children:"Our website may use cookies to enhance your browsing experience. You can adjust your browser settings to disable cookies, but please note that this may impact the functionality of the site."}),y.jsx("br",{}),y.jsx("strong",{children:"6. Links to Third-Party Websites:"}),y.jsx("br",{}),y.jsx("div",{children:"Our website may contain links to third-party websites. We are not responsible for the privacy practices or content of these websites. We encourage you to review the privacy policies of third-party sites before providing any personal information."}),y.jsx("br",{}),y.jsx("strong",{children:"7. Changes to this Privacy Policy:"}),y.jsx("br",{}),y.jsx("div",{children:"We reserve the right to update or modify this Privacy Policy at any time. Any changes will be effective immediately upon posting on the website. We encourage you to review this Privacy Policy periodically for any updates."}),y.jsx("br",{}),y.jsx("strong",{children:"8. Contact Us:"}),y.jsx("br",{}),y.jsx("div",{children:"If you have any questions or concerns about this Privacy Policy, please contact us at info.cognizance@iitr.ac.in"}),y.jsx("br",{}),y.jsx("br",{}),"By using the Cognizance2025, you agree to the terms outlined in this Privacy Policy."]})}function LDe(){return y.jsxs("div",{className:"terms-container",children:[y.jsx("h2",{style:{textAlign:"center"},children:"Cancel and Refund"}),y.jsx("br",{}),y.jsx("div",{children:"The price payable for the tickets is as set out on our web site."}),y.jsx("br",{}),y.jsx("div",{children:"Tickets will normally be available for collection at a designated location prior to the event, in which case you must collect the tickets from the address at the time advised, and provide proof of ID. Under some circumstances events may decide to distribute tickets via post or Email or other methods, in which case only the card billing address / email address supplied will be used for dispatch."}),y.jsx("br",{}),y.jsx("div",{children:"Once you have received your tickets, you should check them and you must inform us of any errors within two working days, or before the event, whichever is sooner. The event organizer, the venue where the event is organized reserve the right to refuse admission to you; request latecomers to await admission to the event until a convenient break in the event; refuse re-admission to those leaving during the event; and request that you leave the event; make alterations to the advertised details of the event (including Principals) and make alterations to the script or the content of any particular event at any time up to and including and during the event."}),y.jsx("br",{}),y.jsx("div",{children:"If, at any time during the event it is cancelled, postponed, suspended or delayed for any reason, Cognizance will not make any refunds nor will they be liable for any loss caused by such cancellation, postponement, suspension or delay."}),y.jsx("br",{}),y.jsx("div",{children:"By purchasing a ticket, you agree that all sales are final and non-refundable. Hence, team Cognizance shall not be liable for any monetary refunds."}),y.jsx("br",{}),y.jsx("div",{children:"It is your responsibility to ascertain whether an event has been cancelled and the date and time of any rearranged event. If an event is cancelled or rescheduled, we will use reasonable endeavours to notify ticket holders of the cancellation once we have received the relevant authorisation from the Event Organiser. We do not guarantee that ticket holders will be informed of such cancellation before the date of the event."}),y.jsx("br",{}),y.jsx("div",{children:"Tickets are issued subject to the Rules and Regulations of the venue or Event Organiser. Full details are available from the Event Organisers. Breach of any of these Rules and Regulations or any unacceptable behaviour likely to cause damage, nuisance or injury shall entitle the venue or Event Organiser to eject you from the venue. The Event Organisers may on occasions have to conduct security searches to ensure the safety of the patrons. We will not be responsible for any tickets that are lost or stolen."}),y.jsx("br",{}),y.jsx("div",{children:"The venue, Event Organiser and Cognizance accept no responsibility for loss of any personal property."}),y.jsx("br",{}),y.jsx("div",{children:"Tickets may be restricted to a maximum number per person, per credit card and, for some events, a restriction may apply per household. We reserve the right to cancel tickets without prior notice purchased in excess of this number."}),y.jsx("br",{}),y.jsx("div",{children:"If an organizer uses Zapier, the person purchasing a ticket agrees that his/her data may be shared with third parties. By agreeing to Cognizance's terms, you are also agreeing to Zapier's terms and conditions as well. Cognizance is not liable for the way data is handled by Zapier."})]})}function zDe(){return y.jsxs("div",{className:"terms-container",children:[y.jsx("h2",{style:{textAlign:"center"},children:"Shipping and Delivery"})," ",y.jsx("br",{}),y.jsx("div",{children:"The organizer can choose, whether the tickets shall be deposited on the venue or shall be sent electronically or if the ticket buyer shall have the choice between these different shipment methods. As far as tickets shall be deposited on the venue the organizer has the right to choose, whether the tickets shall be paid on the venue and/or in advance via Cognizance."}),y.jsx("br",{}),y.jsx("div",{children:"At the option of the organizer, Cognizance can also offer offline ticketing i.e. Cognizance will take all tickets from the Organiser, offer a set number of the tickets online as suggested by the organizer, or as deemed suitable by Cognizance, and put the remaining tickets into its retail associate networks (such as any caf? s, bistros etc. with which Cognizance may tie up). The Event organizer shall decide upon whether it wants to avail of only online/electronic ticketing solutions provided by Cognizance or whether it prefers Cognizance to provide both paper version and electronic version ticketing services"})]})}const BDe=()=>{const[e,t]=z.useState(""),[i,r]=z.useState(""),[n,a]=z.useState(""),c=As(),[l,o]=z.useState(!0),s=async()=>{if(e===""||n===""||i===""){alert("Please fill all fields");return}if(e!==n){alert("Passwords do not match");return}if(e.length<8){alert("Password must be at least 8 characters long");return}const d={password1:e,password2:n,resetToken:i};o(!1);const h=await fetch(`${Le}api/coordi/resetpass`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(d)}),p=await h.json();if(console.log(p),h.status!==200){alert(p.message),c("/ca/login");return}alert("Password Changed Successfully!"),c("/ca/login")},u=()=>{alert("changed")};return y.jsxs("div",{className:"mainDiv",children:[y.jsxs("div",{className:"spp-nav-logo-div",children:[y.jsx("img",{className:"spp-nav-img",src:"/Images/CogniLogo.svg",alt:""}),y.jsx(Rt,{style:{color:"white"},to:"/ca",children:"Cognizance | CA Programme"})]}),y.jsx("div",{className:"cardStyle",children:y.jsxs("form",{action:"",onSubmit:d=>d.preventDefault(),name:"signupForm",id:"signupForm",children:[y.jsx("img",{src:"",id:"signupLogo"}),y.jsx("h2",{className:"formTitle",children:"Reset Password"}),y.jsxs("div",{className:"inputDiv",children:[y.jsx("label",{className:"inputLabel",for:"password",children:"New Password"}),y.jsx("input",{value:e,onChange:d=>t(d.target.value)&u,type:"password",id:"password",name:"password",required:!0})]}),y.jsxs("div",{className:"inputDiv",children:[y.jsx("label",{className:"inputLabel",for:"confirmPassword",children:"Confirm Password"}),y.jsx("input",{value:n,onChange:d=>a(d.target.value),type:"password",id:"confirmPassword",name:"confirmPassword"})]}),y.jsxs("div",{className:"inputDiv",children:[y.jsx("label",{className:"inputLabel",for:"confirmCode",children:"Enter verification code"}),y.jsx("input",{value:i,onChange:d=>r(d.target.value),type:"text",id:"code",name:"confirmCode"})]}),y.jsx("p",{style:{fontSize:"12px",marginLeft:"15%"},children:"*Check Spam in mail if you cannot see the sent Verification Code."}),y.jsx("div",{className:"buttonWrapper",children:y.jsxs("button",{type:"submit",id:"submitButton",onClick:s,className:"submitButton pure-button pure-button-primary",children:[y.jsx("span",{children:"Continue"}),l?null:y.jsx("span",{id:"loader"})]})})]})})]})},rq="/Images/Google.svg",FDe=()=>{const e=As(),[t,i]=z.useState(""),[r,n]=z.useState(null),[a,c]=z.useState(""),[l,o]=z.useState(""),[s,u]=z.useState(""),[d,h]=z.useState(!1),p=async()=>{console.log("Google login triggered"),Rv(Nv,Lv).then(async g=>{const v=g.user;n(v);const S={email:v.email,password:v.uid},x=await fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(S)});if(x.ok){const b=await x.json();Tl(b.token),setTimeout(()=>window.location.href=`${_r}newSecondaryForm`,1e3)}else{const b=await x.json();alert(b.message)}}).catch(g=>{console.log(g)})},m=async g=>{g.preventDefault(),console.log("Login attempted with",t,s),h(!0);const v={email:t.toLowerCase(),password:s};console.log(v);try{if(console.log("started try"),t.length==0)throw console.log("email"),o("email"),alert("Email cannot be empty"),new Error("Email cannot be empty");if(s.length==0)throw console.log("pwd"),o("pwd"),alert("Password cannot be empty"),new Error("Password cannot be empty")}catch(x){c(x.message),h(!1)}t&&s&&(async()=>{const x=await fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(v)});if(console.log(x),x.ok){const b=await x.json();Tl(b.token),setTimeout(()=>window.location.href=`${_r}newSecondaryForm`,1e3)}else{const b=await x.json();alert(b.message),h(!1)}})()},f=async()=>{if(console.log("Recover password triggered"),t.length==0){o("email"),c("Email cannot be empty"),alert("Email cannot be empty");return}if(t.includes("@")==!1){o("Email"),c("Invalid email format");return}const g={email:t},S=await(await fetch(`${Le}api/coordi/forgetpass`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(g)})).json();c(""),setTimeout(()=>{alert(`A verification code has been sent to your email- ${t}`),e("/resetpass")},1e3),console.log(S)};return y.jsxs("div",{className:"login-page-container",children:[y.jsx("div",{className:"svg-container-login"}),y.jsx("div",{className:"login-white-container",children:y.jsxs("div",{className:"form-container",children:[y.jsxs("div",{className:"top-text",children:[y.jsx("div",{className:"cogni-symbol",children:y.jsx("span",{children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"53",viewBox:"0 0 54 53",fill:"none",children:[y.jsxs("g",{filter:"url(#filter0_d_236_5924)",children:[y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.6155 26.8607C32.184 24.8524 30.0119 24.3838 30.0119 24.3838C30.0119 24.3838 31.406 25.7561 32.9297 27.8648C34.4534 29.9401 35.5881 32.5843 35.5881 32.5843L38.5059 31.5802C38.4734 31.5467 36.6904 28.5677 34.6155 26.8607Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.5791 28.8354C27.5791 28.8354 26.7038 30.576 25.1801 32.6847C23.6564 34.7599 21.5491 36.6678 21.5491 36.6678L23.3322 39.2452C23.3322 39.2452 25.6015 36.6344 26.6065 34.057C27.7736 31.1115 27.5791 28.8354 27.5791 28.8354Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.7317 26.5255C16.3002 25.7559 13.8687 24.3169 13.8687 24.3169L12.0857 26.8936C12.0857 26.8936 15.2304 28.2322 17.9212 28.3661C21.0335 28.4999 23.0759 27.5964 23.0759 27.5964C23.0759 27.5964 21.1631 27.3287 18.7317 26.5255Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.815 12.5671L19.9297 11.6299C19.9297 11.6299 19.6703 15.0775 20.3836 17.7217C21.194 20.7676 22.6853 22.4747 22.6853 22.4747C22.6853 22.4747 22.3611 20.5668 22.2963 17.956C22.2639 15.3787 22.815 12.5671 22.815 12.5671Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.7222 17.1198C28.0638 18.7934 26.8643 20.7013 26.8643 20.7013C26.8643 20.7013 28.5825 19.831 31.0464 19.0612C33.4778 18.2913 36.2659 18.057 36.2659 18.057L36.3632 14.9777C36.3308 14.9442 33.024 15.6806 30.7222 17.1198Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.1266 17.1335C16.8622 13.3177 17.4133 8.69861 17.4133 8.69861L9.85959 7.19238C9.85959 7.19238 8.75732 15.5603 12.2911 20.1124C16.4083 25.401 23.9297 26.3382 23.9297 26.3382C23.9297 26.3382 20.4283 24.0621 18.1266 17.1335Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.8212 4.09961C37.8212 4.09961 29.7163 5.50542 26.5067 10.3253C22.8109 15.8816 24.205 23.5466 24.205 23.5466C24.205 23.5466 25.2748 19.4631 31.0455 15.1118C34.2226 12.7353 38.6965 11.8985 38.6965 11.8985L37.8212 4.09961Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.8965 20.4338C33.6071 18.459 26.9287 22.1074 26.9287 22.1074C26.9287 22.1074 31.046 21.94 36.7842 26.2913C39.9613 28.6678 42.0686 32.8183 42.0686 32.8183L49.0388 29.6385C49.0712 29.672 45.3105 22.1409 39.8965 20.4338Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.111 24.6802C29.111 24.6802 30.5374 28.6298 28.2681 35.5585C27.0361 39.3742 23.859 42.6879 23.859 42.6879L28.884 48.4785C28.884 48.4785 34.6871 42.5206 34.6223 36.7634C34.525 30.0356 29.111 24.6802 29.111 24.6802Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5889 29.7382C12.6661 29.6712 8.58124 27.5625 8.58124 27.5625L4.75574 34.3238C4.75574 34.3238 12.0826 38.24 17.4318 36.3656C23.6563 34.1899 26.9631 27.1943 26.9631 27.1943C26.9631 27.1943 23.7212 29.8386 16.5889 29.7382Z",fill:"#F4144C"})]}),y.jsx("defs",{children:y.jsxs("filter",{id:"filter0_d_236_5924",x:"0.755737",y:"0.0996094",width:"52.2833",height:"52.3789",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[y.jsx("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),y.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),y.jsx("feOffset",{}),y.jsx("feGaussianBlur",{stdDeviation:"2"}),y.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),y.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),y.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_236_5924"}),y.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_236_5924",result:"shape"})]})})]})})}),y.jsxs("p",{children:["COGNIZANCE",y.jsx("span",{children:"'25"})]}),y.jsx("div",{className:"mobile-border-div"}),y.jsxs("div",{className:"mobile-top-text",children:[y.jsx("p",{children:"aeternitas"}),y.jsx("p",{children:"arcadia"})]})]}),y.jsx("p",{className:"mobile-college-name",children:"COGNIZANCE IIT ROORKEE"}),y.jsxs("div",{className:"welcome-back-text-login",children:[y.jsx("p",{children:"Hi, Welcome back  "}),y.jsx("p",{children:"Fill Your Login Information"}),y.jsx("p",{children:"To help us know you better"})]}),y.jsxs("div",{className:"login-page-form-container",children:[y.jsxs("form",{className:"login-form",onSubmit:m,children:[y.jsx("label",{children:"Email"}),y.jsx("input",{type:"text",placeholder:"Enter your email id",value:t,name:"Email",onChange:g=>i(g.target.value)}),y.jsx("label",{children:"Password"}),y.jsx("input",{type:"password",placeholder:"Enter your password",value:s,onChange:g=>u(g.target.value)}),y.jsx("div",{className:"recover",children:y.jsx("p",{className:"recover-txt",onClick:f,children:"Forgot Password?"})}),y.jsx("button",{type:"submit",className:"login-btn",children:"Login"})]}),y.jsx("div",{className:"login-auth-signin-container",children:y.jsxs("button",{onClick:p,children:[y.jsx("img",{src:rq,alt:""}),"Continue with Google"]})}),y.jsx("div",{className:"create-account-login",children:y.jsxs(Rt,{to:"/register",children:["Create an account ",y.jsx("span",{children:"SignUp!"})]})})]})]})})]})},UDe="data:image/svg+xml,%3csvg%20width='29'%20height='29'%20viewBox='0%200%2029%2029'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Back'%3e%3crect%20id='Rectangle%20181'%20x='0.367684'%20y='0.367684'%20width='27.944'%20height='27.944'%20rx='7.63232'%20stroke='%23D8DADC'%20stroke-width='0.735369'/%3e%3cpath%20id='Icon%20/%20chevron.left'%20d='M11.0312%2014.3364C11.0312%2014.4443%2011.0508%2014.544%2011.0898%2014.6353C11.1331%2014.7267%2011.1981%2014.8139%2011.2848%2014.8969L16.3493%2019.643C16.4967%2019.7842%2016.6744%2019.8548%2016.8824%2019.8548C17.0254%2019.8548%2017.1533%2019.8215%2017.266%2019.7551C17.383%2019.6928%2017.4762%2019.6056%2017.5455%2019.4935C17.6149%2019.3855%2017.6496%2019.2651%2017.6496%2019.1323C17.6496%2018.9329%2017.5694%2018.7565%2017.409%2018.6028L12.8451%2014.3364L17.409%2010.0699C17.5694%209.91627%2017.6496%209.74187%2017.6496%209.54672C17.6496%209.40969%2017.6149%209.2872%2017.5455%209.17924C17.4762%209.07128%2017.383%208.98616%2017.266%208.92387C17.1533%208.85744%2017.0254%208.82422%2016.8824%208.82422C16.6744%208.82422%2016.4967%208.89273%2016.3493%209.02976L11.2848%2013.7758C11.1981%2013.8589%2011.1331%2013.9461%2011.0898%2014.0374C11.0508%2014.1288%2011.0312%2014.2284%2011.0312%2014.3364Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/g%3e%3c/svg%3e",VDe=()=>{const[e,t]=z.useState(""),[i,r]=z.useState(!1),[n,a]=z.useState(null),[c,l]=z.useState(""),[o,s]=z.useState(""),[u,d]=z.useState(""),[h,p]=z.useState(""),[m,f]=z.useState(""),[g,v]=z.useState(""),[S,x]=z.useState(""),[b,_]=z.useState(""),[w,C]=z.useState(""),[E,A]=z.useState(""),[T,M]=z.useState("false"),[j,P]=z.useState("false"),[I,k]=z.useState("false"),[R,O]=z.useState("true"),[D,L]=z.useState(!1),[B,F]=z.useState(!0),[H,ee]=z.useState(!1),[U,X]=z.useState(!1),[W,ie]=z.useState(!1),[Q,ae]=z.useState(""),K=zl();Io(Pe=>Pe.userDetails);const[te,ne]=z.useState(null),[ce,pe]=z.useState(!0),ge=()=>{console.log("Started back"),i&&(F(!0),r(!1)),H?(r(!0),ee(!1),ie(!0),console.log(B),console.log(H)):U&&(X(!1),ee(!0),console.log(H),console.log(U))},ue=async()=>{try{if(u.length!=10)throw alert("Please enter phone number first"),new Error("Enter 10 digits in phone number");const Z=(await Rv(Nv,Lv)).user;a(Z);const q={role:"cogni_user",name:Z.displayName,email:Z.email,mobile:u,password:Z.uid,type:"remote"};if(console.log("started try"),u.length!==10)throw p("phone"),new Error("Contact number should be 10 digits");{f("");const Ce=await(await fetch(`${Le}api/session/users/signup/cogni_user`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(q)})).json();if(console.log(Ce),console.log(Ce.message),Ce.message==="Email already registered."){alert("User Already Registered. Please Login");return}const G={email:Z.email,password:Z.uid};try{const ke=await fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(G)});if(ke.ok){const Re=await ke.json();Tl(Re.token),ee(!0),F(!1)}else{const Re=await ke.json();if(console.log(Re.message),Re.message==="Something Went Wrong"){alert(Re.message);return}else Re.message==="Please enter correct credentials."&&(alert("Email already registered"),window.location.href=`${_r}login`)}}catch(ke){console.log(ke)}}}catch(Pe){console.log(Pe)}},Me=async Pe=>{if(Pe.preventDefault(),u.length!==10)throw console.log(u),alert("Phone number must be of 10 digits"),new Error("Contact number should be of 10 digits");if(c.length==0)throw alert("Name can't be empty"),new Error("Name empty");F(!1),r(!0),ie(!0),console.log(u,o,e)},Ae=async Pe=>{if(Pe.preventDefault(),e.length==0&&j=="false")throw console.log("userEmail"),alert("Email cannot be empty"),new Error("Email cannot be empty");if(!e.includes("@")&&j=="false")throw console.log("userEmail"),alert("Email must contain @ symbol"),new Error("Email must contain a @ symbol");if(o.length==0&&I=="false")throw console.log("pwd"),alert("Password cannot be empty"),new Error("Password cannot be empty");if(o.length<8)throw alert("Passoword must be more than 8 digits"),new Error("Password must be more than 8 digits");r(!1),ee(!0)},je=async Pe=>{if(Pe.preventDefault(),g.length==0)throw console.log("collageName"),alert("College name cannot be empty"),new Error("Collage name cannot be empty");if(S=="")throw console.log("collageState"),alert("Collage state cannot be empty"),new Error("Collage state cannot be empty");if(b.length==0)throw console.log("collageCity"),alert("Collage city cannot be empty"),new Error("Collage city cannot be empty");if(w.length==0)throw console.log("branch"),alert("Branch cannot be empty"),new Error("Branch cannot be empty");if(E.length==0)throw console.log("year"),alert("Year cannot be empty"),new Error("Year cannot be empty");ee(!1),X(!0)},Ke=async Pe=>{Pe.preventDefault();const Z={role:"cogni_user",name:c,college:g,state:S,city:b,branch:w,year:E,mobile:u,gender:"M",email:e.toLowerCase(),password:o,type:"remote"};try{fetch(`${Le}api/session/users/signup/cogni_user`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}).then(q=>q.json()).then(async q=>{if(console.log(q.message,q.data,q.status),q.message==="User Registered Successfully."){const fe=await fetch(`${Le}api/session/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}).then(async Ce=>{const G=await Ce.json();Tl(G.token);try{f(""),L(!0);const ke=await fetch(`${Le}api/users`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${G.token} `},body:JSON.stringify(Z)});let Re;Q!=""&&Q!=null&&Q!=null?Re=await fetch(`${Le}api/users/registrationReferalCode`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${G.token} `},body:JSON.stringify({referalCode:Q})}):Re={status:200},ke.status==200&&Re.status==200&&(K(O4(G)),setTimeout(()=>window.location.href=`${_r}dashboard/cogni_user`,1e3))}catch(ke){alert(ke)}})}else if(q.message==="Email already registered.")alert("Email already registered"),window.location.href=`${_r}login`;else{alert("Something went wrong");return}}),console.log("done")}catch(q){console.log(q)}};return y.jsxs("div",{className:"signup-page-container",children:[y.jsx("div",{className:"svg-container-signup"}),y.jsxs("div",{className:"signup-white-container",children:[W&&y.jsx("button",{className:"back-button",children:y.jsx("img",{src:UDe,alt:"",onClick:ge})}),y.jsxs("div",{className:"form-container",children:[y.jsxs("div",{className:"top-text",children:[y.jsx("div",{className:"cogni-symbol",children:y.jsx("span",{children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"53",viewBox:"0 0 54 53",fill:"none",children:[y.jsxs("g",{filter:"url(#filter0_d_236_5924)",children:[y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.6155 26.8607C32.184 24.8524 30.0119 24.3838 30.0119 24.3838C30.0119 24.3838 31.406 25.7561 32.9297 27.8648C34.4534 29.9401 35.5881 32.5843 35.5881 32.5843L38.5059 31.5802C38.4734 31.5467 36.6904 28.5677 34.6155 26.8607Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.5791 28.8354C27.5791 28.8354 26.7038 30.576 25.1801 32.6847C23.6564 34.7599 21.5491 36.6678 21.5491 36.6678L23.3322 39.2452C23.3322 39.2452 25.6015 36.6344 26.6065 34.057C27.7736 31.1115 27.5791 28.8354 27.5791 28.8354Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.7317 26.5255C16.3002 25.7559 13.8687 24.3169 13.8687 24.3169L12.0857 26.8936C12.0857 26.8936 15.2304 28.2322 17.9212 28.3661C21.0335 28.4999 23.0759 27.5964 23.0759 27.5964C23.0759 27.5964 21.1631 27.3287 18.7317 26.5255Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.815 12.5671L19.9297 11.6299C19.9297 11.6299 19.6703 15.0775 20.3836 17.7217C21.194 20.7676 22.6853 22.4747 22.6853 22.4747C22.6853 22.4747 22.3611 20.5668 22.2963 17.956C22.2639 15.3787 22.815 12.5671 22.815 12.5671Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.7222 17.1198C28.0638 18.7934 26.8643 20.7013 26.8643 20.7013C26.8643 20.7013 28.5825 19.831 31.0464 19.0612C33.4778 18.2913 36.2659 18.057 36.2659 18.057L36.3632 14.9777C36.3308 14.9442 33.024 15.6806 30.7222 17.1198Z",fill:"white"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.1266 17.1335C16.8622 13.3177 17.4133 8.69861 17.4133 8.69861L9.85959 7.19238C9.85959 7.19238 8.75732 15.5603 12.2911 20.1124C16.4083 25.401 23.9297 26.3382 23.9297 26.3382C23.9297 26.3382 20.4283 24.0621 18.1266 17.1335Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.8212 4.09961C37.8212 4.09961 29.7163 5.50542 26.5067 10.3253C22.8109 15.8816 24.205 23.5466 24.205 23.5466C24.205 23.5466 25.2748 19.4631 31.0455 15.1118C34.2226 12.7353 38.6965 11.8985 38.6965 11.8985L37.8212 4.09961Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.8965 20.4338C33.6071 18.459 26.9287 22.1074 26.9287 22.1074C26.9287 22.1074 31.046 21.94 36.7842 26.2913C39.9613 28.6678 42.0686 32.8183 42.0686 32.8183L49.0388 29.6385C49.0712 29.672 45.3105 22.1409 39.8965 20.4338Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.111 24.6802C29.111 24.6802 30.5374 28.6298 28.2681 35.5585C27.0361 39.3742 23.859 42.6879 23.859 42.6879L28.884 48.4785C28.884 48.4785 34.6871 42.5206 34.6223 36.7634C34.525 30.0356 29.111 24.6802 29.111 24.6802Z",fill:"#F4144C"}),y.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5889 29.7382C12.6661 29.6712 8.58124 27.5625 8.58124 27.5625L4.75574 34.3238C4.75574 34.3238 12.0826 38.24 17.4318 36.3656C23.6563 34.1899 26.9631 27.1943 26.9631 27.1943C26.9631 27.1943 23.7212 29.8386 16.5889 29.7382Z",fill:"#F4144C"})]}),y.jsx("defs",{children:y.jsxs("filter",{id:"filter0_d_236_5924",x:"0.755737",y:"0.0996094",width:"52.2833",height:"52.3789",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[y.jsx("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),y.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),y.jsx("feOffset",{}),y.jsx("feGaussianBlur",{stdDeviation:"2"}),y.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),y.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),y.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_236_5924"}),y.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_236_5924",result:"shape"})]})})]})})}),y.jsxs("p",{children:["COGNIZANCE",y.jsx("span",{children:"'25"})]}),y.jsx("div",{className:"mobile-border-div"}),y.jsxs("div",{className:"mobile-top-text",children:[y.jsx("p",{children:"aeternitas"}),y.jsx("p",{children:"arcadia"})]})]}),y.jsx("p",{className:"mobile-college-name",children:"COGNIZANCE IIT ROORKEE"}),y.jsxs("div",{className:"timeline-mobile",children:[B&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FD638A"})}),B&&y.jsx("div",{}),B&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.264648 9.28125)",stroke:"white","stroke-width":"0.705855"})}),B&&y.jsx("div",{}),B&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.264648 9.28125)",stroke:"white","stroke-width":"0.705855"})}),H&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FD638A"})}),H&&y.jsx("div",{style:{background:"#FD638A"}}),H&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FD638A"})}),H&&y.jsx("div",{}),H&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.264648 9.28125)",stroke:"white","stroke-width":"0.705855"})}),U&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FD638A"})}),U&&y.jsx("div",{style:{background:"#FD638A"}}),U&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"4.23513",transform:"matrix(1 0 0 -1 0.34668 9.28125)",fill:"#FD638A"})}),U&&y.jsx("div",{style:{background:"#FD638A"}}),U&&y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:y.jsx("circle",{cx:"4.23513",cy:"4.23513",r:"3.8822",transform:"matrix(1 0 0 -1 0.264648 9.28125)",stroke:"white","stroke-width":"0.705855"})})]}),y.jsxs("div",{className:"welcome-back-text",children:[(B||i)&&y.jsx("p",{children:"FILL THE REGISTRATION FORM"}),(B||i)&&y.jsx("p",{children:"To help us know you better"}),H&&y.jsx("p",{children:"COLLEGE INFORMATION"}),H&&y.jsx("p",{children:"To acknowledge the diverse participation from various institutions."}),U&&y.jsx("p",{children:"REFERAL CODE"}),U&&y.jsx("p",{children:"Unlock exclusive benefits for yourself"})]}),y.jsxs("div",{className:"signup-page-form-container",children:[B&&y.jsxs("form",{className:"signup-form",onSubmit:Me,children:[y.jsx("label",{children:"Phone Number"}),y.jsx("input",{type:"text",value:u,name:"phone",onChange:Pe=>d(Pe.target.value)}),y.jsx("label",{children:"Name"}),y.jsx("input",{type:"text",value:c,name:"name",onChange:Pe=>l(Pe.target.value)}),y.jsx("button",{type:"submit",className:"signup-btn",children:"Next"})]}),i&&y.jsxs("form",{className:"signup-form",onSubmit:Ae,children:[y.jsx("label",{children:"Email"}),y.jsx("input",{type:"text",value:e,name:"Email",onChange:Pe=>t(Pe.target.value)}),y.jsx("label",{children:"Password"}),y.jsx("input",{type:"password",value:o,onChange:Pe=>s(Pe.target.value)}),y.jsx("button",{type:"submit",className:"signup-btn",children:"Next"})]}),H&&y.jsxs("form",{className:"signup-form",onSubmit:je,children:[y.jsx("label",{children:"College name"}),y.jsx("input",{type:"text",value:g,name:"collegeName",onChange:Pe=>v(Pe.target.value)}),y.jsxs("div",{className:"register-college-section",children:[y.jsxs("div",{children:[y.jsx("label",{children:"State"}),y.jsxs("select",{type:"text",value:S,onChange:Pe=>x(Pe.target.value),required:!0,children:["   ",y.jsx("option",{value:"default",selected:!0,children:"Select "}),Object.keys(R4).map(Pe=>y.jsx("option",{value:Pe,children:Pe}))]})]}),y.jsxs("div",{children:[y.jsx("label",{children:"City"}),y.jsx("input",{type:"text",name:"collegeCity",onChange:Pe=>_(Pe.target.value)})]})]}),y.jsxs("div",{className:"register-college-section",children:[y.jsxs("div",{children:[y.jsx("label",{children:"Branch"}),y.jsx("input",{type:"text",name:"branch",onChange:Pe=>C(Pe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{children:"Year"}),y.jsxs("select",{name:"year",onChange:Pe=>A(Pe.target.value),required:!0,children:[y.jsx("option",{value:"1",children:"Choose Your Year"}),y.jsx("option",{value:"1",children:"1st Year"}),y.jsx("option",{value:"2",children:"2nd Year"}),y.jsx("option",{value:"3",children:"3rd Year"}),y.jsx("option",{value:"4",children:"4th Year"}),y.jsx("option",{value:"5",children:"5th Year"})]})]})]}),y.jsx("button",{type:"submit",className:"signup-btn",children:"Next"})]}),U&&y.jsxs("form",{className:"signup-form",onSubmit:Ke,children:[y.jsx("label",{children:"Enter referal code(optional) "}),y.jsx("input",{type:"text",value:Q,name:"referal",onChange:Pe=>ae(Pe.target.value)}),y.jsx("button",{type:"submit",className:"signup-btn",children:"Register"})]}),B&&y.jsx("div",{className:"signup-auth-signin-container",children:y.jsxs("button",{onClick:ue,children:[y.jsx("img",{src:rq,alt:""}),"Continue with Google"]})}),y.jsx("div",{className:"create-account-signup",children:y.jsxs(Rt,{to:"/login",children:["Already have an account ",y.jsx("span",{children:"Login"})]})})]})]})]})]})},HDe=()=>{const[e,t]=z.useState([]),[i,r]=z.useState(!0),n=localStorage.getItem("token");return z.useEffect(()=>{r(!0),fetch(`${Le}api/users/notifications`,{method:"GET",headers:{Authorization:`Token ${n}`}}).then(a=>{if(!a.ok)throw new Error("Something went wrong");return a.json()}).then(a=>{console.log(a),t(a.notifications),r(!1)}).catch(a=>{console.error("Error fetching notifications:",a),r(!1)})},[]),y.jsxs("div",{className:"cyberpunk-notifications-container",children:[y.jsxs("div",{className:"cyberpunk-header",children:[y.jsx("div",{className:"header-glitch-effect"}),y.jsxs("h1",{children:["NOTIFICATIONS",y.jsx("span",{className:"blink",children:"_"})]}),y.jsxs("div",{className:"header-decoration",children:[y.jsx("div",{className:"neon-line"}),y.jsx("div",{className:"small-circle"}),y.jsx("div",{className:"neon-line"})]})]}),y.jsx("div",{className:"cyberpunk-content",children:i?y.jsxs("div",{className:"loading-container",children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("p",{children:"Scanning network..."})]}):e.length===0?y.jsxs("div",{className:"no-data",children:[y.jsx("div",{className:"no-data-icon",children:"!"}),y.jsx("p",{children:"NO NEW NOTIFICATIONS DETECTED"}),y.jsx("small",{children:"Terminal idle // Awaiting input"})]}):y.jsx("div",{className:"notification-grid",children:e.map((a,c)=>y.jsxs("div",{className:"notification-card",style:{animationDelay:`${c*.1}s`},children:[y.jsxs("div",{className:"card-header",children:[y.jsx("div",{className:"neon-dot"}),y.jsx("div",{className:"notification-heading",children:a.heading}),y.jsx("div",{className:"timestamp",children:new Date(a.createdAt).toLocaleString()})]}),y.jsx("div",{className:"card-content",children:y.jsx("p",{children:a.content})}),y.jsxs("div",{className:"card-footer",children:[y.jsx("div",{className:"card-line"}),y.jsxs("div",{className:"card-id",children:["ID: ",a.id]}),a.type&&y.jsx("div",{className:"notification-type",children:a.type})]})]},a.id))})})]})};function GDe(){const[e,t]=z.useState([]),[i,r]=z.useState(""),[n,a]=z.useState(""),c="cogni_user",[l,o]=z.useState("info"),s=localStorage.getItem("token");z.useEffect(()=>{fetch(`${Le}api/admin/notifications/`,{method:"GET",headers:{Authorization:`Token ${s}`}}).then(p=>{if(!p.ok)throw new Error("Something went wrong");return p.json()}).then(p=>{console.log(p),t(p.notifications)})},[]),z.useEffect(()=>{console.log(e)},[e]);const u=async()=>{try{const p=await fetch(`${Le}api/admin/notifications`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify({heading:n,content:i,target:c,type:l})});if(!p.ok)throw new Error("Failed to add notification");const m=await p.json();console.log(m),window.location.reload()}catch(p){console.error("Error adding notification:",p)}},d=async p=>{const m=prompt("Enter new notification heading:"),f=prompt("Enter new notification content:");if(m&&f)try{if(!(await fetch(`${Le}api/admin/notifications`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify({notificationId:p,heading:m,content:f,target:c,type:l})})).ok)throw new Error("Failed to update notification");window.location.reload()}catch(g){console.error("Error updating notification:",g)}},h=async p=>{try{if(!(await fetch(`${Le}api/admin/notifications`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify({notificationId:p})})).ok)throw new Error("Failed to delete notification");window.location.reload()}catch(m){console.error("Error deleting notification:",m)}};return y.jsxs("div",{className:"notifications-page",children:[y.jsx("h1",{children:"Manage Notifications"}),y.jsxs("div",{className:"notification-input",children:[y.jsx("input",{type:"text",value:n,onChange:p=>a(p.target.value),placeholder:"Enter Heading"}),y.jsx("input",{type:"text",value:i,onChange:p=>r(p.target.value),placeholder:"Enter content"}),y.jsx("button",{onClick:u,children:"Add"})]}),y.jsx("div",{className:"notifications-list",children:e.length===0?y.jsx("p",{children:"No notifications."}):e.map(p=>y.jsxs("div",{className:"notification-item",children:[y.jsx("p",{children:p.heading}),y.jsx("p",{children:p.content}),y.jsx("small",{children:new Date(p.createdAt).toLocaleString()}),y.jsxs("div",{className:"notification-actions",children:[y.jsx("button",{onClick:()=>d(p.id),children:"Update"}),y.jsx("button",{onClick:()=>h(p.id),children:"Remove"})]})]},p.id))})]})}const WDe=()=>{zl(),Io(w=>w.userDetails);const[e,t]=z.useState(!1),[i,r]=z.useState(1),[n,a]=z.useState([""]),[c,l]=z.useState([""]),[o,s]=z.useState(1),[u,d]=z.useState(0),[h,p]=z.useState([]),[m,f]=z.useState(!1);z.useEffect(()=>{e?(r(1),a([""]),l([""])):(r(1),a([""]),l([""]))},[e]),z.useEffect(()=>{fetch(`${Le}api/users/events/registered`,{method:"GET",headers:{Authorization:`Token ${tt()}`,Accept:"application/json","Content-Type":"application/json"}}).then(w=>w.json()).then(w=>p([...w.events])).catch(w=>console.log(w))},[]),z.useEffect(()=>{if(i>0){const w=[...n],C=[...c];for(;w.length<i;)w.push(""),C.push("");w.length>i&&(w.length=i,C.length=i),a(w),l(C)}},[i]);function g(){const w=new Uint32Array(1);return window.crypto.getRandomValues(w),w[0].toString(36)}const v=w=>{const C=parseInt(w.target.value);r(C),f(!1)},S=(w,C)=>{const E=[...n];E[w]=C,a(E)},x=()=>{let w=o*(e?i:1);d(w),f(!0)},b=async()=>{let w=n.join(","),C=g(),A=h.filter(M=>M.type!=="workshop").map(M=>M.id).join(","),T={amount:`${u.toFixed(2)}`,txnid:C,udf1:w,udf2:A,udf3:"Event"};try{let j=await(await fetch(`${Le}api/initiate_payment/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(T)})).json();j.payment_url&&(window.location.href=j.payment_url)}catch(M){console.error(M)}},_=()=>{t(!e),f(!1)};return y.jsx("div",{className:"cyberpunk-container",children:y.jsxs("div",{className:"cyberpunk-card",children:[y.jsxs("div",{className:"card-left",children:[y.jsx("h2",{className:"card-title",children:e?"Enter Team details":"Enter Your details"}),y.jsx("p",{className:"card-subtitle",children:"Fill in the required details to book your seat at Cognizance 2025"}),e&&y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Number of Team Members"}),y.jsx("div",{className:"input-wrapper",children:y.jsx("input",{type:"number",value:i,onChange:v,min:"1",className:"cyberpunk-input"})})]}),y.jsx("div",{className:"user-inputs",children:n.map((w,C)=>y.jsx("div",{children:y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:["Cogni ID ",e?`(Member ${C+1})`:""]}),y.jsx("input",{value:w,onChange:E=>S(C,E.target.value),placeholder:"Enter Cogni ID",className:"cyberpunk-input"})]})},`member-${C}`))}),y.jsx("button",{type:"button",onClick:x,className:"cyberpunk-button calculate-button",children:"Calculate the Amount"}),y.jsx("button",{type:"button",onClick:_,className:"team-registration-button",children:e?"Register as Individual":"Register as a Team"}),m&&y.jsxs("div",{className:"payment-details",children:[y.jsxs("p",{children:["Total Payable Amount: ",u.toFixed(2)]}),y.jsx("button",{type:"button",onClick:b,className:"cyberpunk-button submit-button",children:"Proceed to Payment"})]})]}),y.jsx("div",{className:"card-right",children:y.jsx("div",{className:"cyberpunk-image"})})]})})};function qDe(){return z.useEffect(()=>{window.location.href="https://forms.gle/QB16y5ZQwz22FhAQ7"},[]),null}function YDe(){return setInterval(()=>{},0),y.jsx(sX,{children:y.jsxs(nX,{children:[y.jsx(_t,{path:"3dcard",element:y.jsx(iq,{})}),y.jsx(_t,{path:"/landing",element:y.jsx(fN,{})}),y.jsx(_t,{path:"new-login",element:y.jsx(Xte,{})}),y.jsx(_t,{path:"new-register",element:y.jsx(Qte,{})}),y.jsx(_t,{path:"results",element:y.jsx(a$,{})}),y.jsx(_t,{path:"login",element:y.jsx(FDe,{})}),y.jsx(_t,{path:"payment",element:y.jsx(WDe,{})}),y.jsx(_t,{path:"register",element:y.jsx(VDe,{})}),y.jsx(_t,{path:"notifications",element:y.jsx(HDe,{})}),y.jsxs(_t,{path:"/",element:y.jsxs(y.Fragment,{children:[y.jsx(r$,{}),y.jsx(dB,{})]}),children:[y.jsx(_t,{path:"/",element:y.jsx(fN,{})}),y.jsx(_t,{path:"newSecondaryForm",element:y.jsx(RDe,{})}),y.jsx(_t,{path:"gauth",element:y.jsx(Kte,{})}),y.jsx(_t,{path:"gallery",element:y.jsx(IDe,{})}),y.jsx(_t,{path:"events",element:y.jsx(h$,{})}),y.jsx(_t,{path:"workshops",element:y.jsx(m$,{})}),y.jsx(_t,{path:"sponsors",element:y.jsx(Jke,{})}),y.jsx(_t,{path:"events/:type/:categoryId/:eventId",element:y.jsx(oie,{})}),y.jsx(_t,{path:"/guestpopup/:id",element:y.jsx(l$,{})}),y.jsx(_t,{path:"/resetpass",element:y.jsx(Gke,{})}),y.jsx(_t,{path:"workshops/:workshopId",element:y.jsx(Wke,{})}),y.jsx(_t,{path:"dashboard/cogni_user",element:y.jsx(cie,{})}),y.jsx(_t,{path:"team",element:y.jsx(rDe,{})})]}),y.jsxs(_t,{path:"/members",element:y.jsx(qX,{}),children:[y.jsx(_t,{path:"login",element:y.jsx(jK,{})}),y.jsxs(_t,{path:"dashboard",children:[y.jsx(_t,{path:"admin",element:y.jsx(dX,{})}),y.jsx(_t,{path:"promotions_admin",element:y.jsx(EX,{})}),y.jsx(_t,{path:"workshops_admin",element:y.jsx(DX,{})}),y.jsx(_t,{path:"controls_admin",element:y.jsx(TX,{})}),y.jsx(_t,{path:"events_admin",element:y.jsx(WX,{})}),y.jsx(_t,{path:"ca_admin",element:y.jsx(CQ,{})}),y.jsx(_t,{path:"security_admin",element:y.jsx(ODe,{})}),y.jsx(_t,{path:"notification_admin",element:y.jsx(GDe,{})})]})]}),y.jsx(_t,{path:"/ca",element:y.jsx(RQ,{}),children:y.jsxs(_t,{path:"/ca",element:y.jsx(OQ,{}),children:[y.jsx(_t,{path:"register",element:y.jsx(qDe,{})}),y.jsx(_t,{path:"login",element:y.jsx(LQ,{})}),y.jsx(_t,{path:"secondary_form",element:y.jsx(pz,{})})]})}),y.jsx(_t,{path:"/ca/resetpassCA",element:y.jsx(BDe,{})}),y.jsx(_t,{path:"/ca/dashboard",element:y.jsx(XQ,{})}),y.jsx(_t,{path:"*",element:y.jsx(NQ,{})}),y.jsx(_t,{path:"/t&c",element:y.jsx(Qke,{})}),y.jsx(_t,{path:"/shipping&delivery",element:y.jsx(zDe,{})}),y.jsx(_t,{path:"/privacypolicy",element:y.jsx(NDe,{})}),y.jsx(_t,{path:"/cancel&refund",element:y.jsx(LDe,{})})]})})}const KDe=xJ({reducer:{userDetails:sie,SPPAdminSidebarOption:EJ,SPPUserSidebar:DQ,sppDetails:BQ,SPPUserDashSidebar:GQ,carousel:hre}}),XDe=BC.createRoot(document.getElementById("root"));XDe.render(y.jsx(pQ,{store:KDe,children:y.jsx(YDe,{})}));export{vN as c,yN as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
